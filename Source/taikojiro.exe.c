typedef unsigned char   undefined;

typedef unsigned long long    GUID;
typedef pointer32 ImageBaseOffset32;

typedef unsigned char    byte;
typedef unsigned int    dword;
float10
typedef long long    longlong;
typedef unsigned char    uchar;
typedef unsigned int    uint;
typedef unsigned long    ulong;
typedef unsigned long long    ulonglong;
typedef unsigned char    undefined1;
typedef unsigned short    undefined2;
typedef unsigned int    undefined4;
typedef unsigned long long    undefined8;
typedef unsigned short    ushort;
typedef unsigned short    wchar16;
typedef short    wchar_t;
typedef unsigned short    word;
typedef union IMAGE_RESOURCE_DIRECTORY_ENTRY_DirectoryUnion IMAGE_RESOURCE_DIRECTORY_ENTRY_DirectoryUnion, *PIMAGE_RESOURCE_DIRECTORY_ENTRY_DirectoryUnion;

typedef struct IMAGE_RESOURCE_DIRECTORY_ENTRY_DirectoryStruct IMAGE_RESOURCE_DIRECTORY_ENTRY_DirectoryStruct, *PIMAGE_RESOURCE_DIRECTORY_ENTRY_DirectoryStruct;

struct IMAGE_RESOURCE_DIRECTORY_ENTRY_DirectoryStruct {
    dword OffsetToDirectory;
    dword DataIsDirectory;
};

union IMAGE_RESOURCE_DIRECTORY_ENTRY_DirectoryUnion {
    dword OffsetToData;
    struct IMAGE_RESOURCE_DIRECTORY_ENTRY_DirectoryStruct IMAGE_RESOURCE_DIRECTORY_ENTRY_DirectoryStruct;
};

typedef struct CLIENT_ID CLIENT_ID, *PCLIENT_ID;

struct CLIENT_ID {
    void * UniqueProcess;
    void * UniqueThread;
};

typedef struct _OVERLAPPED _OVERLAPPED, *P_OVERLAPPED;

typedef ulong ULONG_PTR;

typedef union _union_518 _union_518, *P_union_518;

typedef void * HANDLE;

typedef struct _struct_519 _struct_519, *P_struct_519;

typedef void * PVOID;

typedef ulong DWORD;

struct _struct_519 {
    DWORD Offset;
    DWORD OffsetHigh;
};

union _union_518 {
    struct _struct_519 s;
    PVOID Pointer;
};

struct _OVERLAPPED {
    ULONG_PTR Internal;
    ULONG_PTR InternalHigh;
    union _union_518 u;
    HANDLE hEvent;
};

typedef struct _SECURITY_ATTRIBUTES _SECURITY_ATTRIBUTES, *P_SECURITY_ATTRIBUTES;

typedef void * LPVOID;

typedef int BOOL;

struct _SECURITY_ATTRIBUTES {
    DWORD nLength;
    LPVOID lpSecurityDescriptor;
    BOOL bInheritHandle;
};

typedef struct _STARTUPINFOW _STARTUPINFOW, *P_STARTUPINFOW;

typedef wchar_t WCHAR;

typedef WCHAR * LPWSTR;

typedef ushort WORD;

typedef uchar BYTE;

typedef BYTE * LPBYTE;

struct _STARTUPINFOW {
    DWORD cb;
    LPWSTR lpReserved;
    LPWSTR lpDesktop;
    LPWSTR lpTitle;
    DWORD dwX;
    DWORD dwY;
    DWORD dwXSize;
    DWORD dwYSize;
    DWORD dwXCountChars;
    DWORD dwYCountChars;
    DWORD dwFillAttribute;
    DWORD dwFlags;
    WORD wShowWindow;
    WORD cbReserved2;
    LPBYTE lpReserved2;
    HANDLE hStdInput;
    HANDLE hStdOutput;
    HANDLE hStdError;
};

typedef struct _STARTUPINFOW * LPSTARTUPINFOW;

typedef struct _WIN32_FIND_DATAA _WIN32_FIND_DATAA, *P_WIN32_FIND_DATAA;

typedef struct _FILETIME _FILETIME, *P_FILETIME;

typedef struct _FILETIME FILETIME;

typedef char CHAR;

struct _FILETIME {
    DWORD dwLowDateTime;
    DWORD dwHighDateTime;
};

struct _WIN32_FIND_DATAA {
    DWORD dwFileAttributes;
    FILETIME ftCreationTime;
    FILETIME ftLastAccessTime;
    FILETIME ftLastWriteTime;
    DWORD nFileSizeHigh;
    DWORD nFileSizeLow;
    DWORD dwReserved0;
    DWORD dwReserved1;
    CHAR cFileName[260];
    CHAR cAlternateFileName[14];
};

typedef struct _OVERLAPPED * LPOVERLAPPED;

typedef struct _SECURITY_ATTRIBUTES * LPSECURITY_ATTRIBUTES;

typedef struct _STARTUPINFOA _STARTUPINFOA, *P_STARTUPINFOA;

typedef CHAR * LPSTR;

struct _STARTUPINFOA {
    DWORD cb;
    LPSTR lpReserved;
    LPSTR lpDesktop;
    LPSTR lpTitle;
    DWORD dwX;
    DWORD dwY;
    DWORD dwXSize;
    DWORD dwYSize;
    DWORD dwXCountChars;
    DWORD dwYCountChars;
    DWORD dwFillAttribute;
    DWORD dwFlags;
    WORD wShowWindow;
    WORD cbReserved2;
    LPBYTE lpReserved2;
    HANDLE hStdInput;
    HANDLE hStdOutput;
    HANDLE hStdError;
};

typedef struct _PROCESS_INFORMATION _PROCESS_INFORMATION, *P_PROCESS_INFORMATION;

struct _PROCESS_INFORMATION {
    HANDLE hProcess;
    HANDLE hThread;
    DWORD dwProcessId;
    DWORD dwThreadId;
};

typedef struct _WIN32_FIND_DATAA * LPWIN32_FIND_DATAA;

typedef struct _STARTUPINFOA * LPSTARTUPINFOA;

typedef struct _PROCESS_INFORMATION * LPPROCESS_INFORMATION;

typedef long LONG;

typedef struct _EXCEPTION_POINTERS _EXCEPTION_POINTERS, *P_EXCEPTION_POINTERS;

typedef LONG (* PTOP_LEVEL_EXCEPTION_FILTER)(struct _EXCEPTION_POINTERS *);

typedef struct _EXCEPTION_RECORD _EXCEPTION_RECORD, *P_EXCEPTION_RECORD;

typedef struct _EXCEPTION_RECORD EXCEPTION_RECORD;

typedef EXCEPTION_RECORD * PEXCEPTION_RECORD;

typedef struct _CONTEXT _CONTEXT, *P_CONTEXT;

typedef struct _CONTEXT CONTEXT;

typedef CONTEXT * PCONTEXT;

typedef struct _FLOATING_SAVE_AREA _FLOATING_SAVE_AREA, *P_FLOATING_SAVE_AREA;

typedef struct _FLOATING_SAVE_AREA FLOATING_SAVE_AREA;

struct _FLOATING_SAVE_AREA {
    DWORD ControlWord;
    DWORD StatusWord;
    DWORD TagWord;
    DWORD ErrorOffset;
    DWORD ErrorSelector;
    DWORD DataOffset;
    DWORD DataSelector;
    BYTE RegisterArea[80];
    DWORD Cr0NpxState;
};

struct _CONTEXT {
    DWORD ContextFlags;
    DWORD Dr0;
    DWORD Dr1;
    DWORD Dr2;
    DWORD Dr3;
    DWORD Dr6;
    DWORD Dr7;
    FLOATING_SAVE_AREA FloatSave;
    DWORD SegGs;
    DWORD SegFs;
    DWORD SegEs;
    DWORD SegDs;
    DWORD Edi;
    DWORD Esi;
    DWORD Ebx;
    DWORD Edx;
    DWORD Ecx;
    DWORD Eax;
    DWORD Ebp;
    DWORD Eip;
    DWORD SegCs;
    DWORD EFlags;
    DWORD Esp;
    DWORD SegSs;
    BYTE ExtendedRegisters[512];
};

struct _EXCEPTION_RECORD {
    DWORD ExceptionCode;
    DWORD ExceptionFlags;
    struct _EXCEPTION_RECORD * ExceptionRecord;
    PVOID ExceptionAddress;
    DWORD NumberParameters;
    ULONG_PTR ExceptionInformation[15];
};

struct _EXCEPTION_POINTERS {
    PEXCEPTION_RECORD ExceptionRecord;
    PCONTEXT ContextRecord;
};

typedef PTOP_LEVEL_EXCEPTION_FILTER LPTOP_LEVEL_EXCEPTION_FILTER;

typedef struct _iobuf _iobuf, *P_iobuf;

typedef struct _iobuf FILE;

struct _iobuf {
    char * _ptr;
    int _cnt;
    char * _base;
    int _flag;
    int _file;
    int _charbuf;
    int _bufsiz;
    char * _tmpfname;
};

typedef uint uintptr_t;

typedef struct tagOFNA tagOFNA, *PtagOFNA;

typedef struct tagOFNA * LPOPENFILENAMEA;

typedef struct HWND__ HWND__, *PHWND__;

typedef struct HWND__ * HWND;

typedef struct HINSTANCE__ HINSTANCE__, *PHINSTANCE__;

typedef struct HINSTANCE__ * HINSTANCE;

typedef CHAR * LPCSTR;

typedef long LONG_PTR;

typedef LONG_PTR LPARAM;

typedef uint UINT_PTR;

typedef uint UINT;

typedef UINT_PTR WPARAM;

typedef UINT_PTR (* LPOFNHOOKPROC)(HWND, UINT, WPARAM, LPARAM);

struct tagOFNA {
    DWORD lStructSize;
    HWND hwndOwner;
    HINSTANCE hInstance;
    LPCSTR lpstrFilter;
    LPSTR lpstrCustomFilter;
    DWORD nMaxCustFilter;
    DWORD nFilterIndex;
    LPSTR lpstrFile;
    DWORD nMaxFile;
    LPSTR lpstrFileTitle;
    DWORD nMaxFileTitle;
    LPCSTR lpstrInitialDir;
    LPCSTR lpstrTitle;
    DWORD Flags;
    WORD nFileOffset;
    WORD nFileExtension;
    LPCSTR lpstrDefExt;
    LPARAM lCustData;
    LPOFNHOOKPROC lpfnHook;
    LPCSTR lpTemplateName;
    void * pvReserved;
    DWORD dwReserved;
    DWORD FlagsEx;
};

struct HINSTANCE__ {
    int unused;
};

struct HWND__ {
    int unused;
};

typedef longlong __time64_t;

typedef uint size_t;

typedef int errno_t;

typedef size_t rsize_t;

typedef struct _startupinfo _startupinfo, *P_startupinfo;

struct _startupinfo {
    int newmode;
};

typedef struct tagWNDCLASSA tagWNDCLASSA, *PtagWNDCLASSA;

typedef LONG_PTR LRESULT;

typedef LRESULT (* WNDPROC)(HWND, UINT, WPARAM, LPARAM);

typedef struct HICON__ HICON__, *PHICON__;

typedef struct HICON__ * HICON;

typedef HICON HCURSOR;

typedef struct HBRUSH__ HBRUSH__, *PHBRUSH__;

typedef struct HBRUSH__ * HBRUSH;

struct HBRUSH__ {
    int unused;
};

struct tagWNDCLASSA {
    UINT style;
    WNDPROC lpfnWndProc;
    int cbClsExtra;
    int cbWndExtra;
    HINSTANCE hInstance;
    HICON hIcon;
    HCURSOR hCursor;
    HBRUSH hbrBackground;
    LPCSTR lpszMenuName;
    LPCSTR lpszClassName;
};

struct HICON__ {
    int unused;
};

typedef struct tagMSG tagMSG, *PtagMSG;

typedef struct tagMSG MSG;

typedef struct tagPOINT tagPOINT, *PtagPOINT;

typedef struct tagPOINT POINT;

struct tagPOINT {
    LONG x;
    LONG y;
};

struct tagMSG {
    HWND hwnd;
    UINT message;
    WPARAM wParam;
    LPARAM lParam;
    DWORD time;
    POINT pt;
};

typedef struct tagMSG * LPMSG;

typedef struct tagWNDCLASSA WNDCLASSA;

typedef struct tagPAINTSTRUCT tagPAINTSTRUCT, *PtagPAINTSTRUCT;

typedef struct tagPAINTSTRUCT * LPPAINTSTRUCT;

typedef struct HDC__ HDC__, *PHDC__;

typedef struct HDC__ * HDC;

typedef struct tagRECT tagRECT, *PtagRECT;

typedef struct tagRECT RECT;

struct HDC__ {
    int unused;
};

struct tagRECT {
    LONG left;
    LONG top;
    LONG right;
    LONG bottom;
};

struct tagPAINTSTRUCT {
    HDC hdc;
    BOOL fErase;
    RECT rcPaint;
    BOOL fRestore;
    BOOL fIncUpdate;
    BYTE rgbReserved[32];
};

typedef struct tagPAINTSTRUCT PAINTSTRUCT;

typedef struct tagBITMAPINFO tagBITMAPINFO, *PtagBITMAPINFO;

typedef struct tagBITMAPINFOHEADER tagBITMAPINFOHEADER, *PtagBITMAPINFOHEADER;

typedef struct tagBITMAPINFOHEADER BITMAPINFOHEADER;

typedef struct tagRGBQUAD tagRGBQUAD, *PtagRGBQUAD;

typedef struct tagRGBQUAD RGBQUAD;

struct tagBITMAPINFOHEADER {
    DWORD biSize;
    LONG biWidth;
    LONG biHeight;
    WORD biPlanes;
    WORD biBitCount;
    DWORD biCompression;
    DWORD biSizeImage;
    LONG biXPelsPerMeter;
    LONG biYPelsPerMeter;
    DWORD biClrUsed;
    DWORD biClrImportant;
};

struct tagRGBQUAD {
    BYTE rgbBlue;
    BYTE rgbGreen;
    BYTE rgbRed;
    BYTE rgbReserved;
};

struct tagBITMAPINFO {
    BITMAPINFOHEADER bmiHeader;
    RGBQUAD bmiColors[1];
};

typedef struct _devicemodeA _devicemodeA, *P_devicemodeA;

typedef union _union_655 _union_655, *P_union_655;

typedef union _union_658 _union_658, *P_union_658;

typedef struct _struct_656 _struct_656, *P_struct_656;

typedef struct _struct_657 _struct_657, *P_struct_657;

typedef struct _POINTL _POINTL, *P_POINTL;

typedef struct _POINTL POINTL;

struct _POINTL {
    LONG x;
    LONG y;
};

struct _struct_657 {
    POINTL dmPosition;
    DWORD dmDisplayOrientation;
    DWORD dmDisplayFixedOutput;
};

struct _struct_656 {
    short dmOrientation;
    short dmPaperSize;
    short dmPaperLength;
    short dmPaperWidth;
    short dmScale;
    short dmCopies;
    short dmDefaultSource;
    short dmPrintQuality;
};

union _union_655 {
    struct _struct_656 field0;
    struct _struct_657 field1;
};

union _union_658 {
    DWORD dmDisplayFlags;
    DWORD dmNup;
};

struct _devicemodeA {
    BYTE dmDeviceName[32];
    WORD dmSpecVersion;
    WORD dmDriverVersion;
    WORD dmSize;
    WORD dmDriverExtra;
    DWORD dmFields;
    union _union_655 field6_0x2c;
    short dmColor;
    short dmDuplex;
    short dmYResolution;
    short dmTTOption;
    short dmCollate;
    BYTE dmFormName[32];
    WORD dmLogPixels;
    DWORD dmBitsPerPel;
    DWORD dmPelsWidth;
    DWORD dmPelsHeight;
    union _union_658 field17_0x74;
    DWORD dmDisplayFrequency;
    DWORD dmICMMethod;
    DWORD dmICMIntent;
    DWORD dmMediaType;
    DWORD dmDitherType;
    DWORD dmReserved1;
    DWORD dmReserved2;
    DWORD dmPanningWidth;
    DWORD dmPanningHeight;
};

typedef struct tagBITMAPINFO BITMAPINFO;

typedef struct _devicemodeA DEVMODEA;

typedef union _LARGE_INTEGER _LARGE_INTEGER, *P_LARGE_INTEGER;

typedef struct _struct_19 _struct_19, *P_struct_19;

typedef struct _struct_20 _struct_20, *P_struct_20;

typedef double LONGLONG;

struct _struct_20 {
    DWORD LowPart;
    LONG HighPart;
};

struct _struct_19 {
    DWORD LowPart;
    LONG HighPart;
};

union _LARGE_INTEGER {
    struct _struct_19 s;
    struct _struct_20 u;
    LONGLONG QuadPart;
};

typedef union _LARGE_INTEGER LARGE_INTEGER;

typedef enum _HEAP_INFORMATION_CLASS {
    HeapCompatibilityInformation=0,
    HeapEnableTerminationOnCorruption=1
} _HEAP_INFORMATION_CLASS;

typedef enum _HEAP_INFORMATION_CLASS HEAP_INFORMATION_CLASS;

typedef struct _IMAGE_SECTION_HEADER _IMAGE_SECTION_HEADER, *P_IMAGE_SECTION_HEADER;

typedef union _union_226 _union_226, *P_union_226;

union _union_226 {
    DWORD PhysicalAddress;
    DWORD VirtualSize;
};

struct _IMAGE_SECTION_HEADER {
    BYTE Name[8];
    union _union_226 Misc;
    DWORD VirtualAddress;
    DWORD SizeOfRawData;
    DWORD PointerToRawData;
    DWORD PointerToRelocations;
    DWORD PointerToLinenumbers;
    WORD NumberOfRelocations;
    WORD NumberOfLinenumbers;
    DWORD Characteristics;
};

typedef struct _IMAGE_SECTION_HEADER * PIMAGE_SECTION_HEADER;

typedef short SHORT;

typedef struct IMAGE_DOS_HEADER IMAGE_DOS_HEADER, *PIMAGE_DOS_HEADER;

struct IMAGE_DOS_HEADER {
    char e_magic[2]; // Magic number
    word e_cblp; // Bytes of last page
    word e_cp; // Pages in file
    word e_crlc; // Relocations
    word e_cparhdr; // Size of header in paragraphs
    word e_minalloc; // Minimum extra paragraphs needed
    word e_maxalloc; // Maximum extra paragraphs needed
    word e_ss; // Initial (relative) SS value
    word e_sp; // Initial SP value
    word e_csum; // Checksum
    word e_ip; // Initial IP value
    word e_cs; // Initial (relative) CS value
    word e_lfarlc; // File address of relocation table
    word e_ovno; // Overlay number
    word e_res[4][4]; // Reserved words
    word e_oemid; // OEM identifier (for e_oeminfo)
    word e_oeminfo; // OEM information; e_oemid specific
    word e_res2[10][10]; // Reserved words
    dword e_lfanew; // File address of new exe header
    byte e_program[64]; // Actual DOS program
};

typedef ULONG_PTR DWORD_PTR;

typedef ULONG_PTR SIZE_T;

typedef struct tagPOINT * LPPOINT;

typedef struct HFONT__ HFONT__, *PHFONT__;

struct HFONT__ {
    int unused;
};

typedef struct tagSIZE tagSIZE, *PtagSIZE;

struct tagSIZE {
    LONG cx;
    LONG cy;
};

typedef HINSTANCE HMODULE;

typedef struct HBITMAP__ HBITMAP__, *PHBITMAP__;

struct HBITMAP__ {
    int unused;
};

typedef struct HPEN__ HPEN__, *PHPEN__;

struct HPEN__ {
    int unused;
};

typedef WORD ATOM;

typedef struct tagRECT * LPRECT;

typedef void * HGDIOBJ;

typedef struct HBITMAP__ * HBITMAP;

typedef DWORD COLORREF;

typedef struct HFONT__ * HFONT;

typedef DWORD * LPDWORD;

typedef struct HPEN__ * HPEN;

typedef struct tagSIZE * LPSIZE;

typedef struct HMENU__ HMENU__, *PHMENU__;

typedef struct HMENU__ * HMENU;

struct HMENU__ {
    int unused;
};

typedef struct _FILETIME * LPFILETIME;

typedef int INT;

typedef BYTE * PBYTE;

typedef void * LPCVOID;

typedef struct IMAGE_OPTIONAL_HEADER32 IMAGE_OPTIONAL_HEADER32, *PIMAGE_OPTIONAL_HEADER32;

typedef struct IMAGE_DATA_DIRECTORY IMAGE_DATA_DIRECTORY, *PIMAGE_DATA_DIRECTORY;

struct IMAGE_DATA_DIRECTORY {
    ImageBaseOffset32 VirtualAddress;
    dword Size;
};

struct IMAGE_OPTIONAL_HEADER32 {
    word Magic;
    byte MajorLinkerVersion;
    byte MinorLinkerVersion;
    dword SizeOfCode;
    dword SizeOfInitializedData;
    dword SizeOfUninitializedData;
    ImageBaseOffset32 AddressOfEntryPoint;
    ImageBaseOffset32 BaseOfCode;
    ImageBaseOffset32 BaseOfData;
    pointer32 ImageBase;
    dword SectionAlignment;
    dword FileAlignment;
    word MajorOperatingSystemVersion;
    word MinorOperatingSystemVersion;
    word MajorImageVersion;
    word MinorImageVersion;
    word MajorSubsystemVersion;
    word MinorSubsystemVersion;
    dword Win32VersionValue;
    dword SizeOfImage;
    dword SizeOfHeaders;
    dword CheckSum;
    word Subsystem;
    word DllCharacteristics;
    dword SizeOfStackReserve;
    dword SizeOfStackCommit;
    dword SizeOfHeapReserve;
    dword SizeOfHeapCommit;
    dword LoaderFlags;
    dword NumberOfRvaAndSizes;
    struct IMAGE_DATA_DIRECTORY DataDirectory[16];
};

typedef struct IMAGE_RESOURCE_DIRECTORY_ENTRY_NameStruct IMAGE_RESOURCE_DIRECTORY_ENTRY_NameStruct, *PIMAGE_RESOURCE_DIRECTORY_ENTRY_NameStruct;

struct IMAGE_RESOURCE_DIRECTORY_ENTRY_NameStruct {
    dword NameOffset;
    dword NameIsString;
};

typedef struct IMAGE_FILE_HEADER IMAGE_FILE_HEADER, *PIMAGE_FILE_HEADER;

struct IMAGE_FILE_HEADER {
    word Machine; // 332
    word NumberOfSections;
    dword TimeDateStamp;
    dword PointerToSymbolTable;
    dword NumberOfSymbols;
    word SizeOfOptionalHeader;
    word Characteristics;
};

typedef struct IMAGE_NT_HEADERS32 IMAGE_NT_HEADERS32, *PIMAGE_NT_HEADERS32;

struct IMAGE_NT_HEADERS32 {
    char Signature[4];
    struct IMAGE_FILE_HEADER FileHeader;
    struct IMAGE_OPTIONAL_HEADER32 OptionalHeader;
};

typedef struct IMAGE_RESOURCE_DIR_STRING_U_16 IMAGE_RESOURCE_DIR_STRING_U_16, *PIMAGE_RESOURCE_DIR_STRING_U_16;

struct IMAGE_RESOURCE_DIR_STRING_U_16 {
    word Length;
    wchar16 NameString[8];
};

typedef union IMAGE_RESOURCE_DIRECTORY_ENTRY IMAGE_RESOURCE_DIRECTORY_ENTRY, *PIMAGE_RESOURCE_DIRECTORY_ENTRY;

typedef union IMAGE_RESOURCE_DIRECTORY_ENTRY_NameUnion IMAGE_RESOURCE_DIRECTORY_ENTRY_NameUnion, *PIMAGE_RESOURCE_DIRECTORY_ENTRY_NameUnion;

union IMAGE_RESOURCE_DIRECTORY_ENTRY_NameUnion {
    struct IMAGE_RESOURCE_DIRECTORY_ENTRY_NameStruct IMAGE_RESOURCE_DIRECTORY_ENTRY_NameStruct;
    dword Name;
    word Id;
};

union IMAGE_RESOURCE_DIRECTORY_ENTRY {
    union IMAGE_RESOURCE_DIRECTORY_ENTRY_NameUnion NameUnion;
    union IMAGE_RESOURCE_DIRECTORY_ENTRY_DirectoryUnion DirectoryUnion;
};

typedef struct IMAGE_SECTION_HEADER IMAGE_SECTION_HEADER, *PIMAGE_SECTION_HEADER;

typedef union Misc Misc, *PMisc;

typedef enum SectionFlags {
    IMAGE_SCN_TYPE_NO_PAD=8,
    IMAGE_SCN_RESERVED_0001=16,
    IMAGE_SCN_CNT_CODE=32,
    IMAGE_SCN_CNT_INITIALIZED_DATA=64,
    IMAGE_SCN_CNT_UNINITIALIZED_DATA=128,
    IMAGE_SCN_LNK_OTHER=256,
    IMAGE_SCN_LNK_INFO=512,
    IMAGE_SCN_RESERVED_0040=1024,
    IMAGE_SCN_LNK_REMOVE=2048,
    IMAGE_SCN_LNK_COMDAT=4096,
    IMAGE_SCN_GPREL=32768,
    IMAGE_SCN_MEM_16BIT=131072,
    IMAGE_SCN_MEM_PURGEABLE=131072,
    IMAGE_SCN_MEM_LOCKED=262144,
    IMAGE_SCN_MEM_PRELOAD=524288,
    IMAGE_SCN_ALIGN_1BYTES=1048576,
    IMAGE_SCN_ALIGN_2BYTES=2097152,
    IMAGE_SCN_ALIGN_4BYTES=3145728,
    IMAGE_SCN_ALIGN_8BYTES=4194304,
    IMAGE_SCN_ALIGN_16BYTES=5242880,
    IMAGE_SCN_ALIGN_32BYTES=6291456,
    IMAGE_SCN_ALIGN_64BYTES=7340032,
    IMAGE_SCN_ALIGN_128BYTES=8388608,
    IMAGE_SCN_ALIGN_256BYTES=9437184,
    IMAGE_SCN_ALIGN_512BYTES=10485760,
    IMAGE_SCN_ALIGN_1024BYTES=11534336,
    IMAGE_SCN_ALIGN_2048BYTES=12582912,
    IMAGE_SCN_ALIGN_4096BYTES=13631488,
    IMAGE_SCN_ALIGN_8192BYTES=14680064,
    IMAGE_SCN_LNK_NRELOC_OVFL=16777216,
    IMAGE_SCN_MEM_DISCARDABLE=33554432,
    IMAGE_SCN_MEM_NOT_CACHED=67108864,
    IMAGE_SCN_MEM_NOT_PAGED=134217728,
    IMAGE_SCN_MEM_SHARED=268435456,
    IMAGE_SCN_MEM_EXECUTE=536870912,
    IMAGE_SCN_MEM_READ=1073741824,
    IMAGE_SCN_MEM_WRITE=2147483648
} SectionFlags;

union Misc {
    dword PhysicalAddress;
    dword VirtualSize;
};

struct IMAGE_SECTION_HEADER {
    char Name[8];
    union Misc Misc;
    ImageBaseOffset32 VirtualAddress;
    dword SizeOfRawData;
    dword PointerToRawData;
    dword PointerToRelocations;
    dword PointerToLinenumbers;
    word NumberOfRelocations;
    word NumberOfLinenumbers;
    enum SectionFlags Characteristics;
};

typedef struct IMAGE_RESOURCE_DATA_ENTRY IMAGE_RESOURCE_DATA_ENTRY, *PIMAGE_RESOURCE_DATA_ENTRY;

struct IMAGE_RESOURCE_DATA_ENTRY {
    dword OffsetToData;
    dword Size;
    dword CodePage;
    dword Reserved;
};

typedef struct IMAGE_RESOURCE_DIRECTORY IMAGE_RESOURCE_DIRECTORY, *PIMAGE_RESOURCE_DIRECTORY;

struct IMAGE_RESOURCE_DIRECTORY {
    dword Characteristics;
    dword TimeDateStamp;
    word MajorVersion;
    word MinorVersion;
    word NumberOfNamedEntries;
    word NumberOfIdEntries;
};

typedef struct IMAGE_LOAD_CONFIG_DIRECTORY32 IMAGE_LOAD_CONFIG_DIRECTORY32, *PIMAGE_LOAD_CONFIG_DIRECTORY32;

struct IMAGE_LOAD_CONFIG_DIRECTORY32 {
    dword Size;
    dword TimeDateStamp;
    word MajorVersion;
    word MinorVersion;
    dword GlobalFlagsClear;
    dword GlobalFlagsSet;
    dword CriticalSectionDefaultTimeout;
    dword DeCommitFreeBlockThreshold;
    dword DeCommitTotalFreeThreshold;
    pointer32 LockPrefixTable;
    dword MaximumAllocationSize;
    dword VirtualMemoryThreshold;
    dword ProcessHeapFlags;
    dword ProcessAffinityMask;
    word CsdVersion;
    word DependentLoadFlags;
    pointer32 EditList;
    pointer32 SecurityCookie;
    pointer32 SEHandlerTable;
    dword SEHandlerCount;
};

typedef struct HWAVEOUT__ HWAVEOUT__, *PHWAVEOUT__;

struct HWAVEOUT__ {
    int unused;
};

typedef struct tWAVEFORMATEX tWAVEFORMATEX, *PtWAVEFORMATEX;

struct tWAVEFORMATEX {
    WORD wFormatTag;
    WORD nChannels;
    DWORD nSamplesPerSec;
    DWORD nAvgBytesPerSec;
    WORD nBlockAlign;
    WORD wBitsPerSample;
    WORD cbSize;
};

typedef struct timecaps_tag timecaps_tag, *Ptimecaps_tag;

struct timecaps_tag {
    UINT wPeriodMin;
    UINT wPeriodMax;
};

typedef struct wavehdr_tag wavehdr_tag, *Pwavehdr_tag;

typedef struct wavehdr_tag * LPWAVEHDR;

struct wavehdr_tag {
    LPSTR lpData;
    DWORD dwBufferLength;
    DWORD dwBytesRecorded;
    DWORD_PTR dwUser;
    DWORD dwFlags;
    DWORD dwLoops;
    struct wavehdr_tag * lpNext;
    DWORD_PTR reserved;
};

typedef struct tWAVEFORMATEX WAVEFORMATEX;

typedef WAVEFORMATEX * LPCWAVEFORMATEX;

typedef struct mmtime_tag mmtime_tag, *Pmmtime_tag;

typedef union _union_1020 _union_1020, *P_union_1020;

typedef struct _struct_1021 _struct_1021, *P_struct_1021;

typedef struct _struct_1022 _struct_1022, *P_struct_1022;

struct _struct_1021 {
    BYTE hour;
    BYTE min;
    BYTE sec;
    BYTE frame;
    BYTE fps;
    BYTE dummy;
    BYTE pad[2];
};

struct _struct_1022 {
    DWORD songptrpos;
};

union _union_1020 {
    DWORD ms;
    DWORD sample;
    DWORD cb;
    DWORD ticks;
    struct _struct_1021 smpte;
    struct _struct_1022 midi;
};

struct mmtime_tag {
    UINT wType;
    union _union_1020 u;
};

typedef struct HWAVEOUT__ * HWAVEOUT;

typedef HWAVEOUT * LPHWAVEOUT;

typedef struct mmtime_tag * LPMMTIME;

typedef UINT MMRESULT;

typedef struct timecaps_tag * LPTIMECAPS;

typedef struct HDROP__ HDROP__, *PHDROP__;

typedef struct HDROP__ * HDROP;

struct HDROP__ {
    int unused;
};

typedef int (* _onexit_t)(void);




// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 __fastcall
FUN_00401000(int param_1,int param_2,int *param_3,int param_4,int *param_5,int param_6,int param_7,
            int param_8)

{
  int iVar1;
  uint uVar2;
  int in_EAX;
  uint *puVar3;
  byte bVar4;
  uint uVar5;
  int iVar6;
  uint uVar7;
  int local_24;
  int local_1c;
  int local_18;
  uint local_14;
  int local_10;
  uint *local_c;
  
  iVar6 = *(int *)(param_4 + 4);
  if (0 < iVar6) {
    local_10 = iVar6;
    if (param_2 < iVar6) {
      local_10 = param_2;
    }
    iVar1 = *(int *)(param_4 + 8);
    if (SBORROW4(param_1 + in_EAX,-iVar1) == param_1 + in_EAX + iVar1 < 0) {
      in_EAX = -(iVar1 + param_1);
    }
    if (param_1 < 0) {
      local_24 = -param_1;
    }
    else {
      local_24 = 0;
    }
    iVar1 = *(int *)(param_6 + 4);
    _DAT_0047e588 = _DAT_0047e588 + 1;
    iVar6 = (local_24 + param_1) * iVar6;
    local_1c = ((param_8 + local_24) * iVar1 + param_7) * 4;
    local_c = (uint *)(*param_5 + local_1c);
    puVar3 = (uint *)(*param_3 + iVar6 * 4);
    if (local_24 < in_EAX) {
      local_24 = in_EAX - local_24;
      do {
        if (0 < local_10) {
          local_18 = local_10;
          do {
            uVar2 = *local_c;
            if ((uVar2 & 0xff000000) == 0xff000000) {
              *puVar3 = uVar2;
            }
            else if ((uVar2 & 0xff000000) != 0) {
              bVar4 = (byte)(uVar2 >> 0x18);
              local_14 = 0xff;
              uVar5 = (uint)bVar4;
              uVar7 = *(byte *)(iVar6 * 4 + 3 + *param_3) + uVar5;
              if (uVar7 < 0x100) {
                local_14 = uVar7;
              }
              uVar7 = (uint)(byte)(-bVar4 - 1);
              *puVar3 = ((*puVar3 >> 0x10 & 0xff) * uVar7 + (uVar2 >> 0x10 & 0xff) * uVar5 &
                        0xffff00) * 0x100 +
                        ((*puVar3 >> 8 & 0xff) * uVar7 + (uVar2 >> 8 & 0xff) * uVar5 & 0xffffff00) +
                        ((int)(*(byte *)puVar3 * uVar7 + (uVar2 & 0xff) * uVar5) >> 8) +
                        local_14 * 0x1000000;
            }
            local_c = local_c + 1;
            puVar3 = puVar3 + 1;
            local_18 = local_18 + -1;
          } while (local_18 != 0);
        }
        local_1c = local_1c + iVar1 * 4;
        iVar6 = iVar6 + *(int *)(param_4 + 4);
        local_c = (uint *)(*param_5 + local_1c);
        puVar3 = (uint *)(*param_3 + iVar6 * 4);
        local_24 = local_24 + -1;
      } while (local_24 != 0);
    }
  }
  return 0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 __cdecl
FUN_004011e0(int *param_1,int param_2,int param_3,int param_4,int param_5,int param_6,int param_7,
            int param_8)

{
  int iVar1;
  void *pvVar2;
  void *pvVar3;
  uint uVar4;
  int iVar5;
  uint uVar6;
  int local_24;
  int local_20;
  int local_1c;
  int local_18;
  void **local_10;
  void **local_c;
  int local_8;
  
  if ((param_3 < DAT_0047ac74) && (*param_1 != 0)) {
    if (DAT_0047ac74 <= param_3 + param_5) {
      param_5 = DAT_0047ac74 - param_3;
    }
    if (DAT_0047ac78 <= param_4 + param_6) {
      param_6 = DAT_0047ac78 - param_4;
    }
    if (param_4 < 0) {
      local_24 = -param_4;
    }
    else {
      local_24 = 0;
    }
    if (param_3 < 0) {
      local_8 = -param_3;
    }
    else {
      local_8 = 0;
    }
    iVar1 = *(int *)(param_2 + 4);
    _DAT_0047e588 = _DAT_0047e588 + 1;
    iVar5 = (param_4 + local_24) * DAT_0047ac74 + local_8 + param_3;
    local_1c = ((param_8 + local_24) * iVar1 + local_8 + param_7) * 4;
    local_c = (void **)(*param_1 + local_1c);
    local_20 = iVar5 * 4;
    local_10 = ppvBits_0047c2bc + iVar5;
    if (local_24 < param_6) {
      iVar5 = DAT_0047ac74 * 4;
      local_24 = param_6 - local_24;
      do {
        if (local_8 < param_5) {
          local_18 = param_5 - local_8;
          do {
            pvVar2 = *local_c;
            if (((uint)pvVar2 & 0xff000000) == 0xff000000) {
              *local_10 = pvVar2;
            }
            else if (((uint)pvVar2 & 0xff000000) != 0) {
              pvVar3 = *local_10;
              uVar4 = (uint)pvVar2 >> 0x18;
              uVar6 = (uint)(byte)(-(char)((uint)pvVar2 >> 0x18) - 1);
              *local_10 = (void *)((((uint)pvVar2 >> 0x10 & 0xff) * uVar4 +
                                    ((uint)pvVar3 >> 0x10 & 0xff) * uVar6 & 0xffff00) * 0x100 +
                                   (((uint)pvVar2 >> 8 & 0xff) * uVar4 +
                                    ((uint)pvVar3 >> 8 & 0xff) * uVar6 & 0xffffff00) +
                                  ((int)(((uint)pvVar2 & 0xff) * uVar4 +
                                        ((uint)pvVar3 & 0xff) * uVar6) >> 8));
            }
            local_c = local_c + 1;
            local_10 = local_10 + 1;
            local_18 = local_18 + -1;
          } while (local_18 != 0);
        }
        local_20 = local_20 + iVar5;
        local_1c = local_1c + iVar1 * 4;
        local_10 = (void **)(local_20 + (int)ppvBits_0047c2bc);
        local_c = (void **)(*param_1 + local_1c);
        local_24 = local_24 + -1;
      } while (local_24 != 0);
    }
  }
  return 0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 __cdecl
FUN_004013c0(int *param_1,int param_2,int param_3,int param_4,int param_5,int param_6,int param_7,
            int param_8,int param_9,int param_10)

{
  int iVar1;
  void *pvVar2;
  void *pvVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  byte bVar7;
  int iVar8;
  int iVar9;
  int iVar10;
  int iVar11;
  uint uVar12;
  uint uVar13;
  ulonglong uVar14;
  int local_4c;
  int local_44;
  int local_3c;
  int local_38;
  int local_30;
  void **local_28;
  int local_24;
  int local_20;
  int local_1c;
  void **local_10;
  int local_c;
  
  if ((param_3 < DAT_0047ac74) && (iVar11 = *param_1, iVar11 != 0)) {
    iVar4 = (param_5 << 8) / param_9;
    iVar5 = (param_6 << 8) / param_10;
    if (param_5 + param_3 < DAT_0047ac74) {
      uVar14 = FUN_0045db50(param_5 + param_3,(param_6 << 8) % param_10);
      iVar6 = (int)uVar14;
    }
    else {
      iVar6 = (DAT_0047ac74 - param_3) / (iVar4 >> 8);
    }
    if (param_4 + param_6 < DAT_0047ac78) {
      uVar14 = FUN_0045db50(param_4 + param_6,param_6);
    }
    else {
      uVar14 = (ulonglong)(uint)((DAT_0047ac78 - param_4) / (iVar5 >> 8));
    }
    if (param_4 < 0) {
      local_4c = -param_4;
    }
    else {
      local_4c = 0;
    }
    if (param_3 < 0) {
      local_c = -param_3;
    }
    else {
      local_c = 0;
    }
    iVar1 = *(int *)(param_2 + 4);
    _DAT_0047e588 = _DAT_0047e588 + 1;
    iVar10 = (local_4c + param_8) * iVar1 + local_c + param_7;
    local_10 = (void **)(iVar11 + iVar10 * 4);
    local_44 = (param_4 + local_4c) * DAT_0047ac74 + local_c + param_3;
    local_28 = ppvBits_0047c2bc + local_44;
    iVar11 = iVar6 - local_c;
    local_24 = 0;
    if (local_4c < (int)uVar14) {
      local_4c = (int)uVar14 - local_4c;
      local_30 = 0;
      do {
        iVar8 = local_24 * 0x100 - local_30;
        while( true ) {
          local_1c = 0;
          if (local_c < iVar6) {
            iVar10 = iVar10 + iVar11;
            local_38 = 0;
            local_3c = iVar11;
            do {
              local_20 = param_3 + local_1c;
              iVar9 = local_1c * 0x100 - local_38;
              do {
                pvVar2 = *local_10;
                if (((uint)pvVar2 & 0xff000000) == 0xff000000) {
                  *local_28 = pvVar2;
                }
                else if (((uint)pvVar2 & 0xff000000) != 0) {
                  pvVar3 = *local_28;
                  bVar7 = (byte)((uint)pvVar2 >> 0x18);
                  uVar12 = (uint)bVar7;
                  uVar13 = (uint)(byte)(-bVar7 - 1);
                  *local_28 = (void *)((((uint)pvVar2 >> 0x10 & 0xff) * uVar12 +
                                        ((uint)pvVar3 >> 0x10 & 0xff) * uVar13 & 0xffff00) * 0x100 +
                                       (((uint)pvVar2 >> 8 & 0xff) * uVar12 +
                                        ((uint)pvVar3 >> 8 & 0xff) * uVar13 & 0xffffff00) +
                                      ((int)(((uint)pvVar2 & 0xff) * uVar12 +
                                            ((uint)pvVar3 & 0xff) * uVar13) >> 8));
                }
                local_1c = local_1c + 1;
                local_20 = local_20 + 1;
                iVar9 = iVar9 + 0x100;
                local_28 = local_28 + 1;
              } while ((iVar9 < iVar4) && (local_20 < DAT_0047ac74));
              local_38 = local_38 + iVar4;
              local_10 = local_10 + 1;
              local_3c = local_3c + -1;
            } while (local_3c != 0);
          }
          local_44 = local_44 + DAT_0047ac74;
          local_24 = local_24 + 1;
          local_28 = ppvBits_0047c2bc + local_44;
          iVar8 = iVar8 + 0x100;
          if (iVar5 <= iVar8) break;
          iVar10 = iVar10 - iVar11;
          local_10 = (void **)(*param_1 + iVar10 * 4);
        }
        local_30 = local_30 + iVar5;
        iVar10 = iVar10 + (iVar1 - iVar11);
        local_4c = local_4c + -1;
        local_10 = (void **)(*param_1 + iVar10 * 4);
      } while (local_4c != 0);
    }
  }
  return 0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 __cdecl
FUN_00401690(int *param_1,int param_2,int param_3,int param_4,int param_5,int param_6,int param_7,
            int param_8,int param_9)

{
  int iVar1;
  void *pvVar2;
  void *pvVar3;
  uint uVar4;
  int iVar5;
  uint uVar6;
  int local_24;
  int local_20;
  int local_1c;
  int local_18;
  int local_14;
  void **local_10;
  void **local_c;
  int local_8;
  
  if ((param_3 < DAT_0047ac74) && (*param_1 != 0)) {
    local_8 = (&DAT_0047e1b0)[param_9 * 8];
    if (param_3 + param_5 < (&DAT_0047e1c0)[param_9 * 8] + local_8) {
      local_14 = param_5;
    }
    else {
      local_14 = ((&DAT_0047e1c0)[param_9 * 8] + local_8) - param_3;
    }
    if ((int)(&DAT_0047e1bc)[param_9 * 8] <= param_4 + param_6) {
      param_6 = (&DAT_0047e1bc)[param_9 * 8] - param_4;
    }
    if (param_4 < (int)(&DAT_0047e1b4)[param_9 * 8]) {
      local_24 = (&DAT_0047e1b4)[param_9 * 8] - param_4;
    }
    else {
      local_24 = 0;
    }
    if (param_3 < local_8) {
      local_8 = local_8 - param_3;
    }
    else {
      local_8 = 0;
    }
    iVar1 = *(int *)(param_2 + 4);
    _DAT_0047e588 = _DAT_0047e588 + 1;
    iVar5 = (param_4 + local_24) * DAT_0047ac74 + local_8 + param_3;
    local_1c = ((local_24 + param_8) * iVar1 + local_8 + param_7) * 4;
    local_c = (void **)(*param_1 + local_1c);
    local_20 = iVar5 * 4;
    local_10 = ppvBits_0047c2bc + iVar5;
    if (local_24 < param_6) {
      iVar5 = DAT_0047ac74 * 4;
      local_24 = param_6 - local_24;
      do {
        if (local_8 < local_14) {
          local_18 = local_14 - local_8;
          do {
            pvVar2 = *local_c;
            if (((uint)pvVar2 & 0xff000000) == 0xff000000) {
              *local_10 = pvVar2;
            }
            else if (((uint)pvVar2 & 0xff000000) != 0) {
              pvVar3 = *local_10;
              uVar4 = (uint)pvVar2 >> 0x18;
              uVar6 = (uint)(byte)(-(char)((uint)pvVar2 >> 0x18) - 1);
              *local_10 = (void *)((((uint)pvVar2 >> 0x10 & 0xff) * uVar4 +
                                    ((uint)pvVar3 >> 0x10 & 0xff) * uVar6 & 0xffff00) * 0x100 +
                                   (((uint)pvVar2 >> 8 & 0xff) * uVar4 +
                                    ((uint)pvVar3 >> 8 & 0xff) * uVar6 & 0xffffff00) +
                                  ((int)(((uint)pvVar2 & 0xff) * uVar4 +
                                        ((uint)pvVar3 & 0xff) * uVar6) >> 8));
            }
            local_c = local_c + 1;
            local_10 = local_10 + 1;
            local_18 = local_18 + -1;
          } while (local_18 != 0);
        }
        local_20 = local_20 + iVar5;
        local_1c = local_1c + iVar1 * 4;
        local_10 = (void **)(local_20 + (int)ppvBits_0047c2bc);
        local_c = (void **)(*param_1 + local_1c);
        local_24 = local_24 + -1;
      } while (local_24 != 0);
    }
  }
  return 0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 __cdecl
FUN_004018a0(int *param_1,int param_2,int param_3,int param_4,int param_5,int param_6,int param_7,
            int param_8,int param_9,int param_10,int param_11,int param_12,int param_13,
            char param_14)

{
  int iVar1;
  byte bVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  uint uVar7;
  int iVar8;
  uint uVar9;
  int iVar10;
  ulonglong uVar11;
  int local_4c;
  int local_48;
  int local_44;
  int local_40;
  int local_3c;
  int local_34;
  int local_30;
  void **local_2c;
  int local_28;
  int local_24;
  int local_20;
  int local_14;
  uint *local_8;
  
  if ((param_3 < DAT_0047ac74) && (iVar8 = *param_1, iVar8 != 0)) {
    iVar3 = (param_5 << 8) / param_9;
    iVar4 = (param_6 << 8) / param_10;
    if (param_5 + param_3 < DAT_0047ac74) {
      uVar11 = FUN_0045db50(param_5 + param_3,(param_6 << 8) % param_10);
      iVar5 = (int)uVar11;
    }
    else {
      iVar5 = (DAT_0047ac74 - param_3) / (iVar3 >> 8);
    }
    if (param_4 + param_6 < DAT_0047ac78) {
      uVar11 = FUN_0045db50(param_4 + param_6,param_6);
    }
    else {
      uVar11 = (ulonglong)(uint)((DAT_0047ac78 - param_4) / (iVar4 >> 8));
    }
    if (param_4 < 0) {
      local_34 = -param_4;
    }
    else {
      local_34 = 0;
    }
    if (param_3 < 0) {
      iVar10 = -param_3;
    }
    else {
      iVar10 = 0;
    }
    iVar1 = *(int *)(param_2 + 4);
    _DAT_0047e588 = _DAT_0047e588 + 1;
    local_14 = (param_8 + local_34) * iVar1 + iVar10 + param_7;
    iVar6 = (local_34 + param_4) * DAT_0047ac74 + iVar10 + param_3;
    local_8 = (uint *)(iVar8 + local_14 * 4);
    local_4c = iVar6 * 4;
    local_2c = ppvBits_0047c2bc + iVar6;
    if (local_34 < (int)uVar11) {
      local_48 = 0;
      local_30 = 0;
      do {
        while( true ) {
          if (iVar10 < iVar5) {
            local_20 = param_3;
            local_44 = 0;
            local_24 = 0;
            iVar8 = local_14;
            local_28 = iVar10;
            do {
              do {
                uVar7 = *local_8;
                if ((uVar7 & 0xff000000) != 0) {
                  iVar6 = (int)((uVar7 >> 0x10 & 0xff) * param_11) >> 8;
                  bVar2 = (char)(uVar7 >> 0x18) + param_14 + 1;
                  iVar8 = 0xff;
                  if (iVar6 < 0x100) {
                    iVar8 = iVar6;
                  }
                  iVar6 = (int)((uVar7 >> 8 & 0xff) * param_12) >> 8;
                  local_3c = 0xff;
                  if (iVar6 < 0x100) {
                    local_3c = iVar6;
                  }
                  iVar6 = (int)((uVar7 & 0xff) * param_13) >> 8;
                  local_40 = 0xff;
                  if (iVar6 < 0x100) {
                    local_40 = iVar6;
                  }
                  uVar9 = (uint)(byte)(-bVar2 - 1);
                  uVar7 = (uint)bVar2;
                  *local_2c = (void *)((uVar7 * iVar8 + ((uint)*local_2c >> 0x10 & 0xff) * uVar9 &
                                       0xffff00) * 0x100 +
                                       (((uint)*local_2c >> 8 & 0xff) * uVar9 + uVar7 * local_3c &
                                       0xffffff00) +
                                      ((int)(*(byte *)local_2c * uVar9 + uVar7 * local_40) >> 8));
                  iVar8 = local_14;
                }
                local_20 = local_20 + 1;
                local_44 = local_44 + 0x100;
                local_2c = local_2c + 1;
              } while ((local_44 - local_24 < iVar3) && (local_20 < DAT_0047ac74));
              local_28 = local_28 + 1;
              local_8 = local_8 + 1;
              local_24 = local_24 + iVar3;
              local_14 = iVar8 + 1;
              iVar8 = local_14;
            } while (local_28 < iVar5);
          }
          local_48 = local_48 + 0x100;
          local_4c = local_4c + DAT_0047ac74 * 4;
          local_2c = (void **)((int)ppvBits_0047c2bc + local_4c);
          if (iVar4 <= local_48 - local_30) break;
          local_14 = local_14 - (iVar5 - iVar10);
          local_8 = (uint *)(*param_1 + local_14 * 4);
        }
        local_34 = local_34 + 1;
        local_14 = local_14 + (iVar1 - (iVar5 - iVar10));
        local_8 = (uint *)(*param_1 + local_14 * 4);
        local_30 = local_30 + iVar4;
      } while (local_34 < (int)uVar11);
    }
  }
  return 0;
}



undefined4 __cdecl
FUN_00401b90(int *param_1,int param_2,void **param_3,int param_4,int param_5,int param_6,int param_7
            ,int param_8,int param_9)

{
  int iVar1;
  void *pvVar2;
  void *pvVar3;
  uint uVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  int local_1c;
  int local_18;
  int local_c;
  int local_8;
  
  if (((int)param_3 < DAT_0047ac74) && (*param_1 != 0)) {
    iVar1 = (&DAT_0047e1b0)[param_9 * 8];
    if ((int)param_3 + param_5 < iVar1 + (&DAT_0047e1c0)[param_9 * 8]) {
      iVar7 = 0;
    }
    else {
      iVar7 = (int)param_3 + param_5 + (-(&DAT_0047e1c0)[param_9 * 8] - iVar1);
    }
    if ((int)(&DAT_0047e1bc)[param_9 * 8] <= param_6 + param_4) {
      param_6 = (&DAT_0047e1bc)[param_9 * 8] - param_4;
    }
    if (param_4 < (int)(&DAT_0047e1b4)[param_9 * 8]) {
      local_1c = (&DAT_0047e1b4)[param_9 * 8] - param_4;
    }
    else {
      local_1c = 0;
    }
    if ((int)param_3 < iVar1) {
      local_8 = (int)param_3 + (param_5 - iVar1);
    }
    else {
      local_8 = param_5;
    }
    iVar1 = *(int *)(param_2 + 4);
    iVar5 = (param_8 + local_1c) * iVar1 + iVar7 + param_7;
    local_c = (int)param_3 + param_5 + ((local_1c + param_4) * DAT_0047ac74 - iVar7) + -1;
    param_3 = (void **)(*param_1 + iVar5 * 4);
    iVar9 = local_8 - iVar7;
    if (local_1c < param_6) {
      iVar8 = DAT_0047ac74 + iVar9;
      local_1c = param_6 - local_1c;
      do {
        if (iVar7 < local_8) {
          iVar5 = iVar5 + iVar9;
          local_18 = iVar9;
          do {
            pvVar2 = *param_3;
            if (((uint)pvVar2 & 0xff000000) == 0xff000000) {
              ppvBits_0047c2bc[local_c] = pvVar2;
            }
            else if (((uint)pvVar2 & 0xff000000) != 0) {
              pvVar3 = ppvBits_0047c2bc[local_c];
              uVar4 = (uint)pvVar2 >> 0x18;
              iVar6 = 0xff - uVar4;
              ppvBits_0047c2bc[local_c] =
                   (void *)((((uint)pvVar3 >> 0x10 & 0xff) * iVar6 +
                             ((uint)pvVar2 >> 0x10 & 0xff) * uVar4 & 0xffff00) * 0x100 +
                            (((uint)pvVar3 >> 8 & 0xff) * iVar6 + ((uint)pvVar2 >> 8 & 0xff) * uVar4
                            & 0xffffff00) +
                           (((uint)pvVar3 & 0xff) * iVar6 + ((uint)pvVar2 & 0xff) * uVar4 >> 8));
            }
            param_3 = param_3 + 1;
            local_c = local_c + -1;
            local_18 = local_18 + -1;
          } while (local_18 != 0);
        }
        local_c = local_c + iVar8;
        iVar5 = iVar5 + (iVar1 - iVar9);
        local_1c = local_1c + -1;
        param_3 = (void **)(*param_1 + iVar5 * 4);
      } while (local_1c != 0);
    }
  }
  return 0;
}



undefined4 __cdecl
FUN_00401da0(int *param_1,int param_2,uint *param_3,int param_4,int param_5,int param_6,int param_7,
            int param_8,int param_9)

{
  int iVar1;
  uint uVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int local_20;
  int local_1c;
  int local_18;
  int local_14;
  void **local_c;
  int local_8;
  
  if (((int)param_3 < DAT_0047ac74) && (*param_1 != 0)) {
    if (DAT_0047ac74 <= (int)param_3 + param_5) {
      param_5 = DAT_0047ac74 - (int)param_3;
    }
    if (DAT_0047ac78 <= param_4 + param_6) {
      param_6 = DAT_0047ac78 - param_4;
    }
    if (param_4 < 0) {
      local_20 = -param_4;
    }
    else {
      local_20 = 0;
    }
    if ((int)param_3 < 0) {
      local_8 = -(int)param_3;
    }
    else {
      local_8 = 0;
    }
    iVar1 = *(int *)(param_2 + 4);
    iVar4 = (param_4 + local_20) * DAT_0047ac74 + local_8 + (int)param_3;
    local_18 = ((param_8 + local_20) * iVar1 + local_8 + param_7) * 4;
    param_3 = (uint *)(local_18 + *param_1);
    local_1c = iVar4 * 4;
    local_c = ppvBits_0047c2bc + iVar4;
    if (local_20 < param_6) {
      iVar4 = DAT_0047ac74 * 4;
      local_20 = param_6 - local_20;
      do {
        if (local_8 < param_5) {
          local_14 = param_5 - local_8;
          do {
            uVar2 = *param_3;
            if ((uVar2 & 0xff000000) != 0) {
              iVar3 = (uVar2 >> 0x18) - param_9;
              if (iVar3 < 0) {
                iVar3 = 0;
              }
              iVar5 = 0xff - iVar3;
              *local_c = (void *)((((uint)*local_c >> 0x10 & 0xff) * iVar5 +
                                   (uVar2 >> 0x10 & 0xff) * iVar3 & 0xffff00) * 0x100 +
                                  (((uint)*local_c >> 8 & 0xff) * iVar5 +
                                   (uVar2 >> 8 & 0xff) * iVar3 & 0xffffff00) +
                                 ((int)((uint)*(byte *)local_c * iVar5 + (uVar2 & 0xff) * iVar3) >>
                                 8));
            }
            param_3 = param_3 + 1;
            local_c = local_c + 1;
            local_14 = local_14 + -1;
          } while (local_14 != 0);
        }
        local_1c = local_1c + iVar4;
        local_18 = local_18 + iVar1 * 4;
        local_c = (void **)(local_1c + (int)ppvBits_0047c2bc);
        param_3 = (uint *)(*param_1 + local_18);
        local_20 = local_20 + -1;
      } while (local_20 != 0);
    }
  }
  return 0;
}



undefined4 __fastcall
FUN_00401f70(int param_1,int param_2,int *param_3,int param_4,uint *param_5,int param_6,int param_7,
            int param_8,int param_9,int param_10)

{
  int iVar1;
  uint uVar2;
  int in_EAX;
  int iVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  int local_24;
  int local_20;
  int local_1c;
  int local_18;
  int local_14;
  int local_10;
  void **local_c;
  int local_8;
  
  if (((int)param_5 < DAT_0047ac74) && (*param_3 != 0)) {
    local_10 = param_1;
    if (DAT_0047ac74 <= (int)param_5 + param_1) {
      local_10 = DAT_0047ac74 - (int)param_5;
    }
    if (DAT_0047ac78 <= param_2 + in_EAX) {
      in_EAX = DAT_0047ac78 - param_2;
    }
    if (param_2 < 0) {
      local_24 = -param_2;
    }
    else {
      local_24 = 0;
    }
    if ((int)param_5 < 0) {
      local_8 = -(int)param_5;
    }
    else {
      local_8 = 0;
    }
    iVar1 = *(int *)(param_4 + 4);
    iVar4 = (local_24 + param_2) * DAT_0047ac74 + local_8 + (int)param_5;
    local_1c = (iVar1 * local_24 + local_8 + param_6) * 4;
    param_5 = (uint *)(local_1c + *param_3);
    local_20 = iVar4 * 4;
    local_c = ppvBits_0047c2bc + iVar4;
    if (local_24 < in_EAX) {
      iVar4 = DAT_0047ac74 * 4;
      local_24 = in_EAX - local_24;
      do {
        if (local_8 < local_10) {
          local_18 = local_10 - local_8;
          do {
            uVar2 = *param_5;
            if ((uVar2 & 0xff000000) != 0) {
              iVar3 = (uVar2 >> 0x18) - param_10;
              if (iVar3 < 0) {
                iVar3 = 0;
              }
              iVar6 = (uVar2 >> 0x10 & 0xff) + param_7;
              iVar5 = 0xff - iVar3;
              if (0xff < iVar6) {
                iVar6 = 0xff;
              }
              iVar7 = (uVar2 >> 8 & 0xff) + param_8;
              local_14 = 0xff;
              if (iVar7 < 0x100) {
                local_14 = iVar7;
              }
              iVar7 = (uVar2 & 0xff) + param_9;
              if (0xff < iVar7) {
                iVar7 = 0xff;
              }
              *local_c = (void *)((((uint)*local_c >> 0x10 & 0xff) * iVar5 + iVar6 * iVar3 &
                                  0xffff00) * 0x100 +
                                  (((uint)*local_c >> 8 & 0xff) * iVar5 + local_14 * iVar3 &
                                  0xffffff00) +
                                 ((int)((uint)*(byte *)local_c * iVar5 + iVar7 * iVar3) >> 8));
            }
            param_5 = param_5 + 1;
            local_c = local_c + 1;
            local_18 = local_18 + -1;
          } while (local_18 != 0);
        }
        local_20 = local_20 + iVar4;
        local_1c = local_1c + iVar1 * 4;
        local_c = (void **)(local_20 + (int)ppvBits_0047c2bc);
        param_5 = (uint *)(*param_3 + local_1c);
        local_24 = local_24 + -1;
      } while (local_24 != 0);
    }
  }
  return 0;
}



undefined4 __cdecl
FUN_00402170(int *param_1,int param_2,int param_3,int param_4,int param_5,int param_6,int param_7,
            int param_8,int param_9,int param_10,int param_11)

{
  int iVar1;
  uint uVar2;
  void *pvVar3;
  uint uVar4;
  int iVar5;
  int iVar6;
  uint uVar7;
  int local_24;
  int local_20;
  int local_1c;
  int local_18;
  int local_14;
  void **local_10;
  uint *local_8;
  
  if ((param_3 < DAT_0047ac74) && (*param_1 != 0)) {
    if (param_3 + param_5 < DAT_0047ac74) {
      local_14 = param_5;
    }
    else {
      local_14 = DAT_0047ac74 - param_3;
    }
    if (DAT_0047ac78 <= param_4 + param_6) {
      param_6 = DAT_0047ac78 - param_4;
    }
    if (param_4 < 0) {
      local_24 = -param_4;
    }
    else {
      local_24 = 0;
    }
    if (param_3 < 0) {
      iVar5 = -param_3;
    }
    else {
      iVar5 = 0;
    }
    iVar1 = *(int *)(param_2 + 4);
    iVar6 = (local_24 + param_4) * DAT_0047ac74 + iVar5 + param_3;
    local_1c = ((param_8 + local_24) * iVar1 + iVar5 + param_7) * 4;
    local_8 = (uint *)(*param_1 + local_1c);
    local_20 = iVar6 * 4;
    local_10 = ppvBits_0047c2bc + iVar6;
    if (local_24 < param_6) {
      iVar6 = DAT_0047ac74 * 4;
      local_24 = param_6 - local_24;
      do {
        if (iVar5 < local_14) {
          local_18 = local_14 - iVar5;
          do {
            uVar2 = *local_8;
            if ((uVar2 & 0xff000000) == 0xff000000) {
              *local_10 = (void *)(((uVar2 >> 0x10 & 0xff) * param_9 & 0xffffff00) * 0x100 +
                                   ((uVar2 >> 8 & 0xff) * param_10 & 0xffffff00) +
                                  ((uVar2 & 0xff) * param_11 >> 8));
            }
            else if ((uVar2 & 0xff000000) != 0) {
              pvVar3 = *local_10;
              uVar4 = uVar2 >> 0x18;
              uVar7 = (uint)(byte)(-(char)(uVar2 >> 0x18) - 1);
              *local_10 = (void *)(((int)(((uVar2 >> 8 & 0xff) * uVar4 +
                                          ((uint)pvVar3 >> 8 & 0xff) * uVar7) * param_10) >> 8 &
                                   0xffffff00U) +
                                   (((uVar2 >> 0x10 & 0xff) * uVar4 +
                                    ((uint)pvVar3 >> 0x10 & 0xff) * uVar7) * param_9 & 0xffff0000) +
                                  ((int)((((uint)pvVar3 & 0xff) * uVar7 + (uVar2 & 0xff) * uVar4) *
                                        param_11) >> 0x10));
            }
            local_8 = local_8 + 1;
            local_10 = local_10 + 1;
            local_18 = local_18 + -1;
          } while (local_18 != 0);
        }
        local_1c = local_1c + iVar1 * 4;
        local_8 = (uint *)(*param_1 + local_1c);
        local_20 = local_20 + iVar6;
        local_10 = (void **)(local_20 + (int)ppvBits_0047c2bc);
        local_24 = local_24 + -1;
      } while (local_24 != 0);
    }
  }
  return 0;
}



undefined4 __cdecl
FUN_004023a0(int *param_1,int param_2,int param_3,int param_4,int param_5,int param_6,int param_7,
            int param_8,int param_9,int param_10,int param_11,int param_12)

{
  int iVar1;
  uint uVar2;
  void *pvVar3;
  uint uVar4;
  int iVar5;
  uint uVar6;
  int local_24;
  int local_20;
  int local_1c;
  int local_18;
  void **local_10;
  uint *local_c;
  int local_8;
  
  if ((param_3 < DAT_0047ac74) && (*param_1 != 0)) {
    if (DAT_0047ac74 <= param_3 + param_5) {
      param_5 = DAT_0047ac74 - param_3;
    }
    if ((int)(&DAT_0047e1bc)[param_12 * 8] <= param_4 + param_6) {
      param_6 = (&DAT_0047e1bc)[param_12 * 8] - param_4;
    }
    if (param_4 < (int)(&DAT_0047e1b4)[param_12 * 8]) {
      local_24 = (&DAT_0047e1b4)[param_12 * 8] - param_4;
    }
    else {
      local_24 = 0;
    }
    if (param_3 < (int)(&DAT_0047e1b0)[param_12 * 8]) {
      local_8 = (&DAT_0047e1b0)[param_12 * 8] - param_3;
    }
    else {
      local_8 = 0;
    }
    iVar1 = *(int *)(param_2 + 4);
    iVar5 = (param_4 + local_24) * DAT_0047ac74 + local_8 + param_3;
    local_1c = ((param_8 + local_24) * iVar1 + local_8 + param_7) * 4;
    local_c = (uint *)(*param_1 + local_1c);
    local_20 = iVar5 * 4;
    local_10 = ppvBits_0047c2bc + iVar5;
    if (local_24 < param_6) {
      iVar5 = DAT_0047ac74 * 4;
      local_24 = param_6 - local_24;
      do {
        if (local_8 < param_5) {
          local_18 = param_5 - local_8;
          do {
            uVar2 = *local_c;
            if ((uVar2 & 0xff000000) == 0xff000000) {
              *local_10 = (void *)(((uVar2 >> 0x10 & 0xff) * param_9 & 0xffffff00) * 0x100 +
                                   ((uVar2 >> 8 & 0xff) * param_10 & 0xffffff00) +
                                  ((uVar2 & 0xff) * param_11 >> 8));
            }
            else if ((uVar2 & 0xff000000) != 0) {
              pvVar3 = *local_10;
              uVar4 = uVar2 >> 0x18;
              uVar6 = (uint)(byte)(-(char)(uVar2 >> 0x18) - 1);
              *local_10 = (void *)(((int)(((uVar2 >> 8 & 0xff) * uVar4 +
                                          ((uint)pvVar3 >> 8 & 0xff) * uVar6) * param_10) >> 8 &
                                   0xffffff00U) +
                                   (((uVar2 >> 0x10 & 0xff) * uVar4 +
                                    ((uint)pvVar3 >> 0x10 & 0xff) * uVar6) * param_9 & 0xffff0000) +
                                  ((int)((((uint)pvVar3 & 0xff) * uVar6 + (uVar2 & 0xff) * uVar4) *
                                        param_11) >> 0x10));
            }
            local_c = local_c + 1;
            local_10 = local_10 + 1;
            local_18 = local_18 + -1;
          } while (local_18 != 0);
        }
        local_1c = local_1c + iVar1 * 4;
        local_c = (uint *)(*param_1 + local_1c);
        local_20 = local_20 + iVar5;
        local_10 = (void **)(local_20 + (int)ppvBits_0047c2bc);
        local_24 = local_24 + -1;
      } while (local_24 != 0);
    }
  }
  return 0;
}



undefined4 __cdecl
FUN_004025e0(int *param_1,int param_2,uint *param_3,int param_4,int param_5,int param_6,int param_7,
            int param_8,int param_9,int param_10,int param_11,int param_12)

{
  int iVar1;
  uint uVar2;
  int iVar3;
  uint uVar4;
  void *pvVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  int iVar10;
  int local_18;
  int local_14;
  int local_c;
  
  if (((int)param_3 < DAT_0047ac74) && (*param_1 != 0)) {
    if ((int)param_3 + param_5 < DAT_0047ac74) {
      iVar3 = 0;
    }
    else {
      iVar3 = (int)param_3 + (param_5 - DAT_0047ac74);
    }
    if ((int)(&DAT_0047e1bc)[param_12 * 8] <= param_4 + param_6) {
      param_6 = (&DAT_0047e1bc)[param_12 * 8] - param_4;
    }
    if (param_4 < (int)(&DAT_0047e1b4)[param_12 * 8]) {
      local_18 = (&DAT_0047e1b4)[param_12 * 8] - param_4;
    }
    else {
      local_18 = 0;
    }
    iVar9 = param_5;
    if ((int)param_3 < (int)(&DAT_0047e1b0)[param_12 * 8]) {
      iVar9 = (int)param_3 + (param_5 - (&DAT_0047e1b0)[param_12 * 8]);
    }
    iVar1 = *(int *)(param_2 + 4);
    iVar7 = (param_8 + local_18) * iVar1 + iVar3 + param_7;
    local_c = (int)param_3 + param_5 + ((param_4 + local_18) * DAT_0047ac74 - iVar3) + -1;
    param_3 = (uint *)(*param_1 + iVar7 * 4);
    iVar6 = iVar9 - iVar3;
    if (local_18 < param_6) {
      iVar10 = DAT_0047ac74 + iVar6;
      local_18 = param_6 - local_18;
      do {
        if (iVar3 < iVar9) {
          iVar7 = iVar7 + iVar6;
          local_14 = iVar6;
          do {
            uVar2 = *param_3;
            if ((uVar2 & 0xff000000) == 0xff000000) {
              pvVar5 = (void *)(((uVar2 >> 0x10 & 0xff) * param_9 & 0xffffff00) * 0x100 +
                                ((uVar2 >> 8 & 0xff) * param_10 & 0xffffff00) +
                               ((uVar2 & 0xff) * param_11 >> 8));
LAB_004027ae:
              ppvBits_0047c2bc[local_c] = pvVar5;
            }
            else if ((uVar2 & 0xff000000) != 0) {
              pvVar5 = ppvBits_0047c2bc[local_c];
              uVar4 = uVar2 >> 0x18;
              iVar8 = 0xff - uVar4;
              pvVar5 = (void *)(((((uint)pvVar5 >> 8 & 0xff) * iVar8 + (uVar2 >> 8 & 0xff) * uVar4)
                                 * param_10 >> 8 & 0xffff00) +
                                ((((uint)pvVar5 >> 0x10 & 0xff) * iVar8 +
                                 (uVar2 >> 0x10 & 0xff) * uVar4) * param_9 & 0xffff0000) +
                               ((((uint)pvVar5 & 0xff) * iVar8 + (uVar2 & 0xff) * uVar4) * param_11
                               >> 0x10));
              goto LAB_004027ae;
            }
            param_3 = param_3 + 1;
            local_c = local_c + -1;
            local_14 = local_14 + -1;
          } while (local_14 != 0);
        }
        local_c = local_c + iVar10;
        iVar7 = iVar7 + (iVar1 - iVar6);
        local_18 = local_18 + -1;
        param_3 = (uint *)(*param_1 + iVar7 * 4);
      } while (local_18 != 0);
    }
  }
  return 0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4
FUN_00402800(undefined param_1,undefined param_2,undefined param_3,undefined param_4,int param_5,
            int param_6)

{
  if ((-1 < param_5) && (-1 < param_6)) {
    _DAT_0047e588 = _DAT_0047e588 + 1;
  }
  return 0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 __cdecl
FUN_00402820(undefined4 param_1,undefined4 param_2,int param_3,int param_4,int param_5,int param_6,
            undefined4 param_7,undefined4 param_8,int param_9)

{
  int iVar1;
  int iVar2;
  int iVar3;
  
  iVar1 = param_9;
  if (param_3 + param_5 < (int)(&DAT_0047e1b8)[param_9 * 8]) {
    param_9 = param_5;
  }
  else {
    param_9 = (&DAT_0047e1b8)[param_9 * 8] - param_3;
  }
  iVar3 = param_6;
  if ((int)(&DAT_0047e1bc)[iVar1 * 8] <= param_4 + param_6) {
    iVar3 = (&DAT_0047e1bc)[iVar1 * 8] - param_4;
  }
  if (param_4 < (int)(&DAT_0047e1b4)[iVar1 * 8]) {
    iVar2 = (&DAT_0047e1b4)[iVar1 * 8] - param_4;
  }
  else {
    iVar2 = 0;
  }
  if (param_3 < (int)(&DAT_0047e1b0)[iVar1 * 8]) {
    iVar1 = (&DAT_0047e1b0)[iVar1 * 8] - param_3;
  }
  else {
    iVar1 = 0;
  }
  if ((((iVar1 < param_5) && (iVar2 < param_6)) && (-1 < param_9 - iVar1)) && (-1 < iVar3 - iVar2))
  {
    _DAT_0047e588 = _DAT_0047e588 + 1;
  }
  return 0;
}



undefined4 FUN_004028b0(void)

{
  return 0;
}



undefined4
FUN_004028c0(undefined param_1,undefined param_2,int param_3,int param_4,int param_5,int param_6,
            undefined param_7,undefined param_8,undefined param_9,undefined param_10,int param_11)

{
  return 0;
}



int __cdecl FUN_00402950(FILE *param_1,long param_2,undefined4 param_3,int param_4)

{
  int iVar1;
  
  if (param_1 == (FILE *)0x0) {
    return -1;
  }
  iVar1 = fseek(param_1,param_2,param_4);
  return iVar1;
}


/*
Unable to decompile 'FUN_004029b0'
Cause: Exception while decompiling 004029b0: process: timeout

*/


// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __fastcall FUN_0040b6d0(int param_1)

{
  short sVar1;
  ushort uVar2;
  ushort uVar3;
  ushort uVar4;
  int iVar5;
  int iVar6;
  double dVar7;
  double dVar8;
  int iVar9;
  int iVar10;
  uint uVar11;
  uint uVar12;
  uint *puVar13;
  ushort *puVar14;
  int iVar15;
  uint uVar16;
  int iVar17;
  uint uVar18;
  uint uVar19;
  int *piVar20;
  uint uVar21;
  int iVar22;
  uint uVar23;
  int iVar24;
  bool bVar25;
  float10 fVar26;
  float10 fVar27;
  float10 fVar28;
  float10 fVar29;
  float10 fVar30;
  float10 fVar31;
  float10 extraout_ST0;
  float10 extraout_ST0_00;
  float10 extraout_ST1;
  float10 extraout_ST1_00;
  ulonglong uVar32;
  int local_5c;
  int local_54;
  int local_4c;
  uint local_40;
  uint local_3c;
  ushort *local_38;
  int local_34;
  uint uStack_30;
  uint local_2c;
  ushort *local_28;
  int local_24;
  int local_18;
  uint local_14 [4];
  
  local_14[3] = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  iVar22 = param_1 * 0x1e0;
  uVar23 = *(uint *)(&DAT_0047c758 + iVar22);
  sVar1 = (&DAT_0047c752)[param_1 * 0xf0];
  local_38 = (ushort *)0x0;
  bVar25 = false;
  (&DAT_0047c784)[param_1 * 0x78] = *(undefined4 *)(&DAT_0047c754 + iVar22);
  (&DAT_0047c788)[param_1 * 0x78] = uVar23;
  if (sVar1 != 2) {
    (&DAT_0047c788)[param_1 * 0x78] = (uVar23 / 10) * 10;
  }
  iVar15 = (&DAT_0047cf64)[param_1 * 0xf0];
  uVar23 = 0;
  if (0 < iVar15) {
    local_28 = &DAT_0047cf3e + param_1 * 0x1e0;
    bVar25 = false;
    do {
      uVar16 = (uint)*local_28;
      if (uVar16 < local_28[-3] + uVar16) {
        iVar9 = (local_28[-3] + uVar16) - uVar16;
        do {
          if (!bVar25) {
            local_38 = (ushort *)(uVar23 & 0xffff);
          }
          bVar25 = !bVar25;
          iVar9 = iVar9 + -1;
        } while (iVar9 != 0);
      }
      local_28 = local_28 + 1;
      uVar23 = uVar23 + 1;
    } while ((int)uVar23 < iVar15);
  }
  uVar23 = 0;
  if ((&DAT_0047c78c)[param_1 * 0x78] == 0) {
    (&DAT_0047c78c)[param_1 * 0x78] = 1;
  }
  uVar16 = 1;
  if (1 < iVar15) {
    do {
      if ((!bVar25) || ((ushort *)uVar16 != local_38)) {
        iVar9 = param_1 * 0x78 + uVar16;
        uVar18 = (&DAT_0047c78c)[iVar9];
        if ((uint)(&DAT_0047c78c)[param_1 * 0x78 + uVar23] <= uVar18 &&
            uVar18 != (&DAT_0047c78c)[param_1 * 0x78 + uVar23]) {
          uVar23 = uVar16;
        }
        if (uVar18 == 0) {
          (&DAT_0047c78c)[iVar9] = 1;
        }
      }
      uVar16 = uVar16 + 1;
    } while ((int)uVar16 < iVar15);
  }
  uVar2 = (&DAT_0047cf56)[param_1 * 0x1e0];
  switch(uVar2) {
  case 0:
    iVar9 = ((ushort)(&DAT_0047cf54)[param_1 * 0x1e0] + 0xe) * 20000;
    goto LAB_0040b87d;
  case 1:
    (&DAT_0047c768)[param_1 * 0x78] = ((ushort)(&DAT_0047cf54)[param_1 * 0x1e0] + 7) * 50000;
    break;
  case 2:
    iVar9 = (ushort)(&DAT_0047cf54)[param_1 * 0x1e0] + 10;
LAB_0040b877:
    iVar9 = iVar9 * 50000;
LAB_0040b87d:
    (&DAT_0047c768)[param_1 * 0x78] = iVar9;
    break;
  case 3:
  case 4:
  case 5:
    uVar16 = (uint)(ushort)(&DAT_0047cf54)[param_1 * 0x1e0];
    if (uVar16 < 10) {
      iVar9 = uVar16 + 0xd;
      goto LAB_0040b877;
    }
    (&DAT_0047c768)[param_1 * 0x78] = (uVar16 + 2) * 100000;
  }
  if (((&DAT_0047c752)[param_1 * 0xf0] == 2) && (DAT_0047e2d8 == 1)) {
    (&DAT_0047c768)[param_1 * 0x78] = 1000000;
  }
  iVar10 = param_1 * 0xf0;
  iVar9 = iVar10 + uVar23;
  iVar6 = param_1 * 0x78;
  iVar24 = iVar6 + uVar23;
  iVar17 = (((uint)(ushort)(&DAT_0047e2a4)[uVar23] - (uint)(ushort)(&DAT_0047e298)[uVar23]) * 5 -
           (uint)(ushort)(&DAT_0047c7d0)[iVar9]) * 1000 +
           ((&DAT_0047c7b8)[iVar24] * 5 + (&DAT_0047c7c4)[iVar24]) * -0x3c +
           (&DAT_0047c768)[param_1 * 0x78];
  fVar26 = (float10)iVar17;
  if (iVar17 < 0) {
    fVar26 = fVar26 + (float10)4294967296.0;
  }
  iVar17 = (&DAT_0047c798)[iVar24];
  fVar27 = (float10)((uint)*(ushort *)(&DAT_0047c7aa + iVar9 * 2) - iVar17);
  if ((int)((uint)*(ushort *)(&DAT_0047c7aa + iVar9 * 2) - iVar17) < 0) {
    fVar27 = fVar27 + (float10)4294967296.0;
  }
  fVar28 = (float10)0.2;
  iVar5 = (&DAT_0047c78c)[iVar24];
  fVar29 = (float10)((uint)(ushort)(&DAT_0047c7a4)[iVar9] - iVar5);
  if ((int)((uint)(ushort)(&DAT_0047c7a4)[iVar9] - iVar5) < 0) {
    fVar29 = fVar29 + (float10)4294967296.0;
  }
  fVar30 = (float10)iVar17;
  if (iVar17 < 0) {
    fVar30 = fVar30 + (float10)4294967296.0;
  }
  fVar31 = (float10)iVar5;
  if (iVar5 < 0) {
    fVar31 = fVar31 + (float10)4294967296.0;
  }
  local_4c = (int)(longlong)
                  ROUND((fVar31 + fVar30 * fVar28 + (fVar29 + fVar27 * fVar28) * (float10)0.612) /
                        fVar26);
  fVar27 = (float10)5.0;
  fVar26 = (float10)10.0;
  iVar17 = (&DAT_0047c788)[param_1 * 0x78];
  iVar5 = ((local_4c + 5U) / 10) * 10;
  *(int *)(&DAT_0047c780 + iVar22) = iVar5;
  if (iVar17 == 0) {
    if (((&DAT_0047c752)[param_1 * 0xf0] == 1) && (_DAT_0047e2b4 == 0)) {
      fVar29 = (float10)iVar5;
      if (iVar5 < 0) {
        fVar29 = fVar29 + (float10)4294967296.0;
      }
      local_4c = (int)(longlong)ROUND((fVar29 * (float10)0.07000000000000001 + fVar27) / fVar26);
      (&DAT_0047c788)[param_1 * 0x78] = local_4c * 10;
      goto LAB_0040ba97;
    }
    if (((&DAT_0047c752)[param_1 * 0xf0] == 2) && (_DAT_0047e2b4 == 0)) {
      dVar7 = (double)iVar5;
      if (iVar5 < 0) {
        dVar7 = dVar7 + 4294967296.0;
      }
      local_4c = (int)(longlong)ROUND(dVar7 * 0.08400000000000001);
      (&DAT_0047c788)[param_1 * 0x78] = local_4c;
      goto LAB_0040ba97;
    }
  }
  (&DAT_0047c788)[param_1 * 0x78] = *(undefined4 *)(&DAT_0047c758 + iVar22);
LAB_0040ba97:
  DAT_0047e2b0 = *(int *)(&DAT_0047c780 + iVar22) + (&DAT_0047c788)[param_1 * 0x78] * -10;
  if ((((*(int *)(&DAT_0047c754 + iVar22) == 0) && (*(int *)(&DAT_0047c758 + iVar22) == 0)) &&
      (_DAT_0047e2b4 == 0)) && ((int)DAT_0047e2b0 < (&DAT_0047c788)[param_1 * 0x78] * 3)) {
    do {
      if ((3 < uVar2) && (DAT_0047e2d8 != 1)) break;
      (&DAT_0047c788)[param_1 * 0x78] = (&DAT_0047c788)[param_1 * 0x78] + -10;
      DAT_0047e2b0 = DAT_0047e2b0 + 100;
    } while ((int)DAT_0047e2b0 < (&DAT_0047c788)[param_1 * 0x78] * 3);
  }
  uVar16 = uVar23;
  if (DAT_0047e2d8 == 0) {
    uVar18 = (uint)(ushort)(&DAT_0047c752)[param_1 * 0xf0];
    if ((&DAT_0047c752)[param_1 * 0xf0] != 0) {
      if ((&DAT_0047c784)[param_1 * 0x78] != 0) {
        DAT_0047e2b0 = *(uint *)(&DAT_0047c754 + iVar22);
      }
      (&DAT_0047c784)[param_1 * 0x78] = DAT_0047e2b0;
      if ((DAT_0047e2d4 == 0) || (DAT_0047e2d6 == 0)) {
        uVar18 = 0;
        *(undefined4 *)(&DAT_0047c8e8 + param_1 * 0xf0) = 0;
        (&DAT_0047c8ec)[param_1 * 0xf0] = 0;
      }
      _DAT_0047e294 = 0;
      DAT_0047e2b0 = 0;
      if (uVar2 < 4) {
        if ((*(int *)(&DAT_0047c758 + iVar22) == 0) && (_DAT_0047e2b4 == 0)) {
          fVar28 = fVar27;
          uVar32 = FUN_0045db50((&DAT_0047c78c)[iVar24],uVar18);
          iVar9 = (&DAT_0047c788)[param_1 * 0x78];
          iVar17 = (int)uVar32 * 10;
          if (iVar9 == iVar17 || SBORROW4(iVar9,iVar17) != iVar9 + (int)uVar32 * -10 < 0) {
            iVar17 = iVar9;
          }
          if (iVar17 < 10) {
            iVar17 = 10;
          }
          (&DAT_0047c788)[param_1 * 0x78] = iVar17;
          fVar26 = extraout_ST0;
          fVar27 = extraout_ST1;
        }
        if (*(int *)(&DAT_0047c754 + iVar22) == 0) {
          fVar28 = fVar27;
          uVar32 = FUN_0045db50(0,(&DAT_0047c768)[param_1 * 0x78]);
          iVar9 = (&DAT_0047c784)[param_1 * 0x78];
          iVar17 = (int)uVar32 * 10;
          if (iVar9 == iVar17 || SBORROW4(iVar9,iVar17) != iVar9 + (int)uVar32 * -10 < 0) {
            iVar17 = iVar9;
          }
          if (iVar17 < 10) {
            iVar17 = 10;
          }
          (&DAT_0047c784)[param_1 * 0x78] = iVar17;
          fVar26 = extraout_ST0_00;
          fVar27 = extraout_ST1_00;
        }
      }
      uVar18 = (uint)(ushort)(&DAT_0047cefe)[param_1 * 0x1e0];
      fVar29 = (float10)1;
      uVar3 = (&DAT_0047cef8)[param_1 * 0x1e0];
      do {
        DAT_0047e2b0 = DAT_0047e2b0 + 1;
        (&DAT_0047c7d8)[iVar24] = 0;
        uVar16 = 0;
        iVar9 = 0;
        local_5c = 0;
        (&DAT_0047c770)[param_1 * 0x78] = 0;
        DAT_0047e2b8 = 0;
        local_40 = 0;
        if (0 < iVar15) {
          puVar14 = &DAT_0047cefe + param_1 * 0x1e0;
          do {
            local_14[iVar9] = (uint)*puVar14;
            iVar9 = iVar9 + 1;
            puVar14 = puVar14 + 1;
          } while (iVar9 < iVar15);
        }
        if (uVar18 < uVar3 + uVar18) {
          uVar12 = (uint)(ushort)(&DAT_0047cf1c)[param_1 * 0x1e0];
          local_3c = uVar18;
          do {
            uVar11 = 0;
            if (0 < iVar15) {
              do {
                if (uVar11 == uVar16) {
                  local_14[uVar11] = local_3c;
                }
                uVar11 = uVar11 + 1;
              } while ((int)uVar11 < iVar15);
            }
            local_18 = *(int *)(DAT_0047e2c4 + 4 + local_3c * 0x1c);
            if (local_5c < (int)uVar12) {
              iVar9 = local_5c;
              do {
                iVar17 = (&DAT_0047cee0)[param_1 * 0xf0] + iVar9 * 0x28;
                iVar24 = *(int *)(iVar17 + 4);
                if (local_18 < iVar24) {
                  if ((local_3c ==
                       ((ushort)(&DAT_0047cef8)[iVar22 + uVar16] - 1) +
                       (uint)(ushort)(&DAT_0047cefe)[iVar22 + uVar16]) || (iVar9 == uVar12 - 1))
                  break;
                  if (iVar9 == 0) {
                    uVar16 = 0;
                    local_3c = local_14[0];
                  }
                  if (*(uint *)(DAT_0047e2c4 + 0x20 + local_14[uVar16] * 0x1c) <
                      *(uint *)(iVar17 + 0x2c)) break;
                }
                else {
                  local_5c = iVar9 + 1;
                  if (*(int *)(iVar17 + 0x10) == 0) {
                    uVar16 = uVar23 & 0xffff;
                    local_3c = local_14[uVar16];
                    local_18 = iVar24;
                  }
                  else {
                    if (iVar9 < (int)(uVar12 - 1)) {
                      if (*(uint *)(iVar17 + 0x2c) <=
                          *(uint *)(DAT_0047e2c4 + 0x20 +
                                   local_14[*(ushort *)(iVar17 + 0x14)] * 0x1c)) goto LAB_0040bdf6;
                      iVar24 = *(int *)(iVar17 + 4);
                    }
                    uVar16 = (uint)*(ushort *)(iVar17 + 0x14);
                    local_3c = local_14[uVar16];
                    local_18 = iVar24;
                  }
                }
LAB_0040bdf6:
                iVar9 = iVar9 + 1;
              } while (iVar9 < (int)uVar12);
            }
            if ((*(int *)(DAT_0047e2c4 + 4 + local_3c * 0x1c) < local_18) &&
               ((int)local_3c <
                (int)((uint)(ushort)(&DAT_0047cef8)[iVar22 + uVar16] +
                     (uint)(ushort)(&DAT_0047cefe)[iVar22 + uVar16]))) {
              local_3c = local_3c + 1;
              local_14[uVar16] = local_3c;
            }
            local_2c = 0;
            if (0 < iVar15) {
              puVar14 = &DAT_0047cefe + param_1 * 0x1e0;
              puVar13 = local_14;
              do {
                if (local_2c != uVar16) {
                  uVar19 = (uint)*puVar14;
                  uVar11 = *puVar13 - 1;
                  if ((int)(*puVar13 - 1) < (int)uVar19) {
                    uVar11 = uVar19;
                  }
                  uVar4 = puVar14[-3];
                  if ((int)uVar11 < (int)(uVar4 + uVar19)) {
                    piVar20 = (int *)(DAT_0047e2c4 + 4 + uVar11 * 0x1c);
                    do {
                      if (*piVar20 != local_18 && local_18 <= *piVar20) break;
                      *puVar13 = uVar11;
                      uVar11 = uVar11 + 1;
                      piVar20 = piVar20 + 7;
                    } while ((int)uVar11 < (int)(uVar4 + uVar19));
                  }
                }
                local_2c = local_2c + 1;
                puVar14 = puVar14 + 1;
                puVar13 = puVar13 + 1;
              } while ((int)local_2c < iVar15);
            }
            iVar9 = iVar22 + uVar16;
            uVar11 = (uint)(ushort)(&DAT_0047cf32)[iVar9];
            uVar19 = (ushort)(&DAT_0047cf2c)[iVar9] + uVar11;
            if (uVar11 < uVar19) {
              uVar21 = *(uint *)(DAT_0047e2c4 + 4 + local_3c * 0x1c);
              puVar13 = (uint *)((&DAT_0047cedc)[param_1 * 0xf0] + uVar11 * 0x18);
              do {
                if ((*puVar13 <= uVar21) && (uVar21 < puVar13[1] || uVar21 == puVar13[1])) {
                  (&DAT_0047c7d8)[iVar6 + uVar16] = 1;
                  break;
                }
                uVar11 = uVar11 + 1;
                puVar13 = puVar13 + 6;
                (&DAT_0047c7d8)[iVar6 + uVar16] = 0;
              } while ((int)uVar11 < (int)uVar19);
            }
            iVar17 = 0;
            if ((&DAT_0047c752)[param_1 * 0xf0] == 1) {
              iVar17 = (&DAT_0047c770)[param_1 * 0x78];
              if (100 < iVar17) {
                iVar17 = 100;
              }
              iVar17 = iVar17 / 10;
            }
            else if ((&DAT_0047c752)[param_1 * 0xf0] == 2) {
              uVar11 = (&DAT_0047c770)[param_1 * 0x78];
              if (uVar11 < 10) {
                iVar17 = 0;
              }
              else if (uVar11 < 0x1e) {
                iVar17 = 1;
              }
              else if (uVar11 < 0x32) {
                iVar17 = 2;
              }
              else {
                iVar17 = (-(uint)(uVar11 < 100) & 0xfffffffc) + 8;
              }
            }
            uVar11 = (uint)*(ushort *)(DAT_0047e2c4 + 2 + local_3c * 0x1c);
            if (uVar11 < 2) {
              (&DAT_0047c770)[param_1 * 0x78] = (&DAT_0047c770)[param_1 * 0x78] + 1;
              iVar17 = (&DAT_0047c788)[param_1 * 0x78] * iVar17 + (&DAT_0047c784)[param_1 * 0x78];
              fVar30 = (float10)iVar17;
              if (iVar17 < 0) {
                fVar30 = fVar30 + (float10)4294967296.0;
              }
              local_24 = (int)(longlong)
                              ROUND((fVar30 * ((float10)(&DAT_0047c7d8)[iVar6 + uVar16] * fVar28 +
                                              fVar29)) / fVar26);
              DAT_0047e2b8 = DAT_0047e2b8 + local_24 * 10;
            }
            else if (uVar11 < 4) {
              (&DAT_0047c770)[param_1 * 0x78] = (&DAT_0047c770)[param_1 * 0x78] + 1;
              iVar17 = (&DAT_0047c788)[param_1 * 0x78] * iVar17 + (&DAT_0047c784)[param_1 * 0x78];
              fVar30 = (float10)iVar17;
              if (iVar17 < 0) {
                fVar30 = fVar30 + (float10)4294967296.0;
              }
              local_24 = (int)(longlong)
                              ROUND((fVar30 * ((float10)(&DAT_0047c7d8)[iVar6 + uVar16] * fVar28 +
                                              fVar29)) / fVar26);
              DAT_0047e2b8 = DAT_0047e2b8 + local_24 * 0x14;
            }
            else if ((uVar11 == 4) || (uVar11 == 5)) {
              if ((&DAT_0047c7d8)[iVar6 + uVar16] == 0) {
                iVar17 = DAT_0047e2c4 + local_14[uVar16] * 0x1c;
                iVar17 = (*(int *)(iVar17 + 0x20) - *(int *)(iVar17 + 4)) + 0x32;
                fVar30 = (float10)iVar17;
                if (iVar17 < 0) {
                  fVar30 = fVar30 + (float10)4294967296.0;
                }
                local_24 = (int)(longlong)ROUND(((float10)(uVar11 - 4) * fVar28 + fVar29) * fVar30);
              }
              else {
                if ((&DAT_0047c752)[param_1 * 0xf0] == 2) {
                  fVar30 = (float10)2.0;
                }
                else {
                  fVar30 = (float10)1.2;
                }
                iVar17 = DAT_0047e2c4 + local_14[uVar16] * 0x1c;
                iVar17 = (*(int *)(iVar17 + 0x20) - *(int *)(iVar17 + 4)) + 0x32;
                fVar31 = (float10)iVar17;
                if (iVar17 < 0) {
                  fVar31 = fVar31 + (float10)4294967296.0;
                }
                local_24 = (int)(longlong)
                                ROUND(((float10)(uVar11 - 4) * fVar28 + fVar29) * fVar31 * fVar30);
              }
              local_40 = local_40 + local_24;
            }
            if ((local_3c ==
                 ((ushort)(&DAT_0047cef8)[iVar9] - 1) + (uint)(ushort)(&DAT_0047cefe)[iVar9]) &&
               (uVar11 = 0, 0 < iVar15)) {
              puVar14 = &DAT_0047cefe + param_1 * 0x1e0;
              do {
                if ((int)local_14[uVar11] < (int)((puVar14[-3] - 1) + (uint)*puVar14)) {
                  local_3c = local_14[uVar11];
                  uVar16 = uVar11;
                  break;
                }
                uVar11 = uVar11 + 1;
                puVar14 = puVar14 + 1;
              } while ((int)uVar11 < iVar15);
            }
            local_3c = local_3c + 1;
          } while ((int)local_3c <
                   (int)((uint)(ushort)(&DAT_0047cef8)[iVar22 + uVar16] +
                        (uint)(ushort)(&DAT_0047cefe)[iVar22 + uVar16]));
        }
        fVar30 = (float10)local_40;
        iVar24 = iVar6 + uVar16;
        iVar9 = uVar16 + param_1 * 3;
        if ((&DAT_0047c752)[param_1 * 0xf0] == 2) {
          if ((int)local_40 < 0) {
            fVar30 = fVar30 + (float10)4294967296.0;
          }
          local_24 = (int)(longlong)
                          ROUND(((fVar30 / (float10)83.33333333333333) * (float10)100.0 + fVar27) /
                                fVar26);
          local_24 = ((((uint)(ushort)(&DAT_0047e298)[iVar9] - (uint)(ushort)(&DAT_0047e2a4)[uVar16]
                       ) + ((uint)(&DAT_0047c770)[param_1 * 0x78] / 100) * 2) * 5 +
                     (uint)(ushort)(&DAT_0047c7d0)[iVar10 + uVar16]) * 100 +
                     ((&DAT_0047c7b8)[iVar24] * 5 + (&DAT_0047c7c4)[iVar24]) * 6 + local_24;
        }
        else {
          if ((int)local_40 < 0) {
            fVar30 = fVar30 + (float10)4294967296.0;
          }
          local_24 = (int)(longlong)
                          ROUND(((fVar30 / (float10)83.33333333333333) * (float10)300.0 + fVar27) /
                                fVar26);
          local_24 = (((uint)(ushort)(&DAT_0047e298)[iVar9] - (uint)(ushort)(&DAT_0047e2a4)[uVar16])
                      * 5 + (uint)(ushort)(&DAT_0047c7d0)[iVar10 + uVar16]) * 100 +
                     ((&DAT_0047c7b8)[iVar24] * 5 + (&DAT_0047c7c4)[iVar24]) * 6 + local_24;
        }
        DAT_0047e2b8 = DAT_0047e2b8 + local_24 * 10;
        if ((0x1c1 < (int)DAT_0047e2b0) &&
           (uVar12 = (int)((&DAT_0047c768)[param_1 * 0x78] - DAT_0047e2b8) >> 0x1f,
           (int)(((&DAT_0047c768)[param_1 * 0x78] - DAT_0047e2b8 ^ uVar12) - uVar12) < 25000))
        goto LAB_0040c9c8;
        if ((DAT_0047e2b8 < (&DAT_0047c768)[param_1 * 0x78] - 9000) && (uVar2 < 4)) {
          uVar12 = DAT_0047e2b0 & 0x80000001;
          bVar25 = uVar12 == 0;
          if ((int)uVar12 < 0) {
            bVar25 = (uVar12 - 1 | 0xfffffffe) == 0xffffffff;
          }
          if (bVar25) {
            iVar9 = (&DAT_0047c784)[param_1 * 0x78];
            dVar7 = (double)iVar9;
            if (iVar9 < 0) {
              dVar7 = dVar7 + 4294967296.0;
            }
            iVar17 = iVar9 + (&DAT_0047c788)[param_1 * 0x78] * 10;
            dVar8 = (double)iVar17;
            if (iVar17 < 0) {
              dVar8 = dVar8 + 4294967296.0;
            }
            if ((dVar7 / dVar8 < 0.25) && (*(int *)(&DAT_0047c754 + iVar22) == 0)) {
              iVar9 = iVar9 + 10;
LAB_0040c59a:
              (&DAT_0047c784)[param_1 * 0x78] = iVar9;
              goto LAB_0040c5a0;
            }
          }
          iVar9 = (&DAT_0047c788)[param_1 * 0x78];
          uVar12 = (&DAT_0047c784)[param_1 * 0x78];
          dVar7 = (double)iVar9;
          if (iVar9 < 0) {
            dVar7 = dVar7 + 4294967296.0;
          }
          iVar17 = uVar12 + iVar9 * 10;
          dVar8 = (double)iVar17;
          if (iVar17 < 0) {
            dVar8 = dVar8 + 4294967296.0;
          }
          if ((((0.065 <= dVar7 / dVar8) && (*(int *)(&DAT_0047c754 + iVar22) == 0)) ||
              (*(int *)(&DAT_0047c758 + iVar22) != 0)) || (_DAT_0047e2b4 != 0)) {
            if (((dVar7 / dVar8 <= 0.075) || (uVar12 < 0x65)) ||
               ((*(int *)(&DAT_0047c758 + iVar22) != 0 || (_DAT_0047e2b4 != 0)))) {
              if (*(int *)(&DAT_0047c754 + iVar22) == 0) {
                (&DAT_0047c784)[param_1 * 0x78] = uVar12 + 10;
              }
            }
            else {
              (&DAT_0047c788)[param_1 * 0x78] = iVar9 + -10;
            }
          }
          else {
            (&DAT_0047c788)[param_1 * 0x78] = iVar9 + 10;
          }
        }
        else if (((&DAT_0047c768)[param_1 * 0x78] + 9000 < DAT_0047e2b8) && (uVar2 < 4)) {
          uVar12 = DAT_0047e2b0 & 0x80000001;
          bVar25 = uVar12 == 0;
          if ((int)uVar12 < 0) {
            bVar25 = (uVar12 - 1 | 0xfffffffe) == 0xffffffff;
          }
          if (bVar25) {
            iVar9 = (&DAT_0047c784)[param_1 * 0x78];
            dVar7 = (double)iVar9;
            if (iVar9 < 0) {
              dVar7 = dVar7 + 4294967296.0;
            }
            iVar17 = iVar9 + (&DAT_0047c788)[param_1 * 0x78] * 10;
            dVar8 = (double)iVar17;
            if (iVar17 < 0) {
              dVar8 = dVar8 + 4294967296.0;
            }
            if ((dVar7 / dVar8 <= 0.35) || (*(int *)(&DAT_0047c754 + iVar22) != 0))
            goto LAB_0040c4fd;
LAB_0040c597:
            iVar9 = iVar9 + -10;
            goto LAB_0040c59a;
          }
LAB_0040c4fd:
          iVar17 = (&DAT_0047c788)[param_1 * 0x78];
          iVar9 = (&DAT_0047c784)[param_1 * 0x78];
          dVar7 = (double)iVar17;
          if (iVar17 < 0) {
            dVar7 = dVar7 + 4294967296.0;
          }
          iVar5 = iVar9 + iVar17 * 10;
          dVar8 = (double)iVar5;
          if (iVar5 < 0) {
            dVar8 = dVar8 + 4294967296.0;
          }
          if (((0.065 <= dVar7 / dVar8) || (*(int *)(&DAT_0047c758 + iVar22) != 0)) ||
             (_DAT_0047e2b4 != 0)) {
            if ((0.075 < dVar7 / dVar8) || (bVar25 = *(int *)(&DAT_0047c754 + iVar22) == 0, !bVar25)
               ) {
              if ((*(int *)(&DAT_0047c758 + iVar22) == 0) && (_DAT_0047e2b4 == 0)) {
                (&DAT_0047c788)[param_1 * 0x78] = iVar17 + -10;
                goto LAB_0040c5a0;
              }
              bVar25 = *(int *)(&DAT_0047c754 + iVar22) == 0;
            }
            if (bVar25) goto LAB_0040c597;
          }
          else {
            (&DAT_0047c788)[param_1 * 0x78] = iVar17 + 10;
          }
        }
LAB_0040c5a0:
        if (499 < (int)DAT_0047e2b0) {
          if ((*(int *)(&DAT_0047c758 + iVar22) == 0) && (_DAT_0047e2b4 == 0)) {
            fVar27 = (float10)*(int *)(&DAT_0047c780 + iVar22);
            if (*(int *)(&DAT_0047c780 + iVar22) < 0) {
              fVar27 = fVar27 + (float10)4294967296.0;
            }
            local_34 = (int)(longlong)ROUND((fVar27 * (float10)0.07000000000000001) / fVar26);
            (&DAT_0047c788)[param_1 * 0x78] = local_34 * 10;
          }
          if (*(int *)(&DAT_0047c754 + iVar22) == 0) {
            fVar27 = (float10)*(int *)(&DAT_0047c780 + iVar22);
            if (*(int *)(&DAT_0047c780 + iVar22) < 0) {
              fVar27 = fVar27 + (float10)4294967296.0;
            }
            local_34 = (int)(longlong)ROUND((fVar27 * (float10)0.3) / fVar26);
            (&DAT_0047c784)[param_1 * 0x78] = local_34 * 10;
          }
          goto LAB_0040c9c8;
        }
        uVar12 = (int)((&DAT_0047c768)[param_1 * 0x78] - DAT_0047e2b8) >> 0x1f;
        if ((((int)(((&DAT_0047c768)[param_1 * 0x78] - DAT_0047e2b8 ^ uVar12) - uVar12) < 0x2329) ||
            (999 < (int)DAT_0047e2b0)) || (3 < uVar2)) goto LAB_0040c9c8;
      } while( true );
    }
    if ((&DAT_0047c784)[param_1 * 0x78] == 0) {
      (&DAT_0047c784)[param_1 * 0x78] = 1000;
    }
    if ((&DAT_0047c788)[param_1 * 0x78] == 0) {
      (&DAT_0047c788)[param_1 * 0x78] = 1000;
    }
  }
  else {
    local_40 = 0;
    local_2c = 0;
    (&DAT_0047c788)[param_1 * 0x78] = 0;
    if ((DAT_0047e2d4 == 0) || (DAT_0047e2d6 == 0)) {
      *(undefined4 *)(&DAT_0047c8e8 + param_1 * 0xf0) = 0;
      (&DAT_0047c8ec)[param_1 * 0xf0] = 0;
    }
    _DAT_0047e294 = 0;
    DAT_0047e2b0 = 0;
    if (*(int *)(&DAT_0047c75c + iVar22) == 0) {
      fVar27 = (float10)(&DAT_0047c768)[param_1 * 0x78];
      if ((int)(&DAT_0047c768)[param_1 * 0x78] < 0) {
        fVar27 = fVar27 + (float10)4294967296.0;
      }
      uStack_30 = (uint)(ushort)(&DAT_0047c7a4)[iVar9];
      local_34 = (int)(longlong)ROUND((fVar27 / (float10)uStack_30) / fVar26);
      (&DAT_0047c784)[param_1 * 0x78] = local_34 * 10;
    }
    else {
      (&DAT_0047c784)[param_1 * 0x78] = *(int *)(&DAT_0047c75c + iVar22);
    }
    while (*(int *)(&DAT_0047c75c + iVar22) == 0) {
      DAT_0047e2b0 = DAT_0047e2b0 + 1;
      uVar2 = (&DAT_0047cefe)[iVar22 + uVar23];
      local_28 = (ushort *)(uint)uVar2;
      uVar3 = (&DAT_0047cef8)[iVar22 + uVar23];
      iVar15 = 0;
      (&DAT_0047c7d8)[iVar24] = 0;
      (&DAT_0047c770)[param_1 * 0x78] = 0;
      if (local_28 < (uint)uVar3 + (int)local_28) {
        uStack_30 = (uint)uVar2;
        local_54 = ((uint)uVar3 + (int)local_28) - uStack_30;
        local_38 = (ushort *)(DAT_0047e2c4 + 2 + (int)local_28 * 0x1c);
        iVar15 = 0;
        do {
          local_28 = (ushort *)((int)local_28 + 1);
          uVar2 = *local_38;
          if (uVar2 < 2) {
            (&DAT_0047c770)[param_1 * 0x78] = (&DAT_0047c770)[param_1 * 0x78] + 1;
            iVar15 = iVar15 + ((uint)(&DAT_0047c784)[param_1 * 0x78] / 10) * 10;
          }
          else if (uVar2 < 4) {
            (&DAT_0047c770)[param_1 * 0x78] = (&DAT_0047c770)[param_1 * 0x78] + 1;
            iVar15 = iVar15 + ((uint)(&DAT_0047c784)[param_1 * 0x78] / 10) * 0x14;
          }
          else {
            if (uVar2 == 4) {
              puVar14 = local_38 + 0xe;
              uVar2 = *puVar14;
              uVar18 = (uint)local_28;
              while (uVar2 == 4) {
                puVar14 = puVar14 + 0xe;
                uVar18 = uVar18 + 1;
                uVar2 = *puVar14;
              }
              uVar18 = *(int *)(DAT_0047e2c4 + 4 + uVar18 * 0x1c) - *(int *)(local_38 + 1);
              local_34 = (int)(longlong)ROUND((double)(((int)uVar18 < 0) - 1 & uVar18) / 83.0);
              local_34 = local_34 * 100;
            }
            else {
              if (uVar2 != 5) goto LAB_0040c8dd;
              puVar14 = local_38 + 0xe;
              uVar2 = *puVar14;
              uVar18 = (uint)local_28;
              while (uVar2 == 5) {
                puVar14 = puVar14 + 0xe;
                uVar18 = uVar18 + 1;
                uVar2 = *puVar14;
              }
              uVar18 = *(int *)(DAT_0047e2c4 + 4 + uVar18 * 0x1c) - *(int *)(local_38 + 1);
              local_34 = (int)(longlong)ROUND((double)(((int)uVar18 < 0) - 1 & uVar18) / 83.0);
              local_34 = local_34 * 0x96;
            }
            iVar15 = iVar15 + local_34;
          }
LAB_0040c8dd:
          local_38 = local_38 + 0xe;
          local_54 = local_54 + -1;
        } while (local_54 != 0);
      }
      uVar18 = ((uint)(ushort)(&DAT_0047e298)[param_1 * 3 + uVar23] -
               (uint)(ushort)(&DAT_0047e2a4)[uVar23]) * 5000 +
               ((&DAT_0047c7b8)[iVar24] + -1) * 300 + iVar15;
      DAT_0047e2b8 = uVar18;
      if (uVar18 == local_40) {
        (&DAT_0047c784)[param_1 * 0x78] = local_2c;
        break;
      }
      uVar12 = uVar18 - (&DAT_0047c768)[param_1 * 0x78];
      uVar19 = (int)uVar12 >> 0x1f;
      uVar11 = local_40 - (&DAT_0047c768)[param_1 * 0x78];
      uVar21 = (int)uVar11 >> 0x1f;
      if (((int)((uVar12 ^ uVar19) - uVar19) < (int)((uVar11 ^ uVar21) - uVar21)) &&
         (((&DAT_0047c752)[param_1 * 0xf0] != 2 ||
          ((int)(&DAT_0047c768)[param_1 * 0x78] <= (int)uVar18)))) {
        local_2c = (&DAT_0047c784)[param_1 * 0x78];
        local_40 = uVar18;
      }
      uVar12 = (&DAT_0047c768)[param_1 * 0x78];
      if (uVar18 < uVar12) {
        (&DAT_0047c784)[param_1 * 0x78] = (&DAT_0047c784)[param_1 * 0x78] + 10;
      }
      else if (uVar12 < uVar18) {
        (&DAT_0047c784)[param_1 * 0x78] = (&DAT_0047c784)[param_1 * 0x78] + -10;
      }
      if ((DAT_0047e2b0 == 500) ||
         (uVar18 = (int)(uVar12 - uVar18) >> 0x1f, (int)((uVar12 - uVar18 ^ uVar18) - uVar18) < 0x33
         )) break;
    }
  }
LAB_0040c9c8:
  (&DAT_0047c768)[param_1 * 0x78] = 0;
  (&DAT_0047c770)[param_1 * 0x78] = 0;
  (&DAT_0047c7d8)[iVar6 + uVar16] = 0;
  ___security_check_cookie_4(local_14[3] ^ (uint)&stack0xfffffffc);
  return;
}



void __fastcall FUN_0040ca20(short *param_1)

{
  short *_Dst;
  uchar uVar1;
  char cVar2;
  undefined8 *puVar3;
  char *pcVar4;
  uchar *puVar5;
  uchar *puVar6;
  short *psVar7;
  uchar *puVar8;
  uint uVar9;
  int iVar10;
  size_t sVar11;
  char *_Str2;
  uchar **ppuVar12;
  double local_43c;
  longlong local_434;
  FILE *local_42c [2];
  undefined *local_424;
  uint local_420;
  short *local_41c;
  uint local_418;
  uchar local_414 [511];
  undefined local_215;
  uchar local_214 [5];
  char local_20f;
  char local_20e;
  uchar local_20d;
  uchar local_20c;
  char local_20b;
  uchar local_20a;
  char local_209 [505];
  uchar local_10 [8];
  uint local_8;
  
  local_8 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  local_418 = 0xff;
  local_41c = param_1;
  fopen_s(local_42c,(char *)(param_1 + 1),(char *)&_Mode_00464920);
  psVar7 = param_1 + 599;
  puVar3 = (undefined8 *)(param_1 + 0x184);
  iVar10 = 6;
  do {
    *puVar3 = 0;
    *psVar7 = 0;
    puVar3 = puVar3 + 1;
    psVar7 = psVar7 + 1;
    iVar10 = iVar10 + -1;
  } while (iVar10 != 0);
  param_1[0x21d] = 100;
  param_1[0x25d] = 3;
  *(undefined4 *)(param_1 + 0x24e) = 0xff;
  *(undefined4 *)(param_1 + 0x250) = 0;
  param_1[0x220] = 0;
  param_1[0x19c] = 0;
  *(undefined4 *)(param_1 + 0x21e) = 0;
  strcpy_s((char *)(param_1 + 0x101),0x100,(char *)&_Src_0046296e);
  if (local_42c[0] == (FILE *)0x0) {
    strcpy_s((char *)(param_1 + 0x81),0x100,"untitled");
  }
  else {
    if (*param_1 == 2) {
      pcVar4 = fgets((char *)local_214,0x200,local_42c[0]);
      if (pcVar4 != (char *)0x0) {
        local_424 = &local_215;
        do {
          puVar5 = local_214;
          do {
            uVar1 = *puVar5;
            puVar5 = puVar5 + 1;
          } while (uVar1 != '\0');
          if (local_424[(int)puVar5 - (int)(local_214 + 1)] == '\n') {
            local_424[(int)puVar5 - (int)(local_214 + 1)] = 0;
          }
          puVar5 = local_214;
          do {
            uVar1 = *puVar5;
            puVar5 = puVar5 + 1;
          } while (uVar1 != '\0');
          if (local_424[(int)puVar5 - (int)(local_214 + 1)] == '\r') {
            local_424[(int)puVar5 - (int)(local_214 + 1)] = 0;
          }
          iVar10 = strncmp((char *)local_214,"TITLE:",6);
          if (iVar10 == 0) {
            strcpy_s((char *)(param_1 + 0x81),0x100,&local_20e);
          }
          else {
            iVar10 = strncmp((char *)local_214,"SUBTITLE:",9);
            if (iVar10 == 0) {
              if (local_20b == '-') {
                if (local_20a == '-') {
                  pcVar4 = local_209;
                }
                else {
LAB_0040cc02:
                  pcVar4 = &local_20b;
                }
              }
              else {
                if ((local_20b != '+') || (local_20a != '+')) goto LAB_0040cc02;
                pcVar4 = local_209;
              }
              strcpy_s((char *)(param_1 + 0x101),0x100,pcVar4);
            }
            else {
              iVar10 = strncmp((char *)local_214,"LEVEL:",6);
              if (iVar10 == 0) {
                strcpy_s((char *)local_414,0x200,&local_20e);
                if (local_418 == 0xff) {
                  puVar3 = (undefined8 *)(param_1 + 0x184);
                  sscanf_s((char *)local_414,(char *)&_Format_00464940,puVar3);
                  *(undefined8 *)(param_1 + 0x188) = *puVar3;
                  *(undefined8 *)(param_1 + 0x18c) = *puVar3;
                  *(undefined8 *)(param_1 + 400) = *puVar3;
                  *(undefined8 *)(param_1 + 0x194) = *puVar3;
                  *(undefined8 *)(param_1 + 0x198) = *puVar3;
                }
                else if (local_418 < 6) {
                  sscanf_s((char *)local_414,(char *)&_Format_00464944,
                           param_1 + local_418 * 4 + 0x184);
                }
              }
              else {
                iVar10 = strncmp((char *)local_214,"WAVE:",5);
                if (iVar10 == 0) {
                  puVar5 = _mbsrchr(local_214,0x2e);
                  if (puVar5 != (uchar *)0x0) {
                    puVar5 = local_214;
                    do {
                      uVar1 = *puVar5;
                      puVar5 = puVar5 + 1;
                    } while (uVar1 != '\0');
                    puVar6 = _mbsrchr(local_214,0x2e);
                    puVar8 = puVar6 + 1;
                    do {
                      uVar1 = *puVar6;
                      puVar6 = puVar6 + 1;
                    } while (uVar1 != '\0');
                    _mbsnbcpy_s(local_10,5,puVar5 + (-1 - ((int)puVar6 - (int)puVar8)),4);
                    iVar10 = strncmp((char *)local_10,(char *)&_Str2_00464950,4);
                    if (iVar10 == 0) {
                      param_1[0x19c] = 1;
                    }
                    else {
                      iVar10 = strncmp((char *)local_10,(char *)&_Str2_00464958,4);
                      if (iVar10 == 0) {
                        param_1[0x19c] = 2;
                      }
                      else {
                        iVar10 = strncmp((char *)local_10,(char *)&_Str2_00464960,4);
                        if (iVar10 == 0) {
                          param_1[0x19c] = 3;
                        }
                        else if (param_1[0x19c] == 0) goto LAB_0040d8be;
                      }
                    }
                    psVar7 = param_1 + 1;
                    do {
                      cVar2 = *(char *)psVar7;
                      psVar7 = (short *)((int)psVar7 + 1);
                    } while (cVar2 != '\0');
                    puVar8 = _mbsrchr((uchar *)(local_41c + 1),0x5c);
                    puVar5 = puVar8 + 1;
                    do {
                      uVar1 = *puVar8;
                      puVar8 = puVar8 + 1;
                    } while (uVar1 != '\0');
                    _Dst = local_41c + 0x19d;
                    _mbsnbcpy_s((uchar *)_Dst,0x100,(uchar *)(local_41c + 1),
                                (size_t)((int)psVar7 +
                                        (-((int)puVar8 - (int)puVar5) - ((int)param_1 + 3))));
                    strcat_s((char *)_Dst,0x100,(char *)&_Src_00464968);
                    strcat_s((char *)_Dst,0x100,&local_20f);
                    param_1 = local_41c;
                  }
                }
                else {
                  iVar10 = strncmp((char *)local_214,"COURSE:",7);
                  if (iVar10 == 0) {
                    local_420 = 0xff;
                    _mbsnbcpy_s(local_214,0x100,&local_20d,0xfa);
                    sscanf_s((char *)local_214,(char *)&_Format_00464974,&local_420);
                    puVar5 = _mbschr(local_214,0x45);
                    if (puVar5 == (uchar *)0x0) {
                      puVar5 = _mbschr(local_214,0x65);
                      if (puVar5 != (uchar *)0x0) {
                        puVar5 = _mbschr(local_214,0x65);
                        strcpy_s((char *)local_414,0x200,(char *)puVar5);
                        iVar10 = _mbsnbcmp(local_414,(uchar *)&_Str2_00464998,4);
                        if (iVar10 != 0) {
                          ppuVar12 = &_Str2_004649a0;
                          goto LAB_0040cfab;
                        }
                        goto LAB_0040cf91;
                      }
                    }
                    else {
                      puVar5 = _mbschr(local_214,0x45);
                      strcpy_s((char *)local_414,0x200,(char *)puVar5);
                      iVar10 = _mbsnbcmp(local_414,(uchar *)&_Str2_00464978,4);
                      if ((iVar10 == 0) ||
                         (iVar10 = _mbsnbcmp(local_414,(uchar *)&_Str2_00464980,4), iVar10 == 0)) {
LAB_0040cf91:
                        local_418 = 0;
                      }
                      else {
                        iVar10 = _mbsnbcmp(local_414,(uchar *)&_Str2_00464988,4);
                        if (iVar10 != 0) {
                          ppuVar12 = (uchar **)&DAT_00464990;
LAB_0040cfab:
                          iVar10 = _mbsnbcmp(local_414,(uchar *)ppuVar12,4);
                          if (iVar10 != 0) goto LAB_0040cfbe;
                        }
                        local_418 = 4;
                      }
                    }
LAB_0040cfbe:
                    puVar5 = _mbschr(local_214,0x4e);
                    if (puVar5 == (uchar *)0x0) {
                      puVar5 = _mbschr(local_214,0x6e);
                      if (puVar5 != (uchar *)0x0) {
                        puVar5 = _mbschr(local_214,0x6e);
                        strcpy_s((char *)local_414,0x200,(char *)puVar5);
                        iVar10 = _mbsnbcmp(local_414,(uchar *)"normal",6);
                        goto LAB_0040d05d;
                      }
                    }
                    else {
                      puVar5 = _mbschr(local_214,0x4e);
                      strcpy_s((char *)local_414,0x200,(char *)puVar5);
                      iVar10 = _mbsnbcmp(local_414,(uchar *)"Normal",6);
                      if (iVar10 != 0) {
                        iVar10 = _mbsnbcmp(local_414,(uchar *)"NORMAL",6);
LAB_0040d05d:
                        if (iVar10 != 0) goto LAB_0040d06b;
                      }
                      local_418 = 1;
                    }
LAB_0040d06b:
                    puVar5 = _mbschr(local_214,0x48);
                    if (puVar5 == (uchar *)0x0) {
                      puVar5 = _mbschr(local_214,0x68);
                      if (puVar5 != (uchar *)0x0) {
                        puVar5 = _mbschr(local_214,0x68);
                        strcpy_s((char *)local_414,0x200,(char *)puVar5);
                        sVar11 = 4;
                        ppuVar12 = &_Str2_004649c8;
                        goto LAB_0040d0e3;
                      }
                    }
                    else {
                      puVar5 = _mbschr(local_214,0x48);
                      strcpy_s((char *)local_414,0x200,(char *)puVar5);
                      sVar11 = 1;
                      ppuVar12 = (uchar **)&DAT_004649c0;
LAB_0040d0e3:
                      iVar10 = _mbsnbcmp(local_414,(uchar *)ppuVar12,sVar11);
                      if (iVar10 == 0) {
                        local_418 = 2;
                      }
                    }
                    puVar5 = _mbschr(local_214,0x4f);
                    if (puVar5 == (uchar *)0x0) {
                      puVar5 = _mbschr(local_214,0x6f);
                      if (puVar5 != (uchar *)0x0) {
                        puVar5 = _mbschr(local_214,0x6f);
                        strcpy_s((char *)local_414,0x200,(char *)puVar5);
                        iVar10 = _mbsnbcmp(local_414,(uchar *)&_Str2_004649d8,3);
                        goto LAB_0040d195;
                      }
                    }
                    else {
                      puVar5 = _mbschr(local_214,0x4f);
                      strcpy_s((char *)local_414,0x200,(char *)puVar5);
                      iVar10 = _mbsnbcmp(local_414,(uchar *)&_Str2_004649d0,3);
                      if (iVar10 != 0) {
                        iVar10 = _mbsnbcmp(local_414,(uchar *)&_Str2_004649d4,3);
LAB_0040d195:
                        if (iVar10 != 0) goto LAB_0040d1a3;
                      }
                      local_418 = 3;
                    }
LAB_0040d1a3:
                    puVar5 = _mbschr(local_214,0x74);
                    if (puVar5 == (uchar *)0x0) {
                      puVar5 = _mbschr(local_214,0x54);
                      if (puVar5 != (uchar *)0x0) {
                        puVar5 = _mbschr(local_214,0x54);
                        strcpy_s((char *)local_414,0x200,(char *)puVar5);
                        iVar10 = _mbsnbcmp(local_414,(uchar *)"Tower",5);
                        if ((iVar10 == 0) ||
                           (iVar10 = _mbsnbcmp(local_414,(uchar *)"TOWER",5), iVar10 == 0)) {
                          local_418 = 5;
                        }
                      }
                    }
                    else {
                      puVar5 = _mbschr(local_214,0x74);
                      strcpy_s((char *)local_414,0x200,(char *)puVar5);
                      iVar10 = _mbsnbcmp(local_414,(uchar *)"tower",5);
                      if (iVar10 == 0) {
                        local_418 = 5;
                      }
                    }
                    if ((ushort)local_420 < 6) {
                      local_418 = local_420 & 0xffff;
LAB_0040d217:
                      uVar9 = 5;
                      if ((int)local_418 < 6) goto LAB_0040d221;
                    }
                    else {
                      if (local_418 != 0xff) goto LAB_0040d217;
                      local_418 = 3;
LAB_0040d221:
                      uVar9 = local_418;
                    }
                    if (((uint)(ushort)param_1[0x256] & 1 << ((byte)uVar9 & 0x1f)) == 0) {
                      uVar9 = 5;
                      if ((int)local_418 < 6) {
                        uVar9 = local_418;
                      }
                      param_1[0x256] = (1 << ((byte)uVar9 & 0x1f)) + param_1[0x256];
                    }
                    if (*(int *)(param_1 + 0x24e) == 0xff) {
                      *(uint *)(param_1 + 0x24e) = local_418;
                    }
                  }
                  else {
                    iVar10 = strncmp((char *)local_214,"SONGVOL:",8);
                    if (iVar10 == 0) {
                      _mbsnbcpy_s(local_414,0x100,&local_20c,0xfa);
                      sscanf_s((char *)local_414,(char *)&_Format_00464a00,param_1 + 0x21d);
                    }
                    else {
                      iVar10 = strncmp((char *)local_214,"DEMOSTART:",10);
                      if (iVar10 == 0) {
                        _mbsnbcpy_s(local_414,0x100,&local_20a,0xfa);
                        sscanf_s((char *)local_414,(char *)&_Format_00464a10,&local_43c);
                        local_434 = (longlong)ROUND(local_43c * 1000.0);
                        *(undefined4 *)(param_1 + 0x21e) = (undefined4)local_434;
                      }
                      else {
                        iVar10 = strncmp((char *)local_214,"SIDE:",5);
                        if (iVar10 == 0) {
                          local_420 = 0xff;
                          param_1[0x25d] = 3;
                          strcpy_s((char *)local_214,0x200,&local_20f);
                          sscanf_s((char *)local_214,(char *)&_Format_00464a1c,&local_420);
                          puVar5 = _mbschr(local_214,0x4e);
                          if (puVar5 == (uchar *)0x0) {
                            puVar5 = _mbschr(local_214,0x6e);
                            if (puVar5 != (uchar *)0x0) {
                              puVar5 = _mbschr(local_214,0x6e);
                              strcpy_s((char *)local_414,0x200,(char *)puVar5);
                              iVar10 = _mbsnbcmp(local_414,(uchar *)&_Str2_00464a34,1);
                              if (iVar10 != 0) {
                                pcVar4 = "normal";
                                goto LAB_0040d50a;
                              }
                              goto LAB_0040d51e;
                            }
                            puVar5 = _mbschr(local_214,0x45);
                            if (puVar5 == (uchar *)0x0) {
                              puVar5 = _mbschr(local_214,0x65);
                              if (puVar5 == (uchar *)0x0) {
                                puVar5 = _mbschr(local_214,0x42);
                                if (puVar5 == (uchar *)0x0) {
                                  puVar5 = _mbschr(local_214,0x62);
                                  if (puVar5 == (uchar *)0x0) goto LAB_0040d73a;
                                  puVar5 = _mbschr(local_214,0x62);
                                  strcpy_s((char *)local_414,0x200,(char *)puVar5);
                                  iVar10 = _mbsnbcmp(local_414,(uchar *)&_Str2_00464a80,1);
                                  if (iVar10 != 0) {
                                    puVar5 = "both";
                                    goto LAB_0040d71e;
                                  }
                                }
                                else {
                                  puVar5 = _mbschr(local_214,0x42);
                                  strcpy_s((char *)local_414,0x200,(char *)puVar5);
                                  iVar10 = _mbsnbcmp(local_414,(uchar *)&_Str2_00464a6c,1);
                                  if ((iVar10 != 0) &&
                                     (iVar10 = _mbsnbcmp(local_414,(uchar *)&_Str2_00464a70,4),
                                     iVar10 != 0)) {
                                    puVar5 = "BOTH";
LAB_0040d71e:
                                    iVar10 = _mbsnbcmp(local_414,puVar5,4);
                                    if (iVar10 != 0) goto LAB_0040d73a;
                                  }
                                }
                                param_1[0x25d] = 3;
                              }
                              else {
                                puVar5 = _mbschr(local_214,0x65);
                                strcpy_s((char *)local_414,0x200,(char *)puVar5);
                                iVar10 = _mbsnbcmp(local_414,(uchar *)&_Str2_00464a5c,1);
                                if (((iVar10 == 0) ||
                                    (iVar10 = _mbsnbcmp(local_414,(uchar *)&_Str2_00464a60,2),
                                    iVar10 == 0)) ||
                                   (iVar10 = _mbsnbcmp(local_414,(uchar *)"extra",5), iVar10 == 0))
                                {
                                  param_1[0x25d] = 2;
                                }
                              }
                            }
                            else {
                              puVar5 = _mbschr(local_214,0x45);
                              strcpy_s((char *)local_414,0x200,(char *)puVar5);
                              iVar10 = _mbsnbcmp(local_414,(uchar *)&_Str2_00464a40,1);
                              if (((iVar10 == 0) ||
                                  (iVar10 = _mbsnbcmp(local_414,(uchar *)&_Str2_00464a44,2),
                                  iVar10 == 0)) ||
                                 ((iVar10 = _mbsnbcmp(local_414,(uchar *)"Extra",5), iVar10 == 0 ||
                                  ((iVar10 = _mbsnbcmp(local_414,(uchar *)&_Str2_00464a50,2),
                                   iVar10 == 0 ||
                                   (iVar10 = _mbsnbcmp(local_414,(uchar *)"EXTRA",5), iVar10 == 0)))
                                  ))) {
                                param_1[0x25d] = 2;
                              }
                            }
                          }
                          else {
                            puVar5 = _mbschr(local_214,0x4e);
                            strcpy_s((char *)local_414,0x200,(char *)puVar5);
                            iVar10 = _mbsnbcmp(local_414,(uchar *)&_Str2_00464a20,1);
                            if ((iVar10 != 0) &&
                               (iVar10 = _mbsnbcmp(local_414,(uchar *)"Normal",5), iVar10 != 0)) {
                              pcVar4 = "NORMAL";
LAB_0040d50a:
                              iVar10 = _mbsnbcmp(local_414,(uchar *)pcVar4,5);
                              if (iVar10 != 0) goto LAB_0040d73a;
                            }
LAB_0040d51e:
                            param_1[0x25d] = 1;
                          }
LAB_0040d73a:
                          if ((ushort)((short)local_420 - 1U) < 3) {
                            param_1[0x25d] = (short)local_420;
                          }
                        }
                        else {
                          iVar10 = strncmp((char *)local_214,"#START",6);
                          if (iVar10 == 0) {
                            uVar9 = local_418;
                            if (6 < (int)local_418) {
                              uVar9 = 3;
                            }
                            pcVar4 = strchr(&local_20e,0x50);
                            if (pcVar4 == (char *)0x0) {
                              pcVar4 = strchr(&local_20e,0x70);
                              if (pcVar4 == (char *)0x0) {
                                if ((param_1[uVar9 + 599] & 1U) == 0) {
                                  param_1[uVar9 + 599] = param_1[uVar9 + 599] + 1;
                                }
                              }
                              else {
                                pcVar4 = strchr(&local_20e,0x70);
                                iVar10 = strncmp(pcVar4,(char *)&_Str2_00464a9c,2);
                                if ((iVar10 != 0) || ((param_1[uVar9 + 599] & 2U) != 0)) {
                                  pcVar4 = strchr(&local_20e,0x70);
                                  _Str2 = "p2";
                                  goto LAB_0040d85f;
                                }
                                param_1[uVar9 + 599] = param_1[uVar9 + 599] + 2;
                              }
                            }
                            else {
                              pcVar4 = strchr(&local_20e,0x50);
                              iVar10 = strncmp(pcVar4,(char *)&_Str2_00464a94,2);
                              if ((iVar10 == 0) && ((param_1[uVar9 + 599] & 2U) == 0)) {
                                param_1[uVar9 + 599] = param_1[uVar9 + 599] + 2;
                              }
                              else {
                                pcVar4 = strchr(&local_20e,0x50);
                                _Str2 = "P2";
LAB_0040d85f:
                                iVar10 = strncmp(pcVar4,_Str2,2);
                                if ((iVar10 == 0) && ((param_1[uVar9 + 599] & 4U) == 0)) {
                                  param_1[uVar9 + 599] = param_1[uVar9 + 599] + 4;
                                }
                              }
                            }
                          }
                          else {
                            iVar10 = strncmp((char *)local_214,"#BRANCHSTART",0xc);
                            if (iVar10 == 0) {
                              *(undefined4 *)(param_1 + 0x250) = 1;
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
LAB_0040d8be:
          pcVar4 = fgets((char *)local_214,0x200,local_42c[0]);
        } while (pcVar4 != (char *)0x0);
        fclose(local_42c[0]);
        goto LAB_0040dea5;
      }
    }
    else if ((*param_1 == 4) &&
            (pcVar4 = fgets((char *)local_214,0x200,local_42c[0]), pcVar4 != (char *)0x0)) {
      local_424 = &local_215;
      do {
        puVar5 = local_214;
        do {
          uVar1 = *puVar5;
          puVar5 = puVar5 + 1;
        } while (uVar1 != '\0');
        if (local_424[(int)puVar5 - (int)(local_214 + 1)] == '\n') {
          local_424[(int)puVar5 - (int)(local_214 + 1)] = 0;
        }
        puVar5 = local_214;
        do {
          uVar1 = *puVar5;
          puVar5 = puVar5 + 1;
        } while (uVar1 != '\0');
        if (local_424[(int)puVar5 - (int)(local_214 + 1)] == '\r') {
          local_424[(int)puVar5 - (int)(local_214 + 1)] = 0;
        }
        iVar10 = strncmp((char *)local_214,"TITLE:",6);
        if (iVar10 == 0) {
          strcpy_s((char *)(local_41c + 0x81),0x100,&local_20e);
        }
        else {
          iVar10 = strncmp((char *)local_214,"COURSE:",7);
          if (iVar10 == 0) {
            local_420 = 0xff;
            _mbsnbcpy_s(local_214,0x100,&local_20d,0xfa);
            sscanf_s((char *)local_214,(char *)&_Format_00464ac4,&local_420);
            puVar5 = _mbschr(local_214,0x45);
            if (puVar5 == (uchar *)0x0) {
              puVar5 = _mbschr(local_214,0x65);
              if (puVar5 != (uchar *)0x0) {
                puVar5 = _mbschr(local_214,0x65);
                strcpy_s((char *)local_414,0x200,(char *)puVar5);
                iVar10 = _mbsnbcmp(local_414,(uchar *)&_Str2_00464ae8,4);
                if (iVar10 != 0) {
                  ppuVar12 = &_Str2_00464af0;
                  goto LAB_0040db01;
                }
                goto LAB_0040dae7;
              }
            }
            else {
              puVar5 = _mbschr(local_214,0x45);
              strcpy_s((char *)local_414,0x200,(char *)puVar5);
              iVar10 = _mbsnbcmp(local_414,(uchar *)&_Str2_00464ac8,4);
              if ((iVar10 == 0) ||
                 (iVar10 = _mbsnbcmp(local_414,(uchar *)&_Str2_00464ad0,4), iVar10 == 0)) {
LAB_0040dae7:
                local_418 = 0;
              }
              else {
                iVar10 = _mbsnbcmp(local_414,(uchar *)&_Str2_00464ad8,4);
                if (iVar10 != 0) {
                  ppuVar12 = (uchar **)&DAT_00464ae0;
LAB_0040db01:
                  iVar10 = _mbsnbcmp(local_414,(uchar *)ppuVar12,4);
                  if (iVar10 != 0) goto LAB_0040db14;
                }
                local_418 = 4;
              }
            }
LAB_0040db14:
            puVar5 = _mbschr(local_214,0x4e);
            if (puVar5 == (uchar *)0x0) {
              puVar5 = _mbschr(local_214,0x6e);
              if (puVar5 != (uchar *)0x0) {
                puVar5 = _mbschr(local_214,0x6e);
                strcpy_s((char *)local_414,0x200,(char *)puVar5);
                iVar10 = _mbsnbcmp(local_414,(uchar *)"normal",6);
                goto LAB_0040dbab;
              }
            }
            else {
              puVar5 = _mbschr(local_214,0x4e);
              strcpy_s((char *)local_414,0x200,(char *)puVar5);
              iVar10 = _mbsnbcmp(local_414,(uchar *)"Normal",6);
              if (iVar10 != 0) {
                iVar10 = _mbsnbcmp(local_414,(uchar *)"NORMAL",6);
LAB_0040dbab:
                if (iVar10 != 0) goto LAB_0040dbb9;
              }
              local_418 = 1;
            }
LAB_0040dbb9:
            puVar5 = _mbschr(local_214,0x48);
            if (puVar5 == (uchar *)0x0) {
              puVar5 = _mbschr(local_214,0x68);
              if (puVar5 != (uchar *)0x0) {
                puVar5 = _mbschr(local_214,0x68);
                strcpy_s((char *)local_414,0x200,(char *)puVar5);
                sVar11 = 4;
                ppuVar12 = &_Str2_00464b18;
                goto LAB_0040dc29;
              }
            }
            else {
              puVar5 = _mbschr(local_214,0x48);
              strcpy_s((char *)local_414,0x200,(char *)puVar5);
              sVar11 = 1;
              ppuVar12 = (uchar **)&DAT_00464b10;
LAB_0040dc29:
              iVar10 = _mbsnbcmp(local_414,(uchar *)ppuVar12,sVar11);
              if (iVar10 == 0) {
                local_418 = 2;
              }
            }
            puVar5 = _mbschr(local_214,0x4f);
            if (puVar5 == (uchar *)0x0) {
              puVar5 = _mbschr(local_214,0x6f);
              if (puVar5 != (uchar *)0x0) {
                puVar5 = _mbschr(local_214,0x6f);
                strcpy_s((char *)local_414,0x200,(char *)puVar5);
                iVar10 = _mbsnbcmp(local_414,(uchar *)&_Str2_00464b28,3);
                goto LAB_0040dcd3;
              }
            }
            else {
              puVar5 = _mbschr(local_214,0x4f);
              strcpy_s((char *)local_414,0x200,(char *)puVar5);
              iVar10 = _mbsnbcmp(local_414,(uchar *)&_Str2_00464b20,3);
              if (iVar10 != 0) {
                iVar10 = _mbsnbcmp(local_414,(uchar *)&_Str2_00464b24,3);
LAB_0040dcd3:
                if (iVar10 != 0) goto LAB_0040dce1;
              }
              local_418 = 3;
            }
LAB_0040dce1:
            puVar5 = _mbschr(local_214,0x74);
            if (puVar5 == (uchar *)0x0) {
              puVar5 = _mbschr(local_214,0x54);
              if (puVar5 != (uchar *)0x0) {
                puVar5 = _mbschr(local_214,0x54);
                strcpy_s((char *)local_414,0x200,(char *)puVar5);
                iVar10 = _mbsnbcmp(local_414,(uchar *)"Tower",5);
                if ((iVar10 == 0) || (iVar10 = _mbsnbcmp(local_414,(uchar *)"TOWER",5), iVar10 == 0)
                   ) {
                  local_418 = 5;
                }
              }
            }
            else {
              puVar5 = _mbschr(local_214,0x74);
              strcpy_s((char *)local_414,0x200,(char *)puVar5);
              iVar10 = _mbsnbcmp(local_414,(uchar *)"tower",5);
              if (iVar10 == 0) {
                local_418 = 5;
              }
            }
            if ((ushort)local_420 < 6) {
              local_418 = local_420 & 0xffff;
LAB_0040ddaa:
              uVar9 = local_418;
              if (5 < (int)local_418) {
                uVar9 = 5;
              }
            }
            else {
              if (local_418 != 0xff) goto LAB_0040ddaa;
              uVar9 = 3;
              local_418 = 3;
            }
            if (((uint)(ushort)local_41c[0x256] & 1 << ((byte)uVar9 & 0x1f)) == 0) {
              uVar9 = local_418;
              if (5 < (int)local_418) {
                uVar9 = 5;
              }
              local_41c[0x256] = (1 << ((byte)uVar9 & 0x1f)) + local_41c[0x256];
            }
            if (*(int *)(local_41c + 0x24e) == 0xff) {
              *(uint *)(local_41c + 0x24e) = local_418;
            }
          }
          else {
            iVar10 = strncmp((char *)local_214,"SONG:",5);
            if (iVar10 == 0) {
              local_41c[0x220] = local_41c[0x220] + 1;
            }
          }
        }
        pcVar4 = fgets((char *)local_214,0x200,local_42c[0]);
        param_1 = local_41c;
      } while (pcVar4 != (char *)0x0);
    }
    fclose(local_42c[0]);
  }
LAB_0040dea5:
  if (*(int *)(param_1 + 0x24e) == 0xff) {
    *(undefined4 *)(param_1 + 0x24e) = 3;
    param_1[0x256] = 8;
  }
  ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_0040def0(void)

{
  uchar *puVar1;
  uchar uVar2;
  uchar *puVar3;
  uchar *puVar4;
  int iVar5;
  UINT UVar6;
  UINT UVar7;
  UINT UVar8;
  UINT UVar9;
  UINT UVar10;
  ushort uVar11;
  ushort uVar12;
  ushort uVar13;
  bool bVar14;
  bool bVar15;
  FILE *local_418;
  uchar local_414 [512];
  char local_214;
  undefined local_213 [255];
  uchar local_114;
  undefined local_113 [255];
  char local_14;
  undefined4 local_13;
  undefined4 local_f;
  undefined local_b;
  uint local_8;
  
  local_8 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  local_418 = (FILE *)0x0;
  local_114 = '\0';
  memset(local_113,0,0xff);
  local_14 = '0';
  local_13 = 0;
  local_f = 0;
  local_b = 0;
  local_214 = '\0';
  memset(local_213,0,0xff);
  strcpy_s((char *)&_Dst_0047dc6c,0x100,(char *)((int)&_Src_0046296e + 1));
  GetModuleFileNameA((HMODULE)0x0,(LPSTR)local_414,0x200);
  puVar3 = local_414;
  do {
    uVar2 = *puVar3;
    puVar3 = puVar3 + 1;
  } while (uVar2 != '\0');
  puVar4 = _mbsrchr(local_414,0x5c);
  puVar1 = puVar4 + 1;
  do {
    uVar2 = *puVar4;
    puVar4 = puVar4 + 1;
  } while (uVar2 != '\0');
  _mbsnbcpy_s(&local_114,0x100,local_414,
              (size_t)(puVar3 + (-((int)puVar4 - (int)puVar1) - (int)(local_414 + 1))));
  strcat_s((char *)&local_114,0x100,"\\config.ini");
  fopen_s(&local_418,(char *)&local_114,(char *)&_Mode_00464b64);
  if (local_418 == (FILE *)0x0) {
    DAT_0047ac70 = 2000;
    bVar14 = true;
  }
  else {
    fgets(&local_214,0x100,local_418);
    fclose(local_418);
    iVar5 = strncmp(&local_214,"[options]",9);
    bVar14 = iVar5 != 0;
    if (bVar14) {
      remove((char *)&local_114);
    }
    strcpy_s(&local_214,0x100,"");
    DAT_0047ac90 = GetPrivateProfileIntA("options","Framerate",0x78,(LPCSTR)&local_114);
    UVar6 = GetPrivateProfileIntA("options","Playmode",0,(LPCSTR)&local_114);
    uVar13 = (ushort)UVar6;
    UVar6 = GetPrivateProfileIntA("options","Autostart",0,(LPCSTR)&local_114);
    uVar11 = (ushort)UVar6;
    UVar6 = GetPrivateProfileIntA("options","Windowmode",100,(LPCSTR)&local_114);
    DAT_0047f114 = (ushort)UVar6;
    DAT_0047e744 = GetPrivateProfileIntA("options","Showscore",0,(LPCSTR)&local_114);
    UVar6 = GetPrivateProfileIntA("options","Notedist",5,(LPCSTR)&local_114);
    DAT_0047e740 = (ushort)UVar6;
    DAT_0047f118 = GetPrivateProfileIntA("options","JudgeLevel",100,(LPCSTR)&local_114);
    UVar6 = GetPrivateProfileIntA("options","ShowResult",100,(LPCSTR)&local_114);
    DAT_0047e748 = (ushort)UVar6;
    DAT_0047ac7c = GetPrivateProfileIntA("options","WindowWidth",0,(LPCSTR)&local_114);
    DAT_0047ac70 = GetPrivateProfileIntA("options","WavBufferSize",0,(LPCSTR)&local_114);
    UVar6 = GetPrivateProfileIntA("options","Keyaction",5,(LPCSTR)&local_114);
    uVar12 = (ushort)UVar6;
    GetPrivateProfileStringA
              ("options","Playspeed",(LPCSTR)&lpDefault_00462986,&local_214,0x100,(LPCSTR)&local_114
              );
    sscanf_s(&local_214,(char *)&_Format_00464c68);
    _DAT_0047ac88 = 1.0 / _DAT_0047ac88;
    DAT_0047e630 = GetPrivateProfileIntA("options","SongSelect",100,(LPCSTR)&local_114);
    UVar6 = GetPrivateProfileIntA("options","SearchAllDirectory",100,(LPCSTR)&local_114);
    UVar7 = GetPrivateProfileIntA("options","JudgeRangeGreat",5000,(LPCSTR)&local_114);
    DAT_0047cf76 = (ushort)UVar7;
    UVar7 = GetPrivateProfileIntA("options","JudgeRangeGood",5000,(LPCSTR)&local_114);
    _DAT_0047cf78 = CONCAT22(DAT_0047cf7a,(short)UVar7);
    UVar7 = GetPrivateProfileIntA("options","JudgeRangeBad",5000,(LPCSTR)&local_114);
    _DAT_0047cf78 = CONCAT22((short)UVar7,DAT_0047cf78);
    GetPrivateProfileStringA
              ("options","SelectFontName",(LPCSTR)((int)&lpDefault_00462986 + 1),
               (LPSTR)&_Dst_0047dc6c,0x100,(LPCSTR)&local_114);
    GetPrivateProfileStringA
              ("options","Language",(LPCSTR)&lpDefault_004629c1,(LPSTR)&_Dst_0047dfa0,0x100,
               (LPCSTR)&local_114);
    UVar7 = GetPrivateProfileIntA("options","UseOpenGL",100,(LPCSTR)&local_114);
    UVar8 = GetPrivateProfileIntA("options","PlaySongDemo",100,(LPCSTR)&local_114);
    UVar9 = GetPrivateProfileIntA("options","FullScreen",100,(LPCSTR)&local_114);
    UVar10 = GetPrivateProfileIntA("options","NoteBound",100,(LPCSTR)&local_114);
    DAT_0047ac84 = (ushort)UVar10;
    UVar10 = GetPrivateProfileIntA("options","SortMode",100,(LPCSTR)&local_114);
    DAT_0047f11c = (ushort)UVar10;
    if (((((((DAT_0047e740 == 5) || (DAT_0047f114 == 100)) || (DAT_0047f118 == 100)) ||
          ((DAT_0047e748 == 100 || (DAT_0047ac7c == 0)))) ||
         (((DAT_0047ac70 == 0 || ((uVar12 == 5 || (local_214 == '\0')))) || (DAT_0047e630 == 100))))
        || (((((short)UVar6 == 100 || (DAT_0047cf76 == 5000)) || (DAT_0047cf78 == 5000)) ||
            ((((char)_Dst_0047dfa0 == '\0' || ((short)UVar7 == 100)) ||
             (((short)UVar8 == 100 || (((short)UVar9 == 100 || (DAT_0047ac84 == 100)))))))))) ||
       (DAT_0047f11c == 100)) {
      fopen_s(&local_418,(char *)&local_114,(char *)&_Mode_00464d78);
      fclose(local_418);
      bVar14 = true;
    }
    if (2 < DAT_0047f114) {
      DAT_0047f114 = 0;
    }
    if (1 < uVar13) {
      uVar13 = 0;
    }
    if (1 < uVar11) {
      uVar11 = 0;
    }
    if (1 < (int)DAT_0047e744) {
      DAT_0047e744 = 0;
    }
    if (2 < DAT_0047e740) {
      DAT_0047e740 = 0;
    }
    if (2 < DAT_0047e748) {
      DAT_0047e748 = 0;
    }
    if (1 < uVar12) {
      uVar12 = 0;
    }
    if ((9 < (int)DAT_0047f118) || ((int)DAT_0047f118 < 0)) {
      DAT_0047f118 = 0;
    }
    if (DAT_0047ac7c == 0) {
      DAT_0047ac7c = 0x200;
    }
    else if ((int)DAT_0047ac7c < 0x100) {
      DAT_0047ac7c = 0x100;
    }
    if (_DAT_0047ac88 == 0.0) {
      _DAT_0047ac88 = 1.0;
    }
    else if (0.25 <= _DAT_0047ac88) {
      if (4.0 < _DAT_0047ac88) {
        _DAT_0047ac88 = 4.0;
      }
    }
    else {
      _DAT_0047ac88 = 0.25;
    }
    DAT_0047e58c = 0;
    bVar15 = uVar13 == 0;
    DAT_0047cae8 = (uint)bVar15;
    DAT_0047c908 = (uint)bVar15;
    _DAT_0047ac94 = (uint)bVar15;
    _DAT_0047e590 = (uint)(uVar11 != 0);
    _DAT_0047e618 = (uint)(uVar12 != 0);
    if ((2 < (int)DAT_0047e630) || ((int)DAT_0047e630 < 0)) {
      DAT_0047e630 = 0;
    }
    _DAT_0047e594 = (uint)((short)UVar6 == 1);
    if ((ushort)(DAT_0047cf76 - 0x3e9) < 3999) {
      DAT_0047cf76 = 1000;
    }
    if ((ushort)((short)_DAT_0047cf78 - 0x3e9U) < 3999) {
      _DAT_0047cf78 = CONCAT22(DAT_0047cf7a,1000);
    }
    if ((ushort)(DAT_0047cf7a - 0x3e9) < 3999) {
      _DAT_0047cf78 = CONCAT22(1000,DAT_0047cf78);
    }
    if ((char)_Dst_0047dfa0 == '\0') {
      strcpy_s((char *)&_Dst_0047dfa0,0x100,"japanese");
    }
    DAT_0047e634 = 0;
    _DAT_0047e638 = (uint)((short)UVar8 == 1);
    _DAT_0047ac6c = (uint)((short)UVar9 == 1);
    DAT_0047ac84 = (ushort)(DAT_0047ac84 != 0);
    if (2 < DAT_0047f11c) {
      DAT_0047f11c = 0;
    }
  }
  sprintf_s(&local_14,10,(char *)&_Format_00464d88);
  WritePrivateProfileStringA("options","Framerate",&local_14,(LPCSTR)&local_114);
  sprintf_s(&local_14,10,(char *)&_Format_00464da0);
  WritePrivateProfileStringA("options","Playmode",&local_14,(LPCSTR)&local_114);
  sprintf_s(&local_14,10,(char *)&_Format_00464db8);
  WritePrivateProfileStringA("options","Autostart",&local_14,(LPCSTR)&local_114);
  sprintf_s(&local_14,10,(char *)&_Format_00464dd0);
  WritePrivateProfileStringA("options","Windowmode",&local_14,(LPCSTR)&local_114);
  sprintf_s(&local_14,10,(char *)&_Format_00464de8);
  WritePrivateProfileStringA("options","Showscore",&local_14,(LPCSTR)&local_114);
  sprintf_s(&local_14,10,(char *)&_Format_00464e00);
  WritePrivateProfileStringA("options","Notedist",&local_14,(LPCSTR)&local_114);
  sprintf_s(&local_14,10,(char *)&_Format_00464e18);
  WritePrivateProfileStringA("options","JudgeLevel",&local_14,(LPCSTR)&local_114);
  sprintf_s(&local_14,10,(char *)&_Format_00464e30);
  WritePrivateProfileStringA("options","ShowResult",&local_14,(LPCSTR)&local_114);
  sprintf_s(&local_14,10,(char *)&_Format_00464e48);
  WritePrivateProfileStringA("options","WindowWidth",&local_14,(LPCSTR)&local_114);
  sprintf_s(&local_14,10,(char *)&_Format_00464e60);
  WritePrivateProfileStringA("options","WavBufferSize",&local_14,(LPCSTR)&local_114);
  sprintf_s(&local_14,10,(char *)&_Format_00464e7c);
  WritePrivateProfileStringA("options","KeyAction",&local_14,(LPCSTR)&local_114);
  sprintf_s(&local_14,10,(char *)&_Format_00464e94,1.0 / _DAT_0047ac88);
  WritePrivateProfileStringA("options","Playspeed",&local_14,(LPCSTR)&local_114);
  sprintf_s(&local_14,10,(char *)&_Format_00464eac);
  WritePrivateProfileStringA("options","SongSelect",&local_14,(LPCSTR)&local_114);
  sprintf_s(&local_14,10,(char *)&_Format_00464ec4);
  WritePrivateProfileStringA("options","SearchAllDirectory",&local_14,(LPCSTR)&local_114);
  if (DAT_0047cf76 < 5000) {
    sprintf_s(&local_14,10,(char *)&_Format_00464ee4);
  }
  else {
    strcpy_s(&local_14,10,(char *)((int)&lpDefault_004629c1 + 1));
  }
  WritePrivateProfileStringA("options","JudgeRangeGreat",&local_14,(LPCSTR)&local_114);
  if (DAT_0047cf78 < 5000) {
    sprintf_s(&local_14,10,(char *)&_Format_00464f00);
  }
  else {
    strcpy_s(&local_14,10,(char *)((int)&lpDefault_004629c1 + 2));
  }
  WritePrivateProfileStringA("options","JudgeRangeGood",&local_14,(LPCSTR)&local_114);
  if (DAT_0047cf7a < 5000) {
    sprintf_s(&local_14,10,(char *)&_Format_00464f1c);
  }
  else {
    strcpy_s(&local_14,10,"");
  }
  WritePrivateProfileStringA("options","JudgeRangeBad",&local_14,(LPCSTR)&local_114);
  WritePrivateProfileStringA("options","SelectFontName",(LPCSTR)&_Dst_0047dc6c,(LPCSTR)&local_114);
  WritePrivateProfileStringA("options","Language",(LPCSTR)&_Dst_0047dfa0,(LPCSTR)&local_114);
  sprintf_s(&local_14,10,(char *)&_Format_00464f64);
  WritePrivateProfileStringA("options","PlaySongDemo",&local_14,(LPCSTR)&local_114);
  sprintf_s(&local_14,10,(char *)&_Format_00464f80);
  WritePrivateProfileStringA("options","FullScreen",&local_14,(LPCSTR)&local_114);
  sprintf_s(&local_14,10,(char *)&_Format_00464f98);
  WritePrivateProfileStringA("options","NoteBound",&local_14,(LPCSTR)&local_114);
  sprintf_s(&local_14,10,(char *)&_Format_00464fb0);
  WritePrivateProfileStringA("options","SortMode",&local_14,(LPCSTR)&local_114);
  if (bVar14) {
    fopen_s(&local_418,(char *)&local_114,(char *)&_Mode_00464fc8);
    fprintf(local_418,(char *)&_Format_00465008);
    fprintf(local_418,(char *)&_Format_00465098);
    fprintf(local_418,(char *)&_Format_00464fcc);
    fprintf(local_418,(char *)&_Format_00465158);
    fprintf(local_418,(char *)&_Format_00465210);
    fprintf(local_418,(char *)&_Format_00465270);
    fprintf(local_418,(char *)&_Format_004652e8);
    fprintf(local_418,(char *)&_Format_00465360);
    fprintf(local_418,(char *)&_Format_00465408);
    fprintf(local_418,(char *)&_Format_00465490);
    fprintf(local_418,(char *)&_Format_00465500);
    fprintf(local_418,(char *)&_Format_004650dc);
    fprintf(local_418,(char *)&_Format_00465568);
    fprintf(local_418,(char *)&_Format_004655c0);
    fprintf(local_418,(char *)&_Format_00465630);
    fprintf(local_418,(char *)&_Format_004656a8);
    fprintf(local_418,(char *)&_Format_004656f8);
    fprintf(local_418,(char *)&_Format_00465768);
    fprintf(local_418,(char *)&_Format_004657c8);
    fprintf(local_418,(char *)&_Format_00465808);
    fprintf(local_418,(char *)&_Format_00465870);
    fprintf(local_418,(char *)&_Format_0046511c);
    fprintf(local_418,(char *)&_Format_004658f0);
    fclose(local_418);
  }
  if (DAT_0047f114 < 2) {
    if (DAT_0047e748 == 2) {
      DAT_0047e748 = 1;
    }
    if (DAT_0047e630 == 2) {
      DAT_0047e630 = 1;
    }
  }
  _DAT_0047d6c8 = &DAT_00460044;
  _DAT_0047d6cc = 0x4b004a;
  _DAT_0047d6d0 = 0x560043;
  _DAT_0047d6d4 = 0xbc004d;
  GetModuleFileNameA((HMODULE)0x0,(LPSTR)local_414,0x200);
  puVar3 = local_414;
  do {
    uVar2 = *puVar3;
    puVar3 = puVar3 + 1;
  } while (uVar2 != '\0');
  puVar4 = _mbsrchr(local_414,0x5c);
  puVar1 = puVar4 + 1;
  do {
    uVar2 = *puVar4;
    puVar4 = puVar4 + 1;
  } while (uVar2 != '\0');
  _mbsnbcpy_s(&local_114,0x100,local_414,
              (size_t)(puVar3 + (-((int)puVar4 - (int)puVar1) - (int)(local_414 + 1))));
  strcat_s((char *)&local_114,0x100,"\\keyconf.ini");
  fopen_s(&local_418,(char *)&local_114,(char *)&_Mode_0046535c);
  if (local_418 != (FILE *)0x0) {
    fclose(local_418);
    UVar6 = GetPrivateProfileIntA("KeyAssignment","L_KaP1",0x44,(LPCSTR)&local_114);
    _DAT_0047d6c8 = (undefined *)CONCAT22(DAT_0047d6ca,(short)UVar6);
    UVar6 = GetPrivateProfileIntA("KeyAssignment","L_DongP1",0x46,(LPCSTR)&local_114);
    _DAT_0047d6c8 = (undefined *)CONCAT22((short)UVar6,DAT_0047d6c8);
    UVar6 = GetPrivateProfileIntA("KeyAssignment","R_DongP1",0x4a,(LPCSTR)&local_114);
    _DAT_0047d6cc = CONCAT22(DAT_0047d6ce,(short)UVar6);
    UVar6 = GetPrivateProfileIntA("KeyAssignment","R_KaP1",0x4b,(LPCSTR)&local_114);
    _DAT_0047d6cc = CONCAT22((short)UVar6,DAT_0047d6cc);
    UVar6 = GetPrivateProfileIntA("KeyAssignment","L_KaP2",0x43,(LPCSTR)&local_114);
    _DAT_0047d6d0 = CONCAT22(DAT_0047d6d2,(short)UVar6);
    UVar6 = GetPrivateProfileIntA("KeyAssignment","L_DongP2",0x56,(LPCSTR)&local_114);
    _DAT_0047d6d0 = CONCAT22((short)UVar6,DAT_0047d6d0);
    UVar6 = GetPrivateProfileIntA("KeyAssignment","R_DongP2",0x4d,(LPCSTR)&local_114);
    _DAT_0047d6d4 = CONCAT22(DAT_0047d6d6,(short)UVar6);
    UVar6 = GetPrivateProfileIntA("KeyAssignment","R_KaP2",0xbc,(LPCSTR)&local_114);
    _DAT_0047d6d4 = CONCAT22((short)UVar6,DAT_0047d6d4);
  }
  sprintf_s(&local_14,10,(char *)&_Format_00465764);
  WritePrivateProfileStringA("KeyAssignment","L_KaP1",&local_14,(LPCSTR)&local_114);
  sprintf_s(&local_14,10,(char *)&_Format_004657c4);
  WritePrivateProfileStringA("KeyAssignment","L_DongP1",&local_14,(LPCSTR)&local_114);
  sprintf_s(&local_14,10,(char *)&_Format_004659e4);
  WritePrivateProfileStringA("KeyAssignment","R_DongP1",&local_14,(LPCSTR)&local_114);
  sprintf_s(&local_14,10,(char *)&_Format_00465a04);
  WritePrivateProfileStringA("KeyAssignment","R_KaP1",&local_14,(LPCSTR)&local_114);
  sprintf_s(&local_14,10,(char *)&_Format_00465a20);
  WritePrivateProfileStringA("KeyAssignment","L_KaP2",&local_14,(LPCSTR)&local_114);
  sprintf_s(&local_14,10,(char *)&_Format_00465a3c);
  WritePrivateProfileStringA("KeyAssignment","L_DongP2",&local_14,(LPCSTR)&local_114);
  sprintf_s(&local_14,10,(char *)&_Format_00465a5c);
  WritePrivateProfileStringA("KeyAssignment","R_DongP2",&local_14,(LPCSTR)&local_114);
  sprintf_s(&local_14,10,(char *)&_Format_00465a7c);
  WritePrivateProfileStringA("KeyAssignment","R_KaP2",&local_14,(LPCSTR)&local_114);
  ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
  return;
}


/*
Unable to decompile 'FUN_0040f150'
Cause: Exception while decompiling 0040f150: process: timeout

*/


// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00412a10(void)

{
  int iVar1;
  UINT UVar2;
  FILE *fp;
  CHAR strdata [512];
  uchar filename;
  undefined local_24b [511];
  char _createstr [68];
  uint local_8;
  
  local_8 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  filename = '\0';
  memset(local_24b,0,0x1ff);
  do {
    iVar1 = FUN_00438d60((void *)0x200,&filename);
    strcat_s((char *)&filename,0x200,"\\img\\imgdet.ini");
    fopen_s(&fp,(char *)&filename,(char *)&_Mode_00468404);
    if (fp != (FILE *)0x0) {
      fclose(fp);
      NoteFrames = GetPrivateProfileIntA("ImageSettings","NoteFrames",1,(LPCSTR)&filename);
      GetPrivateProfileStringA
                ("ImageSettings","BarLineColor","1.0,1.0,1.0",strdata,0x200,(LPCSTR)&filename);
      sscanf_s(strdata,"%lf,%lf,%lf");
      GetPrivateProfileStringA
                ("ImageSettings","ComboStretchRate",(LPCSTR)&lpDefault_0046845c,strdata,0x200,
                 (LPCSTR)&filename);
      sscanf_s(strdata,(char *)&_Format_00468488);
      GetPrivateProfileStringA
                ("ImageSettings","ComboNumberSpacing",(LPCSTR)&lpDefault_0046848c,strdata,0x200,
                 (LPCSTR)&filename);
      sscanf_s(strdata,(char *)&_Format_004684b8);
      sprintf_s(_createstr,0x40,"%3.2lf",_DAT_0047de80);
      GetPrivateProfileStringA
                ("ImageSettings","ComboNumberSpacing_l",_createstr,strdata,0x200,(LPCSTR)&filename);
      sscanf_s(strdata,(char *)&_Format_004684ec);
      FireFrames = GetPrivateProfileIntA("ImageSettings","FireFrames",4,(LPCSTR)&filename);
      FireInterval = GetPrivateProfileIntA("ImageSettings","FireInterval",0x32,(LPCSTR)&filename);
      SoulFrames = GetPrivateProfileIntA("ImageSettings","SoulFrames",4,(LPCSTR)&filename);
      SoulInterval = GetPrivateProfileIntA("ImageSettings","SoulInterval",0x32,(LPCSTR)&filename);
      NormaGaugeUnitWidth =
           GetPrivateProfileIntA("ImageSettings","NormaGaugeUnitWidth",0x10,(LPCSTR)&filename);
      NormaGaugeInterval =
           GetPrivateProfileIntA("ImageSettings","NormaGaugeInterval",100,(LPCSTR)&filename);
      NormaGaugeGlowWidth =
           GetPrivateProfileIntA("ImageSettings","NormaGaugeGlowWidth",1,(LPCSTR)&filename);
      GetPrivateProfileStringA
                ("ImageSettings","AddScoreColor","1.0,0.5,0.4",strdata,0x200,(LPCSTR)&filename);
      sscanf_s(strdata,"%lf,%lf,%lf");
      GetPrivateProfileStringA
                ("ImageSettings","AddScoreColorP1","1.0,0.5,0.4",strdata,0x200,(LPCSTR)&filename);
      sscanf_s(strdata,"%lf,%lf,%lf");
      GetPrivateProfileStringA
                ("ImageSettings","AddScoreColorP2","0.4,0.5,1.0",strdata,0x200,(LPCSTR)&filename);
      sscanf_s(strdata,"%lf,%lf,%lf");
      GetPrivateProfileStringA
                ("ImageSettings","ExplosionColorGreat","1.0,0.92,0.22",strdata,0x200,
                 (LPCSTR)&filename);
      sscanf_s(strdata,"%lf,%lf,%lf");
      GetPrivateProfileStringA
                ("ImageSettings","ExplosionColorGood","1.0,1.0,1.0",strdata,0x200,(LPCSTR)&filename)
      ;
      sscanf_s(strdata,"%lf,%lf,%lf");
      ExplosionFrames = GetPrivateProfileIntA("ImageSettings","ExplosionFrames",0,(LPCSTR)&filename)
      ;
      ExplosionFramesLower =
           GetPrivateProfileIntA
                     ("ImageSettings","ExplosionFramesLower",ExplosionFrames,(LPCSTR)&filename);
      ExplosionInterval =
           GetPrivateProfileIntA("ImageSettings","ExplosionInterval",200,(LPCSTR)&filename);
      GoGoSplashFrames =
           GetPrivateProfileIntA("ImageSettings","GoGoSplashFrames",8,(LPCSTR)&filename);
      GoGoSplashInterval =
           GetPrivateProfileIntA("ImageSettings","GoGoSplashInterval",0x32,(LPCSTR)&filename);
      PlayerCharacterJumpHeight =
           GetPrivateProfileIntA("ImageSettings","PlayerCharacterJumpHeight",0x10,(LPCSTR)&filename)
      ;
      DancerFrames = GetPrivateProfileIntA("ImageSettings","DancerFrames",8,(LPCSTR)&filename);
      DancerLoopBeats = GetPrivateProfileIntA("ImageSettings","DancerLoopBeats",2,(LPCSTR)&filename)
      ;
      MobFrames = GetPrivateProfileIntA("ImageSettings","MobFrames",1,(LPCSTR)&filename);
      MobJumpHeight = GetPrivateProfileIntA("ImageSettings","MobJumpHeight",0x3c,(LPCSTR)&filename);
      GetPrivateProfileStringA
                ("ImageSettings","ComboBalloonNumberColorP1","2.0,1.2,1.0",strdata,0x200,
                 (LPCSTR)&filename);
      sscanf_s(strdata,"%lf,%lf,%lf");
      GetPrivateProfileStringA
                ("ImageSettings","ComboBalloonNumberColorP2","1.0,1.2,2.0",strdata,0x200,
                 (LPCSTR)&filename);
      sscanf_s(strdata,"%lf,%lf,%lf");
      BackGroundScrollSpeed =
           GetPrivateProfileIntA("ImageSettings","BackGroundScrollSpeed",0,(LPCSTR)&filename);
      SongTitleSize = GetPrivateProfileIntA("ImageSettings","SongTitleSize",0x18,(LPCSTR)&filename);
      BackGroundLoopWidth =
           GetPrivateProfileIntA("ImageSettings","BackGroundLoopWidth",0x200,(LPCSTR)&filename);
      GetPrivateProfileStringA
                ("ImageSettings","RollNumberSpacing",(LPCSTR)&lpDefault_00468948,strdata,0x200,
                 (LPCSTR)&filename);
      sscanf_s(strdata,(char *)&_Format_00468974);
      NoteBoundHeight =
           GetPrivateProfileIntA("ImageSettings","NoteBoundHeight",0x14,(LPCSTR)&filename);
      SoulExplosionFrames =
           GetPrivateProfileIntA("ImageSettings","SoulExplosionFrames",6,(LPCSTR)&filename);
      SoulExplosionInterval =
           GetPrivateProfileIntA("ImageSettings","SoulExplosionInterval",0x32,(LPCSTR)&filename);
      ResultSongTitleSize =
           GetPrivateProfileIntA("ImageSettings","ResultSongTitleSize",0x1c,(LPCSTR)&filename);
      UVar2 = BackGroundLoopWidth;
      break;
    }
    _DAT_0047de60 = 0x3ff0000000000000;
    _DAT_0047de68 = 0x3ff0000000000000;
    FireFrames = 4;
    _DAT_0047de70 = 0x3ff0000000000000;
    SoulFrames = 4;
    _DAT_0047de78 = 1.2;
    NormaGaugeUnitWidth = 0x10;
    _DAT_0047de80 = 0x3ff0000000000000;
    _DAT_0047de88 = 0x3ff0000000000000;
    PlayerCharacterJumpHeight = 0x10;
    _DAT_0047df00 = 0x3ff0000000000000;
    UVar2 = 0x200;
    _DAT_0047df08 = 0x3fe0000000000000;
    NoteFrames = 1;
    FireInterval = 0x32;
    _DAT_0047df10 = 0x3fd999999999999a;
    SoulInterval = 0x32;
    _DAT_0047df18 = 0x3fd999999999999a;
    NormaGaugeInterval = 100;
    NormaGaugeGlowWidth = 1;
    ExplosionFrames = 0;
    _DAT_0047df20 = 0x3fe0000000000000;
    ExplosionFramesLower = 0;
    ExplosionInterval = 200;
    _DAT_0047df28 = 0x3ff0000000000000;
    GoGoSplashFrames = 6;
    _DAT_0047dec0 = 0x3ff0000000000000;
    GoGoSplashInterval = 0x32;
    DancerFrames = 8;
    _DAT_0047dec8 = 0x3fed70a3d70a3d71;
    DancerLoopBeats = 2;
    MobFrames = 1;
    _DAT_0047ded0 = 0x3fcc28f5c28f5c29;
    MobJumpHeight = 0x3c;
    BackGroundScrollSpeed = 1;
    _DAT_0047ded8 = 0x3ff0000000000000;
    BackGroundLoopWidth = 0x200;
    _DAT_0047dee0 = 0x3ff0000000000000;
    NoteBoundHeight = 0x32;
    _DAT_0047dee8 = 0x3ff0000000000000;
    SoulExplosionFrames = 6;
    SoulExplosionInterval = 0x32;
    _DAT_0047df50 = 0x4000000000000000;
    SongTitleSize = 0x1c;
    _DAT_0047df78 = 0x4000000000000000;
    _DAT_0047df58 = 0x3ff3333333333333;
    _DAT_0047df70 = 0x3ff3333333333333;
    _DAT_0047df60 = 0x3ff0000000000000;
    _DAT_0047df68 = 0x3ff0000000000000;
    _DAT_0047de90 = 0x3ff0000000000000;
  } while (iVar1 + 1 < 3);
  if ((int)DAT_0047ac74 < (int)UVar2) {
    UVar2 = DAT_0047ac74;
  }
  BackGroundLoopWidth = (int)DAT_0047ac74 >> 1;
  if ((int)DAT_0047ac74 >> 1 <= (int)UVar2) {
    BackGroundLoopWidth = UVar2;
  }
  sprintf_s(_createstr,0x40,(char *)&_Format_00468a08);
  WritePrivateProfileStringA("ImageSettings","NoteFrames",_createstr,(LPCSTR)&filename);
  sprintf_s(_createstr,0x40,"%4.3lf,%4.3lf,%4.3lf",_DAT_0047de60,_DAT_0047de68,_DAT_0047de70);
  WritePrivateProfileStringA("ImageSettings","BarLineColor",_createstr,(LPCSTR)&filename);
  sprintf_s(_createstr,0x40,"%3.2lf",_DAT_0047de78);
  WritePrivateProfileStringA("ImageSettings","ComboStretchRate",_createstr,(LPCSTR)&filename);
  sprintf_s(_createstr,0x40,"%3.2lf",_DAT_0047de80);
  WritePrivateProfileStringA("ImageSettings","ComboNumberSpacing",_createstr,(LPCSTR)&filename);
  sprintf_s(_createstr,0x40,"%3.2lf",_DAT_0047de88);
  WritePrivateProfileStringA("ImageSettings","ComboNumberSpacing_l",_createstr,(LPCSTR)&filename);
  sprintf_s(_createstr,0x40,(char *)&_Format_00468ae8);
  WritePrivateProfileStringA("ImageSettings","FireFrames",_createstr,(LPCSTR)&filename);
  sprintf_s(_createstr,0x40,(char *)&_Format_00468b08);
  WritePrivateProfileStringA("ImageSettings","FireInterval",_createstr,(LPCSTR)&filename);
  sprintf_s(_createstr,0x40,(char *)&_Format_00468b2c);
  WritePrivateProfileStringA("ImageSettings","SoulFrames",_createstr,(LPCSTR)&filename);
  sprintf_s(_createstr,0x40,(char *)&_Format_00468b4c);
  WritePrivateProfileStringA("ImageSettings","SoulInterval",_createstr,(LPCSTR)&filename);
  sprintf_s(_createstr,0x40,(char *)&_Format_00468b70);
  WritePrivateProfileStringA("ImageSettings","NormaGaugeUnitWidth",_createstr,(LPCSTR)&filename);
  sprintf_s(_createstr,0x40,(char *)&_Format_00468b98);
  WritePrivateProfileStringA("ImageSettings","NormaGaugeInterval",_createstr,(LPCSTR)&filename);
  sprintf_s(_createstr,0x40,(char *)&_Format_00468bc0);
  WritePrivateProfileStringA("ImageSettings","NormaGaugeGlowWidth",_createstr,(LPCSTR)&filename);
  sprintf_s(_createstr,0x40,"%4.3lf,%4.3lf,%4.3lf",_DAT_0047df00,_DAT_0047df08,_DAT_0047df10);
  WritePrivateProfileStringA("ImageSettings","AddScoreColorP1",_createstr,(LPCSTR)&filename);
  sprintf_s(_createstr,0x40,"%4.3lf,%4.3lf,%4.3lf",_DAT_0047df18,_DAT_0047df20,_DAT_0047df28);
  WritePrivateProfileStringA("ImageSettings","AddScoreColorP2",_createstr,(LPCSTR)&filename);
  sprintf_s(_createstr,0x40,"%4.3lf,%4.3lf,%4.3lf",_DAT_0047dec0,_DAT_0047dec8,_DAT_0047ded0);
  WritePrivateProfileStringA("ImageSettings","ExplosionColorGreat",_createstr,(LPCSTR)&filename);
  sprintf_s(_createstr,0x40,"%4.3lf,%4.3lf,%4.3lf",_DAT_0047ded8,_DAT_0047dee0,_DAT_0047dee8);
  WritePrivateProfileStringA("ImageSettings","ExplosionColorGood",_createstr,(LPCSTR)&filename);
  sprintf_s(_createstr,0x40,(char *)&_Format_00468cd0);
  WritePrivateProfileStringA("ImageSettings","ExplosionFrames",_createstr,(LPCSTR)&filename);
  sprintf_s(_createstr,0x40,(char *)&_Format_00468cf4);
  WritePrivateProfileStringA("ImageSettings","ExplosionFramesLower",_createstr,(LPCSTR)&filename);
  sprintf_s(_createstr,0x40,(char *)&_Format_00468d20);
  WritePrivateProfileStringA("ImageSettings","ExplosionInterval",_createstr,(LPCSTR)&filename);
  sprintf_s(_createstr,0x40,(char *)&_Format_00468d48);
  WritePrivateProfileStringA("ImageSettings","GoGoSplashFrames",_createstr,(LPCSTR)&filename);
  sprintf_s(_createstr,0x40,(char *)&_Format_00468d70);
  WritePrivateProfileStringA("ImageSettings","GoGoSplashInterval",_createstr,(LPCSTR)&filename);
  sprintf_s(_createstr,0x40,(char *)&_Format_00468d98);
  WritePrivateProfileStringA
            ("ImageSettings","PlayerCharacterJumpHeight",_createstr,(LPCSTR)&filename);
  sprintf_s(_createstr,0x40,(char *)&_Format_00468dc8);
  WritePrivateProfileStringA("ImageSettings","DancerFrames",_createstr,(LPCSTR)&filename);
  sprintf_s(_createstr,0x40,(char *)&_Format_00468dec);
  WritePrivateProfileStringA("ImageSettings","DancerLoopBeats",_createstr,(LPCSTR)&filename);
  sprintf_s(_createstr,0x40,(char *)&_Format_00468e10);
  WritePrivateProfileStringA("ImageSettings","MobFrames",_createstr,(LPCSTR)&filename);
  sprintf_s(_createstr,0x40,(char *)&_Format_00468e30);
  WritePrivateProfileStringA("ImageSettings","MobJumpHeight",_createstr,(LPCSTR)&filename);
  sprintf_s(_createstr,0x40,"%4.3lf,%4.3lf,%4.3lf",_DAT_0047df50,_DAT_0047df58,_DAT_0047df60);
  WritePrivateProfileStringA
            ("ImageSettings","ComboBalloonNumberColorP1",_createstr,(LPCSTR)&filename);
  sprintf_s(_createstr,0x40,"%4.3lf,%4.3lf,%4.3lf",_DAT_0047df68,_DAT_0047df70,_DAT_0047df78);
  WritePrivateProfileStringA
            ("ImageSettings","ComboBalloonNumberColorP2",_createstr,(LPCSTR)&filename);
  sprintf_s(_createstr,0x40,(char *)&_Format_00468edc);
  WritePrivateProfileStringA("ImageSettings","BackGroundScrollSpeed",_createstr,(LPCSTR)&filename);
  sprintf_s(_createstr,0x40,(char *)&_Format_00468f08);
  WritePrivateProfileStringA("ImageSettings","SongTitleSize",_createstr,(LPCSTR)&filename);
  sprintf_s(_createstr,0x40,(char *)&_Format_00468f2c);
  WritePrivateProfileStringA("ImageSettings","BackGroundLoopWidth",_createstr,(LPCSTR)&filename);
  sprintf_s(_createstr,0x40,"%3.2lf",_DAT_0047de90);
  WritePrivateProfileStringA("ImageSettings","RollNumberSpacing",_createstr,(LPCSTR)&filename);
  sprintf_s(_createstr,0x40,(char *)&_Format_00468f80);
  WritePrivateProfileStringA("ImageSettings","NoteBoundHeight",_createstr,(LPCSTR)&filename);
  sprintf_s(_createstr,0x40,(char *)&_Format_00468fa4);
  WritePrivateProfileStringA("ImageSettings","SoulExplosionFrames",_createstr,(LPCSTR)&filename);
  sprintf_s(_createstr,0x40,(char *)&_Format_00468fcc);
  WritePrivateProfileStringA("ImageSettings","SoulExplosionInterval",_createstr,(LPCSTR)&filename);
  sprintf_s(_createstr,0x40,(char *)&_Format_00468ff8);
  WritePrivateProfileStringA("ImageSettings","ResultSongTitleSize",_createstr,(LPCSTR)&filename);
  _DAT_0047de78 = _DAT_0047de78 - 1.0;
  if (_DAT_0047de78 < 0.0) {
    _DAT_0047de78 = 0.0;
  }
  ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __fastcall FUN_004139a0(undefined4 *param_1)

{
  uchar *puVar1;
  char cVar2;
  uchar uVar3;
  char *pcVar4;
  int iVar5;
  void **ppvVar6;
  void *pvVar7;
  char *pcVar8;
  uchar *puVar9;
  uchar *puVar10;
  uchar *puVar11;
  int iVar12;
  undefined4 *puVar13;
  FILE *local_418;
  uchar local_414 [512];
  char local_214 [5];
  char local_20f [511];
  uchar local_10;
  undefined4 local_f;
  uint local_8;
  
  local_8 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  local_10 = '\0';
  local_f = 0;
  pcVar8 = (char *)((int)param_1 + 2);
  do {
    pcVar4 = pcVar8;
    pcVar8 = pcVar4 + 1;
  } while (*pcVar4 != '\0');
  _mbsnbcpy_s(&local_10,5,(uchar *)(pcVar4 + -4),5);
  iVar5 = strncmp((char *)&local_10,(char *)&_Str2_00469020,4);
  if ((iVar5 == 0) &&
     (fopen_s(&local_418,(char *)((int)param_1 + 2),(char *)&_Mode_00469028),
     local_418 != (FILE *)0x0)) {
    FUN_0040ca20((short *)param_1);
    DAT_0047e4e0 = *(ushort *)(param_1 + 0x110);
    if (DAT_0047e4dc != (int *)0x0) {
      if ((void *)*DAT_0047e4dc != (void *)0x0) {
        free((void *)*DAT_0047e4dc);
      }
      *DAT_0047e4dc = 0;
      free(DAT_0047e4dc);
    }
    DAT_0047e4dc = (int *)0x0;
    ppvVar6 = (void **)calloc((uint)*(ushort *)(param_1 + 0x110),4);
    DAT_0047e4dc = (int *)ppvVar6;
    pvVar7 = calloc((uint)*(ushort *)(param_1 + 0x110),0x200);
    *ppvVar6 = pvVar7;
    iVar5 = 1;
    if (1 < DAT_0047e4e0) {
      iVar12 = 0x200;
      do {
        DAT_0047e4dc[iVar5] = *DAT_0047e4dc + iVar12;
        iVar5 = iVar5 + 1;
        iVar12 = iVar12 + 0x200;
      } while (iVar5 < (int)(uint)DAT_0047e4e0);
    }
    pcVar8 = fgets(local_214,0x200,local_418);
    if (pcVar8 != (char *)0x0) {
      iVar5 = 0;
      do {
        iVar12 = strncmp(local_214,"SONG:",5);
        if (iVar12 == 0) {
          pcVar8 = local_214;
          iVar12 = 0;
          do {
            cVar2 = *pcVar8;
            pcVar8 = pcVar8 + 1;
          } while (cVar2 != '\0');
          if (pcVar8 != local_214 + 1 && -1 < (int)pcVar8 - (int)(local_214 + 1)) {
            do {
              if (local_214[iVar12] == '/') {
                local_214[iVar12] = '\\';
              }
              pcVar8 = local_214;
              iVar12 = iVar12 + 1;
              do {
                cVar2 = *pcVar8;
                pcVar8 = pcVar8 + 1;
              } while (cVar2 != '\0');
            } while (iVar12 < (int)pcVar8 - (int)(local_214 + 1));
          }
          puVar11 = *(uchar **)(iVar5 + (int)DAT_0047e4dc);
          GetModuleFileNameA((HMODULE)0x0,(LPSTR)local_414,0x200);
          puVar9 = local_414;
          do {
            uVar3 = *puVar9;
            puVar9 = puVar9 + 1;
          } while (uVar3 != '\0');
          puVar10 = _mbsrchr(local_414,0x5c);
          puVar1 = puVar10 + 1;
          do {
            uVar3 = *puVar10;
            puVar10 = puVar10 + 1;
          } while (uVar3 != '\0');
          _mbsnbcpy_s(puVar11,0x200,local_414,
                      (size_t)(puVar9 + (-((int)puVar10 - (int)puVar1) - (int)(local_414 + 1))));
          strcat_s(*(char **)(iVar5 + (int)DAT_0047e4dc),0x200,(char *)&_Src_00469034);
          strcat_s(*(char **)(iVar5 + (int)DAT_0047e4dc),0x200,local_20f);
          puVar9 = *(uchar **)(iVar5 + (int)DAT_0047e4dc);
          puVar11 = puVar9;
          do {
            uVar3 = *puVar11;
            puVar11 = puVar11 + 1;
          } while (uVar3 != '\0');
          puVar10 = _mbsrchr(puVar9,0x2e);
          puVar1 = puVar10 + 1;
          do {
            uVar3 = *puVar10;
            puVar10 = puVar10 + 1;
          } while (uVar3 != '\0');
          puVar11[((*(int *)(iVar5 + (int)DAT_0047e4dc) - ((int)puVar10 - (int)puVar1)) + 4) -
                  (int)(puVar9 + 1)] = '\0';
          iVar5 = iVar5 + 4;
        }
        pcVar8 = fgets(local_214,0x200,local_418);
      } while (pcVar8 != (char *)0x0);
    }
    if (DAT_0047e74c == 0) {
      puVar13 = &DAT_0047ec40;
      for (iVar5 = 0x134; iVar5 != 0; iVar5 = iVar5 + -1) {
        *puVar13 = *param_1;
        param_1 = param_1 + 1;
        puVar13 = puVar13 + 1;
      }
      FUN_00435730(0,(short *)&DAT_0047ec40);
    }
    fclose(local_418);
    ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
    return;
  }
  ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __fastcall FUN_00413cd0(int *param_1,int *param_2,void **param_3,char *param_4)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  undefined4 *unaff_EBX;
  FILE *local_110;
  uchar local_10c [260];
  uint local_8;
  
  local_8 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  if (*param_3 != (void *)0x0) {
    free(*param_3);
    *param_3 = (void *)0x0;
  }
  do {
    iVar2 = FUN_00438d60((void *)0x100,local_10c);
    strcat_s((char *)local_10c,0x100,"\\img\\");
    strcat_s((char *)local_10c,0x100,param_4);
    fopen_s(&local_110,(char *)local_10c,(char *)&_Mode_004642a8);
    if (local_110 != (FILE *)0x0) {
      fclose(local_110);
      break;
    }
    strcat_s((char *)local_10c,0x100,(char *)&_Src_004642ac);
    fopen_s(&local_110,(char *)local_10c,(char *)&_Mode_004642b4);
    if (local_110 != (FILE *)0x0) {
      fclose(local_110);
      FUN_00413f80((char *)local_10c,param_3,param_1,param_2);
      *unaff_EBX = 0x28;
      if (param_1 != (int *)0x0) {
        unaff_EBX[1] = *param_1;
      }
      if (param_2 != (int *)0x0) {
        unaff_EBX[2] = -*param_2;
      }
      unaff_EBX[3] = 0x200001;
      unaff_EBX[4] = 0;
      ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
      return;
    }
    FUN_00438d60((void *)0x100,local_10c);
    strcat_s((char *)local_10c,0x100,"\\img\\");
    strcat_s((char *)local_10c,0x100,param_4);
    strcat_s((char *)local_10c,0x100,(char *)&_Src_004642c0);
    fopen_s(&local_110,(char *)local_10c,(char *)&_Mode_004642c8);
    if (local_110 != (FILE *)0x0) {
      fclose(local_110);
      FUN_0043a740((LPCSTR)local_10c,param_3,unaff_EBX,param_1,param_2);
      iVar2 = 0;
      if (0 < (int)unaff_EBX[2]) {
        do {
          iVar4 = 0;
          if (0 < (int)unaff_EBX[1]) {
            do {
              iVar3 = unaff_EBX[1] * iVar2 + iVar4;
              piVar1 = (int *)((int)*param_3 + iVar3 * 4);
              if (*(int *)((int)*param_3 + iVar3 * 4) != 0) {
                *piVar1 = *piVar1 + -0x1000000;
              }
              iVar4 = iVar4 + 1;
            } while (iVar4 < (int)unaff_EBX[1]);
          }
          iVar2 = iVar2 + 1;
        } while (iVar2 < (int)unaff_EBX[2]);
      }
      ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
      return;
    }
  } while (iVar2 + 1 < 3);
  if (param_1 != (int *)0x0) {
    *param_1 = 0;
  }
  if (param_2 != (int *)0x0) {
    *param_2 = 0;
  }
  ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



undefined4 __cdecl FUN_00413f80(char *param_1,void **param_2,int *param_3,int *param_4)

{
  uint uVar1;
  void *pvVar2;
  int iVar3;
  size_t sVar4;
  int *piVar5;
  int iVar6;
  int local_28;
  int *local_24;
  int local_20;
  int *local_1c;
  int local_18;
  size_t local_14;
  void *local_10;
  FILE *local_c;
  int local_8;
  
  fopen_s(&local_c,param_1,(char *)&_Mode_00464294);
  iVar6 = 0;
  if (local_c == (FILE *)0x0) {
    return 0xffffffff;
  }
  pvVar2 = (void *)FUN_0043ab90();
  local_10 = pvVar2;
  if (pvVar2 == (void *)0x0) {
    fclose(local_c);
    return 0xffffffff;
  }
  local_24 = (int *)FUN_0043c2d0((int)pvVar2);
  if (local_24 == (int *)0x0) {
    fclose(local_c);
    FUN_0043baa0((void *)0x0,&local_10);
    return 0xffffffff;
  }
  *(code **)((int)pvVar2 + 0x40) = longjmp_exref;
  iVar3 = _setjmp3(pvVar2,0);
  pvVar2 = local_10;
  piVar5 = local_24;
  if (iVar3 != 0) {
    FUN_0043baa0(&local_24,&local_10);
    fclose(local_c);
    return 0xffffffff;
  }
  if (local_10 != (void *)0x0) {
    *(FILE **)((int)local_10 + 0x58) = local_c;
    FUN_0043be00((int)local_10);
    if (piVar5 != (int *)0x0) {
      local_8 = piVar5[1];
      goto LAB_0041406b;
    }
  }
  local_8 = 0;
LAB_0041406b:
  if ((pvVar2 != (void *)0x0) && (piVar5 != (int *)0x0)) {
    iVar6 = *piVar5;
  }
  if ((pvVar2 == (void *)0x0) || (piVar5 == (int *)0x0)) {
    local_1c = (int *)0x0;
  }
  else {
    local_1c = (int *)piVar5[0x3a];
  }
  if ((pvVar2 == (void *)0x0) || (piVar5 == (int *)0x0)) {
    local_14 = 0;
  }
  else {
    local_14 = piVar5[3];
  }
  local_20 = iVar6;
  if (param_2 != (void **)0x0) {
    pvVar2 = calloc(1,iVar6 * local_8 * 4);
    *param_2 = pvVar2;
    if (local_14 == iVar6 * 4) {
      iVar3 = 0;
      if (0 < local_8) {
        local_18 = 0;
        do {
          memcpy((void *)((int)*param_2 + local_18),(void *)local_1c[iVar3],local_14);
          local_18 = local_18 + iVar6 * 4;
          iVar3 = iVar3 + 1;
        } while (iVar3 < local_8);
      }
    }
    else if (0 < local_8) {
      local_14 = 0;
      local_28 = local_8;
      do {
        if (0 < iVar6) {
          iVar3 = 0;
          sVar4 = local_14;
          local_18 = iVar6;
          do {
            iVar6 = *local_1c;
            *(uint *)(sVar4 + (int)*param_2) =
                 ((*(byte *)(iVar6 + 2 + iVar3) + 0xff00) * 0x100 +
                 (uint)*(byte *)(iVar6 + 1 + iVar3)) * 0x100 + (uint)*(byte *)(iVar6 + iVar3);
            sVar4 = sVar4 + 4;
            iVar3 = iVar3 + 3;
            local_18 = local_18 + -1;
          } while (local_18 != 0);
          local_18 = 0;
          iVar6 = local_20;
        }
        local_1c = local_1c + 1;
        local_14 = local_14 + iVar6 * 4;
        local_28 = local_28 + -1;
      } while (local_28 != 0);
    }
  }
  if (0 < local_8) {
    local_1c = (int *)0x0;
    local_18 = local_8;
    do {
      piVar5 = local_1c;
      local_28 = iVar6;
      if (0 < iVar6) {
        do {
          uVar1 = *(uint *)((int)*param_2 + (int)piVar5);
          *(uint *)((int)*param_2 + (int)piVar5) =
               (uVar1 >> 0x10 & 0xff) + (uVar1 & 0xff) * 0x10000 + (uVar1 & 0xff00ff00);
          local_28 = local_28 + -1;
          piVar5 = piVar5 + 1;
          iVar6 = local_20;
        } while (local_28 != 0);
      }
      local_1c = local_1c + iVar6;
      local_18 = local_18 + -1;
    } while (local_18 != 0);
    local_18 = 0;
  }
  if (param_4 != (int *)0x0) {
    *param_4 = local_8;
  }
  if (param_3 != (int *)0x0) {
    *param_3 = iVar6;
  }
  FUN_0043baa0(&local_24,&local_10);
  fclose(local_c);
  return 0;
}



// dwCallback parameter of waveOutOpen
// 

void dwCallback_00414210(undefined4 param_1,int param_2,int param_3)

{
  if (((param_2 == 0x3bd) && (*(int *)(param_3 + 0x30) == 2)) &&
     (*(short *)(param_3 + 0x28) = *(short *)(param_3 + 0x28) + 1,
     *(short *)(param_3 + 0x28) == *(short *)(param_3 + 4))) {
    *(undefined4 *)(param_3 + 0x30) = 3;
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 __cdecl FUN_00414240(int param_1,uint param_2,undefined4 *param_3)

{
  ushort uVar1;
  int iVar2;
  double dVar3;
  double dVar4;
  double dVar5;
  double dVar6;
  HANDLE hHeap;
  LPCWAVEFORMATEX in_EAX;
  int iVar7;
  LPVOID pvVar8;
  MMRESULT MVar9;
  short *psVar10;
  int iVar11;
  uint uVar12;
  uint *unaff_ESI;
  undefined2 in_FPUControlWord;
  longlong lVar13;
  ulonglong uVar14;
  uint local_30;
  DWORD local_28;
  uint local_20;
  undefined4 local_14;
  DWORD *local_10;
  int local_c;
  
  local_14 = 0;
  iVar7 = FUN_0044c570((int)(unaff_ESI + 0xe),-1);
  lVar13 = FUN_0044b6a0((int)(unaff_ESI + 0xe),-1);
  in_EAX->wFormatTag = 1;
  uVar1 = *(ushort *)(iVar7 + 4);
  in_EAX->nChannels = uVar1;
  in_EAX->wBitsPerSample = 0x10;
  uVar12 = (int)((uint)uVar1 * 0x10) >> 3;
  in_EAX->nBlockAlign = (WORD)uVar12;
  local_10 = &in_EAX->nSamplesPerSec;
  local_28 = (DWORD)(longlong)ROUND((double)*(int *)(iVar7 + 8) / _DAT_0047ac88);
  *local_10 = local_28;
  dVar3 = (double)(int)lVar13;
  in_EAX->nAvgBytesPerSec = (uVar12 & 0xffff) * local_28;
  *unaff_ESI = param_2;
  unaff_ESI[1] = 2;
  unaff_ESI[2] = 0;
  unaff_ESI[0xc] = 0;
  *(undefined2 *)(unaff_ESI + 10) = 0;
  unaff_ESI[6] = 0;
  hHeap = DAT_0047e614;
  dVar4 = (double)*local_10;
  if ((int)*local_10 < 0) {
    dVar4 = dVar4 + 4294967296.0;
  }
  local_28 = (DWORD)(longlong)ROUND((dVar3 / dVar4) * 1000.0);
  unaff_ESI[5] = local_28;
  pvVar8 = HeapAlloc(hHeap,8,param_2);
  unaff_ESI[0xb] = (uint)pvVar8;
  MVar9 = waveOutOpen((LPHWAVEOUT)&phwo_0047ce90,0xffffffff,in_EAX,(DWORD_PTR)dwCallback_00414210,
                      (DWORD_PTR)unaff_ESI,0x30000);
  if (MVar9 == 7) {
    MessageBoxA((HWND)0x0,(LPCSTR)&lpText_0046422c,(LPCSTR)0x0,0);
  }
  uVar12 = in_EAX->nAvgBytesPerSec;
  dVar4 = (double)uVar12;
  if ((int)uVar12 < 0) {
    dVar4 = dVar4 + 4294967296.0;
  }
  dVar5 = (double)(int)param_3;
  if ((int)param_3 < 0) {
    dVar5 = dVar5 + 4294967296.0;
  }
  local_c = CONCAT22(in_FPUControlWord,(undefined2)local_c);
  local_20 = (uint)(longlong)ROUND((dVar5 / 1000.0) * dVar4);
  local_30 = (local_20 / in_EAX->nBlockAlign) * (uint)in_EAX->nBlockAlign;
  dVar5 = (double)*local_10;
  if ((int)*local_10 < 0) {
    dVar5 = dVar5 + 4294967296.0;
  }
  dVar6 = (double)local_30;
  if ((int)local_30 < 0) {
    dVar6 = dVar6 + 4294967296.0;
  }
  if (dVar3 < (dVar6 / dVar4) * dVar5) {
    local_30 = (uint)(longlong)ROUND((dVar3 / dVar5) * dVar4);
    param_3 = (undefined4 *)((local_30 / uVar12) * 1000);
  }
  if (local_30 != 0) {
    dVar3 = (double)(int)param_3;
    if ((int)param_3 < 0) {
      dVar3 = dVar3 + 4294967296.0;
    }
    FUN_0044c480((int)(unaff_ESI + 0xe),dVar3 / 1000.0);
  }
  param_3 = (undefined4 *)(param_1 + 0x14);
  unaff_ESI[4] = local_30;
  unaff_ESI[2] = local_30;
  local_10 = (DWORD *)0x0;
  do {
    pvVar8 = HeapAlloc(DAT_0047e614,8,param_2);
    param_3[-5] = pvVar8;
    uVar12 = 0;
    do {
      if (param_2 - uVar12 < 0x1000) {
        psVar10 = (short *)unaff_ESI[0xb];
        iVar7 = param_2 - uVar12;
      }
      else {
        psVar10 = (short *)unaff_ESI[0xb];
        iVar7 = 0x1000;
      }
      psVar10 = FUN_0044c5b0((int)(unaff_ESI + 0xe),psVar10,iVar7,0,2,1,&local_14);
      memcpy((void *)(param_3[-5] + uVar12),(void *)unaff_ESI[0xb],(size_t)psVar10);
      uVar12 = uVar12 + (int)psVar10;
    } while ((uVar12 < param_2) && (psVar10 != (short *)0x0));
    param_3[-2] = 0;
    local_c = 0;
    param_3[-4] = uVar12;
    param_3[-1] = 0xc;
    *param_3 = 1;
    if (uVar12 >> 1 != 0) {
      do {
        iVar2 = param_3[-5];
        iVar7 = local_c * 2;
        uVar14 = FUN_0045db50((int)*(short *)(iVar2 + local_c * 2),iVar2);
        iVar11 = (int)uVar14;
        if (iVar11 < -0x8000) {
          iVar11 = -0x8000;
        }
        else if (0x7fff < iVar11) {
          iVar11 = 0x7fff;
        }
        *(short *)(iVar2 + iVar7) = (short)iVar11;
        local_c = local_c + 1;
      } while (local_c < (int)((uint)param_3[-4] >> 1));
    }
    if ((psVar10 == (short *)0x0) && (uVar12 != 0)) {
      *(short *)(unaff_ESI + 10) = 1 - (short)local_10;
    }
    waveOutPrepareHeader((HWAVEOUT)phwo_0047ce90,(LPWAVEHDR)(param_3 + -5),0x20);
    param_3 = param_3 + 8;
    local_10 = (DWORD *)((int)local_10 + 1);
  } while ((int)local_10 < 2);
  waveOutReset((HWAVEOUT)phwo_0047ce90);
  return 0;
}



void FUN_004145d0(void)

{
  LPSTR pCVar1;
  double dVar2;
  double dVar3;
  double dVar4;
  uint uVar5;
  uint uVar6;
  short *_Size;
  int iVar7;
  uint *unaff_ESI;
  LPWAVEHDR pwh;
  undefined2 in_FPUControlWord;
  ulonglong uVar8;
  undefined4 local_2c;
  LPWAVEHDR local_28;
  undefined2 *local_24;
  longlong local_20;
  int local_18;
  mmtime_tag local_14;
  uint local_8;
  
  pwh = DAT_0047e5bc;
  local_8 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  iVar7 = 0;
  local_28 = DAT_0047e5bc;
  local_2c = 0;
  local_24 = (undefined2 *)0x0;
  local_14.wType = 2;
  if (DAT_0047e5bc == (LPWAVEHDR)0x0) goto LAB_004145fe;
  waveOutGetPosition((HWAVEOUT)phwo_0047ce90,&local_14,0xc);
  if (local_14.wType == 1) {
    dVar2 = (double)local_14.u.ms;
    if ((int)local_14.u.ms < 0) {
      dVar2 = dVar2 + 4294967296.0;
    }
    dVar3 = (double)DAT_0047b160;
    if (DAT_0047b160 < 0) {
      dVar3 = dVar3 + 4294967296.0;
    }
    local_20 = (longlong)ROUND(dVar3 * (dVar2 / 1000.0) + 0.5);
LAB_00414701:
    local_18 = CONCAT22(in_FPUControlWord,(undefined2)local_18);
    unaff_ESI[3] = (uint)local_20;
  }
  else {
    if (local_14.wType == 2) {
      dVar2 = (double)local_14.u.ms;
      if ((int)local_14.u.ms < 0) {
        dVar2 = dVar2 + 4294967296.0;
      }
      dVar3 = (double)DAT_0047b15c;
      if (DAT_0047b15c < 0) {
        dVar3 = dVar3 + 4294967296.0;
      }
      dVar4 = (double)DAT_0047b160;
      if (DAT_0047b160 < 0) {
        dVar4 = dVar4 + 4294967296.0;
      }
      local_20 = (longlong)ROUND(dVar4 * (dVar2 / dVar3) + 0.5);
      goto LAB_00414701;
    }
    if (local_14.wType == 4) {
      unaff_ESI[3] = local_14.u.ms;
    }
    else {
      unaff_ESI[3] = 0xffffffff;
    }
  }
  uVar6 = unaff_ESI[0xc];
  if (uVar6 == 0) {
    if (*(short *)(unaff_ESI + 1) != 0) {
      do {
        waveOutWrite((HWAVEOUT)phwo_0047ce90,pwh,0x20);
        iVar7 = iVar7 + 1;
        pwh = pwh + 1;
      } while (iVar7 < (int)(uint)*(ushort *)(unaff_ESI + 1));
    }
    unaff_ESI[0xc] = 1;
    ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
    return;
  }
  if ((int)uVar6 < 3) {
    if (uVar6 == 1) {
      uVar5 = (unaff_ESI[4] - unaff_ESI[2]) + unaff_ESI[3];
      uVar6 = pwh[*(ushort *)((int)unaff_ESI + 6)].dwBufferLength;
      if (uVar6 <= uVar5) {
        dVar2 = (double)uVar5;
        if ((int)uVar5 < 0) {
          dVar2 = dVar2 + 4294967296.0;
        }
        local_20 = CONCAT44(uVar6,(uint)local_20);
        dVar3 = (double)uVar6;
        if ((int)uVar6 < 0) {
          dVar3 = dVar3 + 4294967296.0;
        }
        if (dVar3 * 1.75 < dVar2 != (dVar3 * 1.75 == dVar2)) {
          local_24 = (undefined2 *)0x1;
        }
        iVar7 = 0;
        do {
          uVar6 = (*unaff_ESI - iVar7) - unaff_ESI[6];
          if (0xfff < uVar6) {
            uVar6 = 0x1000;
          }
          _Size = FUN_0044c5b0((int)(unaff_ESI + 0xe),(short *)unaff_ESI[0xb],uVar6,0,2,1,&local_2c)
          ;
          memcpy(local_28[*(ushort *)((int)unaff_ESI + 6)].lpData + unaff_ESI[6] + iVar7,
                 (void *)unaff_ESI[0xb],(size_t)_Size);
          iVar7 = iVar7 + (int)_Size;
        } while (((local_24 != (undefined2 *)0x0) && (_Size != (short *)0x0)) &&
                (unaff_ESI[6] + iVar7 < *unaff_ESI));
        uVar6 = unaff_ESI[6] >> 1;
        local_18 = iVar7;
        if (uVar6 < unaff_ESI[6] + iVar7 >> 1) {
          do {
            pCVar1 = local_28[*(ushort *)((int)unaff_ESI + 6)].lpData;
            local_24 = (undefined2 *)(pCVar1 + uVar6 * 2);
            local_20 = CONCAT44((int)*(short *)(pCVar1 + uVar6 * 2),(uint)local_20);
            uVar8 = FUN_0045db50(pCVar1,(int)*(short *)(pCVar1 + uVar6 * 2));
            iVar7 = (int)uVar8;
            if (iVar7 < -0x8000) {
              iVar7 = -0x8000;
            }
            else if (0x7fff < iVar7) {
              iVar7 = 0x7fff;
            }
            *local_24 = (short)iVar7;
            uVar6 = uVar6 + 1;
          } while ((int)uVar6 < (int)(unaff_ESI[6] + local_18 >> 1));
        }
        unaff_ESI[6] = unaff_ESI[6] + local_18;
        if ((_Size == (short *)0x0) || (*unaff_ESI <= unaff_ESI[6])) {
          local_28[*(ushort *)((int)unaff_ESI + 6)].dwBufferLength = unaff_ESI[6];
          waveOutWrite((HWAVEOUT)phwo_0047ce90,local_28 + *(ushort *)((int)unaff_ESI + 6),0x20);
          unaff_ESI[2] = unaff_ESI[2] + unaff_ESI[6];
          unaff_ESI[6] = 0;
          *(short *)((int)unaff_ESI + 6) =
               (short)((ulonglong)(*(ushort *)((int)unaff_ESI + 6) + 1) %
                      (ulonglong)(longlong)(int)(uint)*(ushort *)(unaff_ESI + 1));
          if (_Size == (short *)0x0) {
            unaff_ESI[0xc] = 2;
          }
        }
      }
    }
    ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
    return;
  }
LAB_004145fe:
  ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



undefined4 FUN_00414900(void)

{
  HANDLE hHeap;
  int in_EAX;
  int iVar1;
  LPWAVEHDR pwh;
  LPWAVEHDR pwVar2;
  int local_8;
  
  pwh = DAT_0047e5bc;
  waveOutReset((HWAVEOUT)phwo_0047ce90);
  iVar1 = 0;
  if (*(LPVOID *)(in_EAX + 0x2c) != (LPVOID)0x0) {
    HeapFree(DAT_0047e614,0,*(LPVOID *)(in_EAX + 0x2c));
  }
  *(undefined4 *)(in_EAX + 0x2c) = 0;
  pwVar2 = pwh;
  if (*(short *)(in_EAX + 4) != 0) {
    do {
      hHeap = DAT_0047e614;
      if ((pwVar2->lpData != (LPSTR)0x0) && (pwVar2->dwUser != 1)) {
        pwVar2->dwUser = 1;
        HeapFree(hHeap,0,pwVar2->lpData);
        pwVar2->lpData = (LPSTR)0x0;
      }
      iVar1 = iVar1 + 1;
      pwVar2 = pwVar2 + 1;
    } while (iVar1 < (int)(uint)*(ushort *)(in_EAX + 4));
  }
  local_8 = 0;
  if (*(short *)(in_EAX + 4) != 0) {
    do {
      if (pwh->dwUser != 1) {
        waveOutReset((HWAVEOUT)phwo_0047ce90);
        waveOutUnprepareHeader((HWAVEOUT)phwo_0047ce90,pwh,0x20);
        if (pwh->dwUser == 0) {
          waveOutClose((HWAVEOUT)phwo_0047ce90);
          phwo_0047ce90 = (LPHWAVEOUT)0x0;
        }
        pwh->dwUser = 1;
      }
      if (pwh->lpData != (LPSTR)0x0) {
        HeapFree(DAT_0047e614,0,pwh->lpData);
        pwh->lpData = (LPSTR)0x0;
      }
      local_8 = local_8 + 1;
      pwh = pwh + 1;
    } while (local_8 < (int)(uint)*(ushort *)(in_EAX + 4));
  }
  FUN_0044b590((int *)(in_EAX + 0x38));
  return 0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 __cdecl FUN_00414a20(char *param_1)

{
  LPVOID *ppvVar1;
  int iVar2;
  short *_Src;
  LPVOID dwBytes;
  LPVOID pvVar3;
  short *_Size;
  uint uVar4;
  longlong lVar5;
  ulonglong uVar6;
  int local_18;
  undefined4 local_10;
  int local_c;
  
  ppvVar1 = DAT_0047e5bc;
  local_10 = 0;
  if (param_1 != (char *)0x0) {
    iVar2 = FUN_0044cca0(param_1,&DAT_0047cb48);
    if (iVar2 != 0) {
      return 0xffffffff;
    }
    iVar2 = FUN_0044c570((int)&DAT_0047cb48,-1);
    _Src = (short *)HeapAlloc(DAT_0047e614,8,0x1000);
    lVar5 = FUN_0044b6a0((int)&DAT_0047cb48,-1);
    local_c = (int)lVar5;
    pwfx_0047bc90._0_2_ = 1;
    pwfx_0047bc90._2_2_ = *(ushort *)(iVar2 + 4);
    _DAT_0047bc9e = 0x10;
    uVar4 = (int)((uint)pwfx_0047bc90._2_2_ * 0x10) >> 3;
    _DAT_0047bc9c = (undefined2)uVar4;
    local_18 = (int)(longlong)ROUND((double)*(int *)(iVar2 + 8) / _DAT_0047ac88);
    DAT_0047bc94 = local_18;
    DAT_0047bc98 = (uVar4 & 0xffff) * local_18;
    uVar6 = FUN_0045db50(local_18,uVar4);
    dwBytes = (LPVOID)uVar6;
    DAT_0047cb10 = dwBytes;
    pvVar3 = HeapAlloc(DAT_0047e614,8,(SIZE_T)dwBytes);
    *ppvVar1 = pvVar3;
    ppvVar1[1] = dwBytes;
    if (pvVar3 == (LPVOID)0x0) {
      MessageBoxA((HWND)0x0,(LPCSTR)&lpText_00464254,param_1,0);
      return 0xfffffffe;
    }
    local_c = 0;
    _Size = FUN_0044c5b0((int)&DAT_0047cb48,_Src,0x1000,0,2,1,&local_10);
    while (_Size != (short *)0x0) {
      memcpy((void *)((int)*ppvVar1 + local_c),_Src,(size_t)_Size);
      local_c = local_c + (int)_Size;
      _Size = FUN_0044c5b0((int)&DAT_0047cb48,_Src,0x1000,0,2,1,&local_10);
    }
    FUN_0044b590((int *)&DAT_0047cb48);
    DAT_0047cb28 = 0;
    HeapFree(DAT_0047e614,0,_Src);
    ppvVar1[4] = (LPVOID)0xc;
    ppvVar1[5] = (LPVOID)0x1;
    ppvVar1[3] = (LPVOID)0x0;
  }
  return 0;
}


/*
Unable to decompile 'FUN_00414c40'
Cause: Exception while decompiling 00414c40: process: timeout

*/

/*
Unable to decompile 'FUN_00419ff0'
Cause: Exception while decompiling 00419ff0: process: timeout

*/


// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl FUN_0041cde0(int param_1)

{
  void **ppvVar1;
  
  if (DAT_0047c720 != 0) {
    free((void *)DAT_0047c720);
  }
  DAT_0047c720 = 0;
  if (DAT_0047b690 != 0) {
    free((void *)DAT_0047b690);
    DAT_0047b690 = 0;
  }
  if (DAT_00482090 == DAT_00482368) {
LAB_0041ce2f:
    DAT_00482090 = 0;
  }
  else if (DAT_00482090 != 0) {
    free((void *)DAT_00482090);
    goto LAB_0041ce2f;
  }
  if (DAT_004826b0 == DAT_00482598) {
LAB_0041ce53:
    DAT_004826b0 = 0;
  }
  else if (DAT_004826b0 != 0) {
    free((void *)DAT_004826b0);
    goto LAB_0041ce53;
  }
  if (DAT_004829c0 != 0) {
    free((void *)DAT_004829c0);
    DAT_004829c0 = 0;
  }
  if (DAT_00482918 != 0) {
    free((void *)DAT_00482918);
    DAT_00482918 = 0;
  }
  if (DAT_00482598 == DAT_00482368) {
    if ((param_1 == 0) && (DAT_00482598 != 0)) {
      free((void *)DAT_00482598);
      DAT_00482598 = 0;
    }
    DAT_00482368 = 0;
    DAT_00481d10 = 0;
LAB_0041cf08:
    DAT_00481c28 = 0;
  }
  else {
    if ((param_1 == 0) && (DAT_00482598 != 0)) {
      free((void *)DAT_00482598);
      DAT_00482598 = 0;
    }
    if (DAT_00482368 != 0) {
      free((void *)DAT_00482368);
      DAT_00482368 = 0;
    }
    if (DAT_00481d10 != 0) {
      free((void *)DAT_00481d10);
      DAT_00481d10 = 0;
    }
    if (DAT_00481c28 != 0) {
      free((void *)DAT_00481c28);
      goto LAB_0041cf08;
    }
  }
  DAT_00482398 = 0;
  if (DAT_004821a8 == DAT_00482a30) {
LAB_0041cf32:
    DAT_004821a8 = 0;
  }
  else if (DAT_004821a8 != 0) {
    free((void *)DAT_004821a8);
    goto LAB_0041cf32;
  }
  DAT_004821d8 = 0;
  if (DAT_00481fb0 == DAT_00482a30) {
LAB_0041cf58:
    DAT_00482a30 = 0;
  }
  else if (DAT_00482a30 != 0) {
    free((void *)DAT_00482a30);
    goto LAB_0041cf58;
  }
  DAT_00482a60 = 0;
  if (DAT_00481fb0 != 0) {
    free((void *)DAT_00481fb0);
    DAT_00481fb0 = 0;
  }
  if (DAT_00481f08 != 0) {
    free((void *)DAT_00481f08);
    DAT_00481f08 = 0;
  }
  if (DAT_00482330 == DAT_00481e28) {
    DAT_00482360 = 0;
  }
  else {
    if (DAT_00482330 == 0) goto LAB_0041cfb6;
    free((void *)DAT_00482330);
  }
  DAT_00482330 = 0;
LAB_0041cfb6:
  if (DAT_00481e28 != 0) {
    free((void *)DAT_00481e28);
    DAT_00481e28 = 0;
  }
  if (DAT_004825d0 != 0) {
    free((void *)DAT_004825d0);
    DAT_004825d0 = 0;
  }
  if (DAT_00481db8 != 0) {
    free((void *)DAT_00481db8);
    DAT_00481db8 = 0;
  }
  if (DAT_00481ca0 != 0) {
    free((void *)DAT_00481ca0);
    DAT_00481ca0 = 0;
  }
  if (DAT_00481fe8 != 0) {
    free((void *)DAT_00481fe8);
    DAT_00481fe8 = 0;
  }
  if (DAT_00482988 != 0) {
    free((void *)DAT_00482988);
    DAT_00482988 = 0;
  }
  if (DAT_00482410 != 0) {
    free((void *)DAT_00482410);
    DAT_00482410 = 0;
  }
  if (DAT_00482480 != 0) {
    free((void *)DAT_00482480);
    DAT_00482480 = 0;
  }
  if (DAT_00482800 != 0) {
    free((void *)DAT_00482800);
    DAT_00482800 = 0;
  }
  if (DAT_00481f40 != 0) {
    free((void *)DAT_00481f40);
    DAT_00481f40 = 0;
  }
  if (DAT_00481e98 != 0) {
    free((void *)DAT_00481e98);
    DAT_00481e98 = 0;
  }
  if (DAT_00481c68 != 0) {
    free((void *)DAT_00481c68);
    DAT_00481c68 = 0;
  }
  if (DAT_00482448 != 0) {
    free((void *)DAT_00482448);
    DAT_00482448 = 0;
  }
  if (DAT_004821e0 != 0) {
    free((void *)DAT_004821e0);
    DAT_004821e0 = 0;
  }
  if (DAT_004827c8 != 0) {
    free((void *)DAT_004827c8);
    DAT_004827c8 = 0;
  }
  if (DAT_00482218 != 0) {
    free((void *)DAT_00482218);
    DAT_00482218 = 0;
  }
  if (DAT_00482790 != 0) {
    free((void *)DAT_00482790);
    DAT_00482790 = 0;
  }
  if (DAT_004829f8 != 0) {
    free((void *)DAT_004829f8);
    DAT_004829f8 = 0;
  }
  if (DAT_00482020 != 0) {
    free((void *)DAT_00482020);
    DAT_00482020 = 0;
  }
  if (DAT_00481d80 != 0) {
    free((void *)DAT_00481d80);
    DAT_00481d80 = 0;
  }
  if (DAT_00481f78 != 0) {
    free((void *)DAT_00481f78);
    DAT_00481f78 = 0;
  }
  if (DAT_004826e8 != 0) {
    free((void *)DAT_004826e8);
    DAT_004826e8 = 0;
  }
  if (DAT_004822c0 != 0) {
    free((void *)DAT_004822c0);
    DAT_004822c0 = 0;
  }
  if (DAT_00481ed0 != 0) {
    free((void *)DAT_00481ed0);
    DAT_00481ed0 = 0;
  }
  if (DAT_00481cd8 != 0) {
    free((void *)DAT_00481cd8);
  }
  DAT_00481cd8 = 0;
  if (DAT_00481df0 != 0) {
    free((void *)DAT_00481df0);
    DAT_00481df0 = 0;
  }
  if (DAT_00482838 != 0) {
    free((void *)DAT_00482838);
    DAT_00482838 = 0;
  }
  if (DAT_004828a8 != 0) {
    free((void *)DAT_004828a8);
    DAT_004828a8 = 0;
  }
  if (DAT_00482138 != 0) {
    free((void *)DAT_00482138);
    DAT_00482138 = 0;
  }
  if (DAT_00482870 != 0) {
    free((void *)DAT_00482870);
    DAT_00482870 = 0;
  }
  if (DAT_004828e0 != 0) {
    free((void *)DAT_004828e0);
    DAT_004828e0 = 0;
  }
  if (DAT_00482170 != 0) {
    free((void *)DAT_00482170);
    DAT_00482170 = 0;
  }
  ppvVar1 = (void **)&DAT_004824b8;
  do {
    if (*ppvVar1 != (void *)0x0) {
      free(*ppvVar1);
      *ppvVar1 = (void *)0x0;
    }
    ppvVar1 = ppvVar1 + 0xe;
  } while ((int)ppvVar1 < 0x482560);
  if (DAT_0047d64c != 0) {
    free((void *)DAT_0047d64c);
    DAT_0047d64c = 0;
  }
  if (DAT_00482950 != 0) {
    free((void *)DAT_00482950);
    DAT_00482950 = 0;
  }
  if (DAT_00482100 != 0) {
    free((void *)DAT_00482100);
    DAT_00482100 = 0;
  }
  if (DAT_00482560 != 0) {
    free((void *)DAT_00482560);
    DAT_00482560 = 0;
  }
  if (param_1 == 0) {
    if (DAT_004820c8 != 0) {
      free((void *)DAT_004820c8);
      DAT_004820c8 = 0;
    }
    if (DAT_00482758 != 0) {
      free((void *)DAT_00482758);
      DAT_00482758 = 0;
    }
  }
  if (DAT_00482720 != 0) {
    free((void *)DAT_00482720);
    DAT_00482720 = 0;
  }
  if (DAT_004823d8 != 0) {
    free((void *)DAT_004823d8);
    DAT_004823d8 = 0;
  }
  if (DAT_00481e60 != 0) {
    free((void *)DAT_00481e60);
    DAT_00481e60 = 0;
  }
  if (DAT_00482058 != 0) {
    free((void *)DAT_00482058);
    DAT_00482058 = 0;
  }
  if (DAT_00482678 != 0) {
    free((void *)DAT_00482678);
    DAT_00482678 = 0;
  }
  if (DAT_00481d48 != 0) {
    free((void *)DAT_00481d48);
    DAT_00481d48 = 0;
  }
  if (DAT_00482250 != 0) {
    free((void *)DAT_00482250);
    DAT_00482250 = 0;
  }
  if (DAT_00482288 != 0) {
    free((void *)DAT_00482288);
    DAT_00482288 = 0;
  }
  if (DAT_004822f8 != 0) {
    free((void *)DAT_004822f8);
    DAT_004822f8 = 0;
  }
  if (DAT_00482640 != 0) {
    free((void *)DAT_00482640);
    DAT_00482640 = 0;
  }
  if (DAT_004823a0 != 0) {
    free((void *)DAT_004823a0);
    DAT_004823a0 = 0;
  }
  if (DAT_00482608 != 0) {
    free((void *)DAT_00482608);
    DAT_00482608 = 0;
  }
  if (DAT_0047e5cc != (HGDIOBJ)0x0) {
    DeleteDC(DAT_0047e5d0);
    if (DAT_0047e5cc != (HGDIOBJ)0x0) {
      DeleteObject(DAT_0047e5cc);
    }
  }
  DAT_0047e5d0 = (HDC)0x0;
  DAT_0047e5cc = (HGDIOBJ)0x0;
  if (DAT_0047bb8c != (HGDIOBJ)0x0) {
    DeleteDC(DAT_0047b124);
    if (DAT_0047bb8c != (HGDIOBJ)0x0) {
      DeleteObject(DAT_0047bb8c);
    }
  }
  DAT_0047b124 = (HDC)0x0;
  DAT_0047bb8c = (HGDIOBJ)0x0;
  if (DAT_0047bb70 != (HGDIOBJ)0x0) {
    DeleteDC(DAT_0047ce94);
    if (DAT_0047bb70 != (HGDIOBJ)0x0) {
      DeleteObject(DAT_0047bb70);
    }
  }
  DAT_0047ce94 = (HDC)0x0;
  DAT_0047bb70 = (HGDIOBJ)0x0;
  _DAT_0047d6e8 = 0;
  _DAT_0047ce98 = 0;
  if (param_1 == 0) {
    HeapDestroy(DAT_0047e610);
  }
  return;
}


/*
Unable to decompile 'FUN_0041d4a0'
Cause: Exception while decompiling 0041d4a0: process: timeout

*/


undefined4 FUN_00420e40(void)

{
  undefined2 *puVar1;
  int iVar2;
  void **ppvVar3;
  
  if (DAT_0047e2c4 != 0) {
    free((void *)DAT_0047e2c4);
  }
  DAT_0047e2c4 = 0;
  if (DAT_0047b154 != 0) {
    free((void *)DAT_0047b154);
  }
  DAT_0047b154 = 0;
  ppvVar3 = (void **)&DAT_0047cef0;
  do {
    if (ppvVar3[-9] != (void *)0x0) {
      free(ppvVar3[-9]);
    }
    ppvVar3[-9] = (void *)0x0;
    if (*ppvVar3 != (void *)0x0) {
      free(*ppvVar3);
    }
    *ppvVar3 = (void *)0x0;
    if (ppvVar3[-8] != (void *)0x0) {
      free(ppvVar3[-8]);
    }
    ppvVar3[-8] = (void *)0x0;
    if (ppvVar3[-6] != (void *)0x0) {
      free(ppvVar3[-6]);
    }
    ppvVar3[-6] = (void *)0x0;
    if (ppvVar3[-7] != (void *)0x0) {
      free(ppvVar3[-7]);
    }
    ppvVar3[-7] = (void *)0x0;
    if (ppvVar3[-2] != (void *)0x0) {
      free(ppvVar3[-2]);
    }
    ppvVar3[-2] = (void *)0x0;
    if (*(short *)(ppvVar3 + 0xb) != 0) {
      free(ppvVar3[-4]);
    }
    ppvVar3[-4] = (void *)0x0;
    if ((uint)*(ushort *)(ppvVar3 + 0x10) + (uint)*(ushort *)((int)ppvVar3 + 0x3e) +
        (uint)*(ushort *)(ppvVar3 + 0xf) != 0) {
      free(ppvVar3[-5]);
    }
    ppvVar3[-5] = (void *)0x0;
    if (ppvVar3[-3] != (void *)0x0) {
      free(ppvVar3[-3]);
    }
    ppvVar3[-3] = (void *)0x0;
    if (ppvVar3[-1] != (void *)0x0) {
      free(ppvVar3[-1]);
    }
    ppvVar3[-1] = (void *)0x0;
    puVar1 = (undefined2 *)((int)ppvVar3 + 0xe);
    iVar2 = 3;
    do {
      puVar1[-3] = 0;
      *puVar1 = 0;
      puVar1[0x11] = 0;
      puVar1[0x14] = 0;
      puVar1[0x1d] = 0;
      puVar1[0x20] = 0;
      puVar1[0x17] = 0;
      puVar1[0x1a] = 0;
      puVar1 = puVar1 + 1;
      iVar2 = iVar2 + -1;
    } while (iVar2 != 0);
    ppvVar3 = ppvVar3 + 0xf0;
  } while ((int)ppvVar3 < 0x47d670);
  DAT_0047c8a0 = 0;
  return 0;
}



// WARNING: Removing unreachable block (ram,0x0042122a)
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00420f90(void)

{
  uchar *puVar1;
  uchar uVar2;
  byte bVar3;
  HGDIOBJ ho;
  undefined4 uVar4;
  COLORREF color;
  uint uVar5;
  void **ppvVar6;
  byte *pbVar7;
  uchar *puVar8;
  uchar *puVar9;
  undefined4 *puVar10;
  int iVar11;
  uint uVar12;
  HBRUSH pHVar13;
  HPEN pHVar14;
  ushort *puVar15;
  void *pvVar16;
  byte *pbVar17;
  byte *pbVar18;
  byte *pbVar19;
  int iVar20;
  undefined *puVar21;
  bool bVar22;
  int *piVar23;
  int *piVar24;
  int local_b00;
  undefined8 local_afc;
  ushort *local_af0;
  longlong local_aec;
  undefined2 local_adc;
  char local_ada [1186];
  undefined2 local_638;
  undefined4 local_61c;
  uchar local_60c [512];
  uchar local_40c;
  undefined local_40b [511];
  char local_20c;
  undefined local_20b [515];
  uint local_8;
  
  local_8 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  local_40c = '0';
  memset(local_40b,0,0x1ff);
  local_af0 = (ushort *)0x0;
  local_adc = 0;
  memset(local_ada,0,0x4ce);
  local_20c = '0';
  memset(local_20b,0,0x1ff);
  iVar20 = 0;
  local_b00 = 0;
  if (0 < DAT_0047e584) {
    do {
      ho = *(HGDIOBJ *)(DAT_0047e5ac + iVar20 * 4);
      if (ho != (HGDIOBJ)0x0) {
        DeleteObject(ho);
      }
      iVar20 = iVar20 + 1;
    } while (iVar20 < DAT_0047e584);
  }
  if (DAT_0047e5ac != 0) {
    free((void *)DAT_0047e5ac);
  }
  DAT_0047e5ac = 0;
  if (DAT_0047e5b0 != 0) {
    free((void *)DAT_0047e5b0);
  }
  DAT_0047e5b0 = 0;
  DAT_0047e5b4 = 0;
  GetModuleFileNameA((HMODULE)0x0,(LPSTR)local_60c,0x200);
  puVar8 = local_60c;
  do {
    uVar2 = *puVar8;
    puVar8 = puVar8 + 1;
  } while (uVar2 != '\0');
  puVar9 = _mbsrchr(local_60c,0x5c);
  puVar1 = puVar9 + 1;
  do {
    uVar2 = *puVar9;
    puVar9 = puVar9 + 1;
  } while (uVar2 != '\0');
  _mbsnbcpy_s(&local_40c,0x200,local_60c,
              (size_t)(puVar8 + (-((int)puVar9 - (int)puVar1) - (int)(local_60c + 1))));
  local_638 = 0;
  strcpy_s(local_ada,0x100,(char *)&local_40c);
  DAT_0047e5a8 = (uint)DAT_0047f11c;
  piVar24 = &local_b00;
  piVar23 = &DAT_0047e584;
  iVar20 = 0;
  local_61c = 1;
  puVar10 = FUN_0043aa00((undefined4 *)&_Memory_0047e750);
  iVar11 = FUN_00421560((char *)&local_40c,puVar10,iVar20,piVar23,piVar24);
  iVar20 = DAT_0047e584;
  if (iVar11 == -1) {
    MessageBoxA(DAT_0047de30,(LPCSTR)&lpText_00463800,(LPCSTR)&_Src_0047e0a0,0);
    DAT_0047e630 = 0;
    ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
    return;
  }
  if (_DAT_0047e61c == 0) {
    DAT_0047e5ac = (int)calloc(DAT_0047e584,4);
    DAT_0047e5b0 = (int)calloc(iVar20,4);
    DAT_0047e5b4 = (int)calloc(iVar20,4);
    DAT_0047e5b8 = (int)calloc(iVar20,4);
    puVar21 = &_Memory_0047e750;
    do {
      if ((puVar21 == *(undefined **)(puVar21 + 0x4e4)) &&
         (uVar12 = (uint)*(ushort *)(puVar21 + 0x4bc), *(ushort *)(puVar21 + 0x4bc) != 0)) {
        uVar4 = *(undefined4 *)(puVar21 + 0x4c8);
        color = *(COLORREF *)(puVar21 + 0x4c4);
        *(COLORREF *)(DAT_0047e5b0 + -4 + uVar12 * 4) = color;
        *(undefined4 *)(DAT_0047e5b4 + -4 + uVar12 * 4) = uVar4;
        pHVar13 = CreateSolidBrush(color);
        *(HBRUSH *)(DAT_0047e5ac + -4 + uVar12 * 4) = pHVar13;
        uVar5 = *(uint *)(DAT_0047e5b4 + -4 + uVar12 * 4);
        local_aec._0_4_ = (int)(longlong)ROUND((double)(uVar5 >> 0x10) * 0.4);
        iVar20 = (int)local_aec * 0x100;
        local_afc._4_4_ = (uint)*(byte *)(DAT_0047e5b4 + -3 + uVar12 * 4);
        local_afc = (longlong)ROUND((double)local_afc._4_4_ * 0.4);
        local_aec = (longlong)ROUND((double)(uVar5 & 0xff) * 0.4);
        pHVar14 = CreatePen(0,1,(iVar20 + (int)local_afc) * 0x100 + (int)local_aec);
        *(HPEN *)(DAT_0047e5b8 + -4 + uVar12 * 4) = pHVar14;
      }
      puVar21 = *(undefined **)(puVar21 + 0x4d4);
    } while (puVar21 != (undefined *)0x0);
    puVar15 = (ushort *)&_Memory_0047e750;
    do {
      if (1 < *puVar15) {
        if (local_af0 == (ushort *)0x0) {
          DAT_0047ec2c = puVar15;
          local_af0 = puVar15;
          if (puVar15[0x25e] != 0) {
            *(int *)(puVar15 + 0x26c) = *(int *)(puVar15 + 0x272);
            *(ushort **)(*(int *)(puVar15 + 0x272) + 0x4dc) = puVar15;
          }
        }
        else {
          *(ushort **)(local_af0 + 0x26e) = puVar15;
          *(ushort **)(puVar15 + 0x26c) = local_af0;
          local_af0 = puVar15;
        }
      }
      puVar15 = *(ushort **)(puVar15 + 0x26a);
    } while (puVar15 != (ushort *)0x0);
    puVar10 = (undefined4 *)&_Memory_0047e750;
    do {
      if (*(short *)puVar10 == 4) {
        ppvVar6 = (void **)puVar10[0x111];
        if (ppvVar6 != (void **)0x0) {
          if (*ppvVar6 != (void *)0x0) {
            free(*ppvVar6);
          }
          *(undefined4 *)puVar10[0x111] = 0;
          free((void *)puVar10[0x111]);
        }
        pvVar16 = calloc((uint)*(ushort *)(puVar10 + 0x110),4);
        puVar10[0x111] = pvVar16;
        FUN_004139a0(puVar10);
        uVar12 = 0;
        if (*(short *)(puVar10 + 0x110) != 0) {
          do {
            pbVar7 = *(byte **)(DAT_0047e4dc + uVar12 * 4);
            pbVar19 = &_Memory_0047e750;
            local_aec = CONCAT44(pbVar7,(int)local_aec);
            pbVar17 = &DAT_0047e752;
            pbVar18 = pbVar7;
            do {
              bVar3 = *pbVar17;
              bVar22 = bVar3 < *pbVar18;
              if (bVar3 != *pbVar18) {
LAB_00421420:
                iVar20 = (1 - (uint)bVar22) - (uint)(bVar22 != 0);
                goto joined_r0x00421427;
              }
              if (bVar3 == 0) break;
              bVar3 = pbVar17[1];
              bVar22 = bVar3 < pbVar18[1];
              if (bVar3 != pbVar18[1]) goto LAB_00421420;
              pbVar17 = pbVar17 + 2;
              pbVar18 = pbVar18 + 2;
            } while (bVar3 != 0);
            iVar20 = 0;
joined_r0x00421427:
            if (iVar20 != 0) {
              pbVar19 = *(byte **)(pbVar19 + 0x4d4);
              pbVar17 = pbVar7;
              pbVar18 = pbVar19;
              if (pbVar19 == (byte *)0x0) {
                strcpy_s(&local_20c,0x200,(char *)&_Src_00463824);
                strcat_s(&local_20c,0x200,*(char **)(DAT_0047e4dc + uVar12 * 4));
                strcat_s(&local_20c,0x200,"\" is not found");
                MessageBoxA(DAT_0047de30,&local_20c,(LPCSTR)&_Src_0047e0a0,0);
                uVar12 = (uint)*(ushort *)(puVar10 + 0x110);
                *(undefined2 *)((int)puVar10 + 0x4ba) = 0;
                free((void *)puVar10[0x111]);
                puVar10[0x111] = 0;
                goto LAB_0042150c;
              }
              do {
                bVar3 = pbVar18[2];
                bVar22 = bVar3 < *pbVar17;
                if (bVar3 != *pbVar17) {
LAB_00421460:
                  iVar20 = (1 - (uint)bVar22) - (uint)(bVar22 != 0);
                  goto joined_r0x00421427;
                }
                if (bVar3 == 0) break;
                bVar3 = pbVar18[3];
                bVar22 = bVar3 < pbVar17[1];
                if (bVar3 != pbVar17[1]) goto LAB_00421460;
                pbVar17 = pbVar17 + 2;
                pbVar18 = pbVar18 + 2;
              } while (bVar3 != 0);
              iVar20 = 0;
              goto joined_r0x00421427;
            }
            *(byte **)(puVar10[0x111] + uVar12 * 4) = pbVar19;
LAB_0042150c:
            uVar12 = uVar12 + 1;
          } while ((int)uVar12 < (int)(uint)*(ushort *)(puVar10 + 0x110));
        }
      }
      puVar10 = (undefined4 *)puVar10[0x135];
    } while (puVar10 != (undefined4 *)0x0);
    DAT_0047cf56 = 3;
    FUN_00421cb0((short *)&_Memory_0047e750);
  }
  ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl FUN_00421560(char *param_1,undefined4 *param_2,int param_3,int *param_4,int *param_5)

{
  uchar *puVar1;
  uint *puVar2;
  uchar uVar3;
  char cVar4;
  uint uVar5;
  uint uVar6;
  uchar *puVar7;
  char *pcVar8;
  char *pcVar9;
  HANDLE hFindFile;
  BOOL BVar10;
  int iVar11;
  DWORD DVar12;
  CHAR *pCVar13;
  uchar *puVar14;
  CHAR *pCVar15;
  undefined4 *puVar16;
  undefined4 extraout_ECX;
  char *pcVar17;
  code *pcVar18;
  char **ppcVar19;
  uint *puVar20;
  uint *puVar21;
  FILE *local_c34;
  int *local_c30;
  int *local_c2c;
  char *local_c28;
  int local_c24;
  short local_c20;
  char local_c1e [1186];
  undefined2 local_77c;
  undefined2 local_764;
  _WIN32_FIND_DATAA local_750;
  uchar local_610 [512];
  uchar local_410 [512];
  char local_210 [516];
  uint local_c;
  
  local_c = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  local_c28 = param_1;
  local_c30 = param_4;
  local_c2c = param_5;
  local_c20 = 0;
  memset(local_c1e,0,0x4ce);
  local_c24 = 0;
  if (param_3 == 0) {
    *(undefined2 *)param_2 = 0;
    param_2[0x130] = 1;
    *(undefined2 *)(param_2 + 0x12f) = 0;
    param_2[0x139] = param_2;
  }
  else {
    if ((2 < (int)(param_3 - (uint)*(ushort *)(param_2[0x139] + 0x4a4))) && (_DAT_0047e594 == 0)) {
LAB_00421c93:
      ___security_check_cookie_4(local_c ^ (uint)&stack0xfffffffc);
      return;
    }
    strcpy_s(local_210,0x200,local_c28);
    strcat_s(local_210,0x200,"\\genre.ini");
    fopen_s(&local_c34,local_210,(char *)&_Mode_00463844);
    if (local_c34 != (FILE *)0x0) {
      fclose(local_c34);
      *param_4 = *param_4 + 1;
      *(undefined2 *)param_2 = 3;
      param_2[0x130] = 0;
      *(undefined2 *)(param_2 + 0x12f) = *(undefined2 *)param_4;
      pcVar9 = (char *)((int)param_2 + 0x102);
      param_2[0x139] = param_2;
      param_2[0x13a] = *param_5;
      *(undefined2 *)((int)param_2 + 0x4ba) = 3;
      *param_5 = *param_5 + 1;
      local_c24 = 1;
      GetPrivateProfileStringA
                ("Genre","GenreName",(LPCSTR)&lpDefault_0045fa46,pcVar9,0x100,local_210);
      pcVar17 = pcVar9;
      if (*pcVar9 == '\0') {
        puVar7 = _mbsrchr((uchar *)((int)param_2 + 2),0x5c);
        strcpy_s(pcVar9,0x100,(char *)(puVar7 + 1));
      }
      do {
        pcVar8 = pcVar17;
        pcVar17 = pcVar8 + 1;
      } while (*pcVar8 != '\0');
      pcVar17 = pcVar9;
      if (pcVar8[-1] == '\n') {
        do {
          pcVar8 = pcVar17;
          pcVar17 = pcVar8 + 1;
        } while (*pcVar8 != '\0');
        pcVar8[-1] = '\0';
        pcVar17 = pcVar9;
      }
      do {
        pcVar8 = pcVar17;
        pcVar17 = pcVar8 + 1;
      } while (*pcVar8 != '\0');
      if (pcVar8[-1] == '\r') {
        do {
          pcVar17 = pcVar9;
          pcVar9 = pcVar17 + 1;
        } while (*pcVar17 != '\0');
        pcVar17[-1] = '\0';
      }
      GetPrivateProfileStringA
                ("Genre","GenreColor",(LPCSTR)((int)&lpDefault_0045fa46 + 1),(LPSTR)local_410,0x200,
                 local_210);
      pcVar9 = strchr((char *)local_410,0x23);
      puVar2 = param_2 + 0x131;
      if (pcVar9 == (char *)0x0) {
        *puVar2 = 0x222222;
      }
      else {
        ppcVar19 = &_Format_00463870;
        puVar20 = puVar2;
        pcVar9 = strchr((char *)local_410,0x23);
        sscanf_s(pcVar9 + 1,(char *)ppcVar19,puVar20);
      }
      GetPrivateProfileStringA
                ("Genre","FontColor",(LPCSTR)&lpDefault_0045fa86,(LPSTR)local_410,0x200,local_210);
      pcVar9 = strchr((char *)local_410,0x23);
      puVar20 = param_2 + 0x132;
      if (pcVar9 == (char *)0x0) {
        *puVar20 = 0xc8c8c8;
      }
      else {
        ppcVar19 = &_Format_00463888;
        puVar21 = puVar20;
        pcVar9 = strchr((char *)local_410,0x23);
        sscanf_s(pcVar9 + 1,(char *)ppcVar19,puVar21);
      }
      uVar5 = *puVar2;
      uVar6 = *puVar20;
      *puVar2 = (uVar5 >> 0x10 & 0xff) + (uVar5 & 0xff) * 0x10000 + (uVar5 & 0xff00);
      *puVar20 = (uVar6 >> 0x10 & 0xff) + (uVar6 & 0xff) * 0x10000 + (uVar6 & 0xff00);
    }
  }
  strcpy_s(local_210,0x200,local_c28);
  strcat_s(local_210,0x200,(char *)&_Src_0046388c);
  hFindFile = FindFirstFileA(local_210,&local_750);
  if (hFindFile == (HANDLE)0xffffffff) {
    ___security_check_cookie_4(local_c ^ (uint)&stack0xfffffffc);
    return;
  }
LAB_004218d8:
  do {
    do {
      BVar10 = FindNextFileA(hFindFile,&local_750);
      if (BVar10 == 0) {
        GetLastError();
        FindClose(hFindFile);
        ___security_check_cookie_4(local_c ^ (uint)&stack0xfffffffc);
        return;
      }
    } while (local_750.cFileName[0] == '.');
    iVar11 = _mbscmp((uchar *)local_750.cFileName,(uchar *)&_Str2_00463890);
    if ((iVar11 != 0) &&
       (iVar11 = _mbscmp((uchar *)local_750.cFileName,(uchar *)&_Str2_00463894),
       pcVar18 = _mbsnbcmp_exref, iVar11 != 0)) break;
    pcVar18 = _mbsnbcmp_exref;
    pCVar15 = local_750.cFileName;
    do {
      pCVar13 = pCVar15;
      pCVar15 = pCVar13 + 1;
    } while (*pCVar13 != '\0');
    iVar11 = _mbsnbcmp((uchar *)(pCVar13 + -4),(uchar *)&_Str2_00463898,4);
    if (iVar11 == 0) break;
    pCVar15 = local_750.cFileName;
    do {
      pCVar13 = pCVar15;
      pCVar15 = pCVar13 + 1;
    } while (*pCVar13 != '\0');
    iVar11 = _mbsnbcmp((uchar *)(pCVar13 + -4),(uchar *)&_Str2_004638a0,4);
    pcVar18 = _mbsnbcmp_exref;
  } while (iVar11 != 0);
  strcpy_s(local_c1e,0x100,local_c28);
  strcat_s(local_c1e,0x100,(char *)&_Src_004638a8);
  strcat_s(local_c1e,0x100,local_750.cFileName);
  DVar12 = GetFileAttributesA(local_c1e);
  local_c20 = 0;
  if ((DVar12 & 0x10) == 0) {
    pCVar15 = local_750.cFileName;
    do {
      pCVar13 = pCVar15;
      pCVar15 = pCVar13 + 1;
    } while (*pCVar13 != '\0');
    iVar11 = (*pcVar18)(pCVar13 + -4,&_Str2_004638ac,4);
    if (iVar11 == 0) {
      local_c20 = 2;
    }
    else {
      pCVar15 = local_750.cFileName;
      do {
        pCVar13 = pCVar15;
        pCVar15 = pCVar13 + 1;
      } while (*pCVar13 != '\0');
      iVar11 = (*pcVar18)(pCVar13 + -4,&_Str2_004638b4,4);
      if (iVar11 == 0) {
        local_c20 = 4;
      }
      else if (local_c20 == 0) goto LAB_004218d8;
    }
  }
  else {
    local_c20 = 1;
  }
  GetModuleFileNameA((HMODULE)0x0,(LPSTR)local_610,0x200);
  puVar7 = local_610;
  do {
    uVar3 = *puVar7;
    puVar7 = puVar7 + 1;
  } while (uVar3 != '\0');
  puVar14 = _mbsrchr(local_610,0x5c);
  puVar1 = puVar14 + 1;
  do {
    uVar3 = *puVar14;
    puVar14 = puVar14 + 1;
  } while (uVar3 != '\0');
  _mbsnbcpy_s(local_410,0x200,local_610,
              (size_t)(puVar7 + (-((int)puVar14 - (int)puVar1) - (int)(local_610 + 1))));
  PatBlt(DAT_0047b6c0,0,0x14,DAT_0047ac7c,DAT_0047ac80 + -0x14,0x42);
  pCVar15 = local_750.cFileName;
  do {
    cVar4 = *pCVar15;
    pCVar15 = pCVar15 + 1;
  } while (cVar4 != '\0');
  TextOutA(DAT_0047b6c0,2,0x16,local_750.cFileName,(int)pCVar15 - (int)(local_750.cFileName + 1));
  BitBlt(DAT_0047de50,0,0,DAT_0047ac7c,DAT_0047ac80,DAT_0047b6c0,0,0,0xcc0020);
  UpdateWindow(DAT_0047de30);
  local_764 = *(undefined2 *)(param_2 + 0x12f);
  local_77c = (undefined2)param_3;
  puVar16 = FUN_0043aa00(param_2);
  if (puVar16 == (undefined4 *)0x0) goto LAB_00421c93;
  puVar16[0x139] = param_2[0x139];
  if (local_c20 == 1) {
    puVar16[0x138] = param_2;
    puVar7 = _mbsrchr((uchar *)((int)puVar16 + 2),0x5c);
    strcpy_s((char *)((int)puVar16 + 0x102),0x100,(char *)(puVar7 + 1));
    FUN_00421560(local_c1e,puVar16,param_3 + 1,local_c30,local_c2c);
  }
  else if ((local_c20 == 2) || (local_c20 == 4)) {
    puVar16[0x138] = param_2;
    FUN_0040ca20((short *)puVar16);
    FUN_00435730(extraout_ECX,(short *)puVar16);
    local_c24 = local_c24 + 1;
    puVar16[0x13a] = *local_c2c;
    *local_c2c = *local_c2c + 1;
    if (*(short *)(puVar16 + 0x12f) != 0) {
      *(int *)(puVar16[0x139] + 0x4a8) = *(int *)(puVar16[0x139] + 0x4a8) + 1;
    }
  }
  goto LAB_004218d8;
}



void __cdecl FUN_00421cb0(short *param_1)

{
  byte bVar1;
  short sVar2;
  short **ppsVar3;
  byte *pbVar4;
  int iVar5;
  byte *pbVar6;
  undefined4 *puVar7;
  undefined4 *puVar8;
  bool bVar9;
  undefined4 local_918 [310];
  short *local_440;
  undefined4 local_430;
  short *local_428;
  int local_424;
  short **local_420;
  int local_41c;
  short *local_418;
  undefined4 *local_414;
  undefined4 *local_410;
  uint local_40c;
  byte local_408 [512];
  byte local_208 [512];
  uint local_8;
  
  local_8 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  local_428 = param_1;
  local_41c = 0;
  local_424 = DAT_0047e5a8;
  local_208[0] = 0;
  memset(local_208 + 1,0,0x1ff);
  local_408[0] = 0;
  memset(local_408 + 1,0,0x1ff);
  local_40c = 1;
  if (DAT_0047e584 < 1) {
    ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
    return;
  }
  do {
    local_418 = local_428;
    do {
      if (((ushort)local_418[0x25e] == local_40c) && ((*local_418 == 2 || (*local_418 == 4)))) {
        local_414 = *(undefined4 **)(local_418 + 0x26e);
        local_410 = local_414;
        if ((local_414 != (undefined4 *)0x0) &&
           ((ushort)local_418[0x252] <= *(ushort *)(local_414 + 0x129))) {
          local_420 = (short **)(local_414 + 0x136);
          goto LAB_00421ddc;
        }
        break;
      }
      local_418 = *(short **)(local_418 + 0x26e);
    } while (local_418 != (short *)0x0);
LAB_00421d6e:
    local_40c = local_40c + 1;
    if (DAT_0047e584 < (int)local_40c) {
      ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
      return;
    }
  } while( true );
LAB_00421ddc:
  puVar8 = local_410;
  ppsVar3 = local_420;
  sVar2 = **local_420;
  if ((sVar2 == 2) || (sVar2 == 4)) {
    if (local_424 == 0) {
      FUN_0043ab00((int)local_208);
      FUN_0043ab00((int)local_408);
      pbVar6 = local_408;
      pbVar4 = local_208;
      do {
        bVar1 = *pbVar4;
        bVar9 = bVar1 < *pbVar6;
        if (bVar1 != *pbVar6) goto LAB_00421ed0;
        if (bVar1 == 0) break;
        bVar1 = pbVar4[1];
        bVar9 = bVar1 < pbVar6[1];
        if (bVar1 != pbVar6[1]) goto LAB_00421ed0;
        pbVar4 = pbVar4 + 2;
        pbVar6 = pbVar6 + 2;
      } while (bVar1 != 0);
      iVar5 = 0;
      goto LAB_00421ed5;
    }
    if (local_424 == 1) {
      if (*(double *)(*local_420 + (uint)DAT_0047cf56 * 4 + 0x184) <=
          *(double *)(local_410 + (uint)DAT_0047cf56 * 2 + 0xc2)) goto LAB_00421ee8;
      goto LAB_00421ee2;
    }
    if (local_424 == 2) {
      FUN_0043ab00((int)local_208);
      FUN_0043ab00((int)local_408);
      pbVar6 = local_408;
      pbVar4 = local_208;
      do {
        bVar1 = *pbVar4;
        bVar9 = bVar1 < *pbVar6;
        if (bVar1 != *pbVar6) goto LAB_00421ed0;
        if (bVar1 == 0) break;
        bVar1 = pbVar4[1];
        bVar9 = bVar1 < pbVar6[1];
        if (bVar1 != pbVar6[1]) goto LAB_00421ed0;
        pbVar4 = pbVar4 + 2;
        pbVar6 = pbVar6 + 2;
      } while (bVar1 != 0);
      iVar5 = 0;
      goto LAB_00421ed5;
    }
    goto LAB_00421ee8;
  }
  goto LAB_00421ff5;
LAB_00421ed0:
  iVar5 = (1 - (uint)bVar9) - (uint)(bVar9 != 0);
LAB_00421ed5:
  if (iVar5 < 0) {
LAB_00421ee2:
    if (*(short *)puVar8 == 3) goto LAB_00421ee8;
  }
  else {
LAB_00421ee8:
    if ((*(ushort *)(puVar8 + 0x12f) == local_40c) || ((ushort)(*ppsVar3)[0x25e] != local_40c))
    goto LAB_00421ff5;
  }
  puVar7 = (undefined4 *)*ppsVar3;
  if (*(ushort *)(puVar7[0x139] + 0x4a4) <= *(ushort *)(puVar8[0x139] + 0x4a4)) {
    local_41c = local_41c + 1;
    if (local_414 == puVar8) {
      local_414 = puVar7;
    }
    puVar8 = local_918;
    for (iVar5 = 0x13c; iVar5 != 0; iVar5 = iVar5 + -1) {
      *puVar8 = *puVar7;
      puVar7 = puVar7 + 1;
      puVar8 = puVar8 + 1;
    }
    if (*(int *)(*local_420 + 0x26c) != 0) {
      *(undefined4 **)(*(int *)(*local_420 + 0x26c) + 0x4dc) = local_410;
    }
    if (local_410[0x137] != 0) {
      *(short **)(local_410[0x137] + 0x4d8) = *local_420;
    }
    *(undefined4 **)(*local_420 + 0x26c) = local_410;
    *(undefined4 *)(*local_420 + 0x26e) = local_410[0x137];
    *(undefined4 *)(*local_420 + 0x274) = local_410[0x13a];
    local_410[0x137] = *local_420;
    *local_420 = local_440;
    local_410[0x13a] = local_430;
    if ((local_440 != (short *)local_410[0x139]) &&
       (((ushort)local_440[0x25e] == local_40c || (*(ushort *)(local_410 + 0x12f) != local_40c))))
    goto LAB_00421ddc;
  }
LAB_00421ff5:
  local_414 = (undefined4 *)local_414[0x137];
  if ((local_414 == (undefined4 *)0x0) ||
     (((*(ushort *)(local_414 + 0x12f) != local_40c &&
       (*(short *)(*(int *)(local_418 + 0x272) + 0x4a4) == *(short *)(local_414 + 0x129))) ||
      (*(ushort *)(local_414 + 0x12f) == 0)))) goto LAB_00421d6e;
  local_420 = (short **)(local_414 + 0x136);
  local_410 = local_414;
  goto LAB_00421ddc;
}


/*
Unable to decompile 'FUN_00422090'
Cause: Exception while decompiling 00422090: process: timeout

*/

/*
Unable to decompile 'FUN_00428750'
Cause: Exception while decompiling 00428750: process: timeout

*/


// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00435050(void)

{
  DWORD DVar1;
  undefined4 extraout_ECX;
  undefined4 extraout_EDX;
  int iVar2;
  ulonglong uVar3;
  
  DVar1 = timeGetTime();
  if (_DAT_0047ac88 * 150.0 <= (double)(DVar1 - DAT_0047e2cc)) {
    if (((DAT_0047e2cc != 0) && (_DAT_0047e2d0 == 0)) && (DAT_0047e634 == 0)) {
      PatBlt(DAT_0047b6c0,0,0,DAT_0047ac74 + 1,DAT_0047ac78 + 1,0x42);
    }
  }
  else {
    timeGetTime();
    iVar2 = DAT_0047ac78;
    uVar3 = FUN_0045db50(extraout_ECX,extraout_EDX);
    if (DAT_0047e634 == 0) {
      iVar2 = iVar2 + (int)uVar3 * -2;
      if (_DAT_0047e2d0 == 0) {
        PatBlt(DAT_0047b6c0,0,iVar2,DAT_0047ac74 + 1,(int)uVar3 * 2,0x42);
        return;
      }
      PatBlt(DAT_0047b6c0,0,0,DAT_0047ac74 + 1,iVar2,0x42);
      return;
    }
  }
  return;
}



void FUN_00435150(void)

{
  uchar *puVar1;
  uchar uVar2;
  uchar *puVar3;
  uchar *puVar4;
  FILE *local_30c;
  uchar local_308 [512];
  uchar local_108;
  undefined local_107 [255];
  uint local_8;
  
  local_8 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  local_30c = (FILE *)0x0;
  local_108 = '\0';
  memset(local_107,0,0xff);
  strcpy_s((char *)&local_108,0x100,(char *)&_Dst_0047dfa0);
  memset(&_Dst_0047dfa0,0,0x20c);
  strcpy_s((char *)&_Dst_0047dfa0,0x100,(char *)&local_108);
  GetModuleFileNameA((HMODULE)0x0,(LPSTR)local_308,0x200);
  puVar4 = local_308;
  do {
    uVar2 = *puVar4;
    puVar4 = puVar4 + 1;
  } while (uVar2 != '\0');
  puVar3 = _mbsrchr(local_308,0x5c);
  puVar1 = puVar3 + 1;
  do {
    uVar2 = *puVar3;
    puVar3 = puVar3 + 1;
  } while (uVar2 != '\0');
  _mbsnbcpy_s(&local_108,0x100,local_308,
              (size_t)(puVar4 + (-((int)puVar3 - (int)puVar1) - (int)(local_308 + 1))));
  strcat_s((char *)&local_108,0x100,"\\lang\\");
  strcat_s((char *)&local_108,0x100,(char *)&_Dst_0047dfa0);
  strcat_s((char *)&local_108,0x100,(char *)&_Src_00463ca0);
  fopen_s(&local_30c,(char *)&local_108,(char *)&_Mode_00463ca8);
  if (local_30c != (FILE *)0x0) {
    GetPrivateProfileStringA
              ("language","AppName",(LPCSTR)&lpDefault_004627d3,(LPSTR)&_Src_0047e0a0,0x80,
               (LPCSTR)&local_108);
    GetPrivateProfileStringA
              ("language","CourseName_Easy",(LPCSTR)&lpDefault_004627db,(LPSTR)&_Dst_0047e120,0x10,
               (LPCSTR)&local_108);
    GetPrivateProfileStringA
              ("language","CourseName_Normal",(LPCSTR)&lpDefault_004627e3,(LPSTR)&_Dst_0047e130,0x10
               ,(LPCSTR)&local_108);
    GetPrivateProfileStringA
              ("language","CourseName_Hard",(LPCSTR)&lpDefault_004627eb,(LPSTR)&_Dst_0047e140,0x10,
               (LPCSTR)&local_108);
    GetPrivateProfileStringA
              ("language","CourseName_Oni",(LPCSTR)&lpDefault_004627f3,(LPSTR)&_Dst_0047e150,0x10,
               (LPCSTR)&local_108);
    GetPrivateProfileStringA
              ("language","CourseName_Edit",(LPCSTR)&lpDefault_004627fb,(LPSTR)&_Dst_0047e160,0x10,
               (LPCSTR)&local_108);
    GetPrivateProfileStringA
              ("language","CourseName_Tower",(LPCSTR)&lpDefault_00462803,(LPSTR)&_Dst_0047e170,0x10,
               (LPCSTR)&local_108);
    GetPrivateProfileStringA("language","HasBranch","",&_Dst_0047e18c,0x20,(LPCSTR)&local_108);
    GetPrivateProfileStringA
              ("language","GenreMark",(LPCSTR)&lpDefault_0046281d,&_Dst_0047e180,4,
               (LPCSTR)&local_108);
    GetPrivateProfileStringA
              ("language","LevelStar_f",(LPCSTR)((int)&lpDefault_0046281d + 1),&_Src_0047e184,4,
               (LPCSTR)&local_108);
    GetPrivateProfileStringA
              ("language","LevelStar_v",(LPCSTR)((int)&lpDefault_0046281d + 2),&_Src_0047e188,4,
               (LPCSTR)&local_108);
    fclose(local_30c);
  }
  if ((char)_Src_0047e0a0 == '\0') {
    strcpy_s((char *)&_Src_0047e0a0,0x80,(char *)&_Src_00463dd0);
  }
  if ((char)_Dst_0047e120 == '\0') {
    strcpy_s((char *)&_Dst_0047e120,0x10,(char *)&_Src_00463de0);
  }
  if ((char)_Dst_0047e130 == '\0') {
    strcpy_s((char *)&_Dst_0047e130,0x10,(char *)&_Src_00463dec);
  }
  if ((char)_Dst_0047e140 == '\0') {
    strcpy_s((char *)&_Dst_0047e140,0x10,(char *)&_Src_00463df4);
  }
  if ((char)_Dst_0047e150 == '\0') {
    strcpy_s((char *)&_Dst_0047e150,0x10,(char *)&_Src_00463e00);
  }
  if ((char)_Dst_0047e160 == '\0') {
    strcpy_s((char *)&_Dst_0047e160,0x10,(char *)&_Src_00463e08);
  }
  if ((char)_Dst_0047e170 == '\0') {
    strcpy_s((char *)&_Dst_0047e170,0x10,(char *)&_Src_00463e10);
  }
  if (_Dst_0047e18c == '\0') {
    strcpy_s(&_Dst_0047e18c,0x20,(char *)&_Src_00463e1c);
  }
  if (_Dst_0047e180 == '\0') {
    strcpy_s(&_Dst_0047e180,4,(char *)&_Src_00463e28);
  }
  if (_Src_0047e184 == '\0') {
    strcpy_s(&_Src_0047e184,4,(char *)&_Src_00463e2c);
  }
  if (_Src_0047e188 == '\0') {
    strcpy_s(&_Src_0047e188,4,(char *)&_Src_00463e30);
  }
  ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void FUN_00435530(void)

{
  uchar *_Str;
  uchar *puVar1;
  uchar uVar2;
  uchar *puVar3;
  uchar *puVar4;
  FILE *_File;
  int unaff_EDI;
  FILE *local_210;
  uint local_20c;
  uchar local_208 [512];
  uint local_8;
  
  local_8 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  if (DAT_0047e2d8 != 0) {
    ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
    return;
  }
  _Str = (uchar *)(unaff_EDI + 2);
  if ((_Str != (uchar *)0x0) && (*_Str != '\0')) {
    puVar3 = _Str;
    do {
      uVar2 = *puVar3;
      puVar3 = puVar3 + 1;
    } while (uVar2 != '\0');
    puVar4 = _mbsrchr(_Str,0x2e);
    puVar1 = puVar4 + 1;
    do {
      uVar2 = *puVar4;
      puVar4 = puVar4 + 1;
    } while (uVar2 != '\0');
    _mbsnbcpy_s(local_208,0x200,_Str,
                (size_t)(puVar3 + (-((int)puVar4 - (int)puVar1) - (unaff_EDI + 3))));
    strcat_s((char *)local_208,0x200,(char *)&_Src_00463e34);
    fopen_s(&local_210,(char *)local_208,(char *)&_Mode_00463e3c);
    if (local_210 != (FILE *)0x0) {
      local_20c = 0;
      _File = local_210;
      do {
        if (*(int *)(unaff_EDI + 0x448 + (local_20c & 0xffff) * 4) != 0) {
          fwrite(&local_20c,2,1,_File);
          fwrite((void *)(unaff_EDI + 0x448 + (local_20c & 0xffff) * 4),4,1,local_210);
          fwrite((void *)(unaff_EDI + 0x460 + (local_20c & 0xffff) * 8),2,1,local_210);
          fwrite((void *)(unaff_EDI + 0x462 + (local_20c & 0xffff) * 8),2,1,local_210);
          fwrite((void *)(unaff_EDI + 0x464 + (local_20c & 0xffff) * 8),2,1,local_210);
          fwrite((void *)(unaff_EDI + 0x466 + (local_20c & 0xffff) * 8),2,1,local_210);
          fwrite((void *)(unaff_EDI + 0x490 + (local_20c & 0xffff) * 2),2,1,local_210);
          _File = local_210;
        }
        local_20c = local_20c + 1;
      } while ((ushort)local_20c < 6);
      fclose(_File);
    }
    ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
    return;
  }
  ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __fastcall FUN_00435730(undefined4 param_1,short *param_2)

{
  uchar *puVar1;
  uchar uVar2;
  undefined4 *puVar3;
  short *psVar4;
  uchar *puVar5;
  size_t sVar6;
  undefined4 *puVar7;
  short *psVar8;
  int iVar9;
  short *local_218;
  FILE *local_214;
  ushort local_210 [2];
  short local_20c [2];
  uchar local_208 [512];
  uint local_8;
  
  local_8 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  psVar8 = param_2 + 0x248;
  puVar3 = (undefined4 *)(param_2 + 0x230);
  puVar7 = (undefined4 *)(param_2 + 0x224);
  iVar9 = 6;
  do {
    *puVar7 = 0;
    *puVar3 = 0;
    puVar3[1] = 0;
    *psVar8 = 0;
    puVar7 = puVar7 + 1;
    puVar3 = puVar3 + 2;
    psVar8 = psVar8 + 1;
    iVar9 = iVar9 + -1;
  } while (iVar9 != 0);
  psVar8 = param_2 + 1;
  local_218 = param_2;
  if ((*(char *)(param_2 + 1) != '\0') && ((*param_2 == 2 || (*param_2 == 4)))) {
    psVar4 = psVar8;
    do {
      uVar2 = *(uchar *)psVar4;
      psVar4 = (short *)((int)psVar4 + 1);
    } while (uVar2 != '\0');
    puVar5 = _mbsrchr((uchar *)psVar8,0x2e);
    puVar1 = puVar5 + 1;
    do {
      uVar2 = *puVar5;
      puVar5 = puVar5 + 1;
    } while (uVar2 != '\0');
    _mbsnbcpy_s(local_208,0x200,(uchar *)psVar8,
                (size_t)((int)psVar4 + (-((int)puVar5 - (int)puVar1) - ((int)param_2 + 3))));
    strcat_s((char *)local_208,0x200,(char *)&_Src_00463e40);
  }
  fopen_s(&local_214,(char *)local_208,(char *)&_Mode_00463e48);
  if (local_214 != (FILE *)0x0) {
    sVar6 = fread(local_210,2,1,local_214);
    while (sVar6 != 0) {
      if (local_210[0] < 6) {
        local_218 = (short *)0x0;
        sVar6 = fread(&local_218,4,1,local_214);
        if (sVar6 != 0) {
          *(short **)(param_2 + (uint)local_210[0] * 2 + 0x224) = local_218;
        }
        sVar6 = fread(local_20c,2,1,local_214);
        if (sVar6 != 0) {
          param_2[(uint)local_210[0] * 4 + 0x230] = local_20c[0];
        }
        sVar6 = fread(local_20c,2,1,local_214);
        if (sVar6 != 0) {
          param_2[(uint)local_210[0] * 4 + 0x231] = local_20c[0];
        }
        sVar6 = fread(local_20c,2,1,local_214);
        if (sVar6 != 0) {
          param_2[(uint)local_210[0] * 4 + 0x232] = local_20c[0];
        }
        sVar6 = fread(local_20c,2,1,local_214);
        if (sVar6 != 0) {
          param_2[(uint)local_210[0] * 4 + 0x233] = local_20c[0];
        }
        sVar6 = fread(local_20c,2,1,local_214);
        if (sVar6 != 0) {
          param_2[local_210[0] + 0x248] = local_20c[0];
        }
      }
      sVar6 = fread(local_210,2,1,local_214);
    }
    fclose(local_214);
  }
  ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl FUN_004359e0(int param_1)

{
  ushort *puVar1;
  short *psVar2;
  LPHWAVEOUT ppHVar3;
  byte bVar4;
  ushort uVar5;
  double dVar6;
  double dVar7;
  double dVar8;
  bool bVar9;
  bool bVar10;
  LPWAVEHDR pwVar11;
  int iVar12;
  HANDLE pvVar13;
  BOOL BVar14;
  LPVOID pvVar15;
  undefined4 *puVar16;
  int iVar17;
  int iVar18;
  MMRESULT MVar19;
  int iVar20;
  char *pcVar21;
  byte *pbVar22;
  LPSTR pCVar23;
  byte *pbVar24;
  int *piVar25;
  int iVar26;
  uint uVar27;
  code *pcVar28;
  bool bVar29;
  undefined2 in_FPUControlWord;
  char *pcVar30;
  SIZE_T local_570;
  int local_568;
  int local_564;
  FILE *local_560;
  int local_55c;
  _WIN32_FIND_DATAA local_558;
  char local_418;
  undefined local_417 [255];
  char local_318;
  undefined local_317 [255];
  uchar local_218;
  undefined local_217 [255];
  char local_118 [260];
  uchar local_14 [8];
  uint local_c;
  
  local_c = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  bVar29 = false;
  bVar10 = false;
  bVar9 = false;
  local_118[0] = '\0';
  memset(local_118 + 1,0,0xff);
  local_418 = '\0';
  memset(local_417,0,0xff);
  local_218 = '\0';
  memset(local_217,0,0xff);
  local_318 = '\0';
  memset(local_317,0,0xff);
  if ((DAT_0047c2c0 == 0) || (DAT_0047e614 == (HANDLE)0x0)) {
    if (DAT_0047e5c0 != (undefined4 *)0x0) {
      local_55c = 0;
      puVar16 = DAT_0047e5c0;
      if ((uint)DAT_0047cafc + (uint)DAT_0047c91c != 0) {
        do {
          if (_DAT_0047e624 == 0) {
LAB_00435ae5:
            if ((puVar16 != (undefined4 *)0x0) &&
               (FUN_00439ba0(), puVar16 = DAT_0047e5c0, local_55c < (int)(uint)DAT_0047e2c8)) {
              FUN_00439ba0();
              puVar16 = DAT_0047e5c0;
            }
          }
          else {
            uVar27 = DAT_0047e63c & 0x80000001;
            bVar29 = uVar27 == 0;
            if ((int)uVar27 < 0) {
              bVar29 = (uVar27 - 1 | 0xfffffffe) == 0xffffffff;
            }
            if ((bVar29) || (DAT_0047e63c == 3)) goto LAB_00435ae5;
          }
          local_55c = local_55c + 1;
        } while (local_55c < (int)((uint)DAT_0047cafc + (uint)DAT_0047c91c));
      }
      HeapFree(DAT_0047e614,0,puVar16);
      DAT_0047e5c0 = (undefined4 *)0x0;
    }
    if (DAT_0047e614 != (HANDLE)0x0) {
      HeapDestroy(DAT_0047e614);
      DAT_0047e614 = (HANDLE)0x0;
    }
    DAT_0047e614 = HeapCreate(4,0x10000,0);
    iVar12 = 0;
    do {
      *(undefined4 *)((int)&DAT_0047c2c0 + iVar12) = 0;
      *(undefined4 *)((int)&DAT_0047d720 + iVar12) = 0;
      *(undefined4 *)((int)&DAT_0047b6d8 + iVar12) = 0;
      *(undefined4 *)((int)&DAT_0047beb8 + iVar12) = 0;
      iVar12 = iVar12 + 0x20;
    } while (iVar12 < 0x400);
    bVar9 = true;
    bVar29 = true;
    pwh_0047c700 = (LPWAVEHDR)0x0;
    pwh_0047b130 = (LPWAVEHDR)0x0;
  }
  if (((param_1 == 0) || (bVar29)) && ((DAT_0047e5c0 == (undefined4 *)0x0 || (bVar29)))) {
    DAT_0047c920 = 0;
    DAT_0047c91c = 0;
    DAT_0047cb00 = 0;
    DAT_0047cafc = 0;
    do {
      iVar12 = FUN_00438d60((void *)0x100,&local_218);
      local_564 = 0;
      if (DAT_0047e2c8 != 0) {
        do {
          iVar20 = local_564;
          if ((&DAT_0047c920)[local_564 * 0x78] == 0) {
            strcpy_s(local_118,0x100,(char *)&local_218);
            if (local_564 == 0) {
              pcVar30 = "\\snd\\voice_*combo_p1.wav";
            }
            else {
              pcVar30 = "\\snd\\voice_*combo_p2.wav";
            }
            strcat_s(local_118,0x100,pcVar30);
            pvVar13 = FindFirstFileA(local_118,&local_558);
            (&DAT_0047c91c)[iVar20 * 0xf0] = 0;
            if (pvVar13 != (HANDLE)0xffffffff) {
              do {
                local_568 = 0;
                sscanf_s(local_558.cFileName + 6,(char *)&_Format_00463e84,&local_568);
                if (0 < local_568) {
                  (&DAT_0047c91c)[iVar20 * 0xf0] = (&DAT_0047c91c)[iVar20 * 0xf0] + 1;
                }
                BVar14 = FindNextFileA(pvVar13,&local_558);
              } while (BVar14 != 0);
              FindClose(pvVar13);
              pvVar15 = HeapAlloc(DAT_0047e614,8,(uint)(&DAT_0047c91c)[iVar20 * 0xf0] * 2);
              (&DAT_0047c920)[iVar20 * 0x78] = (int)pvVar15;
              pvVar13 = FindFirstFileA(local_118,&local_558);
              iVar26 = 0;
              do {
                local_568 = 0;
                sscanf_s(local_558.cFileName + 6,(char *)&_Format_00463e88,&local_568);
                if (0 < local_568) {
                  *(short *)(iVar26 + (&DAT_0047c920)[iVar20 * 0x78]) = (short)local_568;
                  iVar26 = iVar26 + 2;
                }
                BVar14 = FindNextFileA(pvVar13,&local_558);
              } while (BVar14 != 0);
              FindClose(pvVar13);
              local_568 = 0;
              if ((&DAT_0047c91c)[iVar20 * 0xf0] != 0) {
                do {
                  iVar26 = local_568 + 1;
                  if (iVar26 < (int)(uint)(&DAT_0047c91c)[iVar20 * 0xf0]) {
                    do {
                      iVar17 = (&DAT_0047c920)[iVar20 * 0x78];
                      uVar5 = *(ushort *)(iVar17 + iVar26 * 2);
                      puVar1 = (ushort *)(iVar17 + local_568 * 2);
                      if (uVar5 <= *puVar1 && *puVar1 != uVar5) {
                        psVar2 = (short *)(iVar17 + local_568 * 2);
                        *psVar2 = *psVar2 + uVar5;
                        iVar17 = (&DAT_0047c920)[iVar20 * 0x78];
                        *(short *)(iVar17 + iVar26 * 2) =
                             *(short *)(iVar17 + local_568 * 2) - *(short *)(iVar17 + iVar26 * 2);
                        psVar2 = (short *)((&DAT_0047c920)[iVar20 * 0x78] + local_568 * 2);
                        *psVar2 = *psVar2 - *(short *)((&DAT_0047c920)[iVar20 * 0x78] + iVar26 * 2);
                      }
                      iVar26 = iVar26 + 1;
                    } while (iVar26 < (int)(uint)(&DAT_0047c91c)[iVar20 * 0xf0]);
                  }
                  local_568 = local_568 + 1;
                } while (local_568 < (int)(uint)(&DAT_0047c91c)[iVar20 * 0xf0]);
              }
            }
          }
          local_564 = local_564 + 1;
        } while (local_564 < (int)(uint)DAT_0047e2c8);
      }
    } while (iVar12 + 1 < 3);
    DAT_0047e5c0 = (undefined4 *)
                   HeapAlloc(DAT_0047e614,8,((uint)DAT_0047cafc + (uint)DAT_0047c91c) * 0x20);
    bVar29 = bVar9;
  }
  DAT_0047d284 = 0x10;
  _DAT_0047d644 = 0x10;
  if (bVar29) {
    iVar12 = 0;
    puVar16 = DAT_0047e5c0;
    if ((uint)DAT_0047cafc + (uint)DAT_0047c91c != 0) {
      do {
        *puVar16 = 0;
        iVar12 = iVar12 + 1;
        puVar16 = puVar16 + 8;
      } while (iVar12 < (int)((uint)DAT_0047cafc + (uint)DAT_0047c91c));
    }
    DAT_0047c6c0 = 0;
    _DAT_0047c6e0 = 0;
  }
  local_55c = 0;
  if (DAT_0047e2c8 != 0) {
    do {
      iVar12 = (int)(local_55c + (local_55c >> 0x1f & 0xfU)) >> 4;
      do {
        iVar17 = FUN_00438d60((void *)0x100,&local_218);
        iVar20 = local_55c;
        iVar26 = local_55c;
        if (local_55c < (int)((uint)(ushort)(&DAT_0047d284)[iVar12 * 0x1e0] + iVar12 * 0x10)) {
          iVar26 = local_55c * 8;
          local_564 = 0;
          if ((&DAT_0047c2c0)[local_55c * 8] == 0) {
            strcpy_s(local_118,0x100,(char *)&local_218);
            if ((&DAT_0047cec8)[iVar12 * 0x1e0] == 0) {
              pcVar30 = "\\snd\\dong.wav";
            }
            else {
              pcVar30 = "\\snd\\clap.wav";
            }
            strcat_s(local_118,0x100,pcVar30);
            fopen_s(&local_560,local_118,(char *)&_Mode_00463eac);
            if (local_560 != (FILE *)0x0) {
              fclose(local_560);
              iVar18 = FUN_00439490(local_118,&pwfx_0047bc90);
              if (iVar18 != 0) goto LAB_00436bc7;
              ppHVar3 = (LPHWAVEOUT)(&DAT_0047bae8 + local_55c);
              MVar19 = waveOutOpen(ppHVar3,0xffffffff,(LPCWAVEFORMATEX)&pwfx_0047bc90,0,0,0);
              if (MVar19 == 0) {
                local_564 = 1;
                waveOutPrepareHeader(*ppHVar3,(LPWAVEHDR)(&DAT_0047c2c0 + iVar26),0x20);
                FUN_00436fc0(0,(uint)&pwfx_0047bc90,iVar12 + 1);
                (&DAT_0047c2cc)[iVar20 * 8] = 0;
              }
              else {
                if (!bVar10) {
                  (&DAT_0047d284)[iVar12 * 0x1e0] = (short)local_55c - (short)(iVar12 << 4);
                }
                bVar10 = true;
                if (_DAT_00482ac8 == 0) {
                  _DAT_00482ac8 = 1;
                }
              }
            }
          }
          if ((&DAT_0047d720)[iVar20 * 8] == 0) {
            strcpy_s(local_118,0x100,(char *)&local_218);
            if ((&DAT_0047cec8)[iVar12 * 0x1e0] == 0) {
              strcat_s(local_118,0x100,"\\snd\\dong_l.wav");
            }
            fopen_s(&local_560,local_118,(char *)&_Mode_00463ec0);
            if (local_560 != (FILE *)0x0) {
              fclose(local_560);
              iVar18 = FUN_00439490(local_118,&pwfx_0047bc90);
              iVar26 = local_55c;
              if (iVar18 != 0) goto LAB_00436bc7;
              if ((local_564 == 0) &&
                 (MVar19 = waveOutOpen((LPHWAVEOUT)(&DAT_0047bae8 + local_55c),0xffffffff,
                                       (LPCWAVEFORMATEX)&pwfx_0047bc90,0,0,0), MVar19 != 0)) {
                if (!bVar10) {
                  (&DAT_0047d284)[iVar12 * 0x1e0] = (short)iVar26 - (short)(iVar12 << 4);
                }
                bVar10 = true;
                if (_DAT_00482ac8 == 0) {
                  _DAT_00482ac8 = 1;
                }
              }
              else {
                waveOutPrepareHeader
                          ((HWAVEOUT)(&DAT_0047bae8)[iVar26],(LPWAVEHDR)(&DAT_0047d720 + iVar20 * 8)
                           ,0x20);
                FUN_00436fc0(0,(uint)&pwfx_0047bc90,iVar12 + 1);
                (&DAT_0047d72c)[iVar20 * 8] = 2;
              }
            }
          }
          local_564 = 0;
          if ((&DAT_0047b6d8)[iVar20 * 8] == 0) {
            strcpy_s(local_118,0x100,(char *)&local_218);
            strcat_s(local_118,0x100,"\\snd\\ka.wav");
            fopen_s(&local_560,local_118,(char *)&_Mode_00463ed0);
            if (local_560 != (FILE *)0x0) {
              fclose(local_560);
              iVar26 = FUN_00439490(local_118,&pwfx_0047bc90);
              if (iVar26 != 0) goto LAB_00436bc7;
              ppHVar3 = (LPHWAVEOUT)(&DAT_0047be38 + local_55c);
              MVar19 = waveOutOpen(ppHVar3,0xffffffff,(LPCWAVEFORMATEX)&pwfx_0047bc90,0,0,0);
              if (MVar19 == 0) {
                waveOutPrepareHeader(*ppHVar3,(LPWAVEHDR)(&DAT_0047b6d8 + iVar20 * 8),0x20);
                local_564 = 1;
                FUN_00436fc0(0,(uint)&pwfx_0047bc90,iVar12 + 1);
                (&DAT_0047b6e4)[iVar20 * 8] = 0;
              }
              else {
                if (!bVar10) {
                  (&DAT_0047d284)[iVar12 * 0x1e0] = (short)local_55c - (short)(iVar12 << 4);
                }
                bVar10 = true;
                if (_DAT_00482ac8 == 0) {
                  _DAT_00482ac8 = 1;
                }
              }
            }
          }
          iVar26 = local_55c;
          if ((&DAT_0047beb8)[iVar20 * 8] == 0) {
            strcpy_s(local_118,0x100,(char *)&local_218);
            strcat_s(local_118,0x100,"\\snd\\ka_l.wav");
            fopen_s(&local_560,local_118,(char *)&_Mode_00463ee4);
            iVar26 = local_55c;
            if (local_560 != (FILE *)0x0) {
              fclose(local_560);
              iVar18 = FUN_00439490(local_118,&pwfx_0047bc90);
              iVar26 = local_55c;
              if (iVar18 != 0) goto LAB_00436bc7;
              if ((local_564 == 0) &&
                 (MVar19 = waveOutOpen((LPHWAVEOUT)(&DAT_0047be38 + local_55c),0xffffffff,
                                       (LPCWAVEFORMATEX)&pwfx_0047bc90,0,0,0), MVar19 != 0)) {
                if (!bVar10) {
                  (&DAT_0047d284)[iVar12 * 0x1e0] = (short)iVar26 - (short)(iVar12 << 4);
                }
                bVar10 = true;
                if (_DAT_00482ac8 == 0) {
                  _DAT_00482ac8 = 1;
                }
              }
              else {
                waveOutPrepareHeader
                          ((HWAVEOUT)(&DAT_0047be38)[iVar26],(LPWAVEHDR)(&DAT_0047beb8 + iVar20 * 8)
                           ,0x20);
                FUN_00436fc0(0,(uint)&pwfx_0047bc90,iVar12 + 1);
                (&DAT_0047bec4)[iVar20 * 8] = 2;
              }
            }
          }
        }
        if ((pwh_0047c700 == (LPWAVEHDR)0x0) && (iVar26 == 0)) {
          strcpy_s(local_118,0x100,(char *)&local_218);
          strcat_s(local_118,0x100,"\\snd\\balloon.wav");
          fopen_s(&local_560,local_118,(char *)&_Mode_00463efc);
          if (local_560 != (FILE *)0x0) {
            fclose(local_560);
            iVar20 = FUN_00439490(local_118,&pwfx_0047bc90);
            if (iVar20 != 0) goto LAB_00436bc7;
            waveOutOpen((LPHWAVEOUT)&phwo_0047b128,0xffffffff,(LPCWAVEFORMATEX)&pwfx_0047bc90,0,0,0)
            ;
            waveOutPrepareHeader((HWAVEOUT)phwo_0047b128,(LPWAVEHDR)&pwh_0047c700,0x20);
            FUN_00436fc0(0,(uint)&pwfx_0047bc90,0);
            _DAT_0047c70c = 0;
          }
        }
        if ((pwh_0047b130 == (LPWAVEHDR)0x0) && (iVar26 == 0)) {
          strcpy_s(local_118,0x100,(char *)&local_218);
          strcat_s(local_118,0x100,"\\snd\\potato.wav");
          fopen_s(&local_560,local_118,(char *)&_Mode_00463f10);
          if (local_560 != (FILE *)0x0) {
            fclose(local_560);
            iVar20 = FUN_00439490(local_118,&pwfx_0047bc90);
            if (iVar20 != 0) goto LAB_00436bc7;
            waveOutPrepareHeader((HWAVEOUT)phwo_0047b128,(LPWAVEHDR)&pwh_0047b130,0x20);
            FUN_00436fc0(0,(uint)&pwfx_0047bc90,0);
            _DAT_0047b13c = 0;
          }
        }
        if (((param_1 == 0) || (bVar9)) && (iVar20 = 0, DAT_0047e2c8 != 0)) {
          do {
            iVar26 = local_55c;
            local_564 = iVar20 * 0x1e0;
            if (local_55c < (int)(uint)(&DAT_0047c91c)[iVar20 * 0xf0]) {
              if (iVar20 == 0) {
                uVar27 = 0;
              }
              else {
                uVar27 = (uint)DAT_0047c91c;
              }
              iVar18 = uVar27 + local_55c;
              if (DAT_0047e5c0[iVar18 * 8] == 0) {
                strcpy_s(local_118,0x100,(char *)&local_218);
                if (iVar20 == 0) {
                  uVar5 = *(ushort *)(DAT_0047c920 + iVar26 * 2);
                  pcVar30 = "\\snd\\voice_%hucombo_p1.wav";
                }
                else {
                  uVar5 = *(ushort *)(*(int *)((int)&DAT_0047c920 + local_564) + iVar26 * 2);
                  pcVar30 = "\\snd\\voice_%hucombo_p2.wav";
                }
                sprintf_s(&local_318,0x100,pcVar30,(uint)uVar5);
                strcat_s(local_118,0x100,&local_318);
                fopen_s(&local_560,local_118,(char *)&_Mode_00463f4c);
                if (local_560 != (FILE *)0x0) {
                  fclose(local_560);
                  iVar26 = FUN_00439490(local_118,&pwfx_0047bc90);
                  if (iVar26 != 0) goto LAB_00436bc7;
                  if (local_55c == 0) {
                    waveOutOpen((LPHWAVEOUT)(&DAT_0047b17c + iVar20),0xffffffff,
                                (LPCWAVEFORMATEX)&pwfx_0047bc90,0,0,0);
                  }
                  waveOutPrepareHeader
                            ((HWAVEOUT)(&DAT_0047b17c)[iVar20],
                             (LPWAVEHDR)(DAT_0047e5c0 + iVar18 * 8),0x20);
                  puVar16 = DAT_0047e5c0;
                  FUN_00436fc0(0,(uint)&pwfx_0047bc90,iVar20 + 1);
                  puVar16[iVar18 * 8 + 3] = 0;
                }
              }
            }
            strcpy_s(local_118,0x100,(char *)&local_218);
            if (iVar20 == 0) {
              pcVar30 = "\\snd\\voice_fullcombo_p1.wav";
            }
            else {
              pcVar30 = "\\snd\\voice_fullcombo_p2.wav";
            }
            strcat_s(local_118,0x100,pcVar30);
            fopen_s(&local_560,local_118,(char *)&_Mode_00463f88);
            if (local_560 != (FILE *)0x0) {
              fclose(local_560);
              if (((LPWAVEHDR)(&DAT_0047c6c0 + iVar20 * 8))->lpData == (LPSTR)0x0) {
                iVar26 = FUN_00439490(local_118,&pwfx_0047bc90);
                if (iVar26 != 0) goto LAB_00436bc7;
                if (*(short *)((int)&DAT_0047c91c + local_564) == 0) {
                  waveOutOpen((LPHWAVEOUT)(&DAT_0047b17c + iVar20),0xffffffff,
                              (LPCWAVEFORMATEX)&pwfx_0047bc90,0,0,0);
                }
                waveOutPrepareHeader
                          ((HWAVEOUT)(&DAT_0047b17c)[iVar20],(LPWAVEHDR)(&DAT_0047c6c0 + iVar20 * 8)
                           ,0x20);
                FUN_00436fc0(0,(uint)&pwfx_0047bc90,iVar20 + 1);
              }
            }
            iVar20 = iVar20 + 1;
          } while (iVar20 < (int)(uint)DAT_0047e2c8);
        }
      } while (iVar17 + 1 < 3);
      local_55c = local_55c + 1;
    } while (local_55c < (int)((uint)DAT_0047e2c8 * 0x10));
  }
  pcVar28 = MessageBoxA_exref;
  if (_DAT_00482ac8 == 1) {
    MessageBoxA(DAT_0047de30,(LPCSTR)&lpText_00463f8c,(LPCSTR)0x0,0);
    _DAT_00482ac8 = 2;
  }
  if (param_1 == 1) goto LAB_00436fa6;
  pcVar30 = &_Dst_0047bce8;
  do {
    pcVar21 = pcVar30;
    pcVar30 = pcVar21 + 1;
  } while (*pcVar21 != '\0');
  if (pcVar21[-1] < ' ') {
    pcVar21[-1] = '\0';
  }
  strcpy_s(local_118,0x100,&_Dst_0047bce8);
  fopen_s(&local_560,local_118,(char *)&_Mode_00463fb4);
  if (local_560 == (FILE *)0x0) {
    DAT_0047ceca = 0;
    strcpy_s(&_Dst_0047bce8,0x100,"");
  }
  else {
    fclose(local_560);
    pcVar30 = local_118;
    do {
      pcVar21 = pcVar30;
      pcVar30 = pcVar21 + 1;
    } while (*pcVar21 != '\0');
    _mbsnbcpy_s(local_14,5,(uchar *)(pcVar21 + -4),5);
  }
  if (DAT_0047e604 == 0) {
    DAT_0047ceca = 0;
    DAT_0047cb14 = 1;
    iVar12 = strncmp((char *)local_14,(char *)&_Str2_00463fb8,4);
    if (iVar12 == 0) {
      DAT_0047ceca = 1;
      if (0 < DAT_0047ac70) {
        DAT_0047cb14 = 2;
      }
      DAT_0047e5bc = (LPWAVEHDR)HeapAlloc(DAT_0047e614,8,(uint)DAT_0047cb14 << 5);
      if (DAT_0047ac70 < 1) {
        DAT_0047d6d8 = _beginthreadex((void *)0x0,0,_StartAddress_00437490,(void *)0x0,0,
                                      (uint *)&_ThrdAddr_0047d6e0);
      }
    }
    else {
      iVar12 = strncmp((char *)local_14,(char *)&_Str2_00463fc0,4);
      if (iVar12 == 0) {
        DAT_0047ceca = 2;
        DAT_0047e5bc = (LPWAVEHDR)HeapAlloc(DAT_0047e614,8,(uint)DAT_0047cb14 << 5);
        strcpy_s(&local_418,0x100,local_118);
        strcat_s(local_118,0x100,(char *)&_Src_00463fc8);
        FUN_004379c0(&local_418);
      }
      else {
        iVar12 = strncmp((char *)local_14,(char *)&_Str2_00463fd0,4);
        if (iVar12 != 0) {
          pbVar24 = &DAT_0046282b;
          pbVar22 = &_Dst_0047bce8;
          do {
            bVar4 = *pbVar22;
            bVar29 = bVar4 < *pbVar24;
            if (bVar4 != *pbVar24) {
LAB_00436bb0:
              iVar12 = (1 - (uint)bVar29) - (uint)(bVar29 != 0);
              goto LAB_00436bb5;
            }
            if (bVar4 == 0) break;
            bVar4 = pbVar22[1];
            bVar29 = bVar4 < pbVar24[1];
            if (bVar4 != pbVar24[1]) goto LAB_00436bb0;
            pbVar22 = pbVar22 + 2;
            pbVar24 = pbVar24 + 2;
          } while (bVar4 != 0);
          iVar12 = 0;
LAB_00436bb5:
          if (iVar12 != 0) {
            MessageBoxA((HWND)0x0,(LPCSTR)&lpText_00463fd8,(LPCSTR)&_Src_0047e0a0,0);
            goto LAB_00436bc7;
          }
        }
        DAT_0047e5bc = (LPWAVEHDR)HeapAlloc(DAT_0047e614,8,(uint)DAT_0047cb14 << 5);
      }
    }
  }
  iVar12 = 0;
  pcVar30 = local_118;
  do {
    pcVar21 = pcVar30;
    pcVar30 = pcVar21 + 1;
  } while (*pcVar21 != '\0');
  *pcVar21 = '\0';
  if (DAT_0047ceca == 1) {
    if (0 < DAT_0047ac70) goto LAB_00436fa6;
LAB_00436c32:
    if ((DAT_0047d6d8 != 0) || (DAT_0047ceca == 0)) goto LAB_00436fa6;
  }
  else if (DAT_0047ceca != 0) goto LAB_00436c32;
  if (DAT_0047ceca == 2) {
    strcat_s(local_118,0x100,(char *)&_Src_00464020);
  }
  pbVar24 = &DAT_00462875;
  pbVar22 = &_Dst_0047bce8;
  do {
    bVar4 = *pbVar22;
    bVar29 = bVar4 < *pbVar24;
    if (bVar4 != *pbVar24) {
LAB_00436c98:
      iVar20 = (1 - (uint)bVar29) - (uint)(bVar29 != 0);
      goto LAB_00436c9d;
    }
    if (bVar4 == 0) break;
    bVar4 = pbVar22[1];
    bVar29 = bVar4 < pbVar24[1];
    if (bVar4 != pbVar24[1]) goto LAB_00436c98;
    pbVar22 = pbVar22 + 2;
    pbVar24 = pbVar24 + 2;
  } while (bVar4 != 0);
  iVar20 = 0;
LAB_00436c9d:
  if (iVar20 == 0) {
    pwfx_0047bc90 = (LPCWAVEFORMATEX)0x10001;
    _DAT_0047bc9c = 0x80001;
    iVar20 = DAT_0047cef8 - 1;
    local_570 = (SIZE_T)(longlong)ROUND(22050.0 / _DAT_0047ac88);
    DAT_0047bc94 = local_570;
    DAT_0047bc98 = local_570;
    if (-1 < iVar20) {
      piVar25 = (int *)(DAT_0047e2c4 + 4 + iVar20 * 0x1c);
      do {
        pcVar28 = MessageBoxA_exref;
        if (*piVar25 != 0) {
          iVar12 = *(int *)(DAT_0047e2c4 + 4 + (uint)DAT_0047cf04 * 0x1c);
          break;
        }
        iVar20 = iVar20 + -1;
        piVar25 = piVar25 + -7;
      } while (-1 < iVar20);
    }
    dVar6 = (double)(DAT_0047cf5c + DAT_0047cf58) / -1000.0;
    if (dVar6 < 0.0) {
      dVar6 = 0.0;
    }
    dVar7 = (double)iVar12;
    if (iVar12 < 0) {
      dVar7 = dVar7 + 4294967296.0;
    }
    dVar7 = dVar7 / 1000.0 + 2.0;
    dVar8 = (double)local_570;
    if ((int)local_570 < 0) {
      dVar8 = dVar8 + 4294967296.0;
    }
    local_55c = CONCAT22(in_FPUControlWord,(undefined2)local_55c);
    local_570 = (SIZE_T)(longlong)ROUND(dVar8 * (dVar7 + dVar6) * _DAT_0047ac88);
    pCVar23 = (LPSTR)HeapAlloc(DAT_0047e614,8,local_570);
    pwVar11 = DAT_0047e5bc;
    DAT_0047e5bc->lpData = pCVar23;
    dVar6 = (double)(DAT_0047cf5c + DAT_0047cf58) / -1000.0;
    if (dVar6 < 0.0) {
      dVar6 = 0.0;
    }
    dVar8 = (double)DAT_0047bc98;
    if (DAT_0047bc98 < 0) {
      dVar8 = dVar8 + 4294967296.0;
    }
    local_55c = CONCAT22(in_FPUControlWord,(undefined2)local_55c);
    dVar6 = dVar8 * (dVar6 + dVar7) * _DAT_0047ac88;
    pwVar11->dwFlags = 0xc;
    pwVar11->dwLoops = 1;
    pwVar11->dwUser = 0;
    local_570 = (SIZE_T)(longlong)ROUND(dVar6);
    pwVar11->dwBufferLength = local_570;
    DAT_0047cef4 = 0;
    FUN_00436fc0(1,(uint)&pwfx_0047bc90,0);
    if (pwVar11->lpData == (LPSTR)0x0) {
      (*pcVar28)(0,&lpText_00464028,local_118,0);
      ___security_check_cookie_4(local_c ^ (uint)&stack0xfffffffc);
      return;
    }
  }
  else {
    if ((DAT_0047ceca != 1) && (iVar12 = FUN_00439490(local_118,&pwfx_0047bc90), iVar12 != 0)) {
LAB_00436bc7:
      ___security_check_cookie_4(local_c ^ (uint)&stack0xfffffffc);
      return;
    }
    pwVar11 = DAT_0047e5bc;
    FUN_00436fc0(1,(uint)&pwfx_0047bc90,0);
    pwVar11->dwUser = 0;
    if (DAT_0047ceca == 2) {
      remove(local_118);
    }
  }
  MVar19 = waveOutOpen((LPHWAVEOUT)&phwo_0047ce90,0xffffffff,(LPCWAVEFORMATEX)&pwfx_0047bc90,
                       (DWORD_PTR)DAT_0047de30,0,0x10000);
  if (MVar19 == 7) {
    (*pcVar28)(0,&lpText_00464048,local_118,0);
    ___security_check_cookie_4(local_c ^ (uint)&stack0xfffffffc);
    return;
  }
  waveOutPrepareHeader((HWAVEOUT)phwo_0047ce90,DAT_0047e5bc,0x20);
LAB_00436fa6:
  ___security_check_cookie_4(local_c ^ (uint)&stack0xfffffffc);
  return;
}



void __cdecl FUN_00436fc0(int param_1,uint param_2,int param_3)

{
  int iVar1;
  int iVar2;
  uint uVar3;
  uint uVar4;
  int *unaff_EBX;
  uint uVar5;
  ulonglong uVar6;
  
  if (*(short *)(param_2 + 0xe) == 8) {
    uVar5 = 0;
    uVar4 = param_2;
    if (0 < unaff_EBX[1]) {
      do {
        iVar1 = *unaff_EBX;
        uVar6 = FUN_0045db50(*(byte *)(iVar1 + uVar5) - 0x80,uVar4);
        iVar2 = (int)uVar6 + 0x80;
        if (iVar2 < 0) {
          iVar2 = 0;
        }
        else if (0xff < iVar2) {
          iVar2 = 0xff;
        }
        uVar4 = (uint)(uVar6 >> 0x20);
        if (((param_3 != 0) && (uVar4 = param_2, *(short *)(param_2 + 2) == 2)) &&
           (DAT_0047e2c8 == 2)) {
          uVar3 = uVar5 & 0x80000001;
          if ((int)uVar3 < 0) {
            uVar3 = (uVar3 - 1 | 0xfffffffe) + 1;
          }
          uVar4 = 2 - param_3;
          if (uVar3 == uVar4) {
            iVar2 = iVar2 >> 2;
          }
        }
        *(char *)(iVar1 + uVar5) = (char)iVar2;
        uVar5 = uVar5 + 1;
      } while ((int)uVar5 < unaff_EBX[1]);
      return;
    }
  }
  else if ((*(short *)(param_2 + 0xe) == 0x10) && (uVar4 = 0, (uint)unaff_EBX[1] >> 1 != 0)) {
    do {
      iVar1 = *unaff_EBX;
      uVar6 = FUN_0045db50(iVar1,(int)*(short *)(iVar1 + uVar4 * 2));
      iVar2 = (int)uVar6;
      if (iVar2 < -0x8000) {
        iVar2 = -0x8000;
      }
      else if (0x7fff < iVar2) {
        iVar2 = 0x7fff;
      }
      if (((param_3 != 0) && (*(short *)(param_2 + 2) == 2)) && (DAT_0047e2c8 == 2)) {
        uVar5 = uVar4 & 0x80000001;
        if ((int)uVar5 < 0) {
          uVar5 = (uVar5 - 1 | 0xfffffffe) + 1;
        }
        if (uVar5 == 2U - param_3) {
          iVar2 = iVar2 >> 2;
        }
      }
      *(short *)(iVar1 + uVar4 * 2) = (short)iVar2;
      uVar4 = uVar4 + 1;
    } while ((int)uVar4 < (int)((uint)unaff_EBX[1] >> 1));
  }
  return;
}



void FUN_00437120(void)

{
  uchar *puVar1;
  uchar uVar2;
  LPCVOID *ppvVar3;
  char *pcVar4;
  char *pcVar5;
  uchar *puVar6;
  HANDLE hFile;
  DWORD local_20c;
  uchar local_208 [512];
  uint local_8;
  
  ppvVar3 = DAT_0047e5bc;
  local_8 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  if (DAT_0047e5bc != (LPCVOID *)0x0) {
    pcVar4 = &_Dst_0047bb90;
    do {
      pcVar5 = pcVar4;
      pcVar4 = pcVar5 + 1;
    } while (*pcVar5 != '\0');
    puVar6 = _mbsrchr(&_Dst_0047bb90,0x5c);
    puVar1 = puVar6 + 1;
    do {
      uVar2 = *puVar6;
      puVar6 = puVar6 + 1;
    } while (uVar2 != '\0');
    _mbsnbcpy_s(local_208,0x200,&_Dst_0047bb90,
                (size_t)(pcVar5 + (-0x47bb90 - ((int)puVar6 - (int)puVar1))));
    strcat_s((char *)local_208,0x200,"\\tmpsng");
    hFile = CreateFileA((LPCSTR)local_208,0x40000000,1,(LPSECURITY_ATTRIBUTES)0x0,2,0x80,(HANDLE)0x0
                       );
    if (hFile == (HANDLE)0xffffffff) {
      MessageBoxA((HWND)0x0,(LPCSTR)&lpText_00464078,(LPCSTR)&_Src_0047e0a0,0);
      ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
      return;
    }
    WriteFile(hFile,*ppvVar3,(DWORD)ppvVar3[1],&local_20c,(LPOVERLAPPED)0x0);
    CloseHandle(hFile);
  }
  ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void FUN_00437230(void)

{
  uchar *puVar1;
  uchar uVar2;
  char *pcVar3;
  char *pcVar4;
  uchar *puVar5;
  HANDLE hFile;
  LPVOID nNumberOfBytesToRead;
  LPVOID *unaff_EDI;
  DWORD local_20c;
  uchar local_208 [512];
  uint local_8;
  
  local_8 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  if (unaff_EDI != (LPVOID *)0x0) {
    pcVar3 = &_Dst_0047bb90;
    do {
      pcVar4 = pcVar3;
      pcVar3 = pcVar4 + 1;
    } while (*pcVar4 != '\0');
    puVar5 = _mbsrchr(&_Dst_0047bb90,0x5c);
    puVar1 = puVar5 + 1;
    do {
      uVar2 = *puVar5;
      puVar5 = puVar5 + 1;
    } while (uVar2 != '\0');
    _mbsnbcpy_s(local_208,0x200,&_Dst_0047bb90,
                (size_t)(pcVar4 + (-0x47bb90 - ((int)puVar5 - (int)puVar1))));
    strcat_s((char *)local_208,0x200,"\\tmpsng");
    hFile = CreateFileA((LPCSTR)local_208,0x80000000,1,(LPSECURITY_ATTRIBUTES)0x0,3,0x80,(HANDLE)0x0
                       );
    if (hFile == (HANDLE)0xffffffff) {
      MessageBoxA((HWND)0x0,(LPCSTR)&lpText_0046409c,(LPCSTR)&_Src_0047e0a0,0);
      ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
      return;
    }
    nNumberOfBytesToRead = (LPVOID)GetFileSize(hFile,(LPDWORD)0x0);
    unaff_EDI[1] = nNumberOfBytesToRead;
    ReadFile(hFile,*unaff_EDI,(DWORD)nNumberOfBytesToRead,&local_20c,(LPOVERLAPPED)0x0);
    CloseHandle(hFile);
  }
  ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_00437330(void)

{
  double dVar1;
  int *piVar2;
  int in_EAX;
  uint uVar3;
  byte bVar4;
  uint uVar5;
  int iVar6;
  uint uVar7;
  uint local_10;
  
  piVar2 = DAT_0047e5bc;
  FUN_00437230();
  if (-1 < DAT_0047cf68) {
    dVar1 = (double)*(int *)(in_EAX + 8);
    uVar3 = (*(int *)(DAT_0047b154 + DAT_0047cf68 * 4) - DAT_0047cf5c) - DAT_0047cf58;
    if (*(int *)(in_EAX + 8) < 0) {
      dVar1 = dVar1 + 4294967296.0;
    }
    local_10 = (uint)(longlong)
                     ROUND((dVar1 / 1000.0) * _DAT_0047ac88 * (double)(((int)uVar3 < 0) - 1 & uVar3)
                          );
    bVar4 = (byte)*(undefined2 *)(in_EAX + 2);
    uVar3 = (local_10 >> (bVar4 & 0x1f)) << (bVar4 & 0x1f);
    if ((uint)piVar2[1] < uVar3) {
      return 0xffffffff;
    }
    uVar5 = piVar2[1] - uVar3;
    uVar7 = uVar5 >> 1;
    if (uVar7 != 0) {
      uVar3 = uVar3 & 0xfffffffe;
      iVar6 = 0;
      do {
        *(undefined2 *)(*piVar2 + iVar6 * 2) = *(undefined2 *)(uVar3 + *piVar2);
        iVar6 = iVar6 + 1;
        uVar3 = uVar3 + 2;
      } while (iVar6 < (int)uVar7);
    }
    piVar2[1] = uVar5;
  }
  return 0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address
// _StartAddress parameter of _beginthreadex
// 

undefined4 _StartAddress_00437410(void)

{
  Sleep(5);
  while (((DAT_0047e500 != 0 && (_DAT_0047e61c == 0)) && (_DAT_0047e624 == 0))) {
    if (DAT_0047e500 == 2) {
      DAT_0047e500 = 3;
      FUN_00428750();
      DAT_0047e500 = 1;
    }
    Sleep(5);
  }
  DAT_0047e500 = 0;
  _endthreadex(0);
  return 0;
}



// _StartAddress parameter of _beginthreadex
// 

void _StartAddress_00437490(void)

{
  char *pcVar1;
  char *pcVar2;
  char local_208 [512];
  uint local_8;
  
  local_8 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  pcVar1 = &_Dst_0047bce8;
  do {
    pcVar2 = pcVar1;
    pcVar1 = pcVar2 + 1;
  } while (*pcVar2 != '\0');
  if (pcVar2[-1] < ' ') {
    pcVar2[-1] = '\0';
  }
  strcpy_s(local_208,0x200,&_Dst_0047bce8);
  FUN_00414a20(local_208);
  _endthreadex(0);
  ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address
// _StartAddress parameter of _beginthreadex
// 

void _StartAddress_00437510(void)

{
  double dVar1;
  double dVar2;
  double dVar3;
  uint uVar4;
  uint uVar5;
  short *_Size;
  int iVar6;
  int iVar7;
  LPWAVEHDR pwh;
  ulonglong uVar8;
  undefined4 local_28;
  short *local_24;
  longlong local_20;
  mmtime_tag local_14;
  uint local_8;
  
  local_8 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  do {
    pwh = DAT_0047e5bc;
    if (_DAT_0047e5c8 == 1) {
      iVar7 = 0;
      local_28 = 0;
      local_24 = (short *)0x0;
      local_14.wType = 2;
      if (DAT_0047e5bc == (LPWAVEHDR)0x0) {
LAB_00437882:
        if (DAT_0047cb40 == 3) {
LAB_00437894:
          DAT_0047e620 = 1;
LAB_0043789a:
          _endthreadex(0);
          ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
          return;
        }
      }
      else {
        waveOutGetPosition((HWAVEOUT)phwo_0047ce90,&local_14,0xc);
        if (local_14.wType == 1) {
          dVar1 = (double)local_14.u.ms;
          if ((int)local_14.u.ms < 0) {
            dVar1 = dVar1 + 4294967296.0;
          }
          dVar2 = (double)DAT_0047b160;
          if (DAT_0047b160 < 0) {
            dVar2 = dVar2 + 4294967296.0;
          }
          local_20 = (longlong)ROUND(dVar2 * (dVar1 / 1000.0) + 0.5);
          _DAT_0047cb1c = (DWORD)local_20;
        }
        else if (local_14.wType == 2) {
          dVar1 = (double)local_14.u.ms;
          if ((int)local_14.u.ms < 0) {
            dVar1 = dVar1 + 4294967296.0;
          }
          dVar2 = (double)DAT_0047b15c;
          if (DAT_0047b15c < 0) {
            dVar2 = dVar2 + 4294967296.0;
          }
          dVar3 = (double)DAT_0047b160;
          if (DAT_0047b160 < 0) {
            dVar3 = dVar3 + 4294967296.0;
          }
          local_20 = (longlong)ROUND(dVar3 * (dVar1 / dVar2) + 0.5);
          _DAT_0047cb1c = (DWORD)local_20;
        }
        else {
          _DAT_0047cb1c = local_14.u.ms;
          if (local_14.wType != 4) {
            _DAT_0047cb1c = 0xffffffff;
          }
        }
        if (DAT_0047cb40 != 0) {
          if ((DAT_0047cb40 < 3) && (DAT_0047cb40 == 1)) {
            uVar4 = (DAT_0047cb20 - _DAT_0047cb18) + _DAT_0047cb1c;
            uVar5 = pwh[DAT_0047cb16].dwBufferLength;
            if (uVar4 < uVar5) goto LAB_00437884;
            dVar1 = (double)uVar4;
            if ((int)uVar4 < 0) {
              dVar1 = dVar1 + 4294967296.0;
            }
            local_20 = CONCAT44(uVar5,(DWORD)local_20);
            dVar2 = (double)uVar5;
            if ((int)uVar5 < 0) {
              dVar2 = dVar2 + 4294967296.0;
            }
            if (dVar2 * 1.75 < dVar1 != (dVar2 * 1.75 == dVar1)) {
              local_24 = (short *)0x1;
            }
            do {
              uVar5 = (DAT_0047cb10 - DAT_0047cb28) - iVar7;
              if (0xfff < uVar5) {
                uVar5 = 0x1000;
              }
              _Size = FUN_0044c5b0((int)&DAT_0047cb48,DAT_0047cb3c,uVar5,0,2,1,&local_28);
              memcpy(pwh[DAT_0047cb16].lpData + iVar7 + DAT_0047cb28,DAT_0047cb3c,(size_t)_Size);
              iVar7 = iVar7 + (int)_Size;
            } while (((local_24 != (short *)0x0) && (_Size != (short *)0x0)) &&
                    (DAT_0047cb28 + iVar7 < DAT_0047cb10));
            uVar5 = DAT_0047cb28 >> 1;
            if (uVar5 < DAT_0047cb28 + iVar7 >> 1) {
              do {
                local_24 = (short *)(pwh[DAT_0047cb16].lpData + uVar5 * 2);
                local_20 = CONCAT44((int)*local_24,(DWORD)local_20);
                uVar8 = FUN_0045db50(pwh,pwh[DAT_0047cb16].lpData);
                iVar6 = (int)uVar8;
                if (iVar6 < -0x8000) {
                  iVar6 = -0x8000;
                }
                else if (0x7fff < iVar6) {
                  iVar6 = 0x7fff;
                }
                *local_24 = (short)iVar6;
                uVar5 = uVar5 + 1;
              } while ((int)uVar5 < (int)(DAT_0047cb28 + iVar7 >> 1));
            }
            DAT_0047cb28 = DAT_0047cb28 + iVar7;
            if ((_Size == (short *)0x0) || (DAT_0047cb10 <= DAT_0047cb28)) {
              pwh[DAT_0047cb16].dwBufferLength = DAT_0047cb28;
              waveOutWrite((HWAVEOUT)phwo_0047ce90,pwh + DAT_0047cb16,0x20);
              _DAT_0047cb18 = _DAT_0047cb18 + DAT_0047cb28;
              DAT_0047cb28 = 0;
              DAT_0047cb16 = (ushort)((ulonglong)(DAT_0047cb16 + 1) %
                                     (ulonglong)(longlong)(int)(uint)DAT_0047cb14);
              if (_Size == (short *)0x0) {
                DAT_0047cb40 = 2;
                goto LAB_00437884;
              }
            }
          }
          goto LAB_00437882;
        }
        if (DAT_0047cb14 != 0) {
          do {
            waveOutWrite((HWAVEOUT)phwo_0047ce90,pwh,0x20);
            iVar7 = iVar7 + 1;
            pwh = pwh + 1;
          } while (iVar7 < (int)(uint)DAT_0047cb14);
        }
        DAT_0047cb40 = 1;
      }
LAB_00437884:
      if ((_DAT_0047e624 == 1) || (_DAT_0047e61c == 1)) goto LAB_00437894;
    }
    else if (((DAT_0047cb40 == 3) || (_DAT_0047e624 == 1)) || (_DAT_0047e61c == 1))
    goto LAB_0043789a;
    Sleep(1);
  } while( true );
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address
// _StartAddress parameter of _beginthreadex
// 

undefined4 _StartAddress_004378e0(void)

{
  undefined4 *puVar1;
  int iVar2;
  int iVar3;
  bool bVar4;
  
  Sleep(1);
  do {
    if ((DAT_0047cb40 == 4) || (_DAT_0047e61c == 1)) {
      DAT_0047cb40 = 5;
      _endthreadex(0);
      return 0;
    }
    bVar4 = DAT_0047cb40 == 3;
    if (DAT_0047cb40 < 3) {
      FUN_004145d0();
      if (DAT_0047cb40 != 3) {
        bVar4 = _DAT_0047e61c == 1;
        goto LAB_0043793a;
      }
LAB_0043793c:
      FUN_00414900();
      iVar2 = DAT_0047e5bc;
      puVar1 = *(undefined4 **)(DAT_0047e74c + 0x43c);
      iVar3 = FUN_0044cca0((char *)(DAT_0047e74c + 0x33a),&DAT_0047cb48);
      if (iVar3 == 0) {
        FUN_00414240(iVar2,0x3e800,puVar1);
      }
    }
    else {
LAB_0043793a:
      if (bVar4) goto LAB_0043793c;
    }
    Sleep(1);
  } while( true );
}



void __cdecl FUN_004379c0(char *param_1)

{
  uchar uVar1;
  uchar *puVar2;
  uchar *puVar3;
  uchar *puVar4;
  BOOL BVar5;
  LPPROCESS_INFORMATION unaff_EBX;
  _STARTUPINFOA local_454;
  FILE *local_410;
  char *local_40c;
  uchar local_408 [512];
  uchar local_208 [512];
  uint local_8;
  
  local_8 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  local_40c = param_1;
  GetModuleFileNameA((HMODULE)0x0,(LPSTR)local_408,0x200);
  puVar2 = local_408;
  do {
    uVar1 = *puVar2;
    puVar2 = puVar2 + 1;
  } while (uVar1 != '\0');
  puVar3 = _mbsrchr(local_408,0x5c);
  puVar4 = puVar3 + 1;
  do {
    uVar1 = *puVar3;
    puVar3 = puVar3 + 1;
  } while (uVar1 != '\0');
  _mbsnbcpy_s(local_208,0x200,local_408,
              (size_t)(puVar2 + (-((int)puVar3 - (int)puVar4) - (int)(local_408 + 1))));
  strcat_s((char *)local_208,0x200,"\\snd\\lame.exe");
  fopen_s(&local_410,(char *)local_208,(char *)&_Mode_0046413c);
  if (local_410 == (FILE *)0x0) {
    MessageBoxA((HWND)0x0,(LPCSTR)&lpText_00464140,(LPCSTR)local_208,0);
    ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
    return;
  }
  fclose(local_410);
  FUN_00437bc0(0x200);
  strcat_s((char *)local_208,0x200,"\\snd\\lame.exe --decode \"");
  puVar2 = local_208;
  do {
    puVar4 = puVar2;
    puVar2 = puVar4 + 1;
  } while (*puVar4 != '\0');
  *puVar4 = '\0';
  strcat_s((char *)local_208,0x200,local_40c);
  strcat_s((char *)local_208,0x200,(char *)&_Src_00464180);
  puVar2 = local_208;
  do {
    puVar4 = puVar2;
    puVar2 = puVar4 + 1;
  } while (*puVar4 != '\0');
  *puVar4 = '\0';
  memset(&local_454,0,0x44);
  unaff_EBX->hProcess = (HANDLE)0x0;
  unaff_EBX->hThread = (HANDLE)0x0;
  unaff_EBX->dwProcessId = 0;
  unaff_EBX->dwThreadId = 0;
  local_454.cb = 0x44;
  local_454.dwFlags = 1;
  local_454.wShowWindow = 0;
  BVar5 = CreateProcessA((LPCSTR)0x0,(LPSTR)local_208,(LPSECURITY_ATTRIBUTES)0x0,
                         (LPSECURITY_ATTRIBUTES)0x0,0,0,(LPVOID)0x0,(LPCSTR)0x0,&local_454,unaff_EBX
                        );
  if (BVar5 == 0) {
    MessageBoxA((HWND)0x0,(LPCSTR)&lpText_00464184,(LPCSTR)local_208,0);
  }
  CloseHandle(unaff_EBX->hThread);
  ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __cdecl FUN_00437bc0(size_t param_1)

{
  uchar *puVar1;
  uchar uVar2;
  uchar *puVar3;
  uchar *puVar4;
  uchar *unaff_EDI;
  uchar local_208 [512];
  uint local_8;
  
  local_8 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  GetModuleFileNameA((HMODULE)0x0,(LPSTR)local_208,0x200);
  puVar3 = local_208;
  do {
    uVar2 = *puVar3;
    puVar3 = puVar3 + 1;
  } while (uVar2 != '\0');
  puVar4 = _mbsrchr(local_208,0x5c);
  puVar1 = puVar4 + 1;
  do {
    uVar2 = *puVar4;
    puVar4 = puVar4 + 1;
  } while (uVar2 != '\0');
  _mbsnbcpy_s(unaff_EDI,param_1,local_208,
              (size_t)(puVar3 + (-((int)puVar4 - (int)puVar1) - (int)(local_208 + 1))));
  ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl FUN_00437c50(undefined4 param_1,char *param_2)

{
  char cVar1;
  int in_EAX;
  char *pcVar2;
  int iVar3;
  int iVar4;
  
  iVar4 = 0;
  if (_DAT_0047acf0 == 0) {
    do {
      cVar1 = *param_2;
      param_2 = param_2 + 1;
    } while (cVar1 != '\0');
    (*DAT_0047bb78)(DAT_0047b6c0);
    return;
  }
  _DAT_0047e4ec = 1;
  iVar3 = 0;
  pcVar2 = param_2;
  do {
    cVar1 = *pcVar2;
    pcVar2 = pcVar2 + 1;
  } while (cVar1 != '\0');
  if (pcVar2 != param_2 + 1 && -1 < (int)pcVar2 - (int)(param_2 + 1)) {
    do {
      cVar1 = param_2[iVar3];
      if ((cVar1 < 'A') || ('Z' < cVar1)) {
        if (('/' < cVar1) && (cVar1 < ':')) {
          iVar4 = cVar1 + -0x16;
          goto switchD_00437d62_caseD_4;
        }
        if (('`' < cVar1) && (cVar1 < '{')) {
          iVar4 = cVar1 + -0x3d;
          goto switchD_00437d62_caseD_4;
        }
        if (cVar1 == ':') {
          iVar4 = 0x3e;
          goto LAB_00437e13;
        }
        if (cVar1 == '%') {
          iVar4 = 0x3f;
          goto LAB_00437e13;
        }
        if (cVar1 == '.') {
          iVar4 = 0x40;
          goto LAB_00437e13;
        }
        if (cVar1 == '+') {
          iVar4 = 0x41;
          goto LAB_00437e13;
        }
        if (cVar1 == '/') {
          iVar4 = 0x48;
          goto LAB_00437e13;
        }
        if (cVar1 == '-') {
          iVar4 = 0x4d;
          goto LAB_00437e13;
        }
        if (cVar1 != '\\') {
          iVar4 = -1;
          goto LAB_00437e52;
        }
        switch(param_2[iVar3 + 1]) {
        case '1':
          iVar4 = 0x42;
          break;
        case '2':
          iVar4 = 0x44;
          break;
        case '3':
          iVar4 = 0x46;
          break;
        case '4':
          iVar4 = 0x4e;
          goto LAB_00437cae;
        default:
          goto switchD_00437d62_caseD_4;
        }
LAB_00437d9f:
        (*DAT_0047b110)(&DAT_00482598,&DAT_0048259c,in_EAX,param_1,0x10,0xc,(iVar4 % 0xc) * 8,
                        (iVar4 / 0xc) * 0xc);
        if (iVar4 == 0x46) {
          in_EAX = in_EAX + 0x10;
          iVar3 = iVar3 + 2;
          (*DAT_0047b110)(&DAT_00482598,&DAT_0048259c,in_EAX,param_1,0x10,0xc,0x40,0x3c);
        }
        iVar3 = iVar3 + 1;
        in_EAX = in_EAX + 8;
      }
      else {
        iVar4 = cVar1 + -0x41;
switchD_00437d62_caseD_4:
        if (iVar4 == 0x4e) {
LAB_00437cae:
          (*DAT_0047b110)(&DAT_00482598,&DAT_0048259c,in_EAX,param_1,0x30,0xc,0x30,0x48);
          iVar3 = iVar3 + 4;
          in_EAX = in_EAX + 0x20;
        }
        else {
          if (((0x41 < iVar4) && (iVar4 < 0x48)) || (0x4d < iVar4)) goto LAB_00437d9f;
          if (-1 < iVar4) {
LAB_00437e13:
            (*DAT_0047b110)(&DAT_00482598,&DAT_0048259c,in_EAX,param_1,8,0xc,(iVar4 % 0xc) * 8,
                            (iVar4 / 0xc) * 0xc);
          }
        }
      }
LAB_00437e52:
      iVar3 = iVar3 + 1;
      in_EAX = in_EAX + 8;
      pcVar2 = param_2;
      do {
        cVar1 = *pcVar2;
        pcVar2 = pcVar2 + 1;
      } while (cVar1 != '\0');
    } while (iVar3 < (int)pcVar2 - (int)(param_2 + 1));
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl
FUN_00437ec0(int *param_1,undefined4 param_2,int param_3,int param_4,char *param_5,int param_6)

{
  char cVar1;
  int iVar2;
  char *pcVar3;
  int iVar4;
  int local_8;
  
  iVar4 = 0;
  if (_DAT_0047acf0 == 0) {
    pcVar3 = param_5;
    do {
      cVar1 = *pcVar3;
      pcVar3 = pcVar3 + 1;
    } while (cVar1 != '\0');
    (*DAT_0047bb78)(DAT_0047b6c0,param_3,param_4 + -2,param_5,(int)pcVar3 - (int)(param_5 + 1));
  }
  else {
    iVar2 = *param_1;
    if (iVar2 == DAT_00482368) {
      _DAT_0047e4ec = 2;
    }
    else if (iVar2 == DAT_00481d10) {
      _DAT_0047e4ec = 3;
    }
    else if (iVar2 == DAT_00481c28) {
      _DAT_0047e4ec = 4;
    }
    else {
      _DAT_0047e4ec = 1;
    }
    local_8 = 0;
    pcVar3 = param_5;
    do {
      cVar1 = *pcVar3;
      pcVar3 = pcVar3 + 1;
    } while (cVar1 != '\0');
    if (0 < (int)pcVar3 - (int)(param_5 + 1)) {
      do {
        cVar1 = param_5[local_8];
        if ((cVar1 < 'A') || ('Z' < cVar1)) {
          if (('/' < cVar1) && (cVar1 < ':')) {
            iVar4 = cVar1 + -0x16;
            goto switchD_00438022_caseD_4;
          }
          if (('`' < cVar1) && (cVar1 < '{')) {
            iVar4 = cVar1 + -0x3d;
            goto switchD_00438022_caseD_4;
          }
          if (cVar1 == ':') {
            iVar4 = 0x3e;
            goto LAB_004380e7;
          }
          if (cVar1 == '%') {
            iVar4 = 0x3f;
            goto LAB_004380e7;
          }
          if (cVar1 == '.') {
            iVar4 = 0x40;
            goto LAB_004380e7;
          }
          if (cVar1 == '+') {
            iVar4 = 0x41;
            goto LAB_004380e7;
          }
          if (cVar1 == '/') {
            iVar4 = 0x48;
            goto LAB_004380e7;
          }
          if (cVar1 == '-') {
            iVar4 = 0x4d;
            goto LAB_004380e7;
          }
          if (cVar1 != '\\') {
            iVar4 = -1;
            goto LAB_00438127;
          }
          switch(param_5[local_8 + 1]) {
          case '1':
            iVar4 = 0x42;
            break;
          case '2':
            iVar4 = 0x44;
            break;
          case '3':
            iVar4 = 0x46;
            break;
          case '4':
            iVar4 = 0x4e;
            goto LAB_00437f60;
          default:
            goto switchD_00438022_caseD_4;
          }
LAB_00438063:
          (*DAT_0047b110)(param_1,param_2,param_3,param_4,param_6 * 2);
          if (iVar4 == 0x46) {
            local_8 = local_8 + 2;
            param_3 = param_3 + param_6 * 2;
            (*DAT_0047b110)(param_1,param_2,param_3,param_4,param_6 * 2);
          }
          local_8 = local_8 + 1;
          param_3 = param_3 + param_6;
        }
        else {
          iVar4 = cVar1 + -0x41;
switchD_00438022_caseD_4:
          if (iVar4 == 0x4e) {
LAB_00437f60:
            (*DAT_0047b110)(param_1,param_2,param_3,param_4,param_6 * 6);
            local_8 = local_8 + 4;
            param_3 = param_3 + param_6 * 4;
          }
          else {
            if (((0x41 < iVar4) && (iVar4 < 0x48)) || (0x4d < iVar4)) goto LAB_00438063;
            if (-1 < iVar4) {
LAB_004380e7:
              (*DAT_0047b110)(param_1,param_2,param_3,param_4,param_6);
            }
          }
        }
LAB_00438127:
        local_8 = local_8 + 1;
        param_3 = param_3 + param_6;
        pcVar3 = param_5;
        do {
          cVar1 = *pcVar3;
          pcVar3 = pcVar3 + 1;
        } while (cVar1 != '\0');
        if ((int)pcVar3 - (int)(param_5 + 1) <= local_8) {
          return;
        }
      } while( true );
    }
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl
FUN_004381a0(int *param_1,undefined4 param_2,int param_3,int param_4,char *param_5,int param_6,
            undefined4 param_7)

{
  char cVar1;
  int iVar2;
  char *pcVar3;
  int unaff_EBX;
  int iVar4;
  int unaff_EDI;
  int local_10;
  int local_c;
  int local_8;
  
  iVar4 = 0;
  if (_DAT_0047acf0 == 0) {
    pcVar3 = param_5;
    do {
      cVar1 = *pcVar3;
      pcVar3 = pcVar3 + 1;
    } while (cVar1 != '\0');
    (*DAT_0047bb78)(DAT_0047b6c0,param_3,param_4 + -2,param_5,(int)pcVar3 - (int)(param_5 + 1));
  }
  else {
    iVar2 = *param_1;
    if (iVar2 == DAT_00482368) {
      _DAT_0047e4ec = 2;
    }
    else if (iVar2 == DAT_00481d10) {
      _DAT_0047e4ec = 3;
    }
    else if (iVar2 == DAT_00481c28) {
      _DAT_0047e4ec = 4;
    }
    else {
      _DAT_0047e4ec = 1;
    }
    local_c = 0;
    pcVar3 = param_5;
    do {
      cVar1 = *pcVar3;
      pcVar3 = pcVar3 + 1;
    } while (cVar1 != '\0');
    if (pcVar3 != param_5 + 1 && -1 < (int)pcVar3 - (int)(param_5 + 1)) {
      local_8 = param_3;
      local_10 = param_3;
      do {
        cVar1 = param_5[local_c];
        if ((cVar1 < 'A') || ('Z' < cVar1)) {
          if (('/' < cVar1) && (cVar1 < ':')) {
            iVar4 = cVar1 + -0x16;
            goto switchD_0043831e_caseD_4;
          }
          if (('`' < cVar1) && (cVar1 < '{')) {
            iVar4 = cVar1 + -0x3d;
            goto switchD_0043831e_caseD_4;
          }
          if (cVar1 == ':') {
            iVar4 = 0x3e;
            goto LAB_004383fe;
          }
          if (cVar1 == '%') {
            iVar4 = 0x3f;
            goto LAB_004383fe;
          }
          if (cVar1 == '.') {
            iVar4 = 0x40;
            goto LAB_004383fe;
          }
          if (cVar1 == '+') {
            iVar4 = 0x41;
            goto LAB_004383fe;
          }
          if (cVar1 == '/') {
            iVar4 = 0x48;
            goto LAB_004383fe;
          }
          if (cVar1 == '-') {
            iVar4 = 0x4d;
            goto LAB_004383fe;
          }
          if (cVar1 != '\\') {
            iVar4 = -1;
            goto LAB_00438446;
          }
          switch(param_5[local_c + 1]) {
          case '1':
            iVar4 = 0x42;
            break;
          case '2':
            iVar4 = 0x44;
            break;
          case '3':
            iVar4 = 0x46;
            break;
          case '4':
            iVar4 = 0x4e;
            goto LAB_00438244;
          default:
            goto switchD_0043831e_caseD_4;
          }
LAB_0043835f:
          (*DAT_0047b118)(param_1,param_2,local_8,param_4,param_6 * 2,param_7,
                          (iVar4 % 0xc) * unaff_EBX,(iVar4 / 0xc) * unaff_EDI,unaff_EBX * 2);
          if (iVar4 == 0x46) {
            local_c = local_c + 2;
            local_8 = local_8 + unaff_EBX * 2;
            local_10 = local_10 + param_6 * 2;
            (*DAT_0047b118)(param_1,param_2,local_10,param_4,param_6 * 2);
          }
          local_c = local_c + 1;
          local_10 = local_10 + param_6;
          local_8 = local_8 + unaff_EBX;
        }
        else {
          iVar4 = cVar1 + -0x41;
switchD_0043831e_caseD_4:
          if (iVar4 == 0x4e) {
LAB_00438244:
            (*DAT_0047b118)(param_1,param_2,local_8,param_4,param_6 * 6,param_7,unaff_EBX * 6,
                            unaff_EDI * 6,unaff_EBX * 6);
            local_c = local_c + 4;
            local_10 = local_10 + param_6 * 4;
            local_8 = local_8 + unaff_EBX * 4;
          }
          else {
            if (((0x41 < iVar4) && (iVar4 < 0x48)) || (0x4d < iVar4)) goto LAB_0043835f;
            if (-1 < iVar4) {
LAB_004383fe:
              (*DAT_0047b118)(param_1,param_2,local_8,param_4,param_6,param_7,
                              (iVar4 % 0xc) * unaff_EBX,(iVar4 / 0xc) * unaff_EDI);
            }
          }
        }
LAB_00438446:
        local_c = local_c + 1;
        local_10 = local_10 + param_6;
        local_8 = local_8 + unaff_EBX;
        pcVar3 = param_5;
        do {
          cVar1 = *pcVar3;
          pcVar3 = pcVar3 + 1;
        } while (cVar1 != '\0');
        if ((int)pcVar3 - (int)(param_5 + 1) <= local_c) {
          return;
        }
      } while( true );
    }
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __thiscall FUN_004384c0(void *this,int *param_1,undefined4 param_2,int param_3,char *param_4)

{
  char cVar1;
  int in_EAX;
  char *pcVar2;
  int iVar3;
  
  if (_DAT_0047acf0 == 0) {
    pcVar2 = param_4;
    do {
      cVar1 = *pcVar2;
      pcVar2 = pcVar2 + 1;
    } while (cVar1 != '\0');
    (*DAT_0047bb78)(DAT_0047b6c0,this,param_3 + -2,param_4,(int)pcVar2 - (int)(param_4 + 1));
    return;
  }
  if (*param_1 == DAT_004826b0) {
    _DAT_0047e4ec = 0x34;
  }
  else if (*param_1 == DAT_00482090) {
    _DAT_0047e4ec = 0x35;
  }
  iVar3 = 0;
  pcVar2 = param_4;
  do {
    cVar1 = *pcVar2;
    pcVar2 = pcVar2 + 1;
  } while (cVar1 != '\0');
  if (pcVar2 != param_4 + 1 && -1 < (int)pcVar2 - (int)(param_4 + 1)) {
    do {
      cVar1 = param_4[iVar3];
      if ((('/' < cVar1) && (cVar1 < ':')) && (-1 < cVar1 + -0x30)) {
        (*DAT_0047b110)(param_1,param_2,this,param_3);
      }
      iVar3 = iVar3 + 1;
      this = (void *)((int)this + in_EAX);
      pcVar2 = param_4;
      do {
        cVar1 = *pcVar2;
        pcVar2 = pcVar2 + 1;
      } while (cVar1 != '\0');
    } while (iVar3 < (int)pcVar2 - (int)(param_4 + 1));
  }
  return;
}



undefined4 __fastcall FUN_004385b0(char *param_1,undefined param_2)

{
  rsize_t in_EAX;
  
  switch(param_2) {
  case 0x30:
    strcpy_s(param_1,in_EAX,(char *)&_Src_004641a4);
    return 0;
  case 0x31:
    strcpy_s(param_1,in_EAX,(char *)&_Src_004641ac);
    return 0;
  case 0x32:
    strcpy_s(param_1,in_EAX,(char *)&_Src_004641b4);
    return 0;
  case 0x33:
    strcpy_s(param_1,in_EAX,(char *)&_Src_004641bc);
    return 0;
  case 0x34:
    strcpy_s(param_1,in_EAX,(char *)&_Src_004641c4);
    return 0;
  case 0x35:
    strcpy_s(param_1,in_EAX,(char *)&_Src_004641cc);
    return 0;
  case 0x36:
    strcpy_s(param_1,in_EAX,(char *)&_Src_004641d4);
    return 0;
  case 0x37:
    strcpy_s(param_1,in_EAX,(char *)&_Src_004641dc);
    return 0;
  case 0x38:
    strcpy_s(param_1,in_EAX,(char *)&_Src_004641e4);
    return 0;
  case 0x39:
    strcpy_s(param_1,in_EAX,(char *)&_Src_004641ec);
    return 0;
  default:
    return 0xffffffff;
  case 0x41:
  case 0x61:
    strcpy_s(param_1,in_EAX,(char *)&_Src_004641f4);
    return 0;
  case 0x42:
  case 0x62:
    strcpy_s(param_1,in_EAX,(char *)&_Src_004641fc);
    return 0;
  case 0x43:
  case 99:
    strcpy_s(param_1,in_EAX,(char *)&_Src_00464204);
    return 0;
  case 0x44:
  case 100:
    strcpy_s(param_1,in_EAX,(char *)&_Src_0046420c);
    return 0;
  case 0x45:
  case 0x65:
    strcpy_s(param_1,in_EAX,(char *)&_Src_00464214);
    return 0;
  case 0x46:
  case 0x66:
    strcpy_s(param_1,in_EAX,(char *)&_Src_0046421c);
    return 0;
  }
}



undefined4 __cdecl
FUN_00438780(HBITMAP *param_1,void **param_2,BITMAPINFO *param_3,HDC *param_4,LPCSTR param_5,
            HGDIOBJ param_6,int param_7)

{
  char cVar1;
  uint uVar2;
  uint uVar3;
  size_t _Count;
  HGDIOBJ h;
  LPCSTR pCVar4;
  HBITMAP pHVar5;
  void *_Dst;
  HDC hdc;
  int iVar6;
  undefined4 *puVar7;
  HDC pHVar8;
  int iVar9;
  uint extraout_ECX;
  uint uVar10;
  int iVar11;
  void *extraout_EDX;
  void *pvVar12;
  int iVar13;
  LPSIZE unaff_EBX;
  undefined4 *puVar14;
  undefined4 *puVar15;
  float10 fVar16;
  float10 extraout_ST0;
  float10 fVar17;
  float10 fVar18;
  float10 extraout_ST1;
  ulonglong uVar19;
  undefined8 local_30;
  undefined4 *local_18;
  int local_14;
  int local_10;
  
  pHVar8 = DAT_0047b6c0;
  if (*param_4 == (HDC)0x0) {
    h = SelectObject(DAT_0047b6c0,param_6);
    pCVar4 = param_5;
    do {
      cVar1 = *pCVar4;
      pCVar4 = pCVar4 + 1;
    } while (cVar1 != '\0');
    GetTextExtentPoint32A(pHVar8,param_5,(int)pCVar4 - (int)(param_5 + 1),unaff_EBX);
    SelectObject(pHVar8,h);
    unaff_EBX->cx = unaff_EBX->cx + param_7 * 2;
    unaff_EBX->cy = unaff_EBX->cy + param_7 * 2;
    (param_3->bmiHeader).biSize = 0x28;
    (param_3->bmiHeader).biWidth = unaff_EBX->cx;
    (param_3->bmiHeader).biHeight = -unaff_EBX->cy;
    (param_3->bmiHeader).biPlanes = 1;
    (param_3->bmiHeader).biBitCount = 0x20;
    (param_3->bmiHeader).biCompression = 0;
    pHVar5 = CreateDIBSection(pHVar8,param_3,0,param_2,(HANDLE)0x0,0);
    *param_1 = pHVar5;
    _Count = unaff_EBX->cy * unaff_EBX->cx * 4;
    local_18 = (undefined4 *)calloc(_Count,4);
    _Dst = calloc(_Count,4);
    hdc = CreateCompatibleDC(pHVar8);
    *param_4 = hdc;
    SelectObject(hdc,*param_1);
    SelectObject(*param_4,param_6);
    SetTextColor(*param_4,0xfafafa);
    SetBkMode(*param_4,1);
    iVar9 = 0;
    if (0 < unaff_EBX->cy) {
      do {
        iVar6 = 0;
        if (0 < unaff_EBX->cx) {
          do {
            iVar11 = unaff_EBX->cx * iVar9 + iVar6;
            iVar6 = iVar6 + 1;
            *(undefined4 *)((int)*param_2 + iVar11 * 4) = 0xffffffff;
          } while (iVar6 < unaff_EBX->cx);
        }
        iVar9 = iVar9 + 1;
      } while (iVar9 < unaff_EBX->cy);
    }
    if (param_7 != 0) {
      SetTextColor(*param_4,0);
      iVar6 = -param_7;
      iVar9 = iVar6;
      if (-param_7 == param_7 || SBORROW4(iVar6,param_7) != param_7 * -2 < 0) {
        do {
          if (iVar6 <= param_7) {
            iVar11 = iVar6;
            do {
              if (iVar11 * iVar11 + iVar9 * iVar9 <= param_7 * param_7) {
                pCVar4 = param_5;
                do {
                  cVar1 = *pCVar4;
                  pCVar4 = pCVar4 + 1;
                } while (cVar1 != '\0');
                TextOutA(*param_4,iVar11 + param_7,iVar9 + param_7,param_5,
                         (int)pCVar4 - (int)(param_5 + 1));
              }
              iVar11 = iVar11 + 1;
            } while (iVar11 <= param_7);
          }
          iVar9 = iVar9 + 1;
        } while (iVar9 <= param_7);
      }
    }
    memcpy(_Dst,*param_2,unaff_EBX->cy * unaff_EBX->cx * 4);
    SetTextColor(*param_4,0xfafafa);
    pCVar4 = param_5;
    do {
      cVar1 = *pCVar4;
      pCVar4 = pCVar4 + 1;
    } while (cVar1 != '\0');
    TextOutA(*param_4,param_7,param_7,param_5,(int)pCVar4 - (int)(param_5 + 1));
    iVar9 = unaff_EBX->cy;
    memcpy(local_18,*param_2,unaff_EBX->cx * iVar9 * 4);
    local_10 = 0;
    if (0 < iVar9) {
      do {
        local_14 = 0;
        if (0 < unaff_EBX->cx) {
          do {
            iVar6 = unaff_EBX->cx * local_10 + local_14;
            iVar9 = iVar6 * 4;
            uVar10 = local_18[iVar6];
            if (*(uint *)(iVar9 + (int)_Dst) == 0xffffffff) {
              *(undefined4 *)(iVar9 + (int)*param_2) = 0;
            }
            else if ((*(uint *)(iVar9 + (int)_Dst) & 0xffffff) == 0) {
              *(int *)(iVar9 + (int)*param_2) = *(int *)(iVar9 + (int)*param_2) + -0x1000000;
            }
            else {
              *(uint *)(iVar9 + (int)*param_2) =
                   (0xff - ((uVar10 >> 8 & 0xff) * 0x24b + (uVar10 >> 0x10 & 0xff) * 0x72 +
                           (uVar10 & 0xff) * 299) / 1000) * 0x1000000;
            }
            local_14 = local_14 + 1;
          } while (local_14 < unaff_EBX->cx);
        }
        local_10 = local_10 + 1;
      } while (local_10 < unaff_EBX->cy);
    }
    iVar9 = DAT_0047ac74;
    if (DAT_0047ac74 < unaff_EBX->cx) {
      memcpy(local_18,*param_2,unaff_EBX->cy * unaff_EBX->cx * 4);
      local_10 = 0;
      if (0 < unaff_EBX->cy) {
        fVar18 = (float10)1;
        uVar10 = extraout_ECX;
        pvVar12 = extraout_EDX;
        do {
          local_14 = 0;
          if (0 < iVar9) {
            fVar16 = (float10)DAT_0047ac74;
            do {
              iVar9 = unaff_EBX->cx;
              fVar17 = fVar18;
              uVar19 = FUN_0045db50(uVar10,pvVar12);
              fVar18 = fVar16;
              iVar6 = (int)uVar19;
              fVar16 = extraout_ST0 - (float10)iVar6;
              if (ABS(fVar16) < fVar17 == (ABS(fVar16) == fVar17)) {
                iVar9 = iVar9 * local_10;
                fVar17 = fVar18 - fVar16;
                uVar2 = local_18[iVar6 + iVar9];
                uVar3 = (local_18 + iVar6 + iVar9)[1];
                local_30._0_4_ =
                     (int)(longlong)
                          ROUND((float10)(uVar3 >> 0x18) * fVar16 +
                                (float10)(uVar2 >> 0x18) * fVar17);
                local_30 = CONCAT44(uVar2,(int)local_30) & 0xffffffffff;
                iVar6 = (int)local_30 * 0x100;
                local_30._0_4_ =
                     (int)(longlong)
                          ROUND((float10)(uVar3 & 0xff) * fVar16 + (float10)local_30._4_4_ * fVar17)
                ;
                iVar6 = iVar6 + (int)local_30;
                uVar10 = uVar2 >> 0x10 & 0xff;
                local_30._0_4_ =
                     (int)(longlong)
                          ROUND((float10)(uVar3 >> 8 & 0xff) * fVar16 +
                                (float10)(uVar2 >> 8 & 0xff) * fVar17);
                local_30 = CONCAT44(uVar2 >> 0x10,(int)local_30) & 0xffffffffff;
                iVar6 = iVar6 * 0x100 + (int)local_30;
                local_30._0_4_ =
                     (int)(longlong)
                          ROUND((float10)local_30._4_4_ * fVar17 +
                                (float10)(uVar3 >> 0x10 & 0xff) * fVar16);
                pvVar12 = *param_2;
                *(int *)((int)pvVar12 + (iVar9 + local_14) * 4) = iVar6 * 0x100 + (int)local_30;
              }
              else {
                pvVar12 = *param_2;
                iVar9 = iVar9 * local_10;
                uVar10 = local_18[iVar6 + iVar9];
                *(uint *)((int)pvVar12 + (iVar9 + local_14) * 4) = uVar10;
              }
              local_14 = local_14 + 1;
              iVar9 = DAT_0047ac74;
              fVar16 = extraout_ST1;
            } while (local_14 < DAT_0047ac74);
          }
          local_10 = local_10 + 1;
        } while (local_10 < unaff_EBX->cy);
      }
      free(local_18);
      local_18 = (undefined4 *)calloc(unaff_EBX->cy * iVar9 * 4,4);
      iVar13 = 0;
      puVar7 = local_18;
      iVar6 = iVar9;
      iVar11 = iVar9;
      if (0 < unaff_EBX->cy) {
        do {
          iVar6 = iVar11;
          if (0 < iVar11) {
            puVar14 = (undefined4 *)((int)*param_2 + unaff_EBX->cx * iVar13 * 4);
            puVar15 = puVar7;
            for (; iVar6 = DAT_0047ac74, iVar11 != 0; iVar11 = iVar11 + -1) {
              *puVar15 = *puVar14;
              puVar14 = puVar14 + 1;
              puVar15 = puVar15 + 1;
            }
          }
          iVar13 = iVar13 + 1;
          puVar7 = puVar7 + iVar9;
          iVar11 = iVar6;
        } while (iVar13 < unaff_EBX->cy);
      }
      if (*param_1 != (HBITMAP)0x0) {
        DeleteDC(*param_4);
        iVar6 = DAT_0047ac74;
        if (*param_1 != (HBITMAP)0x0) {
          DeleteObject(*param_1);
          iVar6 = DAT_0047ac74;
        }
      }
      *param_4 = (HDC)0x0;
      *param_1 = (HBITMAP)0x0;
      (param_3->bmiHeader).biWidth = iVar6;
      unaff_EBX->cx = iVar6;
      pHVar5 = CreateDIBSection(pHVar8,param_3,0,param_2,(HANDLE)0x0,0);
      *param_1 = pHVar5;
      pHVar8 = CreateCompatibleDC(pHVar8);
      *param_4 = pHVar8;
      SelectObject(pHVar8,*param_1);
      memcpy(*param_2,local_18,unaff_EBX->cy * DAT_0047ac74 * 4);
    }
    free(local_18);
    free(_Dst);
    return 0;
  }
  return 0xffffffff;
}



int __thiscall FUN_00438d60(void *this,uchar *param_1)

{
  uchar *puVar1;
  uchar uVar2;
  char *pcVar3;
  int in_EAX;
  char *pcVar4;
  uchar *puVar5;
  
  if (((DAT_0047e2d4 != 1) || (_Dst_0047e2da == '\0')) && (in_EAX == 0)) {
    in_EAX = 1;
  }
  if ((_Dst_0047bb90 == '\0') && (in_EAX == 1)) {
    in_EAX = 2;
  }
  if (in_EAX == 0) {
    pcVar3 = &_Dst_0047e2da;
    do {
      pcVar4 = pcVar3;
      pcVar3 = pcVar4 + 1;
    } while (*pcVar4 != '\0');
    puVar5 = _mbsrchr((uchar *)&_Dst_0047e2da,0x5c);
    puVar1 = puVar5 + 1;
    do {
      uVar2 = *puVar5;
      puVar5 = puVar5 + 1;
    } while (uVar2 != '\0');
    _mbsnbcpy_s(param_1,(size_t)this,(uchar *)&_Dst_0047e2da,
                (size_t)(pcVar4 + (-0x47e2da - ((int)puVar5 - (int)puVar1))));
    strcat_s((char *)param_1,(rsize_t)this,(char *)&_Src_00464224);
  }
  else {
    if (in_EAX == 1) {
      pcVar3 = &_Dst_0047bb90;
      do {
        pcVar4 = pcVar3;
        pcVar3 = pcVar4 + 1;
      } while (*pcVar4 != '\0');
      puVar5 = _mbsrchr((uchar *)&_Dst_0047bb90,0x5c);
      puVar1 = puVar5 + 1;
      do {
        uVar2 = *puVar5;
        puVar5 = puVar5 + 1;
      } while (uVar2 != '\0');
      _mbsnbcpy_s(param_1,(size_t)this,(uchar *)&_Dst_0047bb90,
                  (size_t)(pcVar4 + (-0x47bb90 - ((int)puVar5 - (int)puVar1))));
      strcat_s((char *)param_1,(rsize_t)this,(char *)&_Src_00464228);
      return 1;
    }
    if (in_EAX == 2) {
      FUN_00437bc0((size_t)this);
      return 2;
    }
  }
  return in_EAX;
}



void __cdecl FUN_00438e80(HDC param_1,int param_2,int param_3,LPCSTR param_4,int param_5)

{
  TextOutA(param_1,param_2,param_3,param_4,param_5);
  return;
}



void __cdecl FUN_00438ea0(HDC param_1,int param_2,int param_3,uchar *param_4,int param_5)

{
  uchar *puVar1;
  int iVar2;
  int iVar3;
  tagSIZE tStack_22c;
  size_t local_224;
  int iStack_220;
  int iStack_21c;
  int iStack_218;
  uchar *local_214;
  uchar local_210 [516];
  uint local_c;
  
  local_c = DAT_0047a940 ^ (uint)&tStack_22c;
  local_214 = param_4;
  local_224 = 0;
  if (0 < param_5) {
    do {
      _mbsnbcpy_s(local_210,0x200,param_4,2);
      puVar1 = _mbschr((uchar *)&_Str_00462ba0,(int)(char)*param_4);
      if ((puVar1 == (uchar *)0x0) &&
         (puVar1 = _mbsstr((uchar *)&_Str_00462ba0,local_210), puVar1 == (uchar *)0x0)) {
        SelectObject(param_1,DAT_0047bae4);
        iStack_218 = 0;
      }
      else {
        SelectObject(param_1,DAT_0047b6c4);
        iStack_218 = 1;
      }
      puVar1 = _mbschr((uchar *)&_Str_00462bec,(int)(char)*param_4);
      if (puVar1 == (uchar *)0x0) {
        puVar1 = _mbsstr((uchar *)&_Str_00462bec,local_210);
        iStack_21c = 0;
        if (puVar1 != (uchar *)0x0) goto LAB_00438f82;
      }
      else {
LAB_00438f82:
        iStack_21c = 1;
      }
      puVar1 = _mbschr((uchar *)&_Str_00462c20,(int)(char)*param_4);
      if (puVar1 == (uchar *)0x0) {
        puVar1 = _mbsstr((uchar *)&_Str_00462c20,local_210);
        iStack_220 = 0;
        if (puVar1 != (uchar *)0x0) goto LAB_00438fbf;
      }
      else {
LAB_00438fbf:
        iStack_220 = 1;
      }
      iVar2 = _mbsbtype(local_214,local_224);
      if (iVar2 == 1) {
        GetTextExtentPoint32A(param_1,(LPCSTR)param_4,2,&tStack_22c);
        iVar3 = DAT_0047ac74 >> 1;
        iVar2 = DAT_0047ac78 >> 1;
        if (iStack_218 == 0) {
          if (iStack_21c == 1) {
            TextOutA(param_1,((iVar3 - iVar2) - tStack_22c.cx) + 0x10 + param_3,param_2,
                     (LPCSTR)param_4,2);
            param_2 = param_2 + tStack_22c.cy;
            local_224 = local_224 + 1;
            param_4 = param_4 + 1;
          }
          else if (iStack_220 == 1) {
            TextOutA(param_1,((iVar3 - iVar2) - tStack_22c.cx) + 0x16 + param_3,
                     tStack_22c.cy + -0x16 + param_2,(LPCSTR)param_4,2);
            local_224 = local_224 + 1;
            param_2 = param_2 + -4 + tStack_22c.cy;
            param_4 = param_4 + 1;
          }
          else {
            TextOutA(param_1,iVar3 + ((0x10 - tStack_22c.cx >> 1) - iVar2) + param_3,param_2,
                     (LPCSTR)param_4,2);
            param_2 = param_2 + tStack_22c.cy;
            local_224 = local_224 + 1;
            param_4 = param_4 + 1;
          }
        }
        else {
          TextOutA(param_1,(iVar3 - iVar2) + tStack_22c.cy + param_3,param_2,(LPCSTR)param_4,2);
          param_2 = param_2 + tStack_22c.cx;
          local_224 = local_224 + 1;
          param_4 = param_4 + 1;
        }
      }
      else {
        GetTextExtentPoint32A(param_1,(LPCSTR)param_4,1,&tStack_22c);
        iVar3 = DAT_0047ac74 >> 1;
        iVar2 = DAT_0047ac78 >> 1;
        if (iStack_218 == 0) {
          if (iStack_21c == 1) {
            TextOutA(param_1,((iVar3 - iVar2) - tStack_22c.cx) + 0xc + param_3,param_2,
                     (LPCSTR)param_4,1);
            param_2 = param_2 + -6 + tStack_22c.cy;
          }
          else if (iStack_220 == 1) {
            TextOutA(param_1,((iVar3 - iVar2) - tStack_22c.cx) + 0xc + param_3,
                     tStack_22c.cy + -0x16 + param_2,(LPCSTR)param_4,1);
            param_2 = param_2 + -6 + tStack_22c.cy;
          }
          else {
            TextOutA(param_1,iVar3 + ((0x10 - tStack_22c.cx >> 1) - iVar2) + param_3,param_2,
                     (LPCSTR)param_4,1);
            param_2 = param_2 + tStack_22c.cy;
          }
        }
        else {
          TextOutA(param_1,(iVar3 - iVar2) + tStack_22c.cy + param_3,param_2,(LPCSTR)param_4,1);
          param_2 = param_2 + tStack_22c.cx;
        }
      }
      local_224 = local_224 + 1;
      param_4 = param_4 + 1;
    } while ((int)local_224 < param_5);
  }
  SelectObject(param_1,DAT_0047bae4);
  ___security_check_cookie_4(local_c ^ (uint)&tStack_22c);
  return;
}



void __thiscall FUN_00439220(void *this,int param_1)

{
  bool bVar1;
  bool bVar2;
  bool bVar3;
  HDC hdc;
  uchar *puVar4;
  int iVar5;
  uchar *_Src;
  tagSIZE local_224;
  HDC local_21c;
  size_t local_218;
  int local_214;
  uchar local_210 [516];
  uint local_c;
  
  local_c = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  local_21c = DAT_0047b6c0;
  local_214 = 0;
  local_218 = 0;
  _Src = (uchar *)this;
  if (0 < param_1) {
    do {
      hdc = local_21c;
      _mbsnbcpy_s(local_210,0x200,_Src,2);
      puVar4 = _mbschr((uchar *)&_Str_00462ba0,(int)(char)*_Src);
      if (puVar4 == (uchar *)0x0) {
        puVar4 = _mbsstr((uchar *)&_Str_00462ba0,local_210);
        if (puVar4 != (uchar *)0x0) goto LAB_004392b9;
        SelectObject(hdc,DAT_0047bae4);
        bVar1 = false;
      }
      else {
LAB_004392b9:
        SelectObject(hdc,DAT_0047b6c4);
        bVar1 = true;
      }
      puVar4 = _mbschr((uchar *)&_Str_00462bec,(int)(char)*_Src);
      if (puVar4 == (uchar *)0x0) {
        puVar4 = _mbsstr((uchar *)&_Str_00462bec,local_210);
        bVar3 = false;
        if (puVar4 != (uchar *)0x0) goto LAB_00439300;
      }
      else {
LAB_00439300:
        bVar3 = true;
      }
      puVar4 = _mbschr((uchar *)&_Str_00462c20,(int)(char)*_Src);
      if (puVar4 == (uchar *)0x0) {
        puVar4 = _mbsstr((uchar *)&_Str_00462c20,local_210);
        if (puVar4 != (uchar *)0x0) goto LAB_00439339;
        bVar2 = false;
      }
      else {
LAB_00439339:
        bVar2 = true;
      }
      iVar5 = _mbsbtype((uchar *)this,local_218);
      if (iVar5 == 1) {
        GetTextExtentPoint32A(local_21c,(LPCSTR)_Src,2,&local_224);
        if (bVar1) {
          local_214 = local_214 + local_224.cx;
          local_218 = local_218 + 1;
          _Src = _Src + 1;
        }
        else if (bVar3) {
          local_214 = local_214 + local_224.cy;
          local_218 = local_218 + 1;
          _Src = _Src + 1;
        }
        else if (bVar2) {
          local_218 = local_218 + 1;
          local_214 = local_214 + -4 + local_224.cy;
          _Src = _Src + 1;
        }
        else {
          local_214 = local_214 + local_224.cy;
          local_218 = local_218 + 1;
          _Src = _Src + 1;
        }
      }
      else {
        GetTextExtentPoint32A(local_21c,(LPCSTR)_Src,1,&local_224);
        if (bVar1) {
          local_214 = local_214 + local_224.cx;
        }
        else if (bVar3) {
          local_214 = local_214 + -6 + local_224.cy;
        }
        else if (bVar2) {
          local_214 = local_214 + -6 + local_224.cy;
        }
        else {
          local_214 = local_214 + local_224.cy;
        }
      }
      local_218 = local_218 + 1;
      _Src = _Src + 1;
    } while ((int)local_218 < param_1);
  }
  SelectObject(local_21c,DAT_0047bae4);
  ___security_check_cookie_4(local_c ^ (uint)&stack0xfffffffc);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __fastcall FUN_00439490(LPCSTR param_1,undefined4 *param_2)

{
  LPVOID dwBytes;
  double dVar1;
  size_t sVar2;
  char *lpCaption;
  LPVOID lpBuffer;
  int iVar3;
  LPVOID *unaff_EBX;
  undefined2 in_FPUControlWord;
  DWORD local_124;
  LPVOID local_120;
  undefined4 local_11c;
  LPCSTR local_118;
  undefined8 local_114;
  HANDLE local_10c;
  char local_108 [256];
  uint local_8;
  
  local_8 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  local_118 = param_1;
  local_10c = CreateFileA(param_1,0x80000000,0,(LPSECURITY_ATTRIBUTES)0x0,3,0x80,(HANDLE)0x0);
  if (local_10c == (HANDLE)0xffffffff) {
    MessageBoxA((HWND)0x0,(LPCSTR)((int)&lpDefault_004629c1 + 3),param_1,0);
    ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
    return;
  }
  local_114._4_4_ = GetFileSize(local_10c,(LPDWORD)0x0);
  lpBuffer = HeapAlloc(DAT_0047e614,8,local_114._4_4_);
  if (lpBuffer == (LPVOID)0x0) {
    MessageBoxA((HWND)0x0,(LPCSTR)&lpText_004629e0,local_118,0);
    ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
    return;
  }
  ReadFile(local_10c,lpBuffer,local_114._4_4_,&local_124,(LPOVERLAPPED)0x0);
  CloseHandle(local_10c);
  local_11c = *(undefined4 *)((int)lpBuffer + 8);
  iVar3 = strncmp((char *)&local_11c,(char *)&_Str2_00462a00,4);
  if (iVar3 != 0) {
    HeapFree(DAT_0047e614,0,lpBuffer);
    MessageBoxA((HWND)0x0,(LPCSTR)&lpText_00462a08,local_118,0);
    ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
    return;
  }
  local_120 = *(LPVOID *)((int)lpBuffer + 0x10);
  *param_2 = 0;
  param_2[1] = 0;
  param_2[2] = 0;
  param_2[3] = 0;
  *(undefined2 *)(param_2 + 4) = 0;
  memcpy(param_2,(void *)((int)lpBuffer + 0x14),(size_t)local_120);
  sVar2 = (size_t)local_120;
  dVar1 = (double)param_2[1];
  if ((int)param_2[1] < 0) {
    dVar1 = dVar1 + 4294967296.0;
  }
  local_114._0_4_ = (undefined4)(longlong)ROUND(dVar1 / _DAT_0047ac88);
  param_2[1] = (undefined4)local_114;
  dVar1 = (double)param_2[2];
  if ((int)param_2[2] < 0) {
    dVar1 = dVar1 + 4294967296.0;
  }
  local_10c = (HANDLE)CONCAT22(in_FPUControlWord,local_10c._0_2_);
  local_114 = (longlong)ROUND(dVar1 / _DAT_0047ac88);
  param_2[2] = (undefined4)local_114;
  if (*(short *)param_2 != 1) {
    HeapFree(DAT_0047e614,0,lpBuffer);
    MessageBoxA((HWND)0x0,(LPCSTR)&lpText_00462a28,local_118,0);
    ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
    return;
  }
  local_11c = *(undefined4 *)((int)local_120 + 0x14U + (int)lpBuffer);
  iVar3 = strncmp((char *)&local_11c,(char *)&_Str2_00462a50,4);
  if (iVar3 == 0) {
    local_10c = (HANDLE)(*(int *)(sVar2 + 0x18 + (int)lpBuffer) + 0x18 + sVar2);
  }
  else {
    iVar3 = strncmp((char *)&local_11c,(char *)&_Str2_00462a58,4);
    if (iVar3 != 0) {
      HeapFree(DAT_0047e614,0,lpBuffer);
      lpCaption = local_118;
      strcpy_s(local_108,0x100,local_118);
      strcat_s(local_108,0x100,(char *)&_Src_00462a60);
      MessageBoxA((HWND)0x0,local_108,lpCaption,0);
      ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
      return;
    }
    local_10c = (HANDLE)(sVar2 + 0x18);
  }
  dwBytes = *(LPVOID *)((int)local_10c + (int)lpBuffer);
  local_120 = HeapAlloc(DAT_0047e614,8,(SIZE_T)dwBytes);
  memcpy(local_120,(void *)((int)local_10c + 4 + (int)lpBuffer),(size_t)dwBytes);
  HeapFree(DAT_0047e614,0,lpBuffer);
  if (local_120 == (LPVOID)0x0) {
    MessageBoxA((HWND)0x0,(LPCSTR)&lpText_00462a7c,local_118,0);
    ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
    return;
  }
  unaff_EBX[2] = (LPVOID)0x0;
  unaff_EBX[6] = (LPVOID)0x0;
  unaff_EBX[7] = (LPVOID)0x0;
  unaff_EBX[1] = dwBytes;
  *unaff_EBX = local_120;
  unaff_EBX[4] = (LPVOID)0xc;
  unaff_EBX[5] = (LPVOID)0x1;
  unaff_EBX[3] = (LPVOID)0x0;
  ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 __cdecl FUN_00439840(LPCSTR param_1,int param_2)

{
  size_t _Size;
  double dVar1;
  double dVar2;
  LPVOID *ppvVar3;
  HANDLE hFile;
  LPVOID lpBuffer;
  int iVar4;
  LPVOID _Dst;
  LPVOID dwBytes;
  ushort in_FPUControlWord;
  int local_28;
  DWORD local_20;
  undefined8 local_1c;
  uint local_14;
  uint local_10;
  undefined4 local_c [2];
  
  ppvVar3 = DAT_0047e5bc;
  hFile = CreateFileA(param_1,0x80000000,0,(LPSECURITY_ATTRIBUTES)0x0,3,0x80,(HANDLE)0x0);
  if (hFile == (HANDLE)0xffffffff) {
    MessageBoxA((HWND)0x0,(LPCSTR)&lpText_00462a9c,param_1,0);
    return 0xffffffff;
  }
  local_10 = GetFileSize(hFile,(LPDWORD)0x0);
  lpBuffer = HeapAlloc(DAT_0047e614,8,local_10);
  if (lpBuffer == (LPVOID)0x0) {
    MessageBoxA((HWND)0x0,(LPCSTR)&lpText_00462ab8,param_1,0);
    return 0xfffffffb;
  }
  ReadFile(hFile,lpBuffer,local_10,&local_20,(LPOVERLAPPED)0x0);
  CloseHandle(hFile);
  local_c[0] = *(undefined4 *)((int)lpBuffer + 8);
  iVar4 = strncmp((char *)local_c,(char *)&_Str2_00462ad8,4);
  if (iVar4 != 0) {
    HeapFree(DAT_0047e614,0,lpBuffer);
    MessageBoxA((HWND)0x0,(LPCSTR)&lpText_00462ae0,param_1,0);
    return 0xfffffffe;
  }
  _Size = *(size_t *)((int)lpBuffer + 0x10);
  _Dst_0047b158 = (LPCWAVEFORMATEX)0x0;
  DAT_0047b15c = 0;
  DAT_0047b160 = 0;
  _DAT_0047b164 = 0;
  _DAT_0047b168 = 0;
  memcpy(&_Dst_0047b158,(void *)((int)lpBuffer + 0x14),_Size);
  dVar1 = (double)DAT_0047b15c;
  if (DAT_0047b15c < 0) {
    dVar1 = dVar1 + 4294967296.0;
  }
  local_1c._0_4_ = (int)(longlong)ROUND(dVar1 / _DAT_0047ac88);
  DAT_0047b15c = (int)local_1c;
  dVar1 = (double)DAT_0047b160;
  if (DAT_0047b160 < 0) {
    dVar1 = dVar1 + 4294967296.0;
  }
  local_10 = in_FPUControlWord | 0xc00;
  local_1c = (longlong)ROUND(dVar1 / _DAT_0047ac88);
  DAT_0047b160 = (int)local_1c;
  if ((short)_Dst_0047b158 != 1) {
    HeapFree(DAT_0047e614,0,lpBuffer);
    MessageBoxA((HWND)0x0,(LPCSTR)&lpText_00462b00,param_1,0);
    return 0xfffffffd;
  }
  local_c[0] = *(undefined4 *)(_Size + 0x14 + (int)lpBuffer);
  iVar4 = strncmp((char *)local_c,(char *)&_Str2_00462b28,4);
  if (iVar4 == 0) {
    local_10 = *(int *)(_Size + 0x18 + (int)lpBuffer) + 0x18 + _Size;
  }
  else {
    iVar4 = strncmp((char *)local_c,(char *)&_Str2_00462b30,4);
    if (iVar4 != 0) {
      HeapFree(DAT_0047e614,0,lpBuffer);
      MessageBoxA((HWND)0x0,(LPCSTR)&lpText_00462b38,param_1,0);
      return 0xfffffffc;
    }
    local_10 = _Size + 0x18;
  }
  dVar1 = (double)param_2;
  if (param_2 < 0) {
    dVar1 = dVar1 + 4294967296.0;
  }
  dVar2 = (double)DAT_0047b160;
  if (DAT_0047b160 < 0) {
    dVar2 = dVar2 + 4294967296.0;
  }
  local_14 = in_FPUControlWord | 0xc00;
  local_1c = (longlong)ROUND(dVar2 * (dVar1 / 1000.0) * 0.5);
  dwBytes = (LPVOID)(*(int *)(local_10 + (int)lpBuffer) + (int)local_1c * -2);
  _Dst = HeapAlloc(DAT_0047e614,8,(SIZE_T)dwBytes);
  dVar2 = (double)DAT_0047b160;
  if (DAT_0047b160 < 0) {
    dVar2 = dVar2 + 4294967296.0;
  }
  local_14 = in_FPUControlWord | 0xc00;
  local_28 = (int)(longlong)ROUND(dVar2 * (dVar1 / 1000.0) * 0.5);
  local_1c._4_4_ = _Dst;
  memcpy(_Dst,(void *)(local_10 + 4 + local_28 * 2 + (int)lpBuffer),(size_t)dwBytes);
  HeapFree(DAT_0047e614,0,lpBuffer);
  if (local_1c._4_4_ == (LPVOID)0x0) {
    MessageBoxA((HWND)0x0,(LPCSTR)&lpText_00462b54,param_1,0);
    return 0xfffffffb;
  }
  ppvVar3[2] = (LPVOID)0x0;
  ppvVar3[6] = (LPVOID)0x0;
  ppvVar3[7] = (LPVOID)0x0;
  ppvVar3[1] = dwBytes;
  *ppvVar3 = local_1c._4_4_;
  ppvVar3[4] = (LPVOID)0xc;
  ppvVar3[5] = (LPVOID)0x1;
  ppvVar3[3] = (LPVOID)0x0;
  return 0;
}



void FUN_00439ba0(void)

{
  LPWAVEHDR unaff_ESI;
  HWAVEOUT *unaff_EDI;
  
  if (unaff_ESI->dwUser != 1) {
    waveOutReset(*unaff_EDI);
    waveOutUnprepareHeader(*unaff_EDI,unaff_ESI,0x20);
    if (unaff_ESI->dwUser == 0) {
      waveOutClose(*unaff_EDI);
      *unaff_EDI = (HWAVEOUT)0x0;
    }
    unaff_ESI->dwUser = 1;
  }
  if (unaff_ESI->lpData != (LPSTR)0x0) {
    HeapFree(DAT_0047e614,0,unaff_ESI->lpData);
    unaff_ESI->lpData = (LPSTR)0x0;
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00439c10(HINSTANCE param_1,undefined4 param_2,char *param_3,int param_4)

{
  double dVar1;
  ATOM AVar2;
  LONG LVar3;
  int iVar4;
  int iVar5;
  HBITMAP h;
  uint extraout_EDX;
  uint extraout_EDX_00;
  uint uVar6;
  uint *puVar7;
  uint *puVar8;
  ulonglong uVar9;
  DWORD dwStyle;
  HWND hWndParent;
  HMENU hMenu;
  HINSTANCE pHVar10;
  LPVOID lpParam;
  undefined auStack_1b4 [52];
  double local_180;
  WNDCLASSA WStack_174;
  char *local_14c;
  char acStack_148 [260];
  uint local_44;
  
  local_44 = DAT_0047a940 ^ (uint)auStack_1b4;
  local_180 = 1.0;
  local_14c = param_3;
  FUN_0040def0();
  FUN_0040f150();
  FUN_00412a10();
  FUN_00435150();
  if (DAT_0047f114 == 2) {
    DAT_0047e744 = 1;
  }
  if (DAT_0047e740 == 1) {
    dVar1 = 0.9;
  }
  else {
    dVar1 = local_180;
    if (DAT_0047e740 == 2) {
      dVar1 = 0.82;
    }
  }
  if (DAT_0047f114 == 2) {
    DAT_0047ac74 = 0x200;
    DAT_0047ac78 = 0x180;
    DAT_0047e1c4 = ScrollFieldHeight;
    DAT_0047e1b4 = 0x20;
    local_180 = (double)(longlong)ROUND(dVar1 * 512.0);
    DAT_0047e1c0 = local_180._0_4_ + 1;
    DAT_0047e1b0 = ((int)(0x200U - DAT_0047e1c0) < 0) - 1 & 0x200U - DAT_0047e1c0;
    DAT_0047e1cc = ScrollFieldHeight / 2;
    DAT_0047e1c8 = DAT_0047e1cc + 1;
    uVar6 = DAT_0047e1c8;
  }
  else if (DAT_0047e744 == 0) {
    DAT_0047ac78 = 0x30;
    DAT_0047e1c4 = 0x30;
    DAT_0047ac74 = 0x200;
    DAT_0047e1b4 = 0;
    DAT_0047e1c8 = 0x19;
    DAT_0047e1cc = 0x18;
    local_180 = (double)(longlong)ROUND(dVar1 * 512.0);
    DAT_0047e1c0 = local_180._0_4_ + 1;
    DAT_0047e1b0 = ((int)(0x200U - DAT_0047e1c0) < 0) - 1 & 0x200U - DAT_0047e1c0;
    uVar6 = DAT_0047e1b0;
  }
  else {
    uVar6 = DAT_0047e744;
    if (DAT_0047e744 == 1) {
      DAT_0047ac74 = 0x200;
      DAT_0047ac78 = 0x50;
      DAT_0047e1c4 = 0x30;
      DAT_0047e1b4 = 0x20;
      DAT_0047e1c8 = 0x19;
      DAT_0047e1cc = 0x18;
      local_180 = (double)(longlong)ROUND(dVar1 * 512.0);
      DAT_0047e1c0 = local_180._0_4_ + 1;
      DAT_0047e1b0 = ((int)(0x200U - DAT_0047e1c0) < 0) - 1 & 0x200U - DAT_0047e1c0;
      uVar6 = DAT_0047e1b0;
    }
  }
  if (_DAT_0047ac6c == 1) {
    _DAT_0047e21c = 0x9c;
    _DAT_0047e264 = 0x280;
    _DAT_0047e268 = 0x1e0;
    _DAT_0047e220 = 0x180000;
    LVar3 = ChangeDisplaySettingsA((DEVMODEA *)&lpDevMode_0047e1f8,6);
    if (LVar3 == 0) {
      DAT_0047ac80 = 0x1e0;
      DAT_0047ac7c = 0x280;
      do {
        iVar4 = ShowCursor(0);
        uVar6 = extraout_EDX;
      } while (-1 < iVar4);
    }
    else {
      MessageBoxA((HWND)0x0,(LPCSTR)&lpText_00462880,(LPCSTR)0x0,0);
      _DAT_0047ac6c = 0;
      uVar6 = extraout_EDX_00;
    }
  }
  if (DAT_0047ac74 < DAT_0047e1c0) {
    DAT_0047e1c0 = DAT_0047ac74;
  }
  uVar9 = FUN_0045db50(DAT_0047e1c0,uVar6);
  DAT_0047ac80 = (int)uVar9;
  puVar7 = &DAT_0047e1b0;
  puVar8 = &DAT_0047e1d0;
  for (iVar4 = 8; iVar4 != 0; iVar4 = iVar4 + -1) {
    *puVar8 = *puVar7;
    puVar7 = puVar7 + 1;
    puVar8 = puVar8 + 1;
  }
  DAT_0047e1dc = DAT_0047e1dc + 100;
  DAT_0047e1d4 = DAT_0047e1b4 + 100;
  WStack_174.hIcon = (HICON)0x0;
  WStack_174.hCursor = (HCURSOR)0x0;
  WStack_174.hbrBackground = (HBRUSH)0x0;
  WStack_174.lpszMenuName = (LPCSTR)0x0;
  WStack_174.lpszClassName = (LPCSTR)0x0;
  WStack_174.style = 3;
  WStack_174.lpfnWndProc = FUN_0043a280;
  WStack_174.cbClsExtra = 0;
  WStack_174.cbWndExtra = 0;
  WStack_174.hInstance = param_1;
  WStack_174.hIcon = LoadIconA(param_1,"IDI_ICON");
  WStack_174.hCursor = LoadCursorA((HINSTANCE)0x0,(LPCSTR)0x7f00);
  WStack_174.hbrBackground = (HBRUSH)0x6;
  WStack_174.lpszMenuName = (LPCSTR)0x0;
  WStack_174.lpszClassName = "Windows";
  AVar2 = RegisterClassA(&WStack_174);
  if (AVar2 != 0) {
    sprintf_s(acStack_148,0x100,"%s Ver.%04.2lf",&_Src_0047e0a0,0x40075c28f5c28f5c);
    pHVar10 = param_1;
    if ((DAT_0047f114 == 1) || (_DAT_0047ac6c != 0)) {
      lpParam = (LPVOID)0x0;
      hMenu = (HMENU)0x0;
      hWndParent = (HWND)0x0;
      dwStyle = 0x80080000;
      iVar4 = DAT_0047ac7c;
      iVar5 = DAT_0047ac80;
    }
    else {
      iVar4 = GetSystemMetrics(8);
      lpParam = (LPVOID)0x0;
      hMenu = (HMENU)0x0;
      hWndParent = (HWND)0x0;
      iVar5 = GetSystemMetrics(4);
      iVar5 = iVar5 + iVar4 * 2 + DAT_0047ac80;
      iVar4 = GetSystemMetrics(7);
      dwStyle = 0xca0000;
      iVar4 = DAT_0047ac7c + iVar4 * 2;
    }
    DAT_0047de30 = CreateWindowExA(0,WStack_174.lpszClassName,acStack_148,dwStyle,-0x80000000,
                                   -0x80000000,iVar4,iVar5,hWndParent,hMenu,pHVar10,lpParam);
    strcpy_s((char *)&_Src_0047e640,0x100,local_14c);
    DragAcceptFiles(DAT_0047de30,1);
    ShowWindow(DAT_0047de30,param_4);
    UpdateWindow(DAT_0047de30);
    _DAT_0047de4c = param_1;
    DAT_0047de50 = GetDC(DAT_0047de30);
    _DAT_0047e1f0 = -DAT_0047ac7c;
    h = CreateCompatibleBitmap(DAT_0047de50,DAT_0047ac7c,DAT_0047ac80);
    DAT_0047b6c0 = CreateCompatibleDC(DAT_0047de50);
    SelectObject(DAT_0047b6c0,h);
    PatBlt(DAT_0047b6c0,0,0,DAT_0047ac7c,DAT_0047ac80,0xff0062);
    DeleteObject(h);
    SetBkMode(DAT_0047de50,1);
    SetTextColor(DAT_0047de50,0xfafafa);
    SetBkMode(DAT_0047b6c0,1);
    SetTextColor(DAT_0047b6c0,0xfafafa);
    PatBlt(DAT_0047b6c0,0,0,DAT_0047ac7c,DAT_0047ac80,0x42);
    TextOutA(DAT_0047b6c0,2,2,"Wait a moment...",0x10);
    BitBlt(DAT_0047de50,0,0,DAT_0047ac7c,DAT_0047ac80,DAT_0047b6c0,0,0,0xcc0020);
    UpdateWindow(DAT_0047de30);
    FUN_00420f90();
    DeleteDC(DAT_0047b6c0);
    if (_DAT_0047e61c == 0) {
      do {
        FUN_00419ff0();
      } while (_DAT_0047e624 != 0);
      ReleaseDC(DAT_0047de30,DAT_0047de50);
      FUN_0043aac0(DAT_0047ec24);
      if ((DAT_0047ec20 != &_Memory_0047e750) && (DAT_0047ec20 != (undefined *)0x0)) {
        free(&_Memory_0047e750);
      }
    }
  }
  ___security_check_cookie_4(local_44 ^ (uint)auStack_1b4);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_0043a280(HWND param_1,uint param_2,HDROP param_3,uint param_4)

{
  int iVar1;
  int iVar2;
  UINT UVar3;
  HDROP pHVar4;
  uint uVar5;
  BOOL bRepaint;
  undefined auStack_5c [4];
  HDROP local_58;
  uint uStack_54;
  tagPAINTSTRUCT tStack_50;
  uint local_c;
  
  local_c = DAT_0047a940 ^ (uint)auStack_5c;
  local_58 = param_3;
  if (param_2 < 0x201) {
    switch(param_2) {
    case 2:
      PostQuitMessage(0);
      _DAT_0047e61c = 1;
      DAT_0047e63c = 0;
      break;
    case 3:
    case 4:
    case 5:
    case 6:
    case 9:
    case 10:
    case 0xb:
    case 0xc:
    case 0xd:
    case 0xe:
switchD_0043a2c8_caseD_3:
      DefWindowProcA(param_1,param_2,(WPARAM)param_3,param_4);
      ___security_check_cookie_4(local_c ^ (uint)auStack_5c);
      return;
    case 7:
      _DAT_0047ac98 = 1;
      if (_DAT_0047ac6c == 1) {
        _DAT_0047e21c = 0x9c;
        _DAT_0047e264 = 0x280;
        _DAT_0047e268 = 0x1e0;
        _DAT_0047e220 = 0x180000;
        ChangeDisplaySettingsA((DEVMODEA *)&lpDevMode_0047e1f8,4);
        SetWindowPos(DAT_0047de30,(HWND)0x0,0,0,0,0,3);
        do {
          iVar1 = ShowCursor(0);
        } while (-1 < iVar1);
      }
      break;
    case 8:
      _DAT_0047ac98 = 0;
      if (_DAT_0047ac6c == 1) {
        ChangeDisplaySettingsA((DEVMODEA *)0x0,0);
        ShowWindow(DAT_0047de30,7);
        do {
          iVar1 = ShowCursor(1);
        } while (iVar1 < 0);
      }
      break;
    case 0xf:
      if (DAT_0047de50 != (HDC)0x0) {
        if (DAT_0047e634 == 0) {
          BeginPaint(DAT_0047de30,&tStack_50);
          if (DAT_0047ac80 == DAT_0047ac78) {
            BitBlt(DAT_0047de50,0,0,DAT_0047ac74,DAT_0047ac78,DAT_0047b6c0,0,0,0xcc0020);
            EndPaint(DAT_0047de30,&tStack_50);
          }
          else {
            StretchDIBits(DAT_0047de50,0,0,DAT_0047ac7c,DAT_0047ac80,0,0,DAT_0047ac74,DAT_0047ac78,
                          ppvBits_0047c2bc,(BITMAPINFO *)&lpbmi_0047b694,0,0xcc0020);
            EndPaint(DAT_0047de30,&tStack_50);
          }
        }
        else if (DAT_0047e634 == 1) {
          BeginPaint(DAT_0047de30,&tStack_50);
          EndPaint(DAT_0047de30,&tStack_50);
        }
      }
      break;
    default:
      if (((_DAT_0047ac6c == 0) && (((uint)param_3 & 1) != 0)) &&
         (_DAT_0047e1f0 + DAT_0047ac7c != 0)) {
        GetWindowRect(param_1,(LPRECT)&lpRect_0047de3c);
        pHVar4 = (HDROP)(param_4 & 0xffff);
        uVar5 = (int)param_4 >> 0x10 & 0xffff;
        _DAT_0047de34 = (int)pHVar4 - _DAT_0047e1f0;
        _DAT_0047de38 = uVar5 - _DAT_0047e1f4;
        local_58 = pHVar4;
        uStack_54 = uVar5;
        if (DAT_0047f114 == 1) {
          MoveWindow(param_1,(int)lpRect_0047de3c + _DAT_0047de34,DAT_0047de40 + _DAT_0047de38,
                     DAT_0047ac7c,DAT_0047ac80,1);
        }
        else {
          iVar1 = GetSystemMetrics(8);
          bRepaint = 1;
          iVar2 = GetSystemMetrics(4);
          iVar1 = iVar2 + iVar1 * 2 + DAT_0047ac80;
          iVar2 = GetSystemMetrics(7);
          MoveWindow(param_1,(int)&lpRect_0047de3c->left + _DAT_0047de34,
                     DAT_0047de40 + _DAT_0047de38,DAT_0047ac7c + iVar2 * 2,iVar1,bRepaint);
          pHVar4 = local_58;
          uVar5 = uStack_54;
        }
        _DAT_0047e1f0 = (int)pHVar4 - _DAT_0047de34;
        _DAT_0047e1f4 = uVar5 - _DAT_0047de38;
      }
    }
  }
  else if (param_2 == 0x201) {
    _DAT_0047e1f0 = param_4 & 0xffff;
    _DAT_0047e1f4 = (int)param_4 >> 0x10 & 0xffff;
  }
  else if (param_2 == 0x233) {
    SetForegroundWindow(DAT_0047de30);
    pHVar4 = local_58;
    UVar3 = DragQueryFileA(local_58,0xffffffff,(LPSTR)0x0,0);
    if (UVar3 == 1) {
      DragQueryFileA(pHVar4,0,(LPSTR)&_Src_0047e640,0x100);
      DragFinish(pHVar4);
      _DAT_0047e624 = 1;
      DAT_0047e63c = 0;
    }
    else {
      MessageBoxA(DAT_0047de30,(LPCSTR)&lpText_004628dc,(LPCSTR)&lpCaption_004628cc,0);
      _DAT_0047e624 = 0;
      DAT_0047e63c = 0;
    }
  }
  else {
    if (param_2 != 0x3bd) goto switchD_0043a2c8_caseD_3;
    DAT_0047e620 = 1;
  }
  ___security_check_cookie_4(local_c ^ (uint)auStack_5c);
  return;
}



void FUN_0043a6e0(void)

{
  DWORD DVar1;
  BOOL BVar2;
  int unaff_EDI;
  tagMSG local_24;
  uint local_8;
  
  DVar1 = timeGetTime();
  local_8 = DVar1 + unaff_EDI;
  do {
    BVar2 = PeekMessageA(&local_24,(HWND)0x0,0,0,1);
    if (BVar2 != 0) {
      TranslateMessage(&local_24);
      DispatchMessageA(&local_24);
    }
    if (unaff_EDI != 0) {
      Sleep(1);
    }
    DVar1 = timeGetTime();
  } while (DVar1 < local_8);
  return;
}



undefined4 __cdecl
FUN_0043a740(LPCSTR param_1,void **param_2,undefined4 *param_3,int *param_4,int *param_5)

{
  byte bVar1;
  int iVar2;
  HANDLE hFile;
  DWORD dwBytes;
  short *lpBuffer;
  void *pvVar3;
  short *psVar4;
  uint uVar5;
  undefined2 *puVar6;
  int iVar7;
  int iVar8;
  undefined4 *puVar9;
  undefined2 *puVar10;
  undefined4 *puVar11;
  DWORD local_20;
  int local_1c;
  int local_18;
  int local_14;
  uint local_10;
  uint local_c;
  short *local_8;
  
  hFile = CreateFileA(param_1,0x80000000,0,(LPSECURITY_ATTRIBUTES)0x0,3,0x80,(HANDLE)0x0);
  if (hFile == (HANDLE)0xffffffff) {
    MessageBoxA((HWND)0x0,(LPCSTR)&lpText_004628fc,param_1,0);
    return 0xffffffff;
  }
  dwBytes = GetFileSize(hFile,(LPDWORD)0x0);
  lpBuffer = (short *)HeapAlloc(DAT_0047e610,8,dwBytes);
  local_8 = lpBuffer;
  ReadFile(hFile,lpBuffer,dwBytes,&local_20,(LPOVERLAPPED)0x0);
  CloseHandle(hFile);
  local_c = (uint)(ushort)lpBuffer[0xe];
  if ((*lpBuffer == 0x4d42) && ((local_c == 0x18 || (local_c == 8)))) {
    iVar2 = *(int *)(lpBuffer + 9);
    iVar8 = *(int *)(lpBuffer + 0xb);
    local_10 = ((int)local_c >> 3) * iVar2;
    local_18 = *(int *)(lpBuffer + 5) + (int)lpBuffer;
    uVar5 = local_10 & 0x80000003;
    if ((int)uVar5 < 0) {
      uVar5 = (uVar5 - 1 | 0xfffffffc) + 1;
    }
    if (uVar5 != 0) {
      local_10 = (local_10 - uVar5) + 4;
    }
    local_14 = iVar8;
    pvVar3 = calloc(1,iVar8 * iVar2 * 4);
    *param_2 = pvVar3;
    if (local_c == 8) {
      if (0 < iVar8) {
        local_1c = -iVar2;
        iVar8 = (iVar8 + -1) * iVar2 + local_18;
        local_10 = 0;
        local_18 = local_14;
        do {
          iVar7 = 0;
          if (0 < iVar2) {
            local_c = local_10;
            do {
              bVar1 = *(byte *)(iVar8 + iVar7);
              psVar4 = (short *)((int)*param_2 + local_c);
              local_c = local_c + 4;
              *psVar4 = lpBuffer[(uint)bVar1 * 2 + 0x1b];
              iVar7 = iVar7 + 1;
              *(undefined *)(psVar4 + 1) = *(undefined *)(lpBuffer + (uint)bVar1 * 2 + 0x1b + 1);
              lpBuffer = local_8;
            } while (iVar7 < iVar2);
          }
          local_10 = local_10 + iVar2 * 4;
          iVar8 = iVar8 + local_1c;
          local_18 = local_18 + -1;
        } while (local_18 != 0);
      }
    }
    else if ((local_c == 0x18) && (0 < iVar8)) {
      local_1c = -local_10;
      puVar10 = (undefined2 *)((iVar8 + -1) * local_10 + local_18);
      local_c = 0;
      local_18 = iVar8;
      do {
        puVar6 = puVar10;
        uVar5 = local_c;
        iVar8 = iVar2;
        if (0 < iVar2) {
          do {
            local_10 = iVar8;
            pvVar3 = *param_2;
            *(undefined2 *)((int)pvVar3 + uVar5) = *puVar6;
            *(undefined *)((int)pvVar3 + uVar5 + 2) = *(undefined *)(puVar6 + 1);
            puVar6 = (undefined2 *)((int)puVar6 + 3);
            uVar5 = uVar5 + 4;
            iVar8 = local_10 + -1;
          } while (local_10 + -1 != 0);
          local_10 = 0;
        }
        local_c = local_c + iVar2 * 4;
        puVar10 = (undefined2 *)((int)puVar10 + local_1c);
        local_18 = local_18 + -1;
      } while (local_18 != 0);
      local_18 = 0;
      lpBuffer = local_8;
    }
    puVar9 = (undefined4 *)(lpBuffer + 7);
    puVar11 = param_3;
    for (iVar8 = 10; iVar8 != 0; iVar8 = iVar8 + -1) {
      *puVar11 = *puVar9;
      puVar9 = puVar9 + 1;
      puVar11 = puVar11 + 1;
    }
    *(undefined2 *)((int)param_3 + 0xe) = 0x20;
    HeapFree(DAT_0047e610,0,local_8);
    if (param_4 != (int *)0x0) {
      *param_4 = iVar2;
    }
    if (param_5 != (int *)0x0) {
      *param_5 = local_14;
    }
    return 0;
  }
  HeapFree(DAT_0047e610,0,lpBuffer);
  MessageBoxA((HWND)0x0,(LPCSTR)&lpText_00462914,param_1,0);
  return 0xfffffffe;
}



void FUN_0043a990(void)

{
  BOOL BVar1;
  undefined *unaff_ESI;
  DWORD local_5c;
  HWND local_58;
  LPCSTR local_50;
  DWORD local_44;
  
  *unaff_ESI = 0;
  memset(&local_5c,0,0x58);
  local_5c = 0x58;
  local_58 = DAT_0047de30;
  local_50 = &DAT_00462940;
  local_44 = 0;
  BVar1 = GetOpenFileNameA((LPOPENFILENAMEA)&local_5c);
  if (BVar1 == 0) {
    *unaff_ESI = 0;
  }
  CommDlgExtendedError();
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 * __fastcall FUN_0043aa00(undefined4 *param_1)

{
  undefined4 *in_EAX;
  undefined4 *puVar1;
  int iVar2;
  undefined4 *puVar3;
  
  if (_DAT_0047e61c != 0) {
    return (undefined4 *)0x0;
  }
  do {
    puVar3 = param_1;
    if (puVar3[0x134] == 0) {
      puVar1 = puVar3;
      for (iVar2 = 0x134; iVar2 != 0; iVar2 = iVar2 + -1) {
        *puVar1 = *in_EAX;
        in_EAX = in_EAX + 1;
        puVar1 = puVar1 + 1;
      }
      puVar3[0x134] = puVar3;
      puVar3[0x135] = 0;
      return puVar3;
    }
    param_1 = (undefined4 *)puVar3[0x135];
  } while ((undefined4 *)puVar3[0x135] != (undefined4 *)0x0);
  puVar1 = (undefined4 *)calloc(1,0x4f0);
  puVar3[0x135] = puVar1;
  if (puVar1 != (undefined4 *)0x0) {
    for (iVar2 = 0x134; iVar2 != 0; iVar2 = iVar2 + -1) {
      *puVar1 = *in_EAX;
      in_EAX = in_EAX + 1;
      puVar1 = puVar1 + 1;
    }
    *(undefined4 **)(puVar3[0x135] + 0x4d0) = puVar3;
    *(undefined4 *)(puVar3[0x135] + 0x4d4) = 0;
    return (undefined4 *)puVar3[0x135];
  }
  MessageBoxA((HWND)0x0,(LPCSTR)((int)&lpDefault_00462986 + 2),"Error",0);
  _DAT_0047e61c = 1;
  return (undefined4 *)0x0;
}



undefined4 __cdecl FUN_0043aac0(void *param_1)

{
  if (param_1 != (void *)0x0) {
    FUN_0043aac0(*(void **)((int)param_1 + 0x4d4));
    if ((*(void **)((int)param_1 + 0x4d0) != param_1) &&
       (*(void **)((int)param_1 + 0x4d0) != (void *)0x0)) {
      free(param_1);
    }
  }
  return 0;
}



void __cdecl FUN_0043ab00(int param_1)

{
  char cVar1;
  char *pcVar2;
  char *pcVar4;
  char *unaff_EBX;
  int iVar5;
  int iVar3;
  
  iVar5 = 0;
  pcVar2 = unaff_EBX;
  do {
    cVar1 = *pcVar2;
    pcVar2 = pcVar2 + 1;
  } while (cVar1 != '\0');
  if (pcVar2 != unaff_EBX + 1 && -1 < (int)pcVar2 - (int)(unaff_EBX + 1)) {
    pcVar2 = unaff_EBX;
    do {
      cVar1 = *pcVar2;
      if (('@' < cVar1) && (cVar1 < '[')) {
        iVar3 = tolower((int)cVar1);
        cVar1 = (char)iVar3;
      }
      pcVar2[param_1 - (int)unaff_EBX] = cVar1;
      iVar5 = iVar5 + 1;
      pcVar2 = pcVar2 + 1;
      pcVar4 = unaff_EBX;
      do {
        cVar1 = *pcVar4;
        pcVar4 = pcVar4 + 1;
      } while (cVar1 != '\0');
    } while (iVar5 < (int)pcVar4 - (int)(unaff_EBX + 1));
  }
  return;
}



undefined4 __cdecl FUN_0043ab70(int param_1)

{
  int in_EAX;
  
  if ((param_1 != 0) && (in_EAX != 0)) {
    return *(undefined4 *)(in_EAX + 0xc);
  }
  return 0;
}



// WARNING: Removing unreachable block (ram,0x0043ae45)

void FUN_0043ab90(void)

{
  uint uVar1;
  void *_Dst;
  int iVar2;
  void *pvVar3;
  undefined4 extraout_ECX;
  undefined4 uVar4;
  char *pcVar5;
  bool bVar6;
  
  uVar1 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  _Dst = malloc(0x2c4);
  if (_Dst == (void *)0x0) goto LAB_0043ae75;
  memset(_Dst,0,0x2c4);
  *(undefined4 *)((int)_Dst + 0x280) = 0x7fffffff;
  *(undefined4 *)((int)_Dst + 0x284) = 0x7fffffff;
  *(undefined4 *)((int)_Dst + 0x288) = 0;
  *(undefined4 *)((int)_Dst + 0x28c) = 0;
  if (_Dst == (void *)0x0) {
    pvVar3 = (void *)0x0;
  }
  else {
    *(undefined **)((int)_Dst + 0x40) = &DAT_0045d78e;
    pvVar3 = _Dst;
  }
  iVar2 = _setjmp3(pvVar3,0);
  if (iVar2 != 0) {
                    // WARNING: Subroutine does not return
    ExitProcess(0);
  }
  uVar4 = extraout_ECX;
  if (_Dst != (void *)0x0) {
    *(undefined4 *)((int)_Dst + 0x260) = 0;
    *(undefined4 *)((int)_Dst + 0x264) = 0;
    *(undefined4 *)((int)_Dst + 0x268) = 0;
    uVar4 = 0;
    *(undefined4 *)((int)_Dst + 0x4c) = 0;
    *(undefined4 *)((int)_Dst + 0x44) = 0;
    *(undefined4 *)((int)_Dst + 0x48) = 0;
  }
  iVar2 = FUN_0043c160(uVar4,"1.5.12",(int)_Dst);
  bVar6 = iVar2 == 0;
  if (!bVar6) {
    *(undefined4 *)((int)_Dst + 0xb4) = 0x2000;
    pvVar3 = FUN_0043e420(*(size_t *)((int)_Dst + 0xb4));
    *(void **)((int)_Dst + 0xb0) = pvVar3;
    if (*(int *)((int)_Dst + 0xb0) == 0) {
      bVar6 = true;
    }
  }
  *(code **)((int)_Dst + 0x98) = FUN_0043c040;
  *(code **)((int)_Dst + 0x9c) = FUN_0043c0c0;
  *(void **)((int)_Dst + 0xa0) = _Dst;
  if (!bVar6) {
    iVar2 = FUN_004480c0();
    switch(iVar2) {
    case 0:
      goto switchD_0043adaf_caseD_0;
    case -6:
      pcVar5 = "zlib version error";
      break;
    default:
      pcVar5 = "Unknown zlib error";
      break;
    case -4:
      pcVar5 = "zlib memory error";
      break;
    case -2:
      pcVar5 = "zlib stream error";
    }
    FUN_0043df90(pcVar5);
    bVar6 = true;
  }
switchD_0043adaf_caseD_0:
  if (!bVar6) {
    *(undefined4 *)((int)_Dst + 0x84) = *(undefined4 *)((int)_Dst + 0xb0);
    *(undefined4 *)((int)_Dst + 0x88) = *(undefined4 *)((int)_Dst + 0xb4);
    FUN_0043e4c0();
    ___security_check_cookie_4(uVar1 ^ (uint)&stack0xfffffffc);
    return;
  }
  if ((_Dst != (void *)0x0) && (*(void **)((int)_Dst + 0xb0) != (void *)0x0)) {
    if (*(code **)((int)_Dst + 0x268) == (code *)0x0) {
      free(*(void **)((int)_Dst + 0xb0));
    }
    else {
      (**(code **)((int)_Dst + 0x268))(_Dst);
    }
  }
  *(undefined4 *)((int)_Dst + 0xb0) = 0;
  if (_Dst != (void *)0x0) {
    free(_Dst);
  }
LAB_0043ae75:
  ___security_check_cookie_4(uVar1 ^ (uint)&stack0xfffffffc);
  return;
}



void __cdecl FUN_0043aef0(char *param_1)

{
  void *in_EAX;
  char *pcVar1;
  int iVar2;
  uint uVar3;
  undefined4 extraout_ECX;
  char *pcVar4;
  
  if ((in_EAX == (void *)0x0) || (param_1 == (char *)0x0)) {
    return;
  }
  FUN_0043e530((int)param_1);
LAB_0043af14:
  while( true ) {
    pcVar1 = (char *)FUN_0043e5e0((int)in_EAX);
    pcVar4 = *(char **)((int)in_EAX + 0x100);
    if (pcVar4 == (char *)0x49444154) break;
    if (pcVar4 == (char *)0x49484452) {
      FUN_0043ecc0(param_1,(int)pcVar1);
    }
    else {
      if (pcVar4 != (char *)0x49454e44) goto LAB_0043af3a;
      uVar3 = *(uint *)((int)in_EAX + 0x6c);
      if (((uVar3 & 1) == 0) || ((uVar3 & 4) == 0)) {
        uVar3 = FUN_0043de50();
LAB_0043b1d2:
        if (*(char *)((int)in_EAX + 0x13b) != '\x03') {
          return;
        }
        if ((uVar3 & 2) != 0) {
          return;
        }
        FUN_0043de50();
LAB_0043b1eb:
        uVar3 = *(uint *)((int)in_EAX + 0x6c);
        if ((uVar3 & 1) == 0) {
          uVar3 = FUN_0043de50();
        }
        if ((*(char *)((int)in_EAX + 0x13b) == '\x03') && ((uVar3 & 2) == 0)) {
          uVar3 = FUN_0043de50();
        }
        *(char **)((int)in_EAX + 0x120) = pcVar1;
        *(uint *)((int)in_EAX + 0x6c) = uVar3 | 4;
        return;
      }
      *(uint *)((int)in_EAX + 0x6c) = uVar3 | 0x18;
      if (pcVar1 != (char *)0x0) {
        FUN_0043df90("Incorrect IEND chunk length");
      }
      FUN_0043e780(in_EAX,(uint)pcVar1);
    }
  }
  if ((*(uint *)((int)in_EAX + 0x6c) & 8) != 0) {
    *(uint *)((int)in_EAX + 0x6c) = *(uint *)((int)in_EAX + 0x6c) | 0x2000;
  }
LAB_0043af3a:
  iVar2 = FUN_0043c9e0(extraout_ECX,(int)in_EAX,pcVar4);
  if (iVar2 != 0) {
    if (pcVar4 == (char *)0x49444154) {
      *(uint *)((int)in_EAX + 0x6c) = *(uint *)((int)in_EAX + 0x6c) | 4;
    }
    FUN_00441d20(in_EAX);
    if (pcVar4 == (char *)0x504c5445) {
      *(uint *)((int)in_EAX + 0x6c) = *(uint *)((int)in_EAX + 0x6c) | 2;
      goto LAB_0043af14;
    }
    if (pcVar4 != (char *)0x49444154) goto LAB_0043af14;
    uVar3 = *(uint *)((int)in_EAX + 0x6c);
    if ((uVar3 & 1) != 0) goto LAB_0043b1d2;
    pcVar4 = "Missing IHDR before IDAT";
    FUN_0043de50();
  }
  if (pcVar4 == (char *)0x504c5445) {
    FUN_0043eee0(pcVar1,in_EAX,param_1);
  }
  else {
    if (pcVar4 == (char *)0x49444154) goto LAB_0043b1eb;
    if (pcVar4 == (char *)0x624b4744) {
      FUN_004406c0((uint)pcVar1);
    }
    else if (pcVar4 == (char *)0x6348524d) {
      FUN_0043f4a0((uint)pcVar1,in_EAX,param_1);
    }
    else if (pcVar4 == (char *)0x67414d41) {
      FUN_0043f150((uint)pcVar1,param_1);
    }
    else if (pcVar4 == (char *)0x68495354) {
      FUN_004408b0((uint)pcVar1,param_1);
    }
    else if (pcVar4 == (char *)0x6f464673) {
      FUN_00440c10((uint)pcVar1,param_1);
    }
    else if (pcVar4 == (char *)0x7043414c) {
      FUN_00440dc0(in_EAX,(int)param_1);
    }
    else if (pcVar4 == (char *)0x7343414c) {
      FUN_004411c0(in_EAX,(int)param_1,(uint)pcVar1);
    }
    else if (pcVar4 == (char *)0x70485973) {
      FUN_00440a90((uint)pcVar1,param_1);
    }
    else if (pcVar4 == (char *)0x73424954) {
      FUN_0043f340((uint)pcVar1);
    }
    else if (pcVar4 == (char *)0x73524742) {
      FUN_0043fb10(pcVar1,param_1);
    }
    else if (pcVar4 == (char *)0x69434350) {
      FUN_0043fdc0(in_EAX,param_1,pcVar1);
    }
    else if (pcVar4 == (char *)0x73504c54) {
      FUN_004400b0(in_EAX,(int)param_1);
    }
    else if (pcVar4 == (char *)0x74455874) {
      FUN_00441520(in_EAX,(int)param_1);
    }
    else if (pcVar4 == (char *)0x74494d45) {
      FUN_004413b0((uint)pcVar1,param_1);
    }
    else if (pcVar4 == (char *)0x74524e53) {
      FUN_00440420((int)param_1,pcVar1,in_EAX);
    }
    else if (pcVar4 == (char *)0x7a545874) {
      FUN_00441780((int)param_1,pcVar1);
    }
    else if (pcVar4 == (char *)0x69545874) {
      FUN_00441a20(in_EAX,(int)param_1);
    }
    else {
      FUN_00441d20(in_EAX);
    }
  }
  goto LAB_0043af14;
}



void __fastcall FUN_0043b230(void *param_1,undefined4 *param_2)

{
  void *this;
  byte bVar1;
  uint uVar2;
  int iVar3;
  uint extraout_ECX;
  uint extraout_ECX_00;
  uint extraout_ECX_01;
  uint extraout_ECX_02;
  uint extraout_ECX_03;
  uint extraout_ECX_04;
  uint extraout_ECX_05;
  uint extraout_ECX_06;
  uint uVar4;
  uint extraout_EDX;
  char *pcVar5;
  uint local_14;
  uint local_10;
  undefined local_c;
  undefined local_b;
  undefined local_a;
  byte local_9;
  uint local_8;
  
  local_8 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  if (param_1 != (void *)0x0) {
    if ((*(byte *)((int)param_1 + 0x70) & 0x40) == 0) {
      FUN_00442cc0();
    }
    local_c = *(undefined *)((int)param_1 + 0x13b);
    local_b = *(undefined *)((int)param_1 + 0x13c);
    uVar2 = *(uint *)((int)param_1 + 0xf8);
    local_a = *(undefined *)((int)param_1 + 0x13f);
    local_9 = *(byte *)((int)param_1 + 0x13e);
    uVar4 = (uint)local_9;
    if (local_9 < 8) {
      local_10 = uVar4 * uVar2 + 7 >> 3;
    }
    else {
      local_10 = (local_9 >> 3) * uVar2;
    }
    local_14 = uVar2;
    if ((*(char *)((int)param_1 + 0x138) != '\0') && ((*(byte *)((int)param_1 + 0x74) & 2) != 0)) {
      switch(*(undefined *)((int)param_1 + 0x139)) {
      case 0:
        if ((*(byte *)((int)param_1 + 0xfc) & 7) != 0) {
LAB_0043b2ea:
          FUN_00442a90(uVar2);
          ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
          return;
        }
        break;
      case 1:
        if (((*(byte *)((int)param_1 + 0xfc) & 7) != 0) || (*(uint *)((int)param_1 + 0xe4) < 5)) {
          FUN_00442a90(uVar2);
          ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
          return;
        }
        break;
      case 2:
        if (((byte)*(undefined4 *)((int)param_1 + 0xfc) & 7) != 4) {
          FUN_00442a90(uVar2);
          ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
          return;
        }
        break;
      case 3:
        if (((*(byte *)((int)param_1 + 0xfc) & 3) != 0) || (*(uint *)((int)param_1 + 0xe4) < 3)) {
          FUN_00442a90(uVar2);
          ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
          return;
        }
        break;
      case 4:
        if (((byte)*(undefined4 *)((int)param_1 + 0xfc) & 3) != 2) {
          FUN_00442a90(uVar2);
          ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
          return;
        }
        break;
      case 5:
        if (((*(byte *)((int)param_1 + 0xfc) & 1) != 0) || (*(uint *)((int)param_1 + 0xe4) < 2)) {
          FUN_00442a90(uVar2);
          ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
          return;
        }
        break;
      default:
        if ((*(byte *)((int)param_1 + 0xfc) & 1) == 0) goto LAB_0043b2ea;
      }
    }
    pcVar5 = (char *)param_2;
    if ((*(byte *)((int)param_1 + 0x6c) & 4) == 0) {
      pcVar5 = "Invalid attempt to read row data";
      FUN_0043de50();
      uVar2 = extraout_ECX;
      uVar4 = extraout_EDX;
    }
    *(undefined4 *)((int)param_1 + 0x84) = *(undefined4 *)((int)param_1 + 0x108);
    if ((byte)uVar4 < 8) {
      uVar2 = (uVar4 & 0xff) * uVar2 + 7 >> 3;
    }
    else {
      uVar2 = ((uVar4 & 0xff) >> 3) * uVar2;
    }
    *(uint *)((int)param_1 + 0x88) = uVar2 + 1;
    do {
      if (*(int *)((int)param_1 + 0x7c) == 0) {
        iVar3 = *(int *)((int)param_1 + 0x120);
        while (iVar3 == 0) {
          FUN_0043e780(param_1,0);
          iVar3 = FUN_0043e5e0((int)param_1);
          *(int *)((int)param_1 + 0x120) = iVar3;
          if (*(int *)((int)param_1 + 0x100) != 0x49444154) goto LAB_0043b575;
        }
        this = *(void **)((int)param_1 + 0xb0);
        *(uint *)((int)param_1 + 0x7c) = *(uint *)((int)param_1 + 0xb4);
        *(void **)((int)param_1 + 0x78) = this;
        if (*(uint *)((int)param_1 + 0x120) < *(uint *)((int)param_1 + 0xb4)) {
          *(uint *)((int)param_1 + 0x7c) = *(uint *)((int)param_1 + 0x120);
        }
        if (*(code **)((int)param_1 + 0x54) == (code *)0x0) goto LAB_0043b581;
        (**(code **)((int)param_1 + 0x54))(param_1,this,*(undefined4 *)((int)param_1 + 0x7c));
        FUN_0043c0f0(this,(int)param_1);
        *(int *)((int)param_1 + 0x120) =
             *(int *)((int)param_1 + 0x120) - *(int *)((int)param_1 + 0x7c);
        pcVar5 = (char *)param_2;
      }
      iVar3 = FUN_00448250((uint **)((int)param_1 + 0x78));
      if (iVar3 == 1) goto LAB_0043b58d;
      if (iVar3 != 0) goto LAB_0043b5d1;
    } while (*(int *)((int)param_1 + 0x88) != 0);
    do {
      bVar1 = **(byte **)((int)param_1 + 0x108);
      if (bVar1 != 0) {
        if (4 < bVar1) goto LAB_0043b5e9;
        FUN_00442a20((uint)bVar1);
      }
      memcpy(*(void **)((int)param_1 + 0x104),*(void **)((int)param_1 + 0x108),local_10 + 1);
      uVar2 = extraout_ECX_00;
      if (((*(byte *)((int)param_1 + 600) & 4) != 0) && (*(char *)((int)param_1 + 0x25c) == '@')) {
        FUN_00446c60(*(int *)((int)param_1 + 0x108) + 1);
        uVar2 = extraout_ECX_01;
      }
      if (*(int *)((int)param_1 + 0x74) != 0) {
        FUN_00443f20(&local_14);
        uVar2 = extraout_ECX_02;
      }
      bVar1 = *(byte *)((int)param_1 + 0x143);
      if (bVar1 != 0) goto LAB_0043b5f5;
      *(byte *)((int)param_1 + 0x143) = local_9;
      if (local_9 < *(byte *)((int)param_1 + 0x142) || local_9 == *(byte *)((int)param_1 + 0x142))
      goto LAB_0043b606;
      FUN_0043de50();
LAB_0043b575:
      FUN_0043de50();
LAB_0043b581:
      pcVar5 = s_Call_to_NULL_read_function_0046969c;
      FUN_0043de50();
LAB_0043b58d:
      if (((*(int *)((int)param_1 + 0x88) != 0) || (*(int *)((int)param_1 + 0x7c) != 0)) ||
         (*(int *)((int)param_1 + 0x120) != 0)) {
        if ((*(uint *)((int)param_1 + 0x70) & 0x800000) == 0) goto LAB_0043b5c7;
        FUN_0043df90("Extra compressed data");
      }
      *(uint *)((int)param_1 + 0x6c) = *(uint *)((int)param_1 + 0x6c) | 8;
      *(uint *)((int)param_1 + 0x70) = *(uint *)((int)param_1 + 0x70) | 0x20;
    } while( true );
  }
  goto LAB_0043b675;
LAB_0043b5c7:
  FUN_0043de50();
LAB_0043b5d1:
  FUN_0043de50();
LAB_0043b5e9:
  pcVar5 = "bad adaptive filter value";
  bVar1 = FUN_0043de50();
  uVar2 = extraout_ECX_03;
LAB_0043b5f5:
  if (bVar1 != local_9) {
    pcVar5 = "internal sequential row size calculation error";
    FUN_0043de50();
    uVar2 = extraout_ECX_04;
  }
LAB_0043b606:
  if ((*(char *)((int)param_1 + 0x138) == '\0') || ((*(uint *)((int)param_1 + 0x74) & 2) == 0)) {
    if ((undefined4 *)pcVar5 != (undefined4 *)0x0) {
      iVar3 = -1;
      goto LAB_0043b646;
    }
  }
  else {
    if (*(byte *)((int)param_1 + 0x139) < 6) {
      FUN_004423c0(*(int *)((int)param_1 + 0x108) + 1,*(uint *)((int)param_1 + 0x74),&local_14,
                   (uint)*(byte *)((int)param_1 + 0x139));
      uVar2 = extraout_ECX_05;
    }
    if ((undefined4 *)pcVar5 != (undefined4 *)0x0) {
      iVar3 = 0;
LAB_0043b646:
      FUN_00441f00((undefined4 *)pcVar5,iVar3);
      uVar2 = extraout_ECX_06;
    }
  }
  FUN_00442a90(uVar2);
  if (*(code **)((int)param_1 + 0x1b4) != (code *)0x0) {
    (**(code **)((int)param_1 + 0x1b4))
              (param_1,*(undefined4 *)((int)param_1 + 0xfc),*(undefined *)((int)param_1 + 0x139));
  }
LAB_0043b675:
  ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __cdecl FUN_0043b6a0(undefined4 *param_1)

{
  int iVar1;
  int iVar2;
  undefined4 *puVar3;
  int iVar4;
  void *unaff_EDI;
  
  if (unaff_EDI == (void *)0x0) {
    return;
  }
  if ((*(byte *)((int)unaff_EDI + 0x70) & 0x40) == 0) {
    if (*(char *)((int)unaff_EDI + 0x138) == '\0') {
      iVar4 = 1;
      FUN_00442cc0();
    }
    else {
      *(uint *)((int)unaff_EDI + 0x74) = *(uint *)((int)unaff_EDI + 0x74) | 2;
      iVar4 = 7;
      FUN_00442cc0();
    }
  }
  else {
    if (*(char *)((int)unaff_EDI + 0x138) != '\0') {
      if ((*(byte *)((int)unaff_EDI + 0x74) & 2) == 0) {
        FUN_0043df90("Interlace handling should be turned on when using png_read_image");
        *(undefined4 *)((int)unaff_EDI + 0xec) = *(undefined4 *)((int)unaff_EDI + 0xe8);
      }
      if (*(char *)((int)unaff_EDI + 0x138) != '\0') {
        *(uint *)((int)unaff_EDI + 0x74) = *(uint *)((int)unaff_EDI + 0x74) | 2;
        iVar4 = 7;
        goto LAB_0043b722;
      }
    }
    iVar4 = 1;
  }
LAB_0043b722:
  iVar1 = *(int *)((int)unaff_EDI + 0xe8);
  for (; iVar2 = iVar1, puVar3 = param_1, iVar4 != 0; iVar4 = iVar4 + -1) {
    for (; iVar2 != 0; iVar2 = iVar2 + -1) {
      FUN_0043b230(unaff_EDI,(undefined4 *)*puVar3);
      puVar3 = puVar3 + 1;
    }
  }
  return;
}



void __cdecl FUN_0043b760(char *param_1)

{
  uint uVar1;
  code *pcVar2;
  void *in_EAX;
  char *pcVar3;
  int iVar4;
  undefined4 extraout_ECX;
  undefined4 extraout_ECX_00;
  undefined4 uVar5;
  int unaff_EBX;
  
  if (in_EAX != (void *)0x0) {
    FUN_0043e780(in_EAX,0);
    if ((*(char *)((int)in_EAX + 0x13b) == '\x03') &&
       (*(uint *)((int)in_EAX + 0x130) != (uint)*(ushort *)((int)in_EAX + 300) &&
        (int)(uint)*(ushort *)((int)in_EAX + 300) <= (int)*(uint *)((int)in_EAX + 0x130))) {
      if ((*(uint *)((int)in_EAX + 0x70) & 0x800000) == 0) {
        pcVar3 = "Read palette index exceeding num_palette";
        FUN_0043de50();
        uVar5 = extraout_ECX_00;
        goto LAB_0043b7e3;
      }
      FUN_0043df90("Read palette index exceeding num_palette");
    }
    do {
      pcVar3 = (char *)FUN_0043e5e0((int)in_EAX);
      unaff_EBX = *(int *)((int)in_EAX + 0x100);
      uVar5 = extraout_ECX;
      if (unaff_EBX == 0x49484452) {
        FUN_0043ecc0(param_1,(int)pcVar3);
      }
      else {
LAB_0043b7e3:
        if (unaff_EBX == 0x49454e44) {
          uVar1 = *(uint *)((int)in_EAX + 0x6c);
          if (((uVar1 & 1) == 0) || ((uVar1 & 4) == 0)) {
            FUN_0043de50();
LAB_0043ba8e:
            FUN_0043de50();
            pcVar2 = (code *)swi(3);
            (*pcVar2)();
            return;
          }
          *(uint *)((int)in_EAX + 0x6c) = uVar1 | 0x18;
          if (pcVar3 != (char *)0x0) {
            FUN_0043df90("Incorrect IEND chunk length");
          }
          FUN_0043e780(in_EAX,(uint)pcVar3);
        }
        else {
          iVar4 = FUN_0043c9e0(uVar5,(int)in_EAX,unaff_EBX);
          if (iVar4 == 0) {
            if (unaff_EBX == 0x49444154) {
              if ((pcVar3 != (char *)0x0) || ((*(uint *)((int)in_EAX + 0x6c) & 0x2000) != 0)) {
                if ((*(uint *)((int)in_EAX + 0x70) & 0x800000) == 0) goto LAB_0043ba8e;
                FUN_0043df90("Too many IDATs found");
              }
              FUN_0043e780(in_EAX,(uint)pcVar3);
            }
            else if (unaff_EBX == 0x504c5445) {
              FUN_0043eee0(pcVar3,in_EAX,param_1);
            }
            else if (unaff_EBX == 0x624b4744) {
              FUN_004406c0((uint)pcVar3);
            }
            else if (unaff_EBX == 0x6348524d) {
              FUN_0043f4a0((uint)pcVar3,in_EAX,param_1);
            }
            else if (unaff_EBX == 0x67414d41) {
              FUN_0043f150((uint)pcVar3,param_1);
            }
            else if (unaff_EBX == 0x68495354) {
              FUN_004408b0((uint)pcVar3,param_1);
            }
            else if (unaff_EBX == 0x6f464673) {
              FUN_00440c10((uint)pcVar3,param_1);
            }
            else if (unaff_EBX == 0x7043414c) {
              FUN_00440dc0(in_EAX,(int)param_1);
            }
            else if (unaff_EBX == 0x7343414c) {
              FUN_004411c0(in_EAX,(int)param_1,(uint)pcVar3);
            }
            else if (unaff_EBX == 0x70485973) {
              FUN_00440a90((uint)pcVar3,param_1);
            }
            else if (unaff_EBX == 0x73424954) {
              FUN_0043f340((uint)pcVar3);
            }
            else if (unaff_EBX == 0x73524742) {
              FUN_0043fb10(pcVar3,param_1);
            }
            else if (unaff_EBX == 0x69434350) {
              FUN_0043fdc0(in_EAX,param_1,pcVar3);
            }
            else if (unaff_EBX == 0x73504c54) {
              FUN_004400b0(in_EAX,(int)param_1);
            }
            else if (unaff_EBX == 0x74455874) {
              FUN_00441520(in_EAX,(int)param_1);
            }
            else if (unaff_EBX == 0x74494d45) {
              FUN_004413b0((uint)pcVar3,param_1);
            }
            else if (unaff_EBX == 0x74524e53) {
              FUN_00440420((int)param_1,pcVar3,in_EAX);
            }
            else if (unaff_EBX == 0x7a545874) {
              FUN_00441780((int)param_1,pcVar3);
            }
            else if (unaff_EBX == 0x69545874) {
              FUN_00441a20(in_EAX,(int)param_1);
            }
            else {
              FUN_00441d20(in_EAX);
            }
          }
          else {
            if ((unaff_EBX == 0x49444154) &&
               ((pcVar3 != (char *)0x0 || ((*(uint *)((int)in_EAX + 0x6c) & 0x2000) != 0)))) {
              if ((*(uint *)((int)in_EAX + 0x70) & 0x800000) == 0) goto LAB_0043ba8e;
              FUN_0043df90("Too many IDATs found");
            }
            FUN_00441d20(in_EAX);
            if (unaff_EBX == 0x504c5445) {
              *(uint *)((int)in_EAX + 0x6c) = *(uint *)((int)in_EAX + 0x6c) | 2;
            }
          }
        }
      }
    } while ((*(byte *)((int)in_EAX + 0x6c) & 0x10) == 0);
  }
  return;
}



void __thiscall FUN_0043baa0(void *this,void **param_1)

{
  void *_Memory;
  undefined4 uVar1;
  code *pcVar2;
  void *_Memory_00;
  undefined local_2cc [608];
  undefined4 local_6c;
  uint local_8;
  
  local_8 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  _Memory_00 = (void *)0x0;
  if ((param_1 != (void **)0x0) && (_Memory = *param_1, _Memory != (void *)0x0)) {
    uVar1 = *(undefined4 *)((int)_Memory + 0x260);
    pcVar2 = *(code **)((int)_Memory + 0x268);
    if (this != (void *)0x0) {
                    // WARNING: Load size is inaccurate
      _Memory_00 = *this;
    }
    FUN_0043bb90(0);
    if (_Memory_00 != (void *)0x0) {
      FUN_0043c360((int)_Memory,(int)_Memory_00,0x4000,-1);
      if (pcVar2 == (code *)0x0) {
        free(_Memory_00);
      }
      else {
        local_6c = uVar1;
        (*pcVar2)(local_2cc);
      }
      *(undefined4 *)this = 0;
    }
    if (pcVar2 == (code *)0x0) {
      free(_Memory);
    }
    else {
      local_6c = uVar1;
      (*pcVar2)(local_2cc);
    }
    *param_1 = (void *)0x0;
  }
  ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __cdecl FUN_0043bb90(int param_1)

{
  undefined4 uVar1;
  undefined4 uVar2;
  undefined4 uVar3;
  int in_EAX;
  int iVar4;
  undefined4 *unaff_EBX;
  undefined4 *puVar5;
  undefined4 *puVar6;
  undefined4 local_48 [16];
  undefined4 local_8;
  
  if (in_EAX != 0) {
    FUN_0043c950();
  }
  if (param_1 != 0) {
    FUN_0043c950();
  }
  FUN_0043da50();
  if ((void *)unaff_EBX[0x2c] != (void *)0x0) {
    if ((code *)unaff_EBX[0x9a] == (code *)0x0) {
      free((void *)unaff_EBX[0x2c]);
    }
    else {
      (*(code *)unaff_EBX[0x9a])();
    }
  }
  if ((void *)unaff_EBX[0x9b] != (void *)0x0) {
    if ((code *)unaff_EBX[0x9a] == (code *)0x0) {
      free((void *)unaff_EBX[0x9b]);
    }
    else {
      (*(code *)unaff_EBX[0x9a])();
    }
  }
  if ((void *)unaff_EBX[0xac] != (void *)0x0) {
    if ((code *)unaff_EBX[0x9a] == (code *)0x0) {
      free((void *)unaff_EBX[0xac]);
    }
    else {
      (*(code *)unaff_EBX[0x9a])();
    }
  }
  if ((void *)unaff_EBX[0xaa] != (void *)0x0) {
    if ((code *)unaff_EBX[0x9a] == (code *)0x0) {
      free((void *)unaff_EBX[0xaa]);
    }
    else {
      (*(code *)unaff_EBX[0x9a])();
    }
  }
  if ((void *)unaff_EBX[0x7e] != (void *)0x0) {
    if ((code *)unaff_EBX[0x9a] == (code *)0x0) {
      free((void *)unaff_EBX[0x7e]);
    }
    else {
      (*(code *)unaff_EBX[0x9a])();
    }
  }
  if ((void *)unaff_EBX[0x7f] != (void *)0x0) {
    if ((code *)unaff_EBX[0x9a] == (code *)0x0) {
      free((void *)unaff_EBX[0x7f]);
    }
    else {
      (*(code *)unaff_EBX[0x9a])();
    }
  }
  if (((unaff_EBX[0x8f] & 0x1000) != 0) && ((void *)unaff_EBX[0x4a] != (void *)0x0)) {
    if ((code *)unaff_EBX[0x9a] == (code *)0x0) {
      free((void *)unaff_EBX[0x4a]);
    }
    else {
      (*(code *)unaff_EBX[0x9a])();
    }
  }
  unaff_EBX[0x8f] = unaff_EBX[0x8f] & 0xffffefff;
  if (((unaff_EBX[0x8f] & 0x2000) != 0) && ((void *)unaff_EBX[0x69] != (void *)0x0)) {
    if ((code *)unaff_EBX[0x9a] == (code *)0x0) {
      free((void *)unaff_EBX[0x69]);
    }
    else {
      (*(code *)unaff_EBX[0x9a])();
    }
  }
  unaff_EBX[0x8f] = unaff_EBX[0x8f] & 0xffffdfff;
  if (((*(byte *)(unaff_EBX + 0x8f) & 8) != 0) && ((void *)unaff_EBX[0x80] != (void *)0x0)) {
    if ((code *)unaff_EBX[0x9a] == (code *)0x0) {
      free((void *)unaff_EBX[0x80]);
    }
    else {
      (*(code *)unaff_EBX[0x9a])();
    }
  }
  unaff_EBX[0x8f] = unaff_EBX[0x8f] & 0xfffffff7;
  if (((unaff_EBX != (undefined4 *)0xffffff88) && (unaff_EBX[0x25] != 0)) &&
     ((code *)unaff_EBX[0x27] != (code *)0x0)) {
    iVar4 = *(int *)(unaff_EBX[0x25] + 0x34);
    if (iVar4 != 0) {
      (*(code *)unaff_EBX[0x27])(unaff_EBX[0x28],iVar4);
    }
    (*(code *)unaff_EBX[0x27])(unaff_EBX[0x28],unaff_EBX[0x25]);
    unaff_EBX[0x25] = 0;
  }
  if ((void *)unaff_EBX[0x73] != (void *)0x0) {
    if ((code *)unaff_EBX[0x9a] == (code *)0x0) {
      free((void *)unaff_EBX[0x73]);
    }
    else {
      (*(code *)unaff_EBX[0x9a])();
    }
  }
  local_8 = unaff_EBX[0x9a];
  puVar5 = unaff_EBX;
  puVar6 = local_48;
  for (iVar4 = 0x10; iVar4 != 0; iVar4 = iVar4 + -1) {
    *puVar6 = *puVar5;
    puVar5 = puVar5 + 1;
    puVar6 = puVar6 + 1;
  }
  uVar1 = unaff_EBX[0x13];
  uVar2 = unaff_EBX[0x11];
  uVar3 = unaff_EBX[0x12];
  memset(unaff_EBX,0,0x2c4);
  unaff_EBX[0x11] = uVar2;
  unaff_EBX[0x12] = uVar3;
  unaff_EBX[0x9a] = local_8;
  puVar5 = local_48;
  puVar6 = unaff_EBX;
  for (iVar4 = 0x10; iVar4 != 0; iVar4 = iVar4 + -1) {
    *puVar6 = *puVar5;
    puVar5 = puVar5 + 1;
    puVar6 = puVar6 + 1;
  }
  unaff_EBX[0x13] = uVar1;
  return;
}



void __fastcall FUN_0043be00(int param_1)

{
  char *in_EAX;
  void *pvVar1;
  uint uVar2;
  size_t _Size;
  int iVar3;
  
  if ((int *)in_EAX != (int *)0x0) {
    FUN_0043aef0(in_EAX);
    if (0x3fffffff < *(uint *)((int)in_EAX + 4)) {
      in_EAX = "Image is too high to process with png_read_png()";
      FUN_0043de50();
    }
    if (((*(byte *)(param_1 + 0x13c) < 8) || (*(char *)(param_1 + 0x13b) == '\x03')) ||
       ((*(uint *)((int)in_EAX + 8) & 0x10) != 0)) {
      *(uint *)(param_1 + 0x74) = *(uint *)(param_1 + 0x74) | 0x2001000;
      *(uint *)(param_1 + 0x70) = *(uint *)(param_1 + 0x70) & 0xffffffbf;
    }
    if (*(char *)(param_1 + 0x138) != '\0') {
      *(uint *)(param_1 + 0x74) = *(uint *)(param_1 + 0x74) | 2;
    }
    FUN_00442cc0();
    FUN_00443d70((int *)in_EAX,param_1);
    FUN_0043c360(param_1,(int)in_EAX,0x40,0);
    if (*(int *)((int)in_EAX + 0xe8) == 0) {
      pvVar1 = FUN_0043e3b0(*(int *)((int)in_EAX + 4) * 4);
      *(void **)((int)in_EAX + 0xe8) = pvVar1;
      uVar2 = 0;
      if (*(int *)((int)in_EAX + 4) != 0) {
        do {
          *(undefined4 *)(*(int *)((int)in_EAX + 0xe8) + uVar2 * 4) = 0;
          uVar2 = uVar2 + 1;
        } while (uVar2 < *(uint *)((int)in_EAX + 4));
      }
      *(uint *)((int)in_EAX + 0xb8) = *(uint *)((int)in_EAX + 0xb8) | 0x40;
      iVar3 = 0;
      if (0 < *(int *)((int)in_EAX + 4)) {
        do {
          _Size = FUN_0043ab70(param_1);
          if (_Size == 0) {
LAB_0043bf14:
            pvVar1 = (void *)0x0;
          }
          else {
            if (*(code **)(param_1 + 0x264) == (code *)0x0) {
              pvVar1 = malloc(_Size);
            }
            else {
              pvVar1 = (void *)(**(code **)(param_1 + 0x264))(param_1);
            }
            if ((pvVar1 == (void *)0x0) && ((*(uint *)(param_1 + 0x70) & 0x100000) == 0)) {
              in_EAX = s_Out_of_Memory_0046968c;
              FUN_0043de50();
              goto LAB_0043bf14;
            }
          }
          *(void **)(*(int *)((int)in_EAX + 0xe8) + iVar3 * 4) = pvVar1;
          iVar3 = iVar3 + 1;
        } while (iVar3 < *(int *)((int)in_EAX + 4));
      }
    }
    FUN_0043b6a0(*(undefined4 **)((int)in_EAX + 0xe8));
    *(uint *)((int)in_EAX + 8) = *(uint *)((int)in_EAX + 8) | 0x8000;
    FUN_0043b760(in_EAX);
  }
  return;
}



void __fastcall FUN_0043bf50(undefined4 param_1,uint param_2,int param_3,uint param_4)

{
  int *piVar1;
  int *piVar2;
  int local_10 [3];
  
  local_10[2] = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  local_10[0] = 0x474e5089;
  local_10[1] = 0xa1a0a0d;
  if (param_4 < 9) {
    if (param_4 == 0) goto LAB_0043c019;
  }
  else {
    param_4 = 8;
  }
  if (param_2 < 8) {
    if (8 < param_2 + param_4) {
      param_4 = 8 - param_2;
    }
    piVar1 = (int *)((int)local_10 + param_2);
    piVar2 = (int *)(param_2 + param_3);
    for (; 3 < param_4; param_4 = param_4 - 4) {
      if (*piVar2 != *piVar1) goto LAB_0043bfbf;
      piVar1 = piVar1 + 1;
      piVar2 = piVar2 + 1;
    }
    if (param_4 != 0) {
LAB_0043bfbf:
      if ((*(char *)piVar2 != *(char *)piVar1) ||
         ((1 < param_4 &&
          ((*(char *)((int)piVar2 + 1) != *(char *)((int)piVar1 + 1) ||
           ((2 < param_4 &&
            ((*(char *)((int)piVar2 + 2) != *(char *)((int)piVar1 + 2) || (3 < param_4)))))))))) {
        ___security_check_cookie_4(local_10[2] ^ (uint)&stack0xfffffffc);
        return;
      }
    }
    ___security_check_cookie_4(local_10[2] ^ (uint)&stack0xfffffffc);
    return;
  }
LAB_0043c019:
  ___security_check_cookie_4(local_10[2] ^ (uint)&stack0xfffffffc);
  return;
}



void * __cdecl FUN_0043c040(int param_1,uint param_2,uint param_3)

{
  uint uVar1;
  void *pvVar2;
  
  uVar1 = *(uint *)(param_1 + 0x70);
  if ((uint)(0xffffffff / (ulonglong)param_3) < param_2) {
    FUN_0043df90("Potential overflow in png_zalloc()");
    return (void *)0x0;
  }
  *(uint *)(param_1 + 0x70) = uVar1 | 0x100000;
  if (param_2 * param_3 != 0) {
    if (*(code **)(param_1 + 0x264) == (code *)0x0) {
      pvVar2 = malloc(param_2 * param_3);
    }
    else {
      pvVar2 = (void *)(**(code **)(param_1 + 0x264))(param_1);
    }
    if ((pvVar2 != (void *)0x0) || ((*(uint *)(param_1 + 0x70) & 0x100000) != 0)) goto LAB_0043c0b7;
    FUN_0043de50();
  }
  pvVar2 = (void *)0x0;
LAB_0043c0b7:
  *(uint *)(param_1 + 0x70) = uVar1;
  return pvVar2;
}



void __cdecl FUN_0043c0c0(int param_1,void *param_2)

{
  if ((param_1 != 0) && (param_2 != (void *)0x0)) {
    if (*(code **)(param_1 + 0x268) != (code *)0x0) {
      (**(code **)(param_1 + 0x268))(param_1);
      return;
    }
    free(param_2);
  }
  return;
}



void __thiscall FUN_0043c0f0(void *this,int param_1)

{
  uint in_EAX;
  uint uVar1;
  uint uVar2;
  
  if ((*(uint *)(param_1 + 0x100) & 0x20000000) == 0) {
    if ((*(uint *)(param_1 + 0x70) & 0x800) != 0) {
      return;
    }
  }
  else if ((*(uint *)(param_1 + 0x70) & 0x300) == 0x300) {
    return;
  }
  if (in_EAX != 0) {
    do {
      uVar2 = in_EAX;
      if (in_EAX == 0) {
        uVar2 = 0xffffffff;
      }
      if ((uint *)this == (uint *)0x0) {
        uVar1 = 0;
      }
      else {
        uVar1 = FUN_004497a0((uint *)this,uVar2);
      }
      this = (void *)((int)this + uVar2);
      in_EAX = in_EAX - uVar2;
    } while (in_EAX != 0);
    *(uint *)(param_1 + 0x124) = uVar1;
  }
  return;
}



void __fastcall FUN_0043c160(undefined4 param_1,char *param_2,int param_3)

{
  char cVar1;
  int iVar2;
  char *pcVar3;
  uint uVar4;
  uint uVar5;
  char local_88 [128];
  uint local_8;
  
  local_8 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  if (param_2 == (char *)0x0) {
    *(uint *)(param_3 + 0x70) = *(uint *)(param_3 + 0x70) | 0x20000;
  }
  else {
    pcVar3 = "1.5.12";
    do {
      if ((param_2 + -0x4692c0)[(int)pcVar3] != *pcVar3) {
        *(uint *)(param_3 + 0x70) = *(uint *)(param_3 + 0x70) | 0x20000;
      }
      cVar1 = *pcVar3;
      pcVar3 = pcVar3 + 1;
    } while (cVar1 != '\0');
  }
  if (((*(uint *)(param_3 + 0x70) & 0x20000) == 0) ||
     (((param_2 != (char *)0x0 && (*param_2 == '1')) && (param_2[2] == '5')))) {
    ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
    return;
  }
  uVar5 = 0;
  do {
    uVar4 = uVar5;
    if (0x7e < uVar5) break;
    local_88[uVar5] = "Application built with libpng-"[uVar5];
    uVar4 = uVar5 + 1;
    iVar2 = uVar5 + 1;
    uVar5 = uVar4;
  } while ("Application built with libpng-"[iVar2] != '\0');
  local_88[uVar4] = '\0';
  if (uVar4 < 0x80) {
    uVar5 = uVar4;
    if (param_2 != (char *)0x0) {
      cVar1 = *param_2;
      while ((cVar1 != '\0' && (uVar5 < 0x7f))) {
        local_88[uVar5] = param_2[uVar5 - uVar4];
        uVar5 = uVar5 + 1;
        cVar1 = param_2[uVar5 - uVar4];
      }
    }
    local_88[uVar5] = '\0';
    if (uVar5 < 0x80) {
      uVar4 = uVar5;
      do {
        if (0x7e < uVar4) break;
        local_88[uVar4] = " but running with "[uVar4 - uVar5];
        uVar4 = uVar4 + 1;
      } while (" but running with "[uVar4 - uVar5] != '\0');
      local_88[uVar4] = '\0';
      if (uVar4 < 0x80) {
        uVar5 = uVar4;
        do {
          if (0x7e < uVar5) break;
          local_88[uVar5] = (&DAT_004692c0)[uVar5 - uVar4];
          uVar5 = uVar5 + 1;
        } while ((&DAT_004692c0)[uVar5 - uVar4] != '\0');
        local_88[uVar5] = '\0';
      }
    }
  }
  FUN_0043df90(local_88);
  ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __cdecl FUN_0043c2d0(int param_1)

{
  void *_Dst;
  undefined local_2cc [608];
  undefined4 local_6c;
  uint local_8;
  
  local_8 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  if (param_1 == 0) {
    ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
    return;
  }
  if (*(code **)(param_1 + 0x264) == (code *)0x0) {
    _Dst = malloc(0xec);
  }
  else {
    local_6c = *(undefined4 *)(param_1 + 0x260);
    _Dst = (void *)(**(code **)(param_1 + 0x264))(local_2cc);
  }
  if (_Dst != (void *)0x0) {
    memset(_Dst,0,0xec);
    memset(_Dst,0,0xec);
  }
  ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __cdecl FUN_0043c360(int param_1,int param_2,uint param_3,int param_4)

{
  void *pvVar1;
  int iVar2;
  
  if (param_1 == 0) {
    return;
  }
  if (param_2 == 0) {
    return;
  }
  if ((*(uint *)(param_2 + 0xb8) & param_3 & 0x4000) != 0) {
    if (param_4 == -1) {
      iVar2 = 0;
      if (0 < *(int *)(param_2 + 0x30)) {
        do {
          FUN_0043c360(param_1,param_2,0x4000,iVar2);
          iVar2 = iVar2 + 1;
        } while (iVar2 < *(int *)(param_2 + 0x30));
      }
      if (*(void **)(param_2 + 0x38) != (void *)0x0) {
        if (*(code **)(param_1 + 0x268) == (code *)0x0) {
          free(*(void **)(param_2 + 0x38));
        }
        else {
          (**(code **)(param_1 + 0x268))(param_1);
        }
      }
      *(undefined4 *)(param_2 + 0x38) = 0;
      *(undefined4 *)(param_2 + 0x30) = 0;
    }
    else if (*(int *)(param_2 + 0x38) != 0) {
      pvVar1 = *(void **)(param_4 * 0x1c + 4 + *(int *)(param_2 + 0x38));
      if (pvVar1 != (void *)0x0) {
        FUN_0043e3f0(param_1,pvVar1);
        *(undefined4 *)(param_4 * 0x1c + 4 + *(int *)(param_2 + 0x38)) = 0;
      }
    }
  }
  if ((*(uint *)(param_2 + 0xb8) & param_3 & 0x2000) != 0) {
    if (*(void **)(param_2 + 0x4c) != (void *)0x0) {
      if (*(code **)(param_1 + 0x268) == (code *)0x0) {
        free(*(void **)(param_2 + 0x4c));
      }
      else {
        (**(code **)(param_1 + 0x268))(param_1);
      }
    }
    *(uint *)(param_2 + 8) = *(uint *)(param_2 + 8) & 0xffffffef;
    *(undefined4 *)(param_2 + 0x4c) = 0;
  }
  if ((*(uint *)(param_2 + 0xb8) & param_3 & 0x100) != 0) {
    if (*(void **)(param_2 + 0xe0) != (void *)0x0) {
      if (*(code **)(param_1 + 0x268) == (code *)0x0) {
        free(*(void **)(param_2 + 0xe0));
      }
      else {
        (**(code **)(param_1 + 0x268))(param_1);
      }
    }
    if (*(void **)(param_2 + 0xe4) != (void *)0x0) {
      if (*(code **)(param_1 + 0x268) == (code *)0x0) {
        free(*(void **)(param_2 + 0xe4));
      }
      else {
        (**(code **)(param_1 + 0x268))(param_1);
      }
    }
    *(uint *)(param_2 + 8) = *(uint *)(param_2 + 8) & 0xffffbfff;
    *(undefined4 *)(param_2 + 0xe0) = 0;
    *(undefined4 *)(param_2 + 0xe4) = 0;
  }
  if ((char)((byte)*(undefined4 *)(param_2 + 0xb8) & (byte)param_3) < '\0') {
    if (*(void **)(param_2 + 0xa0) != (void *)0x0) {
      if (*(code **)(param_1 + 0x268) == (code *)0x0) {
        free(*(void **)(param_2 + 0xa0));
      }
      else {
        (**(code **)(param_1 + 0x268))(param_1);
      }
    }
    if (*(void **)(param_2 + 0xac) != (void *)0x0) {
      if (*(code **)(param_1 + 0x268) == (code *)0x0) {
        free(*(void **)(param_2 + 0xac));
      }
      else {
        (**(code **)(param_1 + 0x268))(param_1);
      }
    }
    *(undefined4 *)(param_2 + 0xa0) = 0;
    *(undefined4 *)(param_2 + 0xac) = 0;
    if (*(int *)(param_2 + 0xb0) != 0) {
      iVar2 = 0;
      if (*(char *)(param_2 + 0xb5) != '\0') {
        do {
          pvVar1 = *(void **)(*(int *)(param_2 + 0xb0) + iVar2 * 4);
          if (pvVar1 != (void *)0x0) {
            if (*(code **)(param_1 + 0x268) == (code *)0x0) {
              free(pvVar1);
            }
            else {
              (**(code **)(param_1 + 0x268))(param_1);
            }
          }
          *(undefined4 *)(*(int *)(param_2 + 0xb0) + iVar2 * 4) = 0;
          iVar2 = iVar2 + 1;
        } while (iVar2 < (int)(uint)*(byte *)(param_2 + 0xb5));
      }
      if (*(void **)(param_2 + 0xb0) != (void *)0x0) {
        if (*(code **)(param_1 + 0x268) == (code *)0x0) {
          free(*(void **)(param_2 + 0xb0));
        }
        else {
          (**(code **)(param_1 + 0x268))(param_1);
        }
      }
      *(undefined4 *)(param_2 + 0xb0) = 0;
    }
    *(uint *)(param_2 + 8) = *(uint *)(param_2 + 8) & 0xfffffbff;
  }
  if ((*(uint *)(param_2 + 0xb8) & param_3 & 0x10) != 0) {
    if (*(void **)(param_2 + 0xc4) != (void *)0x0) {
      if (*(code **)(param_1 + 0x268) == (code *)0x0) {
        free(*(void **)(param_2 + 0xc4));
      }
      else {
        (**(code **)(param_1 + 0x268))(param_1);
      }
    }
    if (*(void **)(param_2 + 200) != (void *)0x0) {
      if (*(code **)(param_1 + 0x268) == (code *)0x0) {
        free(*(void **)(param_2 + 200));
      }
      else {
        (**(code **)(param_1 + 0x268))(param_1);
      }
    }
    *(uint *)(param_2 + 8) = *(uint *)(param_2 + 8) & 0xffffefff;
    *(undefined4 *)(param_2 + 0xc4) = 0;
    *(undefined4 *)(param_2 + 200) = 0;
  }
  if ((*(uint *)(param_2 + 0xb8) & param_3 & 0x20) != 0) {
    if (param_4 == -1) {
      if (*(int *)(param_2 + 0xd8) != 0) {
        iVar2 = 0;
        if (0 < *(int *)(param_2 + 0xd8)) {
          do {
            FUN_0043c360(param_1,param_2,0x20,iVar2);
            iVar2 = iVar2 + 1;
          } while (iVar2 < *(int *)(param_2 + 0xd8));
        }
        if (*(void **)(param_2 + 0xd4) != (void *)0x0) {
          if (*(code **)(param_1 + 0x268) == (code *)0x0) {
            free(*(void **)(param_2 + 0xd4));
          }
          else {
            (**(code **)(param_1 + 0x268))(param_1);
          }
        }
        *(undefined4 *)(param_2 + 0xd4) = 0;
        *(undefined4 *)(param_2 + 0xd8) = 0;
      }
      *(uint *)(param_2 + 8) = *(uint *)(param_2 + 8) & 0xffffdfff;
    }
    else if (*(int *)(param_2 + 0xd4) != 0) {
      pvVar1 = *(void **)(*(int *)(param_2 + 0xd4) + param_4 * 0x10);
      if (pvVar1 != (void *)0x0) {
        if (*(code **)(param_1 + 0x268) == (code *)0x0) {
          free(pvVar1);
        }
        else {
          (**(code **)(param_1 + 0x268))(param_1);
        }
      }
      pvVar1 = *(void **)(*(int *)(param_2 + 0xd4) + 8 + param_4 * 0x10);
      if (pvVar1 != (void *)0x0) {
        if (*(code **)(param_1 + 0x268) == (code *)0x0) {
          free(pvVar1);
        }
        else {
          (**(code **)(param_1 + 0x268))(param_1);
        }
      }
      *(undefined4 *)(*(int *)(param_2 + 0xd4) + param_4 * 0x10) = 0;
      *(undefined4 *)(*(int *)(param_2 + 0xd4) + 8 + param_4 * 0x10) = 0;
    }
  }
  if (*(void **)(param_1 + 0x298) != (void *)0x0) {
    if (*(code **)(param_1 + 0x268) == (code *)0x0) {
      free(*(void **)(param_1 + 0x298));
    }
    else {
      (**(code **)(param_1 + 0x268))(param_1);
    }
    *(undefined4 *)(param_1 + 0x298) = 0;
  }
  if ((*(uint *)(param_2 + 0xb8) & param_3 & 0x200) != 0) {
    if (param_4 == -1) {
      if (*(int *)(param_2 + 0xc0) != 0) {
        iVar2 = 0;
        if (0 < *(int *)(param_2 + 0xc0)) {
          do {
            FUN_0043c360(param_1,param_2,0x200,iVar2);
            iVar2 = iVar2 + 1;
          } while (iVar2 < *(int *)(param_2 + 0xc0));
        }
        if (*(void **)(param_2 + 0xbc) != (void *)0x0) {
          if (*(code **)(param_1 + 0x268) == (code *)0x0) {
            free(*(void **)(param_2 + 0xbc));
          }
          else {
            (**(code **)(param_1 + 0x268))(param_1);
          }
        }
        *(undefined4 *)(param_2 + 0xbc) = 0;
        *(undefined4 *)(param_2 + 0xc0) = 0;
      }
    }
    else if (*(int *)(param_2 + 0xbc) != 0) {
      iVar2 = param_4 * 0x14;
      pvVar1 = *(void **)(iVar2 + 8 + *(int *)(param_2 + 0xbc));
      if (pvVar1 != (void *)0x0) {
        if (*(code **)(param_1 + 0x268) != (code *)0x0) {
          (**(code **)(param_1 + 0x268))(param_1);
          *(undefined4 *)(iVar2 + 8 + *(int *)(param_2 + 0xbc)) = 0;
          goto LAB_0043c81f;
        }
        free(pvVar1);
      }
      *(undefined4 *)(iVar2 + 8 + *(int *)(param_2 + 0xbc)) = 0;
    }
  }
LAB_0043c81f:
  if ((*(uint *)(param_2 + 0xb8) & param_3 & 8) != 0) {
    if (*(void **)(param_2 + 0x7c) != (void *)0x0) {
      if (*(code **)(param_1 + 0x268) == (code *)0x0) {
        free(*(void **)(param_2 + 0x7c));
      }
      else {
        (**(code **)(param_1 + 0x268))(param_1);
      }
    }
    *(uint *)(param_2 + 8) = *(uint *)(param_2 + 8) & 0xffffffbf;
    *(undefined4 *)(param_2 + 0x7c) = 0;
  }
  if ((*(uint *)(param_2 + 0xb8) & param_3 & 0x1000) != 0) {
    if (*(void **)(param_2 + 0x10) != (void *)0x0) {
      if (*(code **)(param_1 + 0x268) == (code *)0x0) {
        free(*(void **)(param_2 + 0x10));
      }
      else {
        (**(code **)(param_1 + 0x268))(param_1);
      }
    }
    *(uint *)(param_2 + 8) = *(uint *)(param_2 + 8) & 0xfffffff7;
    *(undefined4 *)(param_2 + 0x10) = 0;
    *(undefined2 *)(param_2 + 0x14) = 0;
  }
  if ((*(uint *)(param_2 + 0xb8) & param_3 & 0x40) != 0) {
    if (*(int *)(param_2 + 0xe8) != 0) {
      iVar2 = 0;
      if (0 < *(int *)(param_2 + 4)) {
        do {
          pvVar1 = *(void **)(*(int *)(param_2 + 0xe8) + iVar2 * 4);
          if (pvVar1 != (void *)0x0) {
            if (*(code **)(param_1 + 0x268) == (code *)0x0) {
              free(pvVar1);
            }
            else {
              (**(code **)(param_1 + 0x268))(param_1);
            }
          }
          *(undefined4 *)(*(int *)(param_2 + 0xe8) + iVar2 * 4) = 0;
          iVar2 = iVar2 + 1;
        } while (iVar2 < *(int *)(param_2 + 4));
      }
      if (*(void **)(param_2 + 0xe8) != (void *)0x0) {
        if (*(code **)(param_1 + 0x268) == (code *)0x0) {
          free(*(void **)(param_2 + 0xe8));
        }
        else {
          (**(code **)(param_1 + 0x268))(param_1);
        }
      }
      *(undefined4 *)(param_2 + 0xe8) = 0;
    }
    *(uint *)(param_2 + 8) = *(uint *)(param_2 + 8) & 0xffff7fff;
  }
  if (param_4 != -1) {
    param_3 = param_3 & 0xffffbddf;
  }
  *(uint *)(param_2 + 0xb8) = *(uint *)(param_2 + 0xb8) & ~param_3;
  return;
}



void FUN_0043c950(void)

{
  uint uVar1;
  int unaff_ESI;
  void *unaff_EDI;
  
  uVar1 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  FUN_0043c360(unaff_ESI,(int)unaff_EDI,0x7fff,-1);
  if (*(int *)(unaff_ESI + 0x248) != 0) {
    if (*(void **)(unaff_ESI + 0x24c) != (void *)0x0) {
      if (*(code **)(unaff_ESI + 0x268) == (code *)0x0) {
        free(*(void **)(unaff_ESI + 0x24c));
      }
      else {
        (**(code **)(unaff_ESI + 0x268))();
      }
    }
    *(undefined4 *)(unaff_ESI + 0x24c) = 0;
    *(undefined4 *)(unaff_ESI + 0x248) = 0;
  }
  if (unaff_EDI != (void *)0x0) {
    memset(unaff_EDI,0,0xec);
  }
  ___security_check_cookie_4(uVar1 ^ (uint)&stack0xfffffffc);
  return;
}



void __fastcall FUN_0043c9e0(undefined4 param_1,int param_2,undefined4 param_3)

{
  int *piVar1;
  int local_10;
  
  local_10 = CONCAT13((char)param_3,
                      CONCAT12((char)((uint)param_3 >> 8),
                               CONCAT11((char)((uint)param_3 >> 0x10),(char)((uint)param_3 >> 0x18))
                              ));
  if ((param_2 != 0) && (0 < *(int *)(param_2 + 0x248))) {
    piVar1 = (int *)((int)*(int **)(param_2 + 0x24c) + *(int *)(param_2 + 0x248) * 5);
    do {
      piVar1 = (int *)((int)piVar1 + -5);
      if (local_10 == *piVar1) {
        ___security_check_cookie_4(DAT_0047a940 ^ (uint)&stack0xfffffffc ^ (uint)&stack0xfffffffc);
        return;
      }
    } while (*(int **)(param_2 + 0x24c) < piVar1);
  }
  ___security_check_cookie_4(DAT_0047a940 ^ (uint)&stack0xfffffffc ^ (uint)&stack0xfffffffc);
  return;
}



undefined4 __fastcall
FUN_0043ca60(int param_1,int param_2,int param_3,int param_4,int param_5,int param_6,int param_7,
            int param_8)

{
  int in_EAX;
  uint uVar1;
  uint uVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  uint uVar6;
  int iVar7;
  uint uVar8;
  uint uVar9;
  int iVar10;
  undefined4 local_8;
  
  local_8 = 1;
  if (param_3 != 0) {
    if (((((param_4 < 0) || (param_5 < 1)) || (param_6 < 0)) || ((param_7 < 0 || (param_2 < 0)))) ||
       ((param_8 < 0 || ((param_1 < 0 || (in_EAX < 0)))))) {
      FUN_0043df90("Ignoring attempt to set negative chromaticity value");
      local_8 = 0;
    }
    if (100000 - param_5 < param_4) {
      FUN_0043df90("Invalid cHRM white point");
      local_8 = 0;
    }
    if (100000 - param_7 < param_6) {
      FUN_0043df90("Invalid cHRM red point");
      local_8 = 0;
    }
    if (100000 - param_8 < param_2) {
      FUN_0043df90("Invalid cHRM green point");
      local_8 = 0;
    }
    if (100000 - in_EAX < param_1) {
      FUN_0043df90("Invalid cHRM blue point");
      local_8 = 0;
    }
    uVar2 = param_2 - param_6 & 0xffff;
    uVar4 = in_EAX - param_7 & 0xffff;
    uVar8 = uVar4 * uVar2;
    uVar1 = param_2 - param_6 >> 0x10 & 0xffff;
    uVar3 = in_EAX - param_7 >> 0x10 & 0xffff;
    uVar5 = param_8 - param_7 >> 0x10 & 0xffff;
    iVar7 = uVar3 * uVar2 + uVar4 * uVar1 + ((int)uVar8 >> 0x10 & 0xffffU);
    uVar2 = param_8 - param_7 & 0xffff;
    uVar9 = param_1 - param_6 & 0xffff;
    uVar6 = uVar9 * uVar2;
    uVar4 = param_1 - param_6 >> 0x10 & 0xffff;
    iVar10 = uVar9 * uVar5 + ((int)uVar6 >> 0x10 & 0xffffU) + uVar4 * uVar2;
    if (((iVar7 >> 0x10 & 0xffffU) + uVar3 * uVar1 != (iVar10 >> 0x10 & 0xffffU) + uVar4 * uVar5) ||
       ((iVar7 * 0x10000 | uVar8 & 0xffff) != (iVar10 * 0x10000 | uVar6 & 0xffff))) {
      return local_8;
    }
    FUN_0043df90("Ignoring attempt to set cHRM RGB triangle with zero area");
  }
  return 0;
}



undefined __cdecl
FUN_0043cc40(undefined4 param_1,uint param_2,int param_3,uint param_4,int param_5,uint param_6,
            int param_7,uint param_8,int param_9)

{
  int iVar1;
  undefined8 uVar2;
  ulonglong uVar3;
  ulonglong uVar4;
  ulonglong uVar5;
  int local_14;
  int local_c;
  int local_8;
  
  if (100000 < param_2) {
    return true;
  }
  if (param_3 < 0) {
    return true;
  }
  if ((int)(100000 - param_2) < param_3) {
    return true;
  }
  if (100000 < param_4) {
    return true;
  }
  if (param_5 < 0) {
    return true;
  }
  if ((int)(100000 - param_4) < param_5) {
    return true;
  }
  if (100000 < param_6) {
    return true;
  }
  if (param_7 < 0) {
    return true;
  }
  if ((int)(100000 - param_6) < param_7) {
    return true;
  }
  if (100000 < param_8) {
    return true;
  }
  if (param_9 < 0) {
    return true;
  }
  if ((int)(100000 - param_8) < param_9) {
    return true;
  }
  uVar2 = FUN_0043d3a0(param_4 - param_6,param_3 - param_7,7);
  if ((int)uVar2 != 0) {
    uVar2 = FUN_0043d3a0(param_5 - param_7,param_2 - param_6,7);
    if ((int)uVar2 != 0) {
      uVar2 = FUN_0043d3a0(param_4 - param_6,param_9 - param_7,7);
      if ((int)uVar2 != 0) {
        uVar2 = FUN_0043d3a0(param_5 - param_7,param_8 - param_6,7);
        if ((int)uVar2 != 0) {
          if (((local_8 - local_c == 0) ||
              (uVar2 = FUN_0043d3a0(param_9,local_8 - local_c,local_8 - local_c), (int)uVar2 == 0))
             || (local_14 <= param_9)) {
            return true;
          }
          uVar2 = FUN_0043d3a0(param_3 - param_7,param_8 - param_6,7);
          if ((int)uVar2 == 0) {
            return 2;
          }
          uVar2 = FUN_0043d3a0(param_2 - param_6,param_9 - param_7,7);
          if ((int)uVar2 == 0) {
            return 2;
          }
          if (local_8 - local_c == 0) {
            return true;
          }
          uVar2 = FUN_0043d3a0(param_9,local_8 - local_c,local_8 - local_c);
          if ((int)uVar2 == 0) {
            return true;
          }
          if (local_c <= param_9) {
            return true;
          }
          uVar3 = FUN_0043d410(local_14);
          uVar4 = FUN_0043d410(param_9);
          uVar5 = FUN_0043d410(local_c);
          iVar1 = ((int)uVar4 - (int)uVar3) - (int)uVar5;
          if (iVar1 < 1) {
            return true;
          }
          if (local_14 == 0) {
            return true;
          }
          uVar2 = FUN_0043d3a0(param_2,100000,local_14);
          if ((int)uVar2 == 0) {
            return true;
          }
          uVar2 = FUN_0043d3a0(param_3,100000,local_14);
          if ((int)uVar2 == 0) {
            return true;
          }
          uVar2 = FUN_0043d3a0((100000 - param_3) - param_2,100000,local_14);
          if ((int)uVar2 == 0) {
            return true;
          }
          if (local_c == 0) {
            return true;
          }
          uVar2 = FUN_0043d3a0(param_4,100000,local_c);
          if ((int)uVar2 == 0) {
            return true;
          }
          uVar2 = FUN_0043d3a0(param_5,100000,local_c);
          if ((int)uVar2 == 0) {
            return true;
          }
          uVar2 = FUN_0043d3a0((100000 - param_5) - param_4,100000,local_c);
          if ((int)uVar2 == 0) {
            return true;
          }
          uVar2 = FUN_0043d3a0(param_6,iVar1,100000);
          if ((int)uVar2 == 0) {
            return true;
          }
          uVar2 = FUN_0043d3a0(param_7,iVar1,100000);
          if ((int)uVar2 == 0) {
            return true;
          }
          uVar2 = FUN_0043d3a0((100000 - param_7) - param_6,iVar1,100000);
          return (int)uVar2 == 0;
        }
      }
    }
  }
  return 2;
}



undefined4 FUN_0043cf80(undefined param_1)

{
  undefined4 in_EAX;
  int iVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  uint in_stack_ffffffd4;
  int in_stack_ffffffd8;
  uint in_stack_ffffffdc;
  int in_stack_ffffffe0;
  uint in_stack_ffffffe4;
  int in_stack_ffffffe8;
  uint in_stack_ffffffec;
  int in_stack_fffffff0;
  
  puVar2 = (undefined4 *)&param_1;
  puVar3 = (undefined4 *)&stack0xffffffd4;
  for (iVar1 = 8; iVar1 != 0; iVar1 = iVar1 + -1) {
    *puVar3 = *puVar2;
    puVar2 = puVar2 + 1;
    puVar3 = puVar3 + 1;
  }
  iVar1 = FUN_0043cc40(in_EAX,in_stack_ffffffd4,in_stack_ffffffd8,in_stack_ffffffdc,
                       in_stack_ffffffe0,in_stack_ffffffe4,in_stack_ffffffe8,in_stack_ffffffec,
                       in_stack_fffffff0);
  if (iVar1 != 0) {
    if (iVar1 != 1) {
      FUN_0043de50();
    }
    FUN_0043df90("extreme cHRM chunk cannot be converted to tristimulus values");
    return 0;
  }
  return 1;
}



void __cdecl FUN_0043cfd0(uint param_1,int param_2,int param_3,int param_4,int param_5,int param_6)

{
  bool bVar1;
  uint in_EAX;
  bool bVar2;
  int unaff_EDI;
  
  if (in_EAX == 0) {
    FUN_0043df90("Image width is zero in IHDR");
  }
  if (param_1 == 0) {
    FUN_0043df90("Image height is zero in IHDR");
  }
  bVar2 = *(uint *)(unaff_EDI + 0x280) <= in_EAX && in_EAX != *(uint *)(unaff_EDI + 0x280);
  if (bVar2) {
    FUN_0043df90("Image width exceeds user limit in IHDR");
  }
  bVar1 = *(uint *)(unaff_EDI + 0x284) <= param_1 && param_1 != *(uint *)(unaff_EDI + 0x284);
  if (bVar1) {
    FUN_0043df90("Image height exceeds user limit in IHDR");
  }
  if (0x7fffffff < in_EAX) {
    FUN_0043df90("Invalid image width in IHDR");
  }
  if (0x7fffffff < param_1) {
    FUN_0043df90("Invalid image height in IHDR");
  }
  bVar2 = 0x7fffffff < param_1 ||
          (0x7fffffff < in_EAX || (bVar1 || (bVar2 || (param_1 == 0 || in_EAX == 0))));
  if (0x1fffff8e < in_EAX) {
    FUN_0043df90("Width is too large for libpng to process pixels");
  }
  if ((((param_2 != 1) && (param_2 != 2)) && (param_2 != 4)) &&
     ((param_2 != 8 && (param_2 != 0x10)))) {
    FUN_0043df90("Invalid bit depth in IHDR");
    bVar2 = true;
  }
  if (((param_3 < 0) || (param_3 == 1)) || ((param_3 == 5 || (6 < param_3)))) {
    FUN_0043df90("Invalid color type in IHDR");
    bVar2 = true;
  }
  if (param_3 == 3) {
    if (8 < param_2) {
LAB_0043d0f6:
      FUN_0043df90("Invalid color type/bit depth combination in IHDR");
      bVar2 = true;
    }
  }
  else if ((((param_3 == 2) || (param_3 == 4)) || (param_3 == 6)) && (param_2 < 8))
  goto LAB_0043d0f6;
  if (1 < param_4) {
    FUN_0043df90("Unknown interlace method in IHDR");
    bVar2 = true;
  }
  if (param_5 != 0) {
    FUN_0043df90("Unknown compression method in IHDR");
    bVar2 = true;
  }
  if (((*(uint *)(unaff_EDI + 0x6c) & 0x1000) != 0) && (*(int *)(unaff_EDI + 600) != 0)) {
    FUN_0043df90("MNG features are not allowed in a PNG datastream");
  }
  if (param_6 != 0) {
    if ((((*(byte *)(unaff_EDI + 600) & 4) == 0) || (param_6 != 0x40)) ||
       (((*(uint *)(unaff_EDI + 0x6c) & 0x1000) != 0 || ((param_3 != 2 && (param_3 != 6)))))) {
      FUN_0043df90("Unknown filter method in IHDR");
      bVar2 = true;
    }
    if ((*(uint *)(unaff_EDI + 0x6c) & 0x1000) != 0) {
      FUN_0043df90("Invalid filter method in IHDR");
      goto LAB_0043d1ad;
    }
  }
  if (!bVar2) {
    return;
  }
LAB_0043d1ad:
  FUN_0043de50();
  return;
}



uint __cdecl FUN_0043d1c0(int param_1,uint *param_2,uint *param_3)

{
  uint uVar1;
  uint uVar2;
  uint uVar3;
  uint unaff_EDI;
  
  uVar1 = *param_2;
  for (uVar3 = *param_3; uVar3 < unaff_EDI; uVar3 = uVar3 + 1) {
    switch(*(undefined *)(uVar3 + param_1)) {
    case 0x2b:
      uVar2 = 4;
      break;
    default:
      goto LAB_0043d2a1;
    case 0x2d:
      uVar2 = 0x84;
      break;
    case 0x2e:
      uVar2 = 0x10;
      break;
    case 0x30:
      uVar2 = 8;
      break;
    case 0x31:
    case 0x32:
    case 0x33:
    case 0x34:
    case 0x35:
    case 0x36:
    case 0x37:
    case 0x38:
    case 0x39:
      uVar2 = 0x108;
      break;
    case 0x45:
    case 0x65:
      uVar2 = 0x20;
    }
    switch(((uVar2 & 0x3c) - 4) + (uVar1 & 3)) {
    case 0:
      if ((uVar1 & 0x3c) != 0) goto LAB_0043d2a1;
      uVar1 = uVar1 | uVar2;
      break;
    default:
      goto LAB_0043d2a1;
    case 2:
      if ((uVar1 & 0x3c) != 0) goto LAB_0043d2a1;
      uVar1 = uVar1 | 4;
      break;
    case 4:
      if ((uVar1 & 0x10) != 0) {
        uVar1 = uVar1 & 0x1c0 | 0x11;
      }
    case 5:
      uVar1 = uVar1 | uVar2 | 0x40;
      break;
    case 6:
      uVar1 = uVar1 | 0x48;
      break;
    case 0xc:
      if ((uVar1 & 0x10) != 0) goto LAB_0043d2a1;
      if ((uVar1 & 8) == 0) {
        uVar1 = uVar1 & 0x1c0 | uVar2 | 1;
      }
      else {
        uVar1 = uVar1 | uVar2;
      }
      break;
    case 0x1c:
    case 0x1d:
      if ((uVar1 & 8) == 0) goto LAB_0043d2a1;
      uVar1 = uVar1 & 0x1c0 | 2;
    }
  }
LAB_0043d2a1:
  *param_2 = uVar1;
  *param_3 = uVar3;
  return uVar1 >> 3 & 1;
}



uint FUN_0043d350(void)

{
  uint in_EAX;
  uint uVar1;
  int unaff_ESI;
  uint local_c;
  uint local_8;
  
  local_c = 0;
  local_8 = 0;
  uVar1 = FUN_0043d1c0(unaff_ESI,&local_c,&local_8);
  if ((uVar1 != 0) && ((local_8 == in_EAX || (*(char *)(local_8 + unaff_ESI) == '\0')))) {
    return local_c;
  }
  return 0;
}



undefined8 __cdecl FUN_0043d3a0(int param_1,int param_2,int param_3)

{
  undefined4 extraout_ECX;
  undefined4 in_EDX;
  uint extraout_EDX;
  undefined4 *unaff_ESI;
  ulonglong uVar1;
  double dVar2;
  
  if ((param_1 == 0) || (param_2 == 0)) {
    *unaff_ESI = 0;
    return CONCAT44(in_EDX,1);
  }
  dVar2 = floor(((double)param_1 * (double)param_2) / (double)param_3 + 0.5);
  if ((dVar2 <= 2147483647.0) && (-2147483648.0 < dVar2 != (dVar2 == -2147483648.0))) {
    uVar1 = FUN_0045db50(extraout_ECX,extraout_EDX);
    *unaff_ESI = (int)uVar1;
    return CONCAT44((int)(uVar1 >> 0x20),1);
  }
  return (ulonglong)extraout_EDX << 0x20;
}



ulonglong __cdecl FUN_0043d410(int param_1)

{
  undefined4 extraout_ECX;
  uint extraout_EDX;
  ulonglong uVar1;
  double dVar2;
  
  dVar2 = floor(10000000000.0 / (double)param_1 + 0.5);
  if ((dVar2 <= 2147483647.0) && (-2147483648.0 < dVar2 != (dVar2 == -2147483648.0))) {
    uVar1 = FUN_0045db50(extraout_ECX,extraout_EDX);
    return uVar1;
  }
  return (ulonglong)extraout_EDX << 0x20;
}



ulonglong __cdecl FUN_0043d460(int param_1,int param_2)

{
  undefined4 extraout_ECX;
  uint extraout_EDX;
  ulonglong uVar1;
  double dVar2;
  
  dVar2 = floor((double)param_1 * 1e-05 * (double)param_2 + 0.5);
  if ((dVar2 <= 2147483647.0) && (-2147483648.0 < dVar2 != (dVar2 == -2147483648.0))) {
    uVar1 = FUN_0045db50(extraout_ECX,extraout_EDX);
    return uVar1;
  }
  return (ulonglong)extraout_EDX << 0x20;
}



ulonglong __cdecl FUN_0043d4b0(int param_1,int param_2)

{
  undefined4 extraout_ECX;
  uint extraout_EDX;
  ulonglong uVar1;
  double dVar2;
  
  dVar2 = floor((1000000000000000.0 / (double)param_1) / (double)param_2 + 0.5);
  if ((dVar2 <= 2147483647.0) && (-2147483648.0 < dVar2 != (dVar2 == -2147483648.0))) {
    uVar1 = FUN_0045db50(extraout_ECX,extraout_EDX);
    return uVar1;
  }
  return (ulonglong)extraout_EDX << 0x20;
}



void FUN_0043d500(void)

{
  int in_EAX;
  float10 fVar1;
  
  if (in_EAX - 1U < 0xfe) {
    fVar1 = (float10)_CIpow();
    floor((double)(fVar1 * (float10)255.0 + (float10)0.5));
  }
  return;
}



void FUN_0043d570(void)

{
  int in_EAX;
  float10 fVar1;
  
  if (in_EAX - 1U < 0xfffe) {
    fVar1 = (float10)_CIpow();
    floor((double)(fVar1 * (float10)65535.0 + (float10)0.5));
  }
  return;
}



void __cdecl FUN_0043d5e0(int param_1,void **param_2,int param_3,int param_4)

{
  code *pcVar1;
  char cVar2;
  void *pvVar3;
  void *pvVar4;
  uint uVar5;
  uint uVar6;
  uint uVar7;
  uint uVar8;
  float10 fVar9;
  double dVar10;
  undefined2 local_14;
  
  cVar2 = (char)param_3;
  uVar6 = 1 << (8U - cVar2 & 0x1f);
  pvVar3 = FUN_0043e350(param_1);
  uVar8 = 0;
  *param_2 = pvVar3;
  if (uVar6 == 0) {
    return;
  }
  do {
    if (param_1 == 0) {
      pvVar4 = (void *)0x0;
    }
    else {
      if (*(code **)(param_1 + 0x264) == (code *)0x0) {
        pvVar4 = malloc(0x200);
      }
      else {
        pvVar4 = (void *)(**(code **)(param_1 + 0x264))(param_1);
      }
      if ((pvVar4 == (void *)0x0) && ((*(uint *)(param_1 + 0x70) & 0x100000) == 0)) {
        FUN_0043de50();
        pcVar1 = (code *)swi(3);
        (*pcVar1)();
        return;
      }
    }
    uVar7 = 0;
    *(void **)((int)pvVar3 + uVar8 * 4) = pvVar4;
    if (param_4 - 95000U < 0x2711) {
      do {
        uVar5 = (uVar7 << (8U - cVar2 & 0x1f)) + uVar8;
        if (param_3 != 0) {
          uVar5 = (uVar5 * 0xffff + (1 << (0xfU - cVar2 & 0x1f))) /
                  ((1 << (0x10U - cVar2 & 0x1f)) - 1U);
        }
        *(short *)((int)pvVar4 + uVar7 * 2) = (short)uVar5;
        uVar7 = uVar7 + 1;
      } while (uVar7 < 0x100);
    }
    else {
      do {
        fVar9 = (float10)_CIpow();
        dVar10 = floor((double)(fVar9 * (float10)65535.0 + (float10)0.5));
        uVar7 = uVar7 + 1;
        local_14 = (undefined2)(int)ROUND(dVar10);
        *(undefined2 *)((int)pvVar4 + uVar7 * 2 + -2) = local_14;
      } while (uVar7 < 0x100);
    }
    uVar8 = uVar8 + 1;
  } while (uVar8 < uVar6);
  return;
}



// WARNING: Removing unreachable block (ram,0x0043d849)

uint __cdecl FUN_0043d780(void **param_1,byte param_2)

{
  uint in_EAX;
  void *pvVar1;
  void *pvVar2;
  byte bVar3;
  uint uVar4;
  char *pcVar5;
  uint uVar6;
  char *pcVar7;
  uint uVar8;
  uint uVar9;
  float10 fVar10;
  double dVar11;
  uint local_1c;
  uint local_c;
  
  bVar3 = 8 - param_2;
  uVar8 = 1 << (bVar3 & 0x1f);
  pvVar1 = FUN_0043e350(in_EAX);
  uVar6 = 0;
  *param_1 = pvVar1;
  if (uVar8 != 0) {
    do {
      if (in_EAX == 0) {
        pvVar2 = (void *)0x0;
      }
      else {
        if (*(code **)(in_EAX + 0x264) == (code *)0x0) {
          pvVar2 = malloc(0x200);
        }
        else {
          pvVar2 = (void *)(**(code **)(in_EAX + 0x264))();
        }
        if ((pvVar2 == (void *)0x0) && ((*(uint *)(in_EAX + 0x70) & 0x100000) == 0)) {
          pcVar7 = s_Out_of_Memory_0046968c;
          uVar6 = FUN_0043de50();
          goto LAB_0043d8ad;
        }
      }
      *(void **)((int)pvVar1 + uVar6 * 4) = pvVar2;
      uVar6 = uVar6 + 1;
    } while (uVar6 < uVar8);
  }
  pcVar7 = (char *)0x0;
  local_c = 0;
  do {
    local_1c = local_c * 0x101 & 0xffff;
    uVar6 = local_1c + 0x80;
    in_EAX = local_c;
    if (local_1c + 0x7f < 0xfffe) {
      fVar10 = (float10)_CIpow();
      dVar11 = floor((double)(fVar10 * (float10)65535.0 + (float10)0.5));
      uVar6 = (uint)ROUND(dVar11);
    }
LAB_0043d8ad:
    uVar4 = (uVar6 & 0xffff) * ((1 << (0x10 - param_2 & 0x1f)) + -1) + 0x8000;
    uVar6 = uVar4 * -0x7fff7fff;
    pcVar5 = (char *)(uVar4 / 0xffff + 1);
    if (pcVar7 < pcVar5) {
      uVar6 = 0xff >> (param_2 & 0x1f);
      do {
        uVar4 = (uint)pcVar7 >> (bVar3 & 0x1f);
        uVar9 = uVar6 & (uint)pcVar7;
        pcVar7 = pcVar7 + 1;
        *(undefined2 *)(*(int *)((int)pvVar1 + uVar9 * 4) + uVar4 * 2) = (undefined2)local_1c;
        in_EAX = local_c;
      } while (pcVar7 < pcVar5);
    }
    local_c = in_EAX + 1;
  } while (local_c < 0xff);
  if (pcVar7 < (char *)(uVar8 << 8)) {
    uVar6 = 0xff >> (param_2 & 0x1f);
    do {
      uVar9 = (uint)pcVar7 >> (bVar3 & 0x1f);
      uVar4 = uVar6 & (uint)pcVar7;
      pcVar7 = pcVar7 + 1;
      *(undefined2 *)(*(int *)((int)pvVar1 + uVar4 * 4) + uVar9 * 2) = 0xffff;
    } while (pcVar7 < (char *)(uVar8 << 8));
  }
  return uVar6;
}



void __cdecl FUN_0043d940(void **param_1,int param_2)

{
  undefined *puVar1;
  int in_EAX;
  void *pvVar2;
  uint uVar3;
  float10 fVar4;
  double dVar5;
  undefined local_c;
  
  if (in_EAX == 0) {
    pvVar2 = (void *)0x0;
  }
  else {
    if (*(code **)(in_EAX + 0x264) == (code *)0x0) {
      pvVar2 = malloc(0x100);
    }
    else {
      pvVar2 = (void *)(**(code **)(in_EAX + 0x264))();
    }
    if ((pvVar2 == (void *)0x0) && ((*(uint *)(in_EAX + 0x70) & 0x100000) == 0)) {
      pvVar2 = (void *)FUN_0043de50();
    }
  }
  *param_1 = pvVar2;
  if (10000 < param_2 - 95000U) {
    uVar3 = 0;
    do {
      puVar1 = (undefined *)((int)pvVar2 + uVar3);
      if (puVar1 + (-1 - (int)pvVar2) < (undefined *)0xfe) {
        fVar4 = (float10)_CIpow();
        dVar5 = floor((double)(fVar4 * (float10)255.0 + (float10)0.5));
        local_c = (undefined)(int)ROUND(dVar5);
      }
      else {
        local_c = (undefined)uVar3;
      }
      uVar3 = uVar3 + 1;
      *puVar1 = local_c;
    } while (uVar3 < 0x100);
    return;
  }
  uVar3 = 0;
  do {
    *(char *)((int)pvVar2 + uVar3) = (char)uVar3;
    uVar3 = uVar3 + 1;
  } while (uVar3 < 0x100);
  return;
}



void FUN_0043da50(void)

{
  void *pvVar1;
  int iVar2;
  int unaff_ESI;
  int iVar3;
  
  if (*(void **)(unaff_ESI + 0x180) != (void *)0x0) {
    if (*(code **)(unaff_ESI + 0x268) == (code *)0x0) {
      free(*(void **)(unaff_ESI + 0x180));
    }
    else {
      (**(code **)(unaff_ESI + 0x268))();
    }
  }
  iVar3 = 0;
  *(undefined4 *)(unaff_ESI + 0x180) = 0;
  if (*(int *)(unaff_ESI + 0x184) != 0) {
    iVar2 = 1 << (8U - (char)*(undefined4 *)(unaff_ESI + 0x174) & 0x1f);
    if (0 < iVar2) {
      do {
        pvVar1 = *(void **)(*(int *)(unaff_ESI + 0x184) + iVar3 * 4);
        if (pvVar1 != (void *)0x0) {
          if (*(code **)(unaff_ESI + 0x268) == (code *)0x0) {
            free(pvVar1);
          }
          else {
            (**(code **)(unaff_ESI + 0x268))();
          }
        }
        iVar3 = iVar3 + 1;
      } while (iVar3 < iVar2);
    }
    if (*(void **)(unaff_ESI + 0x184) != (void *)0x0) {
      if (*(code **)(unaff_ESI + 0x268) == (code *)0x0) {
        free(*(void **)(unaff_ESI + 0x184));
      }
      else {
        (**(code **)(unaff_ESI + 0x268))();
      }
    }
    *(undefined4 *)(unaff_ESI + 0x184) = 0;
  }
  if (*(void **)(unaff_ESI + 0x188) != (void *)0x0) {
    if (*(code **)(unaff_ESI + 0x268) == (code *)0x0) {
      free(*(void **)(unaff_ESI + 0x188));
    }
    else {
      (**(code **)(unaff_ESI + 0x268))();
    }
  }
  *(undefined4 *)(unaff_ESI + 0x188) = 0;
  if (*(void **)(unaff_ESI + 0x18c) != (void *)0x0) {
    if (*(code **)(unaff_ESI + 0x268) == (code *)0x0) {
      free(*(void **)(unaff_ESI + 0x18c));
    }
    else {
      (**(code **)(unaff_ESI + 0x268))();
    }
  }
  iVar3 = 0;
  *(undefined4 *)(unaff_ESI + 0x18c) = 0;
  if (*(int *)(unaff_ESI + 400) != 0) {
    iVar2 = 1 << (8U - (char)*(undefined4 *)(unaff_ESI + 0x174) & 0x1f);
    if (0 < iVar2) {
      do {
        pvVar1 = *(void **)(*(int *)(unaff_ESI + 400) + iVar3 * 4);
        if (pvVar1 != (void *)0x0) {
          if (*(code **)(unaff_ESI + 0x268) == (code *)0x0) {
            free(pvVar1);
          }
          else {
            (**(code **)(unaff_ESI + 0x268))();
          }
        }
        iVar3 = iVar3 + 1;
      } while (iVar3 < iVar2);
    }
    if (*(void **)(unaff_ESI + 400) != (void *)0x0) {
      if (*(code **)(unaff_ESI + 0x268) == (code *)0x0) {
        free(*(void **)(unaff_ESI + 400));
      }
      else {
        (**(code **)(unaff_ESI + 0x268))();
      }
    }
    *(undefined4 *)(unaff_ESI + 400) = 0;
  }
  if (*(int *)(unaff_ESI + 0x194) != 0) {
    iVar3 = 1 << (8U - (char)*(undefined4 *)(unaff_ESI + 0x174) & 0x1f);
    iVar2 = 0;
    if (0 < iVar3) {
      do {
        pvVar1 = *(void **)(*(int *)(unaff_ESI + 0x194) + iVar2 * 4);
        if (pvVar1 != (void *)0x0) {
          if (*(code **)(unaff_ESI + 0x268) == (code *)0x0) {
            free(pvVar1);
          }
          else {
            (**(code **)(unaff_ESI + 0x268))();
          }
        }
        iVar2 = iVar2 + 1;
      } while (iVar2 < iVar3);
    }
    if (*(void **)(unaff_ESI + 0x194) != (void *)0x0) {
      if (*(code **)(unaff_ESI + 0x268) != (code *)0x0) {
        (**(code **)(unaff_ESI + 0x268))();
        *(undefined4 *)(unaff_ESI + 0x194) = 0;
        return;
      }
      free(*(void **)(unaff_ESI + 0x194));
    }
    *(undefined4 *)(unaff_ESI + 0x194) = 0;
  }
  return;
}



void __cdecl FUN_0043dc60(int param_1)

{
  byte bVar1;
  int in_EAX;
  int iVar2;
  uint uVar3;
  uint uVar4;
  ulonglong uVar5;
  
  if ((*(int *)(in_EAX + 0x180) != 0) || (*(int *)(in_EAX + 0x184) != 0)) {
    FUN_0043df90("gamma table being rebuilt");
    FUN_0043da50();
  }
  if (param_1 < 9) {
    if (*(int *)(in_EAX + 0x17c) < 1) {
      iVar2 = 100000;
    }
    else {
      uVar5 = FUN_0043d4b0(*(int *)(in_EAX + 0x178),*(int *)(in_EAX + 0x17c));
      iVar2 = (int)uVar5;
    }
    FUN_0043d940((void **)(in_EAX + 0x180),iVar2);
    if ((*(uint *)(in_EAX + 0x74) & 0x600080) != 0) {
      uVar5 = FUN_0043d410(*(int *)(in_EAX + 0x178));
      FUN_0043d940((void **)(in_EAX + 0x18c),(int)uVar5);
      if (*(int *)(in_EAX + 0x17c) < 1) {
        iVar2 = *(int *)(in_EAX + 0x178);
      }
      else {
        uVar5 = FUN_0043d410(*(int *)(in_EAX + 0x17c));
        iVar2 = (int)uVar5;
      }
      FUN_0043d940((void **)(in_EAX + 0x188),iVar2);
      return;
    }
  }
  else {
    if ((*(byte *)(in_EAX + 0x13b) & 2) == 0) {
      bVar1 = *(byte *)(in_EAX + 0x19b);
    }
    else {
      bVar1 = *(byte *)(in_EAX + 0x198);
      if (*(byte *)(in_EAX + 0x198) < *(byte *)(in_EAX + 0x199)) {
        bVar1 = *(byte *)(in_EAX + 0x199);
      }
      if (bVar1 < *(byte *)(in_EAX + 0x19a)) {
        bVar1 = *(byte *)(in_EAX + 0x19a);
      }
    }
    if ((byte)(bVar1 - 1) < 0xf) {
      bVar1 = 0x10 - bVar1;
    }
    else {
      bVar1 = 0;
    }
    uVar3 = *(uint *)(in_EAX + 0x74) & 0x4000400;
    if ((uVar3 == 0) || (4 < bVar1)) {
      if (8 < bVar1) {
        bVar1 = 8;
      }
    }
    else {
      bVar1 = 5;
    }
    uVar4 = (uint)bVar1;
    iVar2 = *(int *)(in_EAX + 0x17c);
    *(uint *)(in_EAX + 0x174) = uVar4;
    if (uVar3 == 0) {
      if (iVar2 < 1) {
        iVar2 = 100000;
      }
      else {
        uVar5 = FUN_0043d4b0(*(int *)(in_EAX + 0x178),iVar2);
        iVar2 = (int)uVar5;
      }
      FUN_0043d5e0(in_EAX,(void **)(in_EAX + 0x184),uVar4,iVar2);
    }
    else {
      if (0 < iVar2) {
        FUN_0043d460(*(int *)(in_EAX + 0x178),iVar2);
      }
      FUN_0043d780((void **)(in_EAX + 0x184),bVar1);
    }
    if ((*(uint *)(in_EAX + 0x74) & 0x600080) != 0) {
      uVar5 = FUN_0043d410(*(int *)(in_EAX + 0x178));
      FUN_0043d5e0(in_EAX,(void **)(in_EAX + 0x194),uVar4,(int)uVar5);
      if (*(int *)(in_EAX + 0x17c) < 1) {
        iVar2 = *(int *)(in_EAX + 0x178);
      }
      else {
        uVar5 = FUN_0043d410(*(int *)(in_EAX + 0x17c));
        iVar2 = (int)uVar5;
      }
      FUN_0043d5e0(in_EAX,(void **)(in_EAX + 400),uVar4,iVar2);
    }
  }
  return;
}



void FUN_0043de50(void)

{
  code *pcVar1;
  int in_EAX;
  
  if ((in_EAX != 0) && (*(code **)(in_EAX + 0x44) != (code *)0x0)) {
    (**(code **)(in_EAX + 0x44))();
  }
  FUN_0043e2f0();
  pcVar1 = (code *)swi(3);
  (*pcVar1)();
  return;
}



char * __thiscall FUN_0043de70(void *this,char *param_1,int param_2)

{
  bool bVar1;
  uint in_EAX;
  char *pcVar2;
  uint uVar3;
  int local_c;
  int local_8;
  
  pcVar2 = (char *)((int)this + -1);
  bVar1 = false;
  local_c = 0;
  local_8 = 1;
  *pcVar2 = '\0';
  while ((param_1 < pcVar2 && ((in_EAX != 0 || (local_c < local_8))))) {
    switch(param_2) {
    case 2:
      local_8 = 2;
    case 1:
      uVar3 = in_EAX / 10;
      pcVar2 = pcVar2 + -1;
      *pcVar2 = "0123456789ABCDEF"[in_EAX % 10];
      break;
    case 4:
      local_8 = 2;
    case 3:
      pcVar2 = pcVar2 + -1;
      *pcVar2 = "0123456789ABCDEF"[in_EAX & 0xf];
      uVar3 = in_EAX >> 4;
      break;
    case 5:
      local_8 = 5;
      if ((bVar1) || (in_EAX != (in_EAX / 10) * 10)) {
        pcVar2 = pcVar2 + -1;
        *pcVar2 = "0123456789ABCDEF"[in_EAX % 10];
        bVar1 = true;
      }
      uVar3 = in_EAX / 10;
      break;
    default:
      uVar3 = 0;
    }
    local_c = local_c + 1;
    in_EAX = uVar3;
    if ((param_2 == 5) && (local_c == 5)) {
      if (pcVar2 <= param_1) {
        return pcVar2;
      }
      if (bVar1) {
        pcVar2 = pcVar2 + -1;
        *pcVar2 = '.';
      }
      else if (uVar3 == 0) {
        pcVar2 = pcVar2 + -1;
        *pcVar2 = '0';
      }
    }
  }
  return pcVar2;
}



void __fastcall FUN_0043df90(char *param_1)

{
  int in_EAX;
  int iVar1;
  char *pcVar2;
  FILE *pFVar3;
  char *_Format;
  char **_Format_00;
  
  iVar1 = 0;
  if (in_EAX != 0) {
    if (*param_1 == '#') {
      iVar1 = 1;
      do {
        if (param_1[iVar1] == ' ') break;
        if (param_1[iVar1 + 1] == ' ') {
          iVar1 = iVar1 + 1;
          break;
        }
        iVar1 = iVar1 + 2;
      } while (iVar1 < 0xf);
    }
    if (*(code **)(in_EAX + 0x48) != (code *)0x0) {
      (**(code **)(in_EAX + 0x48))();
      return;
    }
  }
  pcVar2 = param_1 + iVar1;
  _Format = "libpng warning: %s";
  pFVar3 = __iob_func();
  fprintf(pFVar3 + 2,_Format,pcVar2);
  _Format_00 = &_Format_00469674;
  pFVar3 = __iob_func();
  fprintf(pFVar3 + 2,(char *)_Format_00);
  return;
}



void __fastcall FUN_0043e000(int param_1,int param_2)

{
  int iVar1;
  char *pcVar2;
  uint uVar3;
  int iVar4;
  char local_20 [24];
  uint local_8;
  
  local_8 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  pcVar2 = FUN_0043de70(&local_8,local_20,1);
  if (param_1 - 1U < 8) {
    iVar1 = param_1 * 0x20 + -0x20 + param_2;
    uVar3 = 0;
    if (iVar1 != 0) {
      if ((pcVar2 != (char *)0x0) && (*pcVar2 != '\0')) {
        iVar4 = iVar1 - (int)pcVar2;
        do {
          if (0x1e < uVar3) break;
          pcVar2[iVar4] = *pcVar2;
          pcVar2 = pcVar2 + 1;
          uVar3 = uVar3 + 1;
        } while (*pcVar2 != '\0');
      }
      *(undefined *)(iVar1 + uVar3) = 0;
    }
  }
  ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __fastcall FUN_0043e080(int param_1,int param_2,int param_3)

{
  int iVar1;
  char *pcVar2;
  uint uVar3;
  int unaff_EBX;
  int iVar4;
  char local_20 [24];
  uint local_8;
  
  local_8 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  pcVar2 = FUN_0043de70(&local_8,local_20,param_1);
  if ((param_2 < 0) && (local_20 < pcVar2)) {
    pcVar2 = pcVar2 + -1;
    *pcVar2 = '-';
  }
  if (param_3 - 1U < 8) {
    iVar1 = param_3 * 0x20 + -0x20 + unaff_EBX;
    uVar3 = 0;
    if (iVar1 != 0) {
      if ((pcVar2 != (char *)0x0) && (*pcVar2 != '\0')) {
        iVar4 = iVar1 - (int)pcVar2;
        do {
          if (0x1e < uVar3) break;
          pcVar2[iVar4] = *pcVar2;
          pcVar2 = pcVar2 + 1;
          uVar3 = uVar3 + 1;
        } while (*pcVar2 != '\0');
      }
      *(undefined *)(iVar1 + uVar3) = 0;
    }
  }
  ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __cdecl FUN_0043e110(undefined4 param_1,int param_2,char *param_3)

{
  char *pcVar1;
  char cVar2;
  int iVar3;
  char *pcVar4;
  uint uVar5;
  char cVar6;
  char local_c8 [192];
  uint local_8;
  
  local_8 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  uVar5 = 0;
  do {
    cVar2 = *param_3;
    if (cVar2 == '\0') break;
    if (((param_2 == 0) || (cVar2 != '@')) || (param_3[1] == '\0')) {
LAB_0043e1ad:
      local_c8[uVar5] = cVar2;
      uVar5 = uVar5 + 1;
    }
    else {
      cVar2 = param_3[1];
      param_3 = param_3 + 1;
      iVar3 = 0;
      if (cVar2 != '1') {
        cVar6 = '1';
        do {
          if (cVar6 == '\0') break;
          cVar6 = "23456789"[iVar3];
          iVar3 = iVar3 + 1;
        } while (cVar6 != cVar2);
        if (7 < iVar3) goto LAB_0043e1ad;
      }
      pcVar4 = (char *)(iVar3 * 0x20 + param_2);
      pcVar1 = pcVar4 + 0x20;
      for (; ((uVar5 < 0xbf && (*pcVar4 != '\0')) && (pcVar4 < pcVar1)); pcVar4 = pcVar4 + 1) {
        local_c8[uVar5] = *pcVar4;
        uVar5 = uVar5 + 1;
      }
    }
    param_3 = param_3 + 1;
  } while (uVar5 < 0xbf);
  local_c8[uVar5] = '\0';
  FUN_0043df90(local_c8);
  ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void FUN_0043e1f0(void)

{
  char cVar1;
  uint uVar2;
  int in_EAX;
  int iVar3;
  uint uVar4;
  uint uVar5;
  int unaff_EBX;
  int unaff_ESI;
  int iVar6;
  
  uVar2 = *(uint *)(in_EAX + 0x100);
  iVar3 = 0;
  iVar6 = 0x18;
  do {
    uVar4 = uVar2 >> ((byte)iVar6 & 0x1f);
    iVar6 = iVar6 + -8;
    uVar5 = uVar4 & 0xff;
    if ((uVar5 - 0x41 < 0x3a) && ((uVar5 < 0x5b || (0x60 < uVar5)))) {
      *(char *)(iVar3 + unaff_ESI) = (char)uVar5;
      iVar3 = iVar3 + 1;
    }
    else {
      *(undefined *)(iVar3 + unaff_ESI) = 0x5b;
      *(char *)(iVar3 + 1 + unaff_ESI) = "0123456789ABCDEFJan"[(int)uVar5 >> 4];
      *(char *)(iVar3 + 2 + unaff_ESI) = "0123456789ABCDEFJan"[uVar4 & 0xf];
      *(undefined *)(iVar3 + 3 + unaff_ESI) = 0x5d;
      iVar3 = iVar3 + 4;
    }
  } while (-1 < iVar6);
  if (unaff_EBX != 0) {
    iVar6 = 0;
    *(undefined2 *)(iVar3 + unaff_ESI) = 0x203a;
    iVar3 = iVar3 + 2;
    while (*(char *)(iVar6 + unaff_EBX) != '\0') {
      *(char *)(iVar3 + unaff_ESI) = *(char *)(iVar6 + unaff_EBX);
      cVar1 = *(char *)(iVar6 + 1 + unaff_EBX);
      if (cVar1 == '\0') {
        *(undefined *)(iVar3 + 1 + unaff_ESI) = 0;
        return;
      }
      *(char *)(iVar3 + 1 + unaff_ESI) = cVar1;
      cVar1 = *(char *)(iVar6 + 2 + unaff_EBX);
      if (cVar1 == '\0') {
        iVar3 = iVar3 + 2;
        break;
      }
      *(char *)(iVar3 + 2 + unaff_ESI) = cVar1;
      iVar6 = iVar6 + 3;
      iVar3 = iVar3 + 3;
      if (0x3e < iVar6) {
        *(undefined *)(iVar3 + unaff_ESI) = 0;
        return;
      }
    }
  }
  *(undefined *)(iVar3 + unaff_ESI) = 0;
  return;
}



void FUN_0043e2c0(void)

{
  code *pcVar1;
  int unaff_EDI;
  
  if (unaff_EDI == 0) {
    FUN_0043de50();
  }
  FUN_0043e1f0();
  FUN_0043de50();
  pcVar1 = (code *)swi(3);
  (*pcVar1)();
  return;
}



void FUN_0043e2f0(void)

{
  char *in_EAX;
  FILE *pFVar1;
  int unaff_EDI;
  char *_Format;
  char **_Format_00;
  
  if (in_EAX == (char *)0x0) {
    in_EAX = "undefined";
  }
  _Format = "libpng error: %s";
  pFVar1 = __iob_func();
  fprintf(pFVar1 + 2,_Format,in_EAX);
  _Format_00 = &_Format_00469674;
  pFVar1 = __iob_func();
  fprintf(pFVar1 + 2,(char *)_Format_00);
  if ((unaff_EDI != 0) && (*(code **)(unaff_EDI + 0x40) != (code *)0x0)) {
    (**(code **)(unaff_EDI + 0x40))();
  }
                    // WARNING: Subroutine does not return
  ExitProcess(0);
}



void * __fastcall FUN_0043e350(int param_1)

{
  char *in_EAX;
  void *_Dst;
  
  if ((param_1 != 0) && (in_EAX != (char *)0x0)) {
    if (*(code **)(param_1 + 0x264) == (code *)0x0) {
      _Dst = malloc((size_t)in_EAX);
    }
    else {
      _Dst = (void *)(**(code **)(param_1 + 0x264))(param_1);
    }
    if ((_Dst == (void *)0x0) && ((*(uint *)(param_1 + 0x70) & 0x100000) == 0)) {
      in_EAX = s_Out_of_Memory_0046968c;
      _Dst = (void *)FUN_0043de50();
    }
    if (_Dst != (void *)0x0) {
      memset(_Dst,0,(size_t)in_EAX);
    }
    return _Dst;
  }
  return (void *)0x0;
}



void * __fastcall FUN_0043e3b0(size_t param_1)

{
  void *pvVar1;
  int unaff_EDI;
  
  if ((unaff_EDI == 0) || (param_1 == 0)) {
    pvVar1 = (void *)0x0;
  }
  else {
    if (*(code **)(unaff_EDI + 0x264) == (code *)0x0) {
      pvVar1 = malloc(param_1);
    }
    else {
      pvVar1 = (void *)(**(code **)(unaff_EDI + 0x264))();
    }
    if ((pvVar1 == (void *)0x0) && ((*(uint *)(unaff_EDI + 0x70) & 0x100000) == 0)) {
      pvVar1 = (void *)FUN_0043de50();
      return pvVar1;
    }
  }
  return pvVar1;
}



void __fastcall FUN_0043e3f0(int param_1,void *param_2)

{
  if ((param_1 != 0) && (param_2 != (void *)0x0)) {
    if (*(code **)(param_1 + 0x268) != (code *)0x0) {
      (**(code **)(param_1 + 0x268))(param_1);
      return;
    }
    free(param_2);
  }
  return;
}



void * __fastcall FUN_0043e420(size_t param_1)

{
  void *pvVar1;
  char *pcVar2;
  int unaff_EDI;
  
  if (unaff_EDI == 0) {
    return (void *)0x0;
  }
  pcVar2 = *(char **)(unaff_EDI + 0x70);
  *(uint *)(unaff_EDI + 0x70) = (uint)pcVar2 | 0x100000;
  if (param_1 != 0) {
    if (*(code **)(unaff_EDI + 0x264) == (code *)0x0) {
      pvVar1 = malloc(param_1);
    }
    else {
      pvVar1 = (void *)(**(code **)(unaff_EDI + 0x264))();
    }
    if ((pvVar1 != (void *)0x0) || ((*(uint *)(unaff_EDI + 0x70) & 0x100000) != 0))
    goto LAB_0043e46f;
    pcVar2 = s_Out_of_Memory_0046968c;
    FUN_0043de50();
  }
  pvVar1 = (void *)0x0;
LAB_0043e46f:
  *(char **)(unaff_EDI + 0x70) = pcVar2;
  return pvVar1;
}



void __cdecl FUN_0043e480(int param_1,void *param_2,size_t param_3)

{
  size_t sVar1;
  
  if ((param_1 != 0) &&
     (sVar1 = fread(param_2,1,param_3,*(FILE **)(param_1 + 0x58)), sVar1 != param_3)) {
    FUN_0043de50();
  }
  return;
}



void FUN_0043e4c0(void)

{
  int unaff_ESI;
  
  if (unaff_ESI != 0) {
    *(undefined4 *)(unaff_ESI + 0x58) = 0;
    *(code **)(unaff_ESI + 0x54) = FUN_0043e480;
    if (*(int *)(unaff_ESI + 0x50) != 0) {
      *(undefined4 *)(unaff_ESI + 0x50) = 0;
      FUN_0043df90("Can\'t set both read_data_fn and write_data_fn in the same structure");
    }
    *(undefined4 *)(unaff_ESI + 0x168) = 0;
  }
  return;
}



uint __fastcall FUN_0043e500(undefined *param_1)

{
  uint uVar1;
  
  uVar1 = CONCAT31(CONCAT21(CONCAT11(*param_1,param_1[1]),param_1[2]),param_1[3]);
  if (0x7fffffff < uVar1) {
    uVar1 = 0xffffffff;
  }
  return uVar1;
}



void __cdecl FUN_0043e530(int param_1)

{
  code *pcVar1;
  int iVar2;
  undefined4 extraout_ECX;
  undefined4 extraout_ECX_00;
  uint uVar3;
  int unaff_EDI;
  
  if (*(byte *)(unaff_EDI + 0x141) < 8) {
    uVar3 = (uint)*(byte *)(unaff_EDI + 0x141);
    *(undefined4 *)(unaff_EDI + 0x2ac) = 0x11;
    if (*(code **)(unaff_EDI + 0x54) == (code *)0x0) {
      FUN_0043de50();
      pcVar1 = (code *)swi(3);
      (*pcVar1)();
      return;
    }
    (**(code **)(unaff_EDI + 0x54))();
    *(undefined *)(unaff_EDI + 0x141) = 8;
    iVar2 = FUN_0043bf50(extraout_ECX,uVar3,param_1 + 0x20,-uVar3 + 8);
    if (iVar2 != 0) {
      if (uVar3 < 4) {
        iVar2 = FUN_0043bf50(extraout_ECX_00,uVar3,param_1 + 0x20,-uVar3 + 4);
        if (iVar2 != 0) {
          FUN_0043de50();
        }
      }
      FUN_0043de50();
    }
    if (uVar3 < 3) {
      *(uint *)(unaff_EDI + 0x6c) = *(uint *)(unaff_EDI + 0x6c) | 0x1000;
    }
  }
  return;
}



void __fastcall FUN_0043e5e0(int param_1)

{
  code *pcVar1;
  uint uVar2;
  uint uVar3;
  int iVar4;
  uint uVar5;
  uint *puVar6;
  uint local_18;
  undefined local_10;
  undefined local_f;
  undefined local_e;
  undefined local_d;
  byte local_c;
  undefined local_b;
  undefined local_a;
  undefined local_9;
  uint local_8;
  
  local_8 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  *(undefined4 *)(param_1 + 0x2ac) = 0x21;
  if (*(code **)(param_1 + 0x54) == (code *)0x0) goto LAB_0043e73b;
  (**(code **)(param_1 + 0x54))(param_1,&local_10,8);
  if (0x7fffffff < CONCAT31(CONCAT21(CONCAT11(local_10,local_f),local_e),local_d)) {
    FUN_0043de50();
  }
  uVar5 = CONCAT31(CONCAT21(CONCAT11(local_c,local_b),local_a),local_9);
  *(uint *)(param_1 + 0x100) = uVar5;
  *(undefined4 *)(param_1 + 0x124) = 0;
  local_18 = 4;
  puVar6 = (uint *)&local_c;
  if ((local_c & 0x20) == 0) {
    if ((*(uint *)(param_1 + 0x70) & 0x800) == 0) goto LAB_0043e6b0;
  }
  else if ((*(uint *)(param_1 + 0x70) & 0x300) != 0x300) {
LAB_0043e6b0:
    do {
      uVar3 = local_18;
      if (local_18 == 0) {
        uVar3 = 0xffffffff;
      }
      if (puVar6 == (uint *)0x0) {
        uVar2 = 0;
      }
      else {
        uVar2 = FUN_004497a0(puVar6,uVar3);
      }
      puVar6 = (uint *)((int)puVar6 + uVar3);
      local_18 = local_18 - uVar3;
    } while (local_18 != 0);
    *(uint *)(param_1 + 0x124) = uVar2;
  }
  iVar4 = 1;
  while ((uVar3 = uVar5 & 0xff, uVar3 - 0x41 < 0x3a && ((uVar3 < 0x5b || (0x60 < uVar3))))) {
    iVar4 = iVar4 + 1;
    uVar5 = uVar5 >> 8;
    if (4 < iVar4) {
      *(undefined4 *)(param_1 + 0x2ac) = 0x41;
      ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
      return;
    }
  }
  FUN_0043e2c0();
LAB_0043e73b:
  FUN_0043de50();
  pcVar1 = (code *)swi(3);
  (*pcVar1)();
  return;
}



void FUN_0043e750(void)

{
  code *pcVar1;
  void *unaff_EBX;
  int unaff_EDI;
  
  if (unaff_EDI != 0) {
    if (*(code **)(unaff_EDI + 0x54) == (code *)0x0) {
      FUN_0043de50();
      pcVar1 = (code *)swi(3);
      (*pcVar1)();
      return;
    }
    (**(code **)(unaff_EDI + 0x54))();
    FUN_0043c0f0(unaff_EBX,unaff_EDI);
  }
  return;
}



void __thiscall FUN_0043e780(void *this,uint param_1)

{
  uint uVar1;
  void *this_00;
  code *pcVar2;
  uint uVar3;
  void *unaff_EBX;
  char *pcVar4;
  uint local_60;
  char local_5c [84];
  uint local_8;
  
  local_8 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  uVar1 = *(uint *)((int)this + 0xb4);
  local_60 = param_1;
  if (uVar1 < param_1) {
    do {
      unaff_EBX = *(void **)((int)this + 0xb0);
      if (*(code **)((int)this + 0x54) == (code *)0x0) goto LAB_0043e82d;
      (**(code **)((int)this + 0x54))(this,unaff_EBX,*(undefined4 *)((int)this + 0xb4));
      FUN_0043c0f0(unaff_EBX,(int)this);
      local_60 = local_60 - uVar1;
    } while (uVar1 < local_60);
  }
  if (local_60 != 0) {
    this_00 = *(void **)((int)this + 0xb0);
    if (*(code **)((int)this + 0x54) == (code *)0x0) goto LAB_0043e82d;
    (**(code **)((int)this + 0x54))(this,this_00,local_60);
    FUN_0043c0f0(this_00,(int)this);
  }
  unaff_EBX = (void *)0x20000000;
  pcVar4 = (char *)0x1;
  if ((*(uint *)((int)this + 0x100) & 0x20000000) == 0) goto LAB_0043e839;
  if ((*(uint *)((int)this + 0x70) & 0x300) != 0x300) goto LAB_0043e844;
  do {
    pcVar4 = (char *)0x0;
LAB_0043e844:
    do {
      *(undefined4 *)((int)this + 0x2ac) = 0x81;
      if (*(code **)((int)this + 0x54) != (code *)0x0) {
        (**(code **)((int)this + 0x54))(this,&local_60,4);
        if ((pcVar4 != (char *)0x0) &&
           ((((local_60 & 0xff) * 0x100 + (local_60 >> 8 & 0xff)) * 0x100 +
            (local_60 >> 0x10 & 0xff)) * 0x100 + (local_60 >> 0x18) != *(int *)((int)this + 0x124)))
        {
          uVar1 = *(uint *)((int)this + 0x70);
          if ((*(uint *)((int)this + 0x100) & (uint)unaff_EBX) == 0) {
            uVar3 = uVar1 & 0x400;
          }
          else {
            uVar3 = ~(uVar1 >> 9) & 1;
          }
          if (uVar3 != 0) {
            FUN_0043e1f0();
            FUN_0043df90(local_5c);
            ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
            return;
          }
          if ((uVar1 & 0x800000) == 0) {
            FUN_0043e2c0();
            pcVar2 = (code *)swi(3);
            (*pcVar2)();
            return;
          }
          FUN_0043e1f0();
          FUN_0043df90(local_5c);
        }
        ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
        return;
      }
LAB_0043e82d:
      pcVar4 = s_Call_to_NULL_read_function_0046969c;
      FUN_0043de50();
LAB_0043e839:
    } while ((*(uint *)((int)this + 0x70) & 0x800) == 0);
  } while( true );
}



// WARNING: Removing unreachable block (ram,0x0043e970)

void __fastcall
FUN_0043e930(undefined4 param_1,undefined4 param_2,int param_3,int param_4,uint param_5)

{
  int iVar1;
  uint _Size;
  int extraout_ECX;
  int extraout_ECX_00;
  int iVar2;
  uint uVar3;
  int unaff_EDI;
  uint local_60;
  char local_5c [84];
  uint local_8;
  
  local_8 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  local_60 = 0;
  *(undefined4 *)(unaff_EDI + 0x78) = param_2;
  *(undefined4 *)(unaff_EDI + 0x7c) = 0;
  do {
    if ((*(int *)(unaff_EDI + 0x7c) == 0) && (param_3 != 0)) {
      *(int *)(unaff_EDI + 0x7c) = param_3;
      param_3 = 0;
    }
    *(undefined4 *)(unaff_EDI + 0x84) = *(undefined4 *)(unaff_EDI + 0xb0);
    *(undefined4 *)(unaff_EDI + 0x88) = *(undefined4 *)(unaff_EDI + 0xb4);
    iVar1 = FUN_00448250((uint **)(unaff_EDI + 0x78));
    uVar3 = *(int *)(unaff_EDI + 0xb4) - *(int *)(unaff_EDI + 0x88);
    iVar2 = extraout_ECX;
    if (((iVar1 == 0) || (iVar1 == 1)) && (0 < (int)uVar3)) {
      iVar2 = param_4;
      if ((param_4 != 0) && (local_60 < param_5)) {
        _Size = param_5 - local_60;
        if (uVar3 < param_5 - local_60) {
          _Size = uVar3;
        }
        memcpy((void *)(param_4 + local_60),*(void **)(unaff_EDI + 0xb0),_Size);
        iVar2 = extraout_ECX_00;
      }
      local_60 = local_60 + uVar3;
    }
  } while (iVar1 == 0);
  *(undefined4 *)(unaff_EDI + 0x7c) = 0;
  FUN_00448000(iVar2,unaff_EDI + 0x78);
  if (iVar1 != 1) {
    FUN_0043e1f0();
    FUN_0043df90(local_5c);
    ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
    return;
  }
  ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __fastcall FUN_0043ea70(char **param_1,int param_2,int param_3,char *param_4,char *param_5)

{
  int iVar1;
  uint uVar2;
  uint uVar3;
  void *pvVar4;
  undefined local_108 [256];
  uint local_8;
  
  local_8 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  if (param_4 < param_5) {
    FUN_0043df90("invalid chunklength");
    param_5 = (char *)0x0;
  }
  else if (param_2 == 0) {
    iVar1 = (int)param_4 - (int)param_5;
    uVar2 = FUN_0043e930(param_1,param_5 + *(int *)(param_3 + 0x2a8),iVar1,0,0);
    if (((param_5 < (char *)0xfffffffe) && (uVar2 < -(int)param_5 - 2U)) &&
       ((*(int *)(param_3 + 0x28c) == 0 ||
        (param_5 + uVar2 < (char *)(*(int *)(param_3 + 0x28c) - 1U))))) {
      if (uVar2 != 0) {
        pvVar4 = FUN_0043e420((size_t)(param_5 + uVar2 + 1));
        if (pvVar4 == (void *)0x0) {
          FUN_0043df90("Not enough memory to decompress chunk");
        }
        else {
          memcpy(pvVar4,*(void **)(param_3 + 0x2a8),(size_t)param_5);
          uVar3 = FUN_0043e930(iVar1,param_5 + *(int *)(param_3 + 0x2a8),iVar1,
                               (int)((int)pvVar4 + (int)param_5),uVar2);
          (param_5 + (int)pvVar4)[uVar2] = '\0';
          if (uVar3 == uVar2) {
            FUN_0043e3f0(param_3,*(void **)(param_3 + 0x2a8));
            *(void **)(param_3 + 0x2a8) = pvVar4;
            *param_1 = param_5 + uVar2;
            ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
            return;
          }
          FUN_0043df90("png_inflate logic error");
          FUN_0043e3f0(param_3,pvVar4);
        }
      }
    }
    else {
      FUN_0043df90("Exceeded size limit while expanding chunk");
    }
  }
  else {
    FUN_0043e080(1,param_2,1);
    FUN_0043e110(param_3,(int)local_108,"Unknown compression type @1");
  }
  if (param_3 != 0) {
    uVar2 = *(uint *)(param_3 + 0x70);
    *(uint *)(param_3 + 0x70) = uVar2 | 0x100000;
    if (param_5 + 1 == (char *)0x0) {
      pvVar4 = (void *)0x0;
    }
    else {
      if (*(code **)(param_3 + 0x264) == (code *)0x0) {
        pvVar4 = malloc((size_t)(param_5 + 1));
      }
      else {
        pvVar4 = (void *)(**(code **)(param_3 + 0x264))(param_3);
      }
      if ((pvVar4 == (void *)0x0) && ((*(uint *)(param_3 + 0x70) & 0x100000) == 0)) {
        param_5 = s_Out_of_Memory_0046968c;
        pvVar4 = (void *)FUN_0043de50();
      }
    }
    *(uint *)(param_3 + 0x70) = uVar2;
    if (pvVar4 != (void *)0x0) {
      if (param_5 != (char *)0x0) {
        memcpy(pvVar4,*(void **)(param_3 + 0x2a8),(size_t)param_5);
      }
      if (*(void **)(param_3 + 0x2a8) != (void *)0x0) {
        if (*(code **)(param_3 + 0x268) == (code *)0x0) {
          free(*(void **)(param_3 + 0x2a8));
        }
        else {
          (**(code **)(param_3 + 0x268))(param_3);
        }
      }
      *(void **)(param_3 + 0x2a8) = pvVar4;
      param_5[(int)pvVar4] = '\0';
    }
  }
  *param_1 = param_5;
  ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __cdecl FUN_0043ecc0(undefined4 param_1,int param_2)

{
  code *pcVar1;
  byte bVar2;
  uint uVar3;
  uint uVar4;
  uint *puVar5;
  char *pcVar6;
  void *unaff_EDI;
  uint local_1c;
  undefined local_18;
  undefined local_17;
  undefined local_16;
  undefined local_15;
  undefined local_14;
  undefined local_13;
  undefined local_12;
  undefined local_11;
  byte local_10;
  byte local_f;
  byte local_e;
  byte local_d;
  byte local_c;
  uint local_8;
  
  local_8 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  uVar3 = *(uint *)((int)unaff_EDI + 0x6c);
  if ((uVar3 & 1) != 0) {
    uVar3 = FUN_0043de50();
  }
  if (param_2 != 0xd) {
    uVar3 = FUN_0043de50();
  }
  *(uint *)((int)unaff_EDI + 0x6c) = uVar3 | 1;
  if (*(code **)((int)unaff_EDI + 0x54) == (code *)0x0) {
    FUN_0043de50();
    pcVar1 = (code *)swi(3);
    (*pcVar1)();
    return;
  }
  (**(code **)((int)unaff_EDI + 0x54))();
  local_1c = 0xd;
  puVar5 = (uint *)&local_18;
  if ((*(uint *)((int)unaff_EDI + 0x100) & 0x20000000) == 0) {
    if ((*(uint *)((int)unaff_EDI + 0x70) & 0x800) != 0) goto LAB_0043ed7f;
  }
  else if ((*(uint *)((int)unaff_EDI + 0x70) & 0x300) == 0x300) goto LAB_0043ed7f;
  do {
    uVar3 = local_1c;
    if (local_1c == 0) {
      uVar3 = 0xffffffff;
    }
    if (puVar5 == (uint *)0x0) {
      uVar4 = 0;
    }
    else {
      uVar4 = FUN_004497a0(puVar5,uVar3);
    }
    puVar5 = (uint *)((int)puVar5 + uVar3);
    local_1c = local_1c - uVar3;
  } while (local_1c != 0);
  *(uint *)((int)unaff_EDI + 0x124) = uVar4;
LAB_0043ed7f:
  FUN_0043e780(unaff_EDI,0);
  uVar3 = CONCAT31(CONCAT21(CONCAT11(local_18,local_17),local_16),local_15);
  if (0x7fffffff < uVar3) {
    FUN_0043de50();
  }
  pcVar6 = (char *)CONCAT31(CONCAT21(CONCAT11(local_14,local_13),local_12),local_11);
  if ((char *)0x7fffffff < pcVar6) {
    pcVar6 = "PNG unsigned integer out of range";
    FUN_0043de50();
  }
  uVar4 = (uint)local_f;
  *(byte *)((int)unaff_EDI + 0x138) = local_c;
  *(byte *)((int)unaff_EDI + 0x25c) = local_d;
  *(byte *)((int)unaff_EDI + 0x27c) = local_e;
  *(uint *)((int)unaff_EDI + 0xe4) = uVar3;
  *(char **)((int)unaff_EDI + 0xe8) = pcVar6;
  *(byte *)((int)unaff_EDI + 0x13c) = local_10;
  *(byte *)((int)unaff_EDI + 0x13b) = local_f;
  if (uVar4 == 2) {
    *(undefined *)((int)unaff_EDI + 0x13f) = 3;
  }
  else if (uVar4 == 4) {
    *(undefined *)((int)unaff_EDI + 0x13f) = 2;
  }
  else if (uVar4 == 6) {
    *(undefined *)((int)unaff_EDI + 0x13f) = 4;
  }
  else {
    *(undefined *)((int)unaff_EDI + 0x13f) = 1;
  }
  bVar2 = *(char *)((int)unaff_EDI + 0x13f) * local_10;
  *(byte *)((int)unaff_EDI + 0x13e) = bVar2;
  if (bVar2 < 8) {
    uVar3 = bVar2 * uVar3 + 7 >> 3;
  }
  else {
    uVar3 = (bVar2 >> 3) * uVar3;
  }
  *(uint *)((int)unaff_EDI + 0xf4) = uVar3;
  FUN_004472c0(uVar4,(uint)pcVar6,(int)unaff_EDI,local_10,local_f,local_c,local_e,local_d);
  ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __fastcall FUN_0043eee0(undefined *param_1,void *param_2,char *param_3)

{
  code *pcVar1;
  int iVar2;
  uint uVar3;
  uint uVar4;
  byte extraout_CL;
  byte bVar5;
  ushort uVar6;
  char *pcVar7;
  uint *puVar8;
  uint local_31c;
  int local_318;
  undefined4 local_30c;
  undefined local_308 [2];
  undefined local_306 [766];
  uint local_8;
  
  local_8 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  uVar3 = *(uint *)((int)param_2 + 0x6c);
  pcVar7 = param_3;
  if ((uVar3 & 1) == 0) {
    pcVar7 = "Missing IHDR before PLTE";
    uVar3 = FUN_0043de50();
  }
  if ((uVar3 & 4) == 0) {
    if ((uVar3 & 2) != 0) {
      pcVar7 = "Duplicate PLTE chunk";
      uVar3 = FUN_0043de50();
    }
    bVar5 = *(byte *)((int)param_2 + 0x13b);
    *(uint *)((int)param_2 + 0x6c) = uVar3 | 2;
    if ((bVar5 & 2) == 0) {
      pcVar7 = "Ignoring PLTE chunk in grayscale PNG";
    }
    else {
      if ((param_1 < (undefined *)0x301) && (param_1 == (undefined *)(((uint)param_1 / 3) * 3))) {
        iVar2 = (int)param_1 / 3;
        local_318 = 0;
        if (0 < iVar2) {
          param_1 = local_306;
          do {
            if (*(code **)((int)param_2 + 0x54) == (code *)0x0) {
              FUN_0043de50();
              bVar5 = extraout_CL;
              goto LAB_0043f12c;
            }
            (**(code **)((int)param_2 + 0x54))(param_2,&local_30c,3);
            local_31c = 3;
            puVar8 = &local_30c;
            if ((*(uint *)((int)param_2 + 0x100) & 0x20000000) == 0) {
              if ((*(uint *)((int)param_2 + 0x70) & 0x800) == 0) goto LAB_0043f020;
            }
            else if ((*(uint *)((int)param_2 + 0x70) & 0x300) != 0x300) {
LAB_0043f020:
              do {
                uVar3 = local_31c;
                if (local_31c == 0) {
                  uVar3 = 0xffffffff;
                }
                if (puVar8 == (uint *)0x0) {
                  uVar4 = 0;
                }
                else {
                  uVar4 = FUN_004497a0(puVar8,uVar3);
                }
                puVar8 = (uint *)((int)puVar8 + uVar3);
                local_31c = local_31c - uVar3;
              } while (local_31c != 0);
              *(uint *)((int)param_2 + 0x124) = uVar4;
            }
            param_1[-2] = (undefined)local_30c;
            local_318 = local_318 + 1;
            param_1[-1] = local_30c._1_1_;
            *param_1 = local_30c._2_1_;
            param_1 = param_1 + 3;
            pcVar7 = param_3;
          } while (local_318 < iVar2);
        }
        FUN_0043e780(param_2,0);
        FUN_004476e0(local_308);
        if (((*(char *)((int)param_2 + 0x13b) == '\x03') && (pcVar7 != (char *)0x0)) &&
           ((pcVar7[8] & 0x10U) != 0)) {
          uVar6 = (ushort)iVar2;
          if (uVar6 <= *(ushort *)((int)param_2 + 0x134) &&
              *(ushort *)((int)param_2 + 0x134) != uVar6) {
            FUN_0043df90("Truncating incorrect tRNS chunk length");
            *(ushort *)((int)param_2 + 0x134) = uVar6;
          }
          if (uVar6 <= *(ushort *)(pcVar7 + 0x16) && *(ushort *)(pcVar7 + 0x16) != uVar6) {
            FUN_0043df90("Truncating incorrect info tRNS chunk length");
            *(ushort *)(pcVar7 + 0x16) = uVar6;
            ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
            return;
          }
        }
        goto LAB_0043ef31;
      }
LAB_0043f12c:
      if (bVar5 == 3) {
        FUN_0043de50();
        pcVar1 = (code *)swi(3);
        (*pcVar1)();
        return;
      }
      pcVar7 = "Invalid palette chunk";
    }
  }
  else {
    pcVar7 = "Invalid PLTE after IDAT";
  }
  FUN_0043df90(pcVar7);
  FUN_0043e780(param_2,(uint)param_1);
LAB_0043ef31:
  ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __fastcall FUN_0043f150(uint param_1,char *param_2)

{
  code *pcVar1;
  uint uVar2;
  uint uVar3;
  int iVar4;
  uint *puVar5;
  char *pcVar6;
  void *unaff_EDI;
  uint local_110;
  uint local_10c;
  undefined local_108 [256];
  uint local_8;
  
  local_8 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  uVar2 = *(uint *)((int)unaff_EDI + 0x6c);
  pcVar6 = param_2;
  if ((uVar2 & 1) == 0) {
    pcVar6 = "Missing IHDR before gAMA";
    uVar2 = FUN_0043de50();
  }
  if ((uVar2 & 4) == 0) {
    if ((uVar2 & 2) != 0) {
      FUN_0043df90("Out of place gAMA chunk");
    }
    if (((pcVar6 == (char *)0x0) || ((*(uint *)(pcVar6 + 8) & 1) == 0)) ||
       ((*(uint *)(pcVar6 + 8) & 0x800) != 0)) {
      if (param_1 == 4) {
        if (*(code **)((int)unaff_EDI + 0x54) == (code *)0x0) {
          FUN_0043de50();
          pcVar1 = (code *)swi(3);
          (*pcVar1)();
          return;
        }
        (**(code **)((int)unaff_EDI + 0x54))();
        local_110 = 4;
        puVar5 = &local_10c;
        if ((*(uint *)((int)unaff_EDI + 0x100) & 0x20000000) == 0) {
          if ((*(uint *)((int)unaff_EDI + 0x70) & 0x800) == 0) goto LAB_0043f240;
        }
        else if ((*(uint *)((int)unaff_EDI + 0x70) & 0x300) != 0x300) {
LAB_0043f240:
          do {
            uVar2 = local_110;
            if (local_110 == 0) {
              uVar2 = 0xffffffff;
            }
            if (puVar5 == (uint *)0x0) {
              uVar3 = 0;
            }
            else {
              uVar3 = FUN_004497a0(puVar5,uVar2);
            }
            puVar5 = (uint *)((int)puVar5 + uVar2);
            local_110 = local_110 - uVar2;
          } while (local_110 != 0);
          *(uint *)((int)unaff_EDI + 0x124) = uVar3;
          pcVar6 = param_2;
        }
        iVar4 = FUN_0043e780(unaff_EDI,0);
        if (iVar4 == 0) {
          uVar2 = FUN_0043e500((undefined *)&local_10c);
          if ((int)uVar2 < 1) {
            FUN_0043df90("Ignoring gAMA chunk with out of range gamma");
            ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
            return;
          }
          if (((pcVar6 != (char *)0x0) && ((*(uint *)(pcVar6 + 8) & 0x800) != 0)) &&
             (((int)uVar2 < 45000 || (46000 < (int)uVar2)))) {
            FUN_0043e080(5,uVar2,1);
            FUN_0043e110(unaff_EDI,(int)local_108,
                         "Ignoring incorrect gAMA value @1 when sRGB is also present");
            ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
            return;
          }
          *(uint *)((int)unaff_EDI + 0x178) = uVar2;
          FUN_004471f0((int)pcVar6,uVar2);
          ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
          return;
        }
        goto LAB_0043f19d;
      }
      pcVar6 = "Incorrect gAMA chunk length";
    }
    else {
      pcVar6 = "Duplicate gAMA chunk";
    }
  }
  else {
    pcVar6 = "Invalid gAMA after IDAT";
  }
  FUN_0043df90(pcVar6);
  FUN_0043e780(unaff_EDI,param_1);
LAB_0043f19d:
  ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __cdecl FUN_0043f340(uint param_1)

{
  undefined uVar1;
  uint uVar2;
  int iVar3;
  char *pcVar4;
  int unaff_EBX;
  void *unaff_EDI;
  undefined4 local_8;
  
  uVar2 = *(uint *)((int)unaff_EDI + 0x6c);
  local_8 = 0;
  if ((uVar2 & 1) == 0) {
    uVar2 = FUN_0043de50();
  }
  if ((uVar2 & 4) != 0) {
    FUN_0043df90("Invalid sBIT after IDAT");
    FUN_0043e780(unaff_EDI,param_1);
    return;
  }
  if ((uVar2 & 2) != 0) {
    FUN_0043df90("Out of place sBIT chunk");
  }
  if ((unaff_EBX == 0) || ((*(byte *)(unaff_EBX + 8) & 2) == 0)) {
    uVar2 = 3;
    if (*(char *)((int)unaff_EDI + 0x13b) != '\x03') {
      uVar2 = (uint)*(byte *)((int)unaff_EDI + 0x13f);
    }
    if ((param_1 == uVar2) && (param_1 < 5)) {
      if (*(code **)((int)unaff_EDI + 0x54) != (code *)0x0) {
        (**(code **)((int)unaff_EDI + 0x54))();
        FUN_0043c0f0(&local_8,(int)unaff_EDI);
        iVar3 = FUN_0043e780(unaff_EDI,0);
        if (iVar3 != 0) {
          return;
        }
        if ((*(byte *)((int)unaff_EDI + 0x13b) & 2) == 0) {
          *(undefined *)((int)unaff_EDI + 0x19b) = (undefined)local_8;
          *(undefined *)((int)unaff_EDI + 0x198) = (undefined)local_8;
          *(undefined *)((int)unaff_EDI + 0x199) = (undefined)local_8;
          *(undefined *)((int)unaff_EDI + 0x19a) = (undefined)local_8;
          *(undefined *)((int)unaff_EDI + 0x19c) = local_8._1_1_;
        }
        else {
          *(undefined *)((int)unaff_EDI + 0x198) = (undefined)local_8;
          *(undefined *)((int)unaff_EDI + 0x199) = local_8._1_1_;
          *(undefined *)((int)unaff_EDI + 0x19a) = local_8._2_1_;
          *(undefined *)((int)unaff_EDI + 0x19c) = local_8._3_1_;
        }
        if (unaff_EBX == 0) {
          return;
        }
        *(undefined4 *)(unaff_EBX + 0x44) = *(undefined4 *)((int)unaff_EDI + 0x198);
        uVar1 = *(undefined *)((int)unaff_EDI + 0x19c);
        *(uint *)(unaff_EBX + 8) = *(uint *)(unaff_EBX + 8) | 2;
        *(undefined *)(unaff_EBX + 0x48) = uVar1;
        return;
      }
      FUN_0043de50();
    }
    pcVar4 = "Incorrect sBIT chunk length";
  }
  else {
    pcVar4 = "Duplicate sBIT chunk";
  }
  FUN_0043df90(pcVar4);
  FUN_0043e780(unaff_EDI,param_1);
  return;
}



void __fastcall FUN_0043f4a0(uint param_1,void *param_2,char *param_3)

{
  code *pcVar1;
  uint uVar2;
  int iVar3;
  uint uVar4;
  int iVar5;
  char *pcVar6;
  undefined4 extraout_ECX;
  undefined4 extraout_ECX_00;
  undefined4 extraout_ECX_01;
  char *pcVar7;
  int iVar8;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  undefined4 extraout_EDX_01;
  uint *puVar9;
  uint *puVar10;
  ulonglong uVar11;
  double dVar12;
  undefined in_stack_fffffe58;
  uint local_178 [4];
  uint local_168;
  uint local_164;
  uint local_160;
  uint local_15c;
  uint local_158;
  uint local_154;
  char *local_150;
  uint local_14c;
  uint local_148;
  void *local_144;
  uint local_140;
  uint local_13c;
  uint local_138;
  uint local_134;
  undefined local_130 [260];
  uint local_2c;
  undefined local_28 [4];
  undefined local_24 [4];
  undefined local_20 [4];
  undefined local_1c [4];
  undefined local_18 [4];
  undefined local_14 [4];
  undefined local_10 [4];
  uint local_c;
  
  local_c = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  uVar2 = *(uint *)((int)param_2 + 0x6c);
  local_150 = param_3;
  local_144 = param_2;
  if ((uVar2 & 1) == 0) {
    param_3 = "Missing IHDR before cHRM";
    uVar2 = FUN_0043de50();
  }
  if ((uVar2 & 4) == 0) {
    if ((uVar2 & 2) != 0) {
      FUN_0043df90("Out of place cHRM chunk");
    }
    if (((param_3 == (char *)0x0) || ((*(uint *)(param_3 + 8) & 4) == 0)) ||
       ((*(uint *)(param_3 + 8) & 0x800) != 0)) {
      if (param_1 == 0x20) {
        if (*(code **)((int)param_2 + 0x54) == (code *)0x0) {
          FUN_0043de50();
          pcVar1 = (code *)swi(3);
          (*pcVar1)();
          return;
        }
        (**(code **)((int)param_2 + 0x54))();
        local_134 = 0x20;
        puVar9 = &local_2c;
        if ((*(uint *)((int)param_2 + 0x100) & 0x20000000) == 0) {
          if ((*(uint *)((int)param_2 + 0x70) & 0x800) == 0) goto LAB_0043f590;
        }
        else if ((*(uint *)((int)param_2 + 0x70) & 0x300) != 0x300) {
LAB_0043f590:
          do {
            uVar2 = local_134;
            if (local_134 == 0) {
              uVar2 = 0xffffffff;
            }
            if (puVar9 == (uint *)0x0) {
              uVar4 = 0;
            }
            else {
              uVar4 = FUN_004497a0(puVar9,uVar2);
            }
            puVar9 = (uint *)((int)puVar9 + uVar2);
            local_134 = local_134 - uVar2;
          } while (local_134 != 0);
          *(uint *)((int)param_2 + 0x124) = uVar4;
          local_134 = 0;
        }
        iVar3 = FUN_0043e780(param_2,0);
        if (iVar3 != 0) goto LAB_0043f4f7;
        uVar4 = FUN_0043e500((undefined *)&local_2c);
        local_154 = uVar4;
        uVar2 = FUN_0043e500(local_28);
        local_158 = uVar2;
        local_14c = FUN_0043e500(local_24);
        local_138 = FUN_0043e500(local_20);
        local_13c = FUN_0043e500(local_1c);
        local_140 = FUN_0043e500(local_18);
        local_148 = FUN_0043e500(local_14);
        local_134 = FUN_0043e500(local_10);
        if (((((uVar4 == 0xffffffff) || (uVar2 == 0xffffffff)) ||
             ((local_14c == 0xffffffff || ((local_138 == 0xffffffff || (local_13c == 0xffffffff)))))
             ) || (local_140 == 0xffffffff)) ||
           ((local_148 == 0xffffffff || (local_134 == 0xffffffff)))) goto LAB_0043fad9;
        if ((local_150 != (char *)0x0) && ((*(uint *)(local_150 + 8) & 0x800) != 0)) {
          if ((((((2000 < uVar4 - 0x763e) || (2000 < uVar2 - 0x7c9c)) || (2000 < local_14c - 63000))
               || ((2000 < local_138 - 32000 || (2000 < local_13c - 29000)))) ||
              (2000 < local_140 - 59000)) ||
             (((2000 < local_148 - 14000 || ((int)local_134 < 5000)) || (7000 < (int)local_134)))) {
            FUN_0043e080(5,uVar4,1);
            FUN_0043e080(5,uVar2,2);
            FUN_0043e080(5,local_14c,3);
            FUN_0043e080(5,local_138,4);
            FUN_0043e080(5,local_13c,5);
            FUN_0043e080(5,local_140,6);
            FUN_0043e080(5,local_148,7);
            FUN_0043e080(5,local_134,8);
            FUN_0043e110(local_144,(int)local_130,
                         "Ignoring incorrect cHRM white(@1,@2) r(@3,@4)g(@5,@6)b(@7,@8) when sRGB is also present"
                        );
            ___security_check_cookie_4(local_c ^ (uint)&stack0xfffffffc);
            return;
          }
          goto LAB_0043f4f7;
        }
        if (*(char *)((int)param_2 + 0x252) != '\0') goto LAB_0043fa86;
        local_178[0] = local_14c;
        local_178[2] = local_13c;
        local_178[1] = local_138;
        local_168 = local_148;
        local_160 = uVar4;
        local_15c = uVar2;
        local_164 = local_134;
        local_178[3] = local_140;
        puVar9 = local_178;
        puVar10 = (uint *)&stack0xfffffe58;
        for (iVar3 = 8; iVar3 != 0; iVar3 = iVar3 + -1) {
          *puVar10 = *puVar9;
          puVar9 = puVar9 + 1;
          puVar10 = puVar10 + 1;
        }
        iVar3 = FUN_0043cf80(in_stack_fffffe58);
        uVar2 = local_158;
        uVar4 = local_154;
        if (iVar3 == 0) goto LAB_0043fa86;
        if (local_178[0] == 0) {
          iVar3 = 0;
LAB_0043f913:
          if (local_178[3] == 0) {
            pcVar6 = (char *)0x0;
LAB_0043f987:
            if (local_160 == 0) {
              iVar5 = 0;
LAB_0043f9f8:
              pcVar7 = pcVar6 + iVar3 + iVar5;
              if ((int)pcVar7 < 0x8002) {
                if ((int)pcVar7 < 0x8001) {
                  if ((int)pcVar7 < 0x8000) {
                    iVar8 = 1;
                    goto LAB_0043fa2f;
                  }
                }
                else {
                  iVar8 = -1;
LAB_0043fa2f:
                  if ((int)pcVar6 < iVar3) {
LAB_0043fa3f:
                    if (iVar3 < iVar5) {
LAB_0043fa47:
                      iVar5 = iVar5 + iVar8;
                    }
                    else {
                      iVar3 = iVar3 + iVar8;
                    }
                  }
                  else {
                    if ((int)pcVar6 < iVar5) {
                      if ((int)pcVar6 <= iVar3) goto LAB_0043fa3f;
                      goto LAB_0043fa47;
                    }
                    pcVar6 = pcVar6 + iVar8;
                  }
                }
                if (pcVar6 + iVar3 + iVar5 != (char *)0x8000) {
                  pcVar6 = "internal error handling cHRM coefficients";
                  param_2 = (void *)FUN_0043de50();
                }
                *(short *)((int)param_2 + 0x254) = (short)iVar3;
                *(short *)((int)param_2 + 0x256) = (short)pcVar6;
                uVar2 = local_158;
                uVar4 = local_154;
LAB_0043fa86:
                FUN_00447170(uVar4,uVar2,local_14c,local_138,local_13c,local_140);
                ___security_check_cookie_4(local_c ^ (uint)&stack0xfffffffc);
                return;
              }
            }
            else {
              dVar12 = floor(((double)local_160 * 32768.0) / 100000.0 + 0.5);
              if ((dVar12 <= 2147483647.0) && (-2147483648.0 < dVar12 != (dVar12 == -2147483648.0)))
              {
                uVar11 = FUN_0045db50(extraout_ECX_01,extraout_EDX_01);
                iVar5 = (int)uVar11;
                if ((-1 < iVar5) && (iVar5 < 0x8001)) goto LAB_0043f9f8;
              }
            }
          }
          else {
            dVar12 = floor(((double)local_178[3] * 32768.0) / 100000.0 + 0.5);
            if ((dVar12 <= 2147483647.0) && (-2147483648.0 < dVar12 != (dVar12 == -2147483648.0))) {
              uVar11 = FUN_0045db50(extraout_ECX_00,extraout_EDX_00);
              pcVar6 = (char *)uVar11;
              if ((-1 < (int)pcVar6) && ((int)pcVar6 < 0x8001)) goto LAB_0043f987;
            }
          }
        }
        else {
          dVar12 = floor(((double)local_178[0] * 32768.0) / 100000.0 + 0.5);
          if ((dVar12 <= 2147483647.0) && (-2147483648.0 < dVar12 != (dVar12 == -2147483648.0))) {
            uVar11 = FUN_0045db50(extraout_ECX,extraout_EDX);
            iVar3 = (int)uVar11;
            if ((-1 < iVar3) && (iVar3 < 0x8001)) goto LAB_0043f913;
          }
        }
        FUN_0043de50();
LAB_0043fad9:
        FUN_0043df90("Ignoring cHRM chunk with negative chromaticities");
        ___security_check_cookie_4(local_c ^ (uint)&stack0xfffffffc);
        return;
      }
      pcVar6 = "Incorrect cHRM chunk length";
    }
    else {
      pcVar6 = "Duplicate cHRM chunk";
    }
  }
  else {
    pcVar6 = "Invalid cHRM after IDAT";
  }
  FUN_0043df90(pcVar6);
  FUN_0043e780(param_2,param_1);
LAB_0043f4f7:
  ___security_check_cookie_4(local_c ^ (uint)&stack0xfffffffc);
  return;
}



void __fastcall FUN_0043fb10(char *param_1,void *param_2)

{
  code *pcVar1;
  uint uVar2;
  uint uVar3;
  int iVar4;
  char *pcVar5;
  uint *puVar6;
  void *unaff_EDI;
  uint local_110;
  byte local_109;
  undefined local_108 [256];
  uint local_8;
  
  local_8 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  uVar2 = *(uint *)((int)unaff_EDI + 0x6c);
  if ((uVar2 & 1) == 0) {
    param_1 = "Missing IHDR before sRGB";
    uVar2 = FUN_0043de50();
  }
  if ((uVar2 & 4) == 0) {
    if ((uVar2 & 2) != 0) {
      FUN_0043df90("Out of place sRGB chunk");
    }
    if ((param_2 == (void *)0x0) || ((*(uint *)((int)param_2 + 8) & 0x800) == 0)) {
      if (param_1 == (char *)0x1) {
        if (*(code **)((int)unaff_EDI + 0x54) == (code *)0x0) {
          FUN_0043de50();
          pcVar1 = (code *)swi(3);
          (*pcVar1)();
          return;
        }
        (**(code **)((int)unaff_EDI + 0x54))();
        local_110 = 1;
        puVar6 = (uint *)&local_109;
        if ((*(uint *)((int)unaff_EDI + 0x100) & 0x20000000) == 0) {
          if ((*(uint *)((int)unaff_EDI + 0x70) & 0x800) == 0) goto LAB_0043fbf6;
        }
        else if ((*(uint *)((int)unaff_EDI + 0x70) & 0x300) != 0x300) {
LAB_0043fbf6:
          do {
            uVar2 = local_110;
            if (local_110 == 0) {
              uVar2 = 0xffffffff;
            }
            if (puVar6 == (uint *)0x0) {
              uVar3 = 0;
            }
            else {
              uVar3 = FUN_004497a0(puVar6,uVar2);
            }
            puVar6 = (uint *)((int)puVar6 + uVar2);
            local_110 = local_110 - uVar2;
          } while (local_110 != 0);
          *(uint *)((int)unaff_EDI + 0x124) = uVar3;
        }
        iVar4 = FUN_0043e780(unaff_EDI,0);
        if (iVar4 == 0) {
          if (local_109 < 4) {
            if (param_2 != (void *)0x0) {
              if (((*(byte *)((int)param_2 + 8) & 1) != 0) &&
                 ((iVar4 = *(int *)((int)param_2 + 0x28), iVar4 < 45000 || (46000 < iVar4)))) {
                FUN_0043e080(5,iVar4,1);
                FUN_0043e110(unaff_EDI,(int)local_108,
                             "Ignoring incorrect gAMA value @1 when sRGB is also present");
              }
              if (((*(byte *)((int)param_2 + 8) & 4) != 0) &&
                 (((((*(int *)((int)param_2 + 0x80) < 0x763e ||
                     (0x7e0e < *(int *)((int)param_2 + 0x80))) ||
                    (*(int *)((int)param_2 + 0x84) < 0x7c9c)) ||
                   ((((0x846c < *(int *)((int)param_2 + 0x84) ||
                      (*(int *)((int)param_2 + 0x88) < 63000)) ||
                     ((65000 < *(int *)((int)param_2 + 0x88) ||
                      ((*(int *)((int)param_2 + 0x8c) < 32000 ||
                       (34000 < *(int *)((int)param_2 + 0x8c))))))) ||
                    (*(int *)((int)param_2 + 0x90) < 29000)))) ||
                  (((((31000 < *(int *)((int)param_2 + 0x90) ||
                      (*(int *)((int)param_2 + 0x94) < 59000)) ||
                     (61000 < *(int *)((int)param_2 + 0x94))) ||
                    ((*(int *)((int)param_2 + 0x98) < 14000 ||
                     (16000 < *(int *)((int)param_2 + 0x98))))) ||
                   ((*(int *)((int)param_2 + 0x9c) < 5000 || (7000 < *(int *)((int)param_2 + 0x9c)))
                   )))))) {
                FUN_0043df90("Ignoring incorrect cHRM value when sRGB is also present");
              }
            }
            *(undefined *)((int)unaff_EDI + 0x250) = 1;
            if (*(char *)((int)unaff_EDI + 0x252) == '\0') {
              *(undefined4 *)((int)unaff_EDI + 0x254) = 0x5b8a1b38;
              *(undefined *)((int)unaff_EDI + 0x252) = 1;
            }
            FUN_00447770(param_2,local_109);
            ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
            return;
          }
          FUN_0043df90("Unknown sRGB intent");
          ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
          return;
        }
        goto LAB_0043fb5d;
      }
      pcVar5 = "Incorrect sRGB chunk length";
    }
    else {
      pcVar5 = "Duplicate sRGB chunk";
    }
  }
  else {
    pcVar5 = "Invalid sRGB after IDAT";
  }
  FUN_0043df90(pcVar5);
  FUN_0043e780(unaff_EDI,(uint)param_1);
LAB_0043fb5d:
  ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __fastcall FUN_0043fdc0(void *param_1,char *param_2,char *param_3)

{
  LPCSTR pCVar1;
  char cVar2;
  LPCSTR pCVar3;
  byte bVar4;
  uint uVar5;
  void *this;
  int iVar6;
  char *pcVar7;
  char *pcVar8;
  char *local_114;
  char *local_110;
  uint local_10c;
  undefined local_108 [256];
  uint local_8;
  
  local_8 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  uVar5 = *(uint *)((int)param_1 + 0x6c);
  pcVar7 = param_2;
  local_110 = param_2;
  if ((uVar5 & 1) == 0) {
    pcVar7 = "Missing IHDR before iCCP";
    uVar5 = FUN_0043de50();
  }
  if ((uVar5 & 4) == 0) {
    if ((uVar5 & 2) != 0) {
      FUN_0043df90("Out of place iCCP chunk");
    }
    if (((*(uint *)((int)param_1 + 0x6c) & 0x4000) == 0) &&
       ((pcVar7 == (char *)0x0 || ((*(uint *)(pcVar7 + 8) & 0x1800) == 0)))) {
      *(uint *)((int)param_1 + 0x6c) = *(uint *)((int)param_1 + 0x6c) | 0x4000;
      if (*(void **)((int)param_1 + 0x2a8) != (void *)0x0) {
        if (*(code **)((int)param_1 + 0x268) == (code *)0x0) {
          free(*(void **)((int)param_1 + 0x2a8));
        }
        else {
          (**(code **)((int)param_1 + 0x268))(param_1);
        }
      }
      this = FUN_0043e3b0((size_t)(param_3 + 1));
      *(void **)((int)param_1 + 0x2a8) = this;
      if (*(code **)((int)param_1 + 0x54) != (code *)0x0) {
        (**(code **)((int)param_1 + 0x54))(param_1,this,param_3);
        FUN_0043c0f0(this,(int)param_1);
        iVar6 = FUN_0043e780(param_1,0);
        if (iVar6 == 0) {
          param_3[*(int *)((int)param_1 + 0x2a8)] = '\0';
          pcVar7 = *(char **)((int)param_1 + 0x2a8);
          cVar2 = *pcVar7;
          pcVar8 = pcVar7;
          while (cVar2 != '\0') {
            pcVar8 = pcVar8 + 1;
            cVar2 = *pcVar8;
          }
          if (pcVar7 + -1 + (int)param_3 <= pcVar8 + 1) {
            if (pcVar7 != (char *)0x0) {
              if (*(code **)((int)param_1 + 0x268) == (code *)0x0) {
                free(pcVar7);
              }
              else {
                (**(code **)((int)param_1 + 0x268))(param_1);
              }
            }
            *(undefined4 *)((int)param_1 + 0x2a8) = 0;
            FUN_0043df90("Malformed iCCP chunk");
            ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
            return;
          }
          bVar4 = pcVar8[1];
          if (bVar4 != 0) {
            FUN_0043df90("Ignoring nonzero compression type in iCCP chunk");
            bVar4 = 0;
          }
          pcVar8 = pcVar8 + (2 - *(int *)((int)param_1 + 0x2a8));
          local_10c = (uint)bVar4;
          FUN_0043ea70(&local_114,local_10c,(int)param_1,param_3,pcVar8);
          if ((local_114 < pcVar8) || ((uint)((int)local_114 - (int)pcVar8) < 4)) {
            if (*(void **)((int)param_1 + 0x2a8) != (void *)0x0) {
              if (*(code **)((int)param_1 + 0x268) == (code *)0x0) {
                free(*(void **)((int)param_1 + 0x2a8));
              }
              else {
                (**(code **)((int)param_1 + 0x268))(param_1);
              }
            }
            *(undefined4 *)((int)param_1 + 0x2a8) = 0;
            FUN_0043df90("Profile size field missing from iCCP chunk");
            ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
            return;
          }
          pCVar3 = *(LPCSTR *)((int)param_1 + 0x2a8);
          pCVar1 = pCVar3 + (int)pcVar8;
          uVar5 = CONCAT31(CONCAT21(CONCAT11(*pCVar1,(pCVar3 + 1)[(int)pcVar8]),pCVar1[2]),pCVar1[3]
                          );
          if ((uint)((int)local_114 - (int)pcVar8) < uVar5) {
            FUN_0043e3f0((int)param_1,pCVar3);
            *(undefined4 *)((int)param_1 + 0x2a8) = 0;
            FUN_0043e000(1,(int)local_108);
            FUN_0043e000(2,(int)local_108);
            FUN_0043e110(param_1,(int)local_108,
                         "Ignoring iCCP chunk with declared size = @1 and actual length = @2");
            ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
            return;
          }
          FUN_004477d0(pCVar3,(char)local_10c,pCVar1,uVar5);
        }
        FUN_0043e3f0((int)param_1,*(void **)((int)param_1 + 0x2a8));
        *(undefined4 *)((int)param_1 + 0x2a8) = 0;
        ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
        return;
      }
      FUN_0043de50();
    }
    pcVar7 = "Duplicate iCCP chunk";
  }
  else {
    pcVar7 = "Invalid iCCP after IDAT";
  }
  FUN_0043df90(pcVar7);
  FUN_0043e780(param_1,(uint)param_3);
  ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __thiscall FUN_004400b0(void *this,int param_1)

{
  char cVar1;
  code *pcVar2;
  uint in_EAX;
  uint uVar3;
  void *this_00;
  int iVar4;
  ushort *puVar5;
  char *pcVar6;
  char *pcVar7;
  byte *pbVar8;
  undefined4 local_1c;
  char local_18;
  void *local_14;
  uint local_10;
  uint local_c;
  
  iVar4 = *(int *)((int)this + 0x288);
  if (iVar4 != 0) {
    if (iVar4 == 1) {
      FUN_0043e780(this,in_EAX);
      return;
    }
    *(int *)((int)this + 0x288) = iVar4 + -1;
    if (iVar4 + -1 == 1) {
      pcVar6 = "No space in chunk cache for sPLT";
      goto LAB_004400ed;
    }
  }
  uVar3 = *(uint *)((int)this + 0x6c);
  if ((uVar3 & 1) == 0) {
    uVar3 = FUN_0043de50();
  }
  if ((uVar3 & 4) == 0) {
    if (*(void **)((int)this + 0x2a8) != (void *)0x0) {
      if (*(code **)((int)this + 0x268) == (code *)0x0) {
        free(*(void **)((int)this + 0x2a8));
      }
      else {
        (**(code **)((int)this + 0x268))(this);
      }
    }
    this_00 = FUN_0043e3b0(in_EAX + 1);
    *(void **)((int)this + 0x2a8) = this_00;
    if (*(code **)((int)this + 0x54) == (code *)0x0) {
      FUN_0043de50();
      pcVar2 = (code *)swi(3);
      (*pcVar2)();
      return;
    }
    (**(code **)((int)this + 0x54))(this,this_00);
    FUN_0043c0f0(this_00,(int)this);
    iVar4 = FUN_0043e780(this,0);
    if (iVar4 != 0) {
      if (*(void **)((int)this + 0x2a8) != (void *)0x0) {
        if (*(code **)((int)this + 0x268) != (code *)0x0) {
          (**(code **)((int)this + 0x268))(this);
          *(undefined4 *)((int)this + 0x2a8) = 0;
          return;
        }
        free(*(void **)((int)this + 0x2a8));
      }
      *(undefined4 *)((int)this + 0x2a8) = 0;
      return;
    }
    *(undefined *)(in_EAX + *(int *)((int)this + 0x2a8)) = 0;
    pcVar6 = *(char **)((int)this + 0x2a8);
    cVar1 = *pcVar6;
    pcVar7 = pcVar6;
    while (cVar1 != '\0') {
      pcVar7 = pcVar7 + 1;
      cVar1 = *pcVar7;
    }
    if (pcVar6 + (in_EAX - 2) < pcVar7 + 1) {
      if (pcVar6 != (char *)0x0) {
        if (*(code **)((int)this + 0x268) == (code *)0x0) {
          free(pcVar6);
        }
        else {
          (**(code **)((int)this + 0x268))(this);
        }
      }
      *(undefined4 *)((int)this + 0x2a8) = 0;
      FUN_0043df90("malformed sPLT chunk");
      return;
    }
    local_18 = pcVar7[1];
    pbVar8 = (byte *)(pcVar7 + 2);
    local_c = (uint)(local_18 != '\b') * 4 + 6;
    uVar3 = (uint)(pcVar6 + (in_EAX - (int)pbVar8)) / local_c;
    if ((uint)(pcVar6 + (in_EAX - (int)pbVar8)) % local_c != 0) {
      if (pcVar6 != (char *)0x0) {
        if (*(code **)((int)this + 0x268) == (code *)0x0) {
          free(pcVar6);
        }
        else {
          (**(code **)((int)this + 0x268))(this);
        }
      }
      *(undefined4 *)((int)this + 0x2a8) = 0;
      FUN_0043df90("sPLT chunk has bad length");
      return;
    }
    if (0x19999999 < uVar3) {
      FUN_0043df90("sPLT chunk too long");
      return;
    }
    local_10 = uVar3;
    local_14 = FUN_0043e420(uVar3 * 10);
    if (local_14 == (void *)0x0) {
      FUN_0043df90("sPLT chunk requires too much memory");
      return;
    }
    if (0 < (int)uVar3) {
      puVar5 = (ushort *)((int)local_14 + 4);
      do {
        if (local_18 == '\b') {
          puVar5[-2] = (ushort)*pbVar8;
          puVar5[-1] = (ushort)pbVar8[1];
          *puVar5 = (ushort)pbVar8[2];
          puVar5[1] = (ushort)pbVar8[3];
          pbVar8 = pbVar8 + 4;
        }
        else {
          puVar5[-2] = (ushort)*pbVar8 * 0x100 + (ushort)pbVar8[1];
          puVar5[-1] = (ushort)pbVar8[2] * 0x100 + (ushort)pbVar8[3];
          *puVar5 = (ushort)pbVar8[4] * 0x100 + (ushort)pbVar8[5];
          puVar5[1] = (ushort)pbVar8[6] * 0x100 + (ushort)pbVar8[7];
          pbVar8 = pbVar8 + 8;
        }
        puVar5[2] = (ushort)*pbVar8 * 0x100 + (ushort)pbVar8[1];
        pbVar8 = pbVar8 + 2;
        puVar5 = puVar5 + 5;
        uVar3 = uVar3 - 1;
      } while (uVar3 != 0);
    }
    local_1c = *(undefined4 *)((int)this + 0x2a8);
    FUN_00447ce0(param_1,(int)&local_1c);
    if (*(void **)((int)this + 0x2a8) != (void *)0x0) {
      if (*(code **)((int)this + 0x268) == (code *)0x0) {
        free(*(void **)((int)this + 0x2a8));
      }
      else {
        (**(code **)((int)this + 0x268))(this);
      }
    }
    *(undefined4 *)((int)this + 0x2a8) = 0;
    if (local_14 == (void *)0x0) {
      return;
    }
    if (*(code **)((int)this + 0x268) != (code *)0x0) {
      (**(code **)((int)this + 0x268))(this);
      return;
    }
    free(local_14);
    return;
  }
  pcVar6 = "Invalid sPLT after IDAT";
LAB_004400ed:
  FUN_0043df90(pcVar6);
  FUN_0043e780(this,in_EAX);
  return;
}



void __fastcall FUN_00440420(int param_1,char *param_2,void *param_3)

{
  uint uVar1;
  uint uVar2;
  int iVar3;
  char extraout_CL;
  char cVar4;
  int extraout_ECX;
  char *pcVar5;
  uint *puVar6;
  ushort local_114;
  undefined local_110 [256];
  undefined4 local_10;
  byte local_c;
  byte local_b;
  uint local_8;
  
  local_8 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  uVar1 = *(uint *)((int)param_3 + 0x6c);
  if ((uVar1 & 1) == 0) {
    param_2 = "Missing IHDR before tRNS";
    uVar1 = FUN_0043de50();
    param_1 = extraout_ECX;
  }
  if ((uVar1 & 4) != 0) {
    pcVar5 = "Invalid tRNS after IDAT";
LAB_0044045c:
    FUN_0043df90(pcVar5);
    FUN_0043e780(param_3,(uint)param_2);
    ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
    return;
  }
  if ((param_1 != 0) && ((*(byte *)(param_1 + 8) & 0x10) != 0)) {
    pcVar5 = "Duplicate tRNS chunk";
    goto LAB_0044045c;
  }
  cVar4 = *(char *)((int)param_3 + 0x13b);
  if (cVar4 == '\0') {
    if (param_2 == (char *)0x2) {
      if (*(code **)((int)param_3 + 0x54) != (code *)0x0) {
        (**(code **)((int)param_3 + 0x54))(param_3,&local_114,2);
        local_10 = 2;
        puVar6 = (uint *)&local_114;
        if ((*(uint *)((int)param_3 + 0x100) & 0x20000000) == 0) {
          if ((*(uint *)((int)param_3 + 0x70) & 0x800) == 0) goto LAB_00440503;
        }
        else if ((*(uint *)((int)param_3 + 0x70) & 0x300) != 0x300) {
LAB_00440503:
          do {
            uVar1 = local_10;
            if (local_10 == 0) {
              uVar1 = 0xffffffff;
            }
            if (puVar6 == (uint *)0x0) {
              uVar2 = 0;
            }
            else {
              uVar2 = FUN_004497a0(puVar6,uVar1);
            }
            puVar6 = (uint *)((int)puVar6 + uVar1);
            local_10 = local_10 - uVar1;
          } while (local_10 != 0);
          *(uint *)((int)param_3 + 0x124) = uVar2;
          local_10 = 0;
        }
        *(undefined2 *)((int)param_3 + 0x134) = 1;
        *(ushort *)((int)param_3 + 0x1b0) = local_114 * 0x100 + (local_114 >> 8);
        goto LAB_00440634;
      }
      param_2 = s_Call_to_NULL_read_function_0046969c;
      uVar1 = FUN_0043de50();
      cVar4 = extraout_CL;
      goto LAB_0044056c;
    }
LAB_004404a3:
    pcVar5 = "Incorrect tRNS chunk length";
  }
  else {
LAB_0044056c:
    if (cVar4 == '\x02') {
      if (param_2 == (char *)0x6) {
        FUN_0043e750();
        *(undefined2 *)((int)param_3 + 0x134) = 1;
        *(ushort *)((int)param_3 + 0x1aa) = (ushort)(byte)local_10 * 0x100 + (ushort)local_10._1_1_;
        *(ushort *)((int)param_3 + 0x1ac) = (ushort)local_10._2_1_ * 0x100 + (ushort)local_10._3_1_;
        *(ushort *)((int)param_3 + 0x1ae) = (ushort)local_c * 0x100 + (ushort)local_b;
LAB_00440634:
        iVar3 = FUN_0043e780(param_3,0);
        if (iVar3 == 0) {
          FUN_00447bd0(local_110,(uint)*(ushort *)((int)param_3 + 0x134));
          ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
          return;
        }
        *(undefined2 *)((int)param_3 + 0x134) = 0;
        ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
        return;
      }
      goto LAB_004404a3;
    }
    if (cVar4 == '\x03') {
      if ((uVar1 & 2) == 0) {
        FUN_0043df90("Missing PLTE before tRNS");
      }
      if ((param_2 <= (char *)(uint)*(ushort *)((int)param_3 + 300)) && (param_2 < (char *)0x101)) {
        if (param_2 != (char *)0x0) {
          FUN_0043e750();
          *(short *)((int)param_3 + 0x134) = (short)param_2;
          goto LAB_00440634;
        }
        FUN_0043df90("Zero length tRNS chunk");
        goto LAB_0044069f;
      }
      goto LAB_004404a3;
    }
    pcVar5 = "tRNS chunk not allowed with alpha channel";
  }
  FUN_0043df90(pcVar5);
LAB_0044069f:
  FUN_0043e780(param_3,(uint)param_2);
  ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __cdecl FUN_004406c0(uint param_1)

{
  byte bVar1;
  code *pcVar2;
  short sVar3;
  uint uVar4;
  int iVar5;
  undefined *puVar6;
  char *pcVar7;
  int unaff_EBX;
  void *unaff_EDI;
  undefined4 local_1c;
  uint local_18;
  byte local_10;
  byte local_f;
  byte local_e;
  byte local_d;
  byte local_c;
  byte local_b;
  uint local_8;
  
  local_8 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  uVar4 = *(uint *)((int)unaff_EDI + 0x6c);
  if ((uVar4 & 1) == 0) {
    uVar4 = FUN_0043de50();
  }
  if ((uVar4 & 4) == 0) {
    bVar1 = *(byte *)((int)unaff_EDI + 0x13b);
    if ((bVar1 == 3) && ((uVar4 & 2) == 0)) {
      FUN_0043df90("Missing PLTE before bKGD");
    }
    else {
      if ((unaff_EBX == 0) || ((*(byte *)(unaff_EBX + 8) & 0x20) == 0)) {
        if (bVar1 == 3) {
          uVar4 = 1;
        }
        else {
          uVar4 = (bVar1 & 2 | 1) * 2;
        }
        if (param_1 != uVar4) {
          pcVar7 = "Incorrect bKGD chunk length";
          goto LAB_004406ed;
        }
        if (*(code **)((int)unaff_EDI + 0x54) == (code *)0x0) {
          FUN_0043de50();
          pcVar2 = (code *)swi(3);
          (*pcVar2)();
          return;
        }
        (**(code **)((int)unaff_EDI + 0x54))();
        FUN_0043c0f0(&local_10,(int)unaff_EDI);
        iVar5 = FUN_0043e780(unaff_EDI,0);
        if (iVar5 != 0) goto LAB_00440702;
        if (*(byte *)((int)unaff_EDI + 0x13b) == 3) {
          local_1c = CONCAT31(local_1c._1_3_,local_10);
          if ((unaff_EBX == 0) || (*(ushort *)(unaff_EBX + 0x14) == 0)) {
            local_18 = 0;
            local_1c = local_1c & 0xffff;
          }
          else {
            if (*(ushort *)(unaff_EBX + 0x14) <= (ushort)local_10) {
              FUN_0043df90("Incorrect bKGD chunk index value");
              ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
              return;
            }
            puVar6 = (undefined *)((uint)local_10 * 3 + *(int *)((int)unaff_EDI + 0x128));
            local_1c = (uint)CONCAT12(*puVar6,(short)local_1c);
            local_18 = (uint)CONCAT12(puVar6[2],(ushort)(byte)puVar6[1]);
          }
LAB_00440873:
          sVar3 = 0;
        }
        else {
          local_1c._0_2_ = (short)(local_1c >> 8) << 8;
          if ((*(byte *)((int)unaff_EDI + 0x13b) & 2) != 0) {
            local_1c = CONCAT22((ushort)local_10 * 0x100 + (ushort)local_f,(short)local_1c);
            local_18 = CONCAT22((ushort)local_c * 0x100 + (ushort)local_b,
                                (ushort)local_e * 0x100 + (ushort)local_d);
            goto LAB_00440873;
          }
          sVar3 = (ushort)local_10 * 0x100 + (ushort)local_f;
          local_18 = CONCAT22(sVar3,sVar3);
          local_1c = CONCAT22(sVar3,(short)local_1c);
        }
        if (unaff_EBX != 0) {
          *(uint *)(unaff_EBX + 8) = *(uint *)(unaff_EBX + 8) | 0x20;
          *(uint *)(unaff_EBX + 0x5a) = local_1c;
          *(uint *)(unaff_EBX + 0x5e) = local_18;
          *(short *)(unaff_EBX + 0x62) = sVar3;
          ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
          return;
        }
        goto LAB_00440702;
      }
      FUN_0043df90("Duplicate bKGD chunk");
    }
  }
  else {
    pcVar7 = "Invalid bKGD after IDAT";
LAB_004406ed:
    FUN_0043df90(pcVar7);
  }
  FUN_0043e780(unaff_EDI,param_1);
LAB_00440702:
  ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __fastcall FUN_004408b0(uint param_1,char *param_2)

{
  uint uVar1;
  uint uVar2;
  int iVar3;
  char *pcVar4;
  uint *puVar5;
  void *unaff_EDI;
  uint local_214;
  uint local_210;
  ushort local_20c;
  short local_208 [256];
  uint local_8;
  
  local_8 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  uVar1 = *(uint *)((int)unaff_EDI + 0x6c);
  if ((uVar1 & 1) == 0) {
    param_2 = "Missing IHDR before hIST";
    uVar1 = FUN_0043de50();
  }
  if ((uVar1 & 4) == 0) {
    if ((uVar1 & 2) == 0) {
      pcVar4 = "Missing PLTE before hIST";
    }
    else if ((param_2 == (char *)0x0) || ((param_2[8] & 0x40U) == 0)) {
      if ((param_1 < 0x201) && (param_1 == (uint)*(ushort *)((int)unaff_EDI + 300) * 2)) {
        local_210 = 0;
        if (param_1 >> 1 != 0) {
          do {
            if (*(code **)((int)unaff_EDI + 0x54) == (code *)0x0) {
              FUN_0043de50();
              param_1 = local_210;
              goto LAB_00440a5b;
            }
            (**(code **)((int)unaff_EDI + 0x54))();
            local_214 = 2;
            puVar5 = (uint *)&local_20c;
            if ((*(uint *)((int)unaff_EDI + 0x100) & 0x20000000) == 0) {
              if ((*(uint *)((int)unaff_EDI + 0x70) & 0x800) == 0) goto LAB_004409b0;
            }
            else if ((*(uint *)((int)unaff_EDI + 0x70) & 0x300) != 0x300) {
LAB_004409b0:
              do {
                uVar1 = local_214;
                if (local_214 == 0) {
                  uVar1 = 0xffffffff;
                }
                if (puVar5 == (uint *)0x0) {
                  uVar2 = 0;
                }
                else {
                  uVar2 = FUN_004497a0(puVar5,uVar1);
                }
                puVar5 = (uint *)((int)puVar5 + uVar1);
                local_214 = local_214 - uVar1;
              } while (local_214 != 0);
              *(uint *)((int)unaff_EDI + 0x124) = uVar2;
            }
            local_208[local_210] = local_20c * 0x100 + (local_20c >> 8);
            local_210 = local_210 + 1;
          } while (local_210 < param_1 >> 1);
        }
        iVar3 = FUN_0043e780(unaff_EDI,0);
        if (iVar3 == 0) {
          FUN_00447220();
          ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
          return;
        }
        goto LAB_00440a72;
      }
LAB_00440a5b:
      pcVar4 = "Incorrect hIST chunk length";
    }
    else {
      pcVar4 = "Duplicate hIST chunk";
    }
  }
  else {
    pcVar4 = "Invalid hIST after IDAT";
  }
  FUN_0043df90(pcVar4);
  FUN_0043e780(unaff_EDI,param_1);
LAB_00440a72:
  ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __fastcall FUN_00440a90(uint param_1,char *param_2)

{
  code *pcVar1;
  uint uVar2;
  uint uVar3;
  int iVar4;
  uint *puVar5;
  char *pcVar6;
  void *unaff_EDI;
  uint local_18;
  undefined local_14;
  undefined local_13;
  undefined local_12;
  undefined local_11;
  undefined local_10;
  undefined local_f;
  undefined local_e;
  undefined local_d;
  char local_c;
  uint local_8;
  
  local_8 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  uVar2 = *(uint *)((int)unaff_EDI + 0x6c);
  pcVar6 = param_2;
  if ((uVar2 & 1) == 0) {
    pcVar6 = "Missing IHDR before pHYs";
    uVar2 = FUN_0043de50();
  }
  if ((uVar2 & 4) == 0) {
    if ((pcVar6 == (char *)0x0) || ((pcVar6[8] & 0x80U) == 0)) {
      if (param_1 == 9) {
        if (*(code **)((int)unaff_EDI + 0x54) == (code *)0x0) {
          FUN_0043de50();
          pcVar1 = (code *)swi(3);
          (*pcVar1)();
          return;
        }
        (**(code **)((int)unaff_EDI + 0x54))();
        local_18 = 9;
        puVar5 = (uint *)&local_14;
        if ((*(uint *)((int)unaff_EDI + 0x100) & 0x20000000) == 0) {
          if ((*(uint *)((int)unaff_EDI + 0x70) & 0x800) == 0) goto LAB_00440b54;
        }
        else if ((*(uint *)((int)unaff_EDI + 0x70) & 0x300) != 0x300) {
LAB_00440b54:
          do {
            uVar2 = local_18;
            if (local_18 == 0) {
              uVar2 = 0xffffffff;
            }
            if (puVar5 == (uint *)0x0) {
              uVar3 = 0;
            }
            else {
              uVar3 = FUN_004497a0(puVar5,uVar2);
            }
            puVar5 = (uint *)((int)puVar5 + uVar2);
            local_18 = local_18 - uVar2;
          } while (local_18 != 0);
          *(uint *)((int)unaff_EDI + 0x124) = uVar3;
          pcVar6 = param_2;
        }
        iVar4 = FUN_0043e780(unaff_EDI,0);
        if ((iVar4 == 0) && (pcVar6 != (char *)0x0)) {
          *(uint *)(pcVar6 + 8) = *(uint *)(pcVar6 + 8) | 0x80;
          *(uint *)(pcVar6 + 0x70) =
               CONCAT31(CONCAT21(CONCAT11(local_14,local_13),local_12),local_11);
          pcVar6[0x78] = local_c;
          *(uint *)(pcVar6 + 0x74) = CONCAT31(CONCAT21(CONCAT11(local_10,local_f),local_e),local_d);
          ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
          return;
        }
        goto LAB_00440ad7;
      }
      pcVar6 = "Incorrect pHYs chunk length";
    }
    else {
      pcVar6 = "Duplicate pHYs chunk";
    }
  }
  else {
    pcVar6 = "Invalid pHYs after IDAT";
  }
  FUN_0043df90(pcVar6);
  FUN_0043e780(unaff_EDI,param_1);
LAB_00440ad7:
  ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __fastcall FUN_00440c10(uint param_1,char *param_2)

{
  code *pcVar1;
  uint uVar2;
  uint uVar3;
  int iVar4;
  uint *puVar5;
  char *pcVar6;
  void *unaff_EDI;
  uint local_18;
  undefined local_14;
  undefined local_13;
  undefined local_12;
  undefined local_11;
  undefined local_10;
  undefined local_f;
  undefined local_e;
  undefined local_d;
  char local_c;
  uint local_8;
  
  local_8 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  uVar2 = *(uint *)((int)unaff_EDI + 0x6c);
  pcVar6 = param_2;
  if ((uVar2 & 1) == 0) {
    pcVar6 = "Missing IHDR before oFFs";
    uVar2 = FUN_0043de50();
  }
  if ((uVar2 & 4) == 0) {
    if ((pcVar6 == (char *)0x0) || ((*(uint *)(pcVar6 + 8) & 0x100) == 0)) {
      if (param_1 == 9) {
        if (*(code **)((int)unaff_EDI + 0x54) == (code *)0x0) {
          FUN_0043de50();
          pcVar1 = (code *)swi(3);
          (*pcVar1)();
          return;
        }
        (**(code **)((int)unaff_EDI + 0x54))();
        local_18 = 9;
        puVar5 = (uint *)&local_14;
        if ((*(uint *)((int)unaff_EDI + 0x100) & 0x20000000) == 0) {
          if ((*(uint *)((int)unaff_EDI + 0x70) & 0x800) == 0) goto LAB_00440cd7;
        }
        else if ((*(uint *)((int)unaff_EDI + 0x70) & 0x300) != 0x300) {
LAB_00440cd7:
          do {
            uVar2 = local_18;
            if (local_18 == 0) {
              uVar2 = 0xffffffff;
            }
            if (puVar5 == (uint *)0x0) {
              uVar3 = 0;
            }
            else {
              uVar3 = FUN_004497a0(puVar5,uVar2);
            }
            puVar5 = (uint *)((int)puVar5 + uVar2);
            local_18 = local_18 - uVar2;
          } while (local_18 != 0);
          *(uint *)((int)unaff_EDI + 0x124) = uVar3;
          pcVar6 = param_2;
        }
        iVar4 = FUN_0043e780(unaff_EDI,0);
        if (iVar4 == 0) {
          if (pcVar6 != (char *)0x0) {
            *(uint *)(pcVar6 + 8) = *(uint *)(pcVar6 + 8) | 0x100;
            *(uint *)(pcVar6 + 0x68) =
                 CONCAT31(CONCAT21(CONCAT11(local_10,local_f),local_e),local_d);
            *(uint *)(pcVar6 + 100) =
                 CONCAT31(CONCAT21(CONCAT11(local_14,local_13),local_12),local_11);
            pcVar6[0x6c] = local_c;
            ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
            return;
          }
        }
        goto LAB_00440c57;
      }
      pcVar6 = "Incorrect oFFs chunk length";
    }
    else {
      pcVar6 = "Duplicate oFFs chunk";
    }
  }
  else {
    pcVar6 = "Invalid oFFs after IDAT";
  }
  FUN_0043df90(pcVar6);
  FUN_0043e780(unaff_EDI,param_1);
LAB_00440c57:
  ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __thiscall FUN_00440dc0(void *this,int param_1)

{
  char cVar1;
  char cVar2;
  byte bVar3;
  byte bVar4;
  char cVar5;
  char cVar6;
  char cVar7;
  code *pcVar8;
  char *in_EAX;
  uint uVar9;
  void *pvVar10;
  int iVar11;
  char *pcVar12;
  LPCSTR pCVar13;
  char *pcVar14;
  undefined4 uVar15;
  
  uVar9 = *(uint *)((int)this + 0x6c);
  if ((uVar9 & 1) == 0) {
    in_EAX = s_Missing_IHDR_before_pCAL_0046a1f4;
    uVar9 = FUN_0043de50();
  }
  if ((uVar9 & 4) == 0) {
    if ((param_1 == 0) || ((*(uint *)(param_1 + 8) & 0x400) == 0)) {
      if (*(void **)((int)this + 0x2a8) != (void *)0x0) {
        if (*(code **)((int)this + 0x268) == (code *)0x0) {
          free(*(void **)((int)this + 0x2a8));
        }
        else {
          (**(code **)((int)this + 0x268))(this);
        }
      }
      pvVar10 = FUN_0043e420((size_t)(in_EAX + 1));
      *(void **)((int)this + 0x2a8) = pvVar10;
      if (pvVar10 == (void *)0x0) {
        FUN_0043df90("No memory for pCAL purpose");
        return;
      }
      if (*(code **)((int)this + 0x54) == (code *)0x0) {
        FUN_0043de50();
        pcVar8 = (code *)swi(3);
        (*pcVar8)();
        return;
      }
      (**(code **)((int)this + 0x54))(this,pvVar10,in_EAX);
      FUN_0043c0f0(pvVar10,(int)this);
      iVar11 = FUN_0043e780(this,0);
      if (iVar11 != 0) {
        FUN_0043e3f0((int)this,*(void **)((int)this + 0x2a8));
        *(undefined4 *)((int)this + 0x2a8) = 0;
        return;
      }
      in_EAX[*(int *)((int)this + 0x2a8)] = '\0';
      pcVar14 = *(char **)((int)this + 0x2a8);
      cVar1 = *pcVar14;
      pcVar12 = pcVar14;
      while (cVar1 != '\0') {
        pcVar12 = pcVar12 + 1;
        cVar1 = *pcVar12;
      }
      pcVar14 = pcVar14 + (int)in_EAX;
      if (pcVar14 <= pcVar12 + 0xc) {
        FUN_0043df90("Invalid pCAL data");
        if (*(void **)((int)this + 0x2a8) != (void *)0x0) {
          if (*(code **)((int)this + 0x268) != (code *)0x0) {
            (**(code **)((int)this + 0x268))(this);
            *(undefined4 *)((int)this + 0x2a8) = 0;
            return;
          }
          free(*(void **)((int)this + 0x2a8));
        }
        *(undefined4 *)((int)this + 0x2a8) = 0;
        return;
      }
      cVar1 = pcVar12[1];
      cVar5 = pcVar12[2];
      cVar6 = pcVar12[3];
      cVar7 = pcVar12[4];
      cVar2 = pcVar12[5];
      if (cVar2 < '\0') {
        uVar15 = CONCAT31(CONCAT21(CONCAT11(cVar2,pcVar12[6]),pcVar12[7]),pcVar12[8]);
      }
      else {
        uVar15 = CONCAT31(CONCAT21(CONCAT11(cVar2,pcVar12[6]),pcVar12[7]),pcVar12[8]);
      }
      bVar3 = pcVar12[9];
      bVar4 = pcVar12[10];
      pCVar13 = pcVar12 + 0xb;
      if (bVar3 == 0) {
        if (bVar4 != 2) {
LAB_00440fc4:
          FUN_0043df90("Invalid pCAL parameters for equation type");
          if (*(void **)((int)this + 0x2a8) != (void *)0x0) {
            if (*(code **)((int)this + 0x268) != (code *)0x0) {
              (**(code **)((int)this + 0x268))(this);
              *(undefined4 *)((int)this + 0x2a8) = 0;
              return;
            }
            free(*(void **)((int)this + 0x2a8));
          }
          *(undefined4 *)((int)this + 0x2a8) = 0;
          return;
        }
      }
      else if ((bVar3 == 1) || (bVar3 == 2)) {
        if (bVar4 != 3) goto LAB_00440fc4;
      }
      else if (bVar3 == 3) {
        if (bVar4 != 4) goto LAB_00440fc4;
      }
      else if (3 < bVar3) {
        FUN_0043df90("Unrecognized equation type for pCAL chunk");
      }
      cVar2 = *pCVar13;
      pcVar12 = pCVar13;
      while (cVar2 != '\0') {
        pcVar12 = pcVar12 + 1;
        cVar2 = *pcVar12;
      }
      uVar9 = (uint)bVar4;
      pvVar10 = FUN_0043e420(uVar9 * 4);
      if (pvVar10 == (void *)0x0) {
        if (*(void **)((int)this + 0x2a8) != (void *)0x0) {
          if (*(code **)((int)this + 0x268) == (code *)0x0) {
            free(*(void **)((int)this + 0x2a8));
          }
          else {
            (**(code **)((int)this + 0x268))(this);
          }
        }
        *(undefined4 *)((int)this + 0x2a8) = 0;
        FUN_0043df90("No memory for pCAL params");
        return;
      }
      iVar11 = 0;
      if (uVar9 != 0) {
        do {
          pcVar12 = pcVar12 + 1;
          *(char **)((int)pvVar10 + iVar11 * 4) = pcVar12;
          while( true ) {
            if (pcVar14 < pcVar12) goto LAB_004410ba;
            if (*pcVar12 == '\0') break;
            pcVar12 = pcVar12 + 1;
          }
          if (pcVar14 < pcVar12) {
LAB_004410ba:
            FUN_0043df90("Invalid pCAL data");
            if (*(void **)((int)this + 0x2a8) != (void *)0x0) {
              if (*(code **)((int)this + 0x268) == (code *)0x0) {
                free(*(void **)((int)this + 0x2a8));
              }
              else {
                (**(code **)((int)this + 0x268))(this);
              }
            }
            *(undefined4 *)((int)this + 0x2a8) = 0;
            if (*(code **)((int)this + 0x268) != (code *)0x0) {
              (**(code **)((int)this + 0x268))(this,pvVar10);
              return;
            }
            free(pvVar10);
            return;
          }
          iVar11 = iVar11 + 1;
        } while (iVar11 < (int)uVar9);
      }
      FUN_00447380((int)this,*(LPCSTR *)((int)this + 0x2a8),
                   CONCAT31(CONCAT21(CONCAT11(cVar1,cVar5),cVar6),cVar7),uVar15,(uint)bVar3,uVar9,
                   pCVar13,(int)pvVar10);
      if (*(void **)((int)this + 0x2a8) != (void *)0x0) {
        if (*(code **)((int)this + 0x268) == (code *)0x0) {
          free(*(void **)((int)this + 0x2a8));
        }
        else {
          (**(code **)((int)this + 0x268))(this);
        }
      }
      *(undefined4 *)((int)this + 0x2a8) = 0;
      if (*(code **)((int)this + 0x268) != (code *)0x0) {
        (**(code **)((int)this + 0x268))(this,pvVar10);
        return;
      }
      free(pvVar10);
      return;
    }
    pcVar14 = "Duplicate pCAL chunk";
  }
  else {
    pcVar14 = "Invalid pCAL after IDAT";
  }
  FUN_0043df90(pcVar14);
  FUN_0043e780(this,(uint)in_EAX);
  return;
}



void __cdecl FUN_004411c0(void *param_1,int param_2,uint param_3)

{
  char *pcVar1;
  char cVar2;
  uint uVar3;
  void *pvVar4;
  int iVar5;
  uint uVar6;
  char *pcVar7;
  uint local_c;
  uint local_8;
  
  uVar3 = *(uint *)((int)param_1 + 0x6c);
  if ((uVar3 & 1) == 0) {
    uVar3 = FUN_0043de50();
  }
  if ((uVar3 & 4) != 0) {
    FUN_0043df90("Invalid sCAL after IDAT");
    FUN_0043e780(param_1,param_3);
    return;
  }
  if ((param_2 != 0) && ((*(uint *)(param_2 + 8) & 0x4000) != 0)) {
    FUN_0043df90("Duplicate sCAL chunk");
    FUN_0043e780(param_1,param_3);
    return;
  }
  if (param_3 < 4) {
    FUN_0043df90("sCAL chunk too short");
    FUN_0043e780(param_1,param_3);
    return;
  }
  pvVar4 = FUN_0043e420(param_3 + 1);
  *(void **)((int)param_1 + 0x2a8) = pvVar4;
  if (pvVar4 == (void *)0x0) {
    FUN_0043df90("Out of memory while processing sCAL chunk");
    FUN_0043e780(param_1,param_3);
    return;
  }
  FUN_0043e750();
  *(undefined *)(param_3 + *(int *)((int)param_1 + 0x2a8)) = 0;
  iVar5 = FUN_0043e780(param_1,0);
  if (iVar5 != 0) goto LAB_00441392;
  pcVar7 = *(char **)((int)param_1 + 0x2a8);
  cVar2 = *pcVar7;
  if ((cVar2 == '\x01') || (cVar2 == '\x02')) {
    local_8 = 1;
    local_c = 0;
    uVar3 = FUN_0043d1c0((int)pcVar7,&local_c,&local_8);
    if ((uVar3 != 0) && (local_8 < param_3)) {
      pcVar1 = pcVar7 + local_8;
      uVar3 = local_8 + 1;
      local_8 = uVar3;
      if (*pcVar1 == '\0') {
        if ((local_c & 0x188) == 0x108) {
          local_c = 0;
          uVar6 = FUN_0043d1c0((int)pcVar7,&local_c,&local_8);
          if ((uVar6 == 0) || (local_8 != param_3)) {
            pcVar7 = "Invalid sCAL chunk ignored: bad height format";
          }
          else {
            if ((local_c & 0x188) == 0x108) {
              FUN_00447590((int)cVar2,pcVar7 + 1,pcVar7 + uVar3);
              goto LAB_00441392;
            }
            pcVar7 = "Invalid sCAL chunk ignored: non-positive height";
          }
        }
        else {
          pcVar7 = "Invalid sCAL chunk ignored: non-positive width";
        }
        goto LAB_0044138b;
      }
    }
    pcVar7 = "Invalid sCAL chunk ignored: bad width format";
  }
  else {
    pcVar7 = "Invalid sCAL ignored: invalid unit";
  }
LAB_0044138b:
  FUN_0043df90(pcVar7);
LAB_00441392:
  FUN_0043e3f0((int)param_1,*(void **)((int)param_1 + 0x2a8));
  *(undefined4 *)((int)param_1 + 0x2a8) = 0;
  return;
}



void __fastcall FUN_004413b0(uint param_1,char *param_2)

{
  code *pcVar1;
  uint uVar2;
  uint uVar3;
  int iVar4;
  uint *puVar5;
  char *pcVar6;
  void *unaff_EDI;
  uint local_1c;
  short local_18;
  undefined local_16;
  undefined local_15;
  undefined4 local_14;
  byte local_10;
  byte local_f;
  undefined local_e;
  undefined local_d;
  undefined local_c;
  undefined local_b;
  undefined local_a;
  uint local_8;
  
  local_8 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  uVar2 = *(uint *)((int)unaff_EDI + 0x6c);
  pcVar6 = param_2;
  local_14 = param_2;
  if ((uVar2 & 1) == 0) {
    pcVar6 = "Out of place tIME chunk";
    uVar2 = FUN_0043de50();
  }
  if ((pcVar6 == (char *)0x0) || ((*(uint *)(pcVar6 + 8) & 0x200) == 0)) {
    if ((uVar2 & 4) != 0) {
      *(uint *)((int)unaff_EDI + 0x6c) = uVar2 | 8;
    }
    if (param_1 == 7) {
      if (*(code **)((int)unaff_EDI + 0x54) == (code *)0x0) {
        FUN_0043de50();
        pcVar1 = (code *)swi(3);
        (*pcVar1)();
        return;
      }
      (**(code **)((int)unaff_EDI + 0x54))();
      local_1c = 7;
      puVar5 = (uint *)&local_10;
      if ((*(uint *)((int)unaff_EDI + 0x100) & 0x20000000) == 0) {
        if ((*(uint *)((int)unaff_EDI + 0x70) & 0x800) == 0) goto LAB_00441476;
      }
      else if ((*(uint *)((int)unaff_EDI + 0x70) & 0x300) != 0x300) {
LAB_00441476:
        do {
          uVar2 = local_1c;
          if (local_1c == 0) {
            uVar2 = 0xffffffff;
          }
          if (puVar5 == (uint *)0x0) {
            uVar3 = 0;
          }
          else {
            uVar3 = FUN_004497a0(puVar5,uVar2);
          }
          puVar5 = (uint *)((int)puVar5 + uVar2);
          local_1c = local_1c - uVar2;
        } while (local_1c != 0);
        *(uint *)((int)unaff_EDI + 0x124) = uVar3;
        pcVar6 = local_14;
      }
      iVar4 = FUN_0043e780(unaff_EDI,0);
      if (iVar4 == 0) {
        local_15 = local_d;
        local_14 = (char *)CONCAT22(CONCAT11(local_14._3_1_,local_a),CONCAT11(local_b,local_c));
        local_16 = local_e;
        local_18 = (ushort)local_10 * 0x100 + (ushort)local_f;
        FUN_00447b70((undefined4 *)&local_18,(int)pcVar6);
        ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
        return;
      }
      goto LAB_00441400;
    }
    pcVar6 = "Incorrect tIME chunk length";
  }
  else {
    pcVar6 = "Duplicate tIME chunk";
  }
  FUN_0043df90(pcVar6);
  FUN_0043e780(unaff_EDI,param_1);
LAB_00441400:
  ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __thiscall FUN_00441520(void *this,int param_1)

{
  char cVar1;
  char *pcVar2;
  code *pcVar3;
  uint in_EAX;
  uint uVar4;
  void *this_00;
  int iVar5;
  char *_Memory;
  undefined4 *puVar6;
  char *lpString;
  
  iVar5 = *(int *)((int)this + 0x288);
  if (iVar5 != 0) {
    if (iVar5 == 1) {
      FUN_0043e780(this,in_EAX);
      return;
    }
    *(int *)((int)this + 0x288) = iVar5 + -1;
    if (iVar5 + -1 == 1) {
      FUN_0043df90("No space in chunk cache for tEXt");
      FUN_0043e780(this,in_EAX);
      return;
    }
  }
  uVar4 = *(uint *)((int)this + 0x6c);
  if ((uVar4 & 1) == 0) {
    uVar4 = FUN_0043de50();
  }
  if ((uVar4 & 4) != 0) {
    *(uint *)((int)this + 0x6c) = uVar4 | 8;
  }
  if (*(void **)((int)this + 0x2a8) != (void *)0x0) {
    if (*(code **)((int)this + 0x268) == (code *)0x0) {
      free(*(void **)((int)this + 0x2a8));
    }
    else {
      (**(code **)((int)this + 0x268))(this);
    }
  }
  this_00 = FUN_0043e420(in_EAX + 1);
  *(void **)((int)this + 0x2a8) = this_00;
  if (this_00 == (void *)0x0) {
    FUN_0043df90("No memory to process text chunk");
    return;
  }
  if (*(code **)((int)this + 0x54) == (code *)0x0) {
    FUN_0043de50();
    pcVar3 = (code *)swi(3);
    (*pcVar3)();
    return;
  }
  (**(code **)((int)this + 0x54))(this,this_00);
  FUN_0043c0f0(this_00,(int)this);
  iVar5 = FUN_0043e780(this,0);
  if (iVar5 == 0) {
    pcVar2 = *(char **)((int)this + 0x2a8);
    pcVar2[in_EAX] = '\0';
    cVar1 = *pcVar2;
    lpString = pcVar2;
    while (cVar1 != '\0') {
      lpString = lpString + 1;
      cVar1 = *lpString;
    }
    if (lpString != pcVar2 + in_EAX) {
      lpString = lpString + 1;
    }
    uVar4 = *(uint *)((int)this + 0x70);
    *(uint *)((int)this + 0x70) = uVar4 | 0x100000;
    if (*(code **)((int)this + 0x264) == (code *)0x0) {
      _Memory = (char *)malloc(0x1c);
    }
    else {
      _Memory = (char *)(**(code **)((int)this + 0x264))(this);
    }
    puVar6 = (undefined4 *)0x0;
    if (((undefined4 *)_Memory == (undefined4 *)0x0) &&
       ((*(uint *)((int)this + 0x70) & 0x100000) == 0)) {
      _Memory = s_Out_of_Memory_0046968c;
      puVar6 = (undefined4 *)FUN_0043de50();
    }
    *(uint *)((int)this + 0x70) = uVar4;
    if ((undefined4 *)_Memory != puVar6) {
      *(undefined4 *)_Memory = 0xffffffff;
      *(char **)((int)_Memory + 4) = pcVar2;
      *(undefined4 **)((int)_Memory + 0x14) = puVar6;
      *(undefined4 **)((int)_Memory + 0x18) = puVar6;
      *(undefined4 **)((int)_Memory + 0x10) = puVar6;
      *(char **)((int)_Memory + 8) = lpString;
      iVar5 = lstrlenA(lpString);
      *(int *)((int)_Memory + 0xc) = iVar5;
      iVar5 = FUN_004478c0((int)this,param_1,(int)_Memory);
      if (*(void **)((int)this + 0x2a8) != (void *)0x0) {
        if (*(code **)((int)this + 0x268) == (code *)0x0) {
          free(*(void **)((int)this + 0x2a8));
        }
        else {
          (**(code **)((int)this + 0x268))(this);
        }
      }
      *(undefined4 *)((int)this + 0x2a8) = 0;
      if (*(code **)((int)this + 0x268) == (code *)0x0) {
        free(_Memory);
      }
      else {
        (**(code **)((int)this + 0x268))(this);
      }
      if (iVar5 == 0) {
        return;
      }
      FUN_0043df90("Insufficient memory to process text chunk");
      return;
    }
    FUN_0043df90("Not enough memory to process text chunk");
  }
  if (*(void **)((int)this + 0x2a8) != (void *)0x0) {
    if (*(code **)((int)this + 0x268) != (code *)0x0) {
      (**(code **)((int)this + 0x268))(this);
      *(undefined4 *)((int)this + 0x2a8) = 0;
      return;
    }
    free(*(void **)((int)this + 0x2a8));
  }
  *(undefined4 *)((int)this + 0x2a8) = 0;
  return;
}



void __cdecl FUN_00441780(int param_1,char *param_2)

{
  char cVar1;
  code *pcVar2;
  void *in_EAX;
  uint uVar3;
  void *this;
  int iVar4;
  int *piVar5;
  char *pcVar6;
  char *pcVar7;
  char *local_10;
  char *local_c;
  uint local_8;
  
  iVar4 = *(int *)((int)in_EAX + 0x288);
  if (iVar4 != 0) {
    if (iVar4 == 1) {
      FUN_0043e780(in_EAX,(uint)param_2);
      return;
    }
    *(int *)((int)in_EAX + 0x288) = iVar4 + -1;
    if (iVar4 + -1 == 1) {
      FUN_0043df90("No space in chunk cache for zTXt");
      FUN_0043e780(in_EAX,(uint)param_2);
      return;
    }
  }
  uVar3 = *(uint *)((int)in_EAX + 0x6c);
  if ((uVar3 & 1) == 0) {
    uVar3 = FUN_0043de50();
  }
  if ((uVar3 & 4) != 0) {
    *(uint *)((int)in_EAX + 0x6c) = uVar3 | 8;
  }
  if (*(void **)((int)in_EAX + 0x2a8) != (void *)0x0) {
    if (*(code **)((int)in_EAX + 0x268) == (code *)0x0) {
      free(*(void **)((int)in_EAX + 0x2a8));
    }
    else {
      (**(code **)((int)in_EAX + 0x268))();
    }
  }
  this = FUN_0043e420((size_t)(param_2 + 1));
  *(void **)((int)in_EAX + 0x2a8) = this;
  if (this == (void *)0x0) {
    FUN_0043df90("Out of memory processing zTXt chunk");
    return;
  }
  if (*(code **)((int)in_EAX + 0x54) != (code *)0x0) {
    (**(code **)((int)in_EAX + 0x54))();
    FUN_0043c0f0(this,(int)in_EAX);
    iVar4 = FUN_0043e780(in_EAX,0);
    if (iVar4 == 0) {
      param_2[*(int *)((int)in_EAX + 0x2a8)] = '\0';
      pcVar6 = *(char **)((int)in_EAX + 0x2a8);
      cVar1 = *pcVar6;
      pcVar7 = pcVar6;
      while (cVar1 != '\0') {
        pcVar7 = pcVar7 + 1;
        cVar1 = *pcVar7;
      }
      if (pcVar7 < pcVar6 + -2 + (int)param_2) {
        iVar4 = (int)pcVar7[1];
        if (iVar4 != 0) {
          FUN_0043df90("Unknown compression type in zTXt chunk");
          iVar4 = 0;
        }
        local_c = pcVar7 + (2 - *(int *)((int)in_EAX + 0x2a8));
        FUN_0043ea70(&local_10,iVar4,(int)in_EAX,param_2,local_c);
        local_8 = *(uint *)((int)in_EAX + 0x70);
        *(uint *)((int)in_EAX + 0x70) = local_8 | 0x100000;
        if (*(code **)((int)in_EAX + 0x264) == (code *)0x0) {
          pcVar6 = (char *)malloc(0x1c);
        }
        else {
          pcVar6 = (char *)(**(code **)((int)in_EAX + 0x264))();
        }
        piVar5 = (int *)0x0;
        if (((int *)pcVar6 == (int *)0x0) && ((*(uint *)((int)in_EAX + 0x70) & 0x100000) == 0)) {
          pcVar6 = s_Out_of_Memory_0046968c;
          piVar5 = (int *)FUN_0043de50();
        }
        *(uint *)((int)in_EAX + 0x70) = local_8;
        if ((int *)pcVar6 != piVar5) {
          *(int *)pcVar6 = iVar4;
          *(int *)((int)pcVar6 + 4) = *(int *)((int)in_EAX + 0x2a8);
          *(int **)((int)pcVar6 + 0x14) = piVar5;
          *(int **)((int)pcVar6 + 0x18) = piVar5;
          *(int **)((int)pcVar6 + 0x10) = piVar5;
          *(char **)((int)pcVar6 + 8) = local_c + *(int *)((int)in_EAX + 0x2a8);
          *(char **)((int)pcVar6 + 0xc) = local_10;
          iVar4 = FUN_004478c0((int)in_EAX,param_1,(int)pcVar6);
          if (*(code **)((int)in_EAX + 0x268) == (code *)0x0) {
            free(pcVar6);
          }
          else {
            (**(code **)((int)in_EAX + 0x268))();
          }
          if (*(void **)((int)in_EAX + 0x2a8) != (void *)0x0) {
            if (*(code **)((int)in_EAX + 0x268) == (code *)0x0) {
              free(*(void **)((int)in_EAX + 0x2a8));
            }
            else {
              (**(code **)((int)in_EAX + 0x268))();
            }
          }
          *(undefined4 *)((int)in_EAX + 0x2a8) = 0;
          if (iVar4 == 0) {
            return;
          }
          FUN_0043de50();
          goto LAB_00441a0a;
        }
        pcVar6 = "Not enough memory to process zTXt chunk";
      }
      else {
        pcVar6 = "Truncated zTXt chunk";
      }
      FUN_0043df90(pcVar6);
    }
    if (*(void **)((int)in_EAX + 0x2a8) != (void *)0x0) {
      if (*(code **)((int)in_EAX + 0x268) != (code *)0x0) {
        (**(code **)((int)in_EAX + 0x268))();
        *(undefined4 *)((int)in_EAX + 0x2a8) = 0;
        return;
      }
      free(*(void **)((int)in_EAX + 0x2a8));
    }
    *(undefined4 *)((int)in_EAX + 0x2a8) = 0;
    return;
  }
LAB_00441a0a:
  FUN_0043de50();
  pcVar2 = (code *)swi(3);
  (*pcVar2)();
  return;
}



void __thiscall FUN_00441a20(void *this,int param_1)

{
  char cVar1;
  code *pcVar2;
  char *in_EAX;
  uint uVar3;
  void *this_00;
  int iVar4;
  char *pcVar5;
  int iVar6;
  char *pcVar7;
  char *pcVar8;
  char *pcVar9;
  char *pcVar10;
  
  iVar4 = *(int *)((int)this + 0x288);
  if (iVar4 != 0) {
    if (iVar4 == 1) {
      FUN_0043e780(this,(uint)in_EAX);
      return;
    }
    *(int *)((int)this + 0x288) = iVar4 + -1;
    if (iVar4 + -1 == 1) {
      FUN_0043df90("No space in chunk cache for iTXt");
      FUN_0043e780(this,(uint)in_EAX);
      return;
    }
  }
  uVar3 = *(uint *)((int)this + 0x6c);
  if ((uVar3 & 1) == 0) {
    in_EAX = "Missing IHDR before iTXt";
    uVar3 = FUN_0043de50();
  }
  if ((uVar3 & 4) != 0) {
    *(uint *)((int)this + 0x6c) = uVar3 | 8;
  }
  if (*(void **)((int)this + 0x2a8) != (void *)0x0) {
    if (*(code **)((int)this + 0x268) == (code *)0x0) {
      free(*(void **)((int)this + 0x2a8));
    }
    else {
      (**(code **)((int)this + 0x268))(this);
    }
  }
  this_00 = FUN_0043e420((size_t)(in_EAX + 1));
  *(void **)((int)this + 0x2a8) = this_00;
  if (this_00 == (void *)0x0) {
    FUN_0043df90("No memory to process iTXt chunk");
    return;
  }
  if (*(code **)((int)this + 0x54) == (code *)0x0) {
    FUN_0043de50();
    pcVar2 = (code *)swi(3);
    (*pcVar2)();
    return;
  }
  (**(code **)((int)this + 0x54))(this,this_00,in_EAX);
  FUN_0043c0f0(this_00,(int)this);
  iVar4 = FUN_0043e780(this,0);
  if (iVar4 != 0) goto LAB_00441cbf;
  in_EAX[*(int *)((int)this + 0x2a8)] = '\0';
  pcVar7 = *(char **)((int)this + 0x2a8);
  cVar1 = *pcVar7;
  pcVar8 = pcVar7;
  while (cVar1 != '\0') {
    pcVar8 = pcVar8 + 1;
    cVar1 = *pcVar8;
  }
  pcVar10 = pcVar7 + (int)in_EAX;
  if (pcVar8 + 1 < pcVar10 + -3) {
    pcVar9 = pcVar8 + 3;
    if ((pcVar8[2] == '\0') && (pcVar8[1] == '\0')) {
      cVar1 = *pcVar9;
      pcVar8 = pcVar9;
      while (cVar1 != '\0') {
        pcVar8 = pcVar8 + 1;
        cVar1 = *pcVar8;
      }
      pcVar8 = pcVar8 + 1;
      if (pcVar8 < pcVar10) {
        cVar1 = *pcVar8;
        pcVar5 = pcVar8;
        while (cVar1 != '\0') {
          pcVar5 = pcVar5 + 1;
          cVar1 = *pcVar5;
        }
        if (pcVar5 + 1 < pcVar10) {
          iVar4 = (int)(pcVar5 + 1) - (int)pcVar7;
          iVar6 = lstrlenA(pcVar7 + iVar4);
          uVar3 = *(uint *)((int)this + 0x70);
          *(uint *)((int)this + 0x70) = uVar3 | 0x100000;
          if (*(code **)((int)this + 0x264) == (code *)0x0) {
            pcVar10 = (char *)malloc(0x1c);
          }
          else {
            pcVar10 = (char *)(**(code **)((int)this + 0x264))(this);
          }
          if (((undefined4 *)pcVar10 == (undefined4 *)0x0) &&
             ((*(uint *)((int)this + 0x70) & 0x100000) == 0)) {
            pcVar10 = s_Out_of_Memory_0046968c;
            FUN_0043de50();
          }
          *(uint *)((int)this + 0x70) = uVar3;
          if ((undefined4 *)pcVar10 != (undefined4 *)0x0) {
            *(undefined4 *)pcVar10 = 1;
            *(char **)((int)pcVar10 + 0x18) = pcVar8 + (*(int *)((int)this + 0x2a8) - (int)pcVar7);
            *(char **)((int)pcVar10 + 0x14) = pcVar9 + (*(int *)((int)this + 0x2a8) - (int)pcVar7);
            *(int *)((int)pcVar10 + 0x10) = iVar6;
            *(undefined4 *)((int)pcVar10 + 0xc) = 0;
            *(undefined4 *)((int)pcVar10 + 4) = *(undefined4 *)((int)this + 0x2a8);
            *(int *)((int)pcVar10 + 8) = *(int *)((int)this + 0x2a8) + iVar4;
            iVar4 = FUN_004478c0((int)this,param_1,(int)pcVar10);
            if (*(code **)((int)this + 0x268) == (code *)0x0) {
              free(pcVar10);
            }
            else {
              (**(code **)((int)this + 0x268))(this);
            }
            if (*(void **)((int)this + 0x2a8) != (void *)0x0) {
              if (*(code **)((int)this + 0x268) == (code *)0x0) {
                free(*(void **)((int)this + 0x2a8));
              }
              else {
                (**(code **)((int)this + 0x268))(this);
              }
            }
            *(undefined4 *)((int)this + 0x2a8) = 0;
            if (iVar4 == 0) {
              return;
            }
            FUN_0043de50();
            goto LAB_00441cb3;
          }
          pcVar7 = "Not enough memory to process iTXt chunk";
        }
        else {
          pcVar7 = "Malformed iTXt chunk";
        }
      }
      else {
        pcVar7 = "Truncated iTXt chunk";
      }
    }
    else {
LAB_00441cb3:
      pcVar7 = "Unknown iTXt compression type or method";
    }
  }
  else {
    pcVar7 = "Truncated iTXt chunk";
  }
  FUN_0043df90(pcVar7);
LAB_00441cbf:
  if (*(void **)((int)this + 0x2a8) != (void *)0x0) {
    if (*(code **)((int)this + 0x268) != (code *)0x0) {
      (**(code **)((int)this + 0x268))(this);
      *(undefined4 *)((int)this + 0x2a8) = 0;
      return;
    }
    free(*(void **)((int)this + 0x2a8));
  }
  *(undefined4 *)((int)this + 0x2a8) = 0;
  return;
}



void __fastcall FUN_00441d20(void *param_1)

{
  uint uVar1;
  code *pcVar2;
  uint in_EAX;
  int iVar3;
  void *this;
  undefined4 extraout_ECX;
  undefined4 extraout_ECX_00;
  undefined4 uVar4;
  undefined uVar5;
  uint local_8;
  
  iVar3 = *(int *)((int)param_1 + 0x288);
  local_8 = 0;
  if (iVar3 != 0) {
    if (iVar3 == 1) {
      FUN_0043e780(param_1,in_EAX);
      return;
    }
    *(int *)((int)param_1 + 0x288) = iVar3 + -1;
    if (iVar3 + -1 == 1) {
      FUN_0043df90("No space in chunk cache for unknown chunk");
      FUN_0043e780(param_1,in_EAX);
      return;
    }
  }
  if (((*(uint *)((int)param_1 + 0x6c) & 4) != 0) && (*(int *)((int)param_1 + 0x100) != 0x49444154))
  {
    *(uint *)((int)param_1 + 0x6c) = *(uint *)((int)param_1 + 0x6c) | 8;
  }
  uVar1 = *(uint *)((int)param_1 + 0x100);
  if ((uVar1 & 0x20000000) == 0) {
    iVar3 = FUN_0043c9e0(param_1,(int)param_1,uVar1);
    if ((iVar3 != 3) && (*(int *)((int)param_1 + 0x244) == 0)) {
      FUN_0043e2c0();
    }
  }
  if (((*(uint *)((int)param_1 + 0x70) & 0x8000) == 0) && (*(int *)((int)param_1 + 0x244) == 0))
  goto LAB_00441edd;
  *(char *)((int)param_1 + 0x290) = (char)(uVar1 >> 0x18);
  *(char *)((int)param_1 + 0x291) = (char)(uVar1 >> 0x10);
  *(char *)((int)param_1 + 0x292) = (char)(uVar1 >> 8);
  *(undefined *)((int)param_1 + 0x293) = *(undefined *)((int)param_1 + 0x100);
  *(undefined *)((int)param_1 + 0x294) = 0;
  *(uint *)((int)param_1 + 0x29c) = in_EAX;
  if (in_EAX == 0) {
    *(undefined4 *)((int)param_1 + 0x298) = 0;
  }
  else {
    this = FUN_0043e3b0(in_EAX);
    *(void **)((int)param_1 + 0x298) = this;
    if (*(code **)((int)param_1 + 0x54) == (code *)0x0) {
      FUN_0043de50();
      pcVar2 = (code *)swi(3);
      (*pcVar2)();
      return;
    }
    (**(code **)((int)param_1 + 0x54))(param_1,this);
    FUN_0043c0f0(this,(int)param_1);
  }
  if (*(code **)((int)param_1 + 0x244) == (code *)0x0) {
LAB_00441e97:
    FUN_00447ee0((undefined4 *)((int)param_1 + 0x290));
  }
  else {
    iVar3 = (**(code **)((int)param_1 + 0x244))(param_1,(int)param_1 + 0x290);
    uVar5 = iVar3 == 0;
    uVar4 = extraout_ECX;
    if (iVar3 < 0) {
      FUN_0043e2c0();
      uVar4 = extraout_ECX_00;
    }
    if ((bool)uVar5) {
      if ((*(uint *)((int)param_1 + 0x100) & 0x20000000) == 0) {
        iVar3 = FUN_0043c9e0(uVar4,(int)param_1,*(uint *)((int)param_1 + 0x100));
        if (iVar3 != 3) {
          FUN_0043e2c0();
        }
      }
      goto LAB_00441e97;
    }
  }
  if (*(void **)((int)param_1 + 0x298) != (void *)0x0) {
    if (*(code **)((int)param_1 + 0x268) == (code *)0x0) {
      free(*(void **)((int)param_1 + 0x298));
    }
    else {
      (**(code **)((int)param_1 + 0x268))(param_1);
    }
  }
  *(undefined4 *)((int)param_1 + 0x298) = 0;
  in_EAX = local_8;
LAB_00441edd:
  FUN_0043e780(param_1,in_EAX);
  return;
}



void __cdecl FUN_00441f00(undefined4 *param_1,int param_2)

{
  undefined4 *puVar1;
  byte bVar2;
  byte bVar3;
  int in_EAX;
  byte *_Src;
  uint uVar4;
  uint uVar5;
  char *pcVar6;
  uint uVar7;
  int iVar8;
  uint uVar9;
  size_t _Size;
  char *pcVar10;
  ulonglong uVar11;
  byte *local_1c;
  uint local_18;
  byte local_14;
  uint local_10;
  undefined4 *local_c;
  byte local_5;
  
  bVar2 = *(byte *)(in_EAX + 0x143);
  uVar9 = (uint)bVar2;
  pcVar10 = *(char **)(in_EAX + 0xe4);
  _Src = (byte *)(*(int *)(in_EAX + 0x108) + 1);
  bVar3 = *(byte *)(in_EAX + 0x139);
  uVar4 = (uint)bVar3;
  local_1c = (byte *)0x0;
  local_5 = 0;
  uVar5 = uVar4;
  if (uVar9 == 0) {
    pcVar10 = "internal row logic error";
    uVar5 = FUN_0043de50();
  }
  if (*(uint *)(in_EAX + 0x11c) != 0) {
    if (uVar9 < 8) {
      uVar7 = (int)pcVar10 * uVar9 + 7 >> 3;
    }
    else {
      uVar7 = (uint)(bVar2 >> 3) * (int)pcVar10;
    }
    if (*(uint *)(in_EAX + 0x11c) != uVar7) {
      pcVar10 = "internal row size calculation error";
      uVar5 = FUN_0043de50();
    }
  }
  if (pcVar10 == (char *)0x0) {
    pcVar10 = "internal row width error";
    uVar5 = FUN_0043de50();
  }
  uVar7 = (int)pcVar10 * uVar9;
  local_14 = (byte)(uVar7 & 7);
  if ((uVar7 & 7) != 0) {
    if (uVar9 < 8) {
      uVar5 = uVar7 + 7 >> 3;
    }
    else {
      uVar5 = (uint)(bVar2 >> 3) * (int)pcVar10;
    }
    local_1c = (byte *)((uVar5 - 1) + (int)param_1);
    local_5 = *local_1c;
    if ((*(uint *)(in_EAX + 0x74) & 0x10000) == 0) {
      local_14 = (byte)(0xff >> local_14);
      uVar5 = uVar4;
    }
    else {
      local_14 = (byte)(0xff << local_14);
      uVar5 = uVar4;
    }
  }
  if ((((*(char *)(in_EAX + 0x138) == '\0') || ((*(uint *)(in_EAX + 0x74) & 2) == 0)) || (5 < uVar5)
      ) || ((param_2 != 0 && ((param_2 != 1 || ((uVar5 & 1) == 0)))))) {
    if (uVar9 < 8) {
      _Size = uVar7 + 7 >> 3;
    }
    else {
      _Size = (uint)(bVar2 >> 3) * (int)pcVar10;
    }
    memcpy(param_1,_Src,_Size);
  }
  else {
    uVar7 = (uVar5 & 1) << (3U - (char)(uVar5 + 1 >> 1) & 0x1f);
    uVar11 = CONCAT44(uVar7,uVar5) & 0x7ffffffff;
    if (pcVar10 <= (char *)(uVar7 & 7)) {
      return;
    }
    if (7 < uVar9) {
      if ((bVar2 & 7) != 0) {
        pcVar10 = "invalid user transform pixel depth";
        uVar11 = FUN_0043de50();
      }
      uVar5 = (uint)(bVar2 >> 3);
      iVar8 = (int)(uVar11 >> 0x20) * uVar5;
      param_1 = (undefined4 *)((int)param_1 + iVar8);
      local_c = (undefined4 *)(_Src + iVar8);
      uVar4 = (int)pcVar10 * uVar5 - iVar8;
      local_10 = uVar5;
      if ((param_2 != 0) &&
         (local_10 = (1 << ((byte)(6U - (int)uVar11 >> 1) & 0x1f)) * uVar5,
         uVar4 <= local_10 && local_10 - uVar4 != 0)) {
        local_10 = uVar4;
      }
      uVar5 = (1 << ((byte)(7U - (int)uVar11 >> 1) & 0x1f)) * uVar5;
      if (local_10 == 1) {
        *(byte *)param_1 = *(byte *)local_c;
        if (uVar4 <= uVar5) {
          return;
        }
        do {
          puVar1 = (undefined4 *)((int)local_c + uVar5);
          local_c = (undefined4 *)((int)local_c + uVar5);
          param_1 = (undefined4 *)((int)param_1 + uVar5);
          uVar4 = uVar4 - uVar5;
          *(byte *)param_1 = *(byte *)puVar1;
        } while (uVar5 < uVar4);
        return;
      }
      if (local_10 == 2) {
        do {
          *(byte *)param_1 = *(byte *)local_c;
          *(byte *)((int)param_1 + 1) = *(byte *)((int)local_c + 1);
          if (uVar4 <= uVar5) {
            return;
          }
          uVar4 = uVar4 - uVar5;
          local_c = (undefined4 *)((int)local_c + uVar5);
          param_1 = (undefined4 *)((int)param_1 + uVar5);
        } while (1 < uVar4);
        *(byte *)param_1 = *(byte *)local_c;
        return;
      }
      if (local_10 != 3) {
        if ((((0xf < local_10) || (((uint)param_1 & 1) != 0)) || (((uint)local_c & 1) != 0)) ||
           (((local_10 & 1) != 0 || ((uVar5 & 1) != 0)))) {
          memcpy(param_1,local_c,local_10);
          if (uVar4 <= uVar5) {
            return;
          }
          do {
            local_c = (undefined4 *)((int)local_c + uVar5);
            param_1 = (undefined4 *)((int)param_1 + uVar5);
            uVar4 = uVar4 - uVar5;
            if (uVar4 < local_10) {
              local_10 = uVar4;
            }
            memcpy(param_1,local_c,local_10);
          } while (uVar5 < uVar4);
          return;
        }
        if (((((uint)param_1 & 3) == 0) && (((uint)local_c & 3) == 0)) &&
           (((local_10 & 3) == 0 && ((uVar5 & 3) == 0)))) {
          while( true ) {
            local_18 = local_10;
            do {
              *param_1 = *local_c;
              param_1 = param_1 + 1;
              local_c = local_c + 1;
              local_18 = local_18 - 4;
            } while (local_18 != 0);
            if (uVar4 <= uVar5) break;
            uVar9 = uVar5 - local_10 & 0xfffffffc;
            uVar4 = uVar4 - uVar5;
            param_1 = (undefined4 *)((int)param_1 + uVar9);
            local_c = (undefined4 *)((int)local_c + uVar9);
            if (uVar4 < local_10) {
              iVar8 = (int)local_c - (int)param_1;
              do {
                *(byte *)param_1 = *(byte *)(iVar8 + (int)param_1);
                param_1 = (undefined4 *)((int)param_1 + 1);
                uVar4 = uVar4 - 1;
              } while (uVar4 != 0);
              return;
            }
          }
          return;
        }
        while( true ) {
          local_18 = local_10;
          do {
            *(undefined2 *)param_1 = *(undefined2 *)local_c;
            param_1 = (undefined4 *)((int)param_1 + 2);
            local_c = (undefined4 *)((int)local_c + 2);
            local_18 = local_18 - 2;
          } while (local_18 != 0);
          if (uVar4 <= uVar5) break;
          uVar4 = uVar4 - uVar5;
          param_1 = (undefined4 *)((int)param_1 + (uVar5 - local_10 & 0xfffffffe));
          local_c = (undefined4 *)((int)local_c + (uVar5 - local_10 & 0xfffffffe));
          if (uVar4 < local_10) {
            iVar8 = (int)local_c - (int)param_1;
            do {
              *(byte *)param_1 = *(byte *)(iVar8 + (int)param_1);
              param_1 = (undefined4 *)((int)param_1 + 1);
              uVar4 = uVar4 - 1;
            } while (uVar4 != 0);
            return;
          }
        }
        return;
      }
      *(byte *)param_1 = *(byte *)local_c;
      *(byte *)((int)param_1 + 1) = *(byte *)((int)local_c + 1);
      *(byte *)((int)param_1 + 2) = *(byte *)((int)local_c + 2);
      if (uVar4 <= uVar5) {
        return;
      }
      do {
        puVar1 = (undefined4 *)((int)local_c + uVar5);
        local_c = (undefined4 *)((int)local_c + uVar5);
        param_1 = (undefined4 *)((int)param_1 + uVar5);
        *(byte *)param_1 = *(byte *)puVar1;
        *(byte *)((int)param_1 + 1) = *(byte *)((int)local_c + 1);
        uVar4 = uVar4 - uVar5;
        *(byte *)((int)param_1 + 2) = *(byte *)((int)local_c + 2);
      } while (uVar5 < uVar4);
      return;
    }
    pcVar6 = (char *)(8 / (ulonglong)uVar9);
    if ((*(uint *)(in_EAX + 0x74) & 0x10000) == 0) {
      if (param_2 == 0) {
        iVar8 = 0;
        if (uVar9 != 1) {
          iVar8 = (uVar9 != 2) + 1;
        }
        uVar5 = *(uint *)(&DAT_00462720 + (uVar4 + iVar8 * 6) * 4);
      }
      else {
        iVar8 = 0;
        if (uVar9 != 1) {
          iVar8 = (uVar9 != 2) + 1;
        }
        uVar5 = *(uint *)(&DAT_0046278c + ((uint)(bVar3 >> 1) + iVar8 * 3) * 4);
      }
    }
    else if (param_2 == 0) {
      iVar8 = 0;
      if (uVar9 != 1) {
        iVar8 = (uVar9 != 2) + 1;
      }
      uVar5 = *(uint *)(&DAT_004626d8 + (uVar4 + iVar8 * 6) * 4);
    }
    else {
      iVar8 = 0;
      if (uVar9 != 1) {
        iVar8 = (uVar9 != 2) + 1;
      }
      uVar5 = *(uint *)(&DAT_00462768 + ((uint)(bVar3 >> 1) + iVar8 * 3) * 4);
    }
    while( true ) {
      uVar4 = uVar5 & 0xff;
      if (uVar4 != 0) {
        if (uVar4 == 0xff) {
          *(byte *)param_1 = *_Src;
        }
        else {
          *(byte *)param_1 = ~(byte)uVar4 & *(byte *)param_1 | *_Src & (byte)uVar4;
        }
      }
      if (pcVar10 <= pcVar6) break;
      pcVar10 = pcVar10 + -(int)pcVar6;
      param_1 = (undefined4 *)((int)param_1 + 1);
      _Src = _Src + 1;
      uVar5 = uVar5 >> 8 | uVar5 << 0x18;
    }
  }
  if (local_1c != (byte *)0x0) {
    *local_1c = ~local_14 & *local_1c | local_14 & local_5;
  }
  return;
}



void __fastcall FUN_004423c0(int param_1,uint param_2,uint *param_3,int param_4)

{
  byte bVar1;
  int iVar2;
  uint uVar3;
  uint uVar4;
  void *_Src;
  uint uVar5;
  uint uVar6;
  void *_Dst;
  byte *pbVar7;
  uint local_2c;
  byte *local_28;
  byte *local_24;
  uint local_20;
  uint local_1c;
  uint local_18;
  undefined local_10 [4];
  uint local_c;
  uint local_8;
  
  local_8 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  if ((param_1 != 0) && (param_3 != (uint *)0x0)) {
    iVar2 = *(int *)(&DAT_004627b0 + param_4 * 4);
    uVar3 = *param_3;
    bVar1 = *(byte *)((int)param_3 + 0xb);
    uVar4 = uVar3 * iVar2;
    if (bVar1 == 1) {
      local_24 = (byte *)((uVar3 - 1 >> 3) + param_1);
      pbVar7 = (byte *)((uVar4 - 1 >> 3) + param_1);
      if ((param_2 & 0x10000) == 0) {
        uVar5 = 7 - (uVar3 - 1 & 7);
        uVar6 = 7 - (uVar4 - 1 & 7);
        local_28 = (byte *)0x0;
        local_18 = 7;
        local_20 = 1;
      }
      else {
        uVar5 = uVar3 - 1 & 7;
        uVar6 = uVar4 - 1 & 7;
        local_28 = (byte *)0x7;
        local_18 = 0;
        local_20 = -1;
      }
      local_c = 0;
      if (uVar3 != 0) {
        do {
          bVar1 = *local_24;
          local_2c = iVar2;
          if (0 < iVar2) {
            do {
              *pbVar7 = (byte)(0x7f7f >> (7 - (byte)uVar6 & 0x1f)) & *pbVar7 |
                        (bVar1 >> ((byte)uVar5 & 0x1f) & 1) << ((byte)uVar6 & 0x1f);
              if (uVar6 == local_18) {
                pbVar7 = pbVar7 + -1;
                uVar6 = (uint)local_28;
              }
              else {
                uVar6 = uVar6 + local_20;
              }
              local_2c = local_2c + -1;
            } while (local_2c != 0);
          }
          if (uVar5 == local_18) {
            local_24 = local_24 + -1;
            uVar5 = (uint)local_28;
          }
          else {
            uVar5 = uVar5 + local_20;
          }
          local_c = local_c + 1;
        } while (local_c < *param_3);
      }
    }
    else if (bVar1 == 2) {
      local_24 = (byte *)((uVar3 - 1 >> 2) + param_1);
      pbVar7 = (byte *)((uVar4 - 1 >> 2) + param_1);
      if ((param_2 & 0x10000) == 0) {
        uVar5 = (3 - (uVar3 - 1 & 3)) * 2;
        uVar6 = (3 - (uVar4 - 1 & 3)) * 2;
        local_28 = (byte *)0x0;
        local_18 = 6;
        local_1c = 2;
      }
      else {
        uVar5 = uVar3 * 2 - 1 & 6;
        uVar6 = uVar4 * 2 - 1 & 6;
        local_28 = (byte *)0x6;
        local_18 = 0;
        local_1c = -2;
      }
      local_20 = 0;
      if (uVar3 != 0) {
        do {
          bVar1 = *local_24;
          local_2c = iVar2;
          if (0 < iVar2) {
            do {
              *pbVar7 = (byte)(0x3f3f >> (6 - (byte)uVar6 & 0x1f)) & *pbVar7 |
                        (bVar1 >> ((byte)uVar5 & 0x1f) & 3) << ((byte)uVar6 & 0x1f);
              if (uVar6 == local_18) {
                pbVar7 = pbVar7 + -1;
                uVar6 = (uint)local_28;
              }
              else {
                uVar6 = uVar6 + local_1c;
              }
              local_2c = local_2c + -1;
            } while (local_2c != 0);
          }
          if (uVar5 == local_18) {
            local_24 = local_24 + -1;
            uVar5 = (uint)local_28;
          }
          else {
            uVar5 = uVar5 + local_1c;
          }
          local_20 = local_20 + 1;
        } while (local_20 < *param_3);
      }
    }
    else if (bVar1 == 4) {
      local_28 = (byte *)((uVar3 - 1 >> 1) + param_1);
      pbVar7 = (byte *)((uVar4 - 1 >> 1) + param_1);
      if ((param_2 & 0x10000) == 0) {
        uVar5 = (uVar3 - 1 & 1) * -4 + 4;
        uVar6 = (uVar4 - 1 & 1) * -4 + 4;
        local_24 = (byte *)0x0;
        local_1c = 4;
        local_18 = 4;
      }
      else {
        uVar5 = uVar3 * -4 - 1 & 4;
        uVar6 = uVar4 * -4 - 1 & 4;
        local_24 = (byte *)0x4;
        local_1c = 0;
        local_18 = -4;
      }
      local_2c = 0;
      if (uVar3 != 0) {
        do {
          bVar1 = *local_28;
          local_20 = iVar2;
          if (0 < iVar2) {
            do {
              *pbVar7 = (byte)(0xf0f >> (4 - (byte)uVar6 & 0x1f)) & *pbVar7 |
                        (bVar1 >> ((byte)uVar5 & 0x1f) & 0xf) << ((byte)uVar6 & 0x1f);
              if (uVar6 == local_1c) {
                pbVar7 = pbVar7 + -1;
                uVar6 = (uint)local_24;
              }
              else {
                uVar6 = uVar6 + local_18;
              }
              local_20 = local_20 + -1;
            } while (local_20 != 0);
          }
          if (uVar5 == local_1c) {
            local_28 = local_28 + -1;
            uVar5 = (uint)local_24;
          }
          else {
            uVar5 = uVar5 + local_18;
          }
          local_2c = local_2c + 1;
        } while (local_2c < *param_3);
      }
    }
    else {
      uVar5 = (uint)(bVar1 >> 3);
      _Src = (void *)((uVar3 - 1) * uVar5 + param_1);
      _Dst = (void *)((uVar4 - 1) * uVar5 + param_1);
      local_18 = 0;
      if (uVar3 != 0) {
        do {
          memcpy(local_10,_Src,uVar5);
          local_20 = iVar2;
          if (0 < iVar2) {
            do {
              memcpy(_Dst,local_10,uVar5);
              _Dst = (void *)((int)_Dst - uVar5);
              local_20 = local_20 + -1;
            } while (local_20 != 0);
          }
          local_18 = local_18 + 1;
          _Src = (void *)((int)_Src - uVar5);
        } while (local_18 < *param_3);
      }
    }
    bVar1 = *(byte *)((int)param_3 + 0xb);
    *param_3 = uVar4;
    if (7 < bVar1) {
      param_3[1] = (bVar1 >> 3) * uVar4;
      ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
      return;
    }
    param_3[1] = bVar1 * uVar4 + 7 >> 3;
  }
  ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __cdecl FUN_004427c0(int param_1,int param_2)

{
  uint uVar1;
  uint uVar2;
  char *pcVar3;
  uint uVar4;
  
  uVar1 = *(uint *)(param_1 + 4);
  uVar4 = (int)(*(byte *)(param_1 + 0xb) + 7) >> 3;
  pcVar3 = (char *)(uVar4 + param_2);
  if (uVar4 < uVar1) {
    uVar2 = (int)pcVar3 - param_2;
    do {
      *pcVar3 = *pcVar3 + *(char *)((param_2 - uVar4) + uVar2);
      uVar2 = uVar2 + 1;
      pcVar3 = pcVar3 + 1;
    } while (uVar2 < uVar1);
  }
  return;
}



void __cdecl FUN_00442800(int param_1,char *param_2,int param_3)

{
  uint uVar1;
  uint uVar2;
  
  uVar1 = *(uint *)(param_1 + 4);
  uVar2 = 0;
  if (uVar1 != 0) {
    do {
      *param_2 = *param_2 + *(char *)(uVar2 + param_3);
      uVar2 = uVar2 + 1;
      param_2 = param_2 + 1;
    } while (uVar2 < uVar1);
  }
  return;
}



void __cdecl FUN_00442830(int param_1,char *param_2,byte *param_3)

{
  int iVar1;
  int iVar2;
  int iVar3;
  byte *pbVar4;
  
  iVar1 = (int)(*(byte *)(param_1 + 0xb) + 7) >> 3;
  iVar2 = *(int *)(param_1 + 4) - iVar1;
  for (iVar3 = iVar1; iVar3 != 0; iVar3 = iVar3 + -1) {
    *param_2 = *param_2 + (*param_3 >> 1);
    param_3 = param_3 + 1;
    param_2 = param_2 + 1;
  }
  if (iVar2 != 0) {
    pbVar4 = (byte *)(param_2 + -iVar1);
    iVar3 = (int)param_3 - (int)param_2;
    do {
      *param_2 = *param_2 + (char)(((uint)(byte)param_2[iVar3] + (uint)*pbVar4) / 2);
      param_2 = param_2 + 1;
      pbVar4 = pbVar4 + 1;
      iVar2 = iVar2 + -1;
    } while (iVar2 != 0);
  }
  return;
}



void __cdecl FUN_00442890(uint param_1,byte *param_2,byte *param_3)

{
  byte bVar1;
  int iVar2;
  uint uVar3;
  byte *pbVar4;
  int iVar5;
  byte *pbVar6;
  uint uVar7;
  uint uVar8;
  uint uVar9;
  int iVar10;
  uint uVar11;
  uint uVar12;
  
  iVar2 = *(int *)(param_1 + 4);
  bVar1 = *param_3;
  uVar8 = (uint)*param_2 + (uint)bVar1;
  *param_2 = (byte)uVar8;
  pbVar4 = param_3 + 1;
  uVar3 = (uint)bVar1;
  for (pbVar6 = param_2 + 1; pbVar6 < param_2 + iVar2; pbVar6 = pbVar6 + 1) {
    uVar11 = (uint)*pbVar4;
    uVar12 = uVar11 - uVar3;
    uVar9 = (uVar8 & 0xff) - uVar3;
    pbVar4 = pbVar4 + 1;
    iVar5 = (uVar12 ^ (int)uVar12 >> 0x1f) - ((int)uVar12 >> 0x1f);
    iVar10 = (uVar9 ^ (int)uVar9 >> 0x1f) - ((int)uVar9 >> 0x1f);
    uVar7 = (int)(uVar9 + uVar12) >> 0x1f;
    param_1 = uVar8 & 0xff;
    if (iVar10 < iVar5) {
      iVar5 = iVar10;
      param_1 = uVar11;
    }
    if ((int)((uVar9 + uVar12 ^ uVar7) - uVar7) < iVar5) {
      param_1 = uVar3;
    }
    uVar8 = param_1 + *pbVar6;
    *pbVar6 = (byte)uVar8;
    uVar3 = uVar11;
  }
  return;
}



void __cdecl FUN_00442940(int param_1,char *param_2,byte *param_3)

{
  char *pcVar1;
  byte bVar2;
  byte bVar3;
  int iVar4;
  byte *pbVar5;
  int iVar6;
  byte *pbVar7;
  uint uVar8;
  uint uVar9;
  int iVar10;
  int iVar11;
  uint uVar12;
  
  iVar10 = (int)(*(byte *)(param_1 + 0xb) + 7) >> 3;
  pcVar1 = param_2 + iVar10;
  if (param_2 < pcVar1) {
    do {
      *param_2 = *param_2 + *param_3;
      param_3 = param_3 + 1;
      param_2 = param_2 + 1;
    } while (param_2 < pcVar1);
  }
  iVar4 = *(int *)(param_1 + 4);
  if (param_2 < pcVar1 + (iVar4 - iVar10)) {
    pbVar7 = (byte *)(param_2 + -iVar10);
    pbVar5 = param_3 + -iVar10;
    do {
      bVar2 = *pbVar5;
      bVar3 = *param_3;
      param_3 = param_3 + 1;
      uVar12 = (uint)bVar3 - (uint)bVar2;
      uVar9 = (uint)*pbVar7 - (uint)bVar2;
      pbVar5 = pbVar5 + 1;
      iVar6 = (uVar12 ^ (int)uVar12 >> 0x1f) - ((int)uVar12 >> 0x1f);
      iVar11 = (uVar9 ^ (int)uVar9 >> 0x1f) - ((int)uVar9 >> 0x1f);
      uVar8 = (int)(uVar9 + uVar12) >> 0x1f;
      param_1._0_1_ = *pbVar7;
      if (iVar11 < iVar6) {
        iVar6 = iVar11;
        param_1._0_1_ = bVar3;
      }
      if ((int)((uVar9 + uVar12 ^ uVar8) - uVar8) < iVar6) {
        param_1._0_1_ = bVar2;
      }
      *param_2 = *param_2 + (byte)param_1;
      pbVar7 = pbVar7 + 1;
      param_2 = param_2 + 1;
    } while (param_2 < pcVar1 + (iVar4 - iVar10));
  }
  return;
}



void __fastcall FUN_00442a20(int param_1)

{
  int in_EAX;
  
  if (*(int *)(in_EAX + 0x2b4) == 0) {
    *(code **)(in_EAX + 0x2b4) = FUN_004427c0;
    *(code **)(in_EAX + 0x2b8) = FUN_00442800;
    *(code **)(in_EAX + 700) = FUN_00442830;
    if ((*(byte *)(in_EAX + 0x13e) + 7 & 0xfffffff8) == 8) {
      *(code **)(in_EAX + 0x2c0) = FUN_00442890;
    }
    else {
      *(code **)(in_EAX + 0x2c0) = FUN_00442940;
    }
  }
  if (param_1 - 1U < 4) {
                    // WARNING: Could not recover jumptable at 0x00442a82. Too many branches
                    // WARNING: Treating indirect jump as call
    (**(code **)(in_EAX + 0x2b0 + param_1 * 4))();
    return;
  }
  return;
}



void __fastcall FUN_00442a90(uint param_1)

{
  byte bVar1;
  void *this;
  code *pcVar2;
  int iVar3;
  uint extraout_ECX;
  uint extraout_ECX_00;
  uint extraout_ECX_01;
  uint extraout_ECX_02;
  uint extraout_ECX_03;
  uint uVar4;
  void *unaff_EDI;
  undefined4 uStack_8;
  
  *(int *)((int)unaff_EDI + 0xfc) = *(int *)((int)unaff_EDI + 0xfc) + 1;
  if (*(uint *)((int)unaff_EDI + 0xec) <= *(uint *)((int)unaff_EDI + 0xfc)) {
    uStack_8 = param_1;
    if (*(char *)((int)unaff_EDI + 0x138) != '\0') {
      *(undefined4 *)((int)unaff_EDI + 0xfc) = 0;
      memset(*(void **)((int)unaff_EDI + 0x104),0,*(int *)((int)unaff_EDI + 0xf4) + 1);
      param_1 = extraout_ECX;
      do {
        *(char *)((int)unaff_EDI + 0x139) = *(char *)((int)unaff_EDI + 0x139) + '\x01';
        bVar1 = *(byte *)((int)unaff_EDI + 0x139);
        if (6 < bVar1) goto LAB_00442b58;
        param_1 = (uint)bVar1;
        uVar4 = (uint)*(byte *)((int)&lpDefault_004627d3 + param_1 + 1);
        *(uint *)((int)unaff_EDI + 0xf8) =
             ((*(int *)((int)unaff_EDI + 0xe4) - (uint)(byte)(&DAT_004627cc)[param_1]) + -1 + uVar4)
             / uVar4;
        if ((*(byte *)((int)unaff_EDI + 0x74) & 2) != 0) break;
        uVar4 = (uint)*(byte *)((int)&lpDefault_004627e3 + param_1 + 1);
        param_1 = (uint)*(byte *)((int)&lpDefault_004627db + param_1 + 1);
        uVar4 = ((*(int *)((int)unaff_EDI + 0xe8) - param_1) + -1 + uVar4) / uVar4;
        *(uint *)((int)unaff_EDI + 0xec) = uVar4;
      } while ((uVar4 == 0) || (*(int *)((int)unaff_EDI + 0xf8) == 0));
      if (bVar1 < 7) {
        return;
      }
    }
LAB_00442b58:
    if ((*(byte *)((int)unaff_EDI + 0x70) & 0x20) == 0) {
      *(int *)((int)unaff_EDI + 0x84) = (int)&uStack_8 + 3;
      *(undefined4 *)((int)unaff_EDI + 0x88) = 1;
      do {
        if (*(int *)((int)unaff_EDI + 0x7c) == 0) {
          iVar3 = *(int *)((int)unaff_EDI + 0x120);
          while (iVar3 == 0) {
            FUN_0043e780(unaff_EDI,0);
            iVar3 = FUN_0043e5e0((int)unaff_EDI);
            *(int *)((int)unaff_EDI + 0x120) = iVar3;
            if (*(int *)((int)unaff_EDI + 0x100) != 0x49444154) {
              FUN_0043de50();
              goto LAB_00442c81;
            }
          }
          this = *(void **)((int)unaff_EDI + 0xb0);
          *(uint *)((int)unaff_EDI + 0x7c) = *(uint *)((int)unaff_EDI + 0xb4);
          *(void **)((int)unaff_EDI + 0x78) = this;
          if (*(uint *)((int)unaff_EDI + 0x120) < *(uint *)((int)unaff_EDI + 0xb4)) {
            *(uint *)((int)unaff_EDI + 0x7c) = *(uint *)((int)unaff_EDI + 0x120);
          }
          if (*(code **)((int)unaff_EDI + 0x54) != (code *)0x0) {
            (**(code **)((int)unaff_EDI + 0x54))();
            FUN_0043c0f0(this,(int)unaff_EDI);
            *(int *)((int)unaff_EDI + 0x120) =
                 *(int *)((int)unaff_EDI + 0x120) - *(int *)((int)unaff_EDI + 0x7c);
            goto LAB_00442c05;
          }
LAB_00442c81:
          FUN_0043de50();
          param_1 = extraout_ECX_03;
LAB_00442c8d:
          if (((*(int *)((int)unaff_EDI + 0x88) != 0) && (*(int *)((int)unaff_EDI + 0x7c) == 0)) &&
             (*(int *)((int)unaff_EDI + 0x120) == 0)) goto LAB_00442c36;
          break;
        }
LAB_00442c05:
        iVar3 = FUN_00448250((uint **)((int)unaff_EDI + 0x78));
        param_1 = extraout_ECX_00;
        if (iVar3 == 1) goto LAB_00442c8d;
        if (iVar3 != 0) {
          FUN_0043de50();
          pcVar2 = (code *)swi(3);
          (*pcVar2)();
          return;
        }
      } while (*(int *)((int)unaff_EDI + 0x88) != 0);
      FUN_0043df90("Extra compressed data");
      param_1 = extraout_ECX_01;
LAB_00442c36:
      *(uint *)((int)unaff_EDI + 0x6c) = *(uint *)((int)unaff_EDI + 0x6c) | 8;
      *(uint *)((int)unaff_EDI + 0x70) = *(uint *)((int)unaff_EDI + 0x70) | 0x20;
      *(undefined4 *)((int)unaff_EDI + 0x88) = 0;
    }
    if ((*(int *)((int)unaff_EDI + 0x120) != 0) || (*(int *)((int)unaff_EDI + 0x7c) != 0)) {
      FUN_0043df90("Extra compression data");
      param_1 = extraout_ECX_02;
    }
    FUN_00448000(param_1,(int)unaff_EDI + 0x78);
    *(uint *)((int)unaff_EDI + 0x6c) = *(uint *)((int)unaff_EDI + 0x6c) | 8;
  }
  return;
}



void FUN_00442cc0(void)

{
  char cVar1;
  int in_EAX;
  void *pvVar2;
  int iVar3;
  uint uVar4;
  uint uVar5;
  char *_Size;
  
  *(undefined4 *)(in_EAX + 0x7c) = 0;
  FUN_004431e0();
  if (*(char *)(in_EAX + 0x138) == '\0') {
    uVar4 = *(uint *)(in_EAX + 0xe4);
    *(undefined4 *)(in_EAX + 0xec) = *(undefined4 *)(in_EAX + 0xe8);
  }
  else {
    if ((*(byte *)(in_EAX + 0x74) & 2) == 0) {
      *(uint *)(in_EAX + 0xec) = *(int *)(in_EAX + 0xe8) + 7U >> 3;
    }
    else {
      *(undefined4 *)(in_EAX + 0xec) = *(undefined4 *)(in_EAX + 0xe8);
    }
    uVar4 = (uint)*(byte *)((int)&lpDefault_004627f3 + *(byte *)(in_EAX + 0x139) + 1);
    uVar4 = ((*(int *)(in_EAX + 0xe4) -
             (uint)*(byte *)((int)&lpDefault_004627eb + *(byte *)(in_EAX + 0x139) + 1)) + -1 + uVar4
            ) / uVar4;
  }
  uVar5 = *(uint *)(in_EAX + 0x74);
  *(uint *)(in_EAX + 0xf8) = uVar4;
  uVar4 = (uint)*(byte *)(in_EAX + 0x13e);
  if (((uVar5 & 4) != 0) && (*(byte *)(in_EAX + 0x13c) < 8)) {
    uVar4 = 8;
  }
  if ((uVar5 & 0x1000) != 0) {
    cVar1 = *(char *)(in_EAX + 0x13b);
    if (cVar1 == '\x03') {
      uVar4 = (uint)(*(short *)(in_EAX + 0x134) != 0) * 8 + 0x18;
    }
    else if (cVar1 == '\0') {
      if (uVar4 < 8) {
        uVar4 = 8;
      }
      if (*(short *)(in_EAX + 0x134) != 0) {
        uVar4 = uVar4 * 2;
      }
    }
    else if ((cVar1 == '\x02') && (*(short *)(in_EAX + 0x134) != 0)) {
      uVar4 = (uVar4 * 4) / 3;
    }
  }
  if ((uVar5 & 0x200) != 0) {
    if ((uVar5 & 0x1000) == 0) {
      *(uint *)(in_EAX + 0x74) = uVar5 & 0xfffffdff;
    }
    else if (*(byte *)(in_EAX + 0x13c) < 0x10) {
      uVar4 = uVar4 * 2;
    }
  }
  uVar5 = *(uint *)(in_EAX + 0x74);
  if ((uVar5 & 0x8000) != 0) {
    cVar1 = *(char *)(in_EAX + 0x13b);
    if (cVar1 == '\0') {
      uVar4 = ((8 < uVar4) - 1 & 0xfffffff0) + 0x20;
    }
    else if ((cVar1 == '\x02') || (cVar1 == '\x03')) {
      uVar4 = ((0x20 < uVar4) - 1 & 0xffffffe0) + 0x40;
    }
  }
  if ((uVar5 & 0x4000) != 0) {
    if ((((*(short *)(in_EAX + 0x134) == 0) || ((uVar5 & 0x1000) == 0)) && ((uVar5 & 0x8000) == 0))
       && (cVar1 = *(char *)(in_EAX + 0x13b), cVar1 != '\x04')) {
      if ((int)uVar4 < 9) {
        uVar4 = (uint)(cVar1 == '\x06') * 8 + 0x18;
      }
      else {
        uVar4 = ((cVar1 != '\x06') - 1 & 0x10) + 0x30;
      }
    }
    else {
      uVar4 = ((0x10 < (int)uVar4) - 1 & 0xffffffe0) + 0x40;
    }
  }
  if (((uVar5 & 0x100000) != 0) &&
     (uVar5 = (uint)*(byte *)(in_EAX + 0x69) * (uint)*(byte *)(in_EAX + 0x68),
     uVar5 - uVar4 != 0 && (int)uVar4 <= (int)uVar5)) {
    uVar4 = uVar5;
  }
  uVar5 = *(int *)(in_EAX + 0xe4) + 7U & 0xfffffff8;
  *(char *)(in_EAX + 0x142) = (char)uVar4;
  *(undefined *)(in_EAX + 0x143) = 0;
  if ((int)uVar4 < 8) {
    uVar5 = uVar5 * uVar4 + 7 >> 3;
  }
  else {
    uVar5 = (uVar4 >> 3) * uVar5;
  }
  _Size = (char *)(((int)(uVar4 + 7) >> 3) + 0x31 + uVar5);
  if (_Size < *(char **)(in_EAX + 0x2a4) || _Size == *(char **)(in_EAX + 0x2a4)) goto LAB_00442fe1;
  if (*(void **)(in_EAX + 0x26c) != (void *)0x0) {
    if (*(code **)(in_EAX + 0x268) == (code *)0x0) {
      free(*(void **)(in_EAX + 0x26c));
    }
    else {
      (**(code **)(in_EAX + 0x268))();
    }
  }
  if (*(void **)(in_EAX + 0x2b0) != (void *)0x0) {
    if (*(code **)(in_EAX + 0x268) == (code *)0x0) {
      free(*(void **)(in_EAX + 0x2b0));
    }
    else {
      (**(code **)(in_EAX + 0x268))();
    }
  }
  if (*(char *)(in_EAX + 0x138) == '\0') {
    if (_Size != (char *)0x0) {
      if (*(code **)(in_EAX + 0x264) == (code *)0x0) {
        pvVar2 = malloc((size_t)_Size);
      }
      else {
        pvVar2 = (void *)(**(code **)(in_EAX + 0x264))();
      }
      if ((pvVar2 != (void *)0x0) || ((*(uint *)(in_EAX + 0x70) & 0x100000) != 0))
      goto LAB_00442f81;
      _Size = s_Out_of_Memory_0046968c;
      FUN_0043de50();
    }
    pvVar2 = (void *)0x0;
  }
  else {
    pvVar2 = FUN_0043e350(in_EAX);
  }
LAB_00442f81:
  *(void **)(in_EAX + 0x26c) = pvVar2;
  if (_Size == (char *)0x0) {
LAB_00442fbb:
    pvVar2 = (void *)0x0;
  }
  else {
    if (*(code **)(in_EAX + 0x264) == (code *)0x0) {
      pvVar2 = malloc((size_t)_Size);
    }
    else {
      pvVar2 = (void *)(**(code **)(in_EAX + 0x264))();
    }
    if ((pvVar2 == (void *)0x0) && ((*(uint *)(in_EAX + 0x70) & 0x100000) == 0)) {
      _Size = s_Out_of_Memory_0046968c;
      FUN_0043de50();
      goto LAB_00442fbb;
    }
  }
  *(void **)(in_EAX + 0x2b0) = pvVar2;
  *(int *)(in_EAX + 0x108) = *(int *)(in_EAX + 0x26c) + 0x1f;
  *(int *)(in_EAX + 0x104) = (int)pvVar2 + 0x1f;
  *(char **)(in_EAX + 0x2a4) = _Size;
LAB_00442fe1:
  iVar3 = *(int *)(in_EAX + 0xf4);
  if (iVar3 == -1) {
    iVar3 = FUN_0043de50();
  }
  memset(*(void **)(in_EAX + 0x104),0,iVar3 + 1);
  *(uint *)(in_EAX + 0x70) = *(uint *)(in_EAX + 0x70) | 0x40;
  return;
}



void FUN_00443020(void)

{
  char *pcVar1;
  char cVar2;
  ushort uVar3;
  uint uVar4;
  bool bVar5;
  bool bVar6;
  int in_EAX;
  byte *pbVar7;
  int iVar8;
  
  bVar5 = false;
  bVar6 = false;
  if ((*(short *)(in_EAX + 0x134) != 0) && (iVar8 = 0, *(short *)(in_EAX + 0x134) != 0)) {
    do {
      cVar2 = *(char *)(*(int *)(in_EAX + 0x1a4) + iVar8);
      if (cVar2 != -1) {
        if (cVar2 == '\0') {
          bVar6 = true;
        }
        else {
          bVar5 = true;
        }
      }
      iVar8 = iVar8 + 1;
    } while (iVar8 < (int)(uint)*(ushort *)(in_EAX + 0x134));
    if (bVar5) goto LAB_00443088;
  }
  *(uint *)(in_EAX + 0x74) = *(uint *)(in_EAX + 0x74) & 0xff7fffff;
  *(uint *)(in_EAX + 0x70) = *(uint *)(in_EAX + 0x70) & 0xffffdfff;
  if (!bVar6) {
    *(uint *)(in_EAX + 0x74) = *(uint *)(in_EAX + 0x74) & 0xfffffe7f;
  }
LAB_00443088:
  uVar4 = *(uint *)(in_EAX + 0x74);
  if (((uVar4 & 0x100) != 0) && ((uVar4 & 0x1000) != 0)) {
    pbVar7 = (byte *)((uint)*(byte *)(in_EAX + 0x154) * 3 + *(int *)(in_EAX + 0x128));
    *(ushort *)(in_EAX + 0x156) = (ushort)*pbVar7;
    *(ushort *)(in_EAX + 0x158) = (ushort)pbVar7[1];
    *(ushort *)(in_EAX + 0x15a) = (ushort)pbVar7[2];
    if (((uVar4 & 0x80000) != 0) && ((uVar4 & 0x2000000) == 0)) {
      uVar3 = *(ushort *)(in_EAX + 0x134);
      iVar8 = 0;
      if (uVar3 != 0) {
        do {
          pcVar1 = (char *)(*(int *)(in_EAX + 0x1a4) + iVar8);
          iVar8 = iVar8 + 1;
          *pcVar1 = -1 - *pcVar1;
        } while (iVar8 < (int)(uint)uVar3);
      }
    }
  }
  return;
}



void FUN_00443110(void)

{
  char cVar1;
  uint uVar2;
  int in_EAX;
  short sVar3;
  short sVar4;
  
  if ((*(byte *)(in_EAX + 0x13b) & 4) == 0) {
    *(uint *)(in_EAX + 0x74) = *(uint *)(in_EAX + 0x74) & 0xff7fffff;
    *(uint *)(in_EAX + 0x70) = *(uint *)(in_EAX + 0x70) & 0xffffdfff;
    if (*(short *)(in_EAX + 0x134) == 0) {
      *(uint *)(in_EAX + 0x74) = *(uint *)(in_EAX + 0x74) & 0xfffffe7f;
    }
  }
  uVar2 = *(uint *)(in_EAX + 0x74);
  if ((((uVar2 & 0x100) != 0) && ((uVar2 & 0x1000) != 0)) && ((*(byte *)(in_EAX + 0x13b) & 2) == 0))
  {
    sVar3 = *(short *)(in_EAX + 0x15c);
    sVar4 = *(short *)(in_EAX + 0x1b0);
    cVar1 = *(char *)(in_EAX + 0x13c);
    if (cVar1 == '\x01') {
      sVar3 = sVar3 * 0xff;
      sVar4 = sVar4 * 0xff;
    }
    else if (cVar1 == '\x02') {
      sVar3 = sVar3 * 0x55;
      sVar4 = sVar4 * 0x55;
    }
    else if (cVar1 == '\x04') {
      sVar3 = sVar3 * 0x11;
      sVar4 = sVar4 * 0x11;
    }
    *(short *)(in_EAX + 0x15a) = sVar3;
    *(short *)(in_EAX + 0x158) = sVar3;
    *(short *)(in_EAX + 0x156) = sVar3;
    if ((uVar2 & 0x2000000) == 0) {
      *(short *)(in_EAX + 0x1ae) = sVar4;
      *(short *)(in_EAX + 0x1ac) = sVar4;
      *(short *)(in_EAX + 0x1aa) = sVar4;
    }
  }
  return;
}



void FUN_004431e0(void)

{
  char cVar1;
  byte bVar2;
  byte bVar3;
  short sVar4;
  short sVar5;
  undefined2 uVar6;
  undefined3 uVar7;
  undefined uVar8;
  undefined uVar9;
  byte bVar10;
  byte bVar11;
  ushort uVar12;
  byte *pbVar13;
  undefined4 extraout_ECX;
  ushort uVar14;
  undefined4 extraout_EDX;
  int iVar15;
  uint uVar16;
  uint uVar17;
  int iVar18;
  int unaff_EDI;
  bool bVar19;
  bool bVar20;
  ulonglong uVar21;
  double dVar22;
  undefined2 local_c;
  undefined local_8 [2];
  byte bStack_6;
  
  iVar18 = *(int *)(unaff_EDI + 0x178);
  iVar15 = 100000;
  if (iVar18 == 0) {
    if (*(int *)(unaff_EDI + 0x17c) == 0) {
      *(undefined4 *)(unaff_EDI + 0x178) = 100000;
      *(undefined4 *)(unaff_EDI + 0x17c) = 100000;
    }
    else {
      uVar21 = FUN_0043d410(*(int *)(unaff_EDI + 0x17c));
      *(int *)(unaff_EDI + 0x178) = (int)uVar21;
    }
LAB_0044326f:
    *(uint *)(unaff_EDI + 0x74) = *(uint *)(unaff_EDI + 0x74) & 0xffffdfff;
  }
  else {
    if (*(int *)(unaff_EDI + 0x17c) == 0) {
      uVar21 = FUN_0043d410(iVar18);
      *(int *)(unaff_EDI + 0x17c) = (int)uVar21;
      goto LAB_0044326f;
    }
    dVar22 = floor(((double)iVar18 * (double)*(int *)(unaff_EDI + 0x17c)) / 100000.0 + 0.5);
    if (((dVar22 <= 2147483647.0) && (-2147483648.0 < dVar22 != (dVar22 == -2147483648.0))) &&
       (uVar21 = FUN_0045db50(extraout_ECX,extraout_EDX), (int)uVar21 - 95000U < 0x2711))
    goto LAB_0044326f;
    *(uint *)(unaff_EDI + 0x74) = *(uint *)(unaff_EDI + 0x74) | 0x2000;
  }
  uVar17 = *(uint *)(unaff_EDI + 0x74);
  if (((uVar17 & 0x40000) != 0) && (-1 < (char)uVar17)) {
    *(uint *)(unaff_EDI + 0x70) = *(uint *)(unaff_EDI + 0x70) & 0xffffdfff;
    *(uint *)(unaff_EDI + 0x74) = uVar17 & 0xfd7ffeff;
    *(undefined2 *)(unaff_EDI + 0x134) = 0;
  }
  if (*(int *)(unaff_EDI + 0x17c) - 95000U < 0x2711) {
    *(uint *)(unaff_EDI + 0x74) = *(uint *)(unaff_EDI + 0x74) & 0xff7fffff;
    *(uint *)(unaff_EDI + 0x70) = *(uint *)(unaff_EDI + 0x70) & 0xffffdfff;
  }
  uVar17 = *(uint *)(unaff_EDI + 0x74);
  if ((uVar17 & 0x100) == 0) {
    if ((((char)uVar17 < '\0') && ((uVar17 & 0x4000) != 0)) &&
       ((sVar4 = *(short *)(unaff_EDI + 0x156), sVar4 == *(short *)(unaff_EDI + 0x158) &&
        (sVar4 == *(short *)(unaff_EDI + 0x15a))))) {
      *(short *)(unaff_EDI + 0x15c) = sVar4;
      goto LAB_00443342;
    }
  }
  else if ((*(byte *)(unaff_EDI + 0x13b) & 2) == 0) {
LAB_00443342:
    *(uint *)(unaff_EDI + 0x6c) = *(uint *)(unaff_EDI + 0x6c) | 0x800;
  }
  if (*(char *)(unaff_EDI + 0x13b) == '\x03') {
    FUN_00443020();
  }
  else {
    FUN_00443110();
  }
  uVar17 = *(uint *)(unaff_EDI + 0x74);
  if (((((uVar17 & 0x200) != 0) && ((char)uVar17 < '\0')) && ((uVar17 & 0x100) == 0)) &&
     (*(char *)(unaff_EDI + 0x13c) != '\x10')) {
    *(short *)(unaff_EDI + 0x156) = (short)((*(ushort *)(unaff_EDI + 0x156) + 0x81) * 0xff >> 0x10);
    *(short *)(unaff_EDI + 0x158) = (short)((*(ushort *)(unaff_EDI + 0x158) + 0x81) * 0xff >> 0x10);
    *(short *)(unaff_EDI + 0x15a) = (short)((*(ushort *)(unaff_EDI + 0x15a) + 0x81) * 0xff >> 0x10);
    *(short *)(unaff_EDI + 0x15c) = (short)((*(ushort *)(unaff_EDI + 0x15c) + 0x81) * 0xff >> 0x10);
  }
  if ((((uVar17 & 0x4000400) != 0) && ((char)uVar17 < '\0')) &&
     (((uVar17 & 0x100) == 0 && (*(char *)(unaff_EDI + 0x13c) == '\x10')))) {
    *(short *)(unaff_EDI + 0x156) = *(short *)(unaff_EDI + 0x156) * 0x101;
    *(short *)(unaff_EDI + 0x158) = *(short *)(unaff_EDI + 0x158) * 0x101;
    *(short *)(unaff_EDI + 0x15a) = *(short *)(unaff_EDI + 0x15a) * 0x101;
    *(short *)(unaff_EDI + 0x15c) = *(short *)(unaff_EDI + 0x15c) * 0x101;
  }
  *(undefined4 *)(unaff_EDI + 0x15e) = *(undefined4 *)(unaff_EDI + 0x154);
  *(undefined4 *)(unaff_EDI + 0x162) = *(undefined4 *)(unaff_EDI + 0x158);
  *(undefined2 *)(unaff_EDI + 0x166) = *(undefined2 *)(unaff_EDI + 0x15c);
  if (((((uVar17 & 0x2000) == 0) &&
       (((uVar17 & 0x600000) == 0 ||
        ((*(int *)(unaff_EDI + 0x178) - 95000U < 0x2711 &&
         (*(int *)(unaff_EDI + 0x17c) - 95000U < 0x2711)))))) &&
      (((uVar17 & 0x80) == 0 ||
       (((*(int *)(unaff_EDI + 0x178) - 95000U < 0x2711 &&
         (*(int *)(unaff_EDI + 0x17c) - 95000U < 0x2711)) &&
        ((*(char *)(unaff_EDI + 0x14c) != '\x03' || (*(int *)(unaff_EDI + 0x150) - 95000U < 0x2711))
        )))))) && (((uVar17 & 0x800000) == 0 || (*(int *)(unaff_EDI + 0x17c) - 95000U < 0x2711)))) {
    if (((uVar17 & 0x80) != 0) && (*(char *)(unaff_EDI + 0x13b) == '\x03')) {
      bVar11 = *(byte *)(unaff_EDI + 0x156);
      uVar12 = *(ushort *)(unaff_EDI + 0x134);
      bVar10 = *(byte *)(unaff_EDI + 0x158);
      bVar2 = *(byte *)(unaff_EDI + 0x15a);
      iVar18 = 0;
      local_c = CONCAT11(bVar10,bVar11);
      if (uVar12 != 0) {
        pbVar13 = (byte *)(*(int *)(unaff_EDI + 0x128) + 2);
        do {
          cVar1 = *(char *)(*(int *)(unaff_EDI + 0x1a4) + iVar18);
          if (cVar1 == '\0') {
            *(undefined2 *)(pbVar13 + -2) = local_c;
            *pbVar13 = bVar2;
          }
          else if (cVar1 != -1) {
            bVar3 = *(byte *)(*(int *)(unaff_EDI + 0x1a4) + iVar18);
            uVar14 = (0xff - (ushort)bVar3) * (ushort)bVar11 + (ushort)pbVar13[-2] * (ushort)bVar3 +
                     0x80;
            pbVar13[-2] = (byte)((uint)(uVar14 >> 8) + (uint)uVar14 >> 8);
            bVar3 = *(byte *)(*(int *)(unaff_EDI + 0x1a4) + iVar18);
            uVar14 = (0xff - (ushort)bVar3) * (ushort)bVar10 + (ushort)pbVar13[-1] * (ushort)bVar3 +
                     0x80;
            pbVar13[-1] = (byte)((uint)(uVar14 >> 8) + (uint)uVar14 >> 8);
            bVar3 = *(byte *)(*(int *)(unaff_EDI + 0x1a4) + iVar18);
            uVar14 = (0xff - (ushort)bVar3) * (ushort)bVar2 + (ushort)*pbVar13 * (ushort)bVar3 +
                     0x80;
            *pbVar13 = (byte)((uint)(uVar14 >> 8) + (uint)uVar14 >> 8);
          }
          iVar18 = iVar18 + 1;
          pbVar13 = pbVar13 + 3;
        } while (iVar18 < (int)(uint)uVar12);
      }
      *(uint *)(unaff_EDI + 0x74) = *(uint *)(unaff_EDI + 0x74) & 0xffffff7f;
    }
    goto LAB_00443c8c;
  }
  FUN_0043dc60((uint)*(byte *)(unaff_EDI + 0x13c));
  uVar17 = *(uint *)(unaff_EDI + 0x74);
  if (-1 < (char)uVar17) {
    if ((*(char *)(unaff_EDI + 0x13b) == '\x03') &&
       (((uVar17 & 0x1000) == 0 || ((uVar17 & 0x600000) == 0)))) {
      uVar17 = (uint)*(ushort *)(unaff_EDI + 300);
      if (uVar17 != 0) {
        pbVar13 = (byte *)(*(int *)(unaff_EDI + 0x128) + 2);
        do {
          pbVar13[-2] = *(byte *)((uint)pbVar13[-2] + *(int *)(unaff_EDI + 0x180));
          pbVar13[-1] = *(byte *)((uint)pbVar13[-1] + *(int *)(unaff_EDI + 0x180));
          *pbVar13 = *(byte *)((uint)*pbVar13 + *(int *)(unaff_EDI + 0x180));
          pbVar13 = pbVar13 + 3;
          uVar17 = uVar17 - 1;
        } while (uVar17 != 0);
      }
      *(uint *)(unaff_EDI + 0x74) = *(uint *)(unaff_EDI + 0x74) & 0xffffdfff;
    }
    goto LAB_00443c8c;
  }
  if ((uVar17 & 0x600000) != 0) {
    FUN_0043df90("libpng does not support gamma+background+rgb_to_gray");
  }
  if (*(char *)(unaff_EDI + 0x13b) != '\x03') {
    cVar1 = *(char *)(unaff_EDI + 0x14c);
    if (cVar1 == '\x01') {
      iVar18 = *(int *)(unaff_EDI + 0x17c);
    }
    else {
      if (cVar1 == '\x02') {
        iVar15 = *(int *)(unaff_EDI + 0x178);
      }
      else {
        if (cVar1 != '\x03') {
          FUN_0043de50();
        }
        iVar15 = *(int *)(unaff_EDI + 0x150);
      }
      uVar21 = FUN_0043d410(iVar15);
      iVar18 = (int)uVar21;
      uVar21 = FUN_0043d4b0(iVar15,*(int *)(unaff_EDI + 0x17c));
      iVar15 = (int)uVar21;
    }
    bVar19 = 10000 < iVar18 - 95000U;
    bVar20 = 10000 < iVar15 - 95000U;
    if (bVar19) {
      if (*(char *)(unaff_EDI + 0x13c) == '\b') {
        uVar12 = FUN_0043d500();
        uVar12 = uVar12 & 0xff;
      }
      else {
        uVar12 = FUN_0043d570();
      }
      *(ushort *)(unaff_EDI + 0x166) = uVar12;
    }
    if (bVar20) {
      if (*(char *)(unaff_EDI + 0x13c) == '\b') {
        uVar12 = FUN_0043d500();
        uVar12 = uVar12 & 0xff;
      }
      else {
        uVar12 = FUN_0043d570();
      }
      *(ushort *)(unaff_EDI + 0x15c) = uVar12;
    }
    sVar4 = *(short *)(unaff_EDI + 0x156);
    if (((sVar4 == *(short *)(unaff_EDI + 0x158)) && (sVar4 == *(short *)(unaff_EDI + 0x15a))) &&
       (sVar5 = *(short *)(unaff_EDI + 0x15c), sVar4 == sVar5)) {
      uVar6 = *(undefined2 *)(unaff_EDI + 0x166);
      *(undefined2 *)(unaff_EDI + 0x164) = uVar6;
      *(undefined2 *)(unaff_EDI + 0x162) = uVar6;
      *(undefined2 *)(unaff_EDI + 0x160) = uVar6;
      *(short *)(unaff_EDI + 0x15a) = sVar5;
      *(short *)(unaff_EDI + 0x158) = sVar5;
      *(short *)(unaff_EDI + 0x156) = sVar5;
      *(undefined *)(unaff_EDI + 0x14c) = 1;
    }
    else {
      if (bVar19) {
        cVar1 = *(char *)(unaff_EDI + 0x13c);
        if (cVar1 == '\b') {
          uVar12 = FUN_0043d500();
          uVar12 = uVar12 & 0xff;
        }
        else {
          uVar12 = FUN_0043d570();
        }
        *(ushort *)(unaff_EDI + 0x160) = uVar12;
        if (cVar1 == '\b') {
          uVar12 = FUN_0043d500();
          uVar12 = uVar12 & 0xff;
        }
        else {
          uVar12 = FUN_0043d570();
        }
        *(ushort *)(unaff_EDI + 0x162) = uVar12;
        if (cVar1 == '\b') {
          uVar12 = FUN_0043d500();
          uVar12 = uVar12 & 0xff;
        }
        else {
          uVar12 = FUN_0043d570();
        }
        *(ushort *)(unaff_EDI + 0x164) = uVar12;
      }
      if (bVar20) {
        cVar1 = *(char *)(unaff_EDI + 0x13c);
        if (cVar1 == '\b') {
          uVar12 = FUN_0043d500();
          uVar12 = uVar12 & 0xff;
        }
        else {
          uVar12 = FUN_0043d570();
        }
        *(ushort *)(unaff_EDI + 0x156) = uVar12;
        if (cVar1 == '\b') {
          uVar12 = FUN_0043d500();
          uVar12 = uVar12 & 0xff;
        }
        else {
          uVar12 = FUN_0043d570();
        }
        *(ushort *)(unaff_EDI + 0x158) = uVar12;
        if (cVar1 == '\b') {
          uVar12 = FUN_0043d500();
          uVar12 = uVar12 & 0xff;
        }
        else {
          uVar12 = FUN_0043d570();
        }
        *(ushort *)(unaff_EDI + 0x15a) = uVar12;
      }
      *(undefined *)(unaff_EDI + 0x14c) = 1;
    }
    goto LAB_00443c8c;
  }
  uVar12 = *(ushort *)(unaff_EDI + 300);
  cVar1 = *(char *)(unaff_EDI + 0x14c);
  if (cVar1 == '\x02') {
    iVar18 = *(int *)(unaff_EDI + 0x180);
    local_c = CONCAT11(*(undefined *)(iVar18 + (uint)*(ushort *)(unaff_EDI + 0x158)),
                       *(undefined *)(iVar18 + (uint)*(ushort *)(unaff_EDI + 0x156)));
    bVar10 = *(byte *)(iVar18 + (uint)*(ushort *)(unaff_EDI + 0x15a));
    iVar18 = *(int *)(unaff_EDI + 0x18c);
    local_8 = (undefined  [2])
              CONCAT11(*(undefined *)(iVar18 + (uint)*(ushort *)(unaff_EDI + 0x158)),
                       *(undefined *)(iVar18 + (uint)*(ushort *)(unaff_EDI + 0x156)));
    _local_8 = CONCAT12(*(undefined *)(iVar18 + (uint)*(ushort *)(unaff_EDI + 0x15a)),local_8);
    uVar7 = _local_8;
  }
  else {
    if (cVar1 == '\x01') {
      iVar18 = *(int *)(unaff_EDI + 0x17c);
LAB_00443735:
      bVar10 = *(byte *)(unaff_EDI + 0x15a);
      local_c = CONCAT11(*(undefined *)(unaff_EDI + 0x158),*(undefined *)(unaff_EDI + 0x156));
    }
    else {
      if (cVar1 == '\x02') {
        iVar15 = *(int *)(unaff_EDI + 0x178);
      }
      else {
        if (cVar1 != '\x03') {
          iVar18 = 100000;
          goto LAB_00443735;
        }
        iVar15 = *(int *)(unaff_EDI + 0x150);
      }
      uVar21 = FUN_0043d410(iVar15);
      iVar18 = (int)uVar21;
      uVar21 = FUN_0043d4b0(iVar15,*(int *)(unaff_EDI + 0x17c));
      if ((94999 < (int)uVar21) && ((int)uVar21 < 0x19a29)) goto LAB_00443735;
      uVar8 = FUN_0043d500();
      uVar9 = FUN_0043d500();
      local_c = CONCAT11(uVar9,uVar8);
      bVar10 = FUN_0043d500();
    }
    if (iVar18 - 95000U < 0x2711) {
      uVar8 = *(undefined *)(unaff_EDI + 0x15a);
      local_8 = (undefined  [2])
                CONCAT11(*(undefined *)(unaff_EDI + 0x158),*(undefined *)(unaff_EDI + 0x156));
    }
    else {
      uVar8 = FUN_0043d500();
      uVar9 = FUN_0043d500();
      local_8 = (undefined  [2])CONCAT11(uVar9,uVar8);
      uVar8 = FUN_0043d500();
    }
    _local_8 = CONCAT12(uVar8,local_8);
    uVar7 = _local_8;
  }
  iVar18 = 0;
  if (uVar12 != 0) {
    pbVar13 = (byte *)(*(int *)(unaff_EDI + 0x128) + 2);
    do {
      if (iVar18 < (int)(uint)*(ushort *)(unaff_EDI + 0x134)) {
        cVar1 = *(char *)(*(int *)(unaff_EDI + 0x1a4) + iVar18);
        if (cVar1 == -1) goto LAB_0044397b;
        if (cVar1 == '\0') {
          *(undefined2 *)(pbVar13 + -2) = local_c;
          bVar11 = bVar10;
          goto LAB_004439a9;
        }
        bVar11 = *(byte *)(*(int *)(unaff_EDI + 0x1a4) + iVar18);
        local_8[0] = (byte)uVar7;
        uVar14 = (ushort)*(byte *)((uint)pbVar13[-2] + *(int *)(unaff_EDI + 0x18c)) * (ushort)bVar11
                 + (0xff - (ushort)bVar11) * (ushort)local_8[0] + 0x80;
        pbVar13[-2] = *(byte *)(((int)((uint)(uVar14 >> 8) + (uint)uVar14) >> 8 & 0xffU) +
                               *(int *)(unaff_EDI + 0x188));
        bVar11 = *(byte *)(*(int *)(unaff_EDI + 0x1a4) + iVar18);
        local_8[1] = (byte)((uint3)uVar7 >> 8);
        uVar14 = (ushort)*(byte *)((uint)pbVar13[-1] + *(int *)(unaff_EDI + 0x18c)) * (ushort)bVar11
                 + (0xff - (ushort)bVar11) * (ushort)local_8[1] + 0x80;
        pbVar13[-1] = *(byte *)(((int)((uint)(uVar14 >> 8) + (uint)uVar14) >> 8 & 0xffU) +
                               *(int *)(unaff_EDI + 0x188));
        bVar11 = *(byte *)(*(int *)(unaff_EDI + 0x1a4) + iVar18);
        bStack_6 = (byte)((uint3)uVar7 >> 0x10);
        uVar14 = (ushort)*(byte *)((uint)*pbVar13 + *(int *)(unaff_EDI + 0x18c)) * (ushort)bVar11 +
                 (0xff - (ushort)bVar11) * (ushort)bStack_6 + 0x80;
        *pbVar13 = *(byte *)(((int)((uint)(uVar14 >> 8) + (uint)uVar14) >> 8 & 0xffU) +
                            *(int *)(unaff_EDI + 0x188));
      }
      else {
LAB_0044397b:
        pbVar13[-2] = *(byte *)((uint)pbVar13[-2] + *(int *)(unaff_EDI + 0x180));
        pbVar13[-1] = *(byte *)((uint)pbVar13[-1] + *(int *)(unaff_EDI + 0x180));
        bVar11 = *(byte *)((uint)*pbVar13 + *(int *)(unaff_EDI + 0x180));
LAB_004439a9:
        *pbVar13 = bVar11;
      }
      iVar18 = iVar18 + 1;
      pbVar13 = pbVar13 + 3;
    } while (iVar18 < (int)(uint)uVar12);
  }
  *(uint *)(unaff_EDI + 0x74) = *(uint *)(unaff_EDI + 0x74) & 0xffffdf7f;
LAB_00443c8c:
  uVar17 = *(uint *)(unaff_EDI + 0x74);
  if ((((uVar17 & 8) != 0) && ((uVar17 & 0x1000) == 0)) && (*(char *)(unaff_EDI + 0x13b) == '\x03'))
  {
    bVar10 = *(byte *)(unaff_EDI + 0x198);
    uVar16 = (uint)*(ushort *)(unaff_EDI + 300);
    *(uint *)(unaff_EDI + 0x74) = uVar17 & 0xfffffff7;
    if ((-(uint)bVar10 + 7 < 7) && (uVar16 != 0)) {
      iVar18 = 0;
      uVar17 = uVar16;
      do {
        pbVar13 = (byte *)(iVar18 + *(int *)(unaff_EDI + 0x128));
        *pbVar13 = *pbVar13 >> ((char)-(uint)bVar10 + 8U & 0x1f);
        iVar18 = iVar18 + 3;
        uVar17 = uVar17 - 1;
      } while (uVar17 != 0);
    }
    bVar10 = *(byte *)(unaff_EDI + 0x199);
    if ((-(uint)bVar10 + 7 < 7) && (uVar16 != 0)) {
      iVar18 = 0;
      uVar17 = uVar16;
      do {
        pbVar13 = (byte *)(iVar18 + 1 + *(int *)(unaff_EDI + 0x128));
        *pbVar13 = *pbVar13 >> ((char)-(uint)bVar10 + 8U & 0x1f);
        iVar18 = iVar18 + 3;
        uVar17 = uVar17 - 1;
      } while (uVar17 != 0);
    }
    bVar10 = *(byte *)(unaff_EDI + 0x19a);
    if ((-(uint)bVar10 + 7 < 7) && (uVar16 != 0)) {
      iVar18 = 0;
      do {
        pbVar13 = (byte *)(iVar18 + 2 + *(int *)(unaff_EDI + 0x128));
        *pbVar13 = *pbVar13 >> ((char)-(uint)bVar10 + 8U & 0x1f);
        iVar18 = iVar18 + 3;
        uVar16 = uVar16 - 1;
      } while (uVar16 != 0);
    }
  }
  return;
}



void __fastcall FUN_00443d70(int *param_1,int param_2)

{
  byte bVar1;
  int iVar2;
  uint uVar3;
  
  if ((*(uint *)(param_2 + 0x74) & 0x1000) == 0) goto LAB_00443dc1;
  if (*(byte *)((int)param_1 + 0x19) == 3) {
    *(char *)((int)param_1 + 0x19) = (*(short *)(param_2 + 0x134) != 0) * '\x04' + '\x02';
LAB_00443db7:
    *(undefined *)(param_1 + 6) = 8;
  }
  else {
    if ((*(short *)(param_2 + 0x134) != 0) && ((*(uint *)(param_2 + 0x74) & 0x2000000) != 0)) {
      *(byte *)((int)param_1 + 0x19) = *(byte *)((int)param_1 + 0x19) | 4;
    }
    if (*(byte *)(param_1 + 6) < 8) goto LAB_00443db7;
  }
  *(undefined2 *)((int)param_1 + 0x16) = 0;
LAB_00443dc1:
  if ((*(byte *)(param_2 + 0x74) & 0x80) != 0) {
    *(undefined4 *)((int)param_1 + 0x5a) = *(undefined4 *)(param_2 + 0x154);
    *(undefined4 *)((int)param_1 + 0x5e) = *(undefined4 *)(param_2 + 0x158);
    *(undefined2 *)((int)param_1 + 0x62) = *(undefined2 *)(param_2 + 0x15c);
  }
  param_1[10] = *(int *)(param_2 + 0x178);
  if (*(char *)(param_1 + 6) == '\x10') {
    if ((*(uint *)(param_2 + 0x74) & 0x4000000) != 0) {
      *(undefined *)(param_1 + 6) = 8;
    }
    if ((*(uint *)(param_2 + 0x74) & 0x400) != 0) {
      *(undefined *)(param_1 + 6) = 8;
    }
  }
  if ((*(uint *)(param_2 + 0x74) & 0x4000) != 0) {
    *(byte *)((int)param_1 + 0x19) = *(byte *)((int)param_1 + 0x19) | 2;
  }
  if ((*(uint *)(param_2 + 0x74) & 0x600000) != 0) {
    *(byte *)((int)param_1 + 0x19) = *(byte *)((int)param_1 + 0x19) & 0xfd;
  }
  if ((((*(byte *)(param_2 + 0x74) & 0x40) != 0) &&
      (((*(char *)((int)param_1 + 0x19) == '\x02' || (*(char *)((int)param_1 + 0x19) == '\x06')) &&
       (*(int *)(param_2 + 0x1f8) != 0)))) && (*(char *)(param_1 + 6) == '\b')) {
    *(undefined *)((int)param_1 + 0x19) = 3;
  }
  if ((((*(uint *)(param_2 + 0x74) & 0x200) != 0) && (*(char *)(param_1 + 6) == '\b')) &&
     (*(char *)((int)param_1 + 0x19) != '\x03')) {
    *(undefined *)(param_1 + 6) = 0x10;
  }
  if (((*(byte *)(param_2 + 0x74) & 4) != 0) && (*(byte *)(param_1 + 6) < 8)) {
    *(undefined *)(param_1 + 6) = 8;
  }
  bVar1 = *(byte *)((int)param_1 + 0x19);
  if ((bVar1 == 3) || ((bVar1 & 2) == 0)) {
    *(undefined *)((int)param_1 + 0x1d) = 1;
  }
  else {
    *(undefined *)((int)param_1 + 0x1d) = 3;
  }
  if ((*(uint *)(param_2 + 0x74) & 0x40000) != 0) {
    *(byte *)((int)param_1 + 0x19) = bVar1 & 0xfb;
    *(undefined2 *)((int)param_1 + 0x16) = 0;
  }
  bVar1 = *(byte *)((int)param_1 + 0x19);
  if ((bVar1 & 4) != 0) {
    *(char *)((int)param_1 + 0x1d) = *(char *)((int)param_1 + 0x1d) + '\x01';
  }
  if (((*(uint *)(param_2 + 0x74) & 0x8000) != 0) &&
     (((bVar1 == 2 || (bVar1 == 0)) &&
      (*(char *)((int)param_1 + 0x1d) = *(char *)((int)param_1 + 0x1d) + '\x01',
      (*(uint *)(param_2 + 0x74) & 0x1000000) != 0)))) {
    *(byte *)((int)param_1 + 0x19) = bVar1 | 4;
  }
  if ((*(uint *)(param_2 + 0x74) & 0x100000) != 0) {
    if (*(byte *)(param_1 + 6) < *(byte *)(param_2 + 0x68)) {
      *(byte *)(param_1 + 6) = *(byte *)(param_2 + 0x68);
    }
    if (*(byte *)((int)param_1 + 0x1d) < *(byte *)(param_2 + 0x69)) {
      *(byte *)((int)param_1 + 0x1d) = *(byte *)(param_2 + 0x69);
    }
  }
  bVar1 = *(char *)(param_1 + 6) * *(char *)((int)param_1 + 0x1d);
  *(byte *)((int)param_1 + 0x1e) = bVar1;
  if (7 < bVar1) {
    iVar2 = (uint)(bVar1 >> 3) * *param_1;
    param_1[3] = iVar2;
    *(int *)(param_2 + 0x11c) = iVar2;
    return;
  }
  uVar3 = (uint)bVar1 * *param_1 + 7 >> 3;
  param_1[3] = uVar3;
  *(uint *)(param_2 + 0x11c) = uVar3;
  return;
}



void __cdecl FUN_00443f20(uint *param_1)

{
  undefined uVar1;
  uint uVar2;
  byte bVar3;
  int in_EAX;
  int iVar4;
  undefined *puVar5;
  uint extraout_ECX;
  uint extraout_ECX_00;
  uint extraout_ECX_01;
  uint extraout_ECX_02;
  uint extraout_ECX_03;
  uint extraout_ECX_04;
  uint uVar6;
  uint extraout_ECX_05;
  uint extraout_ECX_06;
  uint extraout_ECX_07;
  uint extraout_ECX_08;
  uint extraout_ECX_09;
  uint extraout_ECX_10;
  uint extraout_ECX_11;
  uint extraout_ECX_12;
  uint extraout_ECX_13;
  uint extraout_ECX_14;
  uint extraout_ECX_15;
  uint extraout_ECX_16;
  uint extraout_ECX_17;
  uint extraout_ECX_18;
  uint extraout_ECX_19;
  uint extraout_ECX_20;
  uint extraout_ECX_21;
  uint extraout_ECX_22;
  char *this;
  
  uVar6 = *(uint *)(in_EAX + 0x108);
  if (uVar6 == 0) {
    FUN_0043de50();
    uVar6 = extraout_ECX;
  }
  if (((*(uint *)(in_EAX + 0x70) & 0x4000) != 0) && ((*(uint *)(in_EAX + 0x70) & 0x40) == 0)) {
    FUN_0043de50();
    uVar6 = extraout_ECX_00;
  }
  if ((*(uint *)(in_EAX + 0x74) & 0x1000) != 0) {
    if (*(char *)(param_1 + 2) == '\x03') {
      FUN_004464e0(param_1,uVar6 + 1,*(int *)(in_EAX + 0x128),*(int *)(in_EAX + 0x1a4),
                   (uint)*(ushort *)(in_EAX + 0x134));
      uVar6 = extraout_ECX_01;
    }
    else {
      if ((*(short *)(in_EAX + 0x134) == 0) || ((*(uint *)(in_EAX + 0x74) & 0x2000000) == 0)) {
        iVar4 = 0;
      }
      else {
        iVar4 = in_EAX + 0x1a8;
      }
      FUN_004466f0(uVar6,uVar6 + 1,(int *)param_1,iVar4);
      uVar6 = extraout_ECX_02;
    }
  }
  if ((((*(uint *)(in_EAX + 0x74) & 0x40000) != 0) && (-1 < (char)*(uint *)(in_EAX + 0x74))) &&
     ((*(char *)(param_1 + 2) == '\x06' || (*(char *)(param_1 + 2) == '\x04')))) {
    FUN_00446e00(uVar6,(int)param_1);
    uVar6 = extraout_ECX_03;
  }
  this = (char *)param_1;
  if (((*(uint *)(in_EAX + 0x74) & 0x600000) != 0) &&
     (iVar4 = FUN_00444ca0(in_EAX,(int *)param_1), uVar6 = extraout_ECX_04, iVar4 != 0)) {
    *(undefined *)(in_EAX + 0x251) = 1;
    if ((*(uint *)(in_EAX + 0x74) & 0x600000) == 0x400000) {
      FUN_0043df90("png_do_rgb_to_gray found nongray pixel");
    }
    uVar6 = *(uint *)(in_EAX + 0x74) & 0x600000;
    if (uVar6 == 0x200000) {
      FUN_0043de50();
      uVar6 = extraout_ECX_05;
      this = "png_do_rgb_to_gray found nongray pixel";
    }
  }
  if (((*(uint *)(in_EAX + 0x74) & 0x4000) != 0) && ((*(uint *)(in_EAX + 0x6c) & 0x800) == 0)) {
    FUN_00444b40();
    uVar6 = extraout_ECX_06;
  }
  if ((*(byte *)(in_EAX + 0x74) & 0x80) != 0) {
    FUN_00445070((int *)this);
    uVar6 = extraout_ECX_07;
    this = (char *)param_1;
  }
  uVar2 = *(uint *)(in_EAX + 0x74);
  if (((((uVar2 & 0x2000) != 0) && ((uVar2 & 0x600000) == 0)) &&
      ((-1 < (char)uVar2 ||
       ((*(short *)(in_EAX + 0x134) == 0 && ((*(byte *)(in_EAX + 0x13b) & 4) == 0)))))) &&
     (*(char *)(in_EAX + 0x13b) != '\x03')) {
    FUN_00446000((int *)this,(byte *)(*(int *)(in_EAX + 0x108) + 1));
    uVar6 = extraout_ECX_08;
  }
  if ((((*(uint *)(in_EAX + 0x74) & 0x40000) != 0) && ((char)*(uint *)(in_EAX + 0x74) < '\0')) &&
     ((*(char *)((int)this + 8) == '\x06' || (*(char *)((int)this + 8) == '\x04')))) {
    FUN_00446e00(uVar6,(int)this);
    uVar6 = extraout_ECX_09;
  }
  if (((*(uint *)(in_EAX + 0x74) & 0x800000) != 0) && ((*(byte *)((int)this + 8) & 4) != 0)) {
    FUN_00446400(this,*(int *)(in_EAX + 0x108) + 1);
    uVar6 = extraout_ECX_10;
  }
  if ((*(uint *)(in_EAX + 0x74) & 0x4000000) != 0) {
    FUN_00444620();
    uVar6 = extraout_ECX_11;
  }
  if ((*(uint *)(in_EAX + 0x74) & 0x400) != 0) {
    FUN_00444680();
    uVar6 = extraout_ECX_12;
  }
  if (((*(byte *)(in_EAX + 0x74) & 0x40) != 0) &&
     (FUN_00446b10(*(int *)(in_EAX + 0x1fc),(byte *)(*(int *)(in_EAX + 0x108) + 1),(int *)this),
     uVar6 = extraout_ECX_13, *(uint *)((int)this + 4) == 0)) {
    this = "png_do_quantize returned rowbytes=0";
    FUN_0043de50();
    uVar6 = extraout_ECX_14;
  }
  if ((*(uint *)(in_EAX + 0x74) & 0x200) != 0) {
    FUN_00446ad0(*(int *)(in_EAX + 0x108) + 1);
    uVar6 = extraout_ECX_15;
    this = (char *)param_1;
  }
  if (((*(uint *)(in_EAX + 0x74) & 0x4000) != 0) && ((*(uint *)(in_EAX + 0x6c) & 0x800) != 0)) {
    FUN_00444b40();
    uVar6 = extraout_ECX_16;
  }
  if ((*(byte *)(in_EAX + 0x74) & 0x20) != 0) {
    FUN_00446d40((int)this);
    uVar6 = extraout_ECX_17;
  }
  if ((*(byte *)(in_EAX + 0x74) & 8) != 0) {
    FUN_00444430((void *)(*(int *)(in_EAX + 0x108) + 1),(int)this,(byte *)(in_EAX + 0x19d));
    uVar6 = extraout_ECX_18;
  }
  if ((*(byte *)(in_EAX + 0x74) & 4) != 0) {
    FUN_00444310((int *)this);
    uVar6 = extraout_ECX_19;
  }
  if ((*(char *)((int)this + 8) == '\x03') && (-1 < *(int *)(in_EAX + 0x130))) {
    FUN_00446fe0();
    uVar6 = extraout_ECX_20;
  }
  if ((*(byte *)(in_EAX + 0x74) & 1) != 0) {
    FUN_00446f10(uVar6,(int *)this);
    uVar6 = extraout_ECX_21;
  }
  if ((*(uint *)(in_EAX + 0x74) & 0x10000) != 0) {
    FUN_00446db0((int)this);
    uVar6 = extraout_ECX_22;
  }
  if ((*(uint *)(in_EAX + 0x74) & 0x8000) != 0) {
    FUN_004448a0(uVar6,(uint)*(ushort *)(in_EAX + 0x14a),(uint *)this,
                 (char)*(undefined4 *)(in_EAX + 0x70));
  }
  if ((*(uint *)(in_EAX + 0x74) & 0x80000) != 0) {
    FUN_004447f0(*(int *)(in_EAX + 0x108) + 1);
  }
  if ((*(uint *)(in_EAX + 0x74) & 0x20000) != 0) {
    FUN_004446c0(*(int *)(in_EAX + 0x108) + 1);
  }
  if (((*(byte *)(in_EAX + 0x74) & 0x10) != 0) && (*(char *)((int)this + 9) == '\x10')) {
    puVar5 = (undefined *)(*(int *)(in_EAX + 0x108) + 1);
    for (iVar4 = (uint)*(byte *)((int)this + 10) * *(uint *)this; iVar4 != 0; iVar4 = iVar4 + -1) {
      uVar1 = *puVar5;
      *puVar5 = puVar5[1];
      puVar5[1] = uVar1;
      puVar5 = puVar5 + 2;
    }
  }
  if ((*(uint *)(in_EAX + 0x74) & 0x100000) != 0) {
    if (*(code **)(in_EAX + 0x5c) != (code *)0x0) {
      (**(code **)(in_EAX + 0x5c))();
    }
    if (*(char *)(in_EAX + 0x68) != '\0') {
      *(char *)((int)this + 9) = *(char *)(in_EAX + 0x68);
    }
    if (*(char *)(in_EAX + 0x69) != '\0') {
      *(char *)((int)this + 10) = *(char *)(in_EAX + 0x69);
    }
    bVar3 = *(char *)((int)this + 10) * *(char *)((int)this + 9);
    *(byte *)((int)this + 0xb) = bVar3;
    if (7 < bVar3) {
      *(uint *)((int)this + 4) = (uint)(bVar3 >> 3) * *(uint *)this;
      return;
    }
    *(uint *)((int)this + 4) = (uint)bVar3 * *(uint *)this + 7 >> 3;
  }
  return;
}



void __cdecl FUN_00444310(int *param_1)

{
  int iVar1;
  byte bVar2;
  int iVar3;
  int in_EAX;
  int iVar4;
  byte *pbVar5;
  byte *pbVar6;
  
  bVar2 = *(byte *)((int)param_1 + 9);
  if (bVar2 < 8) {
    iVar3 = *param_1;
    if (bVar2 == 1) {
      pbVar6 = (byte *)((iVar3 - 1U >> 3) + in_EAX);
      pbVar5 = (byte *)(iVar3 + -1 + in_EAX);
      iVar4 = 7 - (iVar3 - 1U & 7);
      for (iVar1 = iVar3; iVar1 != 0; iVar1 = iVar1 + -1) {
        *pbVar5 = *pbVar6 >> ((byte)iVar4 & 0x1f) & 1;
        if (iVar4 == 7) {
          iVar4 = 0;
          pbVar6 = pbVar6 + -1;
        }
        else {
          iVar4 = iVar4 + 1;
        }
        pbVar5 = pbVar5 + -1;
      }
    }
    else if (bVar2 == 2) {
      pbVar6 = (byte *)((iVar3 - 1U >> 2) + in_EAX);
      pbVar5 = (byte *)(iVar3 + -1 + in_EAX);
      iVar4 = (3 - (iVar3 - 1U & 3)) * 2;
      for (iVar1 = iVar3; iVar1 != 0; iVar1 = iVar1 + -1) {
        *pbVar5 = *pbVar6 >> ((byte)iVar4 & 0x1f) & 3;
        if (iVar4 == 6) {
          iVar4 = 0;
          pbVar6 = pbVar6 + -1;
        }
        else {
          iVar4 = iVar4 + 2;
        }
        pbVar5 = pbVar5 + -1;
      }
    }
    else if (bVar2 == 4) {
      pbVar6 = (byte *)((iVar3 - 1U >> 1) + in_EAX);
      pbVar5 = (byte *)(iVar3 + -1 + in_EAX);
      iVar4 = (1 - (iVar3 - 1U & 1)) * 4;
      for (iVar1 = iVar3; iVar1 != 0; iVar1 = iVar1 + -1) {
        *pbVar5 = *pbVar6 >> ((byte)iVar4 & 0x1f) & 0xf;
        if (iVar4 == 4) {
          iVar4 = 0;
          pbVar6 = pbVar6 + -1;
        }
        else {
          iVar4 = 4;
        }
        pbVar5 = pbVar5 + -1;
      }
    }
    *(undefined *)((int)param_1 + 9) = 8;
    *(byte *)((int)param_1 + 0xb) = *(byte *)((int)param_1 + 10) * '\b';
    param_1[1] = (uint)*(byte *)((int)param_1 + 10) * iVar3;
  }
  return;
}



void __thiscall FUN_00444430(void *this,int param_1,byte *param_2)

{
  int *piVar1;
  byte bVar2;
  bool bVar3;
  byte *pbVar4;
  int iVar5;
  uint uVar6;
  byte *pbVar7;
  undefined *puVar8;
  int iVar9;
  int local_1c;
  int local_18 [4];
  uint local_8;
  
  local_8 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  bVar2 = *(byte *)(param_1 + 8);
  if (bVar2 != 3) {
    uVar6 = (uint)*(byte *)(param_1 + 9);
    if ((bVar2 & 2) == 0) {
      local_1c = 1;
      iVar9 = 1;
      local_18[0] = uVar6 - param_2[3];
    }
    else {
      local_18[0] = uVar6 - *param_2;
      local_18[1] = uVar6 - param_2[1];
      iVar9 = 3;
      local_18[2] = uVar6 - param_2[2];
      local_1c = 3;
    }
    if ((bVar2 & 4) != 0) {
      local_18[iVar9] = uVar6 - param_2[4];
      iVar9 = iVar9 + 1;
      local_1c = iVar9;
    }
    bVar3 = false;
    iVar5 = 0;
    if (iVar9 != 0) {
      do {
        if ((local_18[iVar5] < 1) || ((int)uVar6 <= local_18[iVar5])) {
          local_18[iVar5] = 0;
        }
        else {
          bVar3 = true;
        }
        iVar5 = iVar5 + 1;
      } while (iVar5 < iVar9);
      if (bVar3) {
        switch(uVar6) {
        case 2:
          pbVar7 = (byte *)(*(int *)(param_1 + 4) + (int)this);
          if (this < pbVar7) {
            do {
                    // WARNING: Load size is inaccurate
              *(byte *)this = *this >> 1 & 0x55;
              this = (void *)((int)this + 1);
            } while (this < pbVar7);
            ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
            return;
          }
          break;
        case 4:
          iVar9 = 0xf >> ((byte)local_18[0] & 0x1f);
          pbVar7 = (byte *)(*(int *)(param_1 + 4) + (int)this);
          if (this < pbVar7) {
            do {
                    // WARNING: Load size is inaccurate
              pbVar4 = (byte *)((int)this + 1);
              *(byte *)this =
                   *this >> ((byte)local_18[0] & 0x1f) & ((byte)iVar9 | (byte)(iVar9 << 4));
              this = pbVar4;
            } while (pbVar4 < pbVar7);
            ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
            return;
          }
          break;
        case 8:
          pbVar7 = (byte *)(*(int *)(param_1 + 4) + (int)this);
          iVar9 = 0;
          if (this < pbVar7) {
            do {
                    // WARNING: Load size is inaccurate
              piVar1 = local_18 + iVar9;
              iVar9 = iVar9 + 1;
              if (local_1c <= iVar9) {
                iVar9 = 0;
              }
              *(byte *)this = *this >> (*(byte *)piVar1 & 0x1f);
              this = (void *)((int)this + 1);
            } while (this < pbVar7);
            ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
            return;
          }
          break;
        case 0x10:
          puVar8 = (undefined *)(*(int *)(param_1 + 4) + (int)this);
          iVar9 = 0;
          if (this < puVar8) {
            do {
                    // WARNING: Load size is inaccurate
              piVar1 = local_18 + iVar9;
              iVar9 = iVar9 + 1;
              iVar5 = (int)(uint)CONCAT11(*this,*(undefined *)((int)this + 1)) >>
                      ((byte)*piVar1 & 0x1f);
              if (local_1c <= iVar9) {
                iVar9 = 0;
              }
              *(char *)this = (char)((uint)iVar5 >> 8);
              *(char *)((int)this + 1) = (char)iVar5;
              this = (void *)((int)this + 2);
            } while (this < puVar8);
          }
        }
      }
    }
  }
  ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void FUN_00444620(void)

{
  byte *pbVar1;
  byte bVar2;
  byte *in_EAX;
  byte *pbVar3;
  byte *pbVar4;
  int *unaff_EDI;
  
  if (*(char *)((int)unaff_EDI + 9) == '\x10') {
    pbVar3 = in_EAX + unaff_EDI[1];
    pbVar4 = in_EAX;
    if (in_EAX < pbVar3) {
      do {
        bVar2 = *in_EAX;
        pbVar1 = in_EAX + 1;
        in_EAX = in_EAX + 2;
        *pbVar4 = bVar2 + (char)((((uint)*pbVar1 - (uint)bVar2) + 0x80) * 0xffff >> 0x18);
        pbVar4 = pbVar4 + 1;
      } while (in_EAX < pbVar3);
    }
    *(undefined *)((int)unaff_EDI + 9) = 8;
    *(byte *)((int)unaff_EDI + 0xb) = *(byte *)((int)unaff_EDI + 10) * '\b';
    unaff_EDI[1] = (uint)*(byte *)((int)unaff_EDI + 10) * *unaff_EDI;
  }
  return;
}



void FUN_00444680(void)

{
  undefined *in_EAX;
  undefined *puVar1;
  undefined *puVar2;
  int *unaff_EDI;
  
  if (*(char *)((int)unaff_EDI + 9) == '\x10') {
    puVar1 = in_EAX + unaff_EDI[1];
    puVar2 = in_EAX;
    if (in_EAX < puVar1) {
      do {
        *puVar2 = *in_EAX;
        in_EAX = in_EAX + 2;
        puVar2 = puVar2 + 1;
      } while (in_EAX < puVar1);
    }
    *(undefined *)((int)unaff_EDI + 9) = 8;
    *(byte *)((int)unaff_EDI + 0xb) = *(byte *)((int)unaff_EDI + 10) * '\b';
    unaff_EDI[1] = (uint)*(byte *)((int)unaff_EDI + 10) * *unaff_EDI;
  }
  return;
}



void __fastcall FUN_004446c0(int param_1)

{
  undefined *puVar1;
  undefined uVar2;
  undefined uVar3;
  int *in_EAX;
  undefined *puVar4;
  undefined *puVar5;
  int iVar6;
  
  iVar6 = *in_EAX;
  if (*(char *)(in_EAX + 2) == '\x06') {
    if (*(char *)((int)in_EAX + 9) == '\b') {
      puVar4 = (undefined *)(in_EAX[1] + param_1);
      puVar5 = puVar4;
      if (iVar6 != 0) {
        do {
          uVar2 = puVar4[-1];
          puVar5[-1] = puVar4[-2];
          puVar5[-2] = puVar4[-3];
          puVar1 = puVar4 + -4;
          puVar4 = puVar4 + -4;
          puVar5[-3] = *puVar1;
          iVar6 = iVar6 + -1;
          puVar5[-4] = uVar2;
          puVar5 = puVar5 + -4;
        } while (iVar6 != 0);
        return;
      }
    }
    else {
      puVar4 = (undefined *)(in_EAX[1] + param_1);
      puVar5 = puVar4;
      if (iVar6 != 0) {
        do {
          uVar3 = puVar4[-2];
          uVar2 = puVar4[-1];
          puVar5[-1] = puVar4[-3];
          puVar5[-2] = puVar4[-4];
          puVar5[-3] = puVar4[-5];
          puVar5[-4] = puVar4[-6];
          puVar5[-5] = puVar4[-7];
          puVar1 = puVar4 + -8;
          puVar4 = puVar4 + -8;
          puVar5[-6] = *puVar1;
          puVar5[-7] = uVar2;
          iVar6 = iVar6 + -1;
          puVar5[-8] = uVar3;
          puVar5 = puVar5 + -8;
        } while (iVar6 != 0);
        return;
      }
    }
  }
  else if (*(char *)(in_EAX + 2) == '\x04') {
    if (*(char *)((int)in_EAX + 9) == '\b') {
      puVar4 = (undefined *)(in_EAX[1] + param_1);
      puVar5 = puVar4;
      if (iVar6 != 0) {
        do {
          uVar2 = puVar4[-1];
          puVar1 = puVar4 + -2;
          puVar4 = puVar4 + -2;
          puVar5[-1] = *puVar1;
          iVar6 = iVar6 + -1;
          puVar5[-2] = uVar2;
          puVar5 = puVar5 + -2;
        } while (iVar6 != 0);
        return;
      }
    }
    else {
      puVar5 = (undefined *)(in_EAX[1] + param_1);
      puVar4 = puVar5;
      for (; iVar6 != 0; iVar6 = iVar6 + -1) {
        uVar3 = puVar5[-2];
        uVar2 = puVar5[-1];
        puVar4[-1] = puVar5[-3];
        puVar1 = puVar5 + -4;
        puVar5 = puVar5 + -4;
        puVar4[-2] = *puVar1;
        puVar4[-3] = uVar2;
        puVar4 = puVar4 + -4;
        *puVar4 = uVar3;
      }
    }
  }
  return;
}



void __fastcall FUN_004447f0(int param_1)

{
  char *pcVar1;
  int *in_EAX;
  int iVar2;
  undefined *puVar3;
  undefined *puVar4;
  int iVar5;
  
  iVar5 = *in_EAX;
  if (*(char *)(in_EAX + 2) == '\x06') {
    if (*(char *)((int)in_EAX + 9) == '\b') {
      iVar2 = in_EAX[1] + param_1;
      if (iVar5 != 0) {
        do {
          iVar5 = iVar5 + -1;
          *(char *)(iVar2 + -1) = -1 - *(char *)(iVar2 + -1);
          iVar2 = iVar2 + -4;
        } while (iVar5 != 0);
        return;
      }
    }
    else {
      iVar2 = in_EAX[1] + param_1;
      if (iVar5 != 0) {
        do {
          *(char *)(iVar2 + -1) = -1 - *(char *)(iVar2 + -1);
          iVar5 = iVar5 + -1;
          *(char *)(iVar2 + -2) = -1 - *(char *)(iVar2 + -2);
          iVar2 = iVar2 + -8;
        } while (iVar5 != 0);
        return;
      }
    }
  }
  else if (*(char *)(in_EAX + 2) == '\x04') {
    if (*(char *)((int)in_EAX + 9) == '\b') {
      puVar3 = (undefined *)(in_EAX[1] + param_1);
      puVar4 = puVar3;
      if (iVar5 != 0) {
        do {
          pcVar1 = puVar3 + -1;
          puVar3 = puVar3 + -2;
          puVar4[-1] = -1 - *pcVar1;
          iVar5 = iVar5 + -1;
          puVar4[-2] = *puVar3;
          puVar4 = puVar4 + -2;
        } while (iVar5 != 0);
        return;
      }
    }
    else {
      iVar2 = in_EAX[1] + param_1;
      for (; iVar5 != 0; iVar5 = iVar5 + -1) {
        *(char *)(iVar2 + -1) = -1 - *(char *)(iVar2 + -1);
        *(char *)(iVar2 + -2) = -1 - *(char *)(iVar2 + -2);
        iVar2 = iVar2 + -4;
      }
    }
  }
  return;
}



void __fastcall FUN_004448a0(undefined4 param_1,undefined4 param_2,uint *param_3,char param_4)

{
  undefined *puVar1;
  uint uVar2;
  undefined uVar3;
  uint uVar4;
  uint *puVar5;
  int in_EAX;
  undefined *puVar6;
  undefined uVar7;
  int iVar8;
  int iVar9;
  
  puVar5 = param_3;
  uVar2 = *param_3;
  uVar3 = (undefined)((uint)param_2 >> 8);
  uVar7 = (undefined)param_2;
  if (*(char *)(param_3 + 2) == '\0') {
    if (*(char *)((int)param_3 + 9) == '\b') {
      iVar8 = in_EAX + uVar2;
      puVar6 = (undefined *)(iVar8 + uVar2);
      uVar4 = uVar2;
      if (-1 < param_4) {
        for (; uVar4 != 0; uVar4 = uVar4 - 1) {
          puVar1 = (undefined *)(iVar8 + -1);
          iVar8 = iVar8 + -1;
          puVar6[-1] = *puVar1;
          puVar6 = puVar6 + -2;
          *puVar6 = uVar7;
        }
        *(undefined2 *)((int)param_3 + 10) = 0x1002;
        param_3[1] = uVar2 * 2;
        return;
      }
      if (1 < uVar2) {
        param_3 = (uint *)(uVar2 - 1);
        do {
          puVar6[-1] = uVar7;
          puVar1 = (undefined *)(iVar8 + -1);
          iVar8 = iVar8 + -1;
          puVar6 = puVar6 + -2;
          param_3 = (uint *)((int)param_3 + -1);
          *puVar6 = *puVar1;
        } while (param_3 != (uint *)0x0);
      }
      puVar6[-1] = uVar7;
      *(undefined2 *)((int)puVar5 + 10) = 0x1002;
      puVar5[1] = uVar2 * 2;
      return;
    }
    if (*(char *)((int)param_3 + 9) == '\x10') {
      iVar8 = in_EAX + uVar2 * 2;
      puVar6 = (undefined *)(iVar8 + uVar2 * 2);
      uVar4 = uVar2;
      if (param_4 < '\0') {
        if (1 < uVar2) {
          param_3 = (uint *)(uVar2 - 1);
          do {
            puVar6[-1] = uVar3;
            puVar6[-2] = uVar7;
            puVar6[-3] = *(undefined *)(iVar8 + -1);
            puVar1 = (undefined *)(iVar8 + -2);
            iVar8 = iVar8 + -2;
            puVar6 = puVar6 + -4;
            param_3 = (uint *)((int)param_3 + -1);
            *puVar6 = *puVar1;
          } while (param_3 != (uint *)0x0);
        }
        puVar6[-1] = uVar3;
        puVar6[-2] = uVar7;
      }
      else {
        for (; uVar4 != 0; uVar4 = uVar4 - 1) {
          puVar6[-1] = *(undefined *)(iVar8 + -1);
          puVar1 = (undefined *)(iVar8 + -2);
          iVar8 = iVar8 + -2;
          puVar6[-2] = *puVar1;
          puVar6[-3] = uVar3;
          puVar6 = puVar6 + -4;
          *puVar6 = uVar7;
        }
      }
      *(undefined2 *)((int)puVar5 + 10) = 0x2002;
      puVar5[1] = uVar2 * 4;
      return;
    }
  }
  else if (*(char *)(param_3 + 2) == '\x02') {
    if (*(char *)((int)param_3 + 9) == '\b') {
      iVar8 = in_EAX + uVar2 * 3;
      puVar6 = (undefined *)(iVar8 + uVar2);
      uVar4 = uVar2;
      if (param_4 < '\0') {
        if (1 < uVar2) {
          param_3 = (uint *)(uVar2 - 1);
          do {
            puVar6[-1] = uVar7;
            puVar6[-2] = *(undefined *)(iVar8 + -1);
            puVar6[-3] = *(undefined *)(iVar8 + -2);
            puVar1 = (undefined *)(iVar8 + -3);
            iVar8 = iVar8 + -3;
            puVar6 = puVar6 + -4;
            param_3 = (uint *)((int)param_3 + -1);
            *puVar6 = *puVar1;
          } while (param_3 != (uint *)0x0);
        }
        puVar6[-1] = uVar7;
      }
      else {
        for (; uVar4 != 0; uVar4 = uVar4 - 1) {
          puVar6[-1] = *(undefined *)(iVar8 + -1);
          puVar6[-2] = *(undefined *)(iVar8 + -2);
          puVar1 = (undefined *)(iVar8 + -3);
          iVar8 = iVar8 + -3;
          puVar6[-3] = *puVar1;
          puVar6 = puVar6 + -4;
          *puVar6 = uVar7;
        }
      }
      *(undefined2 *)((int)puVar5 + 10) = 0x2004;
      puVar5[1] = uVar2 * 4;
      return;
    }
    if (*(char *)((int)param_3 + 9) == '\x10') {
      iVar8 = in_EAX + uVar2 * 6;
      puVar6 = (undefined *)(iVar8 + uVar2 * 2);
      uVar4 = uVar2;
      if (param_4 < '\0') {
        if (1 < uVar2) {
          iVar9 = uVar2 - 1;
          do {
            puVar6[-1] = uVar3;
            puVar6[-2] = uVar7;
            puVar6[-3] = *(undefined *)(iVar8 + -1);
            puVar6[-4] = *(undefined *)(iVar8 + -2);
            puVar6[-5] = *(undefined *)(iVar8 + -3);
            puVar6[-6] = *(undefined *)(iVar8 + -4);
            puVar6[-7] = *(undefined *)(iVar8 + -5);
            puVar1 = (undefined *)(iVar8 + -6);
            iVar8 = iVar8 + -6;
            puVar6 = puVar6 + -8;
            iVar9 = iVar9 + -1;
            *puVar6 = *puVar1;
          } while (iVar9 != 0);
        }
        puVar6[-1] = uVar3;
        puVar6[-2] = uVar7;
        param_3[1] = uVar2 * 8;
        *(undefined2 *)((int)param_3 + 10) = 0x4004;
        return;
      }
      for (; uVar4 != 0; uVar4 = uVar4 - 1) {
        puVar6[-1] = *(undefined *)(iVar8 + -1);
        puVar6[-2] = *(undefined *)(iVar8 + -2);
        puVar6[-3] = *(undefined *)(iVar8 + -3);
        puVar6[-4] = *(undefined *)(iVar8 + -4);
        puVar6[-5] = *(undefined *)(iVar8 + -5);
        puVar1 = (undefined *)(iVar8 + -6);
        iVar8 = iVar8 + -6;
        puVar6[-6] = *puVar1;
        puVar6[-7] = uVar3;
        puVar6 = puVar6 + -8;
        *puVar6 = uVar7;
      }
      param_3[1] = uVar2 * 8;
      *(undefined2 *)((int)param_3 + 10) = 0x4004;
    }
  }
  return;
}



void FUN_00444b40(void)

{
  byte bVar1;
  int iVar2;
  byte bVar3;
  int in_EAX;
  undefined *puVar4;
  undefined *puVar5;
  int iVar6;
  int *unaff_EDI;
  
  bVar3 = *(byte *)((int)unaff_EDI + 9);
  iVar2 = *unaff_EDI;
  if ((7 < bVar3) && (bVar1 = *(byte *)(unaff_EDI + 2), (bVar1 & 2) == 0)) {
    if (bVar1 == 0) {
      if (bVar3 == 8) {
        puVar5 = (undefined *)(iVar2 + -1 + in_EAX);
        puVar4 = puVar5 + iVar2 * 2;
        for (iVar6 = iVar2; iVar6 != 0; iVar6 = iVar6 + -1) {
          *puVar4 = *puVar5;
          puVar4[-1] = *puVar5;
          puVar4[-2] = *puVar5;
          puVar4 = puVar4 + -3;
          puVar5 = puVar5 + -1;
        }
      }
      else {
        puVar5 = (undefined *)(in_EAX + -1 + iVar2 * 2);
        puVar4 = puVar5 + iVar2 * 4;
        for (iVar6 = iVar2; iVar6 != 0; iVar6 = iVar6 + -1) {
          *puVar4 = *puVar5;
          puVar4[-1] = puVar5[-1];
          puVar4[-2] = *puVar5;
          puVar4[-3] = puVar5[-1];
          puVar4[-4] = *puVar5;
          puVar4[-5] = puVar5[-1];
          puVar4 = puVar4 + -6;
          puVar5 = puVar5 + -2;
        }
      }
    }
    else if (bVar1 == 4) {
      if (bVar3 == 8) {
        puVar5 = (undefined *)(in_EAX + -1 + iVar2 * 2);
        puVar4 = puVar5 + iVar2 * 2;
        for (iVar6 = iVar2; iVar6 != 0; iVar6 = iVar6 + -1) {
          *puVar4 = *puVar5;
          puVar4[-1] = puVar5[-1];
          puVar4[-2] = puVar5[-1];
          puVar4[-3] = puVar5[-1];
          puVar4 = puVar4 + -4;
          puVar5 = puVar5 + -2;
        }
      }
      else {
        puVar5 = (undefined *)(in_EAX + -1 + iVar2 * 4);
        puVar4 = puVar5 + iVar2 * 4;
        for (iVar6 = iVar2; iVar6 != 0; iVar6 = iVar6 + -1) {
          *puVar4 = *puVar5;
          puVar4[-1] = puVar5[-1];
          puVar4[-2] = puVar5[-2];
          puVar4[-3] = puVar5[-3];
          puVar4[-4] = puVar5[-2];
          puVar4[-5] = puVar5[-3];
          puVar4[-6] = puVar5[-2];
          puVar4[-7] = puVar5[-3];
          puVar4 = puVar4 + -8;
          puVar5 = puVar5 + -4;
        }
      }
    }
    *(char *)((int)unaff_EDI + 10) = *(char *)((int)unaff_EDI + 10) + '\x02';
    *(byte *)(unaff_EDI + 2) = *(byte *)(unaff_EDI + 2) | 2;
    bVar3 = *(char *)((int)unaff_EDI + 9) * *(char *)((int)unaff_EDI + 10);
    *(byte *)((int)unaff_EDI + 0xb) = bVar3;
    if (7 < bVar3) {
      unaff_EDI[1] = (uint)(bVar3 >> 3) * iVar2;
      return;
    }
    unaff_EDI[1] = (uint)bVar3 * iVar2 + 7 >> 3;
  }
  return;
}



undefined4 __cdecl FUN_00444ca0(int param_1,int *param_2)

{
  int iVar1;
  int iVar2;
  int iVar3;
  byte *pbVar4;
  byte bVar5;
  byte *in_EAX;
  int iVar6;
  byte bVar7;
  byte bVar8;
  ushort uVar9;
  ushort uVar10;
  ushort uVar11;
  uint uVar12;
  uint uVar13;
  byte *pbVar14;
  uint uVar15;
  int iVar16;
  byte *pbVar17;
  byte *local_10;
  undefined4 local_c;
  
  bVar5 = *(byte *)(param_2 + 2);
  local_c = 0;
  if (((bVar5 & 1) != 0) || ((bVar5 & 2) == 0)) {
    return 0;
  }
  uVar15 = (uint)*(ushort *)(param_1 + 0x256);
  uVar13 = (uint)*(ushort *)(param_1 + 0x254);
  bVar5 = bVar5 >> 2;
  iVar16 = (0x8000 - uVar15) - uVar13;
  iVar1 = *param_2;
  if (*(char *)((int)param_2 + 9) == '\b') {
    iVar3 = iVar1;
    pbVar4 = in_EAX;
    if ((*(int *)(param_1 + 0x188) == 0) || (*(int *)(param_1 + 0x18c) == 0)) {
      for (; iVar3 != 0; iVar3 = iVar3 + -1) {
        bVar7 = *in_EAX;
        pbVar14 = in_EAX + 3;
        if ((bVar7 == in_EAX[1]) && (bVar7 == in_EAX[2])) {
          *pbVar4 = bVar7;
        }
        else {
          local_c = 1;
          *pbVar4 = (byte)((uint)in_EAX[2] * iVar16 + in_EAX[1] * uVar15 + bVar7 * uVar13 >> 0xf);
        }
        pbVar17 = pbVar4 + 1;
        if ((bVar5 & 1) != 0) {
          *pbVar17 = *pbVar14;
          pbVar17 = pbVar4 + 2;
          pbVar14 = in_EAX + 4;
        }
        in_EAX = pbVar14;
        pbVar4 = pbVar17;
      }
    }
    else {
      for (; iVar3 != 0; iVar3 = iVar3 + -1) {
        bVar7 = *in_EAX;
        pbVar14 = in_EAX + 3;
        if ((bVar7 == in_EAX[1]) && (bVar7 == in_EAX[2])) {
          iVar6 = *(int *)(param_1 + 0x180);
          if (iVar6 != 0) {
            uVar12 = (uint)bVar7;
            goto LAB_00444d9d;
          }
        }
        else {
          iVar2 = *(int *)(param_1 + 0x18c);
          local_c = 1;
          iVar6 = *(int *)(param_1 + 0x188);
          uVar12 = (uint)*(byte *)((uint)in_EAX[2] + iVar2) * iVar16 +
                   *(byte *)((uint)in_EAX[1] + iVar2) * uVar15 + 0x4000 +
                   *(byte *)((uint)bVar7 + iVar2) * uVar13 >> 0xf;
LAB_00444d9d:
          bVar7 = *(byte *)(uVar12 + iVar6);
        }
        *pbVar4 = bVar7;
        pbVar17 = pbVar4 + 1;
        if ((bVar5 & 1) != 0) {
          *pbVar17 = *pbVar14;
          pbVar17 = pbVar4 + 2;
          pbVar14 = in_EAX + 4;
        }
        in_EAX = pbVar14;
        pbVar4 = pbVar17;
      }
    }
  }
  else {
    iVar3 = iVar1;
    pbVar4 = in_EAX;
    if ((*(int *)(param_1 + 0x194) == 0) || (*(int *)(param_1 + 400) == 0)) {
      for (; iVar3 != 0; iVar3 = iVar3 + -1) {
        uVar9 = CONCAT11(*pbVar4,pbVar4[1]);
        pbVar14 = pbVar4 + 6;
        if ((uVar9 != CONCAT11(pbVar4[2],pbVar4[3])) || (uVar9 != CONCAT11(pbVar4[4],pbVar4[5]))) {
          local_c = 1;
        }
        uVar12 = (uint)CONCAT11(pbVar4[4],pbVar4[5]) * iVar16 +
                 CONCAT11(pbVar4[2],pbVar4[3]) * uVar15 + 0x4000 + uVar9 * uVar13 >> 0xf & 0xffff;
        *in_EAX = (byte)(uVar12 >> 8);
        in_EAX[1] = (byte)uVar12;
        pbVar17 = in_EAX + 2;
        if ((bVar5 & 1) != 0) {
          *pbVar17 = *pbVar14;
          in_EAX[3] = pbVar4[7];
          pbVar17 = in_EAX + 4;
          pbVar14 = pbVar4 + 8;
        }
        in_EAX = pbVar17;
        pbVar4 = pbVar14;
      }
    }
    else {
      for (; iVar3 != 0; iVar3 = iVar3 + -1) {
        bVar7 = *in_EAX;
        uVar9 = CONCAT11(bVar7,in_EAX[1]);
        uVar10 = CONCAT11(in_EAX[2],in_EAX[3]);
        uVar11 = CONCAT11(in_EAX[4],in_EAX[5]);
        pbVar14 = in_EAX + 6;
        if ((uVar9 == uVar10) && (uVar9 == uVar11)) {
          if (*(int *)(param_1 + 0x184) != 0) {
            uVar9 = *(ushort *)
                     (*(int *)(*(int *)(param_1 + 0x184) +
                              ((uVar9 & 0xff) >> (*(byte *)(param_1 + 0x174) & 0x1f)) * 4) +
                     (uint)bVar7 * 2);
          }
        }
        else {
          iVar6 = *(int *)(param_1 + 0x194);
          bVar8 = (byte)*(undefined2 *)(param_1 + 0x174);
          uVar12 = *(ushort *)
                    (*(int *)(iVar6 + ((uVar10 & 0xff) >> (bVar8 & 0x1f)) * 4) + (uint)in_EAX[2] * 2
                    ) * uVar15 +
                   (uint)*(ushort *)
                          (*(int *)(iVar6 + ((uVar11 & 0xff) >> (bVar8 & 0x1f)) * 4) +
                          (uint)in_EAX[4] * 2) * iVar16 + 0x4000 +
                   *(ushort *)
                    (*(int *)(iVar6 + ((uVar9 & 0xff) >> (bVar8 & 0x1f)) * 4) + (uint)bVar7 * 2) *
                   uVar13 >> 0xf;
          local_c = 1;
          uVar9 = *(ushort *)
                   (*(int *)(*(int *)(param_1 + 400) + ((uVar12 & 0xff) >> (bVar8 & 0x1f)) * 4) +
                   ((uVar12 & 0xffff) >> 8) * 2);
        }
        *pbVar4 = (byte)(uVar9 >> 8);
        pbVar4[1] = (byte)uVar9;
        local_10 = pbVar4 + 2;
        if ((bVar5 & 1) != 0) {
          *local_10 = *pbVar14;
          pbVar4[3] = in_EAX[7];
          local_10 = pbVar4 + 4;
          pbVar14 = in_EAX + 8;
        }
        in_EAX = pbVar14;
        pbVar4 = local_10;
      }
    }
  }
  *(char *)((int)param_2 + 10) = *(char *)((int)param_2 + 10) + -2;
  bVar5 = *(char *)((int)param_2 + 10) * *(char *)((int)param_2 + 9);
  *(byte *)(param_2 + 2) = *(byte *)(param_2 + 2) & 0xfd;
  *(byte *)((int)param_2 + 0xb) = bVar5;
  if (7 < bVar5) {
    param_2[1] = (uint)(bVar5 >> 3) * iVar1;
    return local_c;
  }
  param_2[1] = (uint)bVar5 * iVar1 + 7 >> 3;
  return local_c;
}



void __cdecl FUN_00445070(int *param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  byte bVar4;
  undefined uVar5;
  undefined2 uVar6;
  int *in_EAX;
  byte *pbVar7;
  ushort uVar8;
  int iVar9;
  uint uVar10;
  byte bVar11;
  uint uVar12;
  uint uVar13;
  int iVar14;
  int iVar15;
  byte bVar16;
  int unaff_ESI;
  short sVar17;
  int *local_20;
  int *local_14;
  byte local_c;
  
  iVar14 = *(int *)(unaff_ESI + 0x180);
  iVar15 = *(int *)(unaff_ESI + 0x188);
  iVar9 = *(int *)(unaff_ESI + 400);
  iVar1 = *(int *)(unaff_ESI + 0x18c);
  iVar2 = *(int *)(unaff_ESI + 0x194);
  local_20 = (int *)*param_1;
  iVar3 = *(int *)(unaff_ESI + 0x184);
  uVar12 = *(uint *)(unaff_ESI + 0x70) >> 0xd & 1;
  local_c = (byte)*(undefined4 *)(unaff_ESI + 0x174);
  switch(*(undefined *)(param_1 + 2)) {
  case 0:
    switch(*(undefined *)((int)param_1 + 9)) {
    case 1:
      iVar14 = 7;
      param_1 = local_20;
      if (local_20 != (int *)0x0) {
        do {
          bVar11 = (byte)iVar14;
          if ((ushort)(*(byte *)in_EAX >> (bVar11 & 0x1f) & 1) == *(ushort *)(unaff_ESI + 0x1b0)) {
            bVar4 = (byte)(0x7f7f >> (7 - bVar11 & 0x1f)) & *(byte *)in_EAX;
            *(byte *)in_EAX = bVar4;
            *(byte *)in_EAX = *(char *)(unaff_ESI + 0x15c) << (bVar11 & 0x1f) | bVar4;
          }
          if (iVar14 == 0) {
            iVar14 = 7;
            in_EAX = (int *)((int)in_EAX + 1);
          }
          else {
            iVar14 = iVar14 + -1;
          }
          param_1 = (int *)((int)param_1 + -1);
        } while (param_1 != (int *)0x0);
        return;
      }
      break;
    case 2:
      if (iVar14 == 0) {
        iVar14 = 6;
        param_1 = local_20;
        if (local_20 != (int *)0x0) {
          do {
            bVar11 = (byte)iVar14;
            if ((ushort)(*(byte *)in_EAX >> (bVar11 & 0x1f) & 3) == *(ushort *)(unaff_ESI + 0x1b0))
            {
              bVar4 = (byte)(0x3f3f >> (6 - bVar11 & 0x1f)) & *(byte *)in_EAX;
              *(byte *)in_EAX = bVar4;
              *(byte *)in_EAX = *(char *)(unaff_ESI + 0x15c) << (bVar11 & 0x1f) | bVar4;
            }
            if (iVar14 == 0) {
              iVar14 = 6;
              in_EAX = (int *)((int)in_EAX + 1);
            }
            else {
              iVar14 = iVar14 + -2;
            }
            param_1 = (int *)((int)param_1 + -1);
          } while (param_1 != (int *)0x0);
          return;
        }
      }
      else {
        iVar15 = 6;
        param_1 = local_20;
        if (local_20 != (int *)0x0) {
          do {
            bVar11 = (byte)iVar15;
            bVar4 = *(byte *)in_EAX >> (bVar11 & 0x1f) & 3;
            if ((ushort)bVar4 == *(ushort *)(unaff_ESI + 0x1b0)) {
              bVar4 = (byte)(0x3f3f >> (6 - bVar11 & 0x1f)) & *(byte *)in_EAX;
              *(byte *)in_EAX = bVar4;
              bVar16 = *(char *)(unaff_ESI + 0x15c) << (bVar11 & 0x1f);
            }
            else {
              uVar12 = (uint)bVar4;
              bVar16 = (byte)(0x3f3f >> (6 - bVar11 & 0x1f)) & *(byte *)in_EAX;
              bVar4 = (*(byte *)((((uVar12 * 4 | uVar12) * 4 | uVar12) * 4 | uVar12) + iVar14) >> 6)
                      << (bVar11 & 0x1f);
            }
            *(byte *)in_EAX = bVar16 | bVar4;
            if (iVar15 == 0) {
              iVar15 = 6;
              in_EAX = (int *)((int)in_EAX + 1);
            }
            else {
              iVar15 = iVar15 + -2;
            }
            param_1 = (int *)((int)param_1 + -1);
          } while (param_1 != (int *)0x0);
          return;
        }
      }
      break;
    case 4:
      iVar15 = 4;
      if (iVar14 == 0) {
        param_1 = local_20;
        if (local_20 != (int *)0x0) {
          do {
            bVar11 = (byte)iVar15;
            if ((ushort)(*(byte *)in_EAX >> (bVar11 & 0x1f) & 0xf) == *(ushort *)(unaff_ESI + 0x1b0)
               ) {
              bVar4 = (byte)(0xf0f >> (4 - bVar11 & 0x1f)) & *(byte *)in_EAX;
              *(byte *)in_EAX = bVar4;
              *(byte *)in_EAX = *(char *)(unaff_ESI + 0x15c) << (bVar11 & 0x1f) | bVar4;
            }
            if (iVar15 == 0) {
              iVar15 = 4;
              in_EAX = (int *)((int)in_EAX + 1);
            }
            else {
              iVar15 = iVar15 + -4;
            }
            param_1 = (int *)((int)param_1 + -1);
          } while (param_1 != (int *)0x0);
          return;
        }
      }
      else {
        param_1 = local_20;
        if (local_20 != (int *)0x0) {
          do {
            bVar11 = (byte)iVar15;
            bVar4 = *(byte *)in_EAX >> (bVar11 & 0x1f) & 0xf;
            if ((ushort)bVar4 == *(ushort *)(unaff_ESI + 0x1b0)) {
              bVar4 = (byte)(0xf0f >> (4 - bVar11 & 0x1f)) & *(byte *)in_EAX;
              *(byte *)in_EAX = bVar4;
              bVar16 = *(char *)(unaff_ESI + 0x15c) << (bVar11 & 0x1f);
            }
            else {
              bVar16 = (byte)(0xf0f >> (4 - bVar11 & 0x1f)) & *(byte *)in_EAX;
              bVar4 = (*(byte *)(((uint)bVar4 << 4 | (uint)bVar4) + iVar14) >> 4) << (bVar11 & 0x1f)
              ;
            }
            *(byte *)in_EAX = bVar16 | bVar4;
            if (iVar15 == 0) {
              iVar15 = 4;
              in_EAX = (int *)((int)in_EAX + 1);
            }
            else {
              iVar15 = iVar15 + -4;
            }
            param_1 = (int *)((int)param_1 + -1);
          } while (param_1 != (int *)0x0);
          return;
        }
      }
      break;
    case 8:
      if (iVar14 == 0) {
        if (local_20 != (int *)0x0) {
          do {
            if ((ushort)*(byte *)in_EAX == *(ushort *)(unaff_ESI + 0x1b0)) {
              *(byte *)in_EAX = *(byte *)(unaff_ESI + 0x15c);
            }
            in_EAX = (int *)((int)in_EAX + 1);
            local_20 = (int *)((int)local_20 + -1);
          } while (local_20 != (int *)0x0);
          return;
        }
      }
      else if (local_20 != (int *)0x0) {
        do {
          if ((ushort)*(byte *)in_EAX == *(ushort *)(unaff_ESI + 0x1b0)) {
            bVar11 = *(byte *)(unaff_ESI + 0x15c);
          }
          else {
            bVar11 = *(byte *)((uint)*(byte *)in_EAX + iVar14);
          }
          *(byte *)in_EAX = bVar11;
          in_EAX = (int *)((int)in_EAX + 1);
          local_20 = (int *)((int)local_20 + -1);
        } while (local_20 != (int *)0x0);
        return;
      }
      break;
    case 0x10:
      if (iVar3 == 0) {
        if (local_20 != (int *)0x0) {
          do {
            if ((ushort)((ushort)*(byte *)in_EAX * 0x100 + (ushort)*(byte *)((int)in_EAX + 1)) ==
                *(short *)(unaff_ESI + 0x1b0)) {
              *(byte *)in_EAX = *(byte *)(unaff_ESI + 0x15d);
              *(byte *)((int)in_EAX + 1) = *(byte *)(unaff_ESI + 0x15c);
            }
            in_EAX = (int *)((int)in_EAX + 2);
            local_20 = (int *)((int)local_20 + -1);
          } while (local_20 != (int *)0x0);
          return;
        }
      }
      else {
        param_1 = local_20;
        if (local_20 != (int *)0x0) {
          do {
            if ((ushort)((ushort)*(byte *)in_EAX * 0x100 + (ushort)*(byte *)((int)in_EAX + 1)) ==
                *(short *)(unaff_ESI + 0x1b0)) {
              *(byte *)in_EAX = *(byte *)(unaff_ESI + 0x15d);
              uVar8 = (ushort)*(byte *)(unaff_ESI + 0x15c);
            }
            else {
              uVar8 = *(ushort *)
                       (*(int *)(iVar3 + (uint)(*(byte *)((int)in_EAX + 1) >> (local_c & 0x1f)) * 4)
                       + (uint)*(byte *)in_EAX * 2);
              *(byte *)in_EAX = (byte)(uVar8 >> 8);
            }
            *(byte *)((int)in_EAX + 1) = (byte)uVar8;
            in_EAX = (int *)((int)in_EAX + 2);
            param_1 = (int *)((int)param_1 + -1);
          } while (param_1 != (int *)0x0);
          return;
        }
      }
    }
    break;
  case 2:
    if (*(char *)((int)param_1 + 9) == '\b') {
      if (iVar14 == 0) {
        if (local_20 != (int *)0x0) {
          pbVar7 = (byte *)((int)in_EAX + 2);
          do {
            if ((((ushort)pbVar7[-2] == *(ushort *)(unaff_ESI + 0x1aa)) &&
                ((ushort)pbVar7[-1] == *(ushort *)(unaff_ESI + 0x1ac))) &&
               ((ushort)*pbVar7 == *(ushort *)(unaff_ESI + 0x1ae))) {
              pbVar7[-2] = *(byte *)(unaff_ESI + 0x156);
              pbVar7[-1] = *(byte *)(unaff_ESI + 0x158);
              *pbVar7 = *(byte *)(unaff_ESI + 0x15a);
            }
            pbVar7 = pbVar7 + 3;
            local_20 = (int *)((int)local_20 + -1);
          } while (local_20 != (int *)0x0);
          return;
        }
      }
      else if (local_20 != (int *)0x0) {
        pbVar7 = (byte *)((int)in_EAX + 2);
        do {
          if ((((ushort)pbVar7[-2] == *(ushort *)(unaff_ESI + 0x1aa)) &&
              ((ushort)pbVar7[-1] == *(ushort *)(unaff_ESI + 0x1ac))) &&
             ((ushort)*pbVar7 == *(ushort *)(unaff_ESI + 0x1ae))) {
            pbVar7[-2] = *(byte *)(unaff_ESI + 0x156);
            pbVar7[-1] = *(byte *)(unaff_ESI + 0x158);
            bVar11 = *(byte *)(unaff_ESI + 0x15a);
          }
          else {
            pbVar7[-2] = *(byte *)((uint)pbVar7[-2] + iVar14);
            pbVar7[-1] = *(byte *)((uint)pbVar7[-1] + iVar14);
            bVar11 = *(byte *)((uint)*pbVar7 + iVar14);
          }
          *pbVar7 = bVar11;
          pbVar7 = pbVar7 + 3;
          local_20 = (int *)((int)local_20 + -1);
        } while (local_20 != (int *)0x0);
        return;
      }
    }
    else if (iVar3 == 0) {
      if (local_20 != (int *)0x0) {
        pbVar7 = (byte *)((int)in_EAX + 2);
        do {
          if ((((ushort)((ushort)pbVar7[-2] * 0x100 + (ushort)pbVar7[-1]) ==
                *(short *)(unaff_ESI + 0x1aa)) &&
              ((ushort)((ushort)*pbVar7 * 0x100 + (ushort)pbVar7[1]) ==
               *(short *)(unaff_ESI + 0x1ac))) &&
             ((ushort)((ushort)pbVar7[2] * 0x100 + (ushort)pbVar7[3]) ==
              *(short *)(unaff_ESI + 0x1ae))) {
            pbVar7[-2] = *(byte *)(unaff_ESI + 0x157);
            pbVar7[-1] = *(byte *)(unaff_ESI + 0x156);
            *pbVar7 = *(byte *)(unaff_ESI + 0x159);
            pbVar7[1] = *(byte *)(unaff_ESI + 0x158);
            pbVar7[2] = *(byte *)(unaff_ESI + 0x15b);
            pbVar7[3] = *(byte *)(unaff_ESI + 0x15a);
          }
          pbVar7 = pbVar7 + 6;
          local_20 = (int *)((int)local_20 + -1);
        } while (local_20 != (int *)0x0);
        return;
      }
    }
    else if (local_20 != (int *)0x0) {
      pbVar7 = (byte *)((int)in_EAX + 2);
      param_1 = local_20;
      do {
        if ((((ushort)((ushort)pbVar7[-2] * 0x100 + (ushort)pbVar7[-1]) ==
              *(short *)(unaff_ESI + 0x1aa)) &&
            ((ushort)((ushort)*pbVar7 * 0x100 + (ushort)pbVar7[1]) == *(short *)(unaff_ESI + 0x1ac))
            ) && ((ushort)((ushort)pbVar7[2] * 0x100 + (ushort)pbVar7[3]) ==
                  *(short *)(unaff_ESI + 0x1ae))) {
          pbVar7[-2] = *(byte *)(unaff_ESI + 0x157);
          pbVar7[-1] = *(byte *)(unaff_ESI + 0x156);
          *pbVar7 = *(byte *)(unaff_ESI + 0x159);
          pbVar7[1] = *(byte *)(unaff_ESI + 0x158);
          pbVar7[2] = *(byte *)(unaff_ESI + 0x15b);
          pbVar7[3] = *(byte *)(unaff_ESI + 0x15a);
        }
        else {
          uVar6 = *(undefined2 *)
                   (*(int *)(iVar3 + (uint)(pbVar7[-1] >> (local_c & 0x1f)) * 4) +
                   (uint)pbVar7[-2] * 2);
          pbVar7[-2] = (byte)((ushort)uVar6 >> 8);
          pbVar7[-1] = (byte)uVar6;
          uVar6 = *(undefined2 *)
                   (*(int *)(iVar3 + (uint)(pbVar7[1] >> (local_c & 0x1f)) * 4) + (uint)*pbVar7 * 2)
          ;
          *pbVar7 = (byte)((ushort)uVar6 >> 8);
          pbVar7[1] = (byte)uVar6;
          uVar6 = *(undefined2 *)
                   (*(int *)(iVar3 + (uint)(pbVar7[3] >> (local_c & 0x1f)) * 4) +
                   (uint)pbVar7[2] * 2);
          pbVar7[2] = (byte)((ushort)uVar6 >> 8);
          pbVar7[3] = (byte)uVar6;
        }
        pbVar7 = pbVar7 + 6;
        param_1 = (int *)((int)param_1 + -1);
      } while (param_1 != (int *)0x0);
      return;
    }
    break;
  case 4:
    if (*(char *)((int)param_1 + 9) == '\b') {
      if (((iVar1 == 0) || (iVar15 == 0)) || (iVar14 == 0)) {
        if (local_20 != (int *)0x0) {
          do {
            bVar11 = *(byte *)((int)in_EAX + 1);
            if (bVar11 == 0) {
              *(byte *)in_EAX = *(byte *)(unaff_ESI + 0x15c);
            }
            else if (bVar11 != 0xff) {
              uVar8 = (0xff - (ushort)bVar11) * *(short *)(unaff_ESI + 0x166) +
                      (ushort)*(byte *)in_EAX * (ushort)bVar11 + 0x80;
              *(byte *)in_EAX = (byte)((uint)(uVar8 >> 8) + (uint)uVar8 >> 8);
            }
            in_EAX = (int *)((int)in_EAX + 2);
            local_20 = (int *)((int)local_20 + -1);
          } while (local_20 != (int *)0x0);
          return;
        }
      }
      else {
        param_1 = in_EAX;
        if (local_20 != (int *)0x0) {
          do {
            bVar11 = *(byte *)((int)param_1 + 1);
            if (bVar11 == 0xff) {
              uVar5 = *(undefined *)((uint)*(byte *)param_1 + iVar14);
LAB_004457d5:
              *(undefined *)param_1 = uVar5;
            }
            else {
              if (bVar11 != 0) {
                uVar8 = (0xff - (ushort)bVar11) * *(short *)(unaff_ESI + 0x166) +
                        (ushort)*(byte *)((uint)*(byte *)param_1 + iVar1) * (ushort)bVar11 + 0x80;
                iVar9 = (uint)uVar8 + (uint)(uVar8 >> 8);
                uVar5 = (undefined)((uint)iVar9 >> 8);
                if (uVar12 == 0) {
                  uVar5 = *(undefined *)((iVar9 >> 8 & 0xffU) + iVar15);
                }
                goto LAB_004457d5;
              }
              *(undefined *)param_1 = *(undefined *)(unaff_ESI + 0x15c);
            }
            param_1 = (int *)((int)param_1 + 2);
            local_20 = (int *)((int)local_20 + -1);
            if (local_20 == (int *)0x0) {
              return;
            }
          } while( true );
        }
      }
    }
    else if (((iVar3 == 0) || (iVar9 == 0)) || (iVar2 == 0)) {
      if (local_20 != (int *)0x0) {
        pbVar7 = (byte *)((int)in_EAX + 1);
        param_1 = local_20;
        do {
          uVar8 = (ushort)pbVar7[1] * 0x100 + (ushort)pbVar7[2];
          if (uVar8 == 0) {
            pbVar7[-1] = *(byte *)(unaff_ESI + 0x15d);
            *pbVar7 = *(byte *)(unaff_ESI + 0x15c);
          }
          else if (uVar8 != 0xffff) {
            uVar12 = (uint)*(ushort *)(unaff_ESI + 0x166) * (0xffff - (uint)uVar8) + 0x8000 +
                     (uint)(ushort)((ushort)pbVar7[-1] * 0x100 + (ushort)*pbVar7) * (uint)uVar8;
            iVar14 = (uVar12 >> 0x10) + uVar12;
            pbVar7[-1] = (byte)((uint)iVar14 >> 0x18);
            *pbVar7 = (byte)((uint)iVar14 >> 0x10);
          }
          pbVar7 = pbVar7 + 4;
          param_1 = (int *)((int)param_1 + -1);
        } while (param_1 != (int *)0x0);
        return;
      }
    }
    else if (local_20 != (int *)0x0) {
      pbVar7 = (byte *)((int)in_EAX + 1);
      param_1 = local_20;
      do {
        uVar8 = (ushort)pbVar7[1] * 0x100 + (ushort)pbVar7[2];
        if (uVar8 == 0xffff) {
          uVar6 = *(undefined2 *)
                   (*(int *)(iVar3 + (uint)(*pbVar7 >> (local_c & 0x1f)) * 4) + (uint)pbVar7[-1] * 2
                   );
LAB_00445927:
          *pbVar7 = (byte)uVar6;
          pbVar7[-1] = (byte)((ushort)uVar6 >> 8);
        }
        else {
          if (uVar8 != 0) {
            uVar13 = (uint)*(ushort *)
                            (*(int *)(iVar2 + (uint)(*pbVar7 >> (local_c & 0x1f)) * 4) +
                            (uint)pbVar7[-1] * 2) * (uint)uVar8 + 0x8000 +
                     (uint)*(ushort *)(unaff_ESI + 0x166) * (0xffff - (uint)uVar8);
            uVar13 = (uVar13 >> 0x10) + uVar13;
            uVar6 = (undefined2)(uVar13 >> 0x10);
            if (uVar12 == 0) {
              uVar6 = *(undefined2 *)
                       (*(int *)(iVar9 + ((uVar13 >> 0x10 & 0xff) >> (local_c & 0x1f)) * 4) +
                       (uVar13 >> 0x18) * 2);
            }
            goto LAB_00445927;
          }
          pbVar7[-1] = *(byte *)(unaff_ESI + 0x15d);
          *pbVar7 = *(byte *)(unaff_ESI + 0x15c);
        }
        pbVar7 = pbVar7 + 4;
        param_1 = (int *)((int)param_1 + -1);
        if (param_1 == (int *)0x0) {
          return;
        }
      } while( true );
    }
    break;
  case 6:
    if (*(char *)((int)param_1 + 9) == '\b') {
      if (((iVar1 == 0) || (iVar15 == 0)) || (iVar14 == 0)) {
        if (local_20 != (int *)0x0) {
          pbVar7 = (byte *)((int)in_EAX + 1);
          param_1 = local_20;
          do {
            bVar11 = pbVar7[2];
            if (bVar11 == 0) {
              pbVar7[-1] = *(byte *)(unaff_ESI + 0x156);
              *pbVar7 = *(byte *)(unaff_ESI + 0x158);
              pbVar7[1] = *(byte *)(unaff_ESI + 0x15a);
            }
            else if (bVar11 != 0xff) {
              sVar17 = 0xff - (ushort)bVar11;
              uVar8 = *(short *)(unaff_ESI + 0x156) * sVar17 + (ushort)pbVar7[-1] * (ushort)bVar11 +
                      0x80;
              pbVar7[-1] = (byte)((uint)(uVar8 >> 8) + (uint)uVar8 >> 8);
              uVar8 = *(short *)(unaff_ESI + 0x158) * sVar17 + (ushort)*pbVar7 * (ushort)bVar11 +
                      0x80;
              *pbVar7 = (byte)((uint)(uVar8 >> 8) + (uint)uVar8 >> 8);
              uVar8 = *(short *)(unaff_ESI + 0x15a) * sVar17 + (ushort)pbVar7[1] * (ushort)bVar11 +
                      0x80;
              pbVar7[1] = (byte)((uint)(uVar8 >> 8) + (uint)uVar8 >> 8);
            }
            pbVar7 = pbVar7 + 4;
            param_1 = (int *)((int)param_1 + -1);
          } while (param_1 != (int *)0x0);
          return;
        }
      }
      else if (local_20 != (int *)0x0) {
        pbVar7 = (byte *)((int)in_EAX + 1);
        param_1 = local_20;
        do {
          bVar11 = pbVar7[2];
          if (bVar11 == 0xff) {
            pbVar7[-1] = *(byte *)((uint)pbVar7[-1] + iVar14);
            *pbVar7 = *(byte *)((uint)*pbVar7 + iVar14);
            pbVar7[1] = *(byte *)((uint)pbVar7[1] + iVar14);
          }
          else {
            if (bVar11 == 0) {
              pbVar7[-1] = *(byte *)(unaff_ESI + 0x156);
              *pbVar7 = *(byte *)(unaff_ESI + 0x158);
              bVar11 = *(byte *)(unaff_ESI + 0x15a);
            }
            else {
              sVar17 = 0xff - (ushort)bVar11;
              uVar8 = (ushort)*(byte *)((uint)pbVar7[-1] + iVar1) * (ushort)bVar11 +
                      *(short *)(unaff_ESI + 0x160) * sVar17 + 0x80;
              iVar9 = (uint)uVar8 + (uint)(uVar8 >> 8);
              bVar4 = (byte)((uint)iVar9 >> 8);
              if (uVar12 == 0) {
                bVar4 = *(byte *)((iVar9 >> 8 & 0xffU) + iVar15);
              }
              pbVar7[-1] = bVar4;
              uVar8 = (ushort)*(byte *)((uint)*pbVar7 + iVar1) * (ushort)bVar11 +
                      *(short *)(unaff_ESI + 0x162) * sVar17 + 0x80;
              iVar9 = (uint)uVar8 + (uint)(uVar8 >> 8);
              bVar4 = (byte)((uint)iVar9 >> 8);
              if (uVar12 == 0) {
                bVar4 = *(byte *)((iVar9 >> 8 & 0xffU) + iVar15);
              }
              *pbVar7 = bVar4;
              uVar8 = (ushort)*(byte *)((uint)pbVar7[1] + iVar1) * (ushort)bVar11 +
                      *(short *)(unaff_ESI + 0x164) * sVar17 + 0x80;
              bVar11 = (byte)((uint)(uVar8 >> 8) + (uint)uVar8 >> 8);
              if (uVar12 == 0) {
                bVar11 = *(byte *)((uint)bVar11 + iVar15);
              }
            }
            pbVar7[1] = bVar11;
          }
          pbVar7 = pbVar7 + 4;
          param_1 = (int *)((int)param_1 + -1);
        } while (param_1 != (int *)0x0);
        return;
      }
    }
    else if (((iVar3 == 0) || (iVar9 == 0)) || (iVar2 == 0)) {
      if (local_20 != (int *)0x0) {
        pbVar7 = (byte *)((int)in_EAX + 1);
        param_1 = local_20;
        do {
          uVar8 = (ushort)pbVar7[5] * 0x100 + (ushort)pbVar7[6];
          uVar12 = (uint)uVar8;
          if (uVar8 == 0) {
            pbVar7[-1] = *(byte *)(unaff_ESI + 0x157);
            *pbVar7 = *(byte *)(unaff_ESI + 0x156);
            pbVar7[1] = *(byte *)(unaff_ESI + 0x159);
            pbVar7[2] = *(byte *)(unaff_ESI + 0x158);
            pbVar7[3] = *(byte *)(unaff_ESI + 0x15b);
            pbVar7[4] = *(byte *)(unaff_ESI + 0x15a);
          }
          else if (uVar8 != 0xffff) {
            iVar15 = 0xffff - uVar12;
            uVar13 = (ushort)((ushort)pbVar7[-1] * 0x100 + (ushort)*pbVar7) * uVar12 + 0x8000 +
                     (uint)*(ushort *)(unaff_ESI + 0x156) * iVar15;
            iVar14 = (uVar13 >> 0x10) + uVar13;
            *pbVar7 = (byte)((uint)iVar14 >> 0x10);
            pbVar7[-1] = (byte)((uint)iVar14 >> 0x18);
            uVar13 = (ushort)((ushort)pbVar7[1] * 0x100 + (ushort)pbVar7[2]) * uVar12 + 0x8000 +
                     (uint)*(ushort *)(unaff_ESI + 0x158) * iVar15;
            iVar14 = (uVar13 >> 0x10) + uVar13;
            pbVar7[2] = (byte)((uint)iVar14 >> 0x10);
            pbVar7[1] = (byte)((uint)iVar14 >> 0x18);
            uVar12 = (ushort)((ushort)pbVar7[3] * 0x100 + (ushort)pbVar7[4]) * uVar12 + 0x8000 +
                     (uint)*(ushort *)(unaff_ESI + 0x15a) * iVar15;
            iVar14 = (uVar12 >> 0x10) + uVar12;
            pbVar7[3] = (byte)((uint)iVar14 >> 0x18);
            pbVar7[4] = (byte)((uint)iVar14 >> 0x10);
          }
          pbVar7 = pbVar7 + 8;
          param_1 = (int *)((int)param_1 + -1);
        } while (param_1 != (int *)0x0);
      }
    }
    else if (local_20 != (int *)0x0) {
      pbVar7 = (byte *)((int)in_EAX + 1);
      local_14 = local_20;
      do {
        uVar8 = (ushort)pbVar7[5] * 0x100 + (ushort)pbVar7[6];
        uVar13 = (uint)uVar8;
        if (uVar8 == 0xffff) {
          uVar6 = *(undefined2 *)
                   (*(int *)(iVar3 + (uint)(*pbVar7 >> (local_c & 0x1f)) * 4) + (uint)pbVar7[-1] * 2
                   );
          pbVar7[-1] = (byte)((ushort)uVar6 >> 8);
          *pbVar7 = (byte)uVar6;
          uVar6 = *(undefined2 *)
                   (*(int *)(iVar3 + (uint)(pbVar7[2] >> (local_c & 0x1f)) * 4) +
                   (uint)pbVar7[1] * 2);
          pbVar7[1] = (byte)((ushort)uVar6 >> 8);
          pbVar7[2] = (byte)uVar6;
          uVar6 = *(undefined2 *)
                   (*(int *)(iVar3 + (uint)(pbVar7[4] >> (local_c & 0x1f)) * 4) +
                   (uint)pbVar7[3] * 2);
LAB_00445e3c:
          pbVar7[4] = (byte)uVar6;
          pbVar7[3] = (byte)((ushort)uVar6 >> 8);
        }
        else {
          if (uVar8 != 0) {
            iVar14 = 0xffff - uVar13;
            uVar10 = *(ushort *)
                      (*(int *)(iVar2 + (uint)(*pbVar7 >> (local_c & 0x1f)) * 4) +
                      (uint)pbVar7[-1] * 2) * uVar13 + 0x8000 +
                     (uint)*(ushort *)(unaff_ESI + 0x160) * iVar14;
            uVar10 = (uVar10 >> 0x10) + uVar10;
            uVar6 = (undefined2)(uVar10 >> 0x10);
            if (uVar12 == 0) {
              uVar6 = *(undefined2 *)
                       (*(int *)(iVar9 + ((uVar10 >> 0x10 & 0xff) >> (local_c & 0x1f)) * 4) +
                       (uVar10 >> 0x18) * 2);
            }
            *pbVar7 = (byte)uVar6;
            pbVar7[-1] = (byte)((ushort)uVar6 >> 8);
            uVar10 = *(ushort *)
                      (*(int *)(iVar2 + (uint)(pbVar7[2] >> (local_c & 0x1f)) * 4) +
                      (uint)pbVar7[1] * 2) * uVar13 + 0x8000 +
                     (uint)*(ushort *)(unaff_ESI + 0x162) * iVar14;
            uVar10 = (uVar10 >> 0x10) + uVar10;
            uVar6 = (undefined2)(uVar10 >> 0x10);
            if (uVar12 == 0) {
              uVar6 = *(undefined2 *)
                       (*(int *)(iVar9 + ((uVar10 >> 0x10 & 0xff) >> (local_c & 0x1f)) * 4) +
                       (uVar10 >> 0x18) * 2);
            }
            pbVar7[2] = (byte)uVar6;
            pbVar7[1] = (byte)((ushort)uVar6 >> 8);
            uVar13 = *(ushort *)
                      (*(int *)(iVar2 + (uint)(pbVar7[4] >> (local_c & 0x1f)) * 4) +
                      (uint)pbVar7[3] * 2) * uVar13 + 0x8000 +
                     (uint)*(ushort *)(unaff_ESI + 0x164) * iVar14;
            uVar13 = (uVar13 >> 0x10) + uVar13;
            uVar6 = (undefined2)(uVar13 >> 0x10);
            if (uVar12 == 0) {
              uVar6 = *(undefined2 *)
                       (*(int *)(iVar9 + ((uVar13 >> 0x10 & 0xff) >> (local_c & 0x1f)) * 4) +
                       (uVar13 >> 0x18) * 2);
            }
            goto LAB_00445e3c;
          }
          pbVar7[-1] = *(byte *)(unaff_ESI + 0x157);
          *pbVar7 = *(byte *)(unaff_ESI + 0x156);
          pbVar7[1] = *(byte *)(unaff_ESI + 0x159);
          pbVar7[2] = *(byte *)(unaff_ESI + 0x158);
          pbVar7[3] = *(byte *)(unaff_ESI + 0x15b);
          pbVar7[4] = *(byte *)(unaff_ESI + 0x15a);
        }
        pbVar7 = pbVar7 + 8;
        local_14 = (int *)((int)local_14 + -1);
        if (local_14 == (int *)0x0) {
          return;
        }
      } while( true );
    }
  }
  return;
}



void __cdecl FUN_00446000(int *param_1,byte *param_2)

{
  byte bVar1;
  char cVar2;
  undefined2 uVar3;
  int iVar4;
  int in_EAX;
  uint uVar5;
  uint uVar6;
  int iVar7;
  uint uVar8;
  int iVar9;
  uint uVar10;
  int local_10;
  byte *local_c;
  byte local_8;
  
  iVar9 = *(int *)(in_EAX + 0x184);
  iVar4 = *(int *)(in_EAX + 0x180);
  iVar7 = *param_1;
  bVar1 = *(byte *)((int)param_1 + 9);
  if (((bVar1 < 9) && (iVar4 != 0)) || ((bVar1 == 0x10 && (iVar9 != 0)))) {
    local_8 = (byte)*(undefined4 *)(in_EAX + 0x174);
    switch(*(undefined *)(param_1 + 2)) {
    case 0:
      if ((bVar1 == 2) && (local_c = param_2, iVar7 != 0)) {
        local_10 = (iVar7 - 1U >> 2) + 1;
        do {
          uVar5 = (uint)*local_c;
          uVar6 = uVar5 & 3;
          uVar10 = uVar5 & 0xc;
          uVar8 = uVar5 & 0x30;
          uVar5 = uVar5 & 0xc0;
          *local_c = (byte)((byte)(*(byte *)(((uVar10 * 4 | uVar10) * 4 | (int)uVar10 >> 2 | uVar10)
                                            + iVar4) & 0xcf |
                                  *(byte *)((((uVar6 * 4 | uVar6) * 4 | uVar6) * 4 | uVar6) + iVar4)
                                  >> 2) >> 2 |
                           *(byte *)(((int)((int)uVar8 >> 2 | uVar8) >> 2 | uVar8 * 4 | uVar8) +
                                    iVar4) & 0xc3) >> 2 |
                     *(byte *)(((int)((int)((int)uVar5 >> 2 | uVar5) >> 2 | uVar5) >> 2 | uVar5) +
                              iVar4) & 0xc0;
          local_c = local_c + 1;
          local_10 = local_10 + -1;
        } while (local_10 != 0);
      }
      cVar2 = *(char *)((int)param_1 + 9);
      if (cVar2 == '\x04') {
        if (iVar7 != 0) {
          iVar9 = (iVar7 - 1U >> 1) + 1;
          do {
            uVar6 = *param_2 & 0xf0;
            uVar5 = *param_2 & 0xf;
            *param_2 = *(byte *)(((int)uVar6 >> 4 | uVar6) + iVar4) & 0xf0 |
                       *(byte *)((uVar5 << 4 | uVar5) + iVar4) >> 4;
            param_2 = param_2 + 1;
            iVar9 = iVar9 + -1;
          } while (iVar9 != 0);
          return;
        }
      }
      else if (cVar2 == '\b') {
        if (iVar7 != 0) {
          do {
            *param_2 = *(byte *)((uint)*param_2 + iVar4);
            param_2 = param_2 + 1;
            iVar7 = iVar7 + -1;
          } while (iVar7 != 0);
          return;
        }
      }
      else if (cVar2 == '\x10') {
        for (; iVar7 != 0; iVar7 = iVar7 + -1) {
          uVar3 = *(undefined2 *)
                   (*(int *)(iVar9 + (uint)(param_2[1] >> (local_8 & 0x1f)) * 4) +
                   (uint)*param_2 * 2);
          *param_2 = (byte)((ushort)uVar3 >> 8);
          param_2[1] = (byte)uVar3;
          param_2 = param_2 + 2;
        }
      }
      break;
    case 2:
      if (bVar1 == 8) {
        if (iVar7 != 0) {
          do {
            *param_2 = *(byte *)((uint)*param_2 + iVar4);
            param_2[1] = *(byte *)((uint)param_2[1] + iVar4);
            param_2[2] = *(byte *)((uint)param_2[2] + iVar4);
            param_2 = param_2 + 3;
            iVar7 = iVar7 + -1;
          } while (iVar7 != 0);
          return;
        }
      }
      else if (iVar7 != 0) {
        do {
          uVar3 = *(undefined2 *)
                   (*(int *)(iVar9 + (uint)(param_2[1] >> (local_8 & 0x1f)) * 4) +
                   (uint)*param_2 * 2);
          *param_2 = (byte)((ushort)uVar3 >> 8);
          param_1._0_1_ = (byte)uVar3;
          param_2[1] = (byte)param_1;
          uVar3 = *(undefined2 *)
                   (*(int *)(iVar9 + (uint)(param_2[3] >> (local_8 & 0x1f)) * 4) +
                   (uint)param_2[2] * 2);
          param_2[2] = (byte)((ushort)uVar3 >> 8);
          param_1._0_1_ = (byte)uVar3;
          param_2[3] = (byte)param_1;
          uVar3 = *(undefined2 *)
                   (*(int *)(iVar9 + (uint)(param_2[5] >> (local_8 & 0x1f)) * 4) +
                   (uint)param_2[4] * 2);
          param_2[4] = (byte)((ushort)uVar3 >> 8);
          param_1._0_1_ = (byte)uVar3;
          param_2[5] = (byte)param_1;
          param_2 = param_2 + 6;
          iVar7 = iVar7 + -1;
        } while (iVar7 != 0);
        return;
      }
      break;
    case 4:
      if (bVar1 == 8) {
        if (iVar7 != 0) {
          do {
            *param_2 = *(byte *)((uint)*param_2 + iVar4);
            param_2 = param_2 + 2;
            iVar7 = iVar7 + -1;
          } while (iVar7 != 0);
          return;
        }
      }
      else if (iVar7 != 0) {
        do {
          uVar3 = *(undefined2 *)
                   (*(int *)(iVar9 + (uint)(param_2[1] >> (local_8 & 0x1f)) * 4) +
                   (uint)*param_2 * 2);
          *param_2 = (byte)((ushort)uVar3 >> 8);
          param_2[1] = (byte)uVar3;
          param_2 = param_2 + 4;
          iVar7 = iVar7 + -1;
        } while (iVar7 != 0);
        return;
      }
      break;
    case 6:
      if (bVar1 == 8) {
        if (iVar7 != 0) {
          do {
            *param_2 = *(byte *)((uint)*param_2 + iVar4);
            param_2[1] = *(byte *)((uint)param_2[1] + iVar4);
            param_2[2] = *(byte *)((uint)param_2[2] + iVar4);
            param_2 = param_2 + 4;
            iVar7 = iVar7 + -1;
          } while (iVar7 != 0);
          return;
        }
      }
      else if (iVar7 != 0) {
        do {
          uVar3 = *(undefined2 *)
                   (*(int *)(iVar9 + (uint)(param_2[1] >> (local_8 & 0x1f)) * 4) +
                   (uint)*param_2 * 2);
          *param_2 = (byte)((ushort)uVar3 >> 8);
          param_1._0_1_ = (byte)uVar3;
          param_2[1] = (byte)param_1;
          uVar3 = *(undefined2 *)
                   (*(int *)(iVar9 + (uint)(param_2[3] >> (local_8 & 0x1f)) * 4) +
                   (uint)param_2[2] * 2);
          param_2[2] = (byte)((ushort)uVar3 >> 8);
          param_1._0_1_ = (byte)uVar3;
          param_2[3] = (byte)param_1;
          uVar3 = *(undefined2 *)
                   (*(int *)(iVar9 + (uint)(param_2[5] >> (local_8 & 0x1f)) * 4) +
                   (uint)param_2[4] * 2);
          param_2[4] = (byte)((ushort)uVar3 >> 8);
          param_1._0_1_ = (byte)uVar3;
          param_2[5] = (byte)param_1;
          param_2 = param_2 + 8;
          iVar7 = iVar7 + -1;
        } while (iVar7 != 0);
        return;
      }
    }
  }
  return;
}



void __thiscall FUN_00446400(void *this,int param_1)

{
  byte bVar1;
  undefined2 uVar2;
  int iVar3;
  undefined4 uVar4;
  int in_EAX;
  byte *pbVar5;
  int iVar6;
  
  bVar1 = *(byte *)((int)this + 8);
                    // WARNING: Load size is inaccurate
  iVar6 = *this;
  if ((bVar1 & 4) != 0) {
    if (*(char *)((int)this + 9) == '\b') {
      iVar3 = *(int *)(in_EAX + 0x188);
      if (iVar3 != 0) {
        pbVar5 = (byte *)(param_1 + -1);
        if (iVar6 == 0) {
          return;
        }
        do {
          pbVar5 = pbVar5 + (uint)((bVar1 & 2) != 0) * 2 + 2;
          *pbVar5 = *(byte *)((uint)*pbVar5 + iVar3);
          iVar6 = iVar6 + -1;
        } while (iVar6 != 0);
        return;
      }
    }
    else if (*(char *)((int)this + 9) == '\x10') {
      iVar3 = *(int *)(in_EAX + 400);
      uVar4 = *(undefined4 *)(in_EAX + 0x174);
      if (iVar3 != 0) {
        pbVar5 = (byte *)(param_1 + -2);
        if (iVar6 == 0) {
          return;
        }
        do {
          pbVar5 = pbVar5 + (uint)((bVar1 & 2) != 0) * 4 + 4;
          uVar2 = *(undefined2 *)
                   (*(int *)(iVar3 + (uint)(pbVar5[1] >> ((byte)uVar4 & 0x1f)) * 4) +
                   (uint)*pbVar5 * 2);
          *pbVar5 = (byte)((ushort)uVar2 >> 8);
          pbVar5[1] = (byte)uVar2;
          iVar6 = iVar6 + -1;
        } while (iVar6 != 0);
        return;
      }
    }
  }
  FUN_0043df90("png_do_encode_alpha: unexpected call");
  return;
}



void __cdecl FUN_004464e0(uint *param_1,int param_2,int param_3,int param_4,int param_5)

{
  byte bVar1;
  int iVar2;
  undefined *puVar3;
  byte *pbVar4;
  byte *pbVar5;
  uint uVar6;
  uint uVar7;
  
  uVar7 = *param_1;
  if (*(char *)(param_1 + 2) == '\x03') {
    bVar1 = *(byte *)((int)param_1 + 9);
    if (bVar1 < 8) {
      if (bVar1 == 1) {
        pbVar5 = (byte *)((uVar7 - 1 >> 3) + param_2);
        pbVar4 = (byte *)(uVar7 + param_2 + -1);
        iVar2 = 7 - (uVar7 - 1 & 7);
        for (uVar6 = uVar7; uVar6 != 0; uVar6 = uVar6 - 1) {
          *pbVar4 = *pbVar5 >> ((byte)iVar2 & 0x1f) & 1;
          if (iVar2 == 7) {
            iVar2 = 0;
            pbVar5 = pbVar5 + -1;
          }
          else {
            iVar2 = iVar2 + 1;
          }
          pbVar4 = pbVar4 + -1;
        }
      }
      else if (bVar1 == 2) {
        pbVar5 = (byte *)((uVar7 - 1 >> 2) + param_2);
        pbVar4 = (byte *)(uVar7 + param_2 + -1);
        iVar2 = (3 - (uVar7 - 1 & 3)) * 2;
        for (uVar6 = uVar7; uVar6 != 0; uVar6 = uVar6 - 1) {
          *pbVar4 = *pbVar5 >> ((byte)iVar2 & 0x1f) & 3;
          if (iVar2 == 6) {
            iVar2 = 0;
            pbVar5 = pbVar5 + -1;
          }
          else {
            iVar2 = iVar2 + 2;
          }
          pbVar4 = pbVar4 + -1;
        }
      }
      else if (bVar1 == 4) {
        pbVar5 = (byte *)((uVar7 - 1 >> 1) + param_2);
        pbVar4 = (byte *)(uVar7 + param_2 + -1);
        iVar2 = (uVar7 & 1) * 4;
        for (uVar6 = uVar7; uVar6 != 0; uVar6 = uVar6 - 1) {
          *pbVar4 = *pbVar5 >> ((byte)iVar2 & 0x1f) & 0xf;
          if (iVar2 == 4) {
            iVar2 = 0;
            pbVar5 = pbVar5 + -1;
          }
          else {
            iVar2 = iVar2 + 4;
          }
          pbVar4 = pbVar4 + -1;
        }
      }
      *(undefined *)((int)param_1 + 9) = 8;
      *(undefined *)((int)param_1 + 0xb) = 8;
      param_1[1] = uVar7;
    }
    if (*(char *)((int)param_1 + 9) == '\b') {
      pbVar4 = (byte *)(uVar7 + param_2 + -1);
      if (0 < param_5) {
        uVar6 = uVar7 * 4;
        puVar3 = (undefined *)((uVar6 - 1) + param_2);
        for (; uVar7 != 0; uVar7 = uVar7 - 1) {
          if ((int)(uint)*pbVar4 < param_5) {
            *puVar3 = *(undefined *)((uint)*pbVar4 + param_4);
          }
          else {
            *puVar3 = 0xff;
          }
          puVar3[-1] = *(undefined *)((uint)*pbVar4 * 3 + 2 + param_3);
          puVar3[-2] = *(undefined *)((uint)*pbVar4 * 3 + 1 + param_3);
          puVar3[-3] = *(undefined *)(param_3 + (uint)*pbVar4 * 3);
          puVar3 = puVar3 + -4;
          pbVar4 = pbVar4 + -1;
        }
        param_1[1] = uVar6;
        param_1[2] = 0x20040806;
        return;
      }
      uVar6 = uVar7 * 3;
      puVar3 = (undefined *)((uVar6 - 1) + param_2);
      for (; uVar7 != 0; uVar7 = uVar7 - 1) {
        *puVar3 = *(undefined *)((uint)*pbVar4 * 3 + 2 + param_3);
        puVar3[-1] = *(undefined *)((uint)*pbVar4 * 3 + 1 + param_3);
        puVar3[-2] = *(undefined *)(param_3 + (uint)*pbVar4 * 3);
        puVar3 = puVar3 + -3;
        pbVar4 = pbVar4 + -1;
      }
      param_1[2] = 0x18030802;
      param_1[1] = uVar6;
    }
  }
  return;
}



void __fastcall FUN_004466f0(undefined4 param_1,int param_2,int *param_3,int param_4)

{
  char cVar1;
  char cVar2;
  char cVar3;
  char cVar4;
  char cVar5;
  int iVar6;
  byte bVar7;
  char cVar8;
  int iVar9;
  char *pcVar10;
  undefined *puVar11;
  ushort uVar12;
  int iVar13;
  byte *pbVar14;
  byte *pbVar15;
  
  iVar6 = *param_3;
  if (*(char *)(param_3 + 2) == '\0') {
    if (param_4 == 0) {
      uVar12 = 0;
    }
    else {
      uVar12 = *(ushort *)(param_4 + 8);
    }
    bVar7 = *(byte *)((int)param_3 + 9);
    if (bVar7 < 8) {
      if (bVar7 == 1) {
        uVar12 = (uVar12 & 1) * 0xff;
        pcVar10 = (char *)(iVar6 + -1 + param_2);
        pbVar15 = (byte *)((iVar6 - 1U >> 3) + param_2);
        iVar13 = 7 - (iVar6 - 1U & 7);
        for (iVar9 = iVar6; iVar9 != 0; iVar9 = iVar9 + -1) {
          *pcVar10 = -((*pbVar15 >> ((byte)iVar13 & 0x1f) & 1) != 0);
          if (iVar13 == 7) {
            iVar13 = 0;
            pbVar15 = pbVar15 + -1;
          }
          else {
            iVar13 = iVar13 + 1;
          }
          pcVar10 = pcVar10 + -1;
        }
      }
      else if (bVar7 == 2) {
        uVar12 = (uVar12 & 3) * 0x55;
        pbVar14 = (byte *)((iVar6 - 1U >> 2) + param_2);
        pbVar15 = (byte *)(iVar6 + -1 + param_2);
        iVar13 = (3 - (iVar6 - 1U & 3)) * 2;
        for (iVar9 = iVar6; iVar9 != 0; iVar9 = iVar9 + -1) {
          bVar7 = *pbVar14 >> ((byte)iVar13 & 0x1f) & 3;
          *pbVar15 = ((bVar7 * '\x04' | bVar7) * '\x04' | bVar7) * '\x04' | bVar7;
          if (iVar13 == 6) {
            iVar13 = 0;
            pbVar14 = pbVar14 + -1;
          }
          else {
            iVar13 = iVar13 + 2;
          }
          pbVar15 = pbVar15 + -1;
        }
      }
      else if (bVar7 == 4) {
        uVar12 = (uVar12 & 0xf) * 0x11;
        pbVar14 = (byte *)((iVar6 - 1U >> 1) + param_2);
        pbVar15 = (byte *)(iVar6 + -1 + param_2);
        iVar13 = (iVar6 - 1U & 1) * -4 + 4;
        for (iVar9 = iVar6; iVar9 != 0; iVar9 = iVar9 + -1) {
          bVar7 = *pbVar14 >> ((byte)iVar13 & 0x1f) & 0xf;
          *pbVar15 = bVar7 << 4 | bVar7;
          if (iVar13 == 4) {
            iVar13 = 0;
            pbVar14 = pbVar14 + -1;
          }
          else {
            iVar13 = 4;
          }
          pbVar15 = pbVar15 + -1;
        }
      }
      *(undefined *)((int)param_3 + 9) = 8;
      *(undefined *)((int)param_3 + 0xb) = 8;
      param_3[1] = iVar6;
    }
    if (param_4 == 0) {
      return;
    }
    if (*(char *)((int)param_3 + 9) == '\b') {
      pbVar15 = (byte *)(iVar6 + -1 + param_2);
      puVar11 = (undefined *)(param_2 + -1 + iVar6 * 2);
      iVar9 = iVar6;
      if (iVar6 != 0) {
        do {
          if ((ushort)*pbVar15 == (uVar12 & 0xff)) {
            *puVar11 = 0;
          }
          else {
            *puVar11 = 0xff;
          }
          puVar11[-1] = *pbVar15;
          puVar11 = puVar11 + -2;
          pbVar15 = pbVar15 + -1;
          iVar9 = iVar9 + -1;
        } while (iVar9 != 0);
        cVar8 = *(char *)((int)param_3 + 9);
        *(undefined *)(param_3 + 2) = 4;
        *(undefined *)((int)param_3 + 10) = 2;
        goto LAB_00446a93;
      }
    }
    else if (*(char *)((int)param_3 + 9) == '\x10') {
      pcVar10 = (char *)(param_3[1] + -1 + param_2);
      iVar9 = param_2 + -1 + param_3[1] * 2;
      for (iVar13 = iVar6; iVar13 != 0; iVar13 = iVar13 + -1) {
        if ((pcVar10[-1] == (char)(uVar12 >> 8)) && (*pcVar10 == (char)uVar12)) {
          *(undefined2 *)(iVar9 + -1) = 0;
        }
        else {
          *(undefined2 *)(iVar9 + -1) = 0xffff;
        }
        *(char *)(iVar9 + -2) = *pcVar10;
        *(char *)(iVar9 + -3) = pcVar10[-1];
        iVar9 = iVar9 + -4;
        pcVar10 = pcVar10 + -2;
      }
    }
    cVar8 = *(char *)((int)param_3 + 9);
    *(undefined *)(param_3 + 2) = 4;
    *(undefined *)((int)param_3 + 10) = 2;
  }
  else {
    if (*(char *)(param_3 + 2) != '\x02') {
      return;
    }
    if (param_4 == 0) {
      return;
    }
    if (*(char *)((int)param_3 + 9) == '\b') {
      cVar8 = *(char *)(param_4 + 4);
      cVar1 = *(char *)(param_4 + 2);
      cVar2 = *(char *)(param_4 + 6);
      pcVar10 = (char *)(param_3[1] + -1 + param_2);
      puVar11 = (undefined *)(param_2 + -1 + iVar6 * 4);
      for (iVar9 = iVar6; iVar9 != 0; iVar9 = iVar9 + -1) {
        if (((pcVar10[-2] == cVar1) && (pcVar10[-1] == cVar8)) && (*pcVar10 == cVar2)) {
          *puVar11 = 0;
        }
        else {
          *puVar11 = 0xff;
        }
        puVar11[-1] = *pcVar10;
        puVar11[-2] = pcVar10[-1];
        puVar11[-3] = pcVar10[-2];
        puVar11 = puVar11 + -4;
        pcVar10 = pcVar10 + -3;
      }
    }
    else if (*(char *)((int)param_3 + 9) == '\x10') {
      cVar2 = *(char *)(param_4 + 5);
      cVar8 = *(char *)(param_4 + 3);
      cVar3 = *(char *)(param_4 + 7);
      cVar4 = *(char *)(param_4 + 2);
      cVar5 = *(char *)(param_4 + 4);
      cVar1 = *(char *)(param_4 + 6);
      pcVar10 = (char *)(param_3[1] + -1 + param_2);
      iVar9 = param_2 + -1 + iVar6 * 8;
      for (iVar13 = iVar6; iVar13 != 0; iVar13 = iVar13 + -1) {
        if (((((pcVar10[-5] == cVar8) && (pcVar10[-4] == cVar4)) && (pcVar10[-3] == cVar2)) &&
            ((pcVar10[-2] == cVar5 && (pcVar10[-1] == cVar3)))) && (*pcVar10 == cVar1)) {
          *(undefined2 *)(iVar9 + -1) = 0;
        }
        else {
          *(undefined2 *)(iVar9 + -1) = 0xffff;
        }
        *(char *)(iVar9 + -2) = *pcVar10;
        *(char *)(iVar9 + -3) = pcVar10[-1];
        *(char *)(iVar9 + -4) = pcVar10[-2];
        *(char *)(iVar9 + -5) = pcVar10[-3];
        *(char *)(iVar9 + -6) = pcVar10[-4];
        *(char *)(iVar9 + -7) = pcVar10[-5];
        iVar9 = iVar9 + -8;
        pcVar10 = pcVar10 + -6;
      }
    }
    *(undefined *)(param_3 + 2) = 6;
    *(undefined *)((int)param_3 + 10) = 4;
    cVar8 = *(char *)((int)param_3 + 9) * '\x02';
  }
LAB_00446a93:
  bVar7 = cVar8 * '\x02';
  *(byte *)((int)param_3 + 0xb) = bVar7;
  if (bVar7 < 8) {
    param_3[1] = (uint)bVar7 * iVar6 + 7 >> 3;
    return;
  }
  param_3[1] = (uint)(bVar7 >> 3) * iVar6;
  return;
}



void __fastcall FUN_00446ad0(int param_1)

{
  undefined uVar1;
  uint uVar2;
  uint uVar3;
  int unaff_ESI;
  
  if ((*(char *)(unaff_ESI + 9) == '\b') && (*(char *)(unaff_ESI + 8) != '\x03')) {
    uVar3 = param_1 + *(int *)(unaff_ESI + 4);
    uVar2 = *(int *)(unaff_ESI + 4) + uVar3;
    if (uVar3 < uVar2) {
      do {
        uVar1 = *(undefined *)(uVar3 - 1);
        uVar3 = uVar3 - 1;
        *(undefined *)(uVar2 - 1) = uVar1;
        *(undefined *)(uVar2 - 2) = uVar1;
        uVar2 = uVar2 - 2;
      } while (uVar3 < uVar2);
    }
    *(int *)(unaff_ESI + 4) = *(int *)(unaff_ESI + 4) * 2;
    *(undefined *)(unaff_ESI + 9) = 0x10;
    *(char *)(unaff_ESI + 0xb) = *(char *)(unaff_ESI + 10) << 4;
  }
  return;
}



void __fastcall FUN_00446b10(int param_1,byte *param_2,int *param_3)

{
  char cVar1;
  int iVar2;
  byte *pbVar3;
  byte bVar4;
  int in_EAX;
  int iVar5;
  
  iVar5 = *param_3;
  if (*(char *)((int)param_3 + 9) != '\b') {
    return;
  }
  cVar1 = *(char *)(param_3 + 2);
  if ((cVar1 == '\x02') && (iVar2 = iVar5, pbVar3 = param_2, in_EAX != 0)) {
    for (; iVar2 != 0; iVar2 = iVar2 + -1) {
      *pbVar3 = *(byte *)((((*param_2 & 0xf8) << 5 | param_2[1] & 0xf8) * 4 |
                          (int)(uint)param_2[2] >> 3) + in_EAX);
      param_2 = param_2 + 3;
      pbVar3 = pbVar3 + 1;
    }
    bVar4 = *(byte *)((int)param_3 + 9);
    *(byte *)((int)param_3 + 0xb) = bVar4;
    *(undefined *)(param_3 + 2) = 3;
    *(undefined *)((int)param_3 + 10) = 1;
    if (7 < bVar4) {
      param_3[1] = (uint)(bVar4 >> 3) * iVar5;
      return;
    }
  }
  else {
    if ((cVar1 != '\x06') || (iVar2 = iVar5, pbVar3 = param_2, in_EAX == 0)) {
      if (cVar1 != '\x03') {
        return;
      }
      if (param_1 == 0) {
        return;
      }
      for (; iVar5 != 0; iVar5 = iVar5 + -1) {
        *param_2 = *(byte *)((uint)*param_2 + param_1);
        param_2 = param_2 + 1;
      }
      return;
    }
    for (; iVar2 != 0; iVar2 = iVar2 + -1) {
      *pbVar3 = *(byte *)((((*param_2 & 0xf8) << 5 | param_2[1] & 0xf8) * 4 |
                          (int)(uint)param_2[2] >> 3) + in_EAX);
      param_2 = param_2 + 4;
      pbVar3 = pbVar3 + 1;
    }
    bVar4 = *(byte *)((int)param_3 + 9);
    *(byte *)((int)param_3 + 0xb) = bVar4;
    *(undefined *)(param_3 + 2) = 3;
    *(undefined *)((int)param_3 + 10) = 1;
    if (7 < bVar4) {
      param_3[1] = (uint)(bVar4 >> 3) * iVar5;
      return;
    }
  }
  param_3[1] = (uint)bVar4 * iVar5 + 7 >> 3;
  return;
}



void __fastcall FUN_00446c60(int param_1)

{
  byte bVar1;
  int *in_EAX;
  char *pcVar2;
  undefined *puVar3;
  uint uVar4;
  int iVar5;
  uint uVar6;
  int iVar7;
  int local_8;
  
  bVar1 = *(byte *)(in_EAX + 2);
  if ((bVar1 & 2) != 0) {
    iVar5 = *in_EAX;
    if (*(char *)((int)in_EAX + 9) == '\b') {
      if (bVar1 == 2) {
        iVar7 = 3;
      }
      else {
        if (bVar1 != 6) {
          return;
        }
        iVar7 = 4;
      }
      if (iVar5 != 0) {
        pcVar2 = (char *)(param_1 + 2);
        do {
          pcVar2[-2] = pcVar2[-2] + pcVar2[-1];
          *pcVar2 = *pcVar2 + pcVar2[-1];
          pcVar2 = pcVar2 + iVar7;
          iVar5 = iVar5 + -1;
        } while (iVar5 != 0);
        return;
      }
    }
    else if (*(char *)((int)in_EAX + 9) == '\x10') {
      if (bVar1 == 2) {
        local_8 = 6;
      }
      else {
        if (bVar1 != 6) {
          return;
        }
        local_8 = 8;
      }
      if (iVar5 != 0) {
        puVar3 = (undefined *)(param_1 + 1);
        do {
          uVar4 = (uint)CONCAT11(puVar3[-1],*puVar3) + (uint)CONCAT11(puVar3[1],puVar3[2]) & 0xffff;
          uVar6 = (uint)CONCAT11(puVar3[3],puVar3[4]) + (uint)CONCAT11(puVar3[1],puVar3[2]) & 0xffff
          ;
          *puVar3 = (char)uVar4;
          puVar3[-1] = (char)(uVar4 >> 8);
          puVar3[3] = (char)(uVar6 >> 8);
          puVar3[4] = (char)uVar6;
          puVar3 = puVar3 + local_8;
          iVar5 = iVar5 + -1;
        } while (iVar5 != 0);
      }
    }
  }
  return;
}



void __fastcall FUN_00446d40(int param_1)

{
  byte *in_EAX;
  byte *pbVar1;
  int iVar2;
  
  if (*(char *)(param_1 + 8) == '\0') {
    iVar2 = *(int *)(param_1 + 4);
    if (iVar2 != 0) {
      do {
        *in_EAX = ~*in_EAX;
        in_EAX = in_EAX + 1;
        iVar2 = iVar2 + -1;
      } while (iVar2 != 0);
      return;
    }
  }
  else if (*(char *)(param_1 + 8) == '\x04') {
    if (*(char *)(param_1 + 9) == '\b') {
      if (*(int *)(param_1 + 4) != 0) {
        iVar2 = (*(int *)(param_1 + 4) - 1U >> 1) + 1;
        do {
          *in_EAX = ~*in_EAX;
          in_EAX = in_EAX + 2;
          iVar2 = iVar2 + -1;
        } while (iVar2 != 0);
        return;
      }
    }
    else if ((*(char *)(param_1 + 9) == '\x10') && (*(int *)(param_1 + 4) != 0)) {
      pbVar1 = in_EAX + 1;
      iVar2 = (*(int *)(param_1 + 4) - 1U >> 2) + 1;
      do {
        pbVar1[-1] = ~pbVar1[-1];
        *pbVar1 = ~*pbVar1;
        pbVar1 = pbVar1 + 4;
        iVar2 = iVar2 + -1;
      } while (iVar2 != 0);
    }
  }
  return;
}



void __fastcall FUN_00446db0(int param_1)

{
  byte bVar1;
  byte *in_EAX;
  byte *pbVar2;
  undefined *puVar3;
  
  bVar1 = *(byte *)(param_1 + 9);
  if (bVar1 < 8) {
    pbVar2 = in_EAX + *(int *)(param_1 + 4);
    if (bVar1 == 1) {
      puVar3 = (undefined *)0x4623d8;
    }
    else if (bVar1 == 2) {
      puVar3 = &DAT_004624d8;
    }
    else {
      if (bVar1 != 4) {
        return;
      }
      puVar3 = &DAT_004625d8;
    }
    if (in_EAX < pbVar2) {
      do {
        *in_EAX = puVar3[*in_EAX];
        in_EAX = in_EAX + 1;
      } while (in_EAX < pbVar2);
    }
  }
  return;
}



void __fastcall FUN_00446e00(undefined4 param_1,int param_2)

{
  undefined *puVar1;
  undefined *puVar2;
  undefined *puVar3;
  int unaff_EDI;
  
  puVar3 = (undefined *)(*(int *)(param_2 + 4) + unaff_EDI);
  if (*(char *)(param_2 + 10) == '\x02') {
    if (*(char *)(param_2 + 9) == '\b') {
      puVar1 = (undefined *)(unaff_EDI + 1);
      for (puVar2 = (undefined *)(unaff_EDI + 2); puVar2 < puVar3; puVar2 = puVar2 + 2) {
        *puVar1 = *puVar2;
        puVar1 = puVar1 + 1;
      }
      *(undefined *)(param_2 + 0xb) = 8;
    }
    else {
      if (*(char *)(param_2 + 9) != '\x10') {
        return;
      }
      puVar1 = (undefined *)(unaff_EDI + 2);
      for (puVar2 = (undefined *)(unaff_EDI + 4); puVar2 < puVar3; puVar2 = puVar2 + 4) {
        *puVar1 = *puVar2;
        puVar1[1] = puVar2[1];
        puVar1 = puVar1 + 2;
      }
      *(undefined *)(param_2 + 0xb) = 0x10;
    }
    *(undefined *)(param_2 + 10) = 1;
    if (*(char *)(param_2 + 8) == '\x04') {
      *(undefined *)(param_2 + 8) = 0;
      *(int *)(param_2 + 4) = (int)puVar1 - unaff_EDI;
      return;
    }
  }
  else {
    if (*(char *)(param_2 + 10) != '\x04') {
      return;
    }
    if (*(char *)(param_2 + 9) == '\b') {
      puVar1 = (undefined *)(unaff_EDI + 3);
      for (puVar2 = (undefined *)(unaff_EDI + 4); puVar2 < puVar3; puVar2 = puVar2 + 4) {
        *puVar1 = *puVar2;
        puVar1[1] = puVar2[1];
        puVar1[2] = puVar2[2];
        puVar1 = puVar1 + 3;
      }
      *(undefined *)(param_2 + 0xb) = 0x18;
    }
    else {
      if (*(char *)(param_2 + 9) != '\x10') {
        return;
      }
      puVar1 = (undefined *)(unaff_EDI + 6);
      for (puVar2 = (undefined *)(unaff_EDI + 8); puVar2 < puVar3; puVar2 = puVar2 + 8) {
        *puVar1 = *puVar2;
        puVar1[1] = puVar2[1];
        puVar1[2] = puVar2[2];
        puVar1[3] = puVar2[3];
        puVar1[4] = puVar2[4];
        puVar1[5] = puVar2[5];
        puVar1 = puVar1 + 6;
      }
      *(undefined *)(param_2 + 0xb) = 0x30;
    }
    *(undefined *)(param_2 + 10) = 3;
    if (*(char *)(param_2 + 8) == '\x06') {
      *(undefined *)(param_2 + 8) = 2;
    }
  }
  *(int *)(param_2 + 4) = (int)puVar1 - unaff_EDI;
  return;
}



void __fastcall FUN_00446f10(undefined4 param_1,int *param_2)

{
  byte bVar1;
  undefined uVar2;
  undefined *in_EAX;
  undefined *puVar3;
  int iVar4;
  
  bVar1 = *(byte *)(param_2 + 2);
  if ((bVar1 & 2) != 0) {
    iVar4 = *param_2;
    if (*(char *)((int)param_2 + 9) == '\b') {
      if (bVar1 == 2) {
        if (iVar4 != 0) {
          do {
            uVar2 = *in_EAX;
            *in_EAX = in_EAX[2];
            in_EAX[2] = uVar2;
            in_EAX = in_EAX + 3;
            iVar4 = iVar4 + -1;
          } while (iVar4 != 0);
          return;
        }
      }
      else if ((bVar1 == 6) && (iVar4 != 0)) {
        do {
          uVar2 = *in_EAX;
          *in_EAX = in_EAX[2];
          in_EAX[2] = uVar2;
          in_EAX = in_EAX + 4;
          iVar4 = iVar4 + -1;
        } while (iVar4 != 0);
        return;
      }
    }
    else if (*(char *)((int)param_2 + 9) == '\x10') {
      if (bVar1 == 2) {
        if (iVar4 != 0) {
          puVar3 = in_EAX + 1;
          do {
            uVar2 = puVar3[-1];
            puVar3[-1] = puVar3[3];
            puVar3[3] = uVar2;
            uVar2 = *puVar3;
            *puVar3 = puVar3[4];
            puVar3[4] = uVar2;
            puVar3 = puVar3 + 6;
            iVar4 = iVar4 + -1;
          } while (iVar4 != 0);
          return;
        }
      }
      else if ((bVar1 == 6) && (iVar4 != 0)) {
        puVar3 = in_EAX + 1;
        do {
          uVar2 = puVar3[-1];
          puVar3[-1] = puVar3[3];
          puVar3[3] = uVar2;
          uVar2 = *puVar3;
          *puVar3 = puVar3[4];
          puVar3[4] = uVar2;
          puVar3 = puVar3 + 8;
          iVar4 = iVar4 + -1;
        } while (iVar4 != 0);
      }
    }
  }
  return;
}



void FUN_00446fe0(void)

{
  byte *pbVar1;
  int *in_EAX;
  byte *pbVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  sbyte sVar6;
  int unaff_EDI;
  
  if (((int)(uint)*(ushort *)(unaff_EDI + 300) < 1 << (*(byte *)((int)in_EAX + 9) & 0x1f)) &&
     (*(ushort *)(unaff_EDI + 300) != 0)) {
    pbVar1 = *(byte **)(unaff_EDI + 0x108);
    uVar3 = -((uint)*(byte *)((int)in_EAX + 0xb) * *in_EAX) & 7;
    pbVar2 = pbVar1 + in_EAX[1];
    switch(*(byte *)((int)in_EAX + 9)) {
    case 1:
      if (pbVar1 < pbVar2) {
        do {
          if (*pbVar2 >> (sbyte)uVar3 != 0) {
            *(undefined4 *)(unaff_EDI + 0x130) = 1;
          }
          pbVar2 = pbVar2 + -1;
          uVar3 = 0;
        } while (*(byte **)(unaff_EDI + 0x108) <= pbVar2 && pbVar2 != *(byte **)(unaff_EDI + 0x108))
        ;
        return;
      }
      break;
    case 2:
      if (pbVar1 < pbVar2) {
        uVar4 = *(uint *)(unaff_EDI + 0x130);
        do {
          sVar6 = (sbyte)uVar3;
          uVar3 = *pbVar2 >> sVar6 & 3;
          if ((int)uVar4 < (int)uVar3) {
            *(uint *)(unaff_EDI + 0x130) = uVar3;
            uVar4 = uVar3;
          }
          uVar3 = (byte)((*pbVar2 >> sVar6) >> 2) & 3;
          if ((int)uVar4 < (int)uVar3) {
            *(uint *)(unaff_EDI + 0x130) = uVar3;
            uVar4 = uVar3;
          }
          uVar3 = (byte)((*pbVar2 >> sVar6) >> 4) & 3;
          if ((int)uVar4 < (int)uVar3) {
            *(uint *)(unaff_EDI + 0x130) = uVar3;
            uVar4 = uVar3;
          }
          uVar3 = (uint)(byte)((*pbVar2 >> sVar6) >> 6);
          if ((int)uVar4 < (int)uVar3) {
            *(uint *)(unaff_EDI + 0x130) = uVar3;
            uVar4 = uVar3;
          }
          pbVar2 = pbVar2 + -1;
          uVar3 = 0;
        } while (*(byte **)(unaff_EDI + 0x108) <= pbVar2 && pbVar2 != *(byte **)(unaff_EDI + 0x108))
        ;
        return;
      }
      break;
    case 4:
      if (pbVar1 < pbVar2) {
        uVar4 = *(uint *)(unaff_EDI + 0x130);
        do {
          uVar5 = *pbVar2 >> (sbyte)uVar3 & 0xf;
          if ((int)uVar4 < (int)uVar5) {
            *(uint *)(unaff_EDI + 0x130) = uVar5;
            uVar4 = uVar5;
          }
          uVar3 = (uint)(byte)((*pbVar2 >> (sbyte)uVar3) >> 4);
          if ((int)uVar4 < (int)uVar3) {
            *(uint *)(unaff_EDI + 0x130) = uVar3;
            uVar4 = uVar3;
          }
          pbVar2 = pbVar2 + -1;
          uVar3 = 0;
        } while (*(byte **)(unaff_EDI + 0x108) <= pbVar2 && pbVar2 != *(byte **)(unaff_EDI + 0x108))
        ;
        return;
      }
      break;
    case 8:
      if (pbVar1 < pbVar2) {
        uVar3 = *(uint *)(unaff_EDI + 0x130);
        do {
          uVar4 = (uint)*pbVar2;
          if ((int)uVar3 < (int)uVar4) {
            *(uint *)(unaff_EDI + 0x130) = uVar4;
            uVar3 = uVar4;
          }
          pbVar2 = pbVar2 + -1;
        } while (*(byte **)(unaff_EDI + 0x108) <= pbVar2 && pbVar2 != *(byte **)(unaff_EDI + 0x108))
        ;
      }
    }
  }
  return;
}



void __cdecl FUN_00447170(int param_1,int param_2,int param_3,int param_4,int param_5,int param_6)

{
  int in_EAX;
  int iVar1;
  int unaff_EBX;
  int unaff_ESI;
  undefined4 unaff_EDI;
  
  if ((in_EAX != 0) && (unaff_ESI != 0)) {
    iVar1 = FUN_0043ca60(unaff_EBX,param_5,in_EAX,param_1,param_2,param_3,param_4,param_6);
    if (iVar1 != 0) {
      *(uint *)(unaff_ESI + 8) = *(uint *)(unaff_ESI + 8) | 4;
      *(int *)(unaff_ESI + 0x80) = param_1;
      *(int *)(unaff_ESI + 0x84) = param_2;
      *(int *)(unaff_ESI + 0x88) = param_3;
      *(int *)(unaff_ESI + 0x8c) = param_4;
      *(int *)(unaff_ESI + 0x90) = param_5;
      *(int *)(unaff_ESI + 0x94) = param_6;
      *(int *)(unaff_ESI + 0x98) = unaff_EBX;
      *(undefined4 *)(unaff_ESI + 0x9c) = unaff_EDI;
    }
  }
  return;
}



void __fastcall FUN_004471f0(int param_1,int param_2)

{
  int in_EAX;
  
  if ((in_EAX != 0) && (param_1 != 0)) {
    if (0x2540be30 < param_2 - 0x10U) {
      FUN_0043df90("Out of range gamma value ignored");
      return;
    }
    *(uint *)(param_1 + 8) = *(uint *)(param_1 + 8) | 1;
    *(int *)(param_1 + 0x28) = param_2;
  }
  return;
}



void FUN_00447220(void)

{
  undefined4 uVar1;
  int in_EAX;
  void *pvVar2;
  int iVar3;
  int unaff_EBX;
  int unaff_ESI;
  
  if ((in_EAX != 0) && (unaff_ESI != 0)) {
    if ((*(ushort *)(unaff_ESI + 0x14) == 0) || (0x100 < *(ushort *)(unaff_ESI + 0x14))) {
      FUN_0043df90("Invalid palette size, hIST allocation skipped");
      return;
    }
    FUN_0043c360(in_EAX,unaff_ESI,8,0);
    pvVar2 = FUN_0043e420(0x200);
    *(void **)(in_EAX + 0x200) = pvVar2;
    if (pvVar2 == (void *)0x0) {
      FUN_0043df90("Insufficient memory for hIST chunk data");
      return;
    }
    iVar3 = 0;
    if (*(short *)(unaff_ESI + 0x14) != 0) {
      do {
        *(undefined2 *)(*(int *)(in_EAX + 0x200) + iVar3 * 2) =
             *(undefined2 *)(unaff_EBX + iVar3 * 2);
        iVar3 = iVar3 + 1;
      } while (iVar3 < (int)(uint)*(ushort *)(unaff_ESI + 0x14));
    }
    uVar1 = *(undefined4 *)(in_EAX + 0x200);
    *(uint *)(unaff_ESI + 8) = *(uint *)(unaff_ESI + 8) | 0x40;
    *(uint *)(unaff_ESI + 0xb8) = *(uint *)(unaff_ESI + 0xb8) | 8;
    *(undefined4 *)(unaff_ESI + 0x7c) = uVar1;
  }
  return;
}



void __fastcall
FUN_004472c0(undefined4 param_1,uint param_2,int param_3,byte param_4,byte param_5,byte param_6,
            byte param_7,byte param_8)

{
  byte bVar1;
  uint unaff_EBX;
  uint *unaff_ESI;
  
  if ((param_3 != 0) && (unaff_ESI != (uint *)0x0)) {
    *(byte *)(unaff_ESI + 6) = param_4;
    *(byte *)((int)unaff_ESI + 0x1b) = param_8;
    *(byte *)((int)unaff_ESI + 0x19) = param_5;
    *(byte *)((int)unaff_ESI + 0x1a) = param_7;
    *(byte *)(unaff_ESI + 7) = param_6;
    unaff_ESI[1] = param_2;
    *unaff_ESI = unaff_EBX;
    FUN_0043cfd0(param_2,(uint)param_4,(uint)param_5,(uint)param_6,(uint)param_7,(uint)param_8);
    bVar1 = *(byte *)((int)unaff_ESI + 0x19);
    if ((bVar1 == 3) || ((bVar1 & 2) == 0)) {
      *(undefined *)((int)unaff_ESI + 0x1d) = 1;
    }
    else {
      *(undefined *)((int)unaff_ESI + 0x1d) = 3;
    }
    if ((bVar1 & 4) != 0) {
      *(char *)((int)unaff_ESI + 0x1d) = *(char *)((int)unaff_ESI + 0x1d) + '\x01';
    }
    bVar1 = *(char *)(unaff_ESI + 6) * *(char *)((int)unaff_ESI + 0x1d);
    *(byte *)((int)unaff_ESI + 0x1e) = bVar1;
    if (0x1fffff8e < unaff_EBX) {
      unaff_ESI[3] = 0;
      return;
    }
    if (7 < bVar1) {
      unaff_ESI[3] = (bVar1 >> 3) * unaff_EBX;
      return;
    }
    unaff_ESI[3] = bVar1 * unaff_EBX + 7 >> 3;
  }
  return;
}



void __cdecl
FUN_00447380(int param_1,LPCSTR param_2,undefined4 param_3,undefined4 param_4,uint param_5,
            int param_6,LPCSTR param_7,int param_8)

{
  size_t _Size;
  code *pcVar1;
  char *in_EAX;
  int iVar2;
  uint uVar3;
  uint uVar4;
  void *pvVar5;
  int iVar6;
  uint local_10;
  uint local_c;
  size_t local_8;
  
  if ((param_1 != 0) && (in_EAX != (char *)0x0)) {
    iVar2 = lstrlenA(param_2);
    local_8 = iVar2 + 1;
    if (3 < param_5) {
      FUN_0043de50();
      pcVar1 = (code *)swi(3);
      (*pcVar1)();
      return;
    }
    iVar2 = 0;
    if (0 < param_6) {
      do {
        uVar3 = lstrlenA(*(LPCSTR *)(param_8 + iVar2 * 4));
        local_10 = 0;
        local_c = 0;
        iVar6 = *(int *)(param_8 + iVar2 * 4);
        uVar4 = FUN_0043d1c0(iVar6,&local_10,&local_c);
        if ((uVar4 == 0) ||
           (((local_c != uVar3 && (*(char *)(local_c + iVar6) != '\0')) || (local_10 == 0)))) {
          in_EAX = "Invalid format for pCAL parameter";
          pvVar5 = (void *)FUN_0043de50();
          goto LAB_00447449;
        }
        iVar2 = iVar2 + 1;
      } while (iVar2 < param_6);
    }
    pvVar5 = FUN_0043e420(local_8);
    *(void **)(in_EAX + 0xa0) = pvVar5;
    if (pvVar5 == (void *)0x0) {
      FUN_0043df90("Insufficient memory for pCAL purpose");
      return;
    }
LAB_00447449:
    memcpy(pvVar5,param_2,local_8);
    *(undefined4 *)(in_EAX + 0xa8) = param_4;
    *(undefined4 *)(in_EAX + 0xa4) = param_3;
    in_EAX[0xb4] = (char)param_5;
    in_EAX[0xb5] = (char)param_6;
    iVar2 = lstrlenA(param_7);
    pvVar5 = FUN_0043e420(iVar2 + 1U);
    *(void **)(in_EAX + 0xac) = pvVar5;
    if (pvVar5 != (void *)0x0) {
      memcpy(pvVar5,param_7,iVar2 + 1U);
      _Size = param_6 * 4 + 4;
      pvVar5 = FUN_0043e420(_Size);
      *(void **)(in_EAX + 0xb0) = pvVar5;
      if (pvVar5 == (void *)0x0) {
        FUN_0043df90("Insufficient memory for pCAL params");
        return;
      }
      memset(pvVar5,0,_Size);
      iVar2 = 0;
      if (0 < param_6) {
        do {
          iVar6 = lstrlenA(*(LPCSTR *)(param_8 + iVar2 * 4));
          local_8 = iVar6 + 1;
          pvVar5 = FUN_0043e420(local_8);
          *(void **)(*(int *)(in_EAX + 0xb0) + iVar2 * 4) = pvVar5;
          if (*(int *)(*(int *)(in_EAX + 0xb0) + iVar2 * 4) == 0) {
            FUN_0043df90("Insufficient memory for pCAL parameter");
            return;
          }
          memcpy(*(void **)(*(int *)(in_EAX + 0xb0) + iVar2 * 4),*(void **)(param_8 + iVar2 * 4),
                 local_8);
          iVar2 = iVar2 + 1;
        } while (iVar2 < param_6);
      }
      *(uint *)(in_EAX + 8) = *(uint *)(in_EAX + 8) | 0x400;
      *(uint *)(in_EAX + 0xb8) = *(uint *)(in_EAX + 0xb8) | 0x80;
      return;
    }
    FUN_0043df90("Insufficient memory for pCAL units");
  }
  return;
}



void __cdecl FUN_00447590(int param_1,LPCSTR param_2,LPCSTR param_3)

{
  code *pcVar1;
  int in_EAX;
  int iVar2;
  uint uVar3;
  int iVar4;
  void *pvVar5;
  int unaff_EBX;
  
  if ((in_EAX == 0) || (unaff_EBX == 0)) {
    return;
  }
  if ((param_1 != 1) && (param_1 != 2)) {
    FUN_0043de50();
  }
  if ((((param_2 != (LPCSTR)0x0) && (iVar2 = lstrlenA(param_2), iVar2 != 0)) && (*param_2 != '-'))
     && (uVar3 = FUN_0043d350(), uVar3 != 0)) {
    if (((param_3 != (LPCSTR)0x0) && (iVar4 = lstrlenA(param_3), iVar4 != 0)) &&
       ((*param_3 != '-' && (uVar3 = FUN_0043d350(), uVar3 != 0)))) {
      *(undefined *)(unaff_EBX + 0xdc) = (undefined)param_1;
      pvVar5 = FUN_0043e420(iVar2 + 1U);
      *(void **)(unaff_EBX + 0xe0) = pvVar5;
      if (pvVar5 != (void *)0x0) {
        memcpy(pvVar5,param_2,iVar2 + 1U);
        pvVar5 = FUN_0043e420(iVar4 + 1U);
        *(void **)(unaff_EBX + 0xe4) = pvVar5;
        if (pvVar5 != (void *)0x0) {
          memcpy(pvVar5,param_3,iVar4 + 1U);
          *(uint *)(unaff_EBX + 8) = *(uint *)(unaff_EBX + 8) | 0x4000;
          *(uint *)(unaff_EBX + 0xb8) = *(uint *)(unaff_EBX + 0xb8) | 0x100;
          return;
        }
        FUN_0043e3f0(in_EAX,*(void **)(unaff_EBX + 0xe0));
        *(undefined4 *)(unaff_EBX + 0xe0) = 0;
      }
      FUN_0043df90("Memory allocation failed while processing sCAL");
      return;
    }
    FUN_0043de50();
  }
  FUN_0043de50();
  pcVar1 = (code *)swi(3);
  (*pcVar1)();
  return;
}



void __cdecl FUN_004476e0(void *param_1)

{
  int in_EAX;
  void *_Dst;
  uint unaff_EBX;
  int unaff_EDI;
  
  if ((unaff_EDI != 0) && (in_EAX != 0)) {
    if (0x100 < unaff_EBX) {
      if (*(char *)(in_EAX + 0x19) == '\x03') {
        FUN_0043de50();
      }
      FUN_0043df90("Invalid palette length");
      return;
    }
    FUN_0043c360(unaff_EDI,in_EAX,0x1000,0);
    _Dst = FUN_0043e350(unaff_EDI);
    *(void **)(unaff_EDI + 0x128) = _Dst;
    memcpy(_Dst,param_1,unaff_EBX * 3);
    *(undefined4 *)(in_EAX + 0x10) = *(undefined4 *)(unaff_EDI + 0x128);
    *(short *)(unaff_EDI + 300) = (short)unaff_EBX;
    *(uint *)(in_EAX + 0xb8) = *(uint *)(in_EAX + 0xb8) | 0x1000;
    *(uint *)(in_EAX + 8) = *(uint *)(in_EAX + 8) | 8;
    *(short *)(in_EAX + 0x14) = (short)unaff_EBX;
  }
  return;
}



void __thiscall FUN_00447770(void *this,undefined param_1)

{
  int in_EAX;
  
  if ((in_EAX != 0) && (this != (void *)0x0)) {
    *(uint *)((int)this + 8) = *(uint *)((int)this + 8) | 0x801;
    *(undefined *)((int)this + 0x2c) = param_1;
    *(undefined4 *)((int)this + 0x28) = 0xb18f;
    FUN_00447170(0x7a26,0x8084,64000,33000,30000,60000);
  }
  return;
}



void __cdecl FUN_004477d0(LPCSTR param_1,undefined param_2,void *param_3,size_t param_4)

{
  int iVar1;
  void *_Dst;
  void *_Dst_00;
  int unaff_EBX;
  int unaff_ESI;
  
  if ((((unaff_EBX != 0) && (unaff_ESI != 0)) && (param_1 != (LPCSTR)0x0)) &&
     (param_3 != (void *)0x0)) {
    iVar1 = lstrlenA(param_1);
    _Dst = FUN_0043e420(iVar1 + 1U);
    if (_Dst == (void *)0x0) {
      FUN_0043df90("Insufficient memory to process iCCP chunk");
      return;
    }
    memcpy(_Dst,param_1,iVar1 + 1U);
    _Dst_00 = FUN_0043e420(param_4);
    if (_Dst_00 == (void *)0x0) {
      FUN_0043e3f0(unaff_EBX,_Dst);
      FUN_0043df90("Insufficient memory to process iCCP profile");
      return;
    }
    memcpy(_Dst_00,param_3,param_4);
    FUN_0043c360(unaff_EBX,unaff_ESI,0x10,0);
    *(uint *)(unaff_ESI + 0xb8) = *(uint *)(unaff_ESI + 0xb8) | 0x10;
    *(uint *)(unaff_ESI + 8) = *(uint *)(unaff_ESI + 8) | 0x1000;
    *(void **)(unaff_ESI + 200) = _Dst_00;
    *(size_t *)(unaff_ESI + 0xcc) = param_4;
    *(void **)(unaff_ESI + 0xc4) = _Dst;
    *(undefined *)(unaff_ESI + 0xd0) = param_2;
  }
  return;
}



undefined4 __cdecl FUN_004478c0(int param_1,int param_2,int param_3)

{
  LPCSTR *ppCVar1;
  int iVar2;
  int iVar3;
  void *_Dst;
  void *pvVar4;
  size_t _Size;
  LPCSTR pCVar5;
  LPCSTR *ppCVar6;
  int local_18;
  LPCSTR local_10;
  size_t local_c;
  size_t local_8;
  
  if ((param_1 == 0) || (param_2 == 0)) {
    return 0;
  }
  iVar2 = *(int *)(param_2 + 0x30);
  iVar3 = *(int *)(param_2 + 0x34);
  if (iVar3 < iVar2 + 1) {
    pvVar4 = *(void **)(param_2 + 0x38);
    if (pvVar4 != (void *)0x0) {
      *(int *)(param_2 + 0x34) = iVar2 + 9;
      _Dst = FUN_0043e420((iVar2 + 9) * 0x1c);
      *(void **)(param_2 + 0x38) = _Dst;
      if (_Dst == (void *)0x0) {
        *(int *)(param_2 + 0x34) = iVar3;
        *(void **)(param_2 + 0x38) = pvVar4;
        return 1;
      }
      memcpy(_Dst,pvVar4,iVar3 * 0x1c);
      FUN_0043e3f0(param_1,pvVar4);
      local_18 = 0;
      ppCVar6 = (LPCSTR *)(param_3 + 0x14);
      goto LAB_004479c3;
    }
    *(undefined4 *)(param_2 + 0x34) = 9;
    *(undefined4 *)(param_2 + 0x30) = 0;
    pvVar4 = FUN_0043e420(*(int *)(param_2 + 0x34) * 0x1c);
    *(void **)(param_2 + 0x38) = pvVar4;
    if (pvVar4 == (void *)0x0) {
      *(int *)(param_2 + 0x34) = iVar3;
      *(int *)(param_2 + 0x30) = iVar2;
      return 1;
    }
    *(uint *)(param_2 + 0xb8) = *(uint *)(param_2 + 0xb8) | 0x4000;
  }
  local_18 = 0;
  ppCVar6 = (LPCSTR *)(param_3 + 0x14);
LAB_004479c3:
  do {
    ppCVar1 = (LPCSTR *)(*(int *)(param_2 + 0x38) + *(int *)(param_2 + 0x30) * 0x1c);
    if (ppCVar6[-4] != (LPCSTR)0x0) {
      if (((int)ppCVar6[-5] < -1) || (2 < (int)ppCVar6[-5])) {
        FUN_0043df90("text compression mode is out of range");
      }
      else {
        _Size = lstrlenA(ppCVar6[-4]);
        if ((int)ppCVar6[-5] < 1) {
          local_8 = 0;
LAB_00447a0b:
          local_c = 0;
        }
        else {
          if (*ppCVar6 == (LPCSTR)0x0) {
            local_8 = 0;
          }
          else {
            local_8 = lstrlenA(*ppCVar6);
          }
          if (ppCVar6[1] == (LPCSTR)0x0) goto LAB_00447a0b;
          local_c = lstrlenA(ppCVar6[1]);
        }
        pCVar5 = ppCVar6[-3];
        if ((pCVar5 == (LPCSTR)0x0) || (*pCVar5 == '\0')) {
          local_10 = (LPCSTR)0x0;
          *ppCVar1 = (LPCSTR)((uint)(0 < (int)ppCVar6[-5]) * 2 + -1);
        }
        else {
          local_10 = (LPCSTR)lstrlenA(pCVar5);
          *ppCVar1 = ppCVar6[-5];
        }
        pCVar5 = (LPCSTR)FUN_0043e420((size_t)(local_10 + _Size + local_8 + local_c + 4));
        ppCVar1[1] = pCVar5;
        if (pCVar5 == (LPCSTR)0x0) {
          return 1;
        }
        memcpy(pCVar5,ppCVar6[-4],_Size);
        ppCVar1[1][_Size] = '\0';
        if ((int)ppCVar6[-5] < 1) {
          ppCVar1[5] = (LPCSTR)0x0;
          ppCVar1[6] = (LPCSTR)0x0;
          pCVar5 = ppCVar1[1] + _Size + 1;
        }
        else {
          ppCVar1[5] = ppCVar1[1] + _Size + 1;
          memcpy(ppCVar1[1] + _Size + 1,*ppCVar6,local_8);
          ppCVar1[5][local_8] = '\0';
          ppCVar1[6] = ppCVar1[5] + local_8 + 1;
          memcpy(ppCVar1[5] + local_8 + 1,ppCVar6[1],local_c);
          ppCVar1[6][local_c] = '\0';
          pCVar5 = ppCVar1[6] + local_c + 1;
        }
        ppCVar1[2] = pCVar5;
        if (local_10 != (LPCSTR)0x0) {
          memcpy(pCVar5,ppCVar6[-3],(size_t)local_10);
        }
        local_10[(int)ppCVar1[2]] = '\0';
        if ((int)*ppCVar1 < 1) {
          ppCVar1[4] = (LPCSTR)0x0;
          ppCVar1[3] = local_10;
          *(int *)(param_2 + 0x30) = *(int *)(param_2 + 0x30) + 1;
        }
        else {
          ppCVar1[3] = (LPCSTR)0x0;
          ppCVar1[4] = local_10;
          *(int *)(param_2 + 0x30) = *(int *)(param_2 + 0x30) + 1;
        }
      }
    }
    local_18 = local_18 + 1;
    ppCVar6 = ppCVar6 + 7;
    if (0 < local_18) {
      return 0;
    }
  } while( true );
}



void __fastcall FUN_00447b70(undefined4 *param_1,int param_2)

{
  undefined4 uVar1;
  undefined4 uVar2;
  int in_EAX;
  
  if (((in_EAX != 0) && (param_2 != 0)) && ((*(uint *)(in_EAX + 0x6c) & 0x200) == 0)) {
    if (((((*(byte *)((int)param_1 + 2) == 0) || (0xc < *(byte *)((int)param_1 + 2))) ||
         ((*(byte *)((int)param_1 + 3) == 0 ||
          ((0x1f < *(byte *)((int)param_1 + 3) || (0x17 < *(byte *)(param_1 + 1))))))) ||
        (0x3b < *(byte *)((int)param_1 + 5))) || (0x3c < *(byte *)((int)param_1 + 6))) {
      FUN_0043df90("Ignoring invalid time value");
      return;
    }
    uVar1 = *param_1;
    uVar2 = param_1[1];
    *(uint *)(param_2 + 8) = *(uint *)(param_2 + 8) | 0x200;
    *(undefined4 *)(param_2 + 0x3c) = uVar1;
    *(undefined4 *)(param_2 + 0x40) = uVar2;
  }
  return;
}



void __cdecl FUN_00447bd0(void *param_1,size_t param_2)

{
  char *in_EAX;
  void *pvVar1;
  int iVar2;
  undefined4 *unaff_EBX;
  int unaff_EDI;
  
  if ((unaff_EDI != 0) && (in_EAX != (char *)0x0)) {
    if (param_1 != (void *)0x0) {
      FUN_0043c360(unaff_EDI,(int)in_EAX,0x2000,0);
      if (*(code **)(unaff_EDI + 0x264) == (code *)0x0) {
        pvVar1 = malloc(0x100);
      }
      else {
        pvVar1 = (void *)(**(code **)(unaff_EDI + 0x264))();
      }
      if ((pvVar1 == (void *)0x0) && ((*(uint *)(unaff_EDI + 0x70) & 0x100000) == 0)) {
        in_EAX = s_Out_of_Memory_0046968c;
        pvVar1 = (void *)FUN_0043de50();
      }
      *(void **)(in_EAX + 0x4c) = pvVar1;
      *(void **)(unaff_EDI + 0x1a4) = pvVar1;
      if (param_2 - 1 < 0x100) {
        memcpy(*(void **)(in_EAX + 0x4c),param_1,param_2);
      }
    }
    if (unaff_EBX != (undefined4 *)0x0) {
      iVar2 = 1 << (in_EAX[0x18] & 0x1fU);
      if (((in_EAX[0x19] == '\0') && (iVar2 < (int)(uint)*(ushort *)(unaff_EBX + 2))) ||
         ((in_EAX[0x19] == '\x02' &&
          (((iVar2 < (int)(uint)*(ushort *)((int)unaff_EBX + 2) ||
            (iVar2 < (int)(uint)*(ushort *)(unaff_EBX + 1))) ||
           (iVar2 < (int)(uint)*(ushort *)((int)unaff_EBX + 6))))))) {
        FUN_0043df90("tRNS chunk has out-of-range samples for bit_depth");
      }
      *(undefined4 *)(in_EAX + 0x50) = *unaff_EBX;
      *(undefined4 *)(in_EAX + 0x54) = unaff_EBX[1];
      *(undefined2 *)(in_EAX + 0x58) = *(undefined2 *)(unaff_EBX + 2);
      if (param_2 == 0) {
        param_2 = 1;
      }
    }
    *(short *)(in_EAX + 0x16) = (short)param_2;
    if (param_2 != 0) {
      *(uint *)(in_EAX + 8) = *(uint *)(in_EAX + 8) | 0x10;
      *(uint *)(in_EAX + 0xb8) = *(uint *)(in_EAX + 0xb8) | 0x2000;
    }
  }
  return;
}



void __cdecl FUN_00447ce0(int param_1,int param_2)

{
  uint uVar1;
  code *pcVar2;
  void *_Dst;
  int iVar3;
  void *pvVar4;
  int unaff_EBX;
  void **ppvVar5;
  size_t _Size;
  int local_c;
  void **local_8;
  
  if ((unaff_EBX != 0) && (param_1 != 0)) {
    _Dst = FUN_0043e420((*(int *)(param_1 + 0xd8) + 1) * 0x10);
    if (_Dst == (void *)0x0) {
      FUN_0043df90("No memory for sPLT palettes");
      return;
    }
    memcpy(_Dst,*(void **)(param_1 + 0xd4),*(int *)(param_1 + 0xd8) << 4);
    if (*(void **)(param_1 + 0xd4) != (void *)0x0) {
      if (*(code **)(unaff_EBX + 0x268) == (code *)0x0) {
        free(*(void **)(param_1 + 0xd4));
      }
      else {
        (**(code **)(unaff_EBX + 0x268))();
      }
    }
    local_8 = (void **)(param_2 + 0xc);
    *(undefined4 *)(param_1 + 0xd4) = 0;
    local_c = 0;
    do {
      ppvVar5 = (void **)((*(int *)(param_1 + 0xd8) + local_c) * 0x10 + (int)_Dst);
      iVar3 = lstrlenA((LPCSTR)local_8[-3]);
      uVar1 = *(uint *)(unaff_EBX + 0x70);
      _Size = iVar3 + 1;
      *(uint *)(unaff_EBX + 0x70) = uVar1 | 0x100000;
      if (_Size == 0) {
        pvVar4 = (void *)0x0;
      }
      else {
        if (*(code **)(unaff_EBX + 0x264) == (code *)0x0) {
          pvVar4 = malloc(_Size);
        }
        else {
          pvVar4 = (void *)(**(code **)(unaff_EBX + 0x264))();
        }
        if ((pvVar4 == (void *)0x0) && ((*(uint *)(unaff_EBX + 0x70) & 0x100000) == 0)) {
          FUN_0043de50();
          pcVar2 = (code *)swi(3);
          (*pcVar2)();
          return;
        }
      }
      *(uint *)(unaff_EBX + 0x70) = uVar1;
      *ppvVar5 = pvVar4;
      if (pvVar4 == (void *)0x0) {
        FUN_0043df90("Out of memory while processing sPLT chunk");
      }
      else {
        memcpy(pvVar4,local_8[-3],_Size);
        pvVar4 = FUN_0043e420((int)*local_8 * 10);
        ppvVar5[2] = pvVar4;
        if (pvVar4 == (void *)0x0) {
          FUN_0043df90("Out of memory while processing sPLT chunk");
          if (*ppvVar5 != (void *)0x0) {
            if (*(code **)(unaff_EBX + 0x268) != (code *)0x0) {
              (**(code **)(unaff_EBX + 0x268))();
              *ppvVar5 = (void *)0x0;
              goto LAB_00447e91;
            }
            free(*ppvVar5);
          }
          *ppvVar5 = (void *)0x0;
        }
        else {
          memcpy(pvVar4,local_8[-1],(int)*local_8 * 10);
          ppvVar5[3] = *local_8;
          *(undefined *)(ppvVar5 + 1) = *(undefined *)(local_8 + -2);
        }
      }
LAB_00447e91:
      local_c = local_c + 1;
      local_8 = local_8 + 4;
    } while (local_c < 1);
    *(int *)(param_1 + 0xd8) = *(int *)(param_1 + 0xd8) + 1;
    *(uint *)(param_1 + 8) = *(uint *)(param_1 + 8) | 0x2000;
    *(uint *)(param_1 + 0xb8) = *(uint *)(param_1 + 0xb8) | 0x20;
    *(void **)(param_1 + 0xd4) = _Dst;
  }
  return;
}



void __cdecl FUN_00447ee0(undefined4 *param_1)

{
  undefined4 *puVar1;
  int in_EAX;
  void *_Dst;
  void *_Dst_00;
  int unaff_EBX;
  
  if ((in_EAX != 0) && (unaff_EBX != 0)) {
    _Dst = FUN_0043e420((*(int *)(unaff_EBX + 0xc0) * 5 + 5) * 4);
    if (_Dst == (void *)0x0) {
      FUN_0043df90("Out of memory while processing unknown chunk");
      return;
    }
    memcpy(_Dst,*(void **)(unaff_EBX + 0xbc),*(int *)(unaff_EBX + 0xc0) * 0x14);
    if (*(void **)(unaff_EBX + 0xbc) != (void *)0x0) {
      if (*(code **)(in_EAX + 0x268) == (code *)0x0) {
        free(*(void **)(unaff_EBX + 0xbc));
      }
      else {
        (**(code **)(in_EAX + 0x268))();
      }
    }
    *(undefined4 *)(unaff_EBX + 0xbc) = 0;
    puVar1 = (undefined4 *)((int)_Dst + *(int *)(unaff_EBX + 0xc0) * 0x14);
    *puVar1 = *param_1;
    *(undefined *)(puVar1 + 1) = 0;
    puVar1[3] = param_1[3];
    *(undefined *)(puVar1 + 4) = *(undefined *)(in_EAX + 0x6c);
    if (param_1[3] == 0) {
      puVar1[2] = 0;
    }
    else {
      _Dst_00 = FUN_0043e420(param_1[3]);
      puVar1[2] = _Dst_00;
      if (_Dst_00 == (void *)0x0) {
        FUN_0043df90("Out of memory while processing unknown chunk");
        puVar1[3] = 0;
      }
      else {
        memcpy(_Dst_00,(void *)param_1[2],param_1[3]);
      }
    }
    *(int *)(unaff_EBX + 0xc0) = *(int *)(unaff_EBX + 0xc0) + 1;
    *(uint *)(unaff_EBX + 0xb8) = *(uint *)(unaff_EBX + 0xb8) | 0x200;
    *(void **)(unaff_EBX + 0xbc) = _Dst;
  }
  return;
}



undefined4 __fastcall FUN_00448000(undefined4 param_1,int param_2)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  
  if ((param_2 != 0) && (puVar2 = *(undefined4 **)(param_2 + 0x1c), puVar2 != (undefined4 *)0x0)) {
    puVar2[7] = 0;
    *(undefined4 *)(param_2 + 0x14) = 0;
    *(undefined4 *)(param_2 + 8) = 0;
    *(undefined4 *)(param_2 + 0x18) = 0;
    *(undefined4 *)(param_2 + 0x30) = 1;
    *puVar2 = 0;
    puVar2[1] = 0;
    puVar2[3] = 0;
    puVar2[8] = 0;
    puVar2[10] = 0;
    puVar2[0xb] = 0;
    puVar2[0xc] = 0;
    puVar2[0xe] = 0;
    puVar2[0xf] = 0;
    puVar1 = puVar2 + 0x14c;
    puVar2[5] = 0x8000;
    puVar2[0x1b] = puVar1;
    puVar2[0x14] = puVar1;
    puVar2[0x13] = puVar1;
    puVar2[0x6f0] = 1;
    puVar2[0x6f1] = 0xffffffff;
    return 0;
  }
  return 0xfffffffe;
}



undefined4 __fastcall FUN_00448070(undefined4 param_1)

{
  int iVar1;
  undefined4 uVar2;
  undefined4 extraout_ECX;
  int unaff_EDI;
  
  if ((unaff_EDI != 0) && (iVar1 = *(int *)(unaff_EDI + 0x1c), iVar1 != 0)) {
    if ((*(int *)(iVar1 + 0x34) != 0) && (*(int *)(iVar1 + 0x24) != 0xf)) {
      (**(code **)(unaff_EDI + 0x24))(*(undefined4 *)(unaff_EDI + 0x28),*(int *)(iVar1 + 0x34));
      *(undefined4 *)(iVar1 + 0x34) = 0;
      param_1 = extraout_ECX;
    }
    *(undefined4 *)(iVar1 + 8) = 1;
    *(undefined4 *)(iVar1 + 0x24) = 0xf;
    uVar2 = FUN_00448000(param_1,unaff_EDI);
    return uVar2;
  }
  return 0xfffffffe;
}



int FUN_004480c0(void)

{
  int in_EAX;
  int iVar1;
  int iVar2;
  undefined4 extraout_ECX;
  
  if (s_1_2_5_0047aa44[0] != '1') {
    return -6;
  }
  if (in_EAX == 0) {
    return -2;
  }
  *(undefined4 *)(in_EAX + 0x18) = 0;
  if (*(int *)(in_EAX + 0x20) == 0) {
    *(code **)(in_EAX + 0x20) = FUN_0044a0e0;
    *(undefined4 *)(in_EAX + 0x28) = 0;
  }
  if (*(int *)(in_EAX + 0x24) == 0) {
    *(code **)(in_EAX + 0x24) = FUN_0044a100;
  }
  iVar1 = (**(code **)(in_EAX + 0x20))(*(undefined4 *)(in_EAX + 0x28),1,0x1bcc);
  if (iVar1 == 0) {
    return -4;
  }
  *(int *)(in_EAX + 0x1c) = iVar1;
  *(undefined4 *)(iVar1 + 0x34) = 0;
  iVar2 = FUN_00448070(extraout_ECX);
  if (iVar2 != 0) {
    (**(code **)(in_EAX + 0x24))(*(undefined4 *)(in_EAX + 0x28),iVar1);
    *(undefined4 *)(in_EAX + 0x1c) = 0;
  }
  return iVar2;
}



undefined4 FUN_00448150(void)

{
  int iVar1;
  int in_EAX;
  int iVar2;
  uint uVar3;
  int unaff_EBX;
  uint uVar4;
  size_t _Size;
  
  iVar1 = *(int *)(unaff_EBX + 0x1c);
  if (*(int *)(iVar1 + 0x34) == 0) {
    iVar2 = (**(code **)(unaff_EBX + 0x20))
                      (*(undefined4 *)(unaff_EBX + 0x28),
                       1 << ((byte)*(undefined4 *)(iVar1 + 0x24) & 0x1f),1);
    *(int *)(iVar1 + 0x34) = iVar2;
    if (iVar2 == 0) {
      return 1;
    }
  }
  if (*(int *)(iVar1 + 0x28) == 0) {
    *(undefined4 *)(iVar1 + 0x30) = 0;
    *(undefined4 *)(iVar1 + 0x2c) = 0;
    *(int *)(iVar1 + 0x28) = 1 << ((byte)*(undefined4 *)(iVar1 + 0x24) & 0x1f);
  }
  uVar4 = in_EAX - *(int *)(unaff_EBX + 0x10);
  uVar3 = *(uint *)(iVar1 + 0x28);
  if (uVar3 <= uVar4) {
    memcpy(*(void **)(iVar1 + 0x34),(void *)(*(int *)(unaff_EBX + 0xc) - uVar3),uVar3);
    *(undefined4 *)(iVar1 + 0x2c) = *(undefined4 *)(iVar1 + 0x28);
    *(undefined4 *)(iVar1 + 0x30) = 0;
    return 0;
  }
  uVar3 = uVar3 - *(int *)(iVar1 + 0x30);
  if (uVar4 < uVar3) {
    uVar3 = uVar4;
  }
  memcpy((void *)(*(int *)(iVar1 + 0x34) + *(int *)(iVar1 + 0x30)),
         (void *)(*(int *)(unaff_EBX + 0xc) - uVar4),uVar3);
  _Size = uVar4 - uVar3;
  if (_Size != 0) {
    memcpy(*(void **)(iVar1 + 0x34),(void *)(*(int *)(unaff_EBX + 0xc) - _Size),_Size);
    *(size_t *)(iVar1 + 0x30) = _Size;
    *(undefined4 *)(iVar1 + 0x2c) = *(undefined4 *)(iVar1 + 0x28);
    return 0;
  }
  *(int *)(iVar1 + 0x30) = *(int *)(iVar1 + 0x30) + uVar3;
  if (*(uint *)(iVar1 + 0x30) == *(uint *)(iVar1 + 0x28)) {
    *(undefined4 *)(iVar1 + 0x30) = 0;
  }
  if (*(uint *)(iVar1 + 0x2c) < *(uint *)(iVar1 + 0x28)) {
    *(uint *)(iVar1 + 0x2c) = *(uint *)(iVar1 + 0x2c) + uVar3;
  }
  return 0;
}



int __cdecl FUN_00448250(uint **param_1)

{
  byte bVar1;
  undefined2 uVar2;
  uint *puVar3;
  uint *puVar4;
  uint **ppuVar5;
  char cVar6;
  int iVar7;
  uint *puVar9;
  int iVar10;
  uint *puVar11;
  byte bVar12;
  uint *puVar13;
  uint uVar14;
  uint uVar15;
  uint uVar16;
  uint uVar17;
  int local_30;
  int local_2c;
  uint *local_28;
  uint *local_24;
  uint *local_1c;
  undefined2 local_18;
  undefined local_16;
  undefined local_15;
  uint *local_14;
  undefined4 local_10;
  uint *local_c;
  uint *local_8;
  uint *puVar8;
  
  ppuVar5 = param_1;
  if ((((param_1 == (uint **)0x0) || (puVar3 = param_1[7], puVar3 == (uint *)0x0)) ||
      (param_1[3] == (uint *)0x0)) || ((*param_1 == (uint *)0x0 && (param_1[1] != (uint *)0x0)))) {
    return -2;
  }
  if (*puVar3 == 0xb) {
    *puVar3 = 0xc;
  }
  local_1c = param_1[3];
  puVar11 = *param_1;
  local_24 = param_1[4];
  puVar4 = param_1[1];
  uVar15 = puVar3[0xe];
  uVar16 = *puVar3;
  uVar17 = puVar3[0xf];
  local_2c = 0;
  local_c = puVar11;
  local_14 = local_24;
  local_8 = puVar4;
  do {
    puVar13 = puVar11;
    puVar9 = local_10;
    switch(uVar16) {
    case 0:
      if (puVar3[2] == 0) {
        *puVar3 = 0xc;
      }
      else {
        for (; puVar11 = local_c, local_c = puVar11, uVar17 < 0x10; uVar17 = uVar17 + 8) {
          if (local_8 == (uint *)0x0) goto LAB_004495d1;
          local_8 = (uint *)((int)local_8 + -1);
          local_c = (uint *)((int)puVar13 + 1);
          uVar15 = uVar15 + ((uint)*(byte *)puVar13 << ((byte)uVar17 & 0x1f));
          puVar13 = local_c;
        }
        if (((*(byte *)(puVar3 + 2) & 2) == 0) || (uVar15 != 0x8b1f)) {
          puVar3[4] = 0;
          if (puVar3[8] != 0) {
            *(undefined4 *)(puVar3[8] + 0x30) = 0xffffffff;
          }
          if (((*(byte *)(puVar3 + 2) & 1) == 0) ||
             (((uVar15 & 0xff) * 0x100 + (uVar15 >> 8)) % 0x1f != 0)) {
            param_1[6] = (uint *)s_incorrect_header_check_0047aa4c;
          }
          else {
            if (((byte)uVar15 & 0xf) == 8) {
              uVar17 = uVar17 - 4;
              uVar16 = (uVar15 >> 4 & 0xf) + 8;
              if (puVar3[9] == 0) {
                puVar3[9] = uVar16;
              }
              else if (puVar3[9] < uVar16) {
                param_1[6] = (uint *)s_invalid_window_size_0047aa80;
                uVar15 = uVar15 >> 4;
                goto LAB_00449571;
              }
              puVar3[5] = 1 << (sbyte)uVar16;
              puVar11 = (uint *)FUN_00449a60(0,(byte *)0x0);
              puVar3[6] = (uint)puVar11;
              param_1[0xc] = puVar11;
              *puVar3 = ~(uVar15 >> 0xc) & 2 | 9;
              uVar15 = 0;
              uVar17 = 0;
              puVar11 = local_c;
              break;
            }
            param_1[6] = (uint *)s_unknown_compression_method_0047aa64;
          }
          goto LAB_00449571;
        }
        uVar16 = FUN_00449780((uint *)0x0,0,0);
        puVar3[6] = uVar16;
        local_18 = 0x8b1f;
        uVar16 = FUN_004497a0((uint *)&local_18,2);
        uVar15 = 0;
        puVar3[6] = uVar16;
        uVar17 = 0;
        *puVar3 = 1;
        puVar11 = local_c;
      }
      break;
    case 1:
      for (; uVar17 < 0x10; uVar17 = uVar17 + 8) {
        puVar13 = puVar11;
        if (local_8 == (uint *)0x0) goto LAB_004495d1;
        bVar1 = *(byte *)puVar11;
        local_8 = (uint *)((int)local_8 + -1);
        puVar11 = (uint *)((int)puVar11 + 1);
        uVar15 = uVar15 + ((uint)bVar1 << ((byte)uVar17 & 0x1f));
        local_c = puVar11;
      }
      puVar3[4] = uVar15;
      if ((char)uVar15 == '\b') {
        if ((uVar15 & 0xe000) == 0) {
          if ((uint *)puVar3[8] != (uint *)0x0) {
            *(uint *)puVar3[8] = uVar15 >> 8 & 1;
          }
          if ((puVar3[4] & 0x200) != 0) {
            local_18 = (undefined2)uVar15;
            uVar16 = FUN_004497a0((uint *)&local_18,2);
            puVar3[6] = uVar16;
            puVar11 = local_c;
          }
          uVar15 = 0;
          uVar17 = 0;
          *puVar3 = 2;
          do {
            puVar13 = puVar11;
            puVar9 = local_10;
            if (local_8 == (uint *)0x0) goto LAB_004495d1;
            bVar1 = *(byte *)puVar11;
            local_8 = (uint *)((int)local_8 + -1);
            bVar12 = (byte)uVar17;
            puVar11 = (uint *)((int)puVar11 + 1);
            uVar17 = uVar17 + 8;
            uVar15 = uVar15 + ((uint)bVar1 << (bVar12 & 0x1f));
            local_c = puVar11;
joined_r0x004484b9:
          } while (uVar17 < 0x20);
          if (puVar3[8] != 0) {
            *(uint *)(puVar3[8] + 4) = uVar15;
          }
          if ((puVar3[4] & 0x200) != 0) {
            local_18 = (undefined2)uVar15;
            local_16 = (undefined)(uVar15 >> 0x10);
            local_15 = (undefined)(uVar15 >> 0x18);
            uVar16 = FUN_004497a0((uint *)&local_18,4);
            puVar3[6] = uVar16;
            puVar11 = local_c;
          }
          uVar15 = 0;
          uVar17 = 0;
          *puVar3 = 3;
          do {
            puVar13 = puVar11;
            puVar9 = local_10;
            if (local_8 == (uint *)0x0) goto LAB_004495d1;
            bVar1 = *(byte *)puVar11;
            local_8 = (uint *)((int)local_8 + -1);
            bVar12 = (byte)uVar17;
            puVar11 = (uint *)((int)puVar11 + 1);
            uVar17 = uVar17 + 8;
            uVar15 = uVar15 + ((uint)bVar1 << (bVar12 & 0x1f));
            local_c = puVar11;
joined_r0x00448533:
          } while (uVar17 < 0x10);
          if (puVar3[8] != 0) {
            *(uint *)(puVar3[8] + 8) = uVar15 & 0xff;
            *(uint *)(puVar3[8] + 0xc) = uVar15 >> 8;
          }
          if ((puVar3[4] & 0x200) != 0) {
            local_18 = (undefined2)uVar15;
            uVar16 = FUN_004497a0((uint *)&local_18,2);
            puVar3[6] = uVar16;
            puVar11 = local_c;
          }
          uVar15 = 0;
          uVar17 = 0;
          *puVar3 = 4;
          goto switchD_004482c8_caseD_4;
        }
        param_1[6] = (uint *)s_unknown_header_flags_set_0047aab0;
      }
      else {
        param_1[6] = (uint *)s_unknown_compression_method_0047aa94;
      }
      goto LAB_00449571;
    case 2:
      goto joined_r0x004484b9;
    case 3:
      goto joined_r0x00448533;
    case 4:
switchD_004482c8_caseD_4:
      if ((puVar3[4] & 0x400) == 0) {
        if (puVar3[8] != 0) {
          *(undefined4 *)(puVar3[8] + 0x10) = 0;
        }
      }
      else {
        for (; uVar17 < 0x10; uVar17 = uVar17 + 8) {
          puVar13 = puVar11;
          puVar9 = local_10;
          if (local_8 == (uint *)0x0) goto LAB_004495d1;
          bVar1 = *(byte *)puVar11;
          local_8 = (uint *)((int)local_8 + -1);
          puVar11 = (uint *)((int)puVar11 + 1);
          uVar15 = uVar15 + ((uint)bVar1 << ((byte)uVar17 & 0x1f));
          local_c = puVar11;
        }
        puVar3[0x10] = uVar15;
        if (puVar3[8] != 0) {
          *(uint *)(puVar3[8] + 0x14) = uVar15;
        }
        if ((puVar3[4] & 0x200) != 0) {
          local_18 = (undefined2)uVar15;
          uVar16 = FUN_004497a0((uint *)&local_18,2);
          puVar3[6] = uVar16;
          puVar11 = local_c;
        }
        uVar15 = 0;
        uVar17 = 0;
      }
      *puVar3 = 5;
    case 5:
      if ((puVar3[4] & 0x400) == 0) {
LAB_004486c8:
        puVar3[0x10] = 0;
        *puVar3 = 6;
switchD_004482c8_caseD_6:
        if ((puVar3[4] & 0x800) == 0) {
          if (puVar3[8] != 0) {
            *(undefined4 *)(puVar3[8] + 0x1c) = 0;
          }
LAB_0044877b:
          puVar3[0x10] = 0;
          *puVar3 = 7;
switchD_004482c8_caseD_7:
          if ((puVar3[4] & 0x1000) == 0) {
            if (puVar3[8] != 0) {
              *(undefined4 *)(puVar3[8] + 0x24) = 0;
            }
LAB_0044882c:
            *puVar3 = 8;
switchD_004482c8_caseD_8:
            if ((puVar3[4] & 0x200) != 0) {
              for (; uVar17 < 0x10; uVar17 = uVar17 + 8) {
                puVar13 = puVar11;
                puVar9 = local_10;
                if (local_8 == (uint *)0x0) goto LAB_004495d1;
                bVar1 = *(byte *)puVar11;
                local_8 = (uint *)((int)local_8 + -1);
                puVar11 = (uint *)((int)puVar11 + 1);
                uVar15 = uVar15 + ((uint)bVar1 << ((byte)uVar17 & 0x1f));
                local_c = puVar11;
              }
              if (uVar15 != *(ushort *)(puVar3 + 6)) {
                param_1[6] = (uint *)s_header_crc_mismatch_0047aacc;
                goto LAB_00449571;
              }
              uVar15 = 0;
              uVar17 = 0;
            }
            if (puVar3[8] != 0) {
              *(uint *)(puVar3[8] + 0x2c) = (int)puVar3[4] >> 9 & 1;
              *(undefined4 *)(puVar3[8] + 0x30) = 1;
            }
            puVar11 = (uint *)FUN_00449780((uint *)0x0,0,0);
            puVar3[6] = (uint)puVar11;
            param_1[0xc] = puVar11;
            *puVar3 = 0xb;
            puVar11 = local_c;
            break;
          }
          puVar13 = puVar11;
          puVar9 = local_10;
          if (local_8 != (uint *)0x0) {
            local_10 = (uint *)0x0;
            do {
              bVar1 = *(byte *)((int)local_10 + (int)puVar11);
              local_10 = (uint *)((int)local_10 + 1);
              uVar16 = puVar3[8];
              if (((uVar16 != 0) && (*(int *)(uVar16 + 0x24) != 0)) &&
                 (puVar3[0x10] < *(uint *)(uVar16 + 0x28))) {
                *(byte *)(*(int *)(uVar16 + 0x24) + puVar3[0x10]) = bVar1;
                puVar3[0x10] = puVar3[0x10] + 1;
                puVar11 = local_c;
              }
            } while ((bVar1 != 0) && (local_10 < local_8));
            if ((puVar3[4] & 0x200) != 0) {
              if (puVar11 == (uint *)0x0) {
                uVar16 = 0;
                local_c = puVar11;
              }
              else {
                uVar16 = FUN_004497a0(local_c,(uint)local_10);
              }
              puVar3[6] = uVar16;
              puVar11 = local_c;
            }
            local_8 = (uint *)((int)local_8 - (int)local_10);
            puVar11 = (uint *)((int)puVar11 + (int)local_10);
            puVar13 = puVar11;
            puVar9 = local_10;
            local_c = puVar11;
            if (bVar1 == 0) goto LAB_0044882c;
          }
        }
        else {
          puVar13 = puVar11;
          puVar9 = local_10;
          if (local_8 != (uint *)0x0) {
            local_10 = (uint *)0x0;
            do {
              bVar1 = *(byte *)((int)local_10 + (int)puVar11);
              local_10 = (uint *)((int)local_10 + 1);
              uVar16 = puVar3[8];
              if (((uVar16 != 0) && (*(int *)(uVar16 + 0x1c) != 0)) &&
                 (puVar3[0x10] < *(uint *)(uVar16 + 0x20))) {
                *(byte *)(*(int *)(uVar16 + 0x1c) + puVar3[0x10]) = bVar1;
                puVar3[0x10] = puVar3[0x10] + 1;
                puVar11 = local_c;
              }
            } while ((bVar1 != 0) && (local_10 < local_8));
            if ((puVar3[4] & 0x200) != 0) {
              if (puVar11 == (uint *)0x0) {
                uVar16 = 0;
                local_c = puVar11;
              }
              else {
                uVar16 = FUN_004497a0(local_c,(uint)local_10);
              }
              puVar3[6] = uVar16;
              puVar11 = local_c;
            }
            local_8 = (uint *)((int)local_8 - (int)local_10);
            puVar11 = (uint *)((int)puVar11 + (int)local_10);
            puVar13 = puVar11;
            puVar9 = local_10;
            local_c = puVar11;
            if (bVar1 == 0) goto LAB_0044877b;
          }
        }
      }
      else {
        local_10 = (uint *)puVar3[0x10];
        if (local_8 < (uint *)puVar3[0x10]) {
          local_10 = local_8;
        }
        if (local_10 != (uint *)0x0) {
          if ((puVar3[8] != 0) && (iVar10 = *(int *)(puVar3[8] + 0x10), iVar10 != 0)) {
            iVar7 = *(int *)(puVar3[8] + 0x14) - puVar3[0x10];
            uVar16 = *(uint *)(puVar3[8] + 0x18);
            puVar11 = local_10;
            if (uVar16 < (uint)((int)local_10 + iVar7)) {
              puVar11 = (uint *)(uVar16 - iVar7);
            }
            memcpy((void *)(iVar10 + iVar7),local_c,(size_t)puVar11);
            puVar11 = local_c;
          }
          if ((puVar3[4] & 0x200) != 0) {
            if (puVar11 == (uint *)0x0) {
              uVar16 = 0;
              local_c = puVar11;
            }
            else {
              uVar16 = FUN_004497a0(local_c,(uint)local_10);
            }
            puVar3[6] = uVar16;
            puVar11 = local_c;
          }
          local_8 = (uint *)((int)local_8 - (int)local_10);
          puVar11 = (uint *)((int)puVar11 + (int)local_10);
          puVar3[0x10] = puVar3[0x10] - (int)local_10;
          local_c = puVar11;
        }
        puVar13 = puVar11;
        puVar9 = local_10;
        if (puVar3[0x10] == 0) goto LAB_004486c8;
      }
LAB_004495d1:
      local_10 = puVar9;
      param_1[3] = local_1c;
      *param_1 = puVar13;
      param_1[4] = local_14;
      param_1[1] = local_8;
      puVar3[0xe] = uVar15;
      puVar3[0xf] = uVar17;
      if (((puVar3[10] == 0) && ((0x19 < (int)*puVar3 || (local_24 == param_1[4])))) ||
         (iVar10 = FUN_00448150(), iVar10 == 0)) {
        iVar10 = (int)puVar4 - (int)param_1[1];
        uVar16 = (int)local_24 - (int)param_1[4];
        param_1[2] = (uint *)((int)param_1[2] + iVar10);
        param_1[5] = (uint *)((int)param_1[5] + uVar16);
        puVar3[7] = puVar3[7] + uVar16;
        if ((puVar3[2] != 0) && (uVar16 != 0)) {
          if (puVar3[4] == 0) {
            puVar11 = (uint *)FUN_00449a60(puVar3[6],(byte *)((int)param_1[3] - uVar16));
          }
          else if ((uint *)((int)param_1[3] - uVar16) == (uint *)0x0) {
            puVar11 = (uint *)0x0;
          }
          else {
            puVar11 = (uint *)FUN_004497a0((uint *)((int)param_1[3] - uVar16),uVar16);
          }
          puVar3[6] = (uint)puVar11;
          param_1[0xc] = puVar11;
        }
        uVar15 = *puVar3;
        if ((uVar15 == 0x13) || (param_1 = (uint **)0x0, uVar15 == 0xe)) {
          param_1 = (uint **)0x100;
        }
        ppuVar5[0xb] = (uint *)((int)param_1 +
                               puVar3[0xf] +
                               ((uVar15 != 0xb) - 1 & 0x80) + (-(uint)(puVar3[1] != 0) & 0x40));
        if ((iVar10 == 0) && (uVar16 == 0)) {
          if (local_2c != 0) {
            return local_2c;
          }
          return -5;
        }
        return local_2c;
      }
      *puVar3 = 0x1e;
switchD_004482c8_caseD_1e:
      return -4;
    case 6:
      goto switchD_004482c8_caseD_6;
    case 7:
      goto switchD_004482c8_caseD_7;
    case 8:
      goto switchD_004482c8_caseD_8;
    case 9:
      for (; uVar17 < 0x20; uVar17 = uVar17 + 8) {
        puVar13 = puVar11;
        if (local_8 == (uint *)0x0) goto LAB_004495d1;
        bVar1 = *(byte *)puVar11;
        local_8 = (uint *)((int)local_8 + -1);
        puVar11 = (uint *)((int)puVar11 + 1);
        uVar15 = uVar15 + ((uint)bVar1 << ((byte)uVar17 & 0x1f));
        local_c = puVar11;
      }
      puVar9 = (uint *)((uVar15 >> 8 & 0xff00) + ((uVar15 & 0xff00) + uVar15 * 0x10000) * 0x100 +
                       (uVar15 >> 0x18));
      puVar3[6] = (uint)puVar9;
      param_1[0xc] = puVar9;
      uVar15 = 0;
      uVar17 = 0;
      *puVar3 = 10;
    case 10:
      if (puVar3[3] == 0) {
        param_1[3] = local_1c;
        *param_1 = puVar11;
        param_1[4] = local_14;
        param_1[1] = local_8;
        puVar3[0xf] = uVar17;
        puVar3[0xe] = uVar15;
        return 2;
      }
      puVar11 = (uint *)FUN_00449a60(0,(byte *)0x0);
      puVar3[6] = (uint)puVar11;
      param_1[0xc] = puVar11;
      *puVar3 = 0xb;
      puVar11 = local_c;
switchD_004482c8_caseD_b:
      if (puVar3[1] == 0) {
        for (; uVar17 < 3; uVar17 = uVar17 + 8) {
          puVar13 = puVar11;
          puVar9 = local_10;
          if (local_8 == (uint *)0x0) goto LAB_004495d1;
          bVar1 = *(byte *)puVar11;
          local_8 = (uint *)((int)local_8 + -1);
          puVar11 = (uint *)((int)puVar11 + 1);
          uVar15 = uVar15 + ((uint)bVar1 << ((byte)uVar17 & 0x1f));
          local_c = puVar11;
        }
        puVar3[1] = uVar15 & 1;
        switch(uVar15 >> 1 & 3) {
        case 0:
          uVar15 = uVar15 >> 3;
          *puVar3 = 0xd;
          uVar17 = uVar17 - 3;
          break;
        case 1:
          uVar15 = uVar15 >> 3;
          puVar3[0x13] = (uint)&DAT_00461b30;
          puVar3[0x15] = 9;
          puVar3[0x14] = (uint)&DAT_00462330;
          puVar3[0x16] = 5;
          *puVar3 = 0x13;
          uVar17 = uVar17 - 3;
          break;
        case 2:
          uVar15 = uVar15 >> 3;
          *puVar3 = 0x10;
          uVar17 = uVar17 - 3;
          break;
        case 3:
          param_1[6] = (uint *)s_invalid_block_type_0047aae0;
          *puVar3 = 0x1d;
        default:
          uVar15 = uVar15 >> 3;
          uVar17 = uVar17 - 3;
        }
      }
      else {
        uVar15 = uVar15 >> (sbyte)(uVar17 & 7);
        uVar17 = uVar17 - (uVar17 & 7);
        *puVar3 = 0x1a;
      }
      break;
    case 0xb:
    case 0xc:
      goto switchD_004482c8_caseD_b;
    case 0xd:
      uVar15 = uVar15 >> (sbyte)(uVar17 & 7);
      for (uVar17 = uVar17 - (uVar17 & 7); uVar17 < 0x20; uVar17 = uVar17 + 8) {
        puVar13 = puVar11;
        if (local_8 == (uint *)0x0) goto LAB_004495d1;
        bVar1 = *(byte *)puVar11;
        local_8 = (uint *)((int)local_8 + -1);
        puVar11 = (uint *)((int)puVar11 + 1);
        uVar15 = uVar15 + ((uint)bVar1 << ((byte)uVar17 & 0x1f));
        local_c = puVar11;
      }
      uVar16 = uVar15 & 0xffff;
      if (uVar16 == ~uVar15 >> 0x10) {
        uVar15 = 0;
        puVar3[0x10] = uVar16;
        uVar17 = 0;
        *puVar3 = 0xe;
        goto switchD_004482c8_caseD_e;
      }
      param_1[6] = (uint *)s_invalid_stored_block_lengths_0047aaf4;
      goto LAB_00449571;
    case 0xe:
switchD_004482c8_caseD_e:
      *puVar3 = 0xf;
    case 0xf:
      local_10 = (uint *)puVar3[0x10];
      if (local_10 == (uint *)0x0) {
LAB_00449131:
        *puVar3 = 0xb;
        break;
      }
      if (local_8 < local_10) {
        local_10 = local_8;
      }
      if (local_14 < local_10) {
        local_10 = local_14;
      }
      puVar13 = puVar11;
      puVar9 = local_10;
      if (local_10 != (uint *)0x0) {
        memcpy(local_1c,local_c,(size_t)local_10);
        local_c = (uint *)((int)local_c + (int)local_10);
        local_8 = (uint *)((int)local_8 - (int)local_10);
        local_14 = (uint *)((int)local_14 - (int)local_10);
        local_1c = (uint *)((int)local_1c + (int)local_10);
        puVar3[0x10] = puVar3[0x10] - (int)local_10;
        puVar11 = local_c;
        break;
      }
      goto LAB_004495d1;
    case 0x10:
      for (; uVar17 < 0xe; uVar17 = uVar17 + 8) {
        puVar13 = puVar11;
        if (local_8 == (uint *)0x0) goto LAB_004495d1;
        bVar1 = *(byte *)puVar11;
        local_8 = (uint *)((int)local_8 + -1);
        puVar11 = (uint *)((int)puVar11 + 1);
        uVar15 = uVar15 + ((uint)bVar1 << ((byte)uVar17 & 0x1f));
        local_c = puVar11;
      }
      puVar3[0x18] = (uVar15 & 0x1f) + 0x101;
      uVar14 = uVar15 >> 10;
      uVar16 = (uVar15 >> 5 & 0x1f) + 1;
      uVar15 = uVar15 >> 0xe;
      uVar17 = uVar17 - 0xe;
      puVar3[0x19] = uVar16;
      puVar3[0x17] = (uVar14 & 0xf) + 4;
      if ((puVar3[0x18] < 0x11f) && (uVar16 < 0x1f)) {
        puVar3[0x1a] = 0;
        *puVar3 = 0x11;
        goto switchD_004482c8_caseD_11;
      }
      param_1[6] = (uint *)s_too_many_length_or_distance_symb_0047ab14;
      goto LAB_00449571;
    case 0x11:
switchD_004482c8_caseD_11:
      if (puVar3[0x1a] < puVar3[0x17]) {
        do {
          for (; uVar17 < 3; uVar17 = uVar17 + 8) {
            puVar13 = puVar11;
            if (local_8 == (uint *)0x0) goto LAB_004495d1;
            bVar1 = *(byte *)puVar11;
            local_8 = (uint *)((int)local_8 + -1);
            puVar11 = (uint *)((int)puVar11 + 1);
            uVar15 = uVar15 + ((uint)bVar1 << ((byte)uVar17 & 0x1f));
            local_c = puVar11;
          }
          *(ushort *)((int)puVar3 + (uint)*(ushort *)(&DAT_004623b0 + puVar3[0x1a] * 2) * 2 + 0x70)
               = (ushort)uVar15 & 7;
          puVar3[0x1a] = puVar3[0x1a] + 1;
          uVar15 = uVar15 >> 3;
          uVar17 = uVar17 - 3;
        } while (puVar3[0x1a] < puVar3[0x17]);
      }
      uVar16 = puVar3[0x1a];
      while (uVar16 < 0x13) {
        *(undefined2 *)
         ((int)puVar3 + (uint)*(ushort *)(&DAT_004623b0 + puVar3[0x1a] * 2) * 2 + 0x70) = 0;
        puVar3[0x1a] = puVar3[0x1a] + 1;
        uVar16 = puVar3[0x1a];
      }
      puVar3[0x1b] = (uint)(puVar3 + 0x14c);
      puVar3[0x13] = (uint)(puVar3 + 0x14c);
      puVar3[0x15] = 7;
      local_2c = FUN_0044a120(0,(int)(puVar3 + 0x1c),0x13,(int *)(puVar3 + 0x1b),puVar3 + 0x15,
                              (ushort *)(puVar3 + 0xbc));
      puVar11 = local_c;
      if (local_2c == 0) {
        puVar3[0x1a] = 0;
        *puVar3 = 0x12;
        goto switchD_004482c8_caseD_12;
      }
      param_1[6] = (uint *)s_invalid_code_lengths_set_0047ab38;
LAB_00449571:
      *puVar3 = 0x1d;
      break;
    case 0x12:
switchD_004482c8_caseD_12:
      if (puVar3[0x1a] < puVar3[0x19] + puVar3[0x18]) {
        do {
          puVar9 = *(uint **)(puVar3[0x13] + ((1 << ((byte)puVar3[0x15] & 0x1f)) - 1U & uVar15) * 4)
          ;
          local_10 = puVar9;
          if (uVar17 < ((uint)puVar9 >> 8 & 0xff)) {
            do {
              puVar13 = puVar11;
              puVar9 = local_10;
              if (local_8 == (uint *)0x0) goto LAB_004495d1;
              bVar1 = *(byte *)puVar11;
              local_8 = (uint *)((int)local_8 + -1);
              bVar12 = (byte)uVar17;
              puVar11 = (uint *)((int)puVar11 + 1);
              uVar17 = uVar17 + 8;
              uVar15 = uVar15 + ((uint)bVar1 << (bVar12 & 0x1f));
              puVar9 = *(uint **)(puVar3[0x13] +
                                 ((1 << ((byte)puVar3[0x15] & 0x1f)) - 1U & uVar15) * 4);
              local_10 = puVar9;
              local_c = puVar11;
            } while (uVar17 < ((uint)puVar9 >> 8 & 0xff));
          }
          local_10._2_2_ = (short)((uint)puVar9 >> 0x10);
          local_10 = puVar9;
          if ((uint)puVar9 >> 0x10 < 0x10) {
            if (uVar17 < ((uint)puVar9 >> 8 & 0xff)) {
              do {
                puVar13 = puVar11;
                if (local_8 == (uint *)0x0) goto LAB_004495d1;
                bVar1 = *(byte *)puVar11;
                local_8 = (uint *)((int)local_8 + -1);
                bVar12 = (byte)uVar17;
                puVar11 = (uint *)((int)puVar11 + 1);
                uVar17 = uVar17 + 8;
                uVar15 = uVar15 + ((uint)bVar1 << (bVar12 & 0x1f));
                local_c = puVar11;
              } while (uVar17 < ((uint)puVar9 >> 8 & 0xff));
            }
            uVar16 = (uint)puVar9 >> 8 & 0xff;
            uVar15 = uVar15 >> ((byte)uVar16 & 0x1f);
            uVar17 = uVar17 - uVar16;
            *(short *)((int)puVar3 + puVar3[0x1a] * 2 + 0x70) = local_10._2_2_;
            puVar3[0x1a] = puVar3[0x1a] + 1;
          }
          else {
            if (local_10._2_2_ == 0x10) {
              uVar16 = (uint)puVar9 >> 8 & 0xff;
              if (uVar17 < uVar16 + 2) {
                do {
                  puVar13 = puVar11;
                  if (local_8 == (uint *)0x0) goto LAB_004495d1;
                  bVar1 = *(byte *)puVar11;
                  local_8 = (uint *)((int)local_8 + -1);
                  bVar12 = (byte)uVar17;
                  puVar11 = (uint *)((int)puVar11 + 1);
                  uVar17 = uVar17 + 8;
                  uVar15 = uVar15 + ((uint)bVar1 << (bVar12 & 0x1f));
                  local_c = puVar11;
                } while (uVar17 < uVar16 + 2);
              }
              uVar15 = uVar15 >> ((byte)uVar16 & 0x1f);
              uVar17 = uVar17 - uVar16;
              if (puVar3[0x1a] == 0) {
                param_1[6] = (uint *)s_invalid_bit_length_repeat_0047ab54;
                goto LAB_00449571;
              }
              uVar2 = *(undefined2 *)((int)puVar3 + puVar3[0x1a] * 2 + 0x6e);
              local_10 = (uint *)((uVar15 & 3) + 3);
              uVar15 = uVar15 >> 2;
              uVar17 = uVar17 - 2;
            }
            else {
              uVar16 = (uint)puVar9 >> 8 & 0xff;
              if (local_10._2_2_ == 0x11) {
                if (uVar17 < uVar16 + 3) {
                  do {
                    puVar13 = puVar11;
                    if (local_8 == (uint *)0x0) goto LAB_004495d1;
                    bVar1 = *(byte *)puVar11;
                    local_8 = (uint *)((int)local_8 + -1);
                    bVar12 = (byte)uVar17;
                    puVar11 = (uint *)((int)puVar11 + 1);
                    uVar17 = uVar17 + 8;
                    uVar15 = uVar15 + ((uint)bVar1 << (bVar12 & 0x1f));
                    local_c = puVar11;
                  } while (uVar17 < uVar16 + 3);
                }
                uVar15 = uVar15 >> ((byte)uVar16 & 0x1f);
                local_10 = (uint *)((uVar15 & 7) + 3);
                uVar15 = uVar15 >> 3;
                iVar10 = -3;
              }
              else {
                if (uVar17 < uVar16 + 7) {
                  do {
                    puVar13 = puVar11;
                    if (local_8 == (uint *)0x0) goto LAB_004495d1;
                    bVar1 = *(byte *)puVar11;
                    local_8 = (uint *)((int)local_8 + -1);
                    bVar12 = (byte)uVar17;
                    puVar11 = (uint *)((int)puVar11 + 1);
                    uVar17 = uVar17 + 8;
                    uVar15 = uVar15 + ((uint)bVar1 << (bVar12 & 0x1f));
                    local_c = puVar11;
                  } while (uVar17 < uVar16 + 7);
                }
                uVar15 = uVar15 >> ((byte)uVar16 & 0x1f);
                local_10 = (uint *)((uVar15 & 0x7f) + 0xb);
                uVar15 = uVar15 >> 7;
                iVar10 = -7;
              }
              uVar17 = uVar17 + (iVar10 - uVar16);
              uVar2 = 0;
            }
            if (puVar3[0x19] + puVar3[0x18] < puVar3[0x1a] + (int)local_10) {
              param_1[6] = (uint *)s_invalid_bit_length_repeat_0047ab70;
              goto LAB_00449571;
            }
            for (; local_10 != (uint *)0x0; local_10 = (uint *)((int)local_10 - 1)) {
              *(undefined2 *)((int)puVar3 + puVar3[0x1a] * 2 + 0x70) = uVar2;
              puVar3[0x1a] = puVar3[0x1a] + 1;
            }
          }
        } while (puVar3[0x1a] < puVar3[0x19] + puVar3[0x18]);
      }
      if (*puVar3 != 0x1d) {
        if (*(short *)(puVar3 + 0x9c) == 0) {
          param_1[6] = (uint *)s_invalid_code____missing_end_of_b_0047ab8c;
        }
        else {
          puVar3[0x1b] = (uint)(puVar3 + 0x14c);
          puVar3[0x13] = (uint)(puVar3 + 0x14c);
          puVar3[0x15] = 9;
          local_2c = FUN_0044a120(1,(int)(puVar3 + 0x1c),puVar3[0x18],(int *)(puVar3 + 0x1b),
                                  puVar3 + 0x15,(ushort *)(puVar3 + 0xbc));
          if (local_2c == 0) {
            puVar3[0x14] = puVar3[0x1b];
            puVar3[0x16] = 6;
            local_2c = FUN_0044a120(2,(int)puVar3 + puVar3[0x18] * 2 + 0x70,puVar3[0x19],
                                    (int *)(puVar3 + 0x1b),puVar3 + 0x16,(ushort *)(puVar3 + 0xbc));
            puVar11 = local_c;
            if (local_2c == 0) {
              *puVar3 = 0x13;
              goto switchD_004482c8_caseD_13;
            }
            param_1[6] = (uint *)s_invalid_distances_set_0047abd0;
          }
          else {
            param_1[6] = (uint *)s_invalid_literal_lengths_set_0047abb4;
            puVar11 = local_c;
          }
        }
        goto LAB_00449571;
      }
      break;
    case 0x13:
switchD_004482c8_caseD_13:
      *puVar3 = 0x14;
    case 0x14:
      if (((uint *)0x5 < local_8) && ((uint *)0x101 < local_14)) {
        param_1[3] = local_1c;
        *param_1 = local_c;
        param_1[4] = local_14;
        param_1[1] = local_8;
        puVar3[0xe] = uVar15;
        puVar3[0xf] = uVar17;
        FUN_00449cd0((int *)param_1,(uint)local_24);
        local_1c = param_1[3];
        local_14 = param_1[4];
        uVar15 = puVar3[0xe];
        uVar17 = puVar3[0xf];
        local_c = *param_1;
        local_8 = param_1[1];
        puVar11 = local_c;
        if (*puVar3 == 0xb) {
          puVar3[0x6f1] = 0xffffffff;
        }
        break;
      }
      puVar3[0x6f1] = 0;
      puVar8 = *(uint **)(puVar3[0x13] + ((1 << ((byte)puVar3[0x15] & 0x1f)) - 1U & uVar15) * 4);
      local_10 = puVar8;
      if (uVar17 < ((uint)puVar8 >> 8 & 0xff)) {
        do {
          puVar13 = puVar11;
          puVar9 = local_10;
          if (local_8 == (uint *)0x0) goto LAB_004495d1;
          bVar1 = *(byte *)puVar11;
          local_8 = (uint *)((int)local_8 + -1);
          bVar12 = (byte)uVar17;
          puVar11 = (uint *)((int)puVar11 + 1);
          uVar17 = uVar17 + 8;
          uVar15 = uVar15 + ((uint)bVar1 << (bVar12 & 0x1f));
          puVar8 = *(uint **)(puVar3[0x13] + ((1 << ((byte)puVar3[0x15] & 0x1f)) - 1U & uVar15) * 4)
          ;
          local_10 = puVar8;
          local_c = puVar11;
        } while (uVar17 < ((uint)puVar8 >> 8 & 0xff));
      }
      cVar6 = (char)puVar8;
      local_10 = puVar8;
      if ((cVar6 != '\0') && (((uint)puVar8 & 0xf0) == 0)) {
        bVar1 = (byte)((uint)puVar8 >> 8);
        local_10 = *(uint **)(puVar3[0x13] +
                             ((((1 << (cVar6 + bVar1 & 0x1f)) - 1U & uVar15) >> (bVar1 & 0x1f)) +
                             ((uint)puVar8 >> 0x10)) * 4);
        if (uVar17 < ((uint)local_10 >> 8 & 0xff) + ((uint)puVar8 >> 8 & 0xff)) {
          do {
            puVar13 = puVar11;
            puVar9 = local_10;
            if (local_8 == (uint *)0x0) goto LAB_004495d1;
            bVar12 = *(byte *)puVar11;
            local_8 = (uint *)((int)local_8 + -1);
            puVar11 = (uint *)((int)puVar11 + 1);
            uVar15 = uVar15 + ((uint)bVar12 << ((byte)uVar17 & 0x1f));
            uVar16 = (uint)puVar8 >> 8 & 0xff;
            bVar12 = (byte)uVar16;
            uVar17 = uVar17 + 8;
            local_10 = *(uint **)(puVar3[0x13] +
                                 ((((1 << (cVar6 + bVar12 & 0x1f)) - 1U & uVar15) >> (bVar12 & 0x1f)
                                  ) + ((uint)puVar8 >> 0x10)) * 4);
            local_c = puVar11;
          } while (uVar17 < ((uint)local_10 >> 8 & 0xff) + uVar16);
        }
        uVar15 = uVar15 >> (bVar1 & 0x1f);
        uVar17 = uVar17 - bVar1;
        puVar3[0x6f1] = (uint)bVar1;
      }
      uVar16 = (uint)local_10 >> 8 & 0xff;
      puVar3[0x6f1] = puVar3[0x6f1] + uVar16;
      uVar15 = uVar15 >> ((byte)uVar16 & 0x1f);
      uVar17 = uVar17 - uVar16;
      puVar3[0x10] = (uint)local_10 >> 0x10;
      if ((char)local_10 == '\0') {
        *puVar3 = 0x19;
        break;
      }
      if (((uint)local_10 & 0x20) != 0) {
        puVar3[0x6f1] = 0xffffffff;
        goto LAB_00449131;
      }
      if (((uint)local_10 & 0x40) != 0) {
        param_1[6] = (uint *)s_invalid_literal_length_code_0047abe8;
        goto LAB_00449571;
      }
      puVar3[0x12] = (uint)local_10 & 0xf;
      *puVar3 = 0x15;
switchD_004482c8_caseD_15:
      if (puVar3[0x12] != 0) {
        if (uVar17 < puVar3[0x12]) {
          do {
            puVar13 = puVar11;
            puVar9 = local_10;
            if (local_8 == (uint *)0x0) goto LAB_004495d1;
            bVar1 = *(byte *)puVar11;
            local_8 = (uint *)((int)local_8 + -1);
            bVar12 = (byte)uVar17;
            puVar11 = (uint *)((int)puVar11 + 1);
            uVar17 = uVar17 + 8;
            uVar15 = uVar15 + ((uint)bVar1 << (bVar12 & 0x1f));
            local_c = puVar11;
          } while (uVar17 < puVar3[0x12]);
        }
        uVar16 = puVar3[0x12];
        uVar17 = uVar17 - uVar16;
        puVar3[0x10] = puVar3[0x10] + ((1 << ((byte)uVar16 & 0x1f)) - 1U & uVar15);
        uVar15 = uVar15 >> ((byte)uVar16 & 0x1f);
        puVar3[0x6f1] = puVar3[0x6f1] + uVar16;
      }
      puVar3[0x6f2] = puVar3[0x10];
      *puVar3 = 0x16;
switchD_004482c8_caseD_16:
      puVar8 = *(uint **)(puVar3[0x14] + ((1 << ((byte)puVar3[0x16] & 0x1f)) - 1U & uVar15) * 4);
      local_10 = puVar8;
      if (uVar17 < ((uint)puVar8 >> 8 & 0xff)) {
        do {
          puVar13 = puVar11;
          puVar9 = local_10;
          if (local_8 == (uint *)0x0) goto LAB_004495d1;
          bVar1 = *(byte *)puVar11;
          local_8 = (uint *)((int)local_8 + -1);
          bVar12 = (byte)uVar17;
          puVar11 = (uint *)((int)puVar11 + 1);
          uVar17 = uVar17 + 8;
          uVar15 = uVar15 + ((uint)bVar1 << (bVar12 & 0x1f));
          puVar8 = *(uint **)(puVar3[0x14] + ((1 << ((byte)puVar3[0x16] & 0x1f)) - 1U & uVar15) * 4)
          ;
          local_10 = puVar8;
          local_c = puVar11;
        } while (uVar17 < ((uint)puVar8 >> 8 & 0xff));
      }
      local_10 = puVar8;
      if (((uint)puVar8 & 0xf0) == 0) {
        bVar1 = (byte)((uint)puVar8 >> 8);
        local_10 = *(uint **)(puVar3[0x14] +
                             ((((1 << ((char)puVar8 + bVar1 & 0x1f)) - 1U & uVar15) >>
                              (bVar1 & 0x1f)) + ((uint)puVar8 >> 0x10)) * 4);
        if (uVar17 < ((uint)local_10 >> 8 & 0xff) + ((uint)puVar8 >> 8 & 0xff)) {
          do {
            puVar13 = puVar11;
            puVar9 = local_10;
            if (local_8 == (uint *)0x0) goto LAB_004495d1;
            bVar12 = *(byte *)puVar11;
            local_8 = (uint *)((int)local_8 + -1);
            puVar11 = (uint *)((int)puVar11 + 1);
            uVar15 = uVar15 + ((uint)bVar12 << ((byte)uVar17 & 0x1f));
            uVar16 = (uint)puVar8 >> 8 & 0xff;
            bVar12 = (byte)uVar16;
            uVar17 = uVar17 + 8;
            local_10 = *(uint **)(puVar3[0x14] +
                                 ((((1 << ((char)puVar8 + bVar12 & 0x1f)) - 1U & uVar15) >>
                                  (bVar12 & 0x1f)) + ((uint)puVar8 >> 0x10)) * 4);
            local_c = puVar11;
          } while (uVar17 < ((uint)local_10 >> 8 & 0xff) + uVar16);
        }
        uVar15 = uVar15 >> (bVar1 & 0x1f);
        uVar17 = uVar17 - bVar1;
        puVar3[0x6f1] = puVar3[0x6f1] + (uint)bVar1;
      }
      uVar16 = (uint)local_10 >> 8 & 0xff;
      puVar3[0x6f1] = puVar3[0x6f1] + uVar16;
      uVar15 = uVar15 >> ((byte)uVar16 & 0x1f);
      uVar17 = uVar17 - uVar16;
      if (((uint)local_10 & 0x40) != 0) {
        param_1[6] = (uint *)s_invalid_distance_code_0047ac04;
        goto LAB_00449571;
      }
      puVar3[0x11] = (uint)local_10 >> 0x10;
      puVar3[0x12] = (uint)local_10 & 0xf;
      *puVar3 = 0x17;
switchD_004482c8_caseD_17:
      if (puVar3[0x12] != 0) {
        if (uVar17 < puVar3[0x12]) {
          do {
            puVar13 = puVar11;
            puVar9 = local_10;
            if (local_8 == (uint *)0x0) goto LAB_004495d1;
            bVar1 = *(byte *)puVar11;
            local_8 = (uint *)((int)local_8 + -1);
            bVar12 = (byte)uVar17;
            puVar11 = (uint *)((int)puVar11 + 1);
            uVar17 = uVar17 + 8;
            uVar15 = uVar15 + ((uint)bVar1 << (bVar12 & 0x1f));
            local_c = puVar11;
          } while (uVar17 < puVar3[0x12]);
        }
        uVar16 = puVar3[0x12];
        uVar17 = uVar17 - uVar16;
        puVar3[0x11] = puVar3[0x11] + ((1 << ((byte)uVar16 & 0x1f)) - 1U & uVar15);
        uVar15 = uVar15 >> ((byte)uVar16 & 0x1f);
        puVar3[0x6f1] = puVar3[0x6f1] + uVar16;
      }
      *puVar3 = 0x18;
switchD_004482c8_caseD_18:
      puVar13 = puVar11;
      puVar9 = local_10;
      if (local_14 != (uint *)0x0) {
        uVar16 = puVar3[0x11];
        if ((uint)((int)local_24 - (int)local_14) < uVar16) {
          local_10 = (uint *)(uVar16 - ((int)local_24 - (int)local_14));
          if (((uint *)puVar3[0xb] <= local_10 && local_10 != (uint *)puVar3[0xb]) &&
             (puVar3[0x6f0] != 0)) {
            param_1[6] = (uint *)s_invalid_distance_too_far_back_0047ac1c;
            goto LAB_00449571;
          }
          if ((uint *)puVar3[0xc] < local_10) {
            local_10 = (uint *)((int)local_10 - (int)(uint *)puVar3[0xc]);
            local_30 = (puVar3[0xd] + puVar3[10]) - (int)local_10;
          }
          else {
            local_30 = (puVar3[0xd] - (int)local_10) + puVar3[0xc];
          }
          local_28 = (uint *)puVar3[0x10];
          if (local_28 < local_10) goto LAB_004493dc;
        }
        else {
          local_30 = (int)local_1c - uVar16;
          local_28 = (uint *)puVar3[0x10];
LAB_004493dc:
          local_10 = local_28;
        }
        if (local_14 < local_10) {
          local_10 = local_14;
        }
        local_14 = (uint *)((int)local_14 - (int)local_10);
        puVar3[0x10] = (int)local_28 - (int)local_10;
        local_30 = local_30 - (int)local_1c;
        do {
          *(undefined *)local_1c = *(undefined *)(local_30 + (int)local_1c);
          local_1c = (uint *)((int)local_1c + 1);
          local_10 = (uint *)((int)local_10 + -1);
        } while (local_10 != (uint *)0x0);
        local_10 = (uint *)0x0;
        if (puVar3[0x10] == 0) {
          *puVar3 = 0x14;
        }
        break;
      }
      goto LAB_004495d1;
    case 0x15:
      goto switchD_004482c8_caseD_15;
    case 0x16:
      goto switchD_004482c8_caseD_16;
    case 0x17:
      goto switchD_004482c8_caseD_17;
    case 0x18:
      goto switchD_004482c8_caseD_18;
    case 0x19:
      if (local_14 == (uint *)0x0) goto LAB_004495d1;
      *(undefined *)local_1c = *(undefined *)(puVar3 + 0x10);
      local_1c = (uint *)((int)local_1c + 1);
      local_14 = (uint *)((int)local_14 - 1);
      *puVar3 = 0x14;
      break;
    case 0x1a:
      if (puVar3[2] != 0) {
        for (; uVar17 < 0x20; uVar17 = uVar17 + 8) {
          puVar13 = puVar11;
          if (local_8 == (uint *)0x0) goto LAB_004495d1;
          bVar1 = *(byte *)puVar11;
          local_8 = (uint *)((int)local_8 + -1);
          puVar11 = (uint *)((int)puVar11 + 1);
          uVar15 = uVar15 + ((uint)bVar1 << ((byte)uVar17 & 0x1f));
          local_c = puVar11;
        }
        uVar16 = (int)local_24 - (int)local_14;
        param_1[5] = (uint *)((int)param_1[5] + uVar16);
        puVar3[7] = puVar3[7] + uVar16;
        if (uVar16 != 0) {
          if (puVar3[4] == 0) {
            puVar9 = (uint *)FUN_00449a60(puVar3[6],(byte *)((int)local_1c - uVar16));
            puVar11 = local_c;
          }
          else if ((uint *)((int)local_1c - uVar16) == (uint *)0x0) {
            puVar9 = (uint *)0x0;
          }
          else {
            puVar9 = (uint *)FUN_004497a0((uint *)((int)local_1c - uVar16),uVar16);
            puVar11 = local_c;
          }
          puVar3[6] = (uint)puVar9;
          param_1[0xc] = puVar9;
        }
        local_24 = local_14;
        uVar16 = uVar15;
        if (puVar3[4] == 0) {
          uVar16 = ((uVar15 & 0xff00) + uVar15 * 0x10000) * 0x100 + (uVar15 >> 8 & 0xff00) +
                   (uVar15 >> 0x18);
        }
        if (uVar16 != puVar3[6]) {
          param_1[6] = (uint *)s_incorrect_data_check_0047ac3c;
          goto LAB_00449571;
        }
        uVar15 = 0;
        uVar17 = 0;
      }
      *puVar3 = 0x1b;
    case 0x1b:
      if ((puVar3[2] != 0) && (puVar3[4] != 0)) {
        for (; uVar17 < 0x20; uVar17 = uVar17 + 8) {
          puVar13 = puVar11;
          puVar9 = local_10;
          if (local_8 == (uint *)0x0) goto LAB_004495d1;
          bVar1 = *(byte *)puVar11;
          local_8 = (uint *)((int)local_8 + -1);
          puVar11 = (uint *)((int)puVar11 + 1);
          uVar15 = uVar15 + ((uint)bVar1 << ((byte)uVar17 & 0x1f));
          local_c = puVar11;
        }
        if (uVar15 != puVar3[7]) {
          param_1[6] = (uint *)s_incorrect_length_check_0047ac54;
          goto LAB_00449571;
        }
        uVar15 = 0;
        uVar17 = 0;
      }
      *puVar3 = 0x1c;
switchD_004482c8_caseD_1c:
      local_2c = 1;
      puVar13 = puVar11;
      puVar9 = local_10;
      goto LAB_004495d1;
    case 0x1c:
      goto switchD_004482c8_caseD_1c;
    case 0x1d:
      local_2c = -3;
      goto LAB_004495d1;
    case 0x1e:
      goto switchD_004482c8_caseD_1e;
    default:
      return -2;
    }
    uVar16 = *puVar3;
  } while( true );
}



uint __fastcall FUN_00449780(uint *param_1,uint param_2,undefined4 param_3)

{
  uint uVar1;
  
  if (param_1 == (uint *)0x0) {
    return 0;
  }
  uVar1 = FUN_004497a0(param_1,param_2);
  return uVar1;
}



uint __fastcall FUN_004497a0(uint *param_1,uint param_2)

{
  uint in_EAX;
  uint uVar1;
  uint *puVar2;
  uint uVar3;
  
  uVar1 = ~in_EAX;
  if (param_2 != 0) {
    do {
      if (((uint)param_1 & 3) == 0) break;
      uVar1 = uVar1 >> 8 ^ *(uint *)(&DAT_0045fb30 + ((*(byte *)param_1 ^ uVar1) & 0xff) * 4);
      param_1 = (uint *)((int)param_1 + 1);
      param_2 = param_2 - 1;
    } while (param_2 != 0);
  }
  if (0x1f < param_2) {
    uVar3 = param_2 >> 5;
    puVar2 = param_1;
    do {
      uVar1 = uVar1 ^ *puVar2;
      uVar1 = *(uint *)(&DAT_0045ff30 + (uVar1 >> 0x10 & 0xff) * 4) ^
              *(uint *)(&DAT_00460330 + (uVar1 >> 8 & 0xff) * 4) ^
              *(uint *)(&DAT_0045fb30 + (uVar1 >> 0x18) * 4) ^
              *(uint *)(&DAT_00460730 + (uVar1 & 0xff) * 4) ^ puVar2[1];
      uVar1 = *(uint *)(&DAT_0045ff30 + (uVar1 >> 0x10 & 0xff) * 4) ^
              *(uint *)(&DAT_00460330 + (uVar1 >> 8 & 0xff) * 4) ^
              *(uint *)(&DAT_0045fb30 + (uVar1 >> 0x18) * 4) ^
              *(uint *)(&DAT_00460730 + (uVar1 & 0xff) * 4) ^ puVar2[2];
      uVar1 = *(uint *)(&DAT_0045ff30 + (uVar1 >> 0x10 & 0xff) * 4) ^
              *(uint *)(&DAT_00460330 + (uVar1 >> 8 & 0xff) * 4) ^
              *(uint *)(&DAT_0045fb30 + (uVar1 >> 0x18) * 4) ^
              *(uint *)(&DAT_00460730 + (uVar1 & 0xff) * 4) ^ puVar2[3];
      uVar1 = *(uint *)(&DAT_0045ff30 + (uVar1 >> 0x10 & 0xff) * 4) ^
              *(uint *)(&DAT_00460330 + (uVar1 >> 8 & 0xff) * 4) ^
              *(uint *)(&DAT_0045fb30 + (uVar1 >> 0x18) * 4) ^
              *(uint *)(&DAT_00460730 + (uVar1 & 0xff) * 4) ^ puVar2[4];
      uVar1 = *(uint *)(&DAT_0045ff30 + (uVar1 >> 0x10 & 0xff) * 4) ^
              *(uint *)(&DAT_00460330 + (uVar1 >> 8 & 0xff) * 4) ^
              *(uint *)(&DAT_0045fb30 + (uVar1 >> 0x18) * 4) ^
              *(uint *)(&DAT_00460730 + (uVar1 & 0xff) * 4) ^ puVar2[5];
      param_1 = puVar2 + 8;
      uVar1 = *(uint *)(&DAT_0045ff30 + (uVar1 >> 0x10 & 0xff) * 4) ^
              *(uint *)(&DAT_00460330 + (uVar1 >> 8 & 0xff) * 4) ^
              *(uint *)(&DAT_0045fb30 + (uVar1 >> 0x18) * 4) ^
              *(uint *)(&DAT_00460730 + (uVar1 & 0xff) * 4) ^ puVar2[6];
      param_2 = param_2 - 0x20;
      uVar1 = *(uint *)(&DAT_0045ff30 + (uVar1 >> 0x10 & 0xff) * 4) ^
              *(uint *)(&DAT_00460330 + (uVar1 >> 8 & 0xff) * 4) ^
              *(uint *)(&DAT_0045fb30 + (uVar1 >> 0x18) * 4) ^
              *(uint *)(&DAT_00460730 + (uVar1 & 0xff) * 4) ^ puVar2[7];
      uVar1 = *(uint *)(&DAT_0045ff30 + (uVar1 >> 0x10 & 0xff) * 4) ^
              *(uint *)(&DAT_00460330 + (uVar1 >> 8 & 0xff) * 4) ^
              *(uint *)(&DAT_0045fb30 + (uVar1 >> 0x18) * 4) ^
              *(uint *)(&DAT_00460730 + (uVar1 & 0xff) * 4);
      uVar3 = uVar3 - 1;
      puVar2 = param_1;
    } while (uVar3 != 0);
  }
  if (3 < param_2) {
    uVar3 = param_2 >> 2;
    do {
      uVar1 = uVar1 ^ *param_1;
      param_1 = param_1 + 1;
      uVar1 = *(uint *)(&DAT_0045ff30 + (uVar1 >> 0x10 & 0xff) * 4) ^
              *(uint *)(&DAT_00460330 + (uVar1 >> 8 & 0xff) * 4) ^
              *(uint *)(&DAT_0045fb30 + (uVar1 >> 0x18) * 4) ^
              *(uint *)(&DAT_00460730 + (uVar1 & 0xff) * 4);
      param_2 = param_2 - 4;
      uVar3 = uVar3 - 1;
    } while (uVar3 != 0);
  }
  for (; param_2 != 0; param_2 = param_2 - 1) {
    uVar1 = uVar1 >> 8 ^ *(uint *)(&DAT_0045fb30 + ((*(byte *)param_1 ^ uVar1) & 0xff) * 4);
    param_1 = (uint *)((int)param_1 + 1);
  }
  return ~uVar1;
}



uint __fastcall FUN_00449a60(uint param_1,byte *param_2)

{
  uint in_EAX;
  int iVar1;
  uint uVar2;
  uint uVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  int iVar10;
  int iVar11;
  int iVar12;
  int iVar13;
  int iVar14;
  int iVar15;
  int iVar16;
  int iVar17;
  int iVar18;
  uint uVar19;
  uint local_8;
  
  uVar19 = param_1 >> 0x10;
  uVar3 = param_1 & 0xffff;
  if (in_EAX == 1) {
    uVar3 = uVar3 + *param_2;
    if (0xfff0 < uVar3) {
      uVar3 = uVar3 - 0xfff1;
    }
    uVar19 = uVar19 + uVar3;
    if (0xfff0 < uVar19) {
      return (uVar19 - 0xfff1) * 0x10000 | uVar3;
    }
  }
  else {
    if (param_2 == (byte *)0x0) {
      return 1;
    }
    if (in_EAX < 0x10) {
      if (in_EAX != 0) {
        do {
          uVar3 = uVar3 + *param_2;
          param_2 = param_2 + 1;
          uVar19 = uVar19 + uVar3;
          in_EAX = in_EAX - 1;
        } while (in_EAX != 0);
      }
      if (0xfff0 < uVar3) {
        uVar3 = uVar3 - 0xfff1;
      }
      return ((uVar19 / 0xfff1) * 0xf + uVar19) * 0x10000 | uVar3;
    }
    if (0x15af < in_EAX) {
      local_8 = in_EAX / 0x15b0;
      do {
        in_EAX = in_EAX - 0x15b0;
        iVar1 = 0x15b;
        do {
          iVar4 = uVar3 + *param_2;
          iVar5 = iVar4 + (uint)param_2[1];
          iVar6 = iVar5 + (uint)param_2[2];
          iVar7 = iVar6 + (uint)param_2[3];
          iVar8 = iVar7 + (uint)param_2[4];
          iVar9 = iVar8 + (uint)param_2[5];
          iVar10 = iVar9 + (uint)param_2[6];
          iVar11 = iVar10 + (uint)param_2[7];
          iVar12 = iVar11 + (uint)param_2[8];
          iVar13 = iVar12 + (uint)param_2[9];
          iVar14 = iVar13 + (uint)param_2[10];
          iVar15 = iVar14 + (uint)param_2[0xb];
          iVar16 = iVar15 + (uint)param_2[0xc];
          iVar17 = iVar16 + (uint)param_2[0xd];
          iVar18 = iVar17 + (uint)param_2[0xe];
          uVar3 = iVar18 + (uint)param_2[0xf];
          uVar19 = uVar19 + iVar4 + iVar5 + iVar6 + iVar7 + iVar8 + iVar9 + iVar10 + iVar11 + iVar12
                   + iVar13 + iVar14 + iVar15 + iVar16 + iVar17 + iVar18 + uVar3;
          param_2 = param_2 + 0x10;
          iVar1 = iVar1 + -1;
        } while (iVar1 != 0);
        uVar3 = uVar3 % 0xfff1;
        uVar19 = uVar19 % 0xfff1;
        local_8 = local_8 - 1;
      } while (local_8 != 0);
    }
    if (in_EAX != 0) {
      if (0xf < in_EAX) {
        uVar2 = in_EAX >> 4;
        do {
          iVar1 = uVar3 + *param_2;
          iVar4 = iVar1 + (uint)param_2[1];
          iVar5 = iVar4 + (uint)param_2[2];
          iVar6 = iVar5 + (uint)param_2[3];
          iVar7 = iVar6 + (uint)param_2[4];
          iVar8 = iVar7 + (uint)param_2[5];
          iVar9 = iVar8 + (uint)param_2[6];
          iVar10 = iVar9 + (uint)param_2[7];
          iVar11 = iVar10 + (uint)param_2[8];
          iVar12 = iVar11 + (uint)param_2[9];
          iVar13 = iVar12 + (uint)param_2[10];
          iVar14 = iVar13 + (uint)param_2[0xb];
          iVar15 = iVar14 + (uint)param_2[0xc];
          iVar16 = iVar15 + (uint)param_2[0xd];
          iVar17 = iVar16 + (uint)param_2[0xe];
          uVar3 = iVar17 + (uint)param_2[0xf];
          in_EAX = in_EAX - 0x10;
          uVar19 = uVar19 + iVar1 + iVar4 + iVar5 + iVar6 + iVar7 + iVar8 + iVar9 + iVar10 + iVar11
                   + iVar12 + iVar13 + iVar14 + iVar15 + iVar16 + iVar17 + uVar3;
          param_2 = param_2 + 0x10;
          uVar2 = uVar2 - 1;
        } while (uVar2 != 0);
      }
      for (; in_EAX != 0; in_EAX = in_EAX - 1) {
        uVar3 = uVar3 + *param_2;
        param_2 = param_2 + 1;
        uVar19 = uVar19 + uVar3;
      }
      uVar3 = uVar3 % 0xfff1;
      uVar19 = uVar19 % 0xfff1;
    }
  }
  return uVar19 << 0x10 | uVar3;
}



void __cdecl FUN_00449cd0(int *param_1,uint param_2)

{
  byte *pbVar1;
  undefined *puVar2;
  undefined4 *puVar3;
  int iVar4;
  uint uVar5;
  uint uVar6;
  int iVar7;
  int iVar8;
  undefined4 uVar9;
  undefined4 uVar10;
  char cVar11;
  undefined uVar12;
  byte *pbVar13;
  uint uVar14;
  uint uVar15;
  int iVar16;
  undefined *puVar17;
  uint uVar18;
  int iVar19;
  uint uVar20;
  undefined *puVar21;
  undefined *puVar22;
  uint uVar23;
  int iVar24;
  byte *local_8;
  
  puVar3 = (undefined4 *)param_1[7];
  local_8 = (byte *)(*param_1 + -1);
  uVar20 = puVar3[0xe];
  pbVar1 = local_8 + param_1[1] + -5;
  puVar21 = (undefined *)(param_1[3] + -1);
  puVar17 = puVar21 + (param_1[4] - param_2);
  puVar2 = puVar21 + param_1[4] + -0x101;
  iVar4 = puVar3[10];
  uVar5 = puVar3[0xb];
  uVar6 = puVar3[0xc];
  iVar24 = puVar3[0xd];
  iVar7 = puVar3[0x13];
  iVar8 = puVar3[0x14];
  uVar9 = puVar3[0x15];
  uVar10 = puVar3[0x16];
  uVar23 = puVar3[0xf];
LAB_00449d58:
  if (uVar23 < 0xf) {
    pbVar13 = local_8 + 1;
    local_8 = local_8 + 2;
    uVar20 = uVar20 + ((uint)*pbVar13 << ((byte)uVar23 & 0x1f)) +
             ((uint)*local_8 << ((byte)uVar23 + 8 & 0x1f));
    uVar23 = uVar23 + 0x10;
  }
  uVar18 = *(uint *)(iVar7 + ((1 << ((byte)uVar9 & 0x1f)) - 1U & uVar20) * 4);
  uVar15 = uVar18 >> 8 & 0xff;
  uVar20 = uVar20 >> ((byte)uVar15 & 0x1f);
  uVar23 = uVar23 - uVar15;
  cVar11 = (char)uVar18;
  while (cVar11 != '\0') {
    if ((uVar18 & 0x10) != 0) {
      param_2 = uVar18 >> 0x10;
      uVar18 = uVar18 & 0xf;
      if (uVar18 != 0) {
        if (uVar23 < uVar18) {
          local_8 = local_8 + 1;
          uVar20 = uVar20 + ((uint)*local_8 << ((byte)uVar23 & 0x1f));
          uVar23 = uVar23 + 8;
        }
        param_2 = param_2 + ((1 << (sbyte)uVar18) - 1U & uVar20);
        uVar20 = uVar20 >> (sbyte)uVar18;
        uVar23 = uVar23 - uVar18;
      }
      if (uVar23 < 0xf) {
        pbVar13 = local_8 + 1;
        local_8 = local_8 + 2;
        uVar20 = uVar20 + ((uint)*pbVar13 << ((byte)uVar23 & 0x1f)) +
                 ((uint)*local_8 << ((byte)uVar23 + 8 & 0x1f));
        uVar23 = uVar23 + 0x10;
      }
      uVar18 = *(uint *)(iVar8 + ((1 << ((byte)uVar10 & 0x1f)) - 1U & uVar20) * 4);
      uVar15 = uVar18 >> 8 & 0xff;
      uVar20 = uVar20 >> ((byte)uVar15 & 0x1f);
      uVar23 = uVar23 - uVar15;
      goto joined_r0x00449e5a;
    }
    if ((uVar18 & 0x40) != 0) {
      if ((uVar18 & 0x20) == 0) {
        param_1[6] = (int)s_invalid_literal_length_code_0047aa28;
        goto LAB_0044a076;
      }
      *puVar3 = 0xb;
      goto LAB_0044a07f;
    }
    uVar18 = *(uint *)(iVar7 + (((1 << ((byte)uVar18 & 0x1f)) - 1U & uVar20) + (uVar18 >> 0x10)) * 4
                      );
    uVar15 = uVar18 >> 8 & 0xff;
    uVar20 = uVar20 >> ((byte)uVar15 & 0x1f);
    uVar23 = uVar23 - uVar15;
    cVar11 = (char)uVar18;
  }
  uVar12 = (undefined)(uVar18 >> 0x10);
  goto LAB_0044a02a;
joined_r0x00449e5a:
  if ((uVar18 & 0x10) != 0) goto LAB_00449e96;
  if ((uVar18 & 0x40) != 0) {
    param_1[6] = (int)s_invalid_distance_code_0047aa10;
    goto LAB_0044a076;
  }
  uVar18 = *(uint *)(iVar8 + (((1 << ((byte)uVar18 & 0x1f)) - 1U & uVar20) + (uVar18 >> 0x10)) * 4);
  uVar15 = uVar18 >> 8 & 0xff;
  uVar20 = uVar20 >> ((byte)uVar15 & 0x1f);
  uVar23 = uVar23 - uVar15;
  goto joined_r0x00449e5a;
LAB_00449e96:
  uVar14 = uVar18 & 0xf;
  uVar15 = uVar23;
  pbVar13 = local_8;
  if (uVar23 < uVar14) {
    uVar15 = uVar23 + 8;
    uVar20 = uVar20 + ((uint)local_8[1] << ((byte)uVar23 & 0x1f));
    pbVar13 = local_8 + 1;
    if (uVar15 < uVar14) {
      uVar20 = uVar20 + ((uint)local_8[2] << ((byte)uVar15 & 0x1f));
      uVar15 = uVar23 + 0x10;
      pbVar13 = local_8 + 2;
    }
  }
  local_8 = pbVar13;
  uVar23 = uVar15 - uVar14;
  uVar15 = (1 << (sbyte)uVar14) - 1U & uVar20;
  uVar20 = uVar20 >> (sbyte)uVar14;
  uVar15 = (uVar18 >> 0x10) + uVar15;
  if ((uint)((int)puVar21 - (int)puVar17) < uVar15) {
    uVar18 = uVar15 - ((int)puVar21 - (int)puVar17);
    if ((uVar5 < uVar18) && (puVar3[0x6f0] != 0)) {
      param_1[6] = (int)s_invalid_distance_too_far_back_0047a9f0;
LAB_0044a076:
      *puVar3 = 0x1d;
LAB_0044a07f:
      iVar4 = (int)local_8 - (uVar23 >> 3);
      iVar24 = uVar23 + (uVar23 >> 3) * -8;
      *param_1 = iVar4 + 1;
      param_1[3] = (int)(puVar21 + 1);
      param_1[4] = (int)(puVar2 + (0x101 - (int)puVar21));
      param_1[1] = (int)(pbVar1 + (5 - iVar4));
      puVar3[0xf] = iVar24;
      puVar3[0xe] = uVar20 & (1 << ((byte)iVar24 & 0x1f)) - 1U;
      return;
    }
    iVar16 = iVar24 + -1;
    if (uVar6 == 0) {
      iVar16 = iVar16 + (iVar4 - uVar18);
      if (uVar18 < param_2) {
        param_2 = param_2 - uVar18;
        do {
          puVar22 = (undefined *)(iVar16 + 1);
          iVar16 = iVar16 + 1;
          puVar21 = puVar21 + 1;
          uVar18 = uVar18 - 1;
          *puVar21 = *puVar22;
        } while (uVar18 != 0);
LAB_00449f9a:
        iVar16 = (int)puVar21 - uVar15;
      }
    }
    else if (uVar6 < uVar18) {
      uVar14 = uVar18 - uVar6;
      iVar16 = iVar16 + (uVar6 - uVar18) + iVar4;
      if (uVar14 < param_2) {
        param_2 = param_2 - uVar14;
        iVar16 = iVar16 - (int)puVar21;
        do {
          puVar22 = puVar21 + iVar16 + 1;
          puVar21 = puVar21 + 1;
          uVar14 = uVar14 - 1;
          *puVar21 = *puVar22;
        } while (uVar14 != 0);
        iVar16 = iVar24 + -1;
        if (uVar6 < param_2) {
          param_2 = param_2 - uVar6;
          uVar18 = uVar6;
          do {
            puVar22 = (undefined *)(iVar16 + 1);
            iVar16 = iVar16 + 1;
            puVar21 = puVar21 + 1;
            uVar18 = uVar18 - 1;
            *puVar21 = *puVar22;
          } while (uVar18 != 0);
          goto LAB_00449f9a;
        }
      }
    }
    else {
      iVar16 = iVar16 + (uVar6 - uVar18);
      if (uVar18 < param_2) {
        param_2 = param_2 - uVar18;
        do {
          puVar22 = (undefined *)(iVar16 + 1);
          iVar16 = iVar16 + 1;
          puVar21 = puVar21 + 1;
          uVar18 = uVar18 - 1;
          *puVar21 = *puVar22;
        } while (uVar18 != 0);
        goto LAB_00449f9a;
      }
    }
    if (2 < param_2) {
      iVar19 = (param_2 - 3) / 3 + 1;
      do {
        param_2 = param_2 - 3;
        puVar21[1] = *(undefined *)(iVar16 + 1);
        puVar21[2] = *(undefined *)(iVar16 + 2);
        puVar22 = (undefined *)(iVar16 + 3);
        iVar16 = iVar16 + 3;
        puVar21 = puVar21 + 3;
        iVar19 = iVar19 + -1;
        *puVar21 = *puVar22;
      } while (iVar19 != 0);
    }
    if (param_2 == 0) goto LAB_0044a02c;
    puVar21 = puVar21 + 1;
    *puVar21 = *(undefined *)(iVar16 + 1);
    if (param_2 < 2) goto LAB_0044a02c;
    uVar12 = *(undefined *)(iVar16 + 2);
  }
  else {
    iVar16 = (int)puVar21 - uVar15;
    do {
      puVar22 = puVar21;
      iVar19 = iVar16;
      puVar22[1] = *(undefined *)(iVar19 + 1);
      puVar22[2] = *(undefined *)(iVar19 + 2);
      puVar21 = puVar22 + 3;
      *puVar21 = *(undefined *)(iVar19 + 3);
      param_2 = param_2 - 3;
      iVar16 = iVar19 + 3;
    } while (2 < param_2);
    if (param_2 == 0) goto LAB_0044a02c;
    puVar21 = puVar22 + 4;
    *puVar21 = *(undefined *)(iVar19 + 4);
    if (param_2 < 2) goto LAB_0044a02c;
    uVar12 = *(undefined *)(iVar19 + 5);
  }
LAB_0044a02a:
  puVar21 = puVar21 + 1;
  *puVar21 = uVar12;
LAB_0044a02c:
  if ((pbVar1 <= local_8) || (puVar2 <= puVar21)) goto LAB_0044a07f;
  goto LAB_00449d58;
}



void __cdecl FUN_0044a0e0(undefined4 param_1,int param_2,int param_3)

{
  malloc(param_2 * param_3);
  return;
}



void __cdecl FUN_0044a100(undefined4 param_1,void *param_2)

{
  free(param_2);
  return;
}



undefined4 __cdecl
FUN_0044a120(int param_1,int param_2,uint param_3,int *param_4,uint *param_5,ushort *param_6)

{
  short *psVar1;
  ushort uVar2;
  char cVar3;
  uint uVar4;
  uint uVar5;
  uint uVar6;
  byte bVar7;
  uint *puVar8;
  int iVar9;
  byte bVar10;
  ushort *puVar11;
  int iVar12;
  bool bVar13;
  ushort auStack_80 [16];
  undefined4 local_60;
  undefined4 local_5c;
  undefined4 local_58;
  undefined4 local_54;
  undefined4 local_50;
  undefined4 local_4c;
  undefined4 local_48;
  undefined4 local_44;
  uint local_40;
  uint local_3c;
  uint local_38;
  uint local_34;
  uint local_30;
  uint local_2c;
  ushort *local_28;
  ushort *local_24;
  int local_20;
  ushort *local_1c;
  uint local_18;
  int local_14;
  uint local_10;
  uint local_c;
  uint local_8;
  
  local_60 = 0;
  local_5c = 0;
  local_58 = 0;
  local_54 = 0;
  local_50 = 0;
  local_4c = 0;
  local_48 = 0;
  local_44 = 0;
  uVar4 = 0;
  if (param_3 != 0) {
    do {
      psVar1 = (short *)((int)&local_60 + (uint)*(ushort *)(param_2 + uVar4 * 2) * 2);
      *psVar1 = *psVar1 + 1;
      uVar4 = uVar4 + 1;
    } while (uVar4 < param_3);
  }
  local_8 = *param_5;
  local_10 = 0xf;
  do {
    if (*(short *)((int)&local_60 + local_10 * 2) != 0) break;
    local_10 = local_10 - 1;
  } while (local_10 != 0);
  if (local_10 < local_8) {
    local_8 = local_10;
  }
  if (local_10 == 0) {
    *(undefined4 *)*param_4 = 0x140;
    *param_4 = *param_4 + 4;
    *(undefined4 *)*param_4 = 0x140;
    *param_4 = *param_4 + 4;
    *param_5 = 1;
    return 0;
  }
  local_c = 1;
  if (1 < local_10) {
    do {
      if (*(short *)((int)&local_60 + local_c * 2) != 0) break;
      local_c = local_c + 1;
    } while (local_c < local_10);
  }
  if (local_8 < local_c) {
    local_8 = local_c;
  }
  iVar12 = 1;
  uVar4 = 1;
  do {
    iVar12 = iVar12 * 2 - (uint)*(ushort *)((int)&local_60 + uVar4 * 2);
    if (iVar12 < 0) {
      return 0xffffffff;
    }
    uVar4 = uVar4 + 1;
  } while (uVar4 < 0x10);
  if ((0 < iVar12) && ((param_1 == 0 || (local_10 != 1)))) {
    return 0xffffffff;
  }
  auStack_80[1] = 0;
  uVar4 = 2;
  do {
    uVar5 = uVar4 + 2;
    *(short *)((int)auStack_80 + uVar4 + 2) =
         *(short *)((int)auStack_80 + uVar4) + *(short *)((int)&local_60 + uVar4);
    uVar4 = uVar5;
  } while (uVar5 < 0x1e);
  uVar4 = 0;
  if (param_3 != 0) {
    do {
      if (*(short *)(param_2 + uVar4 * 2) != 0) {
        param_6[auStack_80[*(ushort *)(param_2 + uVar4 * 2)]] = (ushort)uVar4;
        auStack_80[*(ushort *)(param_2 + uVar4 * 2)] =
             auStack_80[*(ushort *)(param_2 + uVar4 * 2)] + 1;
      }
      uVar4 = uVar4 + 1;
    } while (uVar4 < param_3);
  }
  if (param_1 == 0) {
    local_24 = param_6;
    local_28 = param_6;
    local_20 = 0x13;
  }
  else if (param_1 == 1) {
    local_28 = (ushort *)&DAT_0045f806;
    local_24 = (ushort *)&DAT_0045f846;
    local_20 = 0x100;
  }
  else {
    local_28 = (ushort *)((int)&lpDefault_0045fa86 + 2);
    local_24 = (ushort *)&DAT_0045fac8;
    local_20 = -1;
  }
  local_14 = *param_4;
  local_34 = 1 << ((byte)local_8 & 0x1f);
  local_2c = 0xffffffff;
  uVar4 = 0;
  local_18 = 0;
  local_30 = local_34;
  local_38 = local_34 - 1;
  if (param_1 == 1) {
    bVar13 = local_34 < 0x354;
  }
  else {
    if (param_1 != 2) goto LAB_0044a317;
    bVar13 = local_34 < 0x250;
  }
  if (!bVar13) {
    return 1;
  }
LAB_0044a317:
  local_1c = param_6;
  do {
    uVar5 = local_c;
    cVar3 = (char)local_c;
    uVar2 = *local_1c;
    bVar10 = (byte)uVar4;
    bVar7 = (char)local_c - bVar10;
    if ((int)(uint)uVar2 < local_20) {
      param_3 = (uint)CONCAT21(uVar2,bVar7) << 8;
    }
    else if (local_20 < (int)(uint)uVar2) {
      param_3 = CONCAT22(local_28[*local_1c],CONCAT11(bVar7,*(undefined *)(local_24 + *local_1c)));
    }
    else {
      param_3 = CONCAT31((uint3)bVar7,0x60);
    }
    iVar12 = 1 << ((char)local_c - bVar10 & 0x1f);
    local_3c = local_34;
    puVar8 = (uint *)(local_14 + ((local_18 >> (bVar10 & 0x1f)) + local_34) * 4);
    uVar6 = local_34;
    do {
      puVar8 = puVar8 + -iVar12;
      uVar6 = uVar6 - iVar12;
      *puVar8 = param_3;
    } while (uVar6 != 0);
    for (uVar6 = 1 << ((char)local_c - 1U & 0x1f); (local_18 & uVar6) != 0; uVar6 = uVar6 >> 1) {
    }
    if (uVar6 == 0) {
      local_18 = 0;
    }
    else {
      local_18 = (uVar6 - 1 & local_18) + uVar6;
    }
    local_1c = local_1c + 1;
    psVar1 = (short *)((int)&local_60 + local_c * 2);
    *psVar1 = *psVar1 + -1;
    if (*psVar1 == 0) {
      if (uVar5 == local_10) {
        param_3._0_2_ = CONCAT11(cVar3 - bVar10,0x40);
        param_3 = (uint)(ushort)param_3;
        break;
      }
      uVar5 = (uint)*(ushort *)(param_2 + (uint)*local_1c * 2);
      local_c = uVar5;
    }
    if (local_8 < uVar5) {
      local_40 = local_38 & local_18;
      if (local_40 != local_2c) {
        if (uVar4 == 0) {
          uVar4 = local_8;
        }
        local_14 = local_14 + local_3c * 4;
        iVar9 = local_c - uVar4;
        uVar5 = uVar4 + iVar9;
        iVar12 = 1 << ((byte)iVar9 & 0x1f);
        if (uVar5 < local_10) {
          puVar11 = (ushort *)((int)&local_60 + uVar5 * 2);
          do {
            uVar2 = *puVar11;
            if ((int)(iVar12 - (uint)uVar2) < 1) break;
            uVar5 = uVar5 + 1;
            iVar9 = iVar9 + 1;
            puVar11 = puVar11 + 1;
            iVar12 = (iVar12 - (uint)uVar2) * 2;
          } while (uVar5 < local_10);
        }
        local_34 = 1 << ((byte)iVar9 & 0x1f);
        local_30 = local_30 + local_34;
        if (param_1 == 1) {
          bVar13 = local_30 < 0x354;
LAB_0044a485:
          if (!bVar13) {
            return 1;
          }
        }
        else if (param_1 == 2) {
          bVar13 = local_30 < 0x250;
          goto LAB_0044a485;
        }
        *(byte *)(*param_4 + local_40 * 4) = (byte)iVar9;
        *(undefined *)(*param_4 + 1 + local_40 * 4) = (undefined)local_8;
        local_2c = local_40;
        *(short *)(*param_4 + 2 + local_40 * 4) = (short)(local_14 - *param_4 >> 2);
      }
    }
  } while( true );
joined_r0x0044a4c8:
  if (local_18 == 0) {
LAB_0044a523:
    *param_4 = *param_4 + local_30 * 4;
    *param_5 = local_8;
    return 0;
  }
  if ((uVar4 != 0) && ((local_38 & local_18) != local_2c)) {
    local_14 = *param_4;
    uVar4 = 0;
    param_3._0_2_ = CONCAT11((undefined)local_8,(undefined)param_3);
    param_3 = (uint)(ushort)param_3;
    uVar5 = local_8;
  }
  *(uint *)(local_14 + (local_18 >> ((byte)uVar4 & 0x1f)) * 4) = param_3;
  for (uVar6 = 1 << ((char)uVar5 - 1U & 0x1f); (local_18 & uVar6) != 0; uVar6 = uVar6 >> 1) {
  }
  if (uVar6 == 0) goto LAB_0044a523;
  local_18 = (local_18 & uVar6 - 1) + uVar6;
  goto joined_r0x0044a4c8;
}



int FUN_0044a570(void)

{
  int *in_EAX;
  int *piVar1;
  int iVar2;
  
  piVar1 = _errno();
  *piVar1 = 0;
  if (in_EAX[0xb0] == 0) {
    return -1;
  }
  if (*in_EAX != 0) {
    iVar2 = FUN_0044d040((void **)(in_EAX + 6),0x10000);
    iVar2 = (*(code *)in_EAX[0xb0])(iVar2,1,0x10000,*in_EAX);
    if (0 < iVar2) {
      FUN_0044d0c0((int)(in_EAX + 6),iVar2);
    }
    if ((iVar2 == 0) && (piVar1 = _errno(), *piVar1 != 0)) {
      return -1;
    }
    return iVar2;
  }
  return 0;
}



undefined4 __cdecl FUN_0044a5e0(int param_1,int param_2)

{
  int *in_EAX;
  int iVar1;
  
  if (*in_EAX == 0) {
    return 0xffffff7f;
  }
  if ((code *)in_EAX[0xb1] != (code *)0x0) {
    iVar1 = (*(code *)in_EAX[0xb1])(*in_EAX,param_1,param_2,0);
    if (iVar1 != -1) {
      in_EAX[2] = param_1;
      in_EAX[3] = param_2;
      FUN_0044d490((int)(in_EAX + 6));
      return 0;
    }
  }
  return 0xffffff80;
}



undefined8 __cdecl FUN_0044a640(int *param_1,uint param_2,uint param_3)

{
  uint *puVar1;
  uint uVar2;
  undefined8 uVar3;
  uint uVar4;
  int iVar5;
  int unaff_ESI;
  bool bVar6;
  
  if ((int)param_3 < 0) goto LAB_0044a67d;
  if ((0 < (int)param_3) || (param_2 != 0)) {
    bVar6 = CARRY4(param_2,*(uint *)(unaff_ESI + 8));
    param_2 = param_2 + *(uint *)(unaff_ESI + 8);
    param_3 = param_3 + *(int *)(unaff_ESI + 0xc) + (uint)bVar6;
  }
  while( true ) {
    while( true ) {
      if (((-1 < (int)param_3) && ((0 < (int)param_3 || (param_2 != 0)))) &&
         (((int)param_3 < *(int *)(unaff_ESI + 0xc) ||
          (((int)param_3 <= *(int *)(unaff_ESI + 0xc) && (param_2 <= *(uint *)(unaff_ESI + 8)))))))
      {
        return 0xffffffffffffffff;
      }
LAB_0044a67d:
      uVar4 = FUN_0044d0e0((int *)(unaff_ESI + 0x18),param_1);
      if (-1 < (int)uVar4) break;
      puVar1 = (uint *)(unaff_ESI + 8);
      uVar2 = *puVar1;
      *puVar1 = *puVar1 - uVar4;
      *(int *)(unaff_ESI + 0xc) =
           (*(int *)(unaff_ESI + 0xc) - ((int)uVar4 >> 0x1f)) - (uint)(uVar2 < uVar4);
    }
    if (uVar4 != 0) {
      uVar2 = *(uint *)(undefined8 *)(unaff_ESI + 8);
      uVar3 = *(undefined8 *)(unaff_ESI + 8);
      *(uint *)(unaff_ESI + 0xc) =
           ((int)uVar4 >> 0x1f) + *(int *)(unaff_ESI + 0xc) + (uint)CARRY4(uVar4,uVar2);
      *(uint *)(unaff_ESI + 8) = uVar4 + uVar2;
      return uVar3;
    }
    if ((param_2 | param_3) == 0) break;
    iVar5 = FUN_0044a570();
    if (iVar5 == 0) {
      return 0xfffffffffffffffe;
    }
    if (iVar5 < 0) {
      return 0xffffffffffffff80;
    }
  }
  return 0xffffffffffffffff;
}



longlong __cdecl FUN_0044a6f0(int *param_1)

{
  int iVar1;
  longlong lVar2;
  int in_EAX;
  uint uVar3;
  int iVar4;
  uint uVar5;
  bool bVar6;
  longlong lVar7;
  longlong lVar8;
  uint local_10;
  int local_c;
  int local_4;
  
  uVar5 = *(uint *)(in_EAX + 8);
  iVar1 = *(int *)(in_EAX + 0xc);
  lVar2 = -1;
  local_c = iVar1;
  local_10 = uVar5;
  do {
    bVar6 = 0xffff < local_10;
    local_10 = local_10 - 0x10000;
    local_c = local_c + -1 + (uint)bVar6;
    if ((local_c < 1) && (local_c < 0)) {
      local_10 = 0;
      local_c = 0;
    }
    uVar3 = FUN_0044a5e0(local_10,local_c);
    if ((uVar3 | (int)uVar3 >> 0x1f) != 0) {
      return (longlong)(int)uVar3;
    }
    iVar4 = *(int *)(in_EAX + 0xc);
    uVar3 = *(uint *)(in_EAX + 8);
    if (iVar4 <= iVar1) {
      lVar7 = lVar2;
      if (iVar4 < iVar1) goto LAB_0044a768;
      while (lVar2 = lVar7, uVar3 < uVar5) {
LAB_0044a768:
        do {
          lVar7 = FUN_0044a640(param_1,uVar5 - uVar3,(iVar1 - iVar4) - (uint)(uVar5 < uVar3));
          if (lVar7 == -0x80) {
            return -0x80;
          }
          if (lVar7 < 0) goto LAB_0044a7a9;
          uVar3 = *(uint *)(in_EAX + 8);
          iVar4 = *(int *)(in_EAX + 0xc);
          lVar2 = lVar7;
        } while (iVar4 < iVar1);
        if (iVar1 < iVar4) break;
      }
    }
LAB_0044a7a9:
    local_4 = (int)((ulonglong)lVar2 >> 0x20);
    if (lVar2 != -1) {
      uVar5 = FUN_0044a5e0((int)lVar2,local_4);
      lVar7 = (longlong)(int)uVar5;
      if ((uVar5 | (int)uVar5 >> 0x1f) == 0) {
        lVar8 = FUN_0044a640(param_1,0x10000,0);
        lVar7 = lVar2;
        if (((int)((ulonglong)lVar8 >> 0x20) == 0 || lVar8 < 0) && (lVar8 < 0)) {
          return -0x81;
        }
      }
      return lVar7;
    }
  } while( true );
}



void FUN_0044a820(void)

{
  int *in_EAX;
  undefined4 uVar1;
  void *pvVar2;
  int *unaff_ESI;
  void **unaff_EDI;
  
  uVar1 = FUN_0044cdc0(in_EAX);
  *unaff_ESI = *unaff_ESI + 1;
  if (unaff_EDI != (void **)0x0) {
    pvVar2 = realloc(*unaff_EDI,*unaff_ESI * 4);
    *unaff_EDI = pvVar2;
    *(undefined4 *)((int)*unaff_EDI + *unaff_ESI * 4 + -4) = uVar1;
    return;
  }
  pvRam00000000 = malloc(4);
  *(undefined4 *)((int)pvRam00000000 + *unaff_ESI * 4 + -4) = uVar1;
  return;
}



undefined4 __fastcall FUN_0044a870(int param_1,int *param_2)

{
  int *in_EAX;
  int iVar1;
  
  iVar1 = FUN_0044cdc0(in_EAX);
  if ((param_2 != (int *)0x0) && (param_1 != 0)) {
    do {
      param_1 = param_1 + -1;
      if (*param_2 == iVar1) {
        return 1;
      }
      param_2 = param_2 + 1;
    } while (param_1 != 0);
  }
  return 0;
}



undefined4 FUN_0044a8a0(void)

{
  byte bVar1;
  int **in_EAX;
  undefined3 extraout_var;
  int iVar2;
  int *unaff_EBX;
  longlong lVar3;
  int local_10 [4];
  
  *in_EAX = (int *)0x0;
  *unaff_EBX = 0;
  lVar3 = FUN_0044a640(local_10,0x10000,0);
  while( true ) {
    if (lVar3 == -2) {
      return 0;
    }
    if (lVar3 < 0) {
      return (int)lVar3;
    }
    bVar1 = FUN_0044cd10(local_10);
    if (CONCAT31(extraout_var,bVar1) == 0) {
      return 0;
    }
    iVar2 = FUN_0044a870(*unaff_EBX,*in_EAX);
    if (iVar2 != 0) break;
    FUN_0044a820();
    lVar3 = FUN_0044a640(local_10,0x10000,0);
  }
  if (*in_EAX != (int *)0x0) {
    free(*in_EAX);
  }
  *in_EAX = (int *)0x0;
  *unaff_EBX = 0;
  return 0xffffff7b;
}



// WARNING: Removing unreachable block (ram,0x0044aa06)
// WARNING: Removing unreachable block (ram,0x0044aa40)
// WARNING: Removing unreachable block (ram,0x0044a9f0)
// WARNING: Removing unreachable block (ram,0x0044ab7f)
// WARNING: Removing unreachable block (ram,0x0044ab36)

uint __cdecl
FUN_0044a960(int param_1,undefined4 param_2,undefined4 param_3,uint param_4,int param_5,uint param_6
            ,int param_7,int *param_8,int param_9,int param_10)

{
  longlong lVar1;
  longlong lVar2;
  uint uVar3;
  int iVar4;
  void *pvVar5;
  uint uVar6;
  bool bVar7;
  longlong lVar8;
  longlong lVar9;
  uint local_28;
  int local_24;
  int local_20;
  int local_1c;
  int local_10;
  uint local_c;
  uint local_4;
  
  lVar2 = CONCAT44(param_5,param_4);
  local_28 = param_6;
  local_24 = param_7;
  lVar1 = CONCAT44(param_5,param_4);
  lVar8 = CONCAT44(param_7,param_6);
  if ((param_5 <= param_7) &&
     ((lVar1 = lVar2, lVar2 = CONCAT44(param_7,param_6), param_5 < param_7 ||
      (lVar8 = CONCAT44(param_7,param_6), lVar2 = CONCAT44(param_7,param_6), param_4 < param_6)))) {
    do {
      uVar3 = (uint)(local_28 < (uint)lVar1);
      uVar6 = local_24 - (int)((ulonglong)lVar1 >> 0x20);
      bVar7 = -1 < (int)(uVar6 - uVar3);
      if ((uVar6 != uVar3 && bVar7) || ((lVar8 = lVar1, bVar7 && (0xffff < local_28 - (uint)lVar1)))
         ) {
        lVar8 = lVar1 + CONCAT44(local_24,local_28);
        lVar8 = __alldiv((uint)lVar8,(uint)((ulonglong)lVar8 >> 0x20),2,0);
      }
      param_5 = (int)((ulonglong)lVar8 >> 0x20);
      uVar6 = (uint)lVar8;
      uVar3 = FUN_0044a5e0(uVar6,param_5);
      if ((uVar3 | (int)uVar3 >> 0x1f) != 0) {
        return uVar3;
      }
      lVar9 = FUN_0044a640(&local_10,0xffffffff,0xffffffff);
      if (lVar9 == -0x80) {
        return 0xffffff80;
      }
      lVar8 = lVar2;
      if ((lVar9 < 0) || (iVar4 = FUN_0044a870(param_9,param_8), iVar4 == 0)) {
        local_24 = param_5;
        local_28 = uVar6;
        if (-1 < lVar9) {
          lVar8 = lVar9;
        }
      }
      else {
        lVar1 = lVar9 + CONCAT44(((int)local_4 >> 0x1f) + ((int)local_c >> 0x1f) +
                                 (uint)CARRY4(local_4,local_c),local_4 + local_c);
      }
      lVar2 = lVar8;
    } while (lVar1 < CONCAT44(local_24,local_28));
  }
  local_1c = (int)((ulonglong)lVar8 >> 0x20);
  local_20 = (int)lVar8;
  uVar3 = FUN_0044a5e0(local_20,local_1c);
  if (((uVar3 | (int)uVar3 >> 0x1f) == 0) &&
     (uVar3 = FUN_0044a8a0(), (uVar3 | (int)uVar3 >> 0x1f) == 0)) {
    *(int *)(param_1 + 0x34) = param_10 + 1;
    pvVar5 = malloc((param_10 + 1) * 8 + 8);
    *(void **)(param_1 + 0x38) = pvVar5;
    *(int *)((int)pvVar5 + param_10 * 8 + 8) = (int)lVar1;
    *(int *)((int)pvVar5 + param_10 * 8 + 0xc) = (int)((ulonglong)lVar1 >> 0x20);
    iVar4 = *(int *)(param_1 + 0x38);
    *(undefined4 *)(iVar4 + param_10 * 8) = param_2;
    *(undefined4 *)(iVar4 + 4 + param_10 * 8) = param_3;
    uVar3 = 0;
  }
  return uVar3;
}



int __thiscall FUN_0044abb0(void *this,undefined4 *param_1,void **param_2,undefined4 *param_3)

{
  void **ppvVar1;
  bool bVar2;
  byte bVar3;
  int *in_EAX;
  undefined3 extraout_var;
  undefined4 uVar4;
  int iVar5;
  undefined3 extraout_var_00;
  undefined3 extraout_var_01;
  int iVar6;
  longlong lVar7;
  int local_30 [4];
  undefined4 local_20 [8];
  
  iVar6 = 0;
  bVar2 = false;
  if (in_EAX == (int *)0x0) {
    lVar7 = FUN_0044a640(local_30,0x10000,0);
    if (lVar7 == -0x80) {
      return (int)lVar7;
    }
    if ((lVar7 < 0x100000000) && (lVar7 < 0)) {
      return -0x84;
    }
    in_EAX = local_30;
  }
  FUN_0044d750(param_1);
  FUN_0044d6a0(param_2);
  bVar3 = FUN_0044cd10(in_EAX);
  if (CONCAT31(extraout_var,bVar3) != 0) {
    ppvVar1 = (void **)((int)this + 0x78);
    do {
      uVar4 = FUN_0044cdc0(in_EAX);
      FUN_0044d500((int)ppvVar1,uVar4);
      FUN_0044d200(ppvVar1,in_EAX);
      iVar5 = FUN_0044d630(ppvVar1,local_20);
      if ((0 < iVar5) && (iVar5 = FUN_0044dd20(local_20), iVar5 != 0)) {
        if (param_3 != (undefined4 *)0x0) {
          *param_3 = *(undefined4 *)((int)this + 0x1c8);
        }
        *(undefined4 *)((int)this + 0x58) = 3;
        iVar5 = FUN_0044ddd0(param_1,(int)param_2,local_20);
        if (iVar5 != 0) goto LAB_0044ad94;
        goto joined_r0x0044ace3;
      }
      lVar7 = FUN_0044a640(in_EAX,0x10000,0);
      if (lVar7 == -0x80) {
        return -0x80;
      }
      if (lVar7 < 0) {
        return -0x84;
      }
      bVar3 = FUN_0044cd10(in_EAX);
    } while (CONCAT31(extraout_var_00,bVar3) != 0);
  }
  iVar5 = -0x84;
LAB_0044ad94:
  FUN_0044d790(param_1);
  FUN_0044d6c0(param_2);
  *(undefined4 *)((int)this + 0x58) = 2;
  return iVar5;
joined_r0x0044ace3:
  while( true ) {
    if (1 < iVar6) {
      return 0;
    }
    iVar5 = FUN_0044d630((int)this + 0x78,local_20);
    if (iVar5 != 0) break;
    if (1 < iVar6) {
      return 0;
    }
    while( true ) {
      lVar7 = FUN_0044a640(in_EAX,0x10000,0);
      if (lVar7 < 0) goto LAB_0044ad8f;
      iVar5 = FUN_0044cdc0(in_EAX);
      if (*(int *)((int)this + 0x1c8) == iVar5) break;
      bVar3 = FUN_0044cd10(in_EAX);
      if (CONCAT31(extraout_var_01,bVar3) != 0) {
        if (bVar2) goto LAB_0044ad8f;
        bVar2 = true;
      }
    }
    FUN_0044d200((void **)((int)this + 0x78),in_EAX);
  }
  if (iVar5 == -1) {
LAB_0044ad8f:
    iVar5 = -0x85;
    goto LAB_0044ad94;
  }
  iVar5 = FUN_0044ddd0(param_1,(int)param_2,local_20);
  if (iVar5 != 0) goto LAB_0044ad94;
  iVar6 = iVar6 + 1;
  goto joined_r0x0044ace3;
}



// WARNING: Removing unreachable block (ram,0x0044b020)

void __cdecl FUN_0044ade0(int param_1,int param_2)

{
  void **ppvVar1;
  uint *puVar2;
  int *piVar3;
  undefined4 *puVar4;
  byte bVar5;
  void *in_EAX;
  void *pvVar6;
  int iVar7;
  undefined3 extraout_var;
  int iVar8;
  int iVar9;
  uint uVar10;
  int iVar11;
  bool bVar12;
  longlong lVar13;
  longlong lVar14;
  undefined8 uVar15;
  uint local_38;
  int local_34;
  int local_30 [4];
  undefined4 local_20 [8];
  
  pvVar6 = realloc(*(void **)((int)in_EAX + 0x48),*(int *)((int)in_EAX + 0x34) << 5);
  *(void **)((int)in_EAX + 0x48) = pvVar6;
  pvVar6 = realloc(*(void **)((int)in_EAX + 0x4c),*(int *)((int)in_EAX + 0x34) << 4);
  *(void **)((int)in_EAX + 0x4c) = pvVar6;
  pvVar6 = malloc(*(int *)((int)in_EAX + 0x34) * 4);
  *(void **)((int)in_EAX + 0x40) = pvVar6;
  pvVar6 = malloc(*(int *)((int)in_EAX + 0x34) * 8);
  *(void **)((int)in_EAX + 0x3c) = pvVar6;
  pvVar6 = malloc(*(int *)((int)in_EAX + 0x34) << 4);
  iVar11 = 0;
  *(void **)((int)in_EAX + 0x44) = pvVar6;
  if (0 < *(int *)((int)in_EAX + 0x34)) {
    do {
      if (iVar11 == 0) {
        **(undefined4 **)((int)in_EAX + 0x40) = *(undefined4 *)((int)in_EAX + 0x5c);
        piVar3 = *(int **)((int)in_EAX + 0x3c);
        *piVar3 = param_1;
        piVar3[1] = param_2;
        iVar7 = FUN_0044a5e0(param_1,param_2);
        if (iVar7 != 0) {
          puVar4 = *(undefined4 **)((int)in_EAX + 0x3c);
          *puVar4 = 0xffffffff;
          puVar4[1] = 0xffffffff;
        }
      }
      else {
        iVar7 = FUN_0044a5e0(*(int *)(*(int *)((int)in_EAX + 0x38) + iVar11 * 8),
                             *(int *)(*(int *)((int)in_EAX + 0x38) + 4 + iVar11 * 8));
        if (iVar7 == 0) {
          iVar8 = FUN_0044abb0(in_EAX,(undefined4 *)(iVar11 * 0x20 + *(int *)((int)in_EAX + 0x48)),
                               (void **)(iVar11 * 0x10 + *(int *)((int)in_EAX + 0x4c)),
                               (undefined4 *)(*(int *)((int)in_EAX + 0x40) + iVar11 * 4));
          iVar7 = *(int *)((int)in_EAX + 0x3c);
          if (iVar8 < 0) {
            *(undefined4 *)(iVar7 + iVar11 * 8) = 0xffffffff;
            *(undefined4 *)(iVar7 + 4 + iVar11 * 8) = 0xffffffff;
          }
          else {
            *(undefined4 *)(iVar7 + iVar11 * 8) = *(undefined4 *)((int)in_EAX + 8);
            *(undefined4 *)(iVar7 + 4 + iVar11 * 8) = *(undefined4 *)((int)in_EAX + 0xc);
          }
        }
        else {
          iVar7 = *(int *)((int)in_EAX + 0x3c);
          *(undefined4 *)(iVar7 + iVar11 * 8) = 0xffffffff;
          *(undefined4 *)(iVar7 + 4 + iVar11 * 8) = 0xffffffff;
        }
      }
      if ((*(uint *)(*(int *)((int)in_EAX + 0x3c) + iVar11 * 8) &
          *(uint *)(*(int *)((int)in_EAX + 0x3c) + 4 + iVar11 * 8)) != 0xffffffff) {
        ppvVar1 = (void **)((int)in_EAX + 0x78);
        local_38 = 0;
        local_34 = 0;
        lVar14 = 0;
        iVar7 = -1;
        FUN_0044d500((int)ppvVar1,*(undefined4 *)(*(int *)((int)in_EAX + 0x40) + iVar11 * 4));
        lVar13 = FUN_0044a640(local_30,0xffffffff,0xffffffff);
        if (-1 < lVar13) {
          do {
            lVar14 = CONCAT44(local_34,local_38);
            bVar5 = FUN_0044cd10(local_30);
            if (CONCAT31(extraout_var,bVar5) != 0) break;
            iVar8 = FUN_0044cdc0(local_30);
            if (iVar8 == *(int *)(*(int *)((int)in_EAX + 0x40) + iVar11 * 4)) {
              FUN_0044d200(ppvVar1,local_30);
              iVar8 = FUN_0044d630(ppvVar1,local_20);
              while (iVar8 != 0) {
                iVar9 = iVar7;
                if ((0 < iVar8) &&
                   (iVar9 = FUN_0044e150(iVar11 * 0x20 + *(int *)((int)in_EAX + 0x48),local_20),
                   iVar7 != -1)) {
                  uVar10 = iVar9 + iVar7 >> 2;
                  bVar12 = CARRY4(local_38,uVar10);
                  local_38 = local_38 + uVar10;
                  local_34 = local_34 + (iVar9 + iVar7 >> 0x1f) + (uint)bVar12;
                }
                iVar8 = FUN_0044d630(ppvVar1,local_20);
                iVar7 = iVar9;
              }
              lVar14 = FUN_0044cd30(local_30);
              if (lVar14 != -1) {
                lVar14 = FUN_0044cd30(local_30);
                lVar14 = lVar14 - CONCAT44(local_34,local_38);
                break;
              }
            }
            lVar14 = CONCAT44(local_34,local_38);
            lVar13 = FUN_0044a640(local_30,0xffffffff,0xffffffff);
          } while (((int)((ulonglong)lVar13 >> 0x20) != 0 && -1 < lVar13) || (-1 < lVar13));
          local_34 = (int)((ulonglong)lVar14 >> 0x20);
          if ((local_34 < 1) && (lVar14 < 0)) {
            lVar14 = 0;
          }
        }
        local_34 = (int)((ulonglong)lVar14 >> 0x20);
        local_38 = (uint)lVar14;
        iVar7 = *(int *)((int)in_EAX + 0x44);
        *(uint *)(iVar11 * 0x10 + iVar7) = local_38;
        *(int *)(iVar11 * 0x10 + 4 + iVar7) = local_34;
      }
      iVar7 = FUN_0044a5e0(*(int *)(*(int *)((int)in_EAX + 0x38) + 8 + iVar11 * 8),
                           *(int *)(*(int *)((int)in_EAX + 0x38) + 0xc + iVar11 * 8));
      if (iVar7 == 0) {
        lVar14 = FUN_0044a6f0(local_30);
        bVar12 = -1 < lVar14;
        while (bVar12) {
          do {
            iVar7 = FUN_0044cdc0(local_30);
            if ((iVar7 == *(int *)(*(int *)((int)in_EAX + 0x40) + iVar11 * 4)) &&
               (lVar13 = FUN_0044cd30(local_30), lVar13 != -1)) {
              puVar2 = (uint *)(iVar11 * 0x10 + *(int *)((int)in_EAX + 0x44));
              uVar15 = FUN_0044cd30(local_30);
              puVar2[2] = (uint)uVar15 - *puVar2;
              puVar2[3] = ((int)((ulonglong)uVar15 >> 0x20) - puVar2[1]) -
                          (uint)((uint)uVar15 < *puVar2);
              goto LAB_0044b160;
            }
            *(longlong *)((int)in_EAX + 8) = lVar14;
            lVar14 = FUN_0044a6f0(local_30);
            bVar12 = -1 < lVar14;
          } while ((int)((ulonglong)lVar14 >> 0x20) != 0 && bVar12);
        }
        FUN_0044d790((undefined4 *)(iVar11 * 0x20 + *(int *)((int)in_EAX + 0x48)));
        FUN_0044d6c0((void **)(iVar11 * 0x10 + *(int *)((int)in_EAX + 0x4c)));
      }
      else {
        FUN_0044d790((undefined4 *)(iVar11 * 0x20 + *(int *)((int)in_EAX + 0x48)));
        FUN_0044d6c0((void **)(iVar11 * 0x10 + *(int *)((int)in_EAX + 0x4c)));
      }
LAB_0044b160:
      iVar11 = iVar11 + 1;
    } while (iVar11 < *(int *)((int)in_EAX + 0x34));
  }
  return;
}



undefined4 FUN_0044b180(void)

{
  int iVar1;
  int unaff_ESI;
  
  if (3 < *(int *)(unaff_ESI + 0x58)) {
    return 0;
  }
  if (*(int *)(unaff_ESI + 0x58) < 3) {
    return 0xffffff7f;
  }
  if (*(int *)(unaff_ESI + 4) == 0) {
    iVar1 = *(int *)(unaff_ESI + 0x48);
  }
  else {
    iVar1 = *(int *)(unaff_ESI + 0x60) * 0x20 + *(int *)(unaff_ESI + 0x48);
  }
  iVar1 = FUN_0044ea10((int)(int *)(unaff_ESI + 0x1e0),iVar1);
  if (iVar1 != 0) {
    return 0xffffff77;
  }
  FUN_0044e1f0((int *)(unaff_ESI + 0x1e0),(void *)(unaff_ESI + 0x250));
  *(undefined8 *)(unaff_ESI + 0x68) = 0;
  *(undefined8 *)(unaff_ESI + 0x70) = 0;
  *(undefined4 *)(unaff_ESI + 0x58) = 4;
  return 0;
}



void FUN_0044b1f0(void)

{
  int unaff_ESI;
  
  FUN_0044e750((void *)(unaff_ESI + 0x1e0));
  FUN_0044e350((void *)(unaff_ESI + 0x250));
  *(undefined4 *)(unaff_ESI + 0x58) = 2;
  return;
}



int __cdecl FUN_0044b220(undefined4 *param_1,int param_2,int param_3)

{
  byte bVar1;
  void *in_EAX;
  int iVar2;
  undefined3 extraout_var;
  uint uVar3;
  uint *puVar4;
  int iVar5;
  int *piVar6;
  int iVar7;
  undefined4 *puVar8;
  uint uVar9;
  bool bVar10;
  longlong lVar11;
  int local_54;
  int local_50;
  uint local_48;
  uint local_44;
  uint local_40;
  int local_3c;
  int local_38;
  int local_34;
  undefined4 local_28 [9];
  
  do {
    if (*(int *)((int)in_EAX + 0x58) == 4) {
      while( true ) {
        puVar8 = param_1;
        if (param_1 == (undefined4 *)0x0) {
          puVar8 = local_28;
        }
        iVar2 = FUN_0044d630((int)in_EAX + 0x78,puVar8);
        param_1 = (undefined4 *)0x0;
        if (iVar2 == -1) {
          return -3;
        }
        if (iVar2 < 1) break;
        local_48 = puVar8[4];
        local_44 = puVar8[5];
        iVar2 = FUN_0044df30((int *)((int)in_EAX + 0x250),puVar8);
        if (iVar2 == 0) {
          iVar2 = FUN_0044f440((int)in_EAX + 0x1e0,(undefined4 *)0x0);
          if (iVar2 == 0) {
            FUN_0044ea40((int)in_EAX + 0x1e0,(int *)((int)in_EAX + 0x250));
            iVar2 = FUN_0044f440((int)in_EAX + 0x1e0,(undefined4 *)0x0);
            *(double *)((int)in_EAX + 0x70) = (double)iVar2 + *(double *)((int)in_EAX + 0x70);
            *(double *)((int)in_EAX + 0x68) =
                 (double)(puVar8[1] * 8) + *(double *)((int)in_EAX + 0x68);
            if (((local_48 & local_44) != 0xffffffff) && (puVar8[3] == 0)) {
              if (*(int *)((int)in_EAX + 4) == 0) {
                local_54 = 0;
              }
              else {
                local_54 = *(int *)((int)in_EAX + 0x60);
                if (0 < local_54) {
                  uVar3 = *(uint *)(local_54 * 0x10 + *(int *)((int)in_EAX + 0x44));
                  bVar10 = local_48 < uVar3;
                  local_48 = local_48 - uVar3;
                  local_44 = (local_44 -
                             *(int *)(local_54 * 0x10 + 4 + *(int *)((int)in_EAX + 0x44))) -
                             (uint)bVar10;
                }
              }
              if (((int)local_44 < 1) && ((int)local_44 < 0)) {
                local_48 = 0;
                local_44 = 0;
              }
              local_40 = 0;
              local_3c = 0;
              uVar9 = 0;
              iVar7 = 0;
              uVar3 = FUN_0044f440((int)in_EAX + 0x1e0,(undefined4 *)0x0);
              bVar10 = local_48 < uVar3;
              local_48 = local_48 - uVar3;
              local_44 = (local_44 - ((int)uVar3 >> 0x1f)) - (uint)bVar10;
              iVar2 = 0;
              if (1 < local_54) {
                puVar4 = (uint *)(*(int *)((int)in_EAX + 0x44) + 0x18);
                local_50 = (local_54 - 2U >> 1) + 1;
                iVar2 = local_50 * 2;
                do {
                  bVar10 = CARRY4(local_40,puVar4[-4]);
                  local_40 = local_40 + puVar4[-4];
                  local_3c = local_3c + puVar4[-3] + (uint)bVar10;
                  bVar10 = CARRY4(uVar9,*puVar4);
                  uVar9 = uVar9 + *puVar4;
                  iVar7 = iVar7 + puVar4[1] + (uint)bVar10;
                  puVar4 = puVar4 + 8;
                  local_50 = local_50 + -1;
                } while (local_50 != 0);
              }
              if (iVar2 < local_54) {
                uVar3 = *(uint *)(iVar2 * 0x10 + 8 + *(int *)((int)in_EAX + 0x44));
                bVar10 = CARRY4(local_48,uVar3);
                local_48 = local_48 + uVar3;
                local_44 = local_44 + *(int *)(iVar2 * 0x10 + 0xc + *(int *)((int)in_EAX + 0x44)) +
                           (uint)bVar10;
              }
              *(uint *)((int)in_EAX + 0x50) = uVar9 + local_40 + local_48;
              *(uint *)((int)in_EAX + 0x54) =
                   iVar7 + local_3c + (uint)CARRY4(uVar9,local_40) + local_44 +
                   (uint)CARRY4(uVar9 + local_40,local_48);
            }
            return 1;
          }
          return -0x81;
        }
      }
    }
    if (1 < *(int *)((int)in_EAX + 0x58)) {
      do {
        if (param_2 == 0) {
          return 0;
        }
        lVar11 = FUN_0044a640(&local_38,0xffffffff,0xffffffff);
        if (lVar11 < 0) {
          return -2;
        }
        *(double *)((int)in_EAX + 0x68) = (double)(local_34 * 8) + *(double *)((int)in_EAX + 0x68);
        if (*(int *)((int)in_EAX + 0x58) != 4) goto LAB_0044b344;
        iVar2 = FUN_0044cdc0(&local_38);
        if (*(int *)((int)in_EAX + 0x5c) == iVar2) goto LAB_0044b33b;
        bVar1 = FUN_0044cd10(&local_38);
      } while (CONCAT31(extraout_var,bVar1) == 0);
      if (param_3 == 0) {
        return -2;
      }
      FUN_0044b1f0();
      if (*(int *)((int)in_EAX + 4) == 0) {
        FUN_0044d790(*(undefined4 **)((int)in_EAX + 0x48));
        FUN_0044d6c0(*(void ***)((int)in_EAX + 0x4c));
      }
    }
LAB_0044b33b:
    if (*(int *)((int)in_EAX + 0x58) == 4) goto LAB_0044b3d1;
LAB_0044b344:
    if (2 < *(int *)((int)in_EAX + 0x58)) goto LAB_0044b3c4;
    if (*(int *)((int)in_EAX + 4) == 0) {
      iVar2 = FUN_0044abb0(in_EAX,*(undefined4 **)((int)in_EAX + 0x48),
                           *(void ***)((int)in_EAX + 0x4c),(undefined4 *)((int)in_EAX + 0x5c));
      if (iVar2 != 0) {
        return iVar2;
      }
      *(int *)((int)in_EAX + 0x60) = *(int *)((int)in_EAX + 0x60) + 1;
      goto LAB_0044b3c4;
    }
    iVar7 = FUN_0044cdc0(&local_38);
    iVar2 = *(int *)((int)in_EAX + 0x34);
    iVar5 = 0;
    if (0 < iVar2) {
      piVar6 = *(int **)((int)in_EAX + 0x40);
      do {
        if (*piVar6 == iVar7) break;
        iVar5 = iVar5 + 1;
        piVar6 = piVar6 + 1;
      } while (iVar5 < iVar2);
    }
    if (iVar5 != iVar2) {
      *(int *)((int)in_EAX + 0x60) = iVar5;
      *(int *)((int)in_EAX + 0x5c) = iVar7;
      FUN_0044d500((int)in_EAX + 0x78,iVar7);
      *(undefined4 *)((int)in_EAX + 0x58) = 3;
LAB_0044b3c4:
      iVar2 = FUN_0044b180();
      if (iVar2 < 0) {
        return iVar2;
      }
LAB_0044b3d1:
      FUN_0044d200((void **)((int)in_EAX + 0x78),&local_38);
    }
  } while( true );
}



undefined4 __cdecl FUN_0044b590(int *param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  
  if (param_1 != (int *)0x0) {
    FUN_0044e350(param_1 + 0x94);
    FUN_0044e750(param_1 + 0x78);
    FUN_0044ce90((void **)(param_1 + 0x1e));
    if ((param_1[0x12] != 0) && (param_1[0xd] != 0)) {
      iVar2 = 0;
      if (0 < param_1[0xd]) {
        iVar1 = 0;
        iVar3 = 0;
        do {
          FUN_0044d790((undefined4 *)(param_1[0x12] + iVar3));
          FUN_0044d6c0((void **)(param_1[0x13] + iVar1));
          iVar2 = iVar2 + 1;
          iVar3 = iVar3 + 0x20;
          iVar1 = iVar1 + 0x10;
        } while (iVar2 < param_1[0xd]);
      }
      free((void *)param_1[0x12]);
      free((void *)param_1[0x13]);
    }
    if ((void *)param_1[0xf] != (void *)0x0) {
      free((void *)param_1[0xf]);
    }
    if ((void *)param_1[0x11] != (void *)0x0) {
      free((void *)param_1[0x11]);
    }
    if ((void *)param_1[0x10] != (void *)0x0) {
      free((void *)param_1[0x10]);
    }
    if ((void *)param_1[0xe] != (void *)0x0) {
      free((void *)param_1[0xe]);
    }
    FUN_0044d010((void **)(param_1 + 6));
    if ((*param_1 != 0) && ((code *)param_1[0xb2] != (code *)0x0)) {
      (*(code *)param_1[0xb2])(*param_1);
    }
    memset(param_1,0,0x2d0);
  }
  return 0;
}



longlong __cdecl FUN_0044b6a0(int param_1,int param_2)

{
  longlong lVar1;
  int iVar2;
  longlong lVar3;
  
  if (((1 < *(int *)(param_1 + 0x58)) && (*(int *)(param_1 + 4) != 0)) &&
     (param_2 < *(int *)(param_1 + 0x34))) {
    if (-1 < param_2) {
      return CONCAT44(*(undefined4 *)(*(int *)(param_1 + 0x44) + 0xc + param_2 * 0x10),
                      *(undefined4 *)(*(int *)(param_1 + 0x44) + 8 + param_2 * 0x10));
    }
    lVar1 = 0;
    lVar3 = 0;
    iVar2 = 0;
    if (0 < *(int *)(param_1 + 0x34)) {
      do {
        lVar3 = FUN_0044b6a0(param_1,iVar2);
        lVar3 = lVar3 + lVar1;
        iVar2 = iVar2 + 1;
        lVar1 = lVar3;
      } while (iVar2 < *(int *)(param_1 + 0x34));
    }
    return lVar3;
  }
  return -0x83;
}



float10 __cdecl FUN_0044b710(int param_1,int param_2)

{
  int iVar1;
  float10 fVar2;
  double local_10;
  
  if (((*(int *)(param_1 + 0x58) < 2) || (*(int *)(param_1 + 4) == 0)) ||
     (*(int *)(param_1 + 0x34) <= param_2)) {
    return (float10)-131.0;
  }
  if (-1 < param_2) {
    return (float10)*(longlong *)(*(int *)(param_1 + 0x44) + 8 + param_2 * 0x10) /
           (float10)*(int *)(*(int *)(param_1 + 0x48) + 8 + param_2 * 0x20);
  }
  fVar2 = (float10)0;
  iVar1 = 0;
  if (*(int *)(param_1 + 0x34) < 1) {
    return fVar2;
  }
  do {
    local_10 = (double)fVar2;
    fVar2 = FUN_0044b710(param_1,iVar1);
    fVar2 = fVar2 + (float10)local_10;
    iVar1 = iVar1 + 1;
  } while (iVar1 < *(int *)(param_1 + 0x34));
  return fVar2;
}



void __cdecl FUN_0044b790(int param_1,uint param_2,int param_3)

{
  byte bVar1;
  int iVar2;
  int iVar3;
  undefined3 extraout_var;
  undefined3 extraout_var_00;
  int iVar4;
  uint *puVar5;
  undefined4 uVar6;
  int *piVar7;
  uint uVar8;
  uint uVar9;
  int iVar10;
  bool bVar11;
  longlong lVar12;
  int local_1b4;
  uint local_1b0;
  int local_1ac;
  uint local_1a8;
  int local_1a4;
  uint local_1a0;
  int local_19c [4];
  undefined4 local_18c [4];
  uint local_17c;
  uint local_178;
  void *local_16c [90];
  uint local_4;
  
  local_4 = DAT_0047a940 ^ (uint)&local_1b4;
  if (*(int *)(param_1 + 0x58) < 2) {
    ___security_check_cookie_4(local_4 ^ (uint)&local_1b4);
    return;
  }
  if (*(int *)(param_1 + 4) == 0) {
    ___security_check_cookie_4(local_4 ^ (uint)&local_1b4);
    return;
  }
  if (((param_3 < 0) || (*(int *)(param_1 + 0x14) < param_3)) ||
     ((*(int *)(param_1 + 0x14) <= param_3 &&
      (*(uint *)(param_1 + 0x10) <= param_2 && param_2 != *(uint *)(param_1 + 0x10))))) {
    ___security_check_cookie_4(local_4 ^ (uint)&local_1b4);
    return;
  }
  *(undefined4 *)(param_1 + 0x50) = 0xffffffff;
  *(undefined4 *)(param_1 + 0x54) = 0xffffffff;
  FUN_0044d500(param_1 + 0x78,*(undefined4 *)(param_1 + 0x5c));
  FUN_0044e9a0(param_1 + 0x1e0);
  iVar2 = FUN_0044a5e0(param_2,param_3);
  if (iVar2 == 0) {
    iVar2 = 0;
    local_1a0 = 0;
    local_1b4 = 0;
    FUN_0044ce20(local_16c,*(void **)(param_1 + 0x5c));
    FUN_0044d4b0((int)local_16c);
LAB_0044b8b2:
    do {
      if ((*(int *)(param_1 + 0x58) < 3) || (iVar3 = FUN_0044d630(local_16c,local_18c), iVar3 < 1))
      {
LAB_0044b960:
        if (iVar2 == 0) {
          lVar12 = FUN_0044a640(local_19c,0xffffffff,0xffffffff);
          if (-1 < lVar12) {
            if (*(int *)(param_1 + 0x58) < 3) {
LAB_0044b9ca:
              iVar4 = FUN_0044cdc0(local_19c);
              iVar3 = *(int *)(param_1 + 0x34);
              iVar10 = 0;
              if (0 < iVar3) {
                piVar7 = *(int **)(param_1 + 0x40);
                do {
                  if (*piVar7 == iVar4) break;
                  iVar10 = iVar10 + 1;
                  piVar7 = piVar7 + 1;
                } while (iVar10 < iVar3);
              }
              if (iVar10 == iVar3) goto LAB_0044b8b2;
              *(int *)(param_1 + 0x60) = iVar10;
              *(int *)(param_1 + 0x5c) = iVar4;
              FUN_0044d500(param_1 + 0x78,iVar4);
              FUN_0044d500((int)local_16c,iVar4);
              *(undefined4 *)(param_1 + 0x58) = 3;
            }
            else {
              iVar3 = FUN_0044cdc0(local_19c);
              if ((*(int *)(param_1 + 0x5c) != iVar3) &&
                 (bVar1 = FUN_0044cd10(local_19c), CONCAT31(extraout_var,bVar1) != 0)) {
                FUN_0044b1f0();
                FUN_0044ce90(local_16c);
              }
              if (*(int *)(param_1 + 0x58) < 3) goto LAB_0044b9ca;
            }
            FUN_0044d200((void **)(param_1 + 0x78),local_19c);
            FUN_0044d200(local_16c,local_19c);
            bVar1 = FUN_0044cd20(local_19c);
            local_1b4 = CONCAT31(extraout_var_00,bVar1);
            goto LAB_0044b8b2;
          }
          lVar12 = FUN_0044b6a0(param_1,-1);
          uVar6 = (undefined4)lVar12;
          *(int *)(param_1 + 0x54) = (int)((ulonglong)lVar12 >> 0x20);
        }
        else {
          uVar6 = 0xffffffff;
          *(undefined4 *)(param_1 + 0x54) = 0xffffffff;
        }
        *(undefined4 *)(param_1 + 0x50) = uVar6;
        goto LAB_0044bb19;
      }
      iVar3 = *(int *)(param_1 + 0x60) * 0x20 + *(int *)(param_1 + 0x48);
      if (*(int *)(iVar3 + 0x1c) == 0) {
        FUN_0044d630(param_1 + 0x78,0);
        goto LAB_0044b960;
      }
      iVar3 = FUN_0044e150(iVar3,local_18c);
      if (iVar3 < 0) {
        FUN_0044d630(param_1 + 0x78,0);
        iVar3 = 0;
      }
      else if (local_1b4 == 0) {
        if (iVar2 != 0) {
          local_1a0 = local_1a0 + (iVar2 + iVar3 >> 2);
        }
      }
      else {
        FUN_0044d630(param_1 + 0x78,0);
      }
      iVar2 = iVar3;
    } while ((local_17c & local_178) == 0xffffffff);
    iVar2 = *(int *)(param_1 + 0x60);
    iVar3 = *(int *)(param_1 + 0x44);
    puVar5 = (uint *)(iVar2 * 0x10 + iVar3);
    local_1b0 = local_17c - *puVar5;
    local_1ac = (local_178 - *(int *)(iVar2 * 0x10 + 4 + iVar3)) - (uint)(local_17c < *puVar5);
    uVar8 = 0;
    if ((local_1ac < 1) && (local_1ac < 0)) {
      local_1b0 = 0;
      local_1ac = 0;
    }
    iVar10 = 0;
    iVar4 = 0;
    local_1a8 = 0;
    local_1a4 = 0;
    if (1 < iVar2) {
      iVar2 = (iVar2 - 2U >> 1) + 1;
      iVar4 = iVar2 * 2;
      puVar5 = (uint *)(iVar3 + 0x18);
      do {
        bVar11 = CARRY4(local_1a8,puVar5[-4]);
        local_1a8 = local_1a8 + puVar5[-4];
        local_1a4 = local_1a4 + puVar5[-3] + (uint)bVar11;
        bVar11 = CARRY4(uVar8,*puVar5);
        uVar8 = uVar8 + *puVar5;
        iVar10 = iVar10 + puVar5[1] + (uint)bVar11;
        puVar5 = puVar5 + 8;
        iVar2 = iVar2 + -1;
        local_1b4 = iVar4;
      } while (iVar2 != 0);
    }
    iVar2 = local_1ac;
    if (iVar4 < *(int *)(param_1 + 0x60)) {
      uVar9 = *(uint *)(iVar4 * 0x10 + 8 + iVar3);
      bVar11 = CARRY4(local_1b0,uVar9);
      local_1b0 = local_1b0 + uVar9;
      iVar2 = local_1ac + *(int *)(iVar4 * 0x10 + 0xc + iVar3) + (uint)bVar11;
    }
    uVar9 = (uVar8 - local_1a0) + local_1a8;
    *(uint *)(param_1 + 0x50) = uVar9 + local_1b0;
    *(uint *)(param_1 + 0x54) =
         ((iVar10 - ((int)local_1a0 >> 0x1f)) - (uint)(uVar8 < local_1a0)) + local_1a4 +
         (uint)CARRY4(uVar8 - local_1a0,local_1a8) + iVar2 + (uint)CARRY4(uVar9,local_1b0);
LAB_0044bb19:
    FUN_0044ce90(local_16c);
    *(undefined8 *)(param_1 + 0x68) = 0;
    *(undefined8 *)(param_1 + 0x70) = 0;
  }
  else {
    *(undefined4 *)(param_1 + 0x50) = 0xffffffff;
    *(undefined4 *)(param_1 + 0x54) = 0xffffffff;
    FUN_0044ce90(local_16c);
    FUN_0044b1f0();
  }
  ___security_check_cookie_4(local_4 ^ (uint)&local_1b4);
  return;
}



// WARNING: Removing unreachable block (ram,0x0044bbd2)
// WARNING: Removing unreachable block (ram,0x0044c0e6)
// WARNING: Removing unreachable block (ram,0x0044be1f)
// WARNING: Removing unreachable block (ram,0x0044bcca)
// WARNING: Removing unreachable block (ram,0x0044c16c)
// WARNING: Removing unreachable block (ram,0x0044bf2c)
// WARNING: Removing unreachable block (ram,0x0044befd)

uint __cdecl FUN_0044bb60(int param_1,uint param_2,int param_3)

{
  void **ppvVar1;
  uint *puVar2;
  int iVar3;
  longlong lVar4;
  longlong lVar5;
  longlong lVar6;
  longlong lVar7;
  byte bVar8;
  uint uVar9;
  int iVar10;
  uint uVar11;
  uint uVar12;
  undefined3 extraout_var;
  longlong *plVar13;
  int iVar14;
  int iVar15;
  int iVar16;
  uint uVar17;
  uint uVar18;
  bool bVar19;
  longlong lVar20;
  longlong lVar21;
  longlong lVar22;
  undefined8 uVar23;
  uint local_84;
  uint local_80;
  uint local_7c;
  int local_78;
  undefined8 local_74;
  uint local_60;
  int local_5c;
  int local_58;
  int local_54;
  undefined8 local_48;
  uint local_40;
  uint local_3c;
  int local_30 [4];
  undefined local_20 [16];
  uint local_10;
  uint local_c;
  
  local_74 = FUN_0044b6a0(param_1,-1);
  if (*(int *)(param_1 + 0x58) < 2) {
    return 0xffffff7d;
  }
  if (*(int *)(param_1 + 4) == 0) {
    return 0xffffff76;
  }
  if ((param_3 < 0) || (local_74 < CONCAT44(param_3,param_2))) {
    return 0xffffff7d;
  }
  iVar15 = *(int *)(param_1 + 0x34) + -1;
  if (-1 < iVar15) {
    plVar13 = (longlong *)(iVar15 * 0x10 + 8 + *(int *)(param_1 + 0x44));
    do {
      uVar9 = (uint)local_74 - *(uint *)plVar13;
      iVar14 = ((int)((ulonglong)local_74 >> 0x20) - *(uint *)((int)plVar13 + 4)) -
               (uint)((uint)local_74 < *(uint *)plVar13);
      local_74 = local_74 - *plVar13;
      if ((iVar14 < param_3) || ((iVar14 <= param_3 && (uVar9 <= param_2)))) break;
      iVar15 = iVar15 + -1;
      plVar13 = plVar13 + -2;
    } while (-1 < iVar15);
    local_74 = CONCAT44(iVar14,uVar9);
  }
  uVar9 = *(uint *)(*(int *)(param_1 + 0x38) + 8 + iVar15 * 8);
  plVar13 = (longlong *)(*(int *)(param_1 + 0x38) + iVar15 * 8);
  uVar18 = *(uint *)((int)plVar13 + 0xc);
  iVar16 = iVar15 * 0x10;
  iVar14 = *(int *)(param_1 + 0x44);
  uVar11 = *(uint *)(iVar16 + iVar14);
  uVar12 = *(uint *)(iVar16 + 8 + iVar14);
  iVar3 = *(int *)(iVar16 + iVar14 + 4);
  uVar17 = (uVar11 - (uint)local_74) + param_2;
  local_84 = *(uint *)plVar13;
  local_80 = *(uint *)((int)plVar13 + 4);
  iVar10 = ((iVar3 - local_74._4_4_) - (uint)(uVar11 < (uint)local_74)) + param_3 +
           (uint)CARRY4(uVar11 - (uint)local_74,param_2);
  local_48 = CONCAT44(*(int *)(iVar16 + iVar14 + 0xc) + iVar3 + (uint)CARRY4(uVar12,uVar11),
                      uVar12 + uVar11);
  lVar22 = *plVar13;
  if (((int)local_80 <= (int)uVar18) &&
     ((lVar4 = CONCAT44(iVar3,uVar11), lVar5 = CONCAT44(uVar18,uVar9), lVar20 = *plVar13,
      (int)local_80 < (int)uVar18 ||
      (lVar4 = CONCAT44(iVar3,uVar11), lVar22 = *plVar13, lVar5 = CONCAT44(uVar18,uVar9),
      lVar20 = *plVar13, local_84 < uVar9)))) {
    do {
      lVar22 = lVar20;
      local_5c = (int)((ulonglong)lVar4 >> 0x20);
      local_60 = (uint)lVar4;
      lVar20 = lVar5 - CONCAT44(local_80,local_84);
      uVar9 = local_84;
      uVar18 = local_80;
      if (0xffff < lVar20) {
        lVar20 = __allmul(uVar17 - local_60,(iVar10 - local_5c) - (uint)(uVar17 < local_60),
                          (uint)lVar20,(uint)((ulonglong)lVar20 >> 0x20));
        lVar20 = __alldiv((uint)lVar20,(uint)((ulonglong)lVar20 >> 0x20),(uint)local_48 - local_60,
                          (local_48._4_4_ - local_5c) - (uint)((uint)local_48 < local_60));
        lVar20 = lVar20 + CONCAT44(local_80,local_84);
        uVar18 = (uint)lVar20;
        uVar9 = uVar18 - 0x10000;
        uVar18 = (int)((ulonglong)lVar20 >> 0x20) - (uint)(uVar18 < 0x10000);
        if (((int)uVar18 <= (int)local_80) && (((int)uVar18 < (int)local_80 || (uVar9 <= local_84)))
           ) {
          uVar9 = local_84 + 1;
          uVar18 = local_80 + (0xfffffffe < local_84);
        }
      }
      uVar11 = FUN_0044a5e0(uVar9,uVar18);
      if ((uVar11 | (int)uVar11 >> 0x1f) != 0) goto LAB_0044c197;
LAB_0044bd50:
      lVar6 = CONCAT44(uVar18,uVar9);
      local_78 = (int)((ulonglong)lVar5 >> 0x20);
      local_7c = (uint)lVar5;
      lVar20 = FUN_0044a640(local_30,local_7c - *(uint *)(param_1 + 8),
                            (local_78 - *(int *)(param_1 + 0xc)) -
                            (uint)(local_7c < *(uint *)(param_1 + 8)));
      uVar11 = (uint)lVar20;
      if (lVar20 == -0x80) goto LAB_0044c197;
      if ((lVar20 < 0x100000000) && (lVar20 < 0)) {
        uVar12 = local_80 + (0xfffffffe < local_84);
        if (((int)uVar18 < (int)uVar12) || (((int)uVar18 <= (int)uVar12 && (uVar9 <= local_84 + 1)))
           ) break;
        if ((uVar9 | uVar18) == 0) goto LAB_0044c197;
        uVar11 = uVar9 - 0x10000;
        uVar18 = (uVar18 - 1) + (uint)(0xffff < uVar9);
        uVar9 = uVar11;
        lVar20 = lVar5;
        if (((int)uVar18 <= (int)local_80) &&
           (((int)uVar18 < (int)local_80 || (uVar11 <= local_84)))) {
          uVar9 = local_84 + 1;
          uVar18 = uVar12;
        }
LAB_0044bed6:
        uVar11 = FUN_0044a5e0(uVar9,uVar18);
        lVar5 = lVar20;
        if ((uVar11 | (int)uVar11 >> 0x1f) != 0) goto LAB_0044c197;
LAB_0044beed:
        if (lVar5 <= CONCAT44(local_80,local_84)) break;
        goto LAB_0044bd50;
      }
      iVar14 = FUN_0044cdc0(local_30);
      if (iVar14 != *(int *)(*(int *)(param_1 + 0x40) + iVar15 * 4)) goto LAB_0044beed;
      lVar21 = FUN_0044cd30(local_30);
      if (lVar21 == -1) goto LAB_0044beed;
      if (lVar21 < CONCAT44(iVar10,uVar17)) {
        uVar9 = *(uint *)(param_1 + 8);
        uVar18 = *(uint *)(param_1 + 0xc);
        uVar11 = (uint)(uVar17 < (uint)lVar21);
        uVar12 = iVar10 - (int)((ulonglong)lVar21 >> 0x20);
        bVar19 = -1 < (int)(uVar12 - uVar11);
        local_84 = uVar9;
        local_80 = uVar18;
        lVar7 = local_48;
        lVar4 = lVar21;
        lVar6 = lVar5;
        lVar22 = lVar20;
        if ((uVar12 != uVar11 && bVar19) || ((bVar19 && (0xac44 < uVar17 - (uint)lVar21))))
        goto LAB_0044bf1c;
        goto LAB_0044beed;
      }
      local_40 = local_84 + 1;
      local_3c = local_80 + (0xfffffffe < local_84);
      if (((int)uVar18 < (int)local_3c) || (((int)uVar18 <= (int)local_3c && (uVar9 <= local_40))))
      break;
      lVar7 = lVar21;
      if ((local_7c == *(uint *)(param_1 + 8)) && (local_78 == *(int *)(param_1 + 0xc))) {
        uVar11 = uVar9 - 0x10000;
        uVar18 = (uVar18 - 1) + (uint)(0xffff < uVar9);
        uVar9 = uVar11;
        if (((int)uVar18 <= (int)local_80) &&
           (((int)uVar18 < (int)local_80 || (uVar11 <= local_84)))) {
          uVar9 = local_40;
          uVar18 = local_3c;
        }
        goto LAB_0044bed6;
      }
LAB_0044bf1c:
      local_48 = lVar7;
      lVar5 = lVar6;
      lVar20 = lVar22;
    } while (CONCAT44(local_80,local_84) < lVar6);
  }
  local_54 = (int)((ulonglong)lVar22 >> 0x20);
  local_58 = (int)lVar22;
  uVar11 = FUN_0044a5e0(local_58,local_54);
  *(undefined4 *)(param_1 + 0x50) = 0xffffffff;
  *(undefined4 *)(param_1 + 0x54) = 0xffffffff;
  if ((uVar11 | (int)uVar11 >> 0x1f) == 0) {
    lVar22 = FUN_0044a640((int *)&local_40,0xffffffff,0xffffffff);
    uVar11 = (uint)lVar22;
    if (-1 < lVar22) {
      if (iVar15 == *(int *)(param_1 + 0x60)) {
        FUN_0044e9a0(param_1 + 0x1e0);
      }
      else {
        FUN_0044b1f0();
        *(int *)(param_1 + 0x60) = iVar15;
        *(undefined4 *)(param_1 + 0x5c) = *(undefined4 *)(*(int *)(param_1 + 0x40) + iVar15 * 4);
        *(undefined4 *)(param_1 + 0x58) = 3;
      }
      ppvVar1 = (void **)(param_1 + 0x78);
      FUN_0044d500((int)ppvVar1,*(undefined4 *)(param_1 + 0x5c));
      FUN_0044d200(ppvVar1,(int *)&local_40);
      uVar18 = FUN_0044d650(ppvVar1,local_20);
      uVar9 = (int)uVar18 >> 0x1f;
      for (uVar18 = uVar18 | uVar9; uVar18 != 0; uVar18 = uVar18 | uVar9) {
        if ((int)uVar9 < 0) {
          uVar11 = 0xffffff78;
          goto LAB_0044c197;
        }
        if ((local_10 & local_c) != 0xffffffff) {
          iVar15 = *(int *)(param_1 + 0x60) * 0x10;
          puVar2 = (uint *)(iVar15 + *(int *)(param_1 + 0x44));
          iVar15 = (local_c - *(int *)(iVar15 + 4 + *(int *)(param_1 + 0x44))) -
                   (uint)(local_10 < *puVar2);
          *(uint *)(param_1 + 0x50) = local_10 - *puVar2;
          *(int *)(param_1 + 0x54) = iVar15;
          if ((iVar15 < 1) && (iVar15 < 0)) {
            *(undefined4 *)(param_1 + 0x50) = 0;
            *(undefined4 *)(param_1 + 0x54) = 0;
          }
          puVar2 = (uint *)(param_1 + 0x50);
          uVar9 = *puVar2;
          *puVar2 = *puVar2 + (uint)local_74;
          *(int *)(param_1 + 0x54) =
               *(int *)(param_1 + 0x54) + local_74._4_4_ + (uint)CARRY4(uVar9,(uint)local_74);
          if ((*(int *)(param_1 + 0x54) <= param_3) &&
             (((*(int *)(param_1 + 0x54) < param_3 || (*(uint *)(param_1 + 0x50) <= param_2)) &&
              (lVar22 = FUN_0044b6a0(param_1,-1), CONCAT44(param_3,param_2) <= lVar22)))) {
            *(undefined8 *)(param_1 + 0x68) = 0;
            *(undefined8 *)(param_1 + 0x70) = 0;
            return 0;
          }
          uVar11 = 0xffffff7f;
          goto LAB_0044c197;
        }
        FUN_0044d630(ppvVar1,0);
        uVar18 = FUN_0044d650(ppvVar1,local_20);
        uVar9 = (int)uVar18 >> 0x1f;
      }
      uVar11 = FUN_0044a5e0(local_58,local_54);
      if (-1 < (int)uVar11 >> 0x1f) {
        lVar22 = FUN_0044a6f0((int *)&local_40);
        uVar11 = (uint)lVar22;
        bVar19 = -1 < lVar22;
        while (bVar19) {
          do {
            iVar15 = FUN_0044cdc0((int *)&local_40);
            if ((iVar15 == *(int *)(param_1 + 0x5c)) &&
               ((uVar23 = FUN_0044cd30((int *)&local_40),
                (uint)((ulonglong)uVar23 >> 0x20) < 0x80000000 ||
                (bVar8 = FUN_0044cd00((int *)&local_40), CONCAT31(extraout_var,bVar8) == 0)))) {
              uVar9 = FUN_0044b790(param_1,(uint)lVar22,(int)((ulonglong)lVar22 >> 0x20));
              return uVar9;
            }
            *(longlong *)(param_1 + 8) = lVar22;
            lVar22 = FUN_0044a6f0((int *)&local_40);
            uVar11 = (uint)lVar22;
            bVar19 = -1 < lVar22;
          } while ((int)((ulonglong)lVar22 >> 0x20) != 0 && bVar19);
        }
      }
    }
  }
LAB_0044c197:
  *(undefined4 *)(param_1 + 0x50) = 0xffffffff;
  *(undefined4 *)(param_1 + 0x54) = 0xffffffff;
  FUN_0044b1f0();
  return uVar11;
}



uint __cdecl FUN_0044c1c0(int param_1,uint param_2,int param_3)

{
  uint *puVar1;
  uint uVar2;
  byte bVar3;
  uint uVar4;
  int iVar5;
  uint uVar6;
  int iVar7;
  uint *puVar8;
  undefined3 extraout_var;
  undefined4 uVar9;
  int iVar10;
  int *piVar11;
  int iVar12;
  longlong lVar13;
  int local_30 [4];
  undefined4 local_20 [4];
  uint local_10;
  uint local_c;
  
  uVar4 = FUN_0044bb60(param_1,param_2,param_3);
  if ((-1 < (int)uVar4) && (uVar4 = FUN_0044b180(), iVar7 = 0, uVar4 == 0)) {
LAB_0044c1f5:
    while( true ) {
      iVar12 = param_1 + 0x78;
      iVar5 = FUN_0044d650(iVar12,local_20);
      if (iVar5 < 1) break;
      iVar5 = FUN_0044e150(*(int *)(param_1 + 0x60) * 0x20 + *(int *)(param_1 + 0x48),local_20);
      if (iVar5 < 0) {
        FUN_0044d630(iVar12,0);
      }
      else {
        if (iVar7 != 0) {
          uVar6 = iVar5 + iVar7 >> 2;
          puVar8 = (uint *)(param_1 + 0x50);
          uVar4 = *puVar8;
          *puVar8 = *puVar8 + uVar6;
          *(int *)(param_1 + 0x54) =
               *(int *)(param_1 + 0x54) + (iVar5 + iVar7 >> 0x1f) + (uint)CARRY4(uVar4,uVar6);
        }
        iVar7 = FUN_0044d730(*(int *)(param_1 + 0x48),1);
        uVar4 = iVar7 + iVar5 >> 2;
        iVar7 = (iVar7 + iVar5 >> 0x1f) + *(int *)(param_1 + 0x54) +
                (uint)CARRY4(uVar4,*(uint *)(param_1 + 0x50));
        if ((param_3 < iVar7) ||
           ((param_3 <= iVar7 && (param_2 <= uVar4 + *(uint *)(param_1 + 0x50)))))
        goto LAB_0044c3c1;
        FUN_0044d630(iVar12,0);
        FUN_0044e080((int *)(param_1 + 0x250),local_20);
        FUN_0044ea40(param_1 + 0x1e0,(int *)(param_1 + 0x250));
        iVar7 = iVar5;
        if ((-2 < (int)local_c) && (local_c < 0x80000000)) {
          iVar12 = *(int *)(param_1 + 0x60);
          iVar5 = *(int *)(param_1 + 0x44);
          puVar8 = (uint *)(iVar12 * 0x10 + iVar5);
          uVar4 = *puVar8;
          iVar10 = *(int *)(iVar12 * 0x10 + 4 + iVar5);
          *(uint *)(param_1 + 0x50) = local_10 - *puVar8;
          *(uint *)(param_1 + 0x54) = (local_c - iVar10) - (uint)(local_10 < uVar4);
          iVar10 = 0;
          if ((*(int *)(param_1 + 0x54) < 1) && (*(int *)(param_1 + 0x54) < 0)) {
            *(undefined4 *)(param_1 + 0x50) = 0;
            *(undefined4 *)(param_1 + 0x54) = 0;
          }
          if (0 < iVar12) {
            puVar8 = (uint *)(iVar5 + 8);
            do {
              uVar6 = *puVar8;
              puVar1 = (uint *)(param_1 + 0x50);
              uVar4 = *puVar1;
              *puVar1 = *puVar1 + uVar6;
              *(int *)(param_1 + 0x54) =
                   *(int *)(param_1 + 0x54) + puVar8[1] + (uint)CARRY4(uVar4,uVar6);
              iVar10 = iVar10 + 1;
              puVar8 = puVar8 + 4;
            } while (iVar10 < iVar12);
          }
        }
      }
    }
    if (((-1 < iVar5) || (iVar5 == -3)) &&
       (lVar13 = FUN_0044a640(local_30,0xffffffff,0xffffffff), -1 < lVar13)) {
      bVar3 = FUN_0044cd10(local_30);
      if (CONCAT31(extraout_var,bVar3) != 0) {
        FUN_0044b1f0();
      }
      if (*(int *)(param_1 + 0x58) < 3) goto code_r0x0044c34c;
      goto LAB_0044c3ae;
    }
LAB_0044c3c1:
    *(undefined8 *)(param_1 + 0x68) = 0;
    *(undefined8 *)(param_1 + 0x70) = 0;
    if (*(int *)(param_1 + 0x54) <= param_3) {
      if (*(int *)(param_1 + 0x54) < param_3) goto LAB_0044c3e5;
      uVar4 = *(uint *)(param_1 + 0x50);
      while (uVar4 < param_2) {
LAB_0044c3e5:
        do {
          uVar6 = param_2 - *(uint *)(param_1 + 0x50);
          iVar7 = (param_3 - *(int *)(param_1 + 0x54)) - (uint)(param_2 < *(uint *)(param_1 + 0x50))
          ;
          uVar4 = FUN_0044f440(param_1 + 0x1e0,(undefined4 *)0x0);
          if ((iVar7 <= (int)uVar4 >> 0x1f) && ((iVar7 < (int)uVar4 >> 0x1f || (uVar6 < uVar4)))) {
            uVar4 = uVar6;
          }
          FUN_0044f490(param_1 + 0x1e0,uVar4);
          iVar12 = (int)uVar4 >> 0x1f;
          puVar8 = (uint *)(param_1 + 0x50);
          uVar2 = *puVar8;
          *puVar8 = *puVar8 + uVar4;
          *(int *)(param_1 + 0x54) = *(int *)(param_1 + 0x54) + iVar12 + (uint)CARRY4(uVar2,uVar4);
          if ((iVar12 <= iVar7) &&
             (((iVar12 < iVar7 || (uVar4 < uVar6)) &&
              (iVar7 = FUN_0044b220((undefined4 *)0x0,1,1), iVar7 < 1)))) {
            lVar13 = FUN_0044b6a0(param_1,-1);
            *(longlong *)(param_1 + 0x50) = lVar13;
          }
        } while (*(int *)(param_1 + 0x54) < param_3);
        if (param_3 < *(int *)(param_1 + 0x54)) break;
        uVar4 = *(uint *)(param_1 + 0x50);
      }
    }
    uVar4 = 0;
  }
  return uVar4;
code_r0x0044c34c:
  iVar5 = FUN_0044cdc0(local_30);
  iVar12 = *(int *)(param_1 + 0x34);
  iVar10 = 0;
  if (0 < iVar12) {
    piVar11 = *(int **)(param_1 + 0x40);
    do {
      if (*piVar11 == iVar5) break;
      iVar10 = iVar10 + 1;
      piVar11 = piVar11 + 1;
    } while (iVar10 < iVar12);
  }
  if (iVar10 != iVar12) {
    *(int *)(param_1 + 0x60) = iVar10;
    *(undefined4 *)(param_1 + 0x58) = 3;
    uVar9 = FUN_0044cdc0(local_30);
    *(undefined4 *)(param_1 + 0x5c) = uVar9;
    FUN_0044d500(param_1 + 0x78,iVar5);
    uVar4 = FUN_0044b180();
    if (uVar4 != 0) {
      return uVar4;
    }
    iVar7 = 0;
LAB_0044c3ae:
    FUN_0044d200((void **)(param_1 + 0x78),local_30);
  }
  goto LAB_0044c1f5;
}



uint __cdecl FUN_0044c480(int param_1,double param_2)

{
  uint uVar1;
  int iVar2;
  bool bVar3;
  float10 fVar4;
  ulonglong uVar5;
  double local_10;
  
  local_10 = 0.0;
  iVar2 = 0;
  if (*(int *)(param_1 + 0x58) < 2) {
    return 0xffffff7d;
  }
  if (*(int *)(param_1 + 4) == 0) {
    return 0xffffff76;
  }
  if (0.0 <= param_2) {
    bVar3 = *(int *)(param_1 + 0x34) == 0;
    if (0 < *(int *)(param_1 + 0x34)) {
      do {
        fVar4 = FUN_0044b710(param_1,iVar2);
        if ((float10)param_2 < fVar4 + (float10)local_10) break;
        local_10 = (double)(fVar4 + (float10)local_10);
        iVar2 = iVar2 + 1;
      } while (iVar2 < *(int *)(param_1 + 0x34));
      bVar3 = iVar2 == *(int *)(param_1 + 0x34);
    }
    if (!bVar3) {
      uVar5 = __ftol2();
      uVar1 = FUN_0044c1c0(param_1,(uint)uVar5,(int)(uVar5 >> 0x20));
      return uVar1;
    }
  }
  return 0xffffff7d;
}



int __cdecl FUN_0044c570(int param_1,int param_2)

{
  if (*(int *)(param_1 + 4) != 0) {
    if (param_2 < 0) {
      if (*(int *)(param_1 + 0x58) < 3) goto LAB_0044c59a;
      param_2 = *(int *)(param_1 + 0x60);
    }
    else if (*(int *)(param_1 + 0x34) <= param_2) {
      return 0;
    }
    return param_2 * 0x20 + *(int *)(param_1 + 0x48);
  }
LAB_0044c59a:
  return *(int *)(param_1 + 0x48);
}



undefined4 FUN_0044c5a0(void)

{
  return 0;
}



short * __cdecl
FUN_0044c5b0(int param_1,short *param_2,int param_3,int param_4,int param_5,int param_6,
            undefined4 *param_7)

{
  uint *puVar1;
  uint uVar2;
  undefined4 uVar3;
  short *psVar4;
  int iVar5;
  short *psVar6;
  int iVar7;
  int iVar8;
  int local_34;
  int local_30;
  int local_2c;
  short *local_28;
  int local_24;
  int local_20;
  undefined8 local_1c;
  int local_14;
  double local_10;
  
  uVar3 = FUN_0044c5a0();
  local_1c = (double)CONCAT44(local_1c._4_4_,uVar3);
  if (1 < *(int *)(param_1 + 0x58)) {
    while ((*(int *)(param_1 + 0x58) != 4 ||
           (psVar4 = (short *)FUN_0044f440(param_1 + 0x1e0,&local_34), local_28 = psVar4,
           psVar4 == (short *)0x0))) {
      psVar4 = (short *)FUN_0044b220((undefined4 *)0x0,1,1);
      if (psVar4 == (short *)0xfffffffe) {
        return (short *)0x0;
      }
      if ((int)psVar4 < 1) {
        return psVar4;
      }
    }
    if ((int)psVar4 < 1) {
      return psVar4;
    }
    iVar5 = FUN_0044c570(param_1,-1);
    local_30 = *(int *)(iVar5 + 4);
    local_14 = local_30 * param_5;
    psVar6 = (short *)(param_3 / local_14);
    if ((int)psVar6 < (int)psVar4) {
      psVar4 = psVar6;
      local_28 = psVar6;
    }
    if (0 < (int)psVar4) {
      if (param_5 == 1) {
        iVar5 = 0;
        if (0 < (int)psVar4) {
          do {
            iVar7 = 0;
            if (0 < local_30) {
              do {
                local_1c = (double)(*(float *)(*(int *)(local_34 + iVar7 * 4) + iVar5 * 4) * 128.0);
                local_24 = (int)ROUND(local_1c);
                if (local_24 < 0x80) {
                  iVar8 = local_24;
                  if (local_24 < -0x80) {
                    iVar8 = -0x80;
                  }
                }
                else {
                  iVar8 = 0x7f;
                }
                *(byte *)param_2 = (-(param_6 != 0) & 0x80U) + 0x80 + (char)iVar8;
                iVar7 = iVar7 + 1;
                param_2 = (short *)((int)param_2 + 1);
                psVar4 = local_28;
              } while (iVar7 < local_30);
            }
            iVar5 = iVar5 + 1;
          } while (iVar5 < (int)psVar4);
        }
      }
      else {
        local_24 = (-(uint)(param_6 != 0) & 0xffff8000) + 0x8000;
        if ((int)local_1c == param_4) {
          if (param_6 == 0) {
            local_2c = 0;
            if (0 < local_30) {
              local_1c = (double)CONCAT44(local_1c._4_4_,param_2);
              do {
                iVar5 = *(int *)(local_34 + local_2c * 4);
                iVar7 = 0;
                if (0 < (int)psVar4) {
                  do {
                    local_10 = (double)(*(float *)(iVar5 + iVar7 * 4) * 32768.0);
                    local_20 = (int)ROUND(local_10);
                    if (local_20 < 0x8000) {
                      iVar8 = local_20;
                      if (local_20 < -0x8000) {
                        iVar8 = -0x8000;
                      }
                    }
                    else {
                      iVar8 = 0x7fff;
                    }
                    *param_2 = (short)local_24 + (short)iVar8;
                    iVar7 = iVar7 + 1;
                    param_2 = param_2 + local_30;
                    psVar4 = local_28;
                  } while (iVar7 < (int)local_28);
                }
                local_2c = local_2c + 1;
                param_2 = (short *)((int)local_1c + 2);
                local_1c = (double)CONCAT44(local_1c._4_4_,param_2);
              } while (local_2c < local_30);
            }
          }
          else {
            local_2c = 0;
            if (0 < local_30) {
              do {
                iVar5 = *(int *)(local_34 + local_2c * 4);
                iVar7 = 0;
                psVar6 = param_2;
                if (0 < (int)psVar4) {
                  do {
                    local_1c = (double)(*(float *)(iVar5 + iVar7 * 4) * 32768.0);
                    local_24 = (int)ROUND(local_1c);
                    if (local_24 < 0x8000) {
                      iVar8 = local_24;
                      if (local_24 < -0x8000) {
                        iVar8 = -0x8000;
                      }
                    }
                    else {
                      iVar8 = 0x7fff;
                    }
                    *psVar6 = (short)iVar8;
                    iVar7 = iVar7 + 1;
                    psVar6 = psVar6 + local_30;
                  } while (iVar7 < (int)psVar4);
                }
                local_2c = local_2c + 1;
                param_2 = param_2 + 1;
                local_28 = param_2;
              } while (local_2c < local_30);
            }
          }
        }
        else {
          local_2c = 0;
          if (param_4 == 0) {
            if (0 < (int)psVar4) {
              do {
                iVar5 = 0;
                if (0 < local_30) {
                  do {
                    local_10 = (double)(*(float *)(*(int *)(local_34 + iVar5 * 4) + local_2c * 4) *
                                       32768.0);
                    iVar7 = (int)ROUND(local_10);
                    local_1c = (double)CONCAT44(local_1c._4_4_,iVar7);
                    if (iVar7 < 0x8000) {
                      if (iVar7 < -0x8000) {
                        iVar7 = -0x8000;
                      }
                    }
                    else {
                      iVar7 = 0x7fff;
                    }
                    *(char *)param_2 = (char)(iVar7 + local_24);
                    *(char *)((int)param_2 + 1) = (char)((uint)(iVar7 + local_24) >> 8);
                    iVar5 = iVar5 + 1;
                    param_2 = param_2 + 1;
                  } while (iVar5 < local_30);
                }
                local_2c = local_2c + 1;
              } while (local_2c < (int)psVar4);
            }
          }
          else if (0 < (int)psVar4) {
            do {
              iVar5 = 0;
              if (0 < local_30) {
                do {
                  local_10 = (double)(*(float *)(*(int *)(local_34 + iVar5 * 4) + local_2c * 4) *
                                     32768.0);
                  iVar7 = (int)ROUND(local_10);
                  local_1c = (double)CONCAT44(local_1c._4_4_,iVar7);
                  if (iVar7 < 0x8000) {
                    if (iVar7 < -0x8000) {
                      iVar7 = -0x8000;
                    }
                  }
                  else {
                    iVar7 = 0x7fff;
                  }
                  *(char *)param_2 = (char)((uint)(iVar7 + local_24) >> 8);
                  *(char *)((int)param_2 + 1) = (char)(iVar7 + local_24);
                  iVar5 = iVar5 + 1;
                  param_2 = param_2 + 1;
                } while (iVar5 < local_30);
              }
              local_2c = local_2c + 1;
            } while (local_2c < (int)psVar4);
          }
        }
      }
      FUN_0044f490(param_1 + 0x1e0,(int)psVar4);
      puVar1 = (uint *)(param_1 + 0x50);
      uVar2 = *puVar1;
      *puVar1 = *puVar1 + (int)psVar4;
      *(int *)(param_1 + 0x54) =
           *(int *)(param_1 + 0x54) + ((int)psVar4 >> 0x1f) + (uint)CARRY4(uVar2,(uint)psVar4);
      if (param_7 != (undefined4 *)0x0) {
        *param_7 = *(undefined4 *)(param_1 + 0x60);
      }
      return (short *)(local_14 * (int)psVar4);
    }
  }
  return (short *)0xffffff7d;
}



// WARNING: Removing unreachable block (ram,0x0044ca72)

int FUN_0044c970(void)

{
  int iVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  undefined4 *unaff_ESI;
  longlong lVar5;
  int aiStack_10 [4];
  
  iVar1 = unaff_ESI[2];
  iVar2 = unaff_ESI[3];
  if (((code *)unaff_ESI[0xb1] == (code *)0x0) || (unaff_ESI[0xb3] == 0)) {
    unaff_ESI[4] = 0xffffffff;
    unaff_ESI[5] = 0xffffffff;
    unaff_ESI[2] = 0xffffffff;
    unaff_ESI[3] = 0xffffffff;
  }
  else {
    (*(code *)unaff_ESI[0xb1])(*unaff_ESI,0,0,2);
    iVar3 = (*(code *)unaff_ESI[0xb3])();
    unaff_ESI[5] = iVar3 >> 0x1f;
    unaff_ESI[4] = iVar3;
    unaff_ESI[2] = iVar3;
    unaff_ESI[3] = unaff_ESI[5];
  }
  if ((unaff_ESI[4] & unaff_ESI[5]) != 0xffffffff) {
    lVar5 = FUN_0044a6f0(aiStack_10);
    if ((lVar5 < 0x100000000) && (lVar5 < 0)) {
      return (int)lVar5;
    }
    iVar3 = FUN_0044a5e0(0,0);
    if ((iVar3 == 0) && (iVar3 = FUN_0044a8a0(), iVar3 == 0)) {
      uVar4 = FUN_0044a960((int)unaff_ESI,0,0,0,0,(uint)(lVar5 + 1),
                           (int)((ulonglong)(lVar5 + 1) >> 0x20),(int *)0x0,0,0);
      if ((int)uVar4 < 0) {
        return -0x80;
      }
      FUN_0044ade0(iVar1,iVar2);
      iVar3 = FUN_0044b790((int)unaff_ESI,0,0);
    }
    return iVar3;
  }
  return -0x83;
}



int __cdecl
FUN_0044caa0(void *param_1,size_t param_2,int param_3,undefined *param_4,int param_5,int param_6)

{
  void **ppvVar1;
  int in_EAX;
  void *_Dst;
  void *pvVar2;
  int iVar3;
  int *unaff_ESI;
  
  pvVar2 = param_1;
  if ((in_EAX == 0) || (param_4 == (undefined *)0x0)) {
    param_1 = (void *)0xffffffff;
  }
  else {
    param_1 = (void *)(*(code *)param_4)();
  }
  memset(unaff_ESI,0,0x2d0);
  unaff_ESI[0xb0] = param_3;
  *unaff_ESI = in_EAX;
  unaff_ESI[0xb1] = (int)param_4;
  ppvVar1 = (void **)(unaff_ESI + 6);
  unaff_ESI[0xb2] = param_5;
  unaff_ESI[0xb3] = param_6;
  FUN_0044cff0(ppvVar1);
  if (pvVar2 != (void *)0x0) {
    _Dst = (void *)FUN_0044d040(ppvVar1,param_2);
    memcpy(_Dst,pvVar2,param_2);
    FUN_0044d0c0((int)ppvVar1,param_2);
  }
  if (param_1 != (void *)0xffffffff) {
    unaff_ESI[1] = 1;
  }
  unaff_ESI[0xd] = 1;
  pvVar2 = calloc(1,0x20);
  unaff_ESI[0x12] = (int)pvVar2;
  pvVar2 = calloc(unaff_ESI[0xd],0x10);
  unaff_ESI[0x13] = (int)pvVar2;
  FUN_0044ce20((void **)(unaff_ESI + 0x1e),(void *)0xffffffff);
  iVar3 = FUN_0044abb0(unaff_ESI,(undefined4 *)unaff_ESI[0x12],(void **)unaff_ESI[0x13],
                       unaff_ESI + 0x17);
  if (iVar3 < 0) {
    *unaff_ESI = 0;
    FUN_0044b590(unaff_ESI);
    return iVar3;
  }
  unaff_ESI[0x16] = 1;
  return iVar3;
}



int FUN_0044cbb0(void)

{
  int *in_EAX;
  int iVar1;
  
  if (in_EAX[0x16] != 1) {
    return -0x83;
  }
  in_EAX[0x16] = 2;
  if (in_EAX[1] != 0) {
    iVar1 = FUN_0044c970();
    if (iVar1 != 0) {
      *in_EAX = 0;
      FUN_0044b590(in_EAX);
    }
    return iVar1;
  }
  in_EAX[0x16] = 3;
  return 0;
}



void __cdecl
FUN_0044cc00(undefined4 param_1,undefined4 param_2,void *param_3,size_t param_4,int param_5,
            undefined *param_6,int param_7,int param_8)

{
  int iVar1;
  
  iVar1 = FUN_0044caa0(param_3,param_4,param_5,param_6,param_7,param_8);
  if (iVar1 == 0) {
    FUN_0044cbb0();
    return;
  }
  return;
}



void __cdecl FUN_0044cc50(undefined4 param_1,undefined4 param_2,void *param_3,size_t param_4)

{
  FUN_0044cc00(param_1,param_2,param_3,param_4,(int)fread,&LAB_0044a550,(int)fclose,
               (int)&LAB_0045d76a);
  return;
}



int __cdecl FUN_0044cca0(char *param_1,undefined4 param_2)

{
  FILE *_File;
  int iVar1;
  
  _File = fopen(param_1,(char *)&_Mode_0045f3c0);
  if (_File == (FILE *)0x0) {
    return -1;
  }
  iVar1 = FUN_0044cc50(_File,param_2,(void *)0x0,0);
  if (iVar1 != 0) {
    fclose(_File);
  }
  return iVar1;
}



undefined __cdecl FUN_0044ccf0(int *param_1)

{
  return *(undefined *)(*param_1 + 4);
}



byte __cdecl FUN_0044cd00(int *param_1)

{
  return *(byte *)(*param_1 + 5) & 1;
}



byte __cdecl FUN_0044cd10(int *param_1)

{
  return *(byte *)(*param_1 + 5) & 2;
}



byte __cdecl FUN_0044cd20(int *param_1)

{
  return *(byte *)(*param_1 + 5) & 4;
}



undefined8 __cdecl FUN_0044cd30(int *param_1)

{
  int iVar1;
  uint uVar2;
  uint uVar3;
  uint uVar4;
  
  iVar1 = *param_1;
  uVar2 = *(int *)(iVar1 + 10) << 8;
  uVar3 = (uVar2 | *(byte *)(iVar1 + 9)) << 8;
  uVar4 = (uVar3 | *(byte *)(iVar1 + 8)) << 8;
  return CONCAT44((((uint)*(byte *)(iVar1 + 0xd) << 8 | uVar2 >> 0x18) << 8 | uVar3 >> 0x18) << 8 |
                  uVar4 >> 0x18,(uVar4 | *(byte *)(iVar1 + 7)) << 8 | (uint)*(byte *)(iVar1 + 6));
}



undefined4 __cdecl FUN_0044cdc0(int *param_1)

{
  return *(undefined4 *)(*param_1 + 0xe);
}



undefined4 __cdecl FUN_0044cdf0(int *param_1)

{
  return *(undefined4 *)(*param_1 + 0x12);
}



undefined4 __cdecl FUN_0044ce20(void **param_1,void *param_2)

{
  void *pvVar1;
  
  if (param_1 != (void **)0x0) {
    memset(param_1,0,0x168);
    param_1[1] = (void *)0x4000;
    pvVar1 = malloc(0x4000);
    *param_1 = pvVar1;
    param_1[6] = (void *)0x400;
    pvVar1 = malloc(0x1000);
    param_1[4] = pvVar1;
    pvVar1 = malloc((int)param_1[6] * 8);
    param_1[5] = pvVar1;
    param_1[0x54] = param_2;
    return 0;
  }
  return 0xffffffff;
}



undefined4 __cdecl FUN_0044ce90(void **param_1)

{
  if (param_1 != (void **)0x0) {
    if (*param_1 != (void *)0x0) {
      free(*param_1);
    }
    if (param_1[4] != (void *)0x0) {
      free(param_1[4]);
    }
    if (param_1[5] != (void *)0x0) {
      free(param_1[5]);
    }
    memset(param_1,0,0x168);
  }
  return 0;
}



void __fastcall FUN_0044cee0(int param_1)

{
  void *pvVar1;
  void **unaff_ESI;
  
  if ((int)unaff_ESI[1] <= (int)unaff_ESI[2] + param_1) {
    pvVar1 = (void *)((int)unaff_ESI[1] + param_1 + 0x400);
    unaff_ESI[1] = pvVar1;
    pvVar1 = realloc(*unaff_ESI,(size_t)pvVar1);
    *unaff_ESI = pvVar1;
  }
  return;
}



void __fastcall FUN_0044cf10(int param_1)

{
  int iVar1;
  void *pvVar2;
  int unaff_ESI;
  
  if (*(int *)(unaff_ESI + 0x18) <= *(int *)(unaff_ESI + 0x1c) + param_1) {
    iVar1 = *(int *)(unaff_ESI + 0x18) + 0x20 + param_1;
    *(int *)(unaff_ESI + 0x18) = iVar1;
    pvVar2 = realloc(*(void **)(unaff_ESI + 0x10),iVar1 * 4);
    *(void **)(unaff_ESI + 0x10) = pvVar2;
    pvVar2 = realloc(*(void **)(unaff_ESI + 0x14),*(int *)(unaff_ESI + 0x18) * 8);
    *(void **)(unaff_ESI + 0x14) = pvVar2;
  }
  return;
}



void __cdecl FUN_0044cf50(int *param_1)

{
  uint uVar1;
  int iVar2;
  
  iVar2 = 0;
  if (param_1 != (int *)0x0) {
    *(undefined *)(*param_1 + 0x16) = 0;
    *(undefined *)(*param_1 + 0x17) = 0;
    *(undefined *)(*param_1 + 0x18) = 0;
    *(undefined *)(*param_1 + 0x19) = 0;
    uVar1 = 0;
    if (0 < param_1[1]) {
      do {
        uVar1 = uVar1 << 8 ^
                *(uint *)(&DAT_0045f3c8 + ((uint)*(byte *)(*param_1 + iVar2) ^ uVar1 >> 0x18) * 4);
        iVar2 = iVar2 + 1;
      } while (iVar2 < param_1[1]);
    }
    iVar2 = 0;
    if (0 < param_1[3]) {
      do {
        uVar1 = uVar1 << 8 ^
                *(uint *)(&DAT_0045f3c8 + ((uint)*(byte *)(param_1[2] + iVar2) ^ uVar1 >> 0x18) * 4)
        ;
        iVar2 = iVar2 + 1;
      } while (iVar2 < param_1[3]);
    }
    *(char *)(*param_1 + 0x16) = (char)uVar1;
    *(char *)(*param_1 + 0x17) = (char)(uVar1 >> 8);
    *(char *)(*param_1 + 0x18) = (char)(uVar1 >> 0x10);
    *(char *)(*param_1 + 0x19) = (char)(uVar1 >> 0x18);
  }
  return;
}



void __cdecl FUN_0044cff0(undefined4 *param_1)

{
  if (param_1 != (undefined4 *)0x0) {
    *param_1 = 0;
    param_1[1] = 0;
    param_1[2] = 0;
    param_1[3] = 0;
    param_1[4] = 0;
    param_1[5] = 0;
    param_1[6] = 0;
  }
  return;
}



undefined4 __cdecl FUN_0044d010(void **param_1)

{
  if (param_1 != (void **)0x0) {
    if (*param_1 != (void *)0x0) {
      free(*param_1);
    }
    FUN_0044cff0(param_1);
  }
  return 0;
}



int __cdecl FUN_0044d040(void **param_1,int param_2)

{
  void *pvVar1;
  void *pvVar2;
  
  pvVar1 = param_1[3];
  if (pvVar1 != (void *)0x0) {
    param_1[2] = (void *)((int)param_1[2] - (int)pvVar1);
    if (0 < (int)param_1[2]) {
      memmove(*param_1,(void *)((int)pvVar1 + (int)*param_1),(size_t)param_1[2]);
    }
    param_1[3] = (void *)0x0;
  }
  if ((int)param_1[1] - (int)param_1[2] < param_2) {
    pvVar1 = (void *)((int)param_1[2] + param_2 + 0x1000);
    if (*param_1 != (void *)0x0) {
      pvVar2 = realloc(*param_1,(size_t)pvVar1);
      param_1[1] = pvVar1;
      *param_1 = pvVar2;
      return (int)pvVar2 + (int)param_1[2];
    }
    pvVar2 = malloc((size_t)pvVar1);
    param_1[1] = pvVar1;
    *param_1 = pvVar2;
  }
  return (int)*param_1 + (int)param_1[2];
}



undefined4 __cdecl FUN_0044d0c0(int param_1,int param_2)

{
  int iVar1;
  
  iVar1 = *(int *)(param_1 + 8) + param_2;
  if (*(int *)(param_1 + 4) < iVar1) {
    return 0xffffffff;
  }
  *(int *)(param_1 + 8) = iVar1;
  return 0;
}



int __cdecl FUN_0044d0e0(int *param_1,int *param_2)

{
  int iVar1;
  int iVar2;
  void *pvVar3;
  int iVar4;
  int *piVar5;
  int *local_10;
  int local_c;
  int local_8;
  int local_4;
  
  piVar5 = (int *)(*param_1 + param_1[3]);
  iVar4 = param_1[2] - param_1[3];
  if (param_1[5] == 0) {
    if (iVar4 < 0x1b) {
      return 0;
    }
    if (*piVar5 != 0x5367674f) goto LAB_0044d1c0;
    iVar1 = *(byte *)((int)piVar5 + 0x1a) + 0x1b;
    iVar2 = 0;
    if (iVar4 < iVar1) {
      return 0;
    }
    if (*(byte *)((int)piVar5 + 0x1a) != 0) {
      do {
        param_1[6] = param_1[6] + (uint)*(byte *)((int)piVar5 + iVar2 + 0x1b);
        iVar2 = iVar2 + 1;
      } while (iVar2 < (int)(uint)*(byte *)((int)piVar5 + 0x1a));
    }
    param_1[5] = iVar1;
  }
  if (iVar4 < param_1[5] + param_1[6]) {
    return 0;
  }
  iVar1 = *(int *)((int)piVar5 + 0x16);
  *(undefined4 *)((int)piVar5 + 0x16) = 0;
  local_c = param_1[5];
  local_4 = param_1[6];
  local_8 = local_c + (int)piVar5;
  local_10 = piVar5;
  FUN_0044cf50((int *)&local_10);
  if (iVar1 == *(int *)((int)piVar5 + 0x16)) {
    iVar4 = *param_1;
    iVar1 = param_1[3];
    if (param_2 != (int *)0x0) {
      *param_2 = iVar4 + iVar1;
      param_2[1] = param_1[5];
      param_2[2] = param_1[5] + iVar4 + iVar1;
      param_2[3] = param_1[6];
    }
    iVar4 = param_1[5];
    iVar1 = param_1[6];
    param_1[3] = param_1[3] + iVar4 + iVar1;
    param_1[4] = 0;
    param_1[5] = 0;
    param_1[6] = 0;
    return iVar4 + iVar1;
  }
  *(int *)((int)piVar5 + 0x16) = iVar1;
LAB_0044d1c0:
  param_1[5] = 0;
  param_1[6] = 0;
  pvVar3 = memchr((void *)((int)piVar5 + 1),0x4f,iVar4 - 1);
  if (pvVar3 == (void *)0x0) {
    pvVar3 = (void *)(param_1[2] + *param_1);
  }
  param_1[3] = (int)pvVar3 - *param_1;
  return (int)piVar5 - (int)pvVar3;
}



undefined4 __cdecl FUN_0044d200(void **param_1,int *param_2)

{
  void **ppvVar1;
  int iVar2;
  byte bVar3;
  byte bVar4;
  int iVar5;
  undefined3 extraout_var;
  undefined3 extraout_var_00;
  undefined3 extraout_var_01;
  void *pvVar6;
  void *pvVar7;
  void *pvVar8;
  uint uVar9;
  uint *puVar10;
  uint uVar11;
  int iVar12;
  void *pvVar13;
  undefined8 uVar14;
  size_t local_28;
  void *local_24;
  int local_20;
  undefined4 local_8;
  undefined4 local_4;
  
  local_24 = (void *)param_2[2];
  local_28 = param_2[3];
  iVar2 = *param_2;
  iVar12 = 0;
  iVar5 = FUN_0044ccf0(param_2);
  bVar3 = FUN_0044cd00(param_2);
  bVar4 = FUN_0044cd10(param_2);
  local_20 = CONCAT31(extraout_var_00,bVar4);
  bVar4 = FUN_0044cd20(param_2);
  uVar14 = FUN_0044cd30(param_2);
  pvVar6 = (void *)FUN_0044cdc0(param_2);
  pvVar7 = (void *)FUN_0044cdf0(param_2);
  uVar11 = (uint)*(byte *)(iVar2 + 0x1a);
  pvVar13 = param_1[9];
  pvVar8 = param_1[3];
  if (pvVar8 != (void *)0x0) {
    ppvVar1 = param_1 + 2;
    *ppvVar1 = (void *)((int)*ppvVar1 - (int)pvVar8);
    if (*ppvVar1 != (void *)0x0) {
      memmove(*param_1,(void *)((int)pvVar8 + (int)*param_1),(size_t)param_1[2]);
    }
    param_1[3] = (void *)0x0;
  }
  if (pvVar13 != (void *)0x0) {
    if ((int)param_1[7] - (int)pvVar13 != 0) {
      memmove(param_1[4],(void *)((int)param_1[4] + (int)pvVar13 * 4),
              ((int)param_1[7] - (int)pvVar13) * 4);
      memmove(param_1[5],(void *)((int)param_1[5] + (int)pvVar13 * 8),
              ((int)param_1[7] - (int)pvVar13) * 8);
    }
    param_1[7] = (void *)((int)param_1[7] - (int)pvVar13);
    param_1[8] = (void *)((int)param_1[8] - (int)pvVar13);
    param_1[9] = (void *)0x0;
  }
  if ((pvVar6 != param_1[0x54]) || (0 < iVar5)) {
    return 0xffffffff;
  }
  FUN_0044cf10(uVar11 + 1);
  if (pvVar7 != param_1[0x55]) {
    pvVar13 = param_1[8];
    if ((int)pvVar13 < (int)param_1[7]) {
      puVar10 = (uint *)((int)param_1[4] + (int)pvVar13 * 4);
      pvVar8 = pvVar13;
      do {
        param_1[2] = (void *)((int)param_1[2] - (*puVar10 & 0xff));
        pvVar8 = (void *)((int)pvVar8 + 1);
        puVar10 = puVar10 + 1;
      } while ((int)pvVar8 < (int)param_1[7]);
    }
    param_1[7] = pvVar13;
    if (param_1[0x55] != (void *)0xffffffff) {
      *(undefined4 *)((int)param_1[4] + (int)pvVar13 * 4) = 0x400;
      param_1[7] = (void *)((int)param_1[7] + 1);
      param_1[8] = (void *)((int)param_1[8] + 1);
    }
  }
  if ((CONCAT31(extraout_var,bVar3) != 0) &&
     ((((int)param_1[7] < 1 || (*(int *)((int)param_1[4] + (int)param_1[7] * 4 + -4) == 0x400)) &&
      (local_20 = 0, uVar11 != 0)))) {
    do {
      uVar9 = (uint)*(byte *)(iVar2 + 0x1b + iVar12);
      local_24 = (void *)((int)local_24 + uVar9);
      local_28 = local_28 - uVar9;
      iVar12 = iVar12 + 1;
      if (uVar9 < 0xff) break;
    } while (iVar12 < (int)uVar11);
  }
  if (local_28 != 0) {
    FUN_0044cee0(local_28);
    memcpy((void *)((int)param_1[2] + (int)*param_1),local_24,local_28);
    param_1[2] = (void *)((int)param_1[2] + local_28);
  }
  pvVar13 = (void *)0xffffffff;
  if (iVar12 < (int)uVar11) {
    do {
      uVar9 = (uint)*(byte *)(iVar2 + 0x1b + iVar12);
      *(uint *)((int)param_1[4] + (int)param_1[7] * 4) = uVar9;
      pvVar8 = param_1[5];
      pvVar6 = param_1[7];
      *(undefined4 *)((int)pvVar8 + (int)pvVar6 * 8) = 0xffffffff;
      *(undefined4 *)((int)pvVar8 + (int)pvVar6 * 8 + 4) = 0xffffffff;
      if (local_20 != 0) {
        puVar10 = (uint *)((int)param_1[4] + (int)param_1[7] * 4);
        *puVar10 = *puVar10 | 0x100;
        local_20 = 0;
      }
      if (uVar9 < 0xff) {
        pvVar13 = param_1[7];
      }
      param_1[7] = (void *)((int)param_1[7] + 1);
      iVar12 = iVar12 + 1;
      if (uVar9 < 0xff) {
        param_1[8] = param_1[7];
      }
    } while (iVar12 < (int)uVar11);
    if (pvVar13 != (void *)0xffffffff) {
      pvVar8 = param_1[5];
      local_8 = (undefined4)uVar14;
      local_4 = (undefined4)((ulonglong)uVar14 >> 0x20);
      *(undefined4 *)((int)pvVar8 + (int)pvVar13 * 8) = local_8;
      *(undefined4 *)((int)pvVar8 + (int)pvVar13 * 8 + 4) = local_4;
    }
  }
  if (CONCAT31(extraout_var_01,bVar4) != 0) {
    param_1[0x52] = (void *)0x1;
    if (0 < (int)param_1[7]) {
      puVar10 = (uint *)((int)param_1[4] + (int)param_1[7] * 4 + -4);
      *puVar10 = *puVar10 | 0x200;
    }
  }
  param_1[0x55] = (void *)((int)pvVar7 + 1);
  return 0;
}



undefined4 __cdecl FUN_0044d490(int param_1)

{
  *(undefined4 *)(param_1 + 8) = 0;
  *(undefined4 *)(param_1 + 0xc) = 0;
  *(undefined4 *)(param_1 + 0x10) = 0;
  *(undefined4 *)(param_1 + 0x14) = 0;
  *(undefined4 *)(param_1 + 0x18) = 0;
  return 0;
}



undefined4 __cdecl FUN_0044d4b0(int param_1)

{
  *(undefined4 *)(param_1 + 8) = 0;
  *(undefined4 *)(param_1 + 0xc) = 0;
  *(undefined4 *)(param_1 + 0x1c) = 0;
  *(undefined4 *)(param_1 + 0x20) = 0;
  *(undefined4 *)(param_1 + 0x24) = 0;
  *(undefined4 *)(param_1 + 0x144) = 0;
  *(undefined4 *)(param_1 + 0x148) = 0;
  *(undefined4 *)(param_1 + 0x14c) = 0;
  *(undefined4 *)(param_1 + 0x154) = 0xffffffff;
  *(undefined4 *)(param_1 + 0x158) = 0;
  *(undefined4 *)(param_1 + 0x15c) = 0;
  *(undefined4 *)(param_1 + 0x160) = 0;
  *(undefined4 *)(param_1 + 0x164) = 0;
  return 0;
}



undefined4 __cdecl FUN_0044d500(int param_1,undefined4 param_2)

{
  int extraout_EDX;
  
  FUN_0044d4b0(param_1);
  *(undefined4 *)(extraout_EDX + 0x150) = param_2;
  return 0;
}



undefined4 __cdecl FUN_0044d520(int param_1)

{
  uint *puVar1;
  uint uVar2;
  int iVar3;
  int *in_EAX;
  uint uVar4;
  int iVar5;
  uint *puVar6;
  int *unaff_ESI;
  uint uVar7;
  uint local_8;
  
  iVar5 = in_EAX[9];
  if (in_EAX[8] == iVar5 || in_EAX[8] < iVar5) {
    return 0;
  }
  puVar6 = (uint *)(in_EAX[4] + iVar5 * 4);
  if ((*(uint *)(in_EAX[4] + iVar5 * 4) & 0x400) != 0) {
    puVar6 = (uint *)(in_EAX + 0x56);
    uVar2 = *puVar6;
    *puVar6 = *puVar6 + 1;
    in_EAX[9] = iVar5 + 1;
    in_EAX[0x57] = in_EAX[0x57] + (uint)(0xfffffffe < uVar2);
    return 0xffffffff;
  }
  if ((unaff_ESI != (int *)0x0) || (param_1 != 0)) {
    uVar2 = *puVar6;
    uVar7 = uVar2 & 0xff;
    local_8 = uVar2 & 0x200;
    uVar4 = uVar7;
    while (uVar4 == 0xff) {
      puVar1 = puVar6 + 1;
      puVar6 = puVar6 + 1;
      iVar5 = iVar5 + 1;
      uVar4 = *puVar1 & 0xff;
      if ((*puVar1 & 0x200) != 0) {
        local_8 = 0x200;
      }
      uVar7 = uVar7 + uVar4;
    }
    if (unaff_ESI != (int *)0x0) {
      unaff_ESI[3] = local_8;
      unaff_ESI[2] = uVar2 & 0x100;
      *unaff_ESI = in_EAX[3] + *in_EAX;
      unaff_ESI[6] = in_EAX[0x56];
      unaff_ESI[7] = in_EAX[0x57];
      iVar3 = in_EAX[5];
      unaff_ESI[4] = *(int *)(iVar3 + iVar5 * 8);
      unaff_ESI[5] = *(int *)(iVar3 + 4 + iVar5 * 8);
      unaff_ESI[1] = uVar7;
    }
    if (param_1 != 0) {
      in_EAX[3] = in_EAX[3] + uVar7;
      puVar6 = (uint *)(in_EAX + 0x56);
      uVar2 = *puVar6;
      *puVar6 = *puVar6 + 1;
      in_EAX[9] = iVar5 + 1;
      in_EAX[0x57] = in_EAX[0x57] + (uint)(0xfffffffe < uVar2);
    }
  }
  return 1;
}



void FUN_0044d630(undefined4 param_1,undefined4 param_2)

{
  FUN_0044d520(1);
  return;
}



void FUN_0044d650(undefined4 param_1,undefined4 param_2)

{
  FUN_0044d520(0);
  return;
}



void __fastcall FUN_0044d670(undefined *param_1)

{
  int in_EAX;
  uint uVar1;
  int *unaff_EBX;
  
  if (in_EAX != 0) {
    do {
      in_EAX = in_EAX + -1;
      uVar1 = FUN_0044f700(unaff_EBX,8);
      *param_1 = (char)uVar1;
      param_1 = param_1 + 1;
    } while (in_EAX != 0);
  }
  return;
}



void __cdecl FUN_0044d6a0(undefined4 *param_1)

{
  *param_1 = 0;
  param_1[1] = 0;
  param_1[2] = 0;
  param_1[3] = 0;
  return;
}



void __cdecl FUN_0044d6c0(void **param_1)

{
  int iVar1;
  
  if (param_1 != (void **)0x0) {
    iVar1 = 0;
    if (0 < (int)param_1[2]) {
      do {
        if (*(int *)((int)*param_1 + iVar1 * 4) != 0) {
          free(*(void **)((int)*param_1 + iVar1 * 4));
        }
        iVar1 = iVar1 + 1;
      } while (iVar1 < (int)param_1[2]);
    }
    if (*param_1 != (void *)0x0) {
      free(*param_1);
    }
    if (param_1[1] != (void *)0x0) {
      free(param_1[1]);
    }
    if (param_1[3] != (void *)0x0) {
      free(param_1[3]);
    }
    *param_1 = (void *)0x0;
    param_1[1] = (void *)0x0;
    param_1[2] = (void *)0x0;
    param_1[3] = (void *)0x0;
  }
  return;
}



undefined4 __cdecl FUN_0044d730(int param_1,int param_2)

{
  if (*(int *)(param_1 + 0x1c) != 0) {
    return *(undefined4 *)(*(int *)(param_1 + 0x1c) + param_2 * 4);
  }
  return 0xffffffff;
}



void __cdecl FUN_0044d750(undefined4 *param_1)

{
  void *pvVar1;
  
  *param_1 = 0;
  param_1[1] = 0;
  param_1[2] = 0;
  param_1[3] = 0;
  param_1[4] = 0;
  param_1[5] = 0;
  param_1[6] = 0;
  param_1[7] = 0;
  pvVar1 = calloc(1,0xe50);
  param_1[7] = pvVar1;
  return;
}



void __cdecl FUN_0044d790(undefined4 *param_1)

{
  void *_Memory;
  void **ppvVar1;
  int iVar2;
  int iVar3;
  int *piVar4;
  
  _Memory = (void *)param_1[7];
  if (_Memory != (void *)0x0) {
    iVar3 = 0;
    if (0 < *(int *)((int)_Memory + 8)) {
      ppvVar1 = (void **)((int)_Memory + 0x20);
      do {
        if (*ppvVar1 != (void *)0x0) {
          free(*ppvVar1);
        }
        iVar3 = iVar3 + 1;
        ppvVar1 = ppvVar1 + 1;
      } while (iVar3 < *(int *)((int)_Memory + 8));
    }
    iVar3 = 0;
    if (0 < *(int *)((int)_Memory + 0xc)) {
      piVar4 = (int *)((int)_Memory + 0x220);
      do {
        if (*piVar4 != 0) {
          (**(code **)((&PTR_PTR_FUN_0047200c)[piVar4[-0x40]] + 8))(*piVar4);
        }
        iVar3 = iVar3 + 1;
        piVar4 = piVar4 + 1;
      } while (iVar3 < *(int *)((int)_Memory + 0xc));
    }
    iVar3 = 0;
    if (0 < *(int *)((int)_Memory + 0x10)) {
      piVar4 = (int *)((int)_Memory + 0x420);
      do {
        if (*piVar4 != 0) {
          (**(code **)((&PTR_DAT_00471ff8)[piVar4[-0x40]] + 0xc))(*piVar4);
        }
        iVar3 = iVar3 + 1;
        piVar4 = piVar4 + 1;
      } while (iVar3 < *(int *)((int)_Memory + 0x10));
    }
    iVar3 = 0;
    if (0 < *(int *)((int)_Memory + 0x14)) {
      piVar4 = (int *)((int)_Memory + 0x620);
      do {
        if (*piVar4 != 0) {
          (**(code **)((&PTR_DAT_00472000)[piVar4[-0x40]] + 0xc))(*piVar4);
        }
        iVar3 = iVar3 + 1;
        piVar4 = piVar4 + 1;
      } while (iVar3 < *(int *)((int)_Memory + 0x14));
    }
    iVar3 = 0;
    if (0 < *(int *)((int)_Memory + 0x18)) {
      iVar2 = 0;
      ppvVar1 = (void **)((int)_Memory + 0x720);
      do {
        if (*ppvVar1 != (void *)0x0) {
          FUN_00453ff0(*ppvVar1);
        }
        if (*(int *)((int)_Memory + 0xb20) != 0) {
          FUN_00454010((void *)(*(int *)((int)_Memory + 0xb20) + iVar2));
        }
        iVar3 = iVar3 + 1;
        ppvVar1 = ppvVar1 + 1;
        iVar2 = iVar2 + 0x2c;
      } while (iVar3 < *(int *)((int)_Memory + 0x18));
    }
    if (*(void **)((int)_Memory + 0xb20) != (void *)0x0) {
      free(*(void **)((int)_Memory + 0xb20));
    }
    iVar3 = 0;
    if (0 < *(int *)((int)_Memory + 0x1c)) {
      ppvVar1 = (void **)((int)_Memory + 0xb24);
      do {
        FUN_0044f810(*ppvVar1);
        iVar3 = iVar3 + 1;
        ppvVar1 = ppvVar1 + 1;
      } while (iVar3 < *(int *)((int)_Memory + 0x1c));
    }
    free(_Memory);
  }
  *param_1 = 0;
  param_1[1] = 0;
  param_1[2] = 0;
  param_1[3] = 0;
  param_1[4] = 0;
  param_1[5] = 0;
  param_1[6] = 0;
  param_1[7] = 0;
  return;
}



undefined4 FUN_0044d910(void)

{
  int *piVar1;
  uint uVar2;
  int iVar3;
  int *unaff_ESI;
  uint *unaff_EDI;
  
  piVar1 = (int *)unaff_EDI[7];
  if (piVar1 == (int *)0x0) {
    return 0xffffff7f;
  }
  uVar2 = FUN_0044f700(unaff_ESI,0x20);
  *unaff_EDI = uVar2;
  if (uVar2 != 0) {
    return 0xffffff7a;
  }
  uVar2 = FUN_0044f700(unaff_ESI,8);
  unaff_EDI[1] = uVar2;
  uVar2 = FUN_0044f700(unaff_ESI,0x20);
  unaff_EDI[2] = uVar2;
  uVar2 = FUN_0044f700(unaff_ESI,0x20);
  unaff_EDI[3] = uVar2;
  uVar2 = FUN_0044f700(unaff_ESI,0x20);
  unaff_EDI[4] = uVar2;
  uVar2 = FUN_0044f700(unaff_ESI,0x20);
  unaff_EDI[5] = uVar2;
  uVar2 = FUN_0044f700(unaff_ESI,4);
  *piVar1 = 1 << ((byte)uVar2 & 0x1f);
  uVar2 = FUN_0044f700(unaff_ESI,4);
  iVar3 = 1 << ((byte)uVar2 & 0x1f);
  piVar1[1] = iVar3;
  if ((((0 < (int)unaff_EDI[2]) && (0 < (int)unaff_EDI[1])) && (0x3f < *piVar1)) &&
     ((*piVar1 <= iVar3 && (iVar3 < 0x2001)))) {
    uVar2 = FUN_0044f700(unaff_ESI,1);
    if (uVar2 == 1) {
      return 0;
    }
  }
  FUN_0044d790(unaff_EDI);
  return 0xffffff7b;
}



undefined4 FUN_0044d9e0(void)

{
  int *in_EAX;
  uint uVar1;
  undefined *puVar2;
  void *pvVar3;
  void **unaff_ESI;
  int iVar4;
  
  uVar1 = FUN_0044f700(in_EAX,0x20);
  if (-1 < (int)uVar1) {
    puVar2 = (undefined *)calloc(uVar1 + 1,1);
    unaff_ESI[3] = puVar2;
    FUN_0044d670(puVar2);
    pvVar3 = (void *)FUN_0044f700(in_EAX,0x20);
    unaff_ESI[2] = pvVar3;
    if (-1 < (int)pvVar3) {
      pvVar3 = calloc((int)pvVar3 + 1,4);
      *unaff_ESI = pvVar3;
      pvVar3 = calloc((int)unaff_ESI[2] + 1,4);
      iVar4 = 0;
      unaff_ESI[1] = pvVar3;
      if (0 < (int)unaff_ESI[2]) {
        do {
          uVar1 = FUN_0044f700(in_EAX,0x20);
          if ((int)uVar1 < 0) goto LAB_0044da93;
          *(uint *)((int)unaff_ESI[1] + iVar4 * 4) = uVar1;
          pvVar3 = calloc(uVar1 + 1,1);
          *(void **)((int)*unaff_ESI + iVar4 * 4) = pvVar3;
          FUN_0044d670(*(undefined **)((int)*unaff_ESI + iVar4 * 4));
          iVar4 = iVar4 + 1;
        } while (iVar4 < (int)unaff_ESI[2]);
      }
      uVar1 = FUN_0044f700(in_EAX,1);
      if (uVar1 == 1) {
        return 0;
      }
    }
  }
LAB_0044da93:
  FUN_0044d6c0(unaff_ESI);
  return 0xffffff7b;
}



undefined4 __cdecl FUN_0044dab0(undefined4 *param_1)

{
  int iVar1;
  uint uVar2;
  uint *puVar3;
  int iVar4;
  uint uVar5;
  uint **ppuVar6;
  int *unaff_ESI;
  int iVar7;
  int *piVar8;
  
  iVar1 = param_1[7];
  if (iVar1 == 0) {
    return 0xffffff7f;
  }
  uVar2 = FUN_0044f700(unaff_ESI,8);
  iVar7 = 0;
  *(uint *)(iVar1 + 0x18) = uVar2 + 1;
  if (0 < (int)(uVar2 + 1)) {
    ppuVar6 = (uint **)(iVar1 + 0x720);
    do {
      puVar3 = (uint *)calloc(1,0x34);
      *ppuVar6 = puVar3;
      iVar4 = FUN_00454480(unaff_ESI,puVar3);
      if (iVar4 != 0) goto LAB_0044dcfc;
      iVar7 = iVar7 + 1;
      ppuVar6 = ppuVar6 + 1;
    } while (iVar7 < *(int *)(iVar1 + 0x18));
  }
  uVar2 = FUN_0044f700(unaff_ESI,6);
  iVar7 = 0;
  if (0 < (int)(uVar2 + 1)) {
    do {
      uVar5 = FUN_0044f700(unaff_ESI,0x10);
      if (uVar5 != 0) goto LAB_0044dcfc;
      iVar7 = iVar7 + 1;
    } while (iVar7 < (int)(uVar2 + 1));
  }
  uVar2 = FUN_0044f700(unaff_ESI,6);
  iVar7 = 0;
  *(uint *)(iVar1 + 0x10) = uVar2 + 1;
  if (0 < (int)(uVar2 + 1)) {
    piVar8 = (int *)(iVar1 + 0x420);
    do {
      uVar2 = FUN_0044f700(unaff_ESI,0x10);
      piVar8[-0x40] = uVar2;
      if (((int)uVar2 < 0) || (1 < (int)uVar2)) goto LAB_0044dcfc;
      iVar4 = (**(code **)((&PTR_DAT_00471ff8)[uVar2] + 4))(param_1);
      *piVar8 = iVar4;
      if (iVar4 == 0) goto LAB_0044dcfc;
      iVar7 = iVar7 + 1;
      piVar8 = piVar8 + 1;
    } while (iVar7 < *(int *)(iVar1 + 0x10));
  }
  uVar2 = FUN_0044f700(unaff_ESI,6);
  iVar7 = 0;
  *(uint *)(iVar1 + 0x14) = uVar2 + 1;
  if (0 < (int)(uVar2 + 1)) {
    piVar8 = (int *)(iVar1 + 0x620);
    do {
      uVar2 = FUN_0044f700(unaff_ESI,0x10);
      piVar8[-0x40] = uVar2;
      if (((int)uVar2 < 0) || (2 < (int)uVar2)) goto LAB_0044dcfc;
      iVar4 = (**(code **)((&PTR_DAT_00472000)[uVar2] + 4))(param_1);
      *piVar8 = iVar4;
      if (iVar4 == 0) goto LAB_0044dcfc;
      iVar7 = iVar7 + 1;
      piVar8 = piVar8 + 1;
    } while (iVar7 < *(int *)(iVar1 + 0x14));
  }
  uVar2 = FUN_0044f700(unaff_ESI,6);
  iVar7 = 0;
  *(uint *)(iVar1 + 0xc) = uVar2 + 1;
  if (0 < (int)(uVar2 + 1)) {
    piVar8 = (int *)(iVar1 + 0x220);
    do {
      uVar2 = FUN_0044f700(unaff_ESI,0x10);
      piVar8[-0x40] = uVar2;
      if (((int)uVar2 < 0) || (0 < (int)uVar2)) goto LAB_0044dcfc;
      iVar4 = (**(code **)((&PTR_PTR_FUN_0047200c)[uVar2] + 4))(param_1);
      *piVar8 = iVar4;
      if (iVar4 == 0) goto LAB_0044dcfc;
      iVar7 = iVar7 + 1;
      piVar8 = piVar8 + 1;
    } while (iVar7 < *(int *)(iVar1 + 0xc));
  }
  uVar2 = FUN_0044f700(unaff_ESI,6);
  iVar7 = 0;
  *(uint *)(iVar1 + 8) = uVar2 + 1;
  if (0 < (int)(uVar2 + 1)) {
    ppuVar6 = (uint **)(iVar1 + 0x20);
    do {
      puVar3 = (uint *)calloc(1,0x10);
      *ppuVar6 = puVar3;
      uVar2 = FUN_0044f700(unaff_ESI,1);
      **ppuVar6 = uVar2;
      uVar2 = FUN_0044f700(unaff_ESI,0x10);
      (*ppuVar6)[1] = uVar2;
      uVar2 = FUN_0044f700(unaff_ESI,0x10);
      (*ppuVar6)[2] = uVar2;
      uVar2 = FUN_0044f700(unaff_ESI,8);
      (*ppuVar6)[3] = uVar2;
      puVar3 = *ppuVar6;
      if (((0 < (int)puVar3[1]) || (0 < (int)puVar3[2])) ||
         (*(int *)(iVar1 + 0xc) <= (int)puVar3[3])) goto LAB_0044dcfc;
      iVar7 = iVar7 + 1;
      ppuVar6 = ppuVar6 + 1;
    } while (iVar7 < *(int *)(iVar1 + 8));
  }
  uVar2 = FUN_0044f700(unaff_ESI,1);
  if (uVar2 == 1) {
    return 0;
  }
LAB_0044dcfc:
  FUN_0044d790(param_1);
  return 0xffffff7b;
}



void __cdecl FUN_0044dd20(undefined4 *param_1)

{
  uint uVar1;
  int local_20 [5];
  int local_c;
  undefined2 local_8;
  uint local_4;
  
  local_4 = DAT_0047a940 ^ (uint)local_20;
  if (param_1 != (undefined4 *)0x0) {
    FUN_0044f610(local_20,*param_1,param_1[1]);
    if (param_1[2] != 0) {
      uVar1 = FUN_0044f700(local_20,8);
      if (uVar1 == 1) {
        local_c = 0;
        local_8 = 0;
        FUN_0044d670((undefined *)&local_c);
        if (((local_c == 0x62726f76) && ((char)local_8 == 'i')) && (local_8._1_1_ == 's')) {
          ___security_check_cookie_4(local_4 ^ (uint)local_20);
          return;
        }
      }
    }
  }
  ___security_check_cookie_4(local_4 ^ (uint)local_20);
  return;
}



void __cdecl FUN_0044ddd0(undefined4 *param_1,int param_2,undefined4 *param_3)

{
  uint uVar1;
  int local_24;
  int local_20 [5];
  int local_c;
  undefined2 local_8;
  uint local_4;
  
  local_4 = DAT_0047a940 ^ (uint)&local_24;
  local_24 = param_2;
  if (param_3 == (undefined4 *)0x0) {
    ___security_check_cookie_4(local_4 ^ (uint)&local_24);
    return;
  }
  FUN_0044f610(local_20,*param_3,param_3[1]);
  uVar1 = FUN_0044f700(local_20,8);
  local_c = 0;
  local_8 = 0;
  FUN_0044d670((undefined *)&local_c);
  if (((local_c == 0x62726f76) && ((char)local_8 == 'i')) && (local_8._1_1_ == 's')) {
    if (uVar1 == 1) {
      if ((param_3[2] != 0) && (param_1[2] == 0)) {
        FUN_0044d910();
        ___security_check_cookie_4(local_4 ^ (uint)&local_24);
        return;
      }
    }
    else if (uVar1 == 3) {
      if (param_1[2] != 0) {
        FUN_0044d9e0();
        ___security_check_cookie_4(local_4 ^ (uint)&local_24);
        return;
      }
    }
    else if (((uVar1 == 5) && (param_1[2] != uVar1 - 5)) && (*(int *)(local_24 + 0xc) != uVar1 - 5))
    {
      FUN_0044dab0(param_1);
      ___security_check_cookie_4(local_4 ^ (uint)&local_24);
      return;
    }
    ___security_check_cookie_4(local_4 ^ (uint)&local_24);
    return;
  }
  ___security_check_cookie_4(local_4 ^ (uint)&local_24);
  return;
}



undefined4 __cdecl FUN_0044df30(int *param_1,undefined4 *param_2)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  uint uVar5;
  int iVar6;
  undefined4 uVar7;
  int iVar8;
  
  iVar2 = *(int *)(param_1[0x10] + 4);
  iVar6 = *(int *)(param_1[0x10] + 0x68);
  iVar3 = *(int *)(iVar2 + 0x1c);
  piVar1 = param_1 + 1;
  FUN_0044e2e0((int)param_1);
  FUN_0044f610(piVar1,*param_2,param_2[1]);
  uVar4 = FUN_0044f700(piVar1,1);
  if (uVar4 != 0) {
    return 0xffffff79;
  }
  uVar4 = FUN_0044f700(piVar1,*(int *)(iVar6 + 0x2c));
  if (uVar4 == 0xffffffff) {
    return 0xffffff78;
  }
  param_1[10] = uVar4;
  iVar6 = **(int **)(iVar3 + 0x20 + uVar4 * 4);
  param_1[7] = iVar6;
  if (iVar6 == 0) {
    param_1[6] = 0;
    param_1[8] = 0;
  }
  else {
    uVar5 = FUN_0044f700(piVar1,1);
    param_1[6] = uVar5;
    uVar5 = FUN_0044f700(piVar1,1);
    param_1[8] = uVar5;
    if (uVar5 == 0xffffffff) {
      return 0xffffff78;
    }
  }
  param_1[0xc] = param_2[4];
  param_1[0xd] = param_2[5];
  param_1[0xe] = param_2[6];
  param_1[0xf] = param_2[7];
  param_1[0xb] = param_2[3];
  param_1[9] = *(int *)(iVar3 + param_1[7] * 4);
  iVar6 = FUN_0044e270((int)param_1,*(int *)(iVar2 + 4) * 4);
  iVar8 = 0;
  *param_1 = iVar6;
  if (0 < *(int *)(iVar2 + 4)) {
    do {
      iVar6 = FUN_0044e270((int)param_1,param_1[9] * 4);
      *(int *)(*param_1 + iVar8 * 4) = iVar6;
      iVar8 = iVar8 + 1;
    } while (iVar8 < *(int *)(iVar2 + 4));
  }
  iVar2 = *(int *)(*(int *)(iVar3 + 0x20 + uVar4 * 4) + 0xc);
  uVar7 = (**(code **)((&PTR_PTR_FUN_0047200c)[*(int *)(iVar3 + 0x120 + iVar2 * 4)] + 0x10))
                    (param_1,*(undefined4 *)(iVar3 + 0x220 + iVar2 * 4));
  return uVar7;
}



undefined4 __cdecl FUN_0044e080(undefined4 *param_1,undefined4 *param_2)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  undefined4 uVar4;
  uint uVar5;
  
  iVar2 = *(int *)(param_1[0x10] + 0x68);
  iVar3 = *(int *)(*(int *)(param_1[0x10] + 4) + 0x1c);
  piVar1 = param_1 + 1;
  FUN_0044e2e0((int)param_1);
  FUN_0044f610(piVar1,*param_2,param_2[1]);
  uVar5 = FUN_0044f700(piVar1,1);
  if (uVar5 != 0) {
    return 0xffffff79;
  }
  uVar5 = FUN_0044f700(piVar1,*(int *)(iVar2 + 0x2c));
  if (uVar5 == 0xffffffff) {
    return 0xffffff78;
  }
  param_1[10] = uVar5;
  iVar2 = **(int **)(iVar3 + 0x20 + uVar5 * 4);
  param_1[7] = iVar2;
  if (iVar2 == 0) {
    param_1[6] = 0;
    param_1[8] = 0;
  }
  else {
    uVar5 = FUN_0044f700(piVar1,1);
    param_1[6] = uVar5;
    uVar5 = FUN_0044f700(piVar1,1);
    param_1[8] = uVar5;
    if (uVar5 == 0xffffffff) {
      return 0xffffff78;
    }
  }
  param_1[0xc] = param_2[4];
  param_1[0xd] = param_2[5];
  param_1[0xe] = param_2[6];
  param_1[0xf] = param_2[7];
  uVar4 = param_2[3];
  param_1[9] = 0;
  *param_1 = 0;
  param_1[0xb] = uVar4;
  return 0;
}



undefined4 __cdecl FUN_0044e150(int param_1,undefined4 *param_2)

{
  int iVar1;
  uint uVar2;
  int iVar3;
  int iVar4;
  int local_14 [5];
  
  iVar1 = *(int *)(param_1 + 0x1c);
  FUN_0044f610(local_14,*param_2,param_2[1]);
  uVar2 = FUN_0044f700(local_14,1);
  if (uVar2 != 0) {
    return 0xffffff79;
  }
  iVar4 = 0;
  for (iVar3 = *(int *)(iVar1 + 8); 1 < iVar3; iVar3 = iVar3 >> 1) {
    iVar4 = iVar4 + 1;
  }
  uVar2 = FUN_0044f700(local_14,iVar4);
  if (uVar2 != 0xffffffff) {
    return *(undefined4 *)(iVar1 + **(int **)(iVar1 + 0x20 + uVar2 * 4) * 4);
  }
  return 0xffffff78;
}



int __fastcall FUN_0044e1d0(int param_1)

{
  int iVar1;
  uint uVar2;
  
  iVar1 = 0;
  if (param_1 != 0) {
    for (uVar2 = param_1 - 1; uVar2 != 0; uVar2 = uVar2 >> 1) {
      iVar1 = iVar1 + 1;
    }
  }
  return iVar1;
}



undefined4 __cdecl FUN_0044e1f0(int *param_1,void *param_2)

{
  void *pvVar1;
  void *pvVar2;
  int iVar3;
  
  iVar3 = 0;
  memset(param_2,0,0x70);
  *(int **)((int)param_2 + 0x40) = param_1;
  *(undefined4 *)((int)param_2 + 0x4c) = 0;
  *(undefined4 *)((int)param_2 + 0x44) = 0;
  if (*param_1 != 0) {
    pvVar1 = calloc(1,0x48);
    *(void **)((int)param_2 + 0x68) = pvVar1;
    *(undefined4 *)((int)pvVar1 + 4) = 0xc61c3c00;
    do {
      if (iVar3 == 7) {
        *(int *)((int)pvVar1 + 0x28) = (int)param_2 + 4;
      }
      else {
        pvVar2 = calloc(1,0x14);
        *(void **)((int)pvVar1 + iVar3 * 4 + 0xc) = pvVar2;
      }
      FUN_0044f4c0(*(undefined4 **)((int)pvVar1 + iVar3 * 4 + 0xc));
      iVar3 = iVar3 + 1;
    } while (iVar3 < 0xf);
  }
  return 0;
}



int __cdecl FUN_0044e270(int param_1,int param_2)

{
  int iVar1;
  undefined4 *puVar2;
  void *pvVar3;
  uint _Size;
  
  _Size = param_2 + 7U & 0xfffffff8;
  if (*(int *)(param_1 + 0x4c) < (int)(*(int *)(param_1 + 0x48) + _Size)) {
    if (*(int *)(param_1 + 0x44) != 0) {
      puVar2 = (undefined4 *)malloc(8);
      *(int *)(param_1 + 0x50) = *(int *)(param_1 + 0x50) + *(int *)(param_1 + 0x48);
      puVar2[1] = *(undefined4 *)(param_1 + 0x54);
      *puVar2 = *(undefined4 *)(param_1 + 0x44);
      *(undefined4 **)(param_1 + 0x54) = puVar2;
    }
    *(uint *)(param_1 + 0x4c) = _Size;
    pvVar3 = malloc(_Size);
    *(void **)(param_1 + 0x44) = pvVar3;
    *(undefined4 *)(param_1 + 0x48) = 0;
  }
  iVar1 = *(int *)(param_1 + 0x48);
  *(uint *)(param_1 + 0x48) = iVar1 + _Size;
  return *(int *)(param_1 + 0x44) + iVar1;
}



void __cdecl FUN_0044e2e0(int param_1)

{
  void **ppvVar1;
  void **_Memory;
  void *pvVar2;
  
  _Memory = *(void ***)(param_1 + 0x54);
  while (_Memory != (void **)0x0) {
    ppvVar1 = (void **)_Memory[1];
    free(*_Memory);
    *_Memory = (void *)0x0;
    _Memory[1] = (void *)0x0;
    free(_Memory);
    _Memory = ppvVar1;
  }
  if (*(int *)(param_1 + 0x50) != 0) {
    pvVar2 = realloc(*(void **)(param_1 + 0x44),*(int *)(param_1 + 0x4c) + *(int *)(param_1 + 0x50))
    ;
    *(void **)(param_1 + 0x44) = pvVar2;
    *(int *)(param_1 + 0x4c) = *(int *)(param_1 + 0x4c) + *(int *)(param_1 + 0x50);
    *(undefined4 *)(param_1 + 0x50) = 0;
  }
  *(undefined4 *)(param_1 + 0x54) = 0;
  *(undefined4 *)(param_1 + 0x48) = 0;
  return;
}



undefined4 __cdecl FUN_0044e350(void *param_1)

{
  void *_Memory;
  int iVar1;
  void **ppvVar2;
  
  _Memory = *(void **)((int)param_1 + 0x68);
  FUN_0044e2e0((int)param_1);
  if (*(void **)((int)param_1 + 0x44) != (void *)0x0) {
    free(*(void **)((int)param_1 + 0x44));
  }
  if (_Memory != (void *)0x0) {
    iVar1 = 0;
    ppvVar2 = (void **)((int)_Memory + 0xc);
    do {
      FUN_0044f5e0((undefined4 *)*ppvVar2);
      if (iVar1 != 7) {
        free(*ppvVar2);
      }
      iVar1 = iVar1 + 1;
      ppvVar2 = ppvVar2 + 1;
    } while (iVar1 < 0xf);
    free(_Memory);
  }
  memset(param_1,0,0x70);
  return 0;
}



undefined4 __cdecl FUN_0044e3d0(int param_1,int param_2)

{
  int *piVar1;
  void *pvVar2;
  int iVar3;
  void *pvVar4;
  int iVar5;
  undefined4 uVar6;
  undefined4 *unaff_EBX;
  int **ppiVar7;
  float **ppfVar8;
  void **ppvVar9;
  int *piVar10;
  int local_8;
  int local_4;
  
  piVar1 = *(int **)(param_1 + 0x1c);
  if (piVar1 != (int *)0x0) {
    iVar5 = piVar1[0x392];
    memset(unaff_EBX,0,0x70);
    pvVar2 = calloc(1,0x88);
    unaff_EBX[1] = param_1;
    unaff_EBX[0x1a] = pvVar2;
    iVar3 = FUN_0044e1d0(piVar1[2]);
    *(int *)((int)pvVar2 + 0x2c) = iVar3;
    pvVar4 = calloc(1,4);
    *(void **)((int)pvVar2 + 0xc) = pvVar4;
    pvVar4 = calloc(1,4);
    *(void **)((int)pvVar2 + 0x10) = pvVar4;
    pvVar4 = calloc(1,0x14);
    **(void ***)((int)pvVar2 + 0xc) = pvVar4;
    pvVar4 = calloc(1,0x14);
    **(void ***)((int)pvVar2 + 0x10) = pvVar4;
    FUN_00457340(**(int ***)((int)pvVar2 + 0xc),*piVar1 >> ((byte)iVar5 & 0x1f));
    FUN_00457340(**(int ***)((int)pvVar2 + 0x10),piVar1[1] >> ((byte)iVar5 & 0x1f));
    iVar5 = FUN_0044e1d0(*piVar1);
    *(int *)((int)pvVar2 + 4) = iVar5 + -6;
    iVar5 = FUN_0044e1d0(piVar1[1]);
    *(int *)((int)pvVar2 + 8) = iVar5 + -6;
    if (param_2 == 0) {
      if (piVar1[0x2c8] == 0) {
        pvVar4 = calloc(piVar1[6],0x2c);
        piVar1[0x2c8] = (int)pvVar4;
        local_8 = 0;
        if (0 < piVar1[6]) {
          local_4 = 0;
          ppvVar9 = (void **)(piVar1 + 0x1c8);
          do {
            FUN_004540f0((undefined4 *)(piVar1[0x2c8] + local_4),(undefined4 *)*ppvVar9);
            FUN_00453ff0(*ppvVar9);
            local_4 = local_4 + 0x2c;
            *ppvVar9 = (void *)0x0;
            local_8 = local_8 + 1;
            ppvVar9 = ppvVar9 + 1;
          } while (local_8 < piVar1[6]);
        }
      }
    }
    else {
      FUN_004572c0((int *)((int)pvVar2 + 0x14),*piVar1);
      FUN_004572c0((int *)((int)pvVar2 + 0x20),piVar1[1]);
      if (piVar1[0x2c8] == 0) {
        pvVar4 = calloc(piVar1[6],0x2c);
        piVar1[0x2c8] = (int)pvVar4;
        local_8 = 0;
        if (0 < piVar1[6]) {
          local_4 = 0;
          ppiVar7 = (int **)(piVar1 + 0x1c8);
          do {
            FUN_00454080((int *)(piVar1[0x2c8] + local_4),*ppiVar7);
            local_4 = local_4 + 0x2c;
            local_8 = local_8 + 1;
            ppiVar7 = ppiVar7 + 1;
          } while (local_8 < piVar1[6]);
        }
      }
      pvVar4 = calloc(piVar1[7],0x34);
      *(void **)((int)pvVar2 + 0x38) = pvVar4;
      local_8 = 0;
      if (0 < piVar1[7]) {
        local_4 = 0;
        ppfVar8 = (float **)(piVar1 + 0x2c9);
        do {
          FUN_004505c0((float **)(*(int *)((int)pvVar2 + 0x38) + local_4),*ppfVar8,
                       (float **)(piVar1 + 0x2cd),(float *)(piVar1[(int)**ppfVar8] / 2),
                       *(float **)(param_1 + 8));
          local_4 = local_4 + 0x34;
          local_8 = local_8 + 1;
          ppfVar8 = ppfVar8 + 1;
        } while (local_8 < piVar1[7]);
      }
      *unaff_EBX = 1;
    }
    unaff_EBX[4] = piVar1[1];
    pvVar4 = malloc(*(int *)(param_1 + 4) * 4);
    unaff_EBX[2] = pvVar4;
    pvVar4 = malloc(*(int *)(param_1 + 4) * 4);
    iVar5 = 0;
    unaff_EBX[3] = pvVar4;
    if (0 < *(int *)(param_1 + 4)) {
      do {
        pvVar4 = calloc(unaff_EBX[4],4);
        *(void **)(unaff_EBX[2] + iVar5 * 4) = pvVar4;
        iVar5 = iVar5 + 1;
      } while (iVar5 < *(int *)(param_1 + 4));
    }
    unaff_EBX[9] = 0;
    unaff_EBX[10] = 0;
    iVar5 = piVar1[1];
    unaff_EBX[0xc] = iVar5 / 2;
    unaff_EBX[5] = iVar5 / 2;
    pvVar4 = calloc(piVar1[4],4);
    *(void **)((int)pvVar2 + 0x30) = pvVar4;
    pvVar4 = calloc(piVar1[5],4);
    *(void **)((int)pvVar2 + 0x34) = pvVar4;
    local_8 = 0;
    if (0 < piVar1[4]) {
      piVar10 = piVar1 + 0x108;
      do {
        uVar6 = (**(code **)((&PTR_DAT_00471ff8)[piVar10[-0x40]] + 8))();
        *(undefined4 *)((int)piVar10 + *(int *)((int)pvVar2 + 0x30) + (-0x420 - (int)piVar1)) =
             uVar6;
        local_8 = local_8 + 1;
        piVar10 = piVar10 + 1;
      } while (local_8 < piVar1[4]);
    }
    local_8 = 0;
    if (0 < piVar1[5]) {
      piVar10 = piVar1 + 0x188;
      do {
        uVar6 = (**(code **)((&PTR_DAT_00472000)[piVar10[-0x40]] + 8))();
        *(undefined4 *)((int)piVar10 + *(int *)((int)pvVar2 + 0x34) + (-0x620 - (int)piVar1)) =
             uVar6;
        local_8 = local_8 + 1;
        piVar10 = piVar10 + 1;
      } while (local_8 < piVar1[5]);
    }
    return 0;
  }
  return 1;
}



void __cdecl FUN_0044e750(void *param_1)

{
  int iVar1;
  void **_Memory;
  int iVar2;
  int *piVar3;
  int iVar4;
  int iVar5;
  
  if (param_1 != (void *)0x0) {
    iVar1 = *(int *)((int)param_1 + 4);
    if (iVar1 == 0) {
      iVar5 = 0;
    }
    else {
      iVar5 = *(int *)(iVar1 + 0x1c);
    }
    _Memory = *(void ***)((int)param_1 + 0x68);
    if (_Memory != (void **)0x0) {
      if (*_Memory != (void *)0x0) {
        FUN_00458430(*_Memory);
        free(*_Memory);
      }
      if ((undefined4 *)_Memory[3] != (undefined4 *)0x0) {
                    // WARNING: Load size is inaccurate
        FUN_00457cd0(*_Memory[3]);
                    // WARNING: Load size is inaccurate
        free(*_Memory[3]);
        free(_Memory[3]);
      }
      if ((undefined4 *)_Memory[4] != (undefined4 *)0x0) {
                    // WARNING: Load size is inaccurate
        FUN_00457cd0(*_Memory[4]);
                    // WARNING: Load size is inaccurate
        free(*_Memory[4]);
        free(_Memory[4]);
      }
      if (_Memory[0xc] != (void *)0x0) {
        if ((iVar5 != 0) && (iVar2 = 0, 0 < *(int *)(iVar5 + 0x10))) {
          piVar3 = (int *)(iVar5 + 800);
          do {
            (**(code **)((&PTR_DAT_00471ff8)[*piVar3] + 0x10))
                      (*(undefined4 *)((int)_Memory[0xc] + iVar2 * 4));
            iVar2 = iVar2 + 1;
            piVar3 = piVar3 + 1;
          } while (iVar2 < *(int *)(iVar5 + 0x10));
        }
        free(_Memory[0xc]);
      }
      if (_Memory[0xd] != (void *)0x0) {
        if ((iVar5 != 0) && (iVar2 = 0, 0 < *(int *)(iVar5 + 0x14))) {
          piVar3 = (int *)(iVar5 + 0x520);
          do {
            (**(code **)((&PTR_DAT_00472000)[*piVar3] + 0x10))
                      (*(undefined4 *)((int)_Memory[0xd] + iVar2 * 4));
            iVar2 = iVar2 + 1;
            piVar3 = piVar3 + 1;
          } while (iVar2 < *(int *)(iVar5 + 0x14));
        }
        free(_Memory[0xd]);
      }
      if (_Memory[0xe] != (void *)0x0) {
        if ((iVar5 != 0) && (iVar2 = 0, 0 < *(int *)(iVar5 + 0x1c))) {
          iVar4 = 0;
          do {
            FUN_00450d30((void *)((int)_Memory[0xe] + iVar4));
            iVar2 = iVar2 + 1;
            iVar4 = iVar4 + 0x34;
          } while (iVar2 < *(int *)(iVar5 + 0x1c));
        }
        free(_Memory[0xe]);
      }
      if ((undefined4 *)_Memory[0xf] != (undefined4 *)0x0) {
        FUN_0044f7e0((undefined4 *)_Memory[0xf]);
      }
      FUN_004583f0(_Memory + 0x14);
      FUN_00457300(_Memory + 5);
      FUN_00457300(_Memory + 8);
    }
    if (*(int *)((int)param_1 + 8) != 0) {
      if ((iVar1 != 0) && (iVar5 = 0, 0 < *(int *)(iVar1 + 4))) {
        do {
          if (*(int *)(*(int *)((int)param_1 + 8) + iVar5 * 4) != 0) {
            free(*(void **)(*(int *)((int)param_1 + 8) + iVar5 * 4));
          }
          iVar5 = iVar5 + 1;
        } while (iVar5 < *(int *)(iVar1 + 4));
      }
      free(*(void **)((int)param_1 + 8));
      if (*(void **)((int)param_1 + 0xc) != (void *)0x0) {
        free(*(void **)((int)param_1 + 0xc));
      }
    }
    if (_Memory != (void **)0x0) {
      if (_Memory[0x10] != (void *)0x0) {
        free(_Memory[0x10]);
      }
      if (_Memory[0x11] != (void *)0x0) {
        free(_Memory[0x11]);
      }
      if (_Memory[0x12] != (void *)0x0) {
        free(_Memory[0x12]);
      }
      free(_Memory);
    }
    memset(param_1,0,0x70);
  }
  return;
}



undefined4 __cdecl FUN_0044e9a0(int param_1)

{
  int iVar1;
  byte bVar2;
  int iVar3;
  
  iVar1 = *(int *)(param_1 + 0x68);
  if (((iVar1 != 0) && (*(int *)(param_1 + 4) != 0)) &&
     (iVar3 = *(int *)(*(int *)(param_1 + 4) + 0x1c), iVar3 != 0)) {
    bVar2 = (byte)*(undefined4 *)(iVar3 + 0xe48);
    iVar3 = *(int *)(iVar3 + 4) >> (bVar2 + 1 & 0x1f);
    *(undefined4 *)(param_1 + 0x20) = 0;
    *(int *)(param_1 + 0x30) = iVar3;
    *(undefined4 *)(param_1 + 0x18) = 0xffffffff;
    *(undefined4 *)(param_1 + 0x38) = 0xffffffff;
    *(int *)(param_1 + 0x14) = iVar3 >> (bVar2 & 0x1f);
    *(undefined4 *)(param_1 + 0x3c) = 0xffffffff;
    *(undefined4 *)(param_1 + 0x40) = 0xffffffff;
    *(undefined4 *)(param_1 + 0x44) = 0xffffffff;
    *(undefined4 *)(iVar1 + 0x80) = 0xffffffff;
    *(undefined4 *)(iVar1 + 0x84) = 0xffffffff;
    return 0;
  }
  return 0xffffffff;
}



undefined4 __cdecl FUN_0044ea10(int param_1,int param_2)

{
  int iVar1;
  
  iVar1 = FUN_0044e3d0(param_2,0);
  if (iVar1 != 0) {
    return 1;
  }
  FUN_0044e9a0(param_1);
  return 0;
}



undefined4 __cdecl FUN_0044ea40(int param_1,int *param_2)

{
  uint *puVar1;
  int *piVar2;
  int iVar3;
  int iVar4;
  uint uVar5;
  byte bVar6;
  int iVar7;
  undefined *puVar8;
  float *pfVar9;
  float *pfVar10;
  int iVar11;
  float *pfVar12;
  undefined4 *puVar13;
  uint uVar14;
  int iVar15;
  byte bVar16;
  int iVar17;
  int iVar18;
  int iVar19;
  int iVar20;
  undefined4 *puVar21;
  int iVar22;
  float *pfVar23;
  uint uVar24;
  int iVar25;
  int iVar26;
  undefined8 uVar27;
  int local_3c;
  uint local_2c;
  float *local_18;
  uint local_14;
  float *local_10;
  float *local_8;
  
  iVar15 = *(int *)(param_1 + 4);
  piVar2 = *(int **)(iVar15 + 0x1c);
  iVar3 = *(int *)(param_1 + 0x68);
  iVar4 = piVar2[0x392];
  if (param_2 == (int *)0x0) {
    return 0xffffff7d;
  }
  iVar7 = *(int *)(param_1 + 0x18);
  if ((*(int *)(param_1 + 0x14) != iVar7 && iVar7 <= *(int *)(param_1 + 0x14)) && (iVar7 != -1)) {
    return 0xffffff7d;
  }
  *(undefined4 *)(param_1 + 0x24) = *(undefined4 *)(param_1 + 0x28);
  *(int *)(param_1 + 0x28) = param_2[7];
  uVar5 = *(uint *)(param_1 + 0x40);
  *(undefined4 *)(param_1 + 0x2c) = 0xffffffff;
  if ((((uVar5 & *(uint *)(param_1 + 0x44)) == 0xffffffff) || (uVar5 + 1 != param_2[0xe])) ||
     (*(uint *)(param_1 + 0x44) + (uint)(0xfffffffe < uVar5) != param_2[0xf])) {
    *(undefined4 *)(param_1 + 0x38) = 0xffffffff;
    *(undefined4 *)(param_1 + 0x3c) = 0xffffffff;
    *(undefined4 *)(iVar3 + 0x80) = 0xffffffff;
    *(undefined4 *)(iVar3 + 0x84) = 0xffffffff;
  }
  *(int *)(param_1 + 0x40) = param_2[0xe];
  *(int *)(param_1 + 0x44) = param_2[0xf];
  bVar6 = (byte)iVar4;
  if (*param_2 != 0) {
    bVar16 = bVar6 + 1;
    iVar7 = piVar2[*(int *)(param_1 + 0x28)] >> (bVar16 & 0x1f);
    iVar22 = *piVar2 >> (bVar16 & 0x1f);
    uVar24 = piVar2[1] >> (bVar16 & 0x1f);
    uVar14 = param_2[0x16];
    puVar1 = (uint *)(param_1 + 0x48);
    uVar5 = *puVar1;
    *puVar1 = *puVar1 + uVar14;
    *(int *)(param_1 + 0x4c) =
         *(int *)(param_1 + 0x4c) + ((int)uVar14 >> 0x1f) + (uint)CARRY4(uVar5,uVar14);
    uVar14 = param_2[0x17];
    puVar1 = (uint *)(param_1 + 0x50);
    uVar5 = *puVar1;
    *puVar1 = *puVar1 + uVar14;
    *(int *)(param_1 + 0x54) =
         *(int *)(param_1 + 0x54) + ((int)uVar14 >> 0x1f) + (uint)CARRY4(uVar5,uVar14);
    uVar14 = param_2[0x18];
    puVar1 = (uint *)(param_1 + 0x58);
    uVar5 = *puVar1;
    *puVar1 = *puVar1 + uVar14;
    *(int *)(param_1 + 0x5c) =
         *(int *)(param_1 + 0x5c) + ((int)uVar14 >> 0x1f) + (uint)CARRY4(uVar5,uVar14);
    uVar14 = param_2[0x19];
    puVar1 = (uint *)(param_1 + 0x60);
    uVar5 = *puVar1;
    *puVar1 = *puVar1 + uVar14;
    *(int *)(param_1 + 100) =
         *(int *)(param_1 + 100) + ((int)uVar14 >> 0x1f) + (uint)CARRY4(uVar5,uVar14);
    if (*(int *)(param_1 + 0x30) == 0) {
      local_14 = 0;
      local_2c = uVar24;
    }
    else {
      local_2c = 0;
      local_14 = uVar24;
    }
    local_3c = 0;
    if (0 < *(int *)(iVar15 + 4)) {
      do {
        if (*(int *)(param_1 + 0x24) == 0) {
          if (*(int *)(param_1 + 0x28) == 0) {
            puVar8 = FUN_004584a0(*(int *)(iVar3 + 4) - iVar4);
            iVar20 = *(int *)(*(int *)(param_1 + 8) + local_3c * 4) + local_2c * 4;
            iVar18 = *(int *)(*param_2 + local_3c * 4);
            iVar19 = 0;
            if (3 < iVar22) {
              pfVar10 = (float *)(iVar20 + 4);
              pfVar12 = (float *)(puVar8 + 8);
              pfVar23 = (float *)(puVar8 + iVar22 * 4 + -8);
              do {
                iVar25 = iVar19 * 4;
                pfVar9 = (float *)(((int)puVar8 - iVar20) + (int)pfVar10);
                iVar19 = iVar19 + 4;
                pfVar10[-1] = pfVar23[1] * pfVar10[-1] + *(float *)(iVar18 + iVar25) * pfVar12[-2];
                *pfVar10 = *pfVar23 * *pfVar10 +
                           *(float *)((iVar18 - (int)puVar8) + (int)pfVar9) * *pfVar9;
                pfVar10[1] = pfVar23[-1] * pfVar10[1] +
                             *(float *)((int)pfVar12 + (iVar18 - (int)puVar8)) * *pfVar12;
                pfVar10[2] = pfVar23[-2] * pfVar10[2] +
                             *(float *)(iVar18 + -4 + iVar19 * 4) * pfVar12[1];
                pfVar10 = pfVar10 + 4;
                pfVar12 = pfVar12 + 4;
                pfVar23 = pfVar23 + -4;
              } while (iVar19 < iVar22 + -3);
            }
            if (iVar19 < iVar22) {
              iVar25 = iVar22 - iVar19;
              pfVar10 = (float *)(iVar20 + iVar19 * 4);
              local_8 = (float *)(puVar8 + (iVar22 - iVar19) * 4 + -4);
              do {
                pfVar12 = (float *)((int)pfVar10 + ((int)puVar8 - iVar20));
                iVar25 = iVar25 + -1;
                *pfVar10 = *pfVar10 * *local_8 +
                           *(float *)((int)pfVar12 + (iVar18 - (int)puVar8)) * *pfVar12;
                pfVar10 = pfVar10 + 1;
                local_8 = local_8 + -1;
              } while (iVar25 != 0);
            }
          }
          else {
            puVar8 = FUN_004584a0(*(int *)(iVar3 + 4) - iVar4);
            iVar20 = *(int *)(*(int *)(param_1 + 8) + local_3c * 4) + local_2c * 4;
            iVar18 = *(int *)(*param_2 + local_3c * 4) + ((int)uVar24 / 2 - iVar22 / 2) * 4;
            iVar19 = 0;
            if (3 < iVar22) {
              pfVar10 = (float *)(iVar20 + 4);
              pfVar12 = (float *)(puVar8 + 8);
              pfVar23 = (float *)(puVar8 + iVar22 * 4 + -8);
              do {
                iVar25 = iVar19 * 4;
                pfVar9 = (float *)(((int)puVar8 - iVar20) + (int)pfVar10);
                iVar19 = iVar19 + 4;
                pfVar10[-1] = pfVar23[1] * pfVar10[-1] + *(float *)(iVar18 + iVar25) * pfVar12[-2];
                *pfVar10 = *pfVar23 * *pfVar10 +
                           *(float *)((iVar18 - (int)puVar8) + (int)pfVar9) * *pfVar9;
                pfVar10[1] = pfVar23[-1] * pfVar10[1] +
                             *(float *)((int)pfVar12 + (iVar18 - (int)puVar8)) * *pfVar12;
                pfVar10[2] = pfVar23[-2] * pfVar10[2] +
                             *(float *)(iVar18 + -4 + iVar19 * 4) * pfVar12[1];
                pfVar10 = pfVar10 + 4;
                pfVar12 = pfVar12 + 4;
                pfVar23 = pfVar23 + -4;
              } while (iVar19 < iVar22 + -3);
            }
            if (iVar19 < iVar22) {
              iVar11 = iVar22 - iVar19;
              iVar26 = iVar22 - iVar19;
              iVar25 = iVar19 * 4;
              iVar19 = iVar19 + iVar26;
              pfVar10 = (float *)(iVar20 + iVar25);
              local_10 = (float *)(puVar8 + iVar11 * 4 + -4);
              do {
                pfVar12 = (float *)(((int)puVar8 - iVar20) + (int)pfVar10);
                iVar26 = iVar26 + -1;
                *pfVar10 = *pfVar10 * *local_10 +
                           *(float *)((int)pfVar12 + (iVar18 - (int)puVar8)) * *pfVar12;
                pfVar10 = pfVar10 + 1;
                local_10 = local_10 + -1;
              } while (iVar26 != 0);
            }
            iVar25 = (int)uVar24 / 2 + iVar22 / 2;
            if (iVar19 < iVar25) {
              if (3 < iVar25 - iVar19) {
                iVar11 = iVar19 * 4;
                iVar26 = iVar19 * 4;
                iVar17 = ((iVar25 - iVar19) - 4U >> 2) + 1;
                iVar19 = iVar19 + iVar17 * 4;
                puVar13 = (undefined4 *)(iVar20 + 4 + iVar11);
                puVar21 = (undefined4 *)(iVar18 + 0xc + iVar26);
                do {
                  puVar13[-1] = puVar21[-3];
                  iVar17 = iVar17 + -1;
                  *puVar13 = *(undefined4 *)((iVar18 - iVar20) + -0x10 + (int)(puVar13 + 4));
                  puVar13[1] = puVar21[-1];
                  puVar13[2] = *puVar21;
                  puVar13 = puVar13 + 4;
                  puVar21 = puVar21 + 4;
                } while (iVar17 != 0);
              }
              if (iVar19 < iVar25) {
                iVar25 = iVar25 - iVar19;
                puVar13 = (undefined4 *)(iVar20 + iVar19 * 4);
                do {
                  iVar25 = iVar25 + -1;
                  *puVar13 = *(undefined4 *)((int)puVar13 + (iVar18 - iVar20));
                  puVar13 = puVar13 + 1;
                } while (iVar25 != 0);
              }
            }
          }
        }
        else if (*(int *)(param_1 + 0x28) == 0) {
          puVar8 = FUN_004584a0(*(int *)(iVar3 + 4) - iVar4);
          iVar20 = *(int *)(*(int *)(param_1 + 8) + local_3c * 4) +
                   (((int)uVar24 / 2 - iVar22 / 2) + local_2c) * 4;
          iVar18 = *(int *)(*param_2 + local_3c * 4);
          iVar19 = 0;
          if (3 < iVar22) {
            pfVar10 = (float *)(iVar20 + 4);
            pfVar12 = (float *)(puVar8 + 8);
            pfVar23 = (float *)(puVar8 + iVar22 * 4 + -8);
            do {
              iVar25 = iVar19 * 4;
              pfVar9 = (float *)(((int)puVar8 - iVar20) + (int)pfVar10);
              iVar19 = iVar19 + 4;
              pfVar10[-1] = pfVar23[1] * pfVar10[-1] + *(float *)(iVar18 + iVar25) * pfVar12[-2];
              *pfVar10 = *pfVar23 * *pfVar10 +
                         *(float *)((iVar18 - (int)puVar8) + (int)pfVar9) * *pfVar9;
              pfVar10[1] = pfVar23[-1] * pfVar10[1] +
                           *(float *)((int)pfVar12 + (iVar18 - (int)puVar8)) * *pfVar12;
              pfVar10[2] = pfVar23[-2] * pfVar10[2] +
                           *(float *)(iVar18 + -4 + iVar19 * 4) * pfVar12[1];
              pfVar10 = pfVar10 + 4;
              pfVar12 = pfVar12 + 4;
              pfVar23 = pfVar23 + -4;
            } while (iVar19 < iVar22 + -3);
          }
          if (iVar19 < iVar22) {
            iVar25 = iVar22 - iVar19;
            pfVar10 = (float *)(iVar20 + iVar19 * 4);
            local_10 = (float *)(puVar8 + (iVar22 - iVar19) * 4 + -4);
            do {
              pfVar12 = (float *)((int)pfVar10 + ((int)puVar8 - iVar20));
              iVar25 = iVar25 + -1;
              *pfVar10 = *pfVar10 * *local_10 +
                         *(float *)((int)pfVar12 + (iVar18 - (int)puVar8)) * *pfVar12;
              pfVar10 = pfVar10 + 1;
              local_10 = local_10 + -1;
            } while (iVar25 != 0);
          }
        }
        else {
          puVar8 = FUN_004584a0(*(int *)(iVar3 + 8) - iVar4);
          iVar20 = *(int *)(*(int *)(param_1 + 8) + local_3c * 4) + local_2c * 4;
          iVar18 = *(int *)(*param_2 + local_3c * 4);
          iVar19 = 0;
          if (3 < (int)uVar24) {
            pfVar10 = (float *)(iVar20 + 4);
            pfVar12 = (float *)(puVar8 + 8);
            pfVar23 = (float *)(puVar8 + uVar24 * 4 + -8);
            do {
              iVar25 = iVar19 * 4;
              pfVar9 = (float *)(((int)puVar8 - iVar20) + (int)pfVar10);
              iVar19 = iVar19 + 4;
              pfVar10[-1] = pfVar23[1] * pfVar10[-1] + *(float *)(iVar18 + iVar25) * pfVar12[-2];
              *pfVar10 = *pfVar23 * *pfVar10 +
                         *(float *)((int)pfVar9 + (iVar18 - (int)puVar8)) * *pfVar9;
              pfVar10[1] = pfVar23[-1] * pfVar10[1] +
                           *(float *)((int)pfVar12 + (iVar18 - (int)puVar8)) * *pfVar12;
              pfVar10[2] = pfVar23[-2] * pfVar10[2] +
                           *(float *)(iVar18 + -4 + iVar19 * 4) * pfVar12[1];
              pfVar10 = pfVar10 + 4;
              pfVar12 = pfVar12 + 4;
              pfVar23 = pfVar23 + -4;
            } while (iVar19 < (int)(uVar24 - 3));
          }
          if (iVar19 < (int)uVar24) {
            iVar25 = uVar24 - iVar19;
            pfVar10 = (float *)(iVar20 + iVar19 * 4);
            local_18 = (float *)(puVar8 + (uVar24 - iVar19) * 4 + -4);
            do {
              pfVar12 = (float *)((int)pfVar10 + ((int)puVar8 - iVar20));
              iVar25 = iVar25 + -1;
              *pfVar10 = *pfVar10 * *local_18 +
                         *(float *)((int)pfVar12 + (iVar18 - (int)puVar8)) * *pfVar12;
              pfVar10 = pfVar10 + 1;
              local_18 = local_18 + -1;
            } while (iVar25 != 0);
          }
        }
        iVar18 = *(int *)(*(int *)(param_1 + 8) + local_3c * 4) + local_14 * 4;
        iVar19 = *(int *)(*param_2 + local_3c * 4) + iVar7 * 4;
        iVar20 = 0;
        if (3 < iVar7) {
          iVar25 = (iVar7 - 4U >> 2) + 1;
          iVar20 = iVar25 * 4;
          puVar13 = (undefined4 *)(iVar18 + 4);
          puVar21 = (undefined4 *)(iVar19 + 0xc);
          do {
            puVar13[-1] = puVar21[-3];
            iVar25 = iVar25 + -1;
            *puVar13 = *(undefined4 *)((iVar19 - iVar18) + -0x10 + (int)(puVar13 + 4));
            puVar13[1] = puVar21[-1];
            puVar13[2] = *puVar21;
            puVar13 = puVar13 + 4;
            puVar21 = puVar21 + 4;
          } while (iVar25 != 0);
        }
        if (iVar20 < iVar7) {
          iVar25 = iVar7 - iVar20;
          puVar13 = (undefined4 *)(iVar18 + iVar20 * 4);
          do {
            iVar25 = iVar25 + -1;
            *puVar13 = *(undefined4 *)((int)puVar13 + (iVar19 - iVar18));
            puVar13 = puVar13 + 1;
          } while (iVar25 != 0);
        }
        local_3c = local_3c + 1;
      } while (local_3c < *(int *)(iVar15 + 4));
    }
    *(uint *)(param_1 + 0x30) = ~-(uint)(*(int *)(param_1 + 0x30) != 0) & uVar24;
    if (*(int *)(param_1 + 0x18) == -1) {
      *(uint *)(param_1 + 0x18) = local_14;
      *(uint *)(param_1 + 0x14) = local_14;
    }
    else {
      *(uint *)(param_1 + 0x18) = local_2c;
      *(uint *)(param_1 + 0x14) =
           (((int)(piVar2[*(int *)(param_1 + 0x28)] +
                  (piVar2[*(int *)(param_1 + 0x28)] >> 0x1f & 3U)) >> 2) +
            ((int)(piVar2[*(int *)(param_1 + 0x24)] +
                  (piVar2[*(int *)(param_1 + 0x24)] >> 0x1f & 3U)) >> 2) >> (bVar6 & 0x1f)) +
           local_2c;
    }
  }
  uVar5 = *(uint *)(iVar3 + 0x80);
  if ((uVar5 & *(uint *)(iVar3 + 0x84)) == 0xffffffff) {
    *(undefined4 *)(iVar3 + 0x80) = 0;
    *(undefined4 *)(iVar3 + 0x84) = 0;
  }
  else {
    uVar14 = ((int)(piVar2[*(int *)(param_1 + 0x24)] +
                   (piVar2[*(int *)(param_1 + 0x24)] >> 0x1f & 3U)) >> 2) +
             ((int)(piVar2[*(int *)(param_1 + 0x28)] +
                   (piVar2[*(int *)(param_1 + 0x28)] >> 0x1f & 3U)) >> 2);
    *(uint *)(iVar3 + 0x80) = uVar14 + uVar5;
    *(uint *)(iVar3 + 0x84) =
         ((int)uVar14 >> 0x1f) + *(uint *)(iVar3 + 0x84) + (uint)CARRY4(uVar14,uVar5);
  }
  uVar5 = *(uint *)(param_1 + 0x38);
  if ((uVar5 & *(uint *)(param_1 + 0x3c)) == 0xffffffff) {
    uVar5 = param_2[0xc];
    if ((uVar5 & param_2[0xd]) != 0xffffffff) {
      *(int *)(param_1 + 0x3c) = param_2[0xd];
      *(uint *)(param_1 + 0x38) = uVar5;
      iVar15 = *(int *)(iVar3 + 0x84);
      uVar5 = *(uint *)(iVar3 + 0x80);
      iVar3 = *(int *)(param_1 + 0x3c);
      uVar14 = *(uint *)(param_1 + 0x38);
      if ((iVar3 <= iVar15) && ((iVar3 < iVar15 || (uVar14 < uVar5)))) {
        if (param_2[0xb] == 0) {
          uVar27 = __allshr(bVar6,(iVar15 - iVar3) - (uint)(uVar5 < uVar14));
          *(int *)(param_1 + 0x18) = *(int *)(param_1 + 0x18) + (int)uVar27;
          if (*(int *)(param_1 + 0x14) < *(int *)(param_1 + 0x18)) {
            *(int *)(param_1 + 0x18) = *(int *)(param_1 + 0x14);
          }
        }
        else {
          uVar27 = __allshr(bVar6,(iVar15 - iVar3) - (uint)(uVar5 < uVar14));
          *(int *)(param_1 + 0x14) = *(int *)(param_1 + 0x14) - (int)uVar27;
        }
      }
    }
  }
  else {
    uVar14 = ((int)(piVar2[*(int *)(param_1 + 0x24)] +
                   (piVar2[*(int *)(param_1 + 0x24)] >> 0x1f & 3U)) >> 2) +
             ((int)(piVar2[*(int *)(param_1 + 0x28)] +
                   (piVar2[*(int *)(param_1 + 0x28)] >> 0x1f & 3U)) >> 2);
    *(uint *)(param_1 + 0x3c) =
         ((int)uVar14 >> 0x1f) + *(uint *)(param_1 + 0x3c) + (uint)CARRY4(uVar14,uVar5);
    *(uint *)(param_1 + 0x38) = uVar14 + uVar5;
    uVar5 = param_2[0xc];
    uVar14 = param_2[0xd];
    if ((uVar5 & uVar14) != 0xffffffff) {
      uVar24 = *(uint *)(param_1 + 0x3c);
      if ((*(uint *)(param_1 + 0x38) != uVar5) || (uVar24 != uVar14)) {
        if (((((int)uVar14 <= (int)uVar24) &&
             (((int)uVar14 < (int)uVar24 || (uVar5 < *(uint *)(param_1 + 0x38))))) &&
            (iVar15 = *(int *)(param_1 + 0x38) - param_2[0xc], iVar15 != 0)) && (param_2[0xb] != 0))
        {
          *(int *)(param_1 + 0x14) = *(int *)(param_1 + 0x14) - (iVar15 >> (bVar6 & 0x1f));
        }
        *(int *)(param_1 + 0x38) = param_2[0xc];
        *(int *)(param_1 + 0x3c) = param_2[0xd];
      }
    }
  }
  if (param_2[0xb] != 0) {
    *(undefined4 *)(param_1 + 0x20) = 1;
  }
  return 0;
}



int __cdecl FUN_0044f440(int param_1,undefined4 *param_2)

{
  int iVar1;
  int iVar2;
  
  iVar1 = *(int *)(param_1 + 4);
  if ((-1 < *(int *)(param_1 + 0x18)) && (*(int *)(param_1 + 0x18) < *(int *)(param_1 + 0x14))) {
    if (param_2 != (undefined4 *)0x0) {
      iVar2 = 0;
      if (0 < *(int *)(iVar1 + 4)) {
        do {
          *(int *)(*(int *)(param_1 + 0xc) + iVar2 * 4) =
               *(int *)(*(int *)(param_1 + 8) + iVar2 * 4) + *(int *)(param_1 + 0x18) * 4;
          iVar2 = iVar2 + 1;
        } while (iVar2 < *(int *)(iVar1 + 4));
      }
      *param_2 = *(undefined4 *)(param_1 + 0xc);
    }
    return *(int *)(param_1 + 0x14) - *(int *)(param_1 + 0x18);
  }
  return 0;
}



undefined4 __cdecl FUN_0044f490(int param_1,int param_2)

{
  if ((param_2 != 0) && (*(int *)(param_1 + 0x14) < *(int *)(param_1 + 0x18) + param_2)) {
    return 0xffffff7d;
  }
  *(int *)(param_1 + 0x18) = *(int *)(param_1 + 0x18) + param_2;
  return 0;
}



void __cdecl FUN_0044f4c0(undefined4 *param_1)

{
  undefined *puVar1;
  
  *param_1 = 0;
  param_1[1] = 0;
  param_1[2] = 0;
  param_1[3] = 0;
  param_1[4] = 0;
  puVar1 = (undefined *)malloc(0x100);
  param_1[2] = puVar1;
  param_1[3] = puVar1;
  *puVar1 = 0;
  param_1[4] = 0x100;
  return;
}



void __cdecl FUN_0044f500(int *param_1,uint param_2,int param_3)

{
  void *pvVar1;
  uint uVar2;
  int iVar3;
  uint uVar4;
  
  if (param_1[4] <= *param_1 + 4) {
    pvVar1 = realloc((void *)param_1[2],param_1[4] + 0x100);
    param_1[4] = param_1[4] + 0x100;
    param_1[2] = (int)pvVar1;
    param_1[3] = *param_1 + (int)pvVar1;
  }
  uVar2 = param_2 & *(uint *)(&DAT_0045f810 + param_3 * 4);
  uVar4 = param_3 + param_1[1];
  *(byte *)param_1[3] = *(byte *)param_1[3] | (char)uVar2 << ((byte)param_1[1] & 0x1f);
  if ((((7 < (int)uVar4) &&
       (*(char *)(param_1[3] + 1) = (char)(uVar2 >> (8U - (char)param_1[1] & 0x1f)),
       0xf < (int)uVar4)) &&
      (*(char *)(param_1[3] + 2) = (char)(uVar2 >> (0x10U - (char)param_1[1] & 0x1f)),
      0x17 < (int)uVar4)) &&
     (*(char *)(param_1[3] + 3) = (char)(uVar2 >> (0x18U - (char)param_1[1] & 0x1f)),
     0x1f < (int)uVar4)) {
    if (param_1[1] == 0) {
      *(undefined *)(param_1[3] + 4) = 0;
    }
    else {
      *(char *)(param_1[3] + 4) = (char)(uVar2 >> (0x20U - (char)param_1[1] & 0x1f));
    }
  }
  iVar3 = (int)(uVar4 + ((int)uVar4 >> 0x1f & 7U)) >> 3;
  *param_1 = *param_1 + iVar3;
  param_1[3] = param_1[3] + iVar3;
  param_1[1] = uVar4 & 7;
  return;
}



void __cdecl FUN_0044f5e0(undefined4 *param_1)

{
  free((void *)param_1[2]);
  *param_1 = 0;
  param_1[1] = 0;
  param_1[2] = 0;
  param_1[3] = 0;
  param_1[4] = 0;
  return;
}



void __cdecl FUN_0044f610(undefined4 *param_1,undefined4 param_2,undefined4 param_3)

{
  *param_1 = 0;
  param_1[1] = 0;
  param_1[3] = param_2;
  param_1[2] = param_2;
  param_1[4] = param_3;
  return;
}



uint __cdecl FUN_0044f630(int *param_1,int param_2)

{
  int iVar1;
  int iVar2;
  int iVar3;
  byte *pbVar4;
  char cVar5;
  uint uVar6;
  int iVar7;
  
  iVar2 = param_1[4];
  iVar3 = param_1[1];
  iVar7 = param_2 + iVar3;
  if ((iVar2 <= *param_1 + 4) &&
     (iVar1 = iVar7 + *param_1 * 8,
     iVar1 != iVar2 * 8 && SBORROW4(iVar1,iVar2 * 8) == iVar1 + iVar2 * -8 < 0)) {
    return 0xffffffff;
  }
  pbVar4 = (byte *)param_1[3];
  uVar6 = (uint)(*pbVar4 >> (*(byte *)(param_1 + 1) & 0x1f));
  if (((8 < iVar7) &&
      (((cVar5 = (char)iVar3, uVar6 = uVar6 | (uint)pbVar4[1] << (8U - cVar5 & 0x1f), 0x10 < iVar7
        && (uVar6 = uVar6 | (uint)pbVar4[2] << (0x10U - cVar5 & 0x1f), 0x18 < iVar7)) &&
       (uVar6 = uVar6 | (uint)pbVar4[3] << (0x18U - cVar5 & 0x1f), 0x20 < iVar7)))) && (iVar3 != 0))
  {
    uVar6 = uVar6 | (uint)pbVar4[4] << (0x20U - cVar5 & 0x1f);
  }
  return uVar6 & *(uint *)(&DAT_0045f810 + param_2 * 4);
}



void __cdecl FUN_0044f6d0(int *param_1,int param_2)

{
  int iVar1;
  uint uVar2;
  
  uVar2 = param_2 + param_1[1];
  iVar1 = (int)(uVar2 + ((int)uVar2 >> 0x1f & 7U)) >> 3;
  param_1[3] = param_1[3] + iVar1;
  *param_1 = *param_1 + iVar1;
  param_1[1] = uVar2 & 7;
  return;
}



uint __cdecl FUN_0044f700(int *param_1,int param_2)

{
  int iVar1;
  int iVar2;
  byte *pbVar3;
  byte bVar4;
  int iVar5;
  uint uVar6;
  uint uVar7;
  
  iVar5 = param_1[1];
  iVar2 = param_1[4];
  uVar6 = param_2 + iVar5;
  if (iVar2 <= *param_1 + 4) {
    iVar1 = uVar6 + *param_1 * 8;
    uVar7 = 0xffffffff;
    if (iVar1 != iVar2 * 8 && SBORROW4(iVar1,iVar2 * 8) == iVar1 + iVar2 * -8 < 0)
    goto LAB_0044f79b;
  }
  pbVar3 = (byte *)param_1[3];
  bVar4 = (byte)iVar5;
  uVar7 = (uint)(*pbVar3 >> (bVar4 & 0x1f));
  if ((((8 < (int)uVar6) &&
       (uVar7 = uVar7 | (uint)pbVar3[1] << (8 - bVar4 & 0x1f), 0x10 < (int)uVar6)) &&
      (uVar7 = uVar7 | (uint)pbVar3[2] << (0x10 - bVar4 & 0x1f), 0x18 < (int)uVar6)) &&
     ((uVar7 = uVar7 | (uint)pbVar3[3] << (0x18 - bVar4 & 0x1f), 0x20 < (int)uVar6 && (iVar5 != 0)))
     ) {
    uVar7 = uVar7 | (uint)pbVar3[4] << (0x20 - bVar4 & 0x1f);
  }
  uVar7 = uVar7 & *(uint *)(&DAT_0045f810 + param_2 * 4);
LAB_0044f79b:
  iVar5 = (int)(uVar6 + ((int)uVar6 >> 0x1f & 7U)) >> 3;
  param_1[3] = param_1[3] + iVar5;
  *param_1 = iVar5 + *param_1;
  param_1[1] = uVar6 & 7;
  return uVar7;
}



float10 __cdecl FUN_0044f7c0(uint param_1)

{
  return (float10)(float)(param_1 & 0xbf800000 | 0x3f800000);
}



void __cdecl FUN_0044f7e0(undefined4 *param_1)

{
  if (param_1 != (undefined4 *)0x0) {
    *param_1 = 0;
    param_1[1] = 0;
    param_1[2] = 0;
    param_1[3] = 0;
    param_1[4] = 0;
    param_1[5] = 0;
    param_1[6] = 0;
    param_1[7] = 0;
    param_1[8] = 0;
    free(param_1);
    return;
  }
  return;
}



void __cdecl FUN_0044f810(void *param_1)

{
  if (param_1 != (void *)0x0) {
    memset(param_1,0,0x210);
    free(param_1);
  }
  return;
}



void __fastcall FUN_0044f840(int param_1)

{
  int in_EAX;
  float *pfVar1;
  float *pfVar2;
  int iVar3;
  
  pfVar1 = (float *)(param_1 + 4);
  pfVar2 = (float *)(in_EAX + 0xc);
  iVar3 = 0xe;
  do {
    if (pfVar2[-3] < pfVar1[-1]) {
      pfVar1[-1] = pfVar2[-3];
    }
    if (*(float *)((in_EAX - param_1) + (int)pfVar1) < *pfVar1) {
      *pfVar1 = *(float *)((in_EAX - param_1) + (int)pfVar1);
    }
    if (pfVar2[-1] < pfVar1[1]) {
      pfVar1[1] = pfVar2[-1];
    }
    if (*pfVar2 < pfVar1[2]) {
      pfVar1[2] = *pfVar2;
    }
    pfVar1 = pfVar1 + 4;
    pfVar2 = pfVar2 + 4;
    iVar3 = iVar3 + -1;
  } while (iVar3 != 0);
  return;
}



void __fastcall FUN_0044f8c0(int param_1)

{
  int in_EAX;
  float *pfVar1;
  float *pfVar2;
  int iVar3;
  
  pfVar1 = (float *)(param_1 + 4);
  pfVar2 = (float *)(in_EAX + 0xc);
  iVar3 = 0xe;
  do {
    if (pfVar1[-1] < pfVar2[-3]) {
      pfVar1[-1] = pfVar2[-3];
    }
    if (*pfVar1 < *(float *)((in_EAX - param_1) + (int)pfVar1)) {
      *pfVar1 = *(float *)((in_EAX - param_1) + (int)pfVar1);
    }
    if (pfVar1[1] < pfVar2[-1]) {
      pfVar1[1] = pfVar2[-1];
    }
    if (pfVar1[2] < *pfVar2) {
      pfVar1[2] = *pfVar2;
    }
    pfVar1 = pfVar1 + 4;
    pfVar2 = pfVar2 + 4;
    iVar3 = iVar3 + -1;
  } while (iVar3 != 0);
  return;
}



void __cdecl FUN_0044f940(float param_1)

{
  int in_EAX;
  float *pfVar1;
  int iVar2;
  
  iVar2 = 7;
  pfVar1 = (float *)(in_EAX + 8);
  do {
    iVar2 = iVar2 + -1;
    pfVar1[-2] = pfVar1[-2] + param_1;
    pfVar1[-1] = param_1 + pfVar1[-1];
    *pfVar1 = *pfVar1 + param_1;
    pfVar1[1] = pfVar1[1] + param_1;
    pfVar1[2] = pfVar1[2] + param_1;
    pfVar1[3] = pfVar1[3] + param_1;
    pfVar1[4] = param_1 + pfVar1[4];
    pfVar1[5] = pfVar1[5] + param_1;
    pfVar1 = pfVar1 + 8;
  } while (iVar2 != 0);
  return;
}



// WARNING: Function: __alloca_probe replaced with injection: alloca_probe
// WARNING: Function: __alloca_probe_16 replaced with injection: alloca_probe
// WARNING: Unable to track spacebase fully for stack
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __thiscall FUN_0044f9a0(void *this,float param_1,float *param_2,float param_3,float param_4)

{
  float fVar1;
  int iVar2;
  void *pvVar3;
  double dVar4;
  int iVar5;
  float *extraout_ECX;
  undefined4 extraout_ECX_00;
  undefined4 extraout_ECX_01;
  undefined4 extraout_ECX_02;
  undefined4 extraout_ECX_03;
  undefined4 extraout_ECX_04;
  undefined4 extraout_ECX_05;
  undefined4 extraout_ECX_06;
  undefined4 extraout_ECX_07;
  uint uVar6;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  undefined4 extraout_EDX_01;
  undefined4 extraout_EDX_02;
  undefined4 extraout_EDX_03;
  float *pfVar7;
  undefined4 extraout_EDX_04;
  undefined4 extraout_EDX_05;
  undefined4 extraout_EDX_06;
  undefined4 *puVar8;
  uint uVar9;
  undefined *puVar10;
  float *pfVar11;
  int iVar12;
  float *pfVar13;
  float10 fVar14;
  ulonglong uVar15;
  ulonglong uVar16;
  float *apfStack_7f58 [2];
  int iStack_7f50;
  undefined8 uStack_7f4c;
  float local_7f38 [55];
  float afStack_7e5c [7561];
  float local_838 [56];
  undefined local_758 [1568];
  float local_138 [56];
  int local_58;
  int local_54;
  double local_50;
  void *local_48;
  double local_44;
  void *local_3c;
  undefined8 local_38;
  float *local_30;
  int local_2c;
  float *local_28;
  float *local_24;
  float *local_20;
  float *local_1c;
  undefined4 *local_18;
  float *local_14;
  float *local_10;
  float local_c;
  uint local_8;
  
  local_8 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  uStack_7f4c._4_4_ = 0x44f9c8;
  iVar2 = (int)param_2 * -4;
  local_18 = local_7f38 + (-3 - (int)param_2);
  *(undefined4 *)((int)&uStack_7f4c + iVar2 + 4) = 0x44;
  *(undefined4 *)((int)&uStack_7f4c + iVar2) = 0x44f9d2;
  local_3c = malloc(*(size_t *)((int)&uStack_7f4c + iVar2 + 4));
  *(undefined4 *)((int)&uStack_7f4c + iVar2) = 0x7700;
  (&iStack_7f50)[-(int)param_2] = 0;
  apfStack_7f58[1 - (int)param_2] = local_7f38;
  apfStack_7f58[-(int)param_2] = (float *)0x44f9e8;
  memset(apfStack_7f58[1 - (int)param_2],(&iStack_7f50)[-(int)param_2],
         *(size_t *)((int)&uStack_7f4c + iVar2));
  local_14 = local_7f38;
  local_24 = (float *)this;
  local_28 = (float *)&DAT_0046c1a8;
  local_30 = (float *)&DAT_0046c04c;
  local_1c = (float *)(2 - (int)this);
  do {
    iVar5 = (int)local_1c + (int)local_24;
    pfVar11 = local_138;
    iVar12 = 0x38;
    pfVar7 = local_30;
    do {
      local_c = 999.0;
      if (iVar5 + -2 < 0x58) {
        if (pfVar7[-1] < 999.0) {
          local_c = pfVar7[-1];
        }
      }
      else if (_DAT_0046c1a4 < 999.0) {
        local_c = _DAT_0046c1a4;
      }
      if (iVar5 + -1 < 0x58) {
        if (*pfVar7 < local_c) {
          local_c = *pfVar7;
        }
      }
      else if (_DAT_0046c1a4 < local_c) {
        local_c = _DAT_0046c1a4;
      }
      if (iVar5 < 0x58) {
        if (pfVar7[1] < local_c) {
          local_c = pfVar7[1];
        }
      }
      else if (_DAT_0046c1a4 < local_c) {
        local_c = _DAT_0046c1a4;
      }
      iVar5 = iVar5 + 1;
      if (iVar5 < 0x58) {
        if (pfVar7[2] < local_c) {
          local_c = pfVar7[2];
        }
      }
      else if (_DAT_0046c1a4 < local_c) {
        local_c = _DAT_0046c1a4;
      }
      pfVar7 = pfVar7 + 1;
      *pfVar11 = local_c;
      pfVar11 = pfVar11 + 1;
      iVar12 = iVar12 + -1;
    } while (iVar12 != 0);
    pfVar11 = local_14 + 1;
    pfVar7 = local_28;
    pfVar13 = local_14 + 0x70;
    for (iVar5 = 0x150; iVar5 != 0; iVar5 = iVar5 + -1) {
      *pfVar13 = *pfVar7;
      pfVar7 = pfVar7 + 1;
      pfVar13 = pfVar13 + 1;
    }
    pfVar7 = local_28;
    pfVar13 = local_14;
    for (iVar5 = 0x38; iVar5 != 0; iVar5 = iVar5 + -1) {
      *pfVar13 = *pfVar7;
      pfVar7 = pfVar7 + 1;
      pfVar13 = pfVar13 + 1;
    }
    local_38 = (double)CONCAT44(local_14 + 0x38,(undefined4)local_38);
    pfVar7 = local_28;
    pfVar13 = local_14 + 0x38;
    for (iVar5 = 0x38; iVar5 != 0; iVar5 = iVar5 + -1) {
      *pfVar13 = *pfVar7;
      pfVar7 = pfVar7 + 1;
      pfVar13 = pfVar13 + 1;
    }
    iVar5 = 8;
    do {
      uVar9 = 0xf;
      pfVar7 = pfVar11;
      do {
        uVar6 = (int)(uVar9 + 1) >> 0x1f;
        local_c = (float)((uVar9 + 1 ^ uVar6) - uVar6) * param_4 + param_3;
        if (((local_c < 0.0) && (0.0 < param_3)) || ((0.0 < local_c && (param_3 < 0.0)))) {
          local_c = 0.0;
        }
        pfVar7[-1] = pfVar7[-1] + local_c;
        local_c = (float)((uVar9 ^ (int)uVar9 >> 0x1f) - ((int)uVar9 >> 0x1f)) * param_4 + param_3;
        if (((local_c < 0.0) && (0.0 < param_3)) || ((0.0 < local_c && (param_3 < 0.0)))) {
          local_c = 0.0;
        }
        uVar6 = (int)(uVar9 - 1) >> 0x1f;
        *pfVar7 = *pfVar7 + local_c;
        local_c = (float)((uVar9 - 1 ^ uVar6) - uVar6) * param_4 + param_3;
        if (((local_c < 0.0) && (0.0 < param_3)) || ((0.0 < local_c && (param_3 < 0.0)))) {
          local_c = 0.0;
        }
        uVar6 = (int)(uVar9 - 2) >> 0x1f;
        pfVar7[1] = pfVar7[1] + local_c;
        local_c = (float)((uVar9 - 2 ^ uVar6) - uVar6) * param_4 + param_3;
        if (((local_c < 0.0) && (0.0 < param_3)) || ((0.0 < local_c && (param_3 < 0.0)))) {
          local_c = 0.0;
        }
        uVar9 = uVar9 - 4;
        pfVar11 = pfVar7 + 4;
        pfVar7[2] = pfVar7[2] + local_c;
        pfVar7 = pfVar11;
      } while (-0x29 < (int)uVar9);
      iVar5 = iVar5 + -1;
    } while (iVar5 != 0);
    local_c = (float)iVar5;
    pfVar11 = local_838;
    local_44 = (double)(*local_24 + 100.0);
    pfVar7 = local_24;
    do {
      local_10 = (float *)0x2;
      if (1 < (int)local_c) {
        local_10 = (float *)local_c;
      }
      *(float **)((int)&uStack_7f4c + iVar2 + 4) = pfVar7;
      local_10 = (float *)(((float)local_44 - (float)(int)local_10 * 10.0) - 30.0);
      *(float **)((int)&uStack_7f4c + iVar2 + 4) = local_10;
      *(undefined4 *)((int)&uStack_7f4c + iVar2) = 0x44fd39;
      FUN_0044f940(*(float *)((int)&uStack_7f4c + iVar2 + 4));
      fVar1 = (float)(int)local_c;
      pfVar7 = local_138;
      pfVar13 = pfVar11;
      for (iVar5 = 0x38; iVar5 != 0; iVar5 = iVar5 + -1) {
        *pfVar13 = *pfVar7;
        pfVar7 = pfVar7 + 1;
        pfVar13 = pfVar13 + 1;
      }
      local_10 = (float *)((100.0 - fVar1 * 10.0) - 30.0);
      *(float **)((int)&uStack_7f4c + iVar2 + 4) = local_10;
      *(undefined4 *)((int)&uStack_7f4c + iVar2) = 0x44fd6d;
      FUN_0044f940(*(float *)((int)&uStack_7f4c + iVar2 + 4));
      *(undefined4 *)((int)&uStack_7f4c + iVar2 + 4) = 0x44fd79;
      FUN_0044f8c0((int)pfVar11);
      local_14 = local_14 + 0x38;
      local_c = (float)((int)local_c + 1);
      pfVar11 = pfVar11 + 0x38;
      pfVar7 = extraout_ECX;
    } while ((int)local_c < 8);
    puVar10 = local_758;
    iVar12 = 7;
    iVar5 = (int)local_38._4_4_;
    do {
      *(undefined4 *)((int)&uStack_7f4c + iVar2 + 4) = 0x44fdbd;
      FUN_0044f840((int)puVar10);
      *(undefined4 *)((int)&uStack_7f4c + iVar2 + 4) = 0x44fdc6;
      FUN_0044f840(iVar5);
      puVar10 = puVar10 + 0xe0;
      iVar5 = iVar5 + 0xe0;
      iVar12 = iVar12 + -1;
    } while (iVar12 != 0);
    local_28 = local_28 + 0x150;
    local_24 = local_24 + 1;
    local_30 = local_30 + 4;
  } while ((int)local_30 < 0x46c15c);
  local_1c = (float *)0x0;
  do {
    pfVar11 = local_1c;
    *(undefined4 *)((int)&uStack_7f4c + iVar2 + 4) = 0x20;
    *(undefined4 *)((int)&uStack_7f4c + iVar2) = 0x44fe08;
    local_48 = malloc(*(size_t *)((int)&uStack_7f4c + iVar2 + 4));
    pvVar3 = local_3c;
    local_44 = (double)(int)local_1c * 0.5;
    *(void **)((int)local_3c + (int)pfVar11 * 4) = local_48;
    *(undefined4 *)((int)&uStack_7f4c + iVar2 + 4) = 0x44fe31;
    fVar14 = (float10)_CIexp();
    *(double *)((int)&uStack_7f4c + iVar2) = (double)(fVar14 / (float10)param_1);
    (&iStack_7f50)[-(int)param_2] = 0x44fe3f;
    floor(*(double *)((int)&uStack_7f4c + iVar2));
    *(undefined4 *)((int)&uStack_7f4c + iVar2 + 4) = 0x44fe47;
    uVar15 = FUN_0045db50(extraout_ECX_00,extraout_EDX);
    *(undefined4 *)((int)&uStack_7f4c + iVar2 + 4) = 0x44fe5d;
    local_1c = (float *)(int)uVar15;
    fVar14 = (float10)_CIlog();
    fVar14 = fVar14 * (float10)1.442695021629333 - (float10)5.965784072875977;
    *(double *)((int)&uStack_7f4c + iVar2) = (double)(fVar14 + fVar14);
    (&iStack_7f50)[-(int)param_2] = 0x44fe76;
    ceil(*(double *)((int)&uStack_7f4c + iVar2));
    *(undefined4 *)((int)&uStack_7f4c + iVar2 + 4) = 0x44fe7e;
    uVar16 = FUN_0045db50(extraout_ECX_01,extraout_EDX_00);
    local_14 = (float *)uVar16;
    local_1c = (float *)((int)uVar15 + 1);
    *(undefined4 *)((int)&uStack_7f4c + iVar2 + 4) = 0x44fe90;
    fVar14 = (float10)_CIlog();
    fVar14 = fVar14 * (float10)1.442695021629333 - (float10)5.965784072875977;
    *(double *)((int)&uStack_7f4c + iVar2) = (double)(fVar14 + fVar14);
    (&iStack_7f50)[-(int)param_2] = 0x44fea9;
    floor(*(double *)((int)&uStack_7f4c + iVar2));
    *(undefined4 *)((int)&uStack_7f4c + iVar2 + 4) = 0x44feb1;
    uVar15 = FUN_0045db50(extraout_ECX_02,extraout_EDX_01);
    local_28 = (float *)uVar15;
    if ((int)pfVar11 < (int)local_14) {
      local_14 = pfVar11;
    }
    if ((int)local_14 < 0) {
      local_14 = (float *)0x0;
    }
    if (0x10 < (int)(float *)uVar15) {
      local_28 = (float *)0x10;
    }
    local_2c = 0;
    local_54 = *(int *)((int)pvVar3 + (int)pfVar11 * 4);
    local_24 = (float *)((int)pfVar11 + 1);
    local_58 = local_54;
    do {
      *(undefined4 *)((int)&uStack_7f4c + iVar2 + 4) = 0xe8;
      *(undefined4 *)((int)&uStack_7f4c + iVar2) = 0x44fefa;
      local_1c = (float *)malloc(*(size_t *)((int)&uStack_7f4c + iVar2 + 4));
      *(float **)((int)local_48 + local_2c * 4) = local_1c;
      pfVar11 = param_2;
      puVar8 = local_18;
      if (0 < (int)param_2) {
        for (; pfVar11 != (float *)0x0; pfVar11 = (float *)((int)pfVar11 + -1)) {
          *puVar8 = 0x4479c000;
          puVar8 = puVar8 + 1;
        }
      }
      local_10 = local_14;
      if ((int)local_14 <= (int)local_28) {
        iVar5 = local_2c + (int)local_14 * 8;
        local_30 = (float *)(iVar5 * 0x38);
        local_20 = afStack_7e5c + iVar5 * 0x38;
        do {
          pfVar11 = (float *)0x0;
          local_c = 0.0;
          local_50 = (double)(int)local_10 * 0.5;
          do {
            local_38 = (double)(int)local_c * 0.125 + local_50;
            *(undefined4 *)((int)&uStack_7f4c + iVar2 + 4) = 0x44ff97;
            _CIexp();
            *(undefined4 *)((int)&uStack_7f4c + iVar2 + 4) = 0x44ff9f;
            uVar15 = FUN_0045db50(extraout_ECX_03,extraout_EDX_02);
            pfVar13 = (float *)uVar15;
            *(undefined4 *)((int)&uStack_7f4c + iVar2 + 4) = 0x44ffbb;
            _CIexp();
            *(undefined4 *)((int)&uStack_7f4c + iVar2 + 4) = 0x44ffc9;
            uVar15 = FUN_0045db50(extraout_ECX_04,extraout_EDX_03);
            dVar4 = local_38;
            pfVar7 = (float *)uVar15;
            local_38 = (double)CONCAT44(pfVar7,(undefined4)local_38);
            if ((int)pfVar13 < 0) {
              pfVar13 = (float *)0x0;
            }
            if ((int)param_2 < (int)pfVar13) {
              pfVar13 = param_2;
            }
            if ((int)pfVar13 < (int)pfVar11) {
              pfVar11 = pfVar13;
            }
            if ((int)pfVar7 < 0) {
              pfVar7 = (float *)0x0;
              local_38 = (double)((ulonglong)dVar4 & 0xffffffff);
            }
            if ((int)param_2 < (int)pfVar7) {
              local_38 = (double)CONCAT44(param_2,(undefined4)local_38);
              pfVar7 = param_2;
            }
            if ((int)pfVar11 < (int)pfVar7) {
              if (3 < (int)pfVar7 - (int)pfVar11) {
                iVar5 = (int)pfVar11 + 2;
                pfVar13 = (float *)(local_18 + iVar5);
                do {
                  if ((int)param_2 <= (int)pfVar11) goto LAB_004500ee;
                  pfVar7 = local_7f38 + (int)local_30 + (int)local_c;
                  if (local_7f38[(int)local_30 + (int)local_c] < pfVar13[-2]) {
                    pfVar13[-2] = *pfVar7;
                  }
                  if ((int)param_2 <= iVar5 + -1) {
                    pfVar11 = (float *)((int)pfVar11 + 1);
                    goto LAB_004500ee;
                  }
                  if (*pfVar7 < pfVar13[-1]) {
                    pfVar13[-1] = *pfVar7;
                  }
                  if ((int)param_2 <= iVar5) {
                    pfVar11 = (float *)((int)pfVar11 + 2);
                    goto LAB_004500ee;
                  }
                  if (*pfVar7 < *pfVar13) {
                    *pfVar13 = *pfVar7;
                  }
                  if ((int)param_2 <= iVar5 + 1) {
                    pfVar11 = (float *)((int)pfVar11 + 3);
                    goto LAB_004500ee;
                  }
                  if (*pfVar7 < pfVar13[1]) {
                    pfVar13[1] = *pfVar7;
                  }
                  pfVar11 = pfVar11 + 1;
                  pfVar13 = pfVar13 + 4;
                  iVar5 = iVar5 + 4;
                  pfVar7 = local_38._4_4_;
                } while ((int)pfVar11 < (int)local_38._4_4_ + -3);
              }
              for (; ((int)pfVar11 < (int)pfVar7 && ((int)pfVar11 < (int)param_2));
                  pfVar11 = (float *)((int)pfVar11 + 1)) {
                if (local_7f38[(int)local_c + (int)local_30] < (float)local_18[(int)pfVar11]) {
                  local_18[(int)pfVar11] = local_7f38[(int)local_c + (int)local_30];
                }
              }
            }
LAB_004500ee:
            local_c = (float)((int)local_c + 1);
          } while ((int)local_c < 0x38);
          if ((int)pfVar11 < (int)param_2) {
            if (3 < (int)param_2 - (int)pfVar11) {
              iVar5 = ((uint)((int)param_2 + (-4 - (int)pfVar11)) >> 2) + 1;
              pfVar7 = (float *)(local_18 + (int)pfVar11 + 2);
              pfVar11 = pfVar11 + iVar5;
              do {
                if (*local_20 < pfVar7[-2]) {
                  pfVar7[-2] = *local_20;
                }
                if (*local_20 < pfVar7[-1]) {
                  pfVar7[-1] = *local_20;
                }
                if (*local_20 < *pfVar7) {
                  *pfVar7 = *local_20;
                }
                if (*local_20 < pfVar7[1]) {
                  pfVar7[1] = *local_20;
                }
                pfVar7 = pfVar7 + 4;
                iVar5 = iVar5 + -1;
              } while (iVar5 != 0);
            }
            for (; (int)pfVar11 < (int)param_2; pfVar11 = (float *)((int)pfVar11 + 1)) {
              if (*local_20 < (float)local_18[(int)pfVar11]) {
                local_18[(int)pfVar11] = *local_20;
              }
            }
          }
          local_30 = local_30 + 0x70;
          local_20 = local_20 + 0x1c0;
          local_10 = (float *)((int)local_10 + 1);
        } while ((int)local_10 <= (int)local_28);
      }
      puVar8 = local_18;
      if ((int)local_24 < 0x11) {
        pfVar11 = (float *)0x0;
        local_c = 0.0;
        do {
          local_50 = (double)(int)local_c * 0.125 + local_44;
          *(undefined4 *)((int)&uStack_7f4c + iVar2 + 4) = 0x450206;
          _CIexp();
          *(undefined4 *)((int)&uStack_7f4c + iVar2 + 4) = 0x45020e;
          uVar15 = FUN_0045db50(extraout_ECX_05,extraout_EDX_04);
          pfVar7 = (float *)uVar15;
          *(undefined4 *)((int)&uStack_7f4c + iVar2 + 4) = 0x45022a;
          _CIexp();
          *(undefined4 *)((int)&uStack_7f4c + iVar2 + 4) = 0x450238;
          uVar15 = FUN_0045db50(extraout_ECX_06,extraout_EDX_05);
          local_10 = (float *)uVar15;
          if ((int)pfVar7 < 0) {
            pfVar7 = (float *)0x0;
          }
          if ((int)param_2 < (int)pfVar7) {
            pfVar7 = param_2;
          }
          if ((int)pfVar7 < (int)pfVar11) {
            pfVar11 = pfVar7;
          }
          if ((int)(float *)uVar15 < 0) {
            local_10 = (float *)0x0;
          }
          if ((int)param_2 < (int)local_10) {
            local_10 = param_2;
          }
          if ((int)pfVar11 < (int)local_10) {
            if (3 < (int)local_10 - (int)pfVar11) {
              iVar5 = (int)pfVar11 + 2;
              pfVar7 = (float *)(puVar8 + iVar5);
              do {
                if ((int)param_2 <= (int)pfVar11) goto LAB_00450383;
                iVar12 = (int)local_c + (local_2c + (int)local_24 * 8) * 0x38;
                pfVar13 = local_7f38 + iVar12;
                if (local_7f38[iVar12] < pfVar7[-2]) {
                  pfVar7[-2] = *pfVar13;
                }
                puVar8 = local_18;
                if ((int)param_2 <= iVar5 + -1) {
                  pfVar11 = (float *)((int)pfVar11 + 1);
                  goto LAB_00450383;
                }
                if (*pfVar13 < pfVar7[-1]) {
                  pfVar7[-1] = *pfVar13;
                }
                if ((int)param_2 <= iVar5) {
                  pfVar11 = (float *)((int)pfVar11 + 2);
                  goto LAB_00450383;
                }
                if (*pfVar13 < *pfVar7) {
                  *pfVar7 = *pfVar13;
                }
                if ((int)param_2 <= iVar5 + 1) {
                  pfVar11 = (float *)((int)pfVar11 + 3);
                  goto LAB_00450383;
                }
                if (*pfVar13 < pfVar7[1]) {
                  pfVar7[1] = *pfVar13;
                }
                pfVar11 = pfVar11 + 1;
                pfVar7 = pfVar7 + 4;
                iVar5 = iVar5 + 4;
              } while ((int)pfVar11 < (int)local_10 + -3);
            }
            for (; ((int)pfVar11 < (int)local_10 && ((int)pfVar11 < (int)param_2));
                pfVar11 = (float *)((int)pfVar11 + 1)) {
              iVar5 = (int)local_c + (local_2c + (int)local_24 * 8) * 0x38;
              if (local_7f38[iVar5] < (float)puVar8[(int)pfVar11]) {
                puVar8[(int)pfVar11] = local_7f38[iVar5];
              }
            }
          }
LAB_00450383:
          local_c = (float)((int)local_c + 1);
        } while ((int)local_c < 0x38);
        if ((int)pfVar11 < (int)param_2) {
          if (3 < (int)param_2 - (int)pfVar11) {
            iVar5 = ((uint)((int)param_2 + (-4 - (int)pfVar11)) >> 2) + 1;
            pfVar7 = (float *)(puVar8 + (int)pfVar11 + 2);
            pfVar13 = afStack_7e5c + (local_2c + (int)local_24 * 8) * 0x38;
            pfVar11 = pfVar11 + iVar5;
            do {
              if (*pfVar13 < pfVar7[-2]) {
                pfVar7[-2] = *pfVar13;
              }
              if (*pfVar13 < pfVar7[-1]) {
                pfVar7[-1] = *pfVar13;
              }
              if (*pfVar13 < *pfVar7) {
                *pfVar7 = *pfVar13;
              }
              if (*pfVar13 < pfVar7[1]) {
                pfVar7[1] = *pfVar13;
              }
              pfVar7 = pfVar7 + 4;
              iVar5 = iVar5 + -1;
            } while (iVar5 != 0);
          }
          if ((int)pfVar11 < (int)param_2) {
            do {
              if (afStack_7e5c[(local_2c + (int)local_24 * 8) * 0x38] < (float)puVar8[(int)pfVar11])
              {
                puVar8[(int)pfVar11] = afStack_7e5c[(local_2c + (int)local_24 * 8) * 0x38];
              }
              pfVar11 = (float *)((int)pfVar11 + 1);
            } while ((int)pfVar11 < (int)param_2);
          }
        }
      }
      local_c = 0.0;
      pfVar11 = local_1c + 2;
      do {
        iVar5 = (int)local_c;
        *(undefined4 *)((int)&uStack_7f4c + iVar2 + 4) = 0x4504a3;
        _CIexp();
        *(undefined4 *)((int)&uStack_7f4c + iVar2 + 4) = 0x4504ab;
        uVar15 = FUN_0045db50(extraout_ECX_07,extraout_EDX_06);
        iVar12 = (int)uVar15;
        if (iVar12 < 0) {
          fVar1 = -999.0;
        }
        else if (iVar12 < (int)param_2) {
          fVar1 = (float)puVar8[iVar12];
        }
        else {
          fVar1 = -999.0;
        }
        local_c = (float)(iVar5 + 1);
        *pfVar11 = fVar1;
        pfVar11 = pfVar11 + 1;
      } while ((int)local_c < 0x38);
      iVar5 = 0;
      pfVar11 = (float *)(*(int *)(local_54 + local_2c * 4) + 0xc);
      do {
        if (-200.0 < pfVar11[-1]) break;
        if (-200.0 < *pfVar11) {
          iVar5 = iVar5 + 1;
          break;
        }
        if (-200.0 < pfVar11[1]) {
          iVar5 = iVar5 + 2;
          break;
        }
        if (-200.0 < pfVar11[2]) {
          iVar5 = iVar5 + 3;
          break;
        }
        iVar5 = iVar5 + 4;
        pfVar11 = pfVar11 + 4;
      } while (iVar5 < 0x10);
      local_c = 7.707142e-44;
      pfVar11 = (float *)(*(int *)(local_58 + local_2c * 4) + 0xe0);
      *local_1c = (float)iVar5;
      do {
        if (-200.0 < pfVar11[1]) break;
        if (-200.0 < *pfVar11) {
          local_c = (float)((int)local_c + -1);
          break;
        }
        local_c = (float)((int)local_c + -2);
        pfVar11 = pfVar11 + -2;
      } while (0x11 < (int)local_c);
      local_2c = local_2c + 1;
      local_1c[1] = (float)(int)local_c;
    } while (local_2c < 8);
    local_1c = local_24;
    if (0x10 < (int)local_24) {
      ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
      return;
    }
  } while( true );
}



void __cdecl
FUN_004505c0(float **param_1,float *param_2,float **param_3,float *param_4,float *param_5)

{
  size_t _Size;
  float fVar1;
  float fVar2;
  float *pfVar3;
  int iVar4;
  void *pvVar5;
  undefined4 extraout_ECX;
  undefined4 extraout_ECX_00;
  int iVar6;
  undefined4 extraout_ECX_01;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  int iVar7;
  undefined4 extraout_EDX_01;
  undefined4 extraout_EDX_02;
  int iVar8;
  int iVar9;
  float10 fVar10;
  float10 fVar11;
  float10 extraout_ST0;
  float10 extraout_ST0_00;
  ulonglong uVar12;
  ulonglong uVar13;
  int local_88;
  int local_84;
  int local_80;
  int local_78;
  int local_70;
  int local_68;
  
  local_84 = -99;
  local_80 = 1;
  memset(param_1,0,0x34);
  param_1[9] = *param_3;
  fVar10 = (float10)_CIlog();
  fVar11 = (float10)_CIlog();
  floor((double)((float10)(double)fVar10 / fVar11 + (float10)0.5));
  uVar12 = FUN_0045db50(extraout_ECX,extraout_EDX);
  pfVar3 = (float *)uVar12;
  param_1[8] = pfVar3;
  _CIlog();
  uVar12 = FUN_0045db50((int)pfVar3 + 1,1 << ((byte)((int)pfVar3 + 1) & 0x1f));
  param_1[7] = (float *)uVar12;
  _CIlog();
  uVar13 = FUN_0045db50((int)pfVar3 + 1,extraout_EDX_00);
  _Size = (int)param_4 * 4;
  param_1[10] = (float *)(((int)uVar13 - (int)(float *)uVar12) + 1);
  pfVar3 = (float *)malloc(_Size);
  param_1[4] = pfVar3;
  pfVar3 = (float *)malloc(_Size);
  param_1[5] = pfVar3;
  pfVar3 = (float *)malloc(_Size);
  param_1[6] = pfVar3;
  param_1[0xc] = (float *)0x3f800000;
  param_1[1] = param_2;
  *param_1 = param_4;
  param_1[0xb] = param_5;
  if ((int)param_5 < 26000) {
    pfVar3 = (float *)0x0;
  }
  else if ((int)param_5 < 38000) {
    pfVar3 = (float *)0x3f70a3d7;
  }
  else {
    if ((int)param_5 < 0xb3b1) goto LAB_0045073b;
    pfVar3 = (float *)0x3fa33333;
  }
  param_1[0xc] = pfVar3;
LAB_0045073b:
  iVar8 = 0;
  local_88 = 0;
  do {
    iVar7 = local_88 + 1;
    fVar10 = (float10)_CIexp();
    floor((double)(((fVar10 + fVar10) * (float10)(int)param_4) / (float10)(int)param_5 +
                  (float10)0.5));
    uVar12 = FUN_0045db50(extraout_ECX_00,extraout_EDX_01);
    iVar4 = (int)uVar12;
    fVar1 = (float)(&DAT_0046c048)[local_88];
    if (iVar8 < iVar4) {
      fVar2 = (float)(iVar4 - iVar8) / ((float)(&DAT_0046c04c)[local_88] - fVar1);
      if (3 < iVar4 - iVar8) {
        iVar6 = iVar8 + 2;
        do {
          if ((int)param_4 <= iVar8) goto LAB_004508a9;
          param_1[4][iVar8] = fVar1 + 100.0;
          if ((int)param_4 <= iVar6 + -1) {
            iVar8 = iVar8 + 1;
            goto LAB_004508a9;
          }
          param_1[4][iVar8 + 1] = fVar2 + fVar1 + 100.0;
          fVar1 = fVar2 + fVar1 + fVar2;
          if ((int)param_4 <= iVar6) {
            iVar8 = iVar8 + 2;
            goto LAB_004508a9;
          }
          param_1[4][iVar8 + 2] = fVar1 + 100.0;
          fVar1 = fVar1 + fVar2;
          if ((int)param_4 <= iVar6 + 1) {
            iVar8 = iVar8 + 3;
            goto LAB_004508a9;
          }
          iVar9 = iVar8 + 4;
          iVar6 = iVar6 + 4;
          param_1[4][iVar8 + 3] = fVar1 + 100.0;
          fVar1 = fVar1 + fVar2;
          iVar8 = iVar9;
        } while (iVar9 < iVar4 + -3);
      }
      for (; (iVar8 < iVar4 && (iVar8 < (int)param_4)); iVar8 = iVar8 + 1) {
        param_1[4][iVar8] = fVar1 + 100.0;
        fVar1 = fVar1 + fVar2;
      }
    }
LAB_004508a9:
    local_88 = iVar7;
  } while (iVar7 < 0x57);
  local_88 = 0;
  if (0 < (int)param_4) {
    iVar8 = (int)param_5 / ((int)param_4 * 2);
    local_70 = 0;
    do {
      fVar10 = (float10)_CIatan();
      fVar11 = (float10)_CIatan();
      local_68 = (int)param_2[0x1e] + local_84;
      fVar1 = (float)((float10)local_70 * (float10)9.999999747378752e-05 +
                     fVar11 * (float10)13.10000038146973 +
                     (float10)(double)(fVar10 * (float10)2.240000009536743));
      if (local_68 < local_88) {
        fVar2 = param_2[0x1c];
        local_78 = iVar8 * local_84;
        do {
          fVar10 = (float10)_CIatan();
          fVar11 = (float10)_CIatan();
          if ((float10)(fVar1 - fVar2) <=
              (float10)local_78 * (float10)9.999999747378752e-05 +
              fVar11 * (float10)13.10000038146973 +
              (float10)(double)(fVar10 * (float10)2.240000009536743)) break;
          local_84 = local_84 + 1;
          local_78 = local_78 + iVar8;
          local_68 = local_68 + 1;
        } while (local_68 < local_88);
      }
      if (local_80 <= (int)param_4) {
        fVar2 = param_2[0x1f];
        local_78 = iVar8 * local_80;
        do {
          if ((int)fVar2 + local_88 <= local_80) {
            fVar10 = (float10)_CIatan();
            fVar11 = (float10)_CIatan();
            if ((float10)param_2[0x1d] + (float10)fVar1 <=
                (float10)local_78 * (float10)9.999999747378752e-05 +
                fVar11 * (float10)13.10000038146973 +
                (float10)(double)(fVar10 * (float10)2.240000009536743)) break;
          }
          local_78 = local_78 + iVar8;
          local_80 = local_80 + 1;
        } while (local_80 <= (int)param_4);
      }
      local_70 = local_70 + iVar8;
      param_1[6][local_88] = (float)(local_84 * 0x10000 + -0x10001 + local_80);
      local_88 = local_88 + 1;
    } while (local_88 < (int)param_4);
  }
  fVar10 = (float10)0.5;
  iVar8 = 0;
  if (0 < (int)param_4) {
    do {
      _CIlog();
      uVar12 = FUN_0045db50((int)param_1[8] + 1,1 << ((byte)((int)param_1[8] + 1) & 0x1f));
      param_1[5][iVar8] = (float)uVar12;
      iVar8 = iVar8 + 1;
      fVar10 = extraout_ST0;
    } while (iVar8 < (int)param_4);
  }
  pfVar3 = (float *)FUN_0044f9a0(param_2 + 9,
                                 (float)((fVar10 * (float10)(int)param_5) / (float10)(int)param_4),
                                 param_4,param_2[6],param_2[7]);
  param_1[2] = pfVar3;
  pfVar3 = (float *)malloc(0xc);
  param_1[3] = pfVar3;
  iVar8 = 0;
  do {
    pvVar5 = malloc((int)param_4 * 4);
    *(void **)(iVar8 + (int)param_1[3]) = pvVar5;
    iVar8 = iVar8 + 4;
  } while (iVar8 < 0xc);
  iVar8 = 0;
  if (0 < (int)param_4) {
    do {
      _CIlog();
      uVar12 = FUN_0045db50(extraout_ECX_01,extraout_EDX_02);
      iVar4 = (int)uVar12;
      iVar8 = iVar8 + 1;
      fVar1 = (float)(extraout_ST0_00 - (float10)iVar4);
      fVar2 = 1.0 - fVar1;
      *(float *)((int)*param_1[3] + -4 + iVar8 * 4) =
           param_1[1][iVar4 + 0x21] * fVar2 + param_1[1][iVar4 + 0x22] * fVar1;
      *(float *)((int)param_1[3][1] + -4 + iVar8 * 4) =
           param_1[1][iVar4 + 0x32] * fVar2 + param_1[1][iVar4 + 0x33] * fVar1;
      *(float *)((int)param_1[3][2] + -4 + iVar8 * 4) =
           fVar2 * param_1[1][iVar4 + 0x43] + param_1[1][iVar4 + 0x44] * fVar1;
    } while (iVar8 < (int)param_4);
  }
  return;
}



void __cdecl FUN_00450d30(void *param_1)

{
  int iVar1;
  int iVar2;
  
  if (param_1 != (void *)0x0) {
    if (*(void **)((int)param_1 + 0x10) != (void *)0x0) {
      free(*(void **)((int)param_1 + 0x10));
    }
    if (*(void **)((int)param_1 + 0x14) != (void *)0x0) {
      free(*(void **)((int)param_1 + 0x14));
    }
    if (*(void **)((int)param_1 + 0x18) != (void *)0x0) {
      free(*(void **)((int)param_1 + 0x18));
    }
    if (*(int *)((int)param_1 + 8) != 0) {
      iVar1 = 0;
      do {
        iVar2 = 0;
        do {
          free(*(void **)(*(int *)(iVar1 + *(int *)((int)param_1 + 8)) + iVar2));
          iVar2 = iVar2 + 4;
        } while (iVar2 < 0x20);
        free(*(void **)(iVar1 + *(int *)((int)param_1 + 8)));
        iVar1 = iVar1 + 4;
      } while (iVar1 < 0x44);
      free(*(void **)((int)param_1 + 8));
    }
    if (*(int *)((int)param_1 + 0xc) != 0) {
      iVar1 = 0;
      do {
        free(*(void **)(*(int *)((int)param_1 + 0xc) + iVar1));
        iVar1 = iVar1 + 4;
      } while (iVar1 < 0xc);
      free(*(void **)((int)param_1 + 0xc));
    }
    memset(param_1,0,0x34);
  }
  return;
}



void __fastcall
FUN_00450e00(undefined4 param_1,undefined4 param_2,int param_3,undefined4 param_4,undefined4 param_5
            ,int param_6,int param_7)

{
  float fVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  uint uVar5;
  undefined4 extraout_ECX;
  int iVar6;
  float *pfVar7;
  int iVar8;
  int unaff_EDI;
  float10 extraout_ST0;
  ulonglong uVar9;
  
  uVar9 = FUN_0045db50(param_1,param_2);
  uVar5 = ((int)(uint)uVar9 < 1) - 1;
  uVar3 = (uint)uVar9 & uVar5;
  if (6 < (int)uVar3) {
    uVar3 = 7;
  }
  iVar2 = *(int *)(param_3 + uVar3 * 4);
  uVar9 = FUN_0045db50(uVar5,param_3);
  iVar4 = (int)uVar9;
  uVar9 = FUN_0045db50(extraout_ECX,(int)(uVar9 >> 0x20));
  iVar8 = (int)uVar9;
  uVar9 = FUN_0045db50(iVar2,(int)(uVar9 >> 0x20));
  iVar6 = (int)uVar9;
  if (iVar6 < iVar4) {
    if (3 < iVar4 - iVar6) {
      pfVar7 = (float *)(iVar2 + 0x10 + iVar6 * 4);
      do {
        if ((0 < iVar8) &&
           (*(float *)(unaff_EDI + iVar8 * 4) < (float)((float10)pfVar7[-2] + extraout_ST0))) {
          *(float *)(unaff_EDI + iVar8 * 4) = (float)((float10)pfVar7[-2] + extraout_ST0);
        }
        iVar8 = iVar8 + param_7;
        if (param_6 <= iVar8) {
          return;
        }
        if ((0 < iVar8) &&
           (*(float *)(unaff_EDI + iVar8 * 4) < (float)((float10)pfVar7[-1] + extraout_ST0))) {
          *(float *)(unaff_EDI + iVar8 * 4) = (float)((float10)pfVar7[-1] + extraout_ST0);
        }
        iVar8 = iVar8 + param_7;
        if (param_6 <= iVar8) {
          return;
        }
        if ((0 < iVar8) &&
           (*(float *)(unaff_EDI + iVar8 * 4) < (float)((float10)*pfVar7 + extraout_ST0))) {
          *(float *)(unaff_EDI + iVar8 * 4) = (float)((float10)*pfVar7 + extraout_ST0);
        }
        iVar8 = iVar8 + param_7;
        if (param_6 <= iVar8) {
          return;
        }
        if ((0 < iVar8) &&
           (*(float *)(unaff_EDI + iVar8 * 4) < (float)((float10)pfVar7[1] + extraout_ST0))) {
          *(float *)(unaff_EDI + iVar8 * 4) = (float)((float10)pfVar7[1] + extraout_ST0);
        }
        iVar8 = iVar8 + param_7;
        if (param_6 <= iVar8) {
          return;
        }
        iVar6 = iVar6 + 4;
        pfVar7 = pfVar7 + 4;
      } while (iVar6 < iVar4 + -3);
    }
    for (; iVar6 < iVar4; iVar6 = iVar6 + 1) {
      if ((0 < iVar8) &&
         (fVar1 = (float)((float10)*(float *)(iVar2 + 8 + iVar6 * 4) + extraout_ST0),
         *(float *)(unaff_EDI + iVar8 * 4) < fVar1)) {
        *(float *)(unaff_EDI + iVar8 * 4) = fVar1;
      }
      iVar8 = iVar8 + param_7;
      if (param_6 <= iVar8) {
        return;
      }
    }
  }
  return;
}



void __cdecl FUN_00450fb0(int param_1,int param_2,int param_3)

{
  int iVar1;
  float fVar2;
  int iVar3;
  int iVar4;
  undefined4 uVar5;
  int iVar6;
  int iVar7;
  int *unaff_EBX;
  int iVar8;
  
  iVar3 = *unaff_EBX;
  iVar8 = 0;
  if (0 < iVar3) {
    do {
      fVar2 = *(float *)(param_2 + iVar8 * 4);
      iVar4 = unaff_EBX[5];
      iVar7 = *(int *)(iVar4 + iVar8 * 4);
      iVar6 = iVar8;
      while ((iVar6 = iVar6 + 1, iVar6 < iVar3 && (*(int *)(iVar4 + 4 + iVar8 * 4) == iVar7))) {
        iVar1 = iVar8 * 4;
        iVar8 = iVar8 + 1;
        if (fVar2 < *(float *)(param_2 + 4 + iVar1)) {
          fVar2 = *(float *)(param_2 + iVar8 * 4);
        }
      }
      if (*(float *)(param_3 + iVar8 * 4) < fVar2 + 6.0) {
        iVar7 = iVar7 >> ((byte)unaff_EBX[8] & 0x1f);
        if (iVar7 < 0x11) {
          if (iVar7 < 0) {
            iVar7 = 0;
          }
        }
        else {
          iVar7 = 0x10;
        }
        uVar5 = *(undefined4 *)(param_1 + iVar7 * 4);
        FUN_00450e00(uVar5,iVar7,uVar5,fVar2,*(int *)(iVar4 + iVar8 * 4) - unaff_EBX[7],
                     unaff_EBX[10],unaff_EBX[9]);
      }
      iVar8 = iVar8 + 1;
    } while (iVar8 < iVar3);
  }
  return;
}



// WARNING: Function: __alloca_probe_16 replaced with injection: alloca_probe
// WARNING: Unable to track spacebase fully for stack

void __cdecl FUN_004510a0(int param_1,int param_2,int param_3)

{
  int iVar1;
  float fVar2;
  undefined4 uVar3;
  int iVar4;
  int iVar5;
  int *piVar6;
  float *pfVar7;
  int iVar8;
  int iVar9;
  float *pfVar10;
  float afStack_30 [2];
  int local_10;
  float *local_c;
  uint local_8;
  
  local_8 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  afStack_30[1] = 6.342659e-39;
  pfVar10 = (float *)(&stack0xffffffd8 + param_3 * -8);
  afStack_30[1 - param_3] = 6.342672e-39;
  iVar9 = 0;
  iVar5 = 0;
  iVar8 = 0;
  local_10 = 0;
  if (0 < param_3) {
    do {
      if ((1 < iVar8) &&
         (fVar2 = *(float *)(param_1 + iVar5 * 4), afStack_30[param_3 * -2 + iVar8 + 1] <= fVar2)) {
        local_c = afStack_30 + (iVar8 - param_3);
        do {
          iVar9 = local_10;
          if (((((int)afStack_30[(iVar8 + 1) - param_3] + param_2 <= iVar5) || (iVar8 < 2)) ||
              (local_c[-param_3] < afStack_30[param_3 * -2 + iVar8 + 1])) ||
             ((int)*local_c + param_2 <= iVar5)) break;
          iVar1 = param_3 * -2 + iVar8;
          local_c = local_c + -1;
          iVar8 = iVar8 + -1;
        } while (afStack_30[iVar1] <= fVar2);
      }
      uVar3 = *(undefined4 *)(param_1 + iVar5 * 4);
      *(int *)(&stack0xffffffd8 + iVar8 * 4 + param_3 * -4) = iVar5;
      *(undefined4 *)(&stack0xffffffd8 + iVar8 * 4 + param_3 * -8) = uVar3;
      iVar5 = iVar5 + 1;
      iVar8 = iVar8 + 1;
    } while (iVar5 < param_3);
  }
  local_c = (float *)0x0;
  if (0 < iVar8) {
    piVar6 = (int *)(&stack0xffffffdc + param_3 * -4);
    do {
      if ((iVar8 + -1 <= (int)local_c) || ((float)piVar6[-param_3] <= *pfVar10)) {
        iVar5 = piVar6[-1] + 1 + param_2;
      }
      else {
        iVar5 = *piVar6;
      }
      if (param_3 < iVar5) {
        iVar5 = param_3;
      }
      if (iVar9 < iVar5) {
        if (3 < iVar5 - iVar9) {
          iVar4 = ((iVar5 - iVar9) - 4U >> 2) + 1;
          iVar1 = iVar9 * 4;
          iVar9 = iVar9 + iVar4 * 4;
          pfVar7 = (float *)(param_1 + 8 + iVar1);
          do {
            iVar4 = iVar4 + -1;
            pfVar7[-2] = *pfVar10;
            pfVar7[-1] = *pfVar10;
            *pfVar7 = *pfVar10;
            pfVar7[1] = *pfVar10;
            pfVar7 = pfVar7 + 4;
          } while (iVar4 != 0);
        }
        if (iVar9 < iVar5) {
          fVar2 = *pfVar10;
          iVar5 = iVar5 - iVar9;
          iVar1 = iVar9 * 4;
          iVar9 = iVar9 + iVar5;
          pfVar7 = (float *)(param_1 + iVar1);
          for (; iVar5 != 0; iVar5 = iVar5 + -1) {
            *pfVar7 = fVar2;
            pfVar7 = pfVar7 + 1;
          }
        }
      }
      local_c = (float *)((int)local_c + 1);
      piVar6 = piVar6 + 1;
      pfVar10 = pfVar10 + 1;
    } while ((int)local_c < iVar8);
  }
  ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __cdecl FUN_00451240(int param_1,int param_2)

{
  int *piVar1;
  float fVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int *unaff_EDI;
  
  iVar4 = unaff_EDI[9];
  iVar5 = 0;
  FUN_004510a0(param_1,iVar4,unaff_EDI[10]);
  iVar4 = (*(int *)unaff_EDI[5] - (iVar4 >> 1)) - unaff_EDI[7];
  if (1 < *unaff_EDI) {
    do {
      fVar2 = *(float *)(param_1 + iVar4 * 4);
      iVar3 = iVar4;
      if (*(float *)(unaff_EDI[1] + 0x20) < fVar2) {
        fVar2 = *(float *)(unaff_EDI[1] + 0x20);
      }
      while (iVar3 = iVar3 + 1,
            iVar3 <= (*(int *)(unaff_EDI[5] + 4 + iVar5 * 4) + *(int *)(unaff_EDI[5] + iVar5 * 4) >>
                     1) - unaff_EDI[7]) {
        iVar4 = iVar4 + 1;
        if (((-9999.0 < *(float *)(param_1 + iVar4 * 4)) &&
            (*(float *)(param_1 + iVar4 * 4) < fVar2)) || (fVar2 == -9999.0)) {
          fVar2 = *(float *)(param_1 + iVar4 * 4);
        }
      }
      iVar3 = unaff_EDI[7];
      if (iVar5 < *unaff_EDI) {
        do {
          piVar1 = (int *)(unaff_EDI[5] + iVar5 * 4);
          if (*piVar1 != iVar3 + iVar4 && iVar3 + iVar4 <= *piVar1) break;
          if (*(float *)(param_2 + iVar5 * 4) < fVar2) {
            *(float *)(param_2 + iVar5 * 4) = fVar2;
          }
          iVar5 = iVar5 + 1;
        } while (iVar5 < *unaff_EDI);
      }
    } while (iVar5 + 1 < *unaff_EDI);
  }
  fVar2 = *(float *)(param_1 + -4 + unaff_EDI[10] * 4);
  if (iVar5 < *unaff_EDI) {
    do {
      if (*(float *)(param_2 + iVar5 * 4) < fVar2) {
        *(float *)(param_2 + iVar5 * 4) = fVar2;
      }
      iVar5 = iVar5 + 1;
    } while (iVar5 < *unaff_EDI);
  }
  return;
}



// WARNING: Function: __alloca_probe_16 replaced with injection: alloca_probe
// WARNING: Unable to track spacebase fully for stack

void __cdecl
FUN_00451370(int param_1,uint *param_2,float *param_3,int param_4,float param_5,int param_6)

{
  float fVar1;
  float *pfVar2;
  float *pfVar3;
  float fVar4;
  float fVar5;
  float fVar6;
  float *pfVar7;
  float **ppfVar8;
  float *pfVar9;
  float *pfVar10;
  float *pfVar11;
  int iVar12;
  int iVar13;
  float **ppfVar14;
  float **ppfVar15;
  uint uVar16;
  float *pfVar17;
  undefined4 uStack_94;
  float *local_84;
  int local_80;
  int local_7c;
  int local_78;
  int local_74;
  int local_70;
  int local_6c;
  float *local_68;
  float *local_64;
  int local_60;
  float **local_5c;
  float *local_54;
  float **local_50;
  float **local_4c;
  float local_48;
  float local_44;
  float *local_40;
  float **local_3c;
  float *local_38;
  float *local_34;
  float *local_30;
  float local_2c;
  float *local_28;
  int local_24;
  float local_20;
  float local_1c;
  float *local_18;
  float *local_14;
  float local_10;
  float *local_c;
  uint local_8;
  
  local_8 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  uStack_94 = 0x451394;
  pfVar17 = (float *)(param_1 * -4);
  (&uStack_94)[-param_1] = 0x45139d;
  (&uStack_94)[param_1 * -2] = 0x4513a6;
  (&uStack_94)[param_1 * -3] = 0x4513b4;
  local_34 = (float *)(&stack0xffffff70 + param_1 * -0x10);
  (&uStack_94)[param_1 * -4] = 0x4513c3;
  pfVar10 = local_34;
  local_44 = 0.0;
  local_48 = 0.0;
  local_2c = 1.0;
  local_18 = (float *)0x0;
  local_c = (float *)0x0;
  local_1c = param_5 + *param_3;
  if (param_5 + *param_3 < 1.0) {
    local_1c = 1.0;
  }
  local_24 = 1;
  fVar1 = local_1c * local_1c * 0.5;
  pfVar3 = (float *)(fVar1 + 0.0);
  local_38 = pfVar3;
  local_14 = pfVar3;
  local_28 = pfVar3;
  local_20 = fVar1 * local_1c + 0.0;
  *(float **)(&stack0xffffff70 + (int)pfVar17) = pfVar3;
  pfVar7 = local_28;
  *(float **)(&stack0xffffff70 + param_1 * -8) = local_28;
  *(undefined4 *)(&stack0xffffff70 + param_1 * -0xc) = 0;
  fVar1 = local_20;
  *pfVar10 = local_20;
  *(undefined4 *)(&stack0xffffff70 + param_1 * -0x14) = 0;
  local_10 = 1.0;
  if (1 < param_1) {
    if (3 < param_1 + -1) {
      local_64 = pfVar10 + 1;
      local_5c = &local_84 + param_1 * -3 + 1;
      local_3c = &local_84 + param_1 * -2;
      local_30 = (float *)(&stack0xffffff78 + (int)pfVar17);
      local_60 = (int)param_3 - (int)(&stack0xffffff70 + (int)pfVar17);
      local_54 = pfVar17;
      local_50 = (float **)(param_1 * -8);
      local_40 = (float *)((int)pfVar10 - (int)(&stack0xffffff70 + (int)pfVar17));
      local_34 = (float *)(param_1 * -0x10);
      local_70 = (int)param_3 - (int)(&stack0xffffff70 + param_1 * -8);
      local_68 = pfVar17;
      local_78 = (int)pfVar10 - (int)(&stack0xffffff70 + param_1 * -8);
      local_6c = param_1 * -0xc;
      local_74 = (int)param_3 - (int)(&stack0xffffff70 + param_1 * -0xc);
      local_7c = (int)pfVar10 - (int)(&stack0xffffff70 + param_1 * -0xc);
      local_4c = (float **)(param_1 * -8);
      local_80 = (int)param_3 - (int)pfVar10;
      local_38 = (float *)((param_1 - 5U >> 2) + 1);
      local_84 = (float *)(&stack0xffffff70 + (param_1 * -0x14 - (int)pfVar10));
      local_24 = (int)local_38 * 4 + 1;
      do {
        pfVar2 = local_64;
        fVar1 = *(float *)(local_80 + (int)local_64) + param_5;
        if (fVar1 < 1.0) {
          fVar1 = 1.0;
        }
        fVar4 = fVar1 * fVar1;
        fVar5 = local_10 * fVar4;
        local_28 = (float *)((float)pfVar7 + fVar5);
        local_c = (float *)(local_10 * fVar5 + (float)local_c);
        local_20 = local_20 + fVar1 * fVar4;
        local_18 = (float *)((float)local_18 + fVar1 * fVar5);
        local_30[-1] = fVar4 + (float)pfVar3;
        local_3c[-2] = local_28;
        local_5c[-3] = local_c;
        pfVar7 = local_84;
        *pfVar2 = local_20;
        pfVar11 = local_30;
        pfVar9 = local_54;
        *(float **)((int)pfVar7 + (int)pfVar2) = local_18;
        local_10 = local_10 + 1.0;
        fVar1 = *(float *)(local_60 + (int)local_30) + param_5;
        if (fVar1 < 1.0) {
          fVar1 = 1.0;
        }
        fVar6 = fVar1 * fVar1;
        fVar5 = fVar6 + fVar4 + (float)pfVar3;
        fVar4 = local_10 * fVar6;
        local_28 = (float *)((float)local_28 + fVar4);
        local_c = (float *)(local_10 * fVar4 + (float)local_c);
        local_20 = local_20 + fVar1 * fVar6;
        local_18 = (float *)(fVar4 * fVar1 + (float)local_18);
        *local_30 = fVar5;
        ppfVar15 = local_3c;
        *(float **)((int)pfVar9 + (int)pfVar11) = local_28;
        *(float **)((int)local_50 + (int)pfVar11) = local_c;
        *(float *)((int)local_40 + (int)pfVar11) = local_20;
        *(float **)((int)local_34 + (int)pfVar11) = local_18;
        local_10 = local_10 + 1.0;
        fVar1 = *(float *)(local_70 + (int)local_3c) + param_5;
        if (fVar1 < 1.0) {
          fVar1 = 1.0;
        }
        fVar6 = fVar1 * fVar1;
        fVar5 = fVar6 + fVar5;
        fVar4 = local_10 * fVar6;
        local_28 = (float *)((float)local_28 + fVar4);
        local_c = (float *)((float)local_c + local_10 * fVar4);
        local_20 = local_20 + fVar1 * fVar6;
        local_18 = (float *)(fVar1 * fVar4 + (float)local_18);
        local_30[1] = fVar5;
        pfVar3 = local_68;
        *ppfVar15 = local_28;
        pfVar7 = local_30;
        ppfVar8 = local_5c;
        *(float **)((int)pfVar3 + (int)ppfVar15) = local_c;
        *(float *)(local_78 + (int)ppfVar15) = local_20;
        *(float **)(local_6c + (int)ppfVar15) = local_18;
        local_10 = local_10 + 1.0;
        local_1c = *(float *)(local_74 + (int)local_5c) + param_5;
        if (local_1c < 1.0) {
          local_1c = 1.0;
        }
        fVar4 = local_1c * local_1c;
        local_30 = local_30 + 4;
        local_64 = local_64 + 4;
        ppfVar14 = local_5c + 4;
        local_5c = ppfVar14;
        pfVar3 = (float *)(fVar4 + fVar5);
        local_14 = pfVar3;
        fVar1 = local_10 * fVar4;
        local_28 = (float *)((float)local_28 + fVar1);
        local_c = (float *)(local_10 * fVar1 + (float)local_c);
        local_20 = local_20 + local_1c * fVar4;
        local_18 = (float *)(fVar1 * local_1c + (float)local_18);
        pfVar7[2] = (float)pfVar3;
        pfVar7 = local_28;
        pfVar2 = (float *)((int)local_38 + -1);
        local_38 = pfVar2;
        ppfVar15 = local_3c + 1;
        local_3c = local_3c + 4;
        *ppfVar15 = local_28;
        iVar12 = local_7c;
        *ppfVar8 = local_c;
        *(float *)(iVar12 + -0x10 + (int)ppfVar14) = local_20;
        *(float **)((int)(local_4c + -4) + (int)ppfVar14) = local_18;
        local_10 = local_10 + 1.0;
        fVar1 = local_20;
      } while (pfVar2 != (float *)0x0);
    }
    if (local_24 < param_1) {
      local_4c = (float **)(&stack0xffffff70 + (int)pfVar17 + local_24 * 4);
      local_60 = (int)param_3 - (int)(&stack0xffffff70 + (int)pfVar17);
      local_54 = pfVar17;
      local_50 = (float **)(param_1 * -8);
      local_40 = (float *)((int)pfVar10 - (int)(&stack0xffffff70 + (int)pfVar17));
      local_34 = (float *)(param_1 * -0x10);
      local_38 = (float *)(param_1 - local_24);
      ppfVar15 = (float **)(&stack0xffffff70 + (int)pfVar17 + local_24 * 4);
      local_28 = pfVar7;
      local_20 = fVar1;
      local_14 = pfVar3;
      do {
        local_1c = *(float *)((int)ppfVar15 +
                             ((int)param_3 - (int)(&stack0xffffff70 + (int)pfVar17))) + param_5;
        if (local_1c < 1.0) {
          local_1c = 1.0;
        }
        fVar5 = local_1c * local_1c;
        local_38 = (float *)((int)local_38 + -1);
        local_14 = (float *)(fVar5 + (float)local_14);
        fVar1 = local_10 * fVar5;
        local_28 = (float *)((float)local_28 + fVar1);
        local_c = (float *)(local_10 * fVar1 + (float)local_c);
        local_20 = local_1c * fVar5 + local_20;
        local_18 = (float *)(fVar1 * local_1c + (float)local_18);
        *ppfVar15 = local_14;
        ppfVar15[-param_1] = local_28;
        ppfVar15[param_1 * -2] = local_c;
        *(float *)((int)ppfVar15 +
                  (int)(float *)((int)pfVar10 - (int)(&stack0xffffff70 + (int)pfVar17))) = local_20;
        ppfVar15[param_1 * -4] = local_18;
        local_10 = local_10 + 1.0;
        ppfVar15 = ppfVar15 + 1;
      } while (local_38 != (float *)0x0);
    }
  }
  uVar16 = *param_2;
  local_10 = 0.0;
  iVar12 = (int)uVar16 >> 0x10;
  local_24 = 0;
  fVar1 = local_2c;
  if (iVar12 < 0) {
    local_3c = (float **)0x0;
    do {
      uVar16 = uVar16 & 0xffff;
      local_4c = (float **)(iVar12 * -4);
      local_14 = (float *)(*(float *)(&stack0xffffff70 + (int)pfVar17 + uVar16 * 4) +
                          *(float *)((int)local_4c + (int)(&stack0xffffff70 + (int)pfVar17)));
      local_28 = (float *)(*(float *)(&stack0xffffff70 + uVar16 * 4 + param_1 * -8) -
                          *(float *)((int)local_4c + (int)(&stack0xffffff70 + param_1 * -8)));
      local_c = (float *)(*(float *)(&stack0xffffff70 + uVar16 * 4 + param_1 * -0xc) +
                         *(float *)((int)local_4c + (int)(&stack0xffffff70 + param_1 * -0xc)));
      local_20 = pfVar10[uVar16] + *(float *)((int)local_4c + (int)pfVar10);
      local_18 = (float *)(*(float *)(&stack0xffffff70 + uVar16 * 4 + param_1 * -0x14) -
                          *(float *)((int)local_4c + (int)(&stack0xffffff70 + param_1 * -0x14)));
      local_44 = local_20 * (float)local_c - (float)local_28 * (float)local_18;
      local_48 = (float)local_14 * (float)local_18 - (float)local_28 * local_20;
      fVar1 = (float)local_c * (float)local_14 - (float)local_28 * (float)local_28;
      local_2c = fVar1;
      local_c = (float *)(fVar1 / (local_44 + local_48 * local_10));
      if ((float)local_c < 0.0) {
        local_c = (float *)0x0;
      }
      *(float *)((int)local_3c + param_4) = (float)local_c - param_5;
      local_24 = local_24 + 1;
      local_10 = local_10 + 1.0;
      uVar16 = param_2[local_24];
      local_3c = (float **)(local_24 * 4);
      iVar12 = (int)uVar16 >> 0x10;
    } while (iVar12 < 0);
  }
  local_3c = (float **)(local_24 * 4);
  uVar16 = param_2[local_24];
  local_2c = (float)((int)uVar16 >> 0x10);
  while (uVar16 = uVar16 & 0xffff, iVar12 = local_24, (int)uVar16 < param_1) {
    local_14 = (float *)(*(float *)(&stack0xffffff70 + (int)pfVar17 + uVar16 * 4) -
                        *(float *)(&stack0xffffff70 + (int)pfVar17 + (int)local_2c * 4));
    local_28 = (float *)(*(float *)(&stack0xffffff70 + uVar16 * 4 + param_1 * -8) -
                        *(float *)(&stack0xffffff70 + (int)local_2c * 4 + param_1 * -8));
    local_c = (float *)(*(float *)(&stack0xffffff70 + uVar16 * 4 + param_1 * -0xc) -
                       *(float *)(&stack0xffffff70 + (int)local_2c * 4 + param_1 * -0xc));
    local_20 = pfVar10[uVar16] - pfVar10[(int)local_2c];
    local_18 = (float *)(*(float *)(&stack0xffffff70 + uVar16 * 4 + param_1 * -0x14) -
                        *(float *)(&stack0xffffff70 + (int)local_2c * 4 + param_1 * -0x14));
    local_44 = local_20 * (float)local_c - (float)local_28 * (float)local_18;
    local_48 = (float)local_14 * (float)local_18 - (float)local_28 * local_20;
    fVar1 = (float)local_c * (float)local_14 - (float)local_28 * (float)local_28;
    local_c = (float *)(fVar1 / (local_44 + local_48 * local_10));
    if ((float)local_c < 0.0) {
      local_c = (float *)0x0;
    }
    *(float *)((int)local_3c + param_4) = (float)local_c - param_5;
    local_24 = local_24 + 1;
    local_10 = local_10 + 1.0;
    local_3c = (float **)(local_24 * 4);
    uVar16 = param_2[local_24];
    local_2c = (float)((int)uVar16 >> 0x10);
  }
  while (iVar12 < param_1) {
    local_c = (float *)((local_10 * local_48 + local_44) / fVar1);
    if ((float)local_c < 0.0) {
      local_c = (float *)0x0;
    }
    *(float *)(param_4 + -4 + (iVar12 + 1) * 4) = (float)local_c - param_5;
    local_10 = local_10 + 1.0;
    iVar12 = iVar12 + 1;
  }
  if (0 < param_6) {
    local_10 = 0.0;
    local_30 = (float *)(param_6 / 2);
    local_2c = (float)((int)local_30 - param_6);
    local_24 = 0;
    if ((int)local_2c < 0) {
      local_4c = (float **)((int)local_30 * 4);
      local_50 = (float **)((int)local_30 - param_6);
      local_34 = (float *)((int)local_30 * 4);
      local_40 = (float *)((int)local_2c * -4);
      local_38 = (float *)((param_6 - (int)local_30) * 4);
      do {
        local_14 = (float *)(*(float *)((int)local_40 + (int)(&stack0xffffff70 + (int)pfVar17)) +
                            *(float *)((int)local_34 + (int)(&stack0xffffff70 + (int)pfVar17)));
        local_28 = (float *)(*(float *)((int)local_34 + (int)(&stack0xffffff70 + param_1 * -8)) -
                            *(float *)((int)local_40 + (int)(&stack0xffffff70 + param_1 * -8)));
        local_c = (float *)(*(float *)((int)local_40 + (int)(&stack0xffffff70 + param_1 * -0xc)) +
                           *(float *)((int)local_34 + (int)(&stack0xffffff70 + param_1 * -0xc)));
        local_20 = *(float *)((int)local_40 + (int)pfVar10) +
                   *(float *)((int)local_34 + (int)pfVar10);
        local_18 = (float *)(*(float *)((int)local_34 + (int)(&stack0xffffff70 + param_1 * -0x14)) -
                            *(float *)((int)local_40 + (int)(&stack0xffffff70 + param_1 * -0x14)));
        local_44 = (float)local_c * local_20 - (float)local_28 * (float)local_18;
        local_48 = (float)local_14 * (float)local_18 - (float)local_28 * local_20;
        fVar1 = (float)local_c * (float)local_14 - (float)local_28 * (float)local_28;
        local_2c = fVar1;
        local_c = (float *)(fVar1 / (local_44 + local_48 * local_10));
        fVar5 = (float)local_c - param_5;
        if (fVar5 < *(float *)(param_4 + local_24 * 4)) {
          *(float *)(param_4 + local_24 * 4) = fVar5;
        }
        local_34 = local_34 + 1;
        local_24 = local_24 + 1;
        local_10 = local_10 + 1.0;
        local_40 = local_38 + -1;
        local_50 = (float **)((int)local_50 + 1);
        local_38 = local_40;
      } while ((int)local_50 < 0);
    }
    local_4c = (float **)(local_24 + (int)local_30);
    local_2c = (float)((int)local_4c - param_6);
    if ((int)local_4c < param_1) {
      local_50 = local_4c;
      local_40 = (float *)(((int)local_4c - param_6) * 4);
      local_38 = (float *)((int)local_4c * 4);
      local_54 = (float *)((int)local_4c * 4);
      local_34 = (float *)(((int)local_30 + (local_24 - param_6)) * 4);
      do {
        local_14 = (float *)(*(float *)((int)local_38 + (int)(&stack0xffffff70 + (int)pfVar17)) -
                            *(float *)((int)local_40 + (int)(&stack0xffffff70 + (int)pfVar17)));
        local_28 = (float *)(*(float *)((int)local_38 + (int)(&stack0xffffff70 + param_1 * -8)) -
                            *(float *)((int)local_40 + (int)(&stack0xffffff70 + param_1 * -8)));
        local_c = (float *)(*(float *)((int)local_38 + (int)(&stack0xffffff70 + param_1 * -0xc)) -
                           *(float *)((int)local_40 + (int)(&stack0xffffff70 + param_1 * -0xc)));
        local_20 = *(float *)((int)local_38 + (int)pfVar10) -
                   *(float *)((int)local_40 + (int)pfVar10);
        local_18 = (float *)(*(float *)((int)local_38 + (int)(&stack0xffffff70 + param_1 * -0x14)) -
                            *(float *)((int)local_40 + (int)(&stack0xffffff70 + param_1 * -0x14)));
        local_44 = (float)local_c * local_20 - (float)local_28 * (float)local_18;
        local_48 = (float)local_14 * (float)local_18 - (float)local_28 * local_20;
        fVar1 = (float)local_c * (float)local_14 - (float)local_28 * (float)local_28;
        local_2c = fVar1;
        local_c = (float *)(fVar1 / (local_44 + local_48 * local_10));
        fVar5 = (float)local_c - param_5;
        if (fVar5 < *(float *)(param_4 + local_24 * 4)) {
          *(float *)(param_4 + local_24 * 4) = fVar5;
        }
        local_34 = local_34 + 1;
        local_38 = local_38 + 1;
        local_24 = local_24 + 1;
        local_10 = local_10 + 1.0;
        local_50 = (float **)((int)local_50 + 1);
        local_54 = local_38;
        local_40 = local_34;
      } while ((int)local_50 < param_1);
    }
    if (local_24 < param_1) {
      iVar12 = local_24;
      if (3 < param_1 - local_24) {
        iVar13 = ((param_1 - local_24) - 4U >> 2) + 1;
        iVar12 = local_24 + iVar13 * 4;
        pfVar17 = (float *)(param_4 + 8 + local_24 * 4);
        do {
          fVar5 = (local_10 * local_48 + local_44) / fVar1 - param_5;
          if (fVar5 < pfVar17[-2]) {
            pfVar17[-2] = fVar5;
          }
          fVar5 = ((local_10 + 1.0) * local_48 + local_44) / fVar1 - param_5;
          if (fVar5 < pfVar17[-1]) {
            pfVar17[-1] = fVar5;
          }
          local_10 = local_10 + 1.0 + 1.0;
          fVar5 = (local_10 * local_48 + local_44) / fVar1 - param_5;
          if (fVar5 < *pfVar17) {
            *pfVar17 = fVar5;
          }
          local_10 = local_10 + 1.0;
          local_c = (float *)((local_10 * local_48 + local_44) / fVar1);
          if ((float)local_c - param_5 < pfVar17[1]) {
            pfVar17[1] = (float)local_c - param_5;
          }
          local_10 = local_10 + 1.0;
          pfVar17 = pfVar17 + 4;
          iVar13 = iVar13 + -1;
          local_24 = iVar12;
        } while (iVar13 != 0);
      }
      for (; iVar12 < param_1; iVar12 = iVar12 + 1) {
        local_c = (float *)((local_10 * local_48 + local_44) / fVar1);
        if ((float)local_c - param_5 < *(float *)(param_4 + iVar12 * 4)) {
          *(float *)(param_4 + iVar12 * 4) = (float)local_c - param_5;
        }
        local_10 = local_10 + 1.0;
      }
    }
  }
  ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __cdecl FUN_00451ef0(int *param_1,int param_2,int param_3,int param_4,int param_5)

{
  int iVar1;
  float *pfVar2;
  int iVar3;
  int iVar4;
  float *pfVar5;
  int iVar6;
  undefined4 *puVar7;
  
  iVar3 = *param_1;
  if (iVar3 < param_5) {
    param_5 = iVar3;
  }
  iVar4 = 0;
  if (3 < param_5) {
    pfVar2 = (float *)(param_2 + 4);
    pfVar5 = (float *)(param_4 + 8);
    do {
      iVar1 = iVar4 * 4;
      iVar4 = iVar4 + 4;
      pfVar5[-2] = *(float *)(&DAT_00471b78 + *(int *)(param_3 + iVar1) * 4) * pfVar2[-1];
      *(float *)((param_4 - param_2) + -0x10 + (int)(pfVar2 + 4)) =
           *(float *)(&DAT_00471b78 + *(int *)((int)pfVar2 + (param_3 - param_2)) * 4) * *pfVar2;
      *pfVar5 = *(float *)(&DAT_00471b78 +
                          *(int *)((param_3 - param_4) + -0x10 + (int)(pfVar5 + 4)) * 4) * pfVar2[1]
      ;
      pfVar5[1] = *(float *)(&DAT_00471b78 + *(int *)(param_3 + -4 + iVar4 * 4) * 4) * pfVar2[2];
      pfVar2 = pfVar2 + 4;
      pfVar5 = pfVar5 + 4;
    } while (iVar4 < param_5 + -3);
  }
  if (iVar4 < param_5) {
    iVar6 = param_5 - iVar4;
    iVar1 = iVar4 * 4;
    iVar4 = iVar4 + iVar6;
    pfVar2 = (float *)(param_2 + iVar1);
    do {
      iVar6 = iVar6 + -1;
      *(float *)((int)pfVar2 + (param_4 - param_2)) =
           *(float *)(&DAT_00471b78 + *(int *)((param_3 - param_2) + (int)pfVar2) * 4) * *pfVar2;
      pfVar2 = pfVar2 + 1;
    } while (iVar6 != 0);
  }
  if (iVar4 < iVar3) {
    puVar7 = (undefined4 *)(param_4 + iVar4 * 4);
    for (iVar3 = iVar3 - iVar4; iVar3 != 0; iVar3 = iVar3 + -1) {
      *puVar7 = 0;
      puVar7 = puVar7 + 1;
    }
  }
  return;
}



// WARNING: Function: __alloca_probe_16 replaced with injection: alloca_probe
// WARNING: Unable to track spacebase fully for stack

void __thiscall FUN_00452000(void *this,float *param_1,int param_2,float *param_3)

{
  int iVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float *pfVar5;
  float *extraout_ECX;
  float *pfVar6;
  float *pfVar7;
  int iVar8;
  undefined *puVar9;
  float fVar10;
  ulonglong uVar11;
  float afStack_44 [2];
  uint *puStack_3c;
  float *apfStack_38 [2];
  void *pvStack_30;
  int iStack_2c;
  float local_1c;
  int local_10;
  undefined *local_c;
  uint local_8;
  
  local_8 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  fVar3 = *param_1;
  iStack_2c = 0x452027;
  local_c = &stack0xffffffd8 + (int)fVar3 * -4;
  local_1c = fVar3;
  (&iStack_2c)[-(int)fVar3] = 0xffffffff;
  (&pvStack_30)[-(int)fVar3] = this;
  (&pvStack_30)[-(int)fVar3] = (void *)0x430c0000;
  fVar10 = param_1[6];
  apfStack_38[1 - (int)fVar3] = param_3;
  apfStack_38[-(int)fVar3] = (float *)param_2;
  (&puStack_3c)[-(int)fVar3] = (uint *)fVar10;
  afStack_44[1 - (int)fVar3] = fVar3;
  afStack_44[-(int)fVar3] = 6.348234e-39;
  FUN_00451370((int)afStack_44[1 - (int)fVar3],(&puStack_3c)[-(int)fVar3],apfStack_38[-(int)fVar3],
               (int)apfStack_38[1 - (int)fVar3],(float)(&pvStack_30)[-(int)fVar3],
               (&iStack_2c)[-(int)fVar3]);
  iVar8 = 0;
  fVar10 = fVar3;
  if (3 < (int)fVar3) {
    pfVar7 = param_3 + 1;
    pfVar5 = (float *)(local_c + 8);
    do {
      iVar1 = iVar8 * 4;
      iVar8 = iVar8 + 4;
      pfVar6 = pfVar7 + 4;
      pfVar5[-2] = *(float *)(param_2 + iVar1) - pfVar7[-1];
      *(float *)(local_c + (-0x10 - (int)param_3) + (int)pfVar6) =
           *(float *)((param_2 - (int)param_3) + -0x10 + (int)pfVar6) - *pfVar7;
      *pfVar5 = *(float *)((param_2 - (int)local_c) + -0x10 + (int)(pfVar5 + 4)) - pfVar7[1];
      pfVar5[1] = *(float *)(param_2 + -4 + iVar8 * 4) - pfVar7[2];
      pfVar7 = pfVar6;
      pfVar5 = pfVar5 + 4;
      fVar10 = local_1c;
    } while (iVar8 < (int)local_1c + -3);
  }
  if (iVar8 < (int)fVar10) {
    pfVar7 = param_3 + iVar8;
    iVar8 = (int)fVar10 - iVar8;
    do {
      pfVar5 = (float *)((param_2 - (int)param_3) + (int)pfVar7);
      fVar2 = *pfVar7;
      pfVar7 = pfVar7 + 1;
      iVar8 = iVar8 + -1;
      *(float *)(local_c + (-4 - (int)param_3) + (int)pfVar7) = *pfVar5 - fVar2;
    } while (iVar8 != 0);
  }
  fVar2 = param_1[1];
  (&iStack_2c)[-(int)fVar3] = *(undefined4 *)((int)fVar2 + 0x80);
  fVar4 = param_1[6];
  (&pvStack_30)[-(int)fVar3] = (void *)fVar2;
  puVar9 = local_c;
  (&pvStack_30)[-(int)fVar3] = (void *)0x0;
  apfStack_38[1 - (int)fVar3] = param_3;
  apfStack_38[-(int)fVar3] = (float *)puVar9;
  (&puStack_3c)[-(int)fVar3] = (uint *)fVar4;
  afStack_44[1 - (int)fVar3] = fVar10;
  afStack_44[-(int)fVar3] = 6.348508e-39;
  FUN_00451370((int)afStack_44[1 - (int)fVar3],(&puStack_3c)[-(int)fVar3],apfStack_38[-(int)fVar3],
               (int)apfStack_38[1 - (int)fVar3],(float)(&pvStack_30)[-(int)fVar3],
               (&iStack_2c)[-(int)fVar3]);
  local_10 = 0;
  pfVar7 = extraout_ECX;
  if (3 < (int)fVar10) {
    iVar8 = ((int)fVar10 - 4U >> 2) + 1;
    local_10 = iVar8 * 4;
    pfVar5 = (float *)(local_c + 4);
    pfVar6 = (float *)(param_2 + 0xc);
    do {
      pfVar7 = pfVar6 + 4;
      iVar8 = iVar8 + -1;
      pfVar5[-1] = pfVar6[-3] - pfVar5[-1];
      *pfVar5 = *(float *)((param_2 - (int)local_c) + -0x10 + (int)(pfVar5 + 4)) - *pfVar5;
      pfVar5[1] = pfVar6[-1] - pfVar5[1];
      pfVar5[2] = *pfVar6 - pfVar5[2];
      pfVar5 = pfVar5 + 4;
      pfVar6 = pfVar7;
    } while (iVar8 != 0);
  }
  if (local_10 < (int)fVar10) {
    pfVar7 = (float *)((int)fVar10 - local_10);
    pfVar5 = (float *)(local_c + local_10 * 4);
    do {
      pfVar7 = (float *)((int)pfVar7 + -1);
      *pfVar5 = *(float *)((param_2 - (int)local_c) + (int)pfVar5) - *pfVar5;
      pfVar5 = pfVar5 + 1;
    } while (pfVar7 != (float *)0x0);
  }
  if (0 < (int)fVar10) {
    puVar9 = local_c;
    pfVar5 = param_3;
    do {
      (&iStack_2c)[-(int)fVar3] = 0x4521b8;
      uVar11 = FUN_0045db50(pfVar7,puVar9);
      iVar8 = (int)uVar11;
      if (iVar8 < 0x28) {
        if (iVar8 < 0) {
          iVar8 = 0;
        }
      }
      else {
        iVar8 = 0x27;
      }
      puVar9 = (undefined *)param_1[1];
      fVar10 = (float)((int)fVar10 + -1);
      *pfVar5 = *(float *)(puVar9 + iVar8 * 4 + 0x150) +
                *(float *)(local_c + (-4 - (int)param_3) + (int)(pfVar5 + 1));
      pfVar7 = param_1;
      pfVar5 = pfVar5 + 1;
    } while (fVar10 != 0.0);
  }
  ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



// WARNING: Function: __alloca_probe_16 replaced with injection: alloca_probe
// WARNING: Unable to track spacebase fully for stack

void __cdecl
FUN_00452200(int *param_1,undefined4 param_2,int param_3,undefined4 param_4,float param_5)

{
  float fVar1;
  int iVar2;
  int iVar3;
  undefined *puVar4;
  int iVar5;
  float *pfVar6;
  int iVar7;
  int aiStack_48 [6];
  undefined auStack_30 [4];
  undefined4 uStack_2c;
  int local_14;
  undefined *local_10;
  float local_c;
  uint local_8;
  
  local_8 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  iVar2 = param_1[10];
  iVar7 = *param_1;
  uStack_2c = 0x45222a;
  iVar3 = iVar2 * -4;
  local_10 = &stack0xffffffd8 + iVar3;
  local_c = *(float *)(param_1[1] + 4) + param_5;
  iVar5 = 0;
  local_14 = iVar7;
  puVar4 = &stack0xffffffd8 + iVar3;
  if (0 < iVar2) {
    do {
      *(undefined4 *)(&stack0xffffffd8 + iVar5 * 4 + iVar3) = 0xc61c3c00;
      iVar5 = iVar5 + 1;
      puVar4 = local_10;
    } while (iVar5 < param_1[10]);
  }
  local_10 = puVar4;
  fVar1 = local_c;
  if (local_c < *(float *)(param_1[1] + 8)) {
    fVar1 = *(float *)(param_1[1] + 8);
  }
  iVar5 = 0;
  if (3 < iVar7) {
    iVar7 = (local_14 - 4U >> 2) + 1;
    local_c = 1.121039e-44;
    iVar5 = iVar7 * 4;
    pfVar6 = (float *)(param_3 + 8);
    do {
      pfVar6[-2] = *(float *)((int)pfVar6 + param_1[4] + -param_3 + -8) + fVar1;
      pfVar6[-1] = *(float *)((int)pfVar6 + param_1[4] + -param_3 + -4) + fVar1;
      iVar7 = iVar7 + -1;
      *pfVar6 = *(float *)((int)local_c + param_1[4]) + fVar1;
      pfVar6[1] = *(float *)((int)pfVar6 + param_1[4] + (4 - param_3)) + fVar1;
      pfVar6 = pfVar6 + 4;
      local_c = (float)((int)local_c + 0x10);
    } while (iVar7 != 0);
  }
  while (iVar5 < local_14) {
    iVar7 = iVar5 * 4;
    iVar5 = iVar5 + 1;
    *(float *)(param_3 + -4 + iVar5 * 4) = *(float *)(param_1[4] + iVar7) + fVar1;
  }
  (&uStack_2c)[-iVar2] = &stack0xffffffd8 + iVar3;
  (&uStack_2c)[-iVar2] = param_4;
  *(undefined **)(auStack_30 + iVar3) = &stack0xffffffd8 + iVar3;
  iVar7 = param_1[2];
  aiStack_48[5 - iVar2] = param_3;
  aiStack_48[4 - iVar2] = param_2;
  aiStack_48[3 - iVar2] = iVar7;
  aiStack_48[2 - iVar2] = 0x452327;
  FUN_00450fb0(aiStack_48[3 - iVar2],aiStack_48[4 - iVar2],aiStack_48[5 - iVar2]);
  aiStack_48[2 - iVar2] = param_3;
  aiStack_48[1 - iVar2] = (int)local_10;
  aiStack_48[-iVar2] = 0x452331;
  FUN_00451240(aiStack_48[1 - iVar2],aiStack_48[2 - iVar2]);
  ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __cdecl
FUN_00452350(int *param_1,int param_2,int param_3,int param_4,int param_5,int param_6,float *param_7
            )

{
  float fVar1;
  float fVar2;
  float fVar3;
  int iVar4;
  float fVar5;
  int *piVar6;
  float *pfVar7;
  float *pfVar8;
  int iVar9;
  int iVar10;
  int iVar11;
  float *local_4c;
  float *local_48;
  float *local_40;
  int local_3c;
  
  piVar6 = param_1;
  fVar1 = *(float *)(param_1[1] + 0xc + param_4 * 4);
  iVar4 = *param_1;
  fVar2 = (float)param_1[0xc];
  local_3c = 0;
  if (3 < iVar4) {
    iVar9 = param_6 - param_3;
    local_48 = (float *)(param_6 + 0xc);
    iVar10 = param_6 - param_5;
    local_4c = (float *)(param_5 + 8);
    iVar11 = (iVar4 - 4U >> 2) + 1;
    local_3c = iVar11 * 4;
    local_40 = param_7;
    pfVar8 = (float *)(param_3 + 4);
    do {
      fVar3 = *(float *)((int)pfVar8 + *(int *)(piVar6[3] + param_4 * 4) + -param_3 + -4) +
              *(float *)((param_2 - (int)param_7) + (int)local_40);
      if (*(float *)(piVar6[1] + 0x6c) < fVar3) {
        fVar3 = *(float *)(piVar6[1] + 0x6c);
      }
      fVar5 = pfVar8[-1] + fVar1;
      if (pfVar8[-1] + fVar1 < fVar3) {
        fVar5 = fVar3;
      }
      local_4c[-2] = fVar5;
      if (param_4 == 1) {
        fVar5 = (fVar3 - *local_40) - -17.2;
        if (fVar3 - *local_40 <= -17.2) {
          param_1 = (int *)(1.0 - fVar5 * 0.0003 * fVar2);
        }
        else {
          param_1 = (int *)(1.0 - fVar5 * 0.005 * fVar2);
          if ((float)param_1 < 0.0) {
            local_48[-3] = local_48[-3] * 0.0001;
            goto LAB_0045251a;
          }
        }
        local_48[-3] = local_48[-3] * (float)param_1;
      }
LAB_0045251a:
      fVar3 = *(float *)((int)pfVar8 + *(int *)(piVar6[3] + param_4 * 4) + -param_3) +
              *(float *)((param_2 - param_3) + (int)pfVar8);
      if (*(float *)(piVar6[1] + 0x6c) < fVar3) {
        fVar3 = *(float *)(piVar6[1] + 0x6c);
      }
      fVar5 = *pfVar8 + fVar1;
      if (*pfVar8 + fVar1 < fVar3) {
        fVar5 = fVar3;
      }
      *(float *)((param_5 - param_3) + (int)pfVar8) = fVar5;
      if (param_4 == 1) {
        fVar3 = fVar3 - *(float *)(((int)param_7 - param_3) + (int)pfVar8);
        fVar5 = fVar3 - -17.2;
        if (fVar3 <= -17.2) {
          param_1 = (int *)(1.0 - fVar5 * 0.0003 * fVar2);
        }
        else {
          param_1 = (int *)(1.0 - fVar5 * 0.005 * fVar2);
          if ((float)param_1 < 0.0) {
            *(float *)(iVar9 + (int)pfVar8) = *(float *)(iVar9 + (int)pfVar8) * 0.0001;
            goto LAB_004525e9;
          }
        }
        *(float *)(iVar9 + (int)pfVar8) = (float)param_1 * *(float *)(iVar9 + (int)pfVar8);
      }
LAB_004525e9:
      fVar3 = *(float *)(*(int *)(piVar6[3] + param_4 * 4) + (4 - param_3) + (int)pfVar8) +
              *(float *)((param_2 - param_5) + (int)local_4c);
      if (*(float *)(piVar6[1] + 0x6c) < fVar3) {
        fVar3 = *(float *)(piVar6[1] + 0x6c);
      }
      fVar5 = pfVar8[1] + fVar1;
      if (pfVar8[1] + fVar1 < fVar3) {
        fVar5 = fVar3;
      }
      *local_4c = fVar5;
      if (param_4 == 1) {
        fVar3 = fVar3 - *(float *)(((int)param_7 - param_5) + (int)local_4c);
        fVar5 = fVar3 - -17.2;
        if (fVar3 <= -17.2) {
          param_1 = (int *)(1.0 - fVar5 * 0.0003 * fVar2);
        }
        else {
          param_1 = (int *)(1.0 - fVar5 * 0.005 * fVar2);
          if ((float)param_1 < 0.0) {
            *(float *)(iVar10 + (int)local_4c) = *(float *)(iVar10 + (int)local_4c) * 0.0001;
            goto LAB_004526b8;
          }
        }
        *(float *)(iVar10 + (int)local_4c) = (float)param_1 * *(float *)(iVar10 + (int)local_4c);
      }
LAB_004526b8:
      pfVar7 = (float *)(((int)param_7 - param_6) + (int)local_48);
      fVar3 = *(float *)(*(int *)(piVar6[3] + param_4 * 4) + (8 - param_3) + (int)pfVar8) +
              *(float *)((param_2 - (int)param_7) + (int)pfVar7);
      if (*(float *)(piVar6[1] + 0x6c) < fVar3) {
        fVar3 = *(float *)(piVar6[1] + 0x6c);
      }
      fVar5 = pfVar8[2] + fVar1;
      if (pfVar8[2] + fVar1 < fVar3) {
        fVar5 = fVar3;
      }
      local_4c[1] = fVar5;
      if (param_4 == 1) {
        fVar3 = fVar3 - *pfVar7;
        fVar5 = fVar3 - -17.2;
        if (fVar3 <= -17.2) {
          param_1 = (int *)(1.0 - fVar5 * 0.0003 * fVar2);
        }
        else {
          param_1 = (int *)(1.0 - fVar5 * 0.005 * fVar2);
          if ((float)param_1 < 0.0) {
            *local_48 = *local_48 * 0.0001;
            goto LAB_00452796;
          }
        }
        *local_48 = *local_48 * (float)param_1;
      }
LAB_00452796:
      local_40 = local_40 + 4;
      local_4c = local_4c + 4;
      local_48 = local_48 + 4;
      pfVar8 = pfVar8 + 4;
      iVar11 = iVar11 + -1;
    } while (iVar11 != 0);
  }
  if (local_3c < iVar4) {
    pfVar8 = (float *)(param_3 + local_3c * 4);
    iVar9 = param_6 - param_3;
    do {
      fVar3 = *(float *)(*(int *)(piVar6[3] + param_4 * 4) + local_3c * 4) +
              *(float *)((int)pfVar8 + (param_2 - param_3));
      if (*(float *)(piVar6[1] + 0x6c) < fVar3) {
        fVar3 = *(float *)(piVar6[1] + 0x6c);
      }
      fVar5 = *pfVar8 + fVar1;
      if (*pfVar8 + fVar1 < fVar3) {
        fVar5 = fVar3;
      }
      *(float *)((param_5 - param_3) + (int)pfVar8) = fVar5;
      if (param_4 == 1) {
        fVar3 = fVar3 - *(float *)(((int)param_7 - param_3) + (int)pfVar8);
        fVar5 = fVar3 - -17.2;
        if (fVar3 <= -17.2) {
          param_1 = (int *)(1.0 - fVar5 * 0.0003 * fVar2);
        }
        else {
          param_1 = (int *)(1.0 - fVar5 * 0.005 * fVar2);
          if ((float)param_1 < 0.0) {
            *(float *)(iVar9 + (int)pfVar8) = *(float *)(iVar9 + (int)pfVar8) * 0.0001;
            goto LAB_004528a4;
          }
        }
        *(float *)(iVar9 + (int)pfVar8) = (float)param_1 * *(float *)(iVar9 + (int)pfVar8);
      }
LAB_004528a4:
      local_3c = local_3c + 1;
      pfVar8 = pfVar8 + 1;
    } while (local_3c < iVar4);
  }
  return;
}



void __fastcall FUN_004528d0(float *param_1,float *param_2,float param_3,float param_4)

{
  float fVar1;
  float fVar2;
  int iVar3;
  
  iVar3 = (uint)(ABS(*param_1) < ABS(*param_2)) - (uint)(ABS(*param_2) < ABS(*param_1));
  if (iVar3 == 0) {
    iVar3 = (uint)(ABS(param_4) < ABS(param_3)) * 2 + -1;
  }
  if (iVar3 == 1) {
    if (*param_2 <= 0.0) {
      *param_1 = *param_1 - *param_2;
    }
    else {
      *param_1 = *param_2 - *param_1;
    }
  }
  else {
    fVar1 = *param_1;
    if (*param_1 <= 0.0) {
      fVar2 = *param_1 - *param_2;
    }
    else {
      fVar2 = *param_2 - *param_1;
    }
    *param_1 = fVar2;
    *param_2 = fVar1;
  }
  if (ABS(*param_2) * 1.9999 < *param_1) {
    *param_1 = ABS(*param_2) * -2.0;
    *param_2 = -*param_2;
    return;
  }
  return;
}



void __cdecl FUN_00452990(float param_1,float *param_2,undefined4 *param_3)

{
  uint uVar1;
  uint uVar2;
  uint unaff_ESI;
  uint unaff_EDI;
  
  uVar2 = (int)(unaff_EDI - unaff_ESI) >> 0x1f;
  uVar1 = ((int)unaff_ESI < (int)unaff_EDI) - 1;
  uVar2 = 0x1f - ((unaff_EDI - unaff_ESI ^ uVar2) - uVar2);
  *param_2 = *(float *)(&DAT_00471b78 + (~uVar1 & unaff_EDI | uVar1 & unaff_ESI) * 4) *
             (*(float *)(&DAT_00471f78 + (((int)uVar2 < 0) - 1 & uVar2) * 4) + 1.0) * param_1;
  *param_3 = 0;
  return;
}



float10 __cdecl FUN_00452a00(float param_1,float param_2)

{
  float10 fVar1;
  
  if (param_1 <= 0.0) {
    if (param_2 < 0.0) {
      fVar1 = (float10)_CIsqrt();
      return (float10)(float)-fVar1;
    }
    if (param_2 < -param_1) {
      fVar1 = (float10)_CIsqrt();
      return (float10)(float)-fVar1;
    }
    fVar1 = (float10)_CIsqrt();
    return (float10)(float)fVar1;
  }
  if (param_2 >= 0.0 && param_2 != 0.0) {
    fVar1 = (float10)_CIsqrt();
    return (float10)(float)fVar1;
  }
  if (-param_2 < param_1) {
    fVar1 = (float10)_CIsqrt();
    return (float10)(float)fVar1;
  }
  fVar1 = (float10)_CIsqrt();
  return (float10)(float)-fVar1;
}



float10 __cdecl FUN_00452ad0(float param_1,float param_2)

{
  float10 fVar1;
  
  if (param_1 <= 0.0) {
    if (param_2 < 0.0) {
      fVar1 = (float10)_CIsqrt();
      return (float10)(float)-fVar1;
    }
    if (param_2 < -param_1) {
      fVar1 = (float10)_CIsqrt();
      return (float10)(float)-fVar1;
    }
    fVar1 = (float10)_CIsqrt();
    return (float10)(float)fVar1;
  }
  if (param_2 >= 0.0 && param_2 != 0.0) {
    fVar1 = (float10)_CIsqrt();
    return (float10)(float)fVar1;
  }
  if (-param_2 < param_1) {
    fVar1 = (float10)_CIsqrt();
    return (float10)(float)fVar1;
  }
  fVar1 = (float10)_CIsqrt();
  return (float10)(float)-fVar1;
}



int __cdecl FUN_00452b90(int param_1,int param_2,int *param_3,int param_4,int param_5)

{
  int iVar1;
  int iVar2;
  float *pfVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int *piVar7;
  int iVar8;
  float *pfVar9;
  float10 fVar10;
  int local_18;
  int local_10;
  
  iVar1 = *param_3;
  iVar5 = FUN_0044e270(param_1,*(int *)(param_4 + 0x484) * 4);
  iVar2 = *(int *)(param_2 + 0xa0 + *(int *)param_3[1] * 0x3c);
  local_10 = 0;
  if (*(int *)(param_4 + 0x484) < 1) {
    return iVar5;
  }
  piVar7 = (int *)(param_4 + 0x888);
  do {
    pfVar3 = *(float **)(param_5 + piVar7[-0x100] * 4);
    iVar4 = *(int *)(param_5 + *piVar7 * 4);
    iVar6 = FUN_0044e270(param_1,iVar1 * 4);
    *(int *)(iVar5 + local_10 * 4) = iVar6;
    iVar8 = 0;
    if (0 < iVar2) {
      pfVar9 = pfVar3;
      local_18 = iVar2;
      do {
        fVar10 = FUN_00452a00(*pfVar9,*(float *)((iVar4 - (int)pfVar3) + (int)pfVar9));
        *(float *)((iVar6 - (int)pfVar3) + (int)pfVar9) = (float)fVar10;
        pfVar9 = pfVar9 + 1;
        local_18 = local_18 + -1;
        iVar8 = iVar2;
      } while (local_18 != 0);
    }
    if (iVar8 < iVar1) {
      pfVar9 = pfVar3 + iVar8;
      iVar8 = iVar1 - iVar8;
      do {
        fVar10 = FUN_00452ad0(*pfVar9,*(float *)((int)pfVar9 + (iVar4 - (int)pfVar3)));
        *(float *)((int)pfVar9 + (iVar6 - (int)pfVar3)) = (float)fVar10;
        pfVar9 = pfVar9 + 1;
        iVar8 = iVar8 + -1;
      } while (iVar8 != 0);
    }
    local_10 = local_10 + 1;
    piVar7 = piVar7 + 1;
  } while (local_10 < *(int *)(param_4 + 0x484));
  return iVar5;
}



// _PtFuncCompare parameter of qsort
// 

uint __cdecl _PtFuncCompare_00452d10(float **param_1,float **param_2)

{
  uint uVar1;
  
  uVar1 = (uint)(ABS(**param_1) < ABS(**param_2));
  if (ABS(**param_2) < ABS(**param_1)) {
    return uVar1 - 1;
  }
  return uVar1;
}



// WARNING: Function: __alloca_probe_16 replaced with injection: alloca_probe
// WARNING: Unable to track spacebase fully for stack

void __cdecl FUN_00452d60(int param_1,int *param_2,int param_3,int param_4)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  undefined *puVar6;
  void *apvStackY_40 [2];
  size_t sStackY_38;
  undefined *local_1c;
  int local_18;
  int local_14;
  int *local_10;
  int local_c;
  uint local_8;
  
  local_8 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  if (*(int *)(param_2[1] + 0x1f8) == 0) {
    ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
    return;
  }
  local_14 = *param_2;
  sStackY_38 = 0x452da2;
  local_10 = (int *)FUN_0044e270(param_1,*(int *)(param_3 + 0x484) * 4);
  iVar1 = *(int *)(param_2[1] + 0x200);
  iVar2 = iVar1 * -4;
  local_1c = &stack0xffffffd4 + iVar2;
  puVar6 = &stack0xffffffd4 + iVar2;
  iVar5 = 0;
  if (0 < *(int *)(param_3 + 0x484)) {
    do {
      *(int *)(&stack0xffffffd0 + iVar2) = local_14 * 4;
      *(int *)(&stack0xffffffcc + iVar2) = param_1;
      (&sStackY_38)[-iVar1] = 0x452df1;
      iVar3 = FUN_0044e270(*(int *)(&stack0xffffffcc + iVar2),*(int *)(&stack0xffffffd0 + iVar2));
      *local_10 = iVar3;
      local_18 = 0;
      if (0 < local_14) {
        local_c = 0;
        do {
          iVar4 = 0;
          iVar3 = local_c;
          if (0 < iVar1) {
            do {
              *(int *)(puVar6 + iVar4 * 4) = *(int *)(param_4 + iVar5 * 4) + iVar3;
              iVar4 = iVar4 + 1;
              iVar3 = iVar3 + 4;
            } while (iVar4 < iVar1);
          }
          *(code **)(&stack0xffffffd0 + iVar2) = _PtFuncCompare_00452d10;
          *(undefined4 *)(&stack0xffffffcc + iVar2) = 4;
          (&sStackY_38)[-iVar1] = iVar1;
          apvStackY_40[1 - iVar1] = puVar6;
          apvStackY_40[-iVar1] = (void *)0x452e30;
          qsort(apvStackY_40[1 - iVar1],(&sStackY_38)[-iVar1],*(size_t *)(&stack0xffffffcc + iVar2),
                *(_PtFuncCompare **)(&stack0xffffffd0 + iVar2));
          iVar4 = 0;
          iVar3 = local_c;
          if (0 < iVar1) {
            do {
              *(int *)(iVar3 + *local_10) =
                   *(int *)(puVar6 + iVar4 * 4) - *(int *)(param_4 + iVar5 * 4) >> 2;
              iVar4 = iVar4 + 1;
              iVar3 = iVar3 + 4;
              puVar6 = local_1c;
            } while (iVar4 < iVar1);
          }
          local_18 = local_18 + iVar1;
          local_c = local_c + iVar1 * 4;
        } while (local_18 < local_14);
      }
      local_10 = local_10 + 1;
      iVar5 = iVar5 + 1;
    } while (iVar5 < *(int *)(param_3 + 0x484));
  }
  ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



// WARNING: Function: __alloca_probe_16 replaced with injection: alloca_probe
// WARNING: Unable to track spacebase fully for stack

void __cdecl FUN_00452ec0(int *param_1,int param_2,int param_3)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int *piVar5;
  int iVar6;
  int iVar7;
  void *apvStack_30 [2];
  size_t asStack_28 [2];
  _PtFuncCompare *p_Stack_20;
  int local_10;
  int local_c;
  uint local_8;
  
  local_8 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  local_c = *param_1;
  iVar1 = *(int *)(param_1[1] + 0x200);
  p_Stack_20 = (_PtFuncCompare *)0x452ef0;
  iVar2 = iVar1 * -4;
  iVar6 = *(int *)(param_1[1] + 0x1fc);
  iVar7 = iVar1;
  local_10 = iVar6;
  if (iVar6 < local_c) {
    do {
      if (local_c < iVar6 + iVar7) {
        iVar7 = local_c - iVar6;
      }
      iVar3 = 0;
      if (0 < iVar7) {
        iVar4 = param_2 + iVar6 * 4;
        do {
          *(int *)(&stack0xffffffe4 + iVar3 * 4 + iVar2) = iVar4;
          iVar3 = iVar3 + 1;
          iVar4 = iVar4 + 4;
        } while (iVar3 < iVar7);
      }
      (&p_Stack_20)[-iVar1] = _PtFuncCompare_00452d10;
      asStack_28[1 - iVar1] = 4;
      asStack_28[-iVar1] = iVar7;
      apvStack_30[1 - iVar1] = &stack0xffffffe4 + iVar2;
      apvStack_30[-iVar1] = (void *)0x452f39;
      qsort(apvStack_30[1 - iVar1],asStack_28[-iVar1],asStack_28[1 - iVar1],(&p_Stack_20)[-iVar1]);
      iVar3 = 0;
      if (0 < iVar7) {
        piVar5 = (int *)(param_3 + (iVar6 - local_10) * 4);
        do {
          iVar4 = iVar3 * 4;
          iVar3 = iVar3 + 1;
          *piVar5 = *(int *)(&stack0xffffffe4 + iVar4 + iVar2) - param_2 >> 2;
          piVar5 = piVar5 + 1;
        } while (iVar3 < iVar7);
      }
      iVar6 = iVar6 + iVar7;
    } while (iVar6 < local_c);
  }
  ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __cdecl FUN_00452f80(int *param_1,int param_2,float *param_3,int param_4)

{
  int *piVar1;
  float fVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  float *pfVar7;
  float *pfVar8;
  int *piVar9;
  int iVar10;
  int iVar11;
  int iVar12;
  int iVar13;
  float10 fVar14;
  double dVar15;
  float local_64;
  int *local_54;
  int *local_50;
  
  iVar3 = param_1[1];
  iVar12 = *param_1;
  iVar4 = *(int *)(iVar3 + 0x200);
  iVar10 = 0;
  iVar5 = *(int *)(iVar3 + 0x1fc);
  if (iVar12 < *(int *)(iVar3 + 0x1fc)) {
    iVar5 = iVar12;
  }
  if (*(int *)(iVar3 + 500) != 0) {
    if (0 < iVar5) {
      pfVar7 = param_3;
      local_54 = (int *)iVar5;
      do {
        dVar15 = floor((double)(*(float *)((param_2 - (int)param_3) + (int)pfVar7) + 0.5));
        *pfVar7 = (float)dVar15;
        pfVar7 = pfVar7 + 1;
        local_54 = (int *)((int)local_54 + -1);
        iVar10 = iVar5;
      } while (local_54 != (int *)0x0);
    }
    iVar13 = iVar4 + iVar10;
    if (iVar13 <= iVar12) {
      local_50 = (int *)(param_4 + (iVar10 - iVar5) * 4);
      pfVar7 = (float *)(param_2 + 8 + iVar10 * 4);
      do {
        local_64 = 0.0;
        if (iVar10 < iVar13) {
          iVar11 = iVar10;
          if (3 < iVar13 - iVar10) {
            iVar6 = ((iVar13 - iVar10) - 4U >> 2) + 1;
            iVar11 = iVar10 + iVar6 * 4;
            pfVar8 = pfVar7;
            do {
              iVar6 = iVar6 + -1;
              local_64 = pfVar8[1] * pfVar8[1] +
                         *pfVar8 * *pfVar8 +
                         local_64 + pfVar8[-2] * pfVar8[-2] + pfVar8[-1] * pfVar8[-1];
              pfVar8 = pfVar8 + 4;
            } while (iVar6 != 0);
          }
          for (; iVar11 < iVar13; iVar11 = iVar11 + 1) {
            fVar2 = *(float *)(param_2 + iVar11 * 4);
            local_64 = fVar2 * fVar2 + local_64;
          }
        }
        iVar11 = 0;
        if (0 < iVar4) {
          local_54 = local_50;
          do {
            iVar6 = *local_54;
            fVar2 = *(float *)(param_2 + iVar6 * 4);
            if (fVar2 * fVar2 < 0.25) {
              if (local_64 < (float)*(double *)(iVar3 + 0x208)) {
                if (iVar11 < iVar4) {
                  if (3 < iVar4 - iVar11) {
                    iVar6 = ((iVar4 - iVar11) - 4U >> 2) + 1;
                    piVar9 = (int *)(param_4 + 8 + ((iVar11 - iVar5) + iVar10) * 4);
                    iVar11 = iVar11 + iVar6 * 4;
                    do {
                      param_3[piVar9[-2]] = 0.0;
                      param_3[piVar9[-1]] = 0.0;
                      param_3[*piVar9] = 0.0;
                      piVar1 = piVar9 + 1;
                      piVar9 = piVar9 + 4;
                      param_3[*piVar1] = 0.0;
                      iVar6 = iVar6 + -1;
                    } while (iVar6 != 0);
                  }
                  if (iVar11 < iVar4) {
                    piVar9 = (int *)(param_4 + ((iVar11 - iVar5) + iVar10) * 4);
                    iVar11 = iVar4 - iVar11;
                    do {
                      iVar6 = *piVar9;
                      piVar9 = piVar9 + 1;
                      param_3[iVar6] = 0.0;
                      iVar11 = iVar11 + -1;
                    } while (iVar11 != 0);
                  }
                }
                break;
              }
              fVar14 = FUN_0044f7c0(*(uint *)(param_2 + iVar6 * 4));
              param_3[iVar6] = (float)fVar14;
              local_64 = local_64 - 1.0;
            }
            else {
              dVar15 = floor((double)(*(float *)(param_2 + iVar6 * 4) + 0.5));
              param_3[iVar6] = (float)dVar15;
              fVar2 = *(float *)(param_2 + iVar6 * 4);
              local_64 = local_64 - fVar2 * fVar2;
            }
            local_54 = local_54 + 1;
            iVar11 = iVar11 + 1;
          } while (iVar11 < iVar4);
        }
        iVar13 = iVar13 + iVar4;
        iVar10 = iVar10 + iVar4;
        local_50 = local_50 + iVar4;
        pfVar7 = pfVar7 + iVar4;
      } while (iVar13 <= iVar12);
    }
  }
  if (iVar10 < iVar12) {
    pfVar7 = param_3 + iVar10;
    iVar12 = iVar12 - iVar10;
    do {
      dVar15 = floor((double)(*(float *)((int)pfVar7 + (param_2 - (int)param_3)) + 0.5));
      *pfVar7 = (float)dVar15;
      pfVar7 = pfVar7 + 1;
      iVar12 = iVar12 + -1;
    } while (iVar12 != 0);
  }
  return;
}



void __cdecl
FUN_00453270(int param_1,int param_2,int *param_3,int param_4,int param_5,int param_6,int *param_7,
            undefined4 param_8,int param_9,int param_10)

{
  int iVar1;
  double dVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int *piVar6;
  int iVar7;
  int iVar8;
  int *piVar9;
  int extraout_ECX;
  int iVar10;
  int iVar11;
  float *pfVar12;
  int iVar13;
  float10 fVar14;
  double dVar15;
  float local_a4;
  int *local_9c;
  int local_8c;
  int local_84;
  float local_7c;
  int local_70;
  int local_68;
  int local_64;
  
  iVar3 = *param_3;
  local_64 = 0;
  if (0 < *(int *)(param_4 + 0x484)) {
    piVar9 = (int *)(param_4 + 0x888);
    local_9c = param_7;
    iVar10 = iVar3;
    do {
      if ((*(int *)(param_9 + piVar9[-0x100] * 4) != 0) || (*(int *)(param_9 + *piVar9 * 4) != 0)) {
        iVar4 = *(int *)(piVar9[-0x100] * 4 + param_5);
        iVar5 = *(int *)(*piVar9 * 4 + param_5);
        iVar1 = iVar4 + iVar3 * 4;
        dVar2 = *(double *)(&DAT_00471ae8 + *(int *)(param_2 + 0xfc + param_1 * 4) * 8);
        dVar15 = *(double *)(&DAT_00471ae8 + *(int *)(param_2 + 0x138 + param_1 * 4) * 8);
        piVar6 = (int *)param_3[1];
        iVar11 = iVar10;
        if (piVar6[0x7e] != 0) {
          iVar11 = piVar6[0x80];
        }
        iVar7 = *(int *)(param_2 + 0x84 + (*piVar6 * 0xf + param_1) * 4);
        *(undefined4 *)(param_9 + piVar9[-0x100] * 4) = 1;
        *(undefined4 *)(param_9 + *piVar9 * 4) = 1;
        if (1000 < iVar3) {
          dVar15 = *(double *)(&DAT_00471b30 + *(int *)(param_2 + 0x138 + param_1 * 4) * 8);
        }
        local_7c = (float)dVar15;
        iVar10 = *param_3;
        local_68 = 0;
        if (0 < iVar10) {
          local_84 = 0;
          do {
            local_a4 = 0.0;
            if (0 < iVar11) {
              pfVar12 = (float *)(local_84 + iVar5);
              iVar8 = iVar4 - iVar5;
              iVar13 = iVar1 - iVar5;
              iVar10 = local_68;
              local_8c = local_84;
              local_70 = iVar11;
              do {
                if (iVar10 < param_10) {
                  if ((((iVar7 <= iVar10) && (ABS(*(float *)(iVar8 + (int)pfVar12)) < local_7c)) &&
                      (ABS(*pfVar12) < local_7c)) ||
                     ((ABS(*(float *)(iVar8 + (int)pfVar12)) < (float)dVar2 &&
                      (ABS(*pfVar12) < (float)dVar2)))) {
                    FUN_00452990(*(float *)(*(int *)((int)local_9c + (param_6 - (int)param_7)) +
                                           local_8c),(float *)(iVar13 + (int)pfVar12),
                                 pfVar12 + iVar3);
                    dVar15 = floor((double)(*(float *)(iVar13 + (int)pfVar12) + 0.5));
                    if (dVar15 == 0.0) {
                      local_a4 = *(float *)(iVar13 + (int)pfVar12) *
                                 *(float *)(iVar13 + (int)pfVar12) + local_a4;
                    }
                  }
                  else {
                    FUN_004528d0(pfVar12 + iVar3,(float *)(iVar13 + (int)pfVar12),
                                 *(float *)(iVar8 + (int)pfVar12),*pfVar12);
                  }
                }
                else {
                  *(undefined4 *)(iVar13 + (int)pfVar12) = 0;
                  pfVar12[iVar3] = 0.0;
                }
                local_8c = local_8c + 4;
                iVar10 = iVar10 + 1;
                pfVar12 = pfVar12 + 1;
                local_70 = local_70 + -1;
              } while (local_70 != 0);
            }
            if ((*(int *)(param_3[1] + 0x1f8) != 0) && (local_70 = 0, iVar10 = local_84, 0 < iVar11)
               ) {
              do {
                if (local_a4 < (float)*(double *)(param_3[1] + 0x208)) break;
                iVar8 = *(int *)(iVar10 + *local_9c);
                if (((iVar8 < param_10) && (iVar7 <= iVar8)) &&
                   (dVar15 = floor((double)(*(float *)(iVar1 + iVar8 * 4) + 0.5)), dVar15 == 0.0)) {
                  fVar14 = FUN_0044f7c0(*(uint *)(iVar1 + iVar8 * 4));
                  *(float *)(extraout_ECX + iVar8 * 4) = (float)fVar14;
                  local_a4 = local_a4 - 1.0;
                }
                local_70 = local_70 + 1;
                iVar10 = iVar10 + 4;
              } while (local_70 < iVar11);
            }
            iVar10 = *param_3;
            local_68 = local_68 + iVar11;
            local_84 = local_84 + iVar11 * 4;
          } while (local_68 < iVar10);
        }
      }
      local_9c = local_9c + 1;
      local_64 = local_64 + 1;
      piVar9 = piVar9 + 1;
    } while (local_64 < *(int *)(param_4 + 0x484));
  }
  return;
}



void __fastcall
FUN_00453660(undefined4 param_1,undefined4 param_2,int param_3,int *param_4,int param_5,int param_6)

{
  int iVar1;
  int iVar2;
  float fVar3;
  float fVar4;
  int iVar5;
  float *pfVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  ulonglong uVar10;
  int local_10;
  int local_4;
  
  iVar1 = *param_4;
  uVar10 = FUN_0045db50(param_1,param_2);
  iVar2 = *(int *)(param_3 + 0xa0 + *(int *)param_4[1] * 0x3c);
  local_4 = 0;
  if (0 < *(int *)(param_5 + 0x484)) {
    do {
      if (iVar2 < iVar1) {
        iVar5 = iVar1 - iVar2;
        iVar9 = iVar2;
        if (3 < iVar5) {
          fVar3 = (float)iVar5;
          fVar4 = (float)(int)uVar10;
          iVar7 = ((iVar1 - iVar2) - 4U >> 2) + 1;
          local_10 = 2;
          iVar9 = iVar2 + iVar7 * 4;
          pfVar6 = (float *)(*(int *)(param_6 + local_4 * 4) + 8 + iVar2 * 4);
          do {
            iVar7 = iVar7 + -1;
            pfVar6[-2] = (1.0 - ((float)(local_10 + -2) / fVar3) * fVar4) * pfVar6[-2];
            pfVar6[-1] = (1.0 - ((float)(local_10 + -1) / fVar3) * fVar4) * pfVar6[-1];
            *pfVar6 = (1.0 - ((float)local_10 / fVar3) * fVar4) * *pfVar6;
            pfVar6[1] = (1.0 - ((float)(local_10 + 1) / fVar3) * fVar4) * pfVar6[1];
            pfVar6 = pfVar6 + 4;
            local_10 = local_10 + 4;
          } while (iVar7 != 0);
        }
        if (iVar9 < iVar1) {
          iVar7 = iVar9 - iVar2;
          iVar8 = iVar1 - iVar9;
          pfVar6 = (float *)(*(int *)(param_6 + local_4 * 4) + iVar9 * 4);
          do {
            fVar3 = (float)iVar7;
            iVar7 = iVar7 + 1;
            iVar8 = iVar8 + -1;
            *pfVar6 = (1.0 - (fVar3 / (float)iVar5) * (float)(int)uVar10) * *pfVar6;
            pfVar6 = pfVar6 + 1;
          } while (iVar8 != 0);
        }
      }
      local_4 = local_4 + 1;
    } while (local_4 < *(int *)(param_5 + 0x484));
  }
  return;
}



int __cdecl FUN_004537f0(uint param_1)

{
  int iVar1;
  
  iVar1 = 0;
  if (param_1 != 0) {
    do {
      iVar1 = iVar1 + 1;
      param_1 = param_1 >> 1;
    } while (param_1 != 0);
  }
  return iVar1;
}



float10 __cdecl FUN_00453810(uint param_1)

{
  double dVar1;
  
  dVar1 = (double)(param_1 & 0x1fffff);
  if ((int)param_1 < 0) {
    dVar1 = -dVar1;
  }
  dVar1 = ldexp(dVar1,((int)param_1 >> 0x15 & 0x3ffU) - 0x314);
  return (float10)(float)dVar1;
}



uint * __cdecl FUN_00453850(int param_1,int param_2,int param_3)

{
  int iVar1;
  uint uVar2;
  uint *_Memory;
  int iVar3;
  uint uVar4;
  byte bVar5;
  uint *puVar6;
  int iVar7;
  uint local_84 [33];
  
  iVar7 = param_3;
  if (param_3 == 0) {
    iVar7 = param_2;
  }
  _Memory = (uint *)malloc(iVar7 * 4);
  memset(local_84,0,0x84);
  iVar7 = 0;
  puVar6 = _Memory;
  if (0 < param_2) {
    do {
      iVar1 = *(int *)(param_1 + iVar7 * 4);
      if (iVar1 < 1) {
        if (param_3 == 0) {
          puVar6 = puVar6 + 1;
        }
      }
      else {
        uVar4 = local_84[iVar1];
        if ((iVar1 < 0x20) && (uVar4 >> ((byte)iVar1 & 0x1f) != 0)) {
          free(_Memory);
          return (uint *)0x0;
        }
        *puVar6 = uVar4;
        puVar6 = puVar6 + 1;
        iVar3 = iVar1;
        do {
          if ((local_84[iVar3] & 1) != 0) {
            if (iVar3 == 1) {
              local_84[1] = local_84[1] + 1;
            }
            else {
              local_84[iVar3] = local_84[iVar3 + -1] * 2;
            }
            break;
          }
          local_84[iVar3] = local_84[iVar3] + 1;
          iVar3 = iVar3 + -1;
        } while (0 < iVar3);
        while ((iVar3 = iVar1 + 1, iVar3 < 0x21 && (uVar2 = local_84[iVar3], uVar2 >> 1 == uVar4)))
        {
          local_84[iVar3] = local_84[iVar1] * 2;
          uVar4 = uVar2;
          iVar1 = iVar3;
        }
      }
      iVar7 = iVar7 + 1;
    } while (iVar7 < param_2);
  }
  iVar7 = 0;
  puVar6 = _Memory;
  if (0 < param_2) {
    do {
      iVar1 = *(int *)(param_1 + iVar7 * 4);
      uVar4 = 0;
      iVar3 = 0;
      if (0 < iVar1) {
        do {
          bVar5 = (byte)iVar3;
          iVar3 = iVar3 + 1;
          uVar4 = uVar4 * 2 | *puVar6 >> (bVar5 & 0x1f) & 1;
        } while (iVar3 < iVar1);
      }
      if ((param_3 == 0) || (iVar1 != 0)) {
        *puVar6 = uVar4;
        puVar6 = puVar6 + 1;
      }
      iVar7 = iVar7 + 1;
    } while (iVar7 < param_2);
  }
  return _Memory;
}



void __cdecl FUN_004539c0(int *param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  undefined4 extraout_ECX;
  int iVar4;
  undefined4 extraout_EDX;
  int iVar5;
  int iVar6;
  float10 fVar7;
  ulonglong uVar8;
  
  iVar1 = *param_1;
  iVar2 = param_1[1];
  fVar7 = (float10)_CIpow();
  floor((double)fVar7);
  uVar8 = FUN_0045db50(extraout_ECX,extraout_EDX);
  iVar3 = (int)uVar8;
  while( true ) {
    while( true ) {
      iVar4 = 1;
      iVar5 = 1;
      if (0 < iVar1) {
        iVar6 = iVar1;
        do {
          iVar4 = iVar4 * iVar3;
          iVar5 = iVar5 * (iVar3 + 1);
          iVar6 = iVar6 + -1;
        } while (iVar6 != 0);
      }
      if (iVar4 <= iVar2) break;
      iVar3 = iVar3 + -1;
    }
    if (iVar2 < iVar5) break;
    iVar3 = iVar3 + 1;
  }
  return;
}



void * __cdecl FUN_00453a40(int *param_1,int param_2,int param_3)

{
  float fVar1;
  float fVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  float fVar6;
  void *pvVar7;
  int iVar8;
  int iVar9;
  int iVar10;
  int iVar11;
  int iVar12;
  int *piVar13;
  float10 fVar14;
  int local_24;
  float local_1c;
  int *local_8;
  
  iVar12 = 0;
  if ((param_1[3] != 1) && (param_1[3] != 2)) {
    return (void *)0x0;
  }
  fVar14 = FUN_00453810(param_1[4]);
  fVar1 = (float)fVar14;
  fVar14 = FUN_00453810(param_1[5]);
  fVar2 = (float)fVar14;
  pvVar7 = calloc(*param_1 * param_2,4);
  if (param_1[3] == 1) {
    iVar9 = FUN_004539c0(param_1);
    iVar3 = param_1[1];
    local_24 = 0;
    if (0 < iVar3) {
      do {
        if ((param_3 == 0) || (*(int *)(param_1[2] + local_24 * 4) != 0)) {
          iVar8 = *param_1;
          local_1c = 0.0;
          iVar10 = 0;
          iVar11 = 1;
          if (3 < iVar8) {
            iVar4 = param_1[8];
            iVar5 = param_1[7];
            do {
              fVar6 = ABS((float)*(int *)(iVar4 + ((local_24 / iVar11) % iVar9) * 4)) * fVar2 +
                      fVar1 + local_1c;
              if (iVar5 != 0) {
                local_1c = fVar6;
              }
              if (param_3 == 0) {
                *(float *)((int)pvVar7 + (iVar8 * iVar12 + iVar10) * 4) = fVar6;
              }
              else {
                *(float *)((int)pvVar7 + (*(int *)(param_3 + iVar12 * 4) * iVar8 + iVar10) * 4) =
                     fVar6;
              }
              fVar6 = ABS((float)*(int *)(iVar4 + ((local_24 / (iVar11 * iVar9)) % iVar9) * 4)) *
                      fVar2 + fVar1 + local_1c;
              if (iVar5 != 0) {
                local_1c = fVar6;
              }
              if (param_3 == 0) {
                *(float *)((int)pvVar7 + (iVar8 * iVar12 + iVar10) * 4 + 4) = fVar6;
              }
              else {
                *(float *)((int)pvVar7 + (*(int *)(param_3 + iVar12 * 4) * iVar8 + iVar10) * 4 + 4)
                     = fVar6;
              }
              iVar11 = iVar11 * iVar9 * iVar9;
              fVar6 = ABS((float)*(int *)(iVar4 + ((local_24 / iVar11) % iVar9) * 4)) * fVar2 +
                      fVar1 + local_1c;
              if (iVar5 != 0) {
                local_1c = fVar6;
              }
              if (param_3 == 0) {
                *(float *)((int)pvVar7 + (iVar8 * iVar12 + iVar10) * 4 + 8) = fVar6;
              }
              else {
                *(float *)((int)pvVar7 + (*(int *)(param_3 + iVar12 * 4) * iVar8 + iVar10) * 4 + 8)
                     = fVar6;
              }
              iVar11 = iVar11 * iVar9;
              fVar6 = ABS((float)*(int *)(iVar4 + ((local_24 / iVar11) % iVar9) * 4)) * fVar2 +
                      fVar1 + local_1c;
              if (iVar5 != 0) {
                local_1c = fVar6;
              }
              if (param_3 == 0) {
                *(float *)((int)pvVar7 + (iVar8 * iVar12 + iVar10) * 4 + 0xc) = fVar6;
              }
              else {
                *(float *)((int)pvVar7 + (*(int *)(param_3 + iVar12 * 4) * iVar8 + iVar10) * 4 + 0xc
                          ) = fVar6;
              }
              iVar11 = iVar11 * iVar9;
              iVar10 = iVar10 + 4;
            } while (iVar10 < iVar8 + -3);
          }
          if (iVar10 < iVar8) {
            iVar4 = param_1[8];
            iVar5 = param_1[7];
            do {
              fVar6 = ABS((float)*(int *)(iVar4 + ((local_24 / iVar11) % iVar9) * 4)) * fVar2 +
                      fVar1 + local_1c;
              if (iVar5 != 0) {
                local_1c = fVar6;
              }
              if (param_3 == 0) {
                *(float *)((int)pvVar7 + (iVar8 * iVar12 + iVar10) * 4) = fVar6;
              }
              else {
                *(float *)((int)pvVar7 + (*(int *)(param_3 + iVar12 * 4) * iVar8 + iVar10) * 4) =
                     fVar6;
              }
              iVar11 = iVar11 * iVar9;
              iVar10 = iVar10 + 1;
            } while (iVar10 < iVar8);
          }
          iVar12 = iVar12 + 1;
        }
        local_24 = local_24 + 1;
      } while (local_24 < iVar3);
    }
  }
  else if (param_1[3] == 2) {
    iVar3 = param_1[1];
    local_24 = 0;
    if (0 < iVar3) {
      do {
        if ((param_3 == 0) || (*(int *)(param_1[2] + local_24 * 4) != 0)) {
          iVar9 = *param_1;
          local_1c = 0.0;
          iVar8 = 0;
          if (3 < iVar9) {
            iVar11 = param_1[7];
            piVar13 = (int *)(param_1[8] + 8 + iVar9 * local_24 * 4);
            local_8 = (int *)(param_1[8] + 4 + iVar9 * local_24 * 4);
            do {
              fVar6 = ABS((float)piVar13[-2]) * fVar2 + fVar1 + local_1c;
              if (iVar11 != 0) {
                local_1c = fVar6;
              }
              iVar10 = iVar12;
              if (param_3 != 0) {
                iVar10 = *(int *)(param_3 + iVar12 * 4);
              }
              *(float *)((int)pvVar7 + (iVar10 * iVar9 + iVar8) * 4) = fVar6;
              fVar6 = ABS((float)*local_8) * fVar2 + fVar1 + local_1c;
              if (iVar11 != 0) {
                local_1c = fVar6;
              }
              iVar10 = iVar12;
              if (param_3 != 0) {
                iVar10 = *(int *)(param_3 + iVar12 * 4);
              }
              *(float *)((int)pvVar7 + (iVar10 * iVar9 + iVar8) * 4 + 4) = fVar6;
              fVar6 = ABS((float)*piVar13) * fVar2 + fVar1 + local_1c;
              if (iVar11 != 0) {
                local_1c = fVar6;
              }
              iVar10 = iVar12;
              if (param_3 != 0) {
                iVar10 = *(int *)(param_3 + iVar12 * 4);
              }
              *(float *)((int)pvVar7 + (iVar10 * iVar9 + iVar8) * 4 + 8) = fVar6;
              fVar6 = ABS((float)piVar13[1]) * fVar2 + fVar1 + local_1c;
              if (iVar11 != 0) {
                local_1c = fVar6;
              }
              iVar10 = iVar12;
              if (param_3 != 0) {
                iVar10 = *(int *)(param_3 + iVar12 * 4);
              }
              local_8 = local_8 + 4;
              *(float *)((int)pvVar7 + (iVar10 * iVar9 + iVar8) * 4 + 0xc) = fVar6;
              iVar8 = iVar8 + 4;
              piVar13 = piVar13 + 4;
            } while (iVar8 < iVar9 + -3);
          }
          if (iVar8 < iVar9) {
            local_8 = (int *)(param_1[8] + (iVar9 * local_24 + iVar8) * 4);
            do {
              fVar6 = ABS((float)*local_8) * fVar2 + fVar1 + local_1c;
              if (param_1[7] != 0) {
                local_1c = fVar6;
              }
              iVar11 = iVar12;
              if (param_3 != 0) {
                iVar11 = *(int *)(param_3 + iVar12 * 4);
              }
              local_8 = local_8 + 1;
              iVar11 = iVar11 * iVar9 + iVar8;
              iVar8 = iVar8 + 1;
              *(float *)((int)pvVar7 + iVar11 * 4) = fVar6;
            } while (iVar8 < iVar9);
          }
          iVar12 = iVar12 + 1;
        }
        local_24 = local_24 + 1;
      } while (local_24 < iVar3);
      return pvVar7;
    }
  }
  return pvVar7;
}



void __cdecl FUN_00453f20(void *param_1)

{
  undefined4 *puVar1;
  
  if (*(int *)((int)param_1 + 0x30) != 0) {
    if (*(void **)((int)param_1 + 0x20) != (void *)0x0) {
      free(*(void **)((int)param_1 + 0x20));
    }
    if (*(void **)((int)param_1 + 8) != (void *)0x0) {
      free(*(void **)((int)param_1 + 8));
    }
    if (*(void ***)((int)param_1 + 0x24) != (void **)0x0) {
      free(**(void ***)((int)param_1 + 0x24));
      free(*(void **)(*(int *)((int)param_1 + 0x24) + 4));
      free(*(void **)(*(int *)((int)param_1 + 0x24) + 8));
      free(*(void **)(*(int *)((int)param_1 + 0x24) + 0xc));
      puVar1 = *(undefined4 **)((int)param_1 + 0x24);
      *puVar1 = 0;
      puVar1[1] = 0;
      puVar1[2] = 0;
      puVar1[3] = 0;
      puVar1[4] = 0;
      puVar1[5] = 0;
      free(*(void **)((int)param_1 + 0x24));
    }
    if (*(void ***)((int)param_1 + 0x28) != (void **)0x0) {
      free(**(void ***)((int)param_1 + 0x28));
      free(*(void **)(*(int *)((int)param_1 + 0x28) + 4));
      puVar1 = *(undefined4 **)((int)param_1 + 0x28);
      *puVar1 = 0;
      puVar1[1] = 0;
      puVar1[2] = 0;
      puVar1[3] = 0;
      free(*(void **)((int)param_1 + 0x28));
    }
    memset(param_1,0,0x34);
  }
  return;
}



void __cdecl FUN_00453ff0(void *param_1)

{
  if (*(int *)((int)param_1 + 0x30) != 0) {
    FUN_00453f20(param_1);
    free(param_1);
  }
  return;
}



void __cdecl FUN_00454010(void *param_1)

{
  if (*(void **)((int)param_1 + 0x10) != (void *)0x0) {
    free(*(void **)((int)param_1 + 0x10));
  }
  if (*(void **)((int)param_1 + 0x14) != (void *)0x0) {
    free(*(void **)((int)param_1 + 0x14));
  }
  if (*(void **)((int)param_1 + 0x18) != (void *)0x0) {
    free(*(void **)((int)param_1 + 0x18));
  }
  if (*(void **)((int)param_1 + 0x1c) != (void *)0x0) {
    free(*(void **)((int)param_1 + 0x1c));
  }
  if (*(void **)((int)param_1 + 0x20) != (void *)0x0) {
    free(*(void **)((int)param_1 + 0x20));
  }
  memset(param_1,0,0x2c);
  return;
}



undefined4 __cdecl FUN_00454080(int *param_1,int *param_2)

{
  uint *puVar1;
  void *pvVar2;
  
  memset(param_1,0,0x2c);
  param_1[3] = (int)param_2;
  param_1[1] = param_2[1];
  param_1[2] = param_2[1];
  *param_1 = *param_2;
  puVar1 = FUN_00453850(param_2[2],param_2[1],0);
  param_1[5] = (int)puVar1;
  pvVar2 = FUN_00453a40(param_2,param_2[1],0);
  param_1[4] = (int)pvVar2;
  return 0;
}



// _PtFuncCompare parameter of qsort
// 

int __cdecl _PtFuncCompare_004540d0(uint **param_1,uint **param_2)

{
  return (uint)(**param_2 < **param_1) - (uint)(**param_1 < **param_2);
}



// WARNING: Function: __alloca_probe_16 replaced with injection: alloca_probe
// WARNING: Unable to track spacebase fully for stack

void __cdecl FUN_004540f0(undefined4 *param_1,undefined4 *param_2)

{
  undefined4 *puVar1;
  char cVar2;
  int iVar3;
  undefined *puVar4;
  uint *puVar5;
  uint uVar6;
  void *pvVar7;
  int iVar8;
  int *piVar9;
  uint uVar10;
  int iVar11;
  uint uVar12;
  int iVar13;
  size_t asStackY_44 [2];
  int *piStackY_3c;
  undefined *local_1c;
  int local_18;
  undefined *local_14;
  int *local_10;
  uint *local_c;
  uint local_8;
  
  local_8 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  iVar13 = 0;
  piStackY_3c = (int *)0x454111;
  memset(param_1,0,0x2c);
  iVar3 = param_2[1];
  if (0 < iVar3) {
    piVar9 = (int *)param_2[2];
    iVar11 = iVar3;
    do {
      if (0 < *piVar9) {
        iVar13 = iVar13 + 1;
      }
      piVar9 = piVar9 + 1;
      iVar11 = iVar11 + -1;
    } while (iVar11 != 0);
  }
  param_1[1] = iVar3;
  param_1[2] = iVar13;
  *param_1 = *param_2;
  if (0 < iVar13) {
    piStackY_3c = (int *)0x454151;
    puVar5 = FUN_00453850(param_2[2],param_2[1],iVar13);
    local_18 = iVar13 * 4;
    iVar3 = iVar13 * -4;
    local_14 = &stack0xffffffd4 + iVar3;
    if (puVar5 == (uint *)0x0) {
      *(undefined4 **)(&stack0xffffffd0 + iVar3) = param_1;
      *(undefined4 *)(&stack0xffffffcc + iVar3) = 0x454178;
      FUN_00454010(*(void **)(&stack0xffffffd0 + iVar3));
      ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
      return;
    }
    puVar4 = &stack0xffffffd4 + iVar3;
    local_c = puVar5;
    if (0 < iVar13) {
      local_1c = &stack0xffffffd4 + (iVar3 - (int)puVar5);
      local_10 = (int *)iVar13;
      do {
        uVar6 = *puVar5;
        *(undefined4 *)(&stack0xffffffd0 + iVar3) = 0x4541a8;
        uVar6 = FUN_00454710(uVar6);
        *puVar5 = uVar6;
        *(uint **)(local_1c + (int)puVar5) = puVar5;
        puVar5 = puVar5 + 1;
        local_10 = (int *)((int)local_10 + -1);
        puVar4 = local_14;
      } while (local_10 != (int *)0x0);
    }
    local_14 = puVar4;
    puVar4 = local_14;
    *(code **)(&stack0xffffffd0 + iVar3) = _PtFuncCompare_004540d0;
    *(undefined4 *)(&stack0xffffffcc + iVar3) = 4;
    *(int *)(&stack0xffffffc8 + iVar3) = iVar13;
    (&piStackY_3c)[-iVar13] = (int *)puVar4;
    asStackY_44[1 - iVar13] = 0x4541cd;
    iVar11 = local_18;
    qsort((&piStackY_3c)[-iVar13],*(size_t *)(&stack0xffffffc8 + iVar3),
          *(size_t *)(&stack0xffffffcc + iVar3),*(_PtFuncCompare **)(&stack0xffffffd0 + iVar3));
    *(undefined4 *)(&stack0xffffffd0 + iVar3) = 0x4541d8;
    iVar11 = -iVar11;
    local_10 = (int *)(&stack0xffffffd4 + iVar11 + iVar3);
    *(int *)(&stack0xffffffd0 + iVar11 + iVar3) = local_18;
    *(undefined4 *)(&stack0xffffffcc + iVar11 + iVar3) = 0x4541e4;
    pvVar7 = malloc(*(size_t *)(&stack0xffffffd0 + iVar11 + iVar3));
    param_1[5] = pvVar7;
    iVar8 = 0;
    if (0 < iVar13) {
      do {
        local_10[*(int *)(local_14 + iVar8 * 4) - (int)local_c >> 2] = iVar8;
        iVar8 = iVar8 + 1;
      } while (iVar8 < iVar13);
      if (0 < iVar13) {
        piVar9 = local_10;
        local_14 = (undefined *)iVar13;
        do {
          iVar8 = *piVar9;
          puVar1 = (undefined4 *)(((int)local_c - (int)local_10) + (int)piVar9);
          piVar9 = piVar9 + 1;
          local_14 = (undefined *)((int)local_14 + -1);
          *(undefined4 *)(param_1[5] + iVar8 * 4) = *puVar1;
        } while (local_14 != (undefined *)0x0);
      }
    }
    *(uint **)(&stack0xffffffd0 + iVar11 + iVar3) = local_c;
    *(undefined4 *)(&stack0xffffffcc + iVar11 + iVar3) = 0x454243;
    free(*(void **)(&stack0xffffffd0 + iVar11 + iVar3));
    *(int **)(&stack0xffffffcc + iVar11 + iVar3) = local_10;
    *(int *)(&stack0xffffffc8 + iVar11 + iVar3) = iVar13;
    *(undefined4 **)((int)&piStackY_3c + iVar11 + iVar3) = param_2;
    *(undefined4 *)((int)asStackY_44 + iVar11 + iVar3 + 4) = 0x45424e;
    pvVar7 = FUN_00453a40(*(int **)((int)&piStackY_3c + iVar11 + iVar3),
                          *(int *)(&stack0xffffffc8 + iVar11 + iVar3),
                          *(int *)(&stack0xffffffcc + iVar11 + iVar3));
    *(int *)((int)asStackY_44 + iVar11 + iVar3 + 4) = local_18;
    param_1[4] = pvVar7;
    *(undefined4 *)((int)asStackY_44 + iVar11 + iVar3) = 0x45425a;
    pvVar7 = malloc(*(size_t *)((int)asStackY_44 + iVar11 + iVar3 + 4));
    param_1[6] = pvVar7;
    iVar13 = 0;
    iVar8 = 0;
    if (0 < (int)param_2[1]) {
      do {
        if (0 < *(int *)(param_2[2] + iVar13 * 4)) {
          *(int *)(param_1[6] + local_10[iVar8] * 4) = iVar13;
          iVar8 = iVar8 + 1;
        }
        iVar13 = iVar13 + 1;
      } while (iVar13 < (int)param_2[1]);
    }
    *(int *)(&stack0xffffffd0 + iVar11 + iVar3) = iVar8;
    *(undefined4 *)(&stack0xffffffcc + iVar11 + iVar3) = 0x45428b;
    pvVar7 = malloc(*(size_t *)(&stack0xffffffd0 + iVar11 + iVar3));
    iVar13 = 0;
    param_1[7] = pvVar7;
    local_c = (uint *)0x0;
    if (0 < (int)param_2[1]) {
      do {
        if (0 < *(int *)(param_2[2] + iVar13 * 4)) {
          piVar9 = local_10 + (int)local_c;
          local_c = (uint *)((int)local_c + 1);
          *(undefined *)(*piVar9 + param_1[7]) = *(undefined *)(param_2[2] + iVar13 * 4);
        }
        iVar13 = iVar13 + 1;
      } while (iVar13 < (int)param_2[1]);
    }
    *(undefined4 *)(&stack0xffffffd0 + iVar11 + iVar3) = param_1[2];
    *(undefined4 *)(&stack0xffffffcc + iVar11 + iVar3) = 0x4542ca;
    iVar13 = FUN_004537f0(*(uint *)(&stack0xffffffd0 + iVar11 + iVar3));
    param_1[9] = iVar13 + -4;
    if (iVar13 + -4 < 5) {
      param_1[9] = 5;
    }
    if (8 < (int)param_1[9]) {
      param_1[9] = 8;
    }
    local_14 = (undefined *)(1 << ((byte)param_1[9] & 0x1f));
    *(undefined4 *)(&stack0xffffffd0 + iVar11 + iVar3) = 4;
    *(undefined **)(&stack0xffffffcc + iVar11 + iVar3) = local_14;
    *(undefined4 *)(&stack0xffffffc8 + iVar11 + iVar3) = 0x454301;
    pvVar7 = calloc(*(size_t *)(&stack0xffffffcc + iVar11 + iVar3),
                    *(size_t *)(&stack0xffffffd0 + iVar11 + iVar3));
    iVar8 = 0;
    param_1[8] = pvVar7;
    param_1[10] = 0;
    iVar13 = (int)local_c;
    if (0 < (int)local_c) {
      do {
        iVar13 = (int)*(char *)(param_1[7] + iVar8);
        if ((int)param_1[10] < iVar13) {
          param_1[10] = iVar13;
        }
        cVar2 = *(char *)(param_1[7] + iVar8);
        if ((int)cVar2 <= (int)param_1[9]) {
          uVar6 = *(uint *)(param_1[5] + iVar8 * 4);
          *(undefined4 *)(&stack0xffffffd0 + iVar11 + iVar3) = 0x45433a;
          uVar6 = FUN_00454710(uVar6);
          iVar13 = 0;
          if (0 < 1 << ((char)param_1[9] - cVar2 & 0x1fU)) {
            do {
              uVar12 = iVar13 << (*(byte *)(iVar8 + param_1[7]) & 0x1f);
              iVar13 = iVar13 + 1;
              *(int *)(param_1[8] + (uVar12 | uVar6) * 4) = iVar8 + 1;
            } while (iVar13 < 1 << ((char)param_1[9] - *(char *)(param_1[7] + iVar8) & 0x1fU));
          }
        }
        iVar8 = iVar8 + 1;
        iVar13 = (int)local_c;
      } while (iVar8 < (int)local_c);
    }
    local_1c = (undefined *)(-2 << (0x1fU - (char)param_1[9] & 0x1f));
    local_10 = (int *)0x0;
    local_c = (uint *)0x0;
    local_18 = 0;
    if (0 < (int)local_14) {
      do {
        uVar12 = local_18 << (0x20U - (char)param_1[9] & 0x1f);
        *(undefined4 *)(&stack0xffffffd0 + iVar11 + iVar3) = 0x4543c0;
        uVar6 = FUN_00454710(uVar12);
        if (*(int *)(param_1[8] + uVar6 * 4) == 0) {
          iVar8 = (int)local_10 + 1;
          if (iVar8 < iVar13) {
            puVar5 = (uint *)(param_1[5] + 4 + (int)local_10 * 4);
            do {
              if (uVar12 <= *puVar5 && *puVar5 != uVar12) break;
              iVar8 = iVar8 + 1;
              local_10 = (int *)((int)local_10 + 1);
              puVar5 = puVar5 + 1;
            } while (iVar8 < iVar13);
          }
          if ((int)local_c < iVar13) {
            puVar5 = (uint *)(param_1[5] + (int)local_c * 4);
            do {
              if (uVar12 < (*puVar5 & (uint)local_1c)) break;
              local_c = (uint *)((int)local_c + 1);
              puVar5 = puVar5 + 1;
            } while ((int)local_c < iVar13);
          }
          uVar10 = iVar13 - (int)local_c;
          uVar12 = (uint)local_10;
          if (0x7fff < local_10) {
            uVar12 = 0x7fff;
          }
          if (0x7fff < uVar10) {
            uVar10 = 0x7fff;
          }
          *(uint *)(param_1[8] + uVar6 * 4) = (uVar12 | 0xffff0000) << 0xf | uVar10;
        }
        local_18 = local_18 + 1;
      } while (local_18 < (int)local_14);
    }
  }
  ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



undefined4 __cdecl FUN_00454480(int *param_1,uint *param_2)

{
  uint uVar1;
  void *pvVar2;
  int iVar3;
  uint uVar4;
  int iVar5;
  
  memset(param_2,0,0x34);
  param_2[0xc] = 1;
  uVar1 = FUN_0044f700(param_1,0x18);
  if (uVar1 == 0x564342) {
    uVar1 = FUN_0044f700(param_1,0x10);
    *param_2 = uVar1;
    uVar1 = FUN_0044f700(param_1,0x18);
    param_2[1] = uVar1;
    if (uVar1 != 0xffffffff) {
      uVar1 = FUN_0044f700(param_1,1);
      if (uVar1 == 0) {
        pvVar2 = malloc(param_2[1] * 4);
        param_2[2] = (uint)pvVar2;
        uVar1 = FUN_0044f700(param_1,1);
        iVar5 = 0;
        if (uVar1 == 0) {
          if (0 < (int)param_2[1]) {
            do {
              uVar1 = FUN_0044f700(param_1,5);
              if (uVar1 == 0xffffffff) goto LAB_0045469f;
              *(uint *)(param_2[2] + iVar5 * 4) = uVar1 + 1;
              iVar5 = iVar5 + 1;
            } while (iVar5 < (int)param_2[1]);
          }
        }
        else if (0 < (int)param_2[1]) {
          do {
            uVar1 = FUN_0044f700(param_1,1);
            if (uVar1 == 0) {
              *(undefined4 *)(param_2[2] + iVar5 * 4) = 0;
            }
            else {
              uVar1 = FUN_0044f700(param_1,5);
              if (uVar1 == 0xffffffff) goto LAB_0045469f;
              *(uint *)(param_2[2] + iVar5 * 4) = uVar1 + 1;
            }
            iVar5 = iVar5 + 1;
          } while (iVar5 < (int)param_2[1]);
        }
      }
      else {
        if (uVar1 != 1) {
          return 0xffffffff;
        }
        uVar1 = FUN_0044f700(param_1,5);
        pvVar2 = malloc(param_2[1] * 4);
        iVar5 = 0;
        param_2[2] = (uint)pvVar2;
        if (0 < (int)param_2[1]) {
          do {
            uVar1 = uVar1 + 1;
            iVar3 = FUN_004537f0(param_2[1] - iVar5);
            uVar4 = FUN_0044f700(param_1,iVar3);
            if (uVar4 == 0xffffffff) goto LAB_0045469f;
            iVar3 = 0;
            if (0 < (int)uVar4) {
              do {
                if ((int)param_2[1] <= iVar5) break;
                *(uint *)(param_2[2] + iVar5 * 4) = uVar1;
                iVar3 = iVar3 + 1;
                iVar5 = iVar5 + 1;
              } while (iVar3 < (int)uVar4);
            }
          } while (iVar5 < (int)param_2[1]);
        }
      }
      uVar1 = FUN_0044f700(param_1,4);
      param_2[3] = uVar1;
      if (uVar1 == 0) {
        return 0;
      }
      if (uVar1 - 1 < 2) {
        uVar1 = FUN_0044f700(param_1,0x20);
        param_2[4] = uVar1;
        uVar1 = FUN_0044f700(param_1,0x20);
        param_2[5] = uVar1;
        uVar1 = FUN_0044f700(param_1,4);
        param_2[6] = uVar1 + 1;
        uVar1 = FUN_0044f700(param_1,1);
        param_2[7] = uVar1;
        iVar5 = 0;
        if (param_2[3] == 1) {
          iVar5 = FUN_004539c0((int *)param_2);
        }
        else if (param_2[3] == 2) {
          iVar5 = *param_2 * param_2[1];
        }
        pvVar2 = malloc(iVar5 * 4);
        iVar3 = 0;
        param_2[8] = (uint)pvVar2;
        if (0 < iVar5) {
          do {
            uVar1 = FUN_0044f700(param_1,param_2[6]);
            *(uint *)(param_2[8] + iVar3 * 4) = uVar1;
            iVar3 = iVar3 + 1;
          } while (iVar3 < iVar5);
        }
        if (iVar5 == 0) {
          return 0;
        }
        if (*(int *)((param_2[8] - 4) + iVar5 * 4) != -1) {
          return 0;
        }
      }
    }
  }
LAB_0045469f:
  FUN_00453f20(param_2);
  return 0xffffffff;
}



undefined4 __cdecl FUN_004546c0(int param_1,int param_2,int *param_3)

{
  if (-1 < param_2) {
    if (param_2 < *(int *)(*(int *)(param_1 + 0xc) + 4)) {
      FUN_0044f500(param_3,*(uint *)(*(int *)(param_1 + 0x14) + param_2 * 4),
                   *(int *)(*(int *)(*(int *)(param_1 + 0xc) + 8) + param_2 * 4));
      return *(undefined4 *)(*(int *)(*(int *)(param_1 + 0xc) + 8) + param_2 * 4);
    }
  }
  return 0;
}



uint __fastcall FUN_00454710(uint param_1)

{
  uint uVar1;
  
  uVar1 = param_1 << 0x10 | param_1 >> 0x10;
  uVar1 = (uVar1 >> 8 ^ uVar1 << 8) & 0xff00ff ^ uVar1 << 8;
  uVar1 = (uVar1 >> 4 ^ uVar1 << 4) & 0xf0f0f0f ^ uVar1 << 4;
  uVar1 = (uVar1 >> 2 ^ uVar1 * 4) & 0x33333333 ^ uVar1 * 4;
  return (uVar1 >> 1 ^ uVar1 * 2) & 0x55555555 ^ uVar1 * 2;
}



uint __cdecl FUN_00454770(int param_1,int *param_2)

{
  uint uVar1;
  uint uVar2;
  uint uVar3;
  int iVar4;
  uint uVar5;
  int iVar6;
  int iVar7;
  
  iVar6 = *(int *)(param_1 + 0x28);
  uVar2 = FUN_0044f630(param_2,*(int *)(param_1 + 0x24));
  if ((int)uVar2 < 0) {
    iVar7 = *(int *)(param_1 + 8);
    uVar2 = 0;
  }
  else {
    uVar3 = *(uint *)(*(int *)(param_1 + 0x20) + uVar2 * 4);
    if (-1 < (int)uVar3) {
      FUN_0044f6d0(param_2,(int)*(char *)(*(int *)(param_1 + 0x1c) + -1 + uVar3));
      return uVar3 - 1;
    }
    uVar2 = (int)uVar3 >> 0xf & 0x7fff;
    iVar7 = *(int *)(param_1 + 8) - (uVar3 & 0x7fff);
  }
  uVar3 = FUN_0044f630(param_2,iVar6);
  do {
    if (-1 < (int)uVar3) {
LAB_004547ff:
      uVar3 = FUN_00454710(uVar3);
      iVar4 = iVar7 - uVar2;
      if (1 < iVar4) {
        do {
          uVar5 = iVar4 >> 1;
          uVar1 = (uint)(uVar3 < *(uint *)(*(int *)(param_1 + 0x14) + (uVar5 + uVar2) * 4));
          iVar7 = iVar7 - (-uVar1 & uVar5);
          uVar2 = uVar2 + (uVar1 - 1 & uVar5);
          iVar4 = iVar7 - uVar2;
        } while (1 < iVar4);
      }
      iVar7 = (int)*(char *)(*(int *)(param_1 + 0x1c) + uVar2);
      if (iVar6 < iVar7) {
        FUN_0044f6d0(param_2,iVar6);
        return 0xffffffff;
      }
      FUN_0044f6d0(param_2,iVar7);
      return uVar2;
    }
    if (iVar6 < 2) {
      if ((int)uVar3 < 0) {
        return 0xffffffff;
      }
      goto LAB_004547ff;
    }
    iVar6 = iVar6 + -1;
    uVar3 = FUN_0044f630(param_2,iVar6);
  } while( true );
}



undefined4 __cdecl FUN_00454880(int param_1,int *param_2)

{
  uint uVar1;
  
  if (0 < *(int *)(param_1 + 8)) {
    uVar1 = FUN_00454770(param_1,param_2);
    if (-1 < (int)uVar1) {
      return *(undefined4 *)(*(int *)(param_1 + 0x18) + uVar1 * 4);
    }
  }
  return 0xffffffff;
}



// WARNING: Function: __alloca_probe_16 replaced with injection: alloca_probe
// WARNING: Unable to track spacebase fully for stack

void __cdecl FUN_004548b0(int *param_1,float *param_2,undefined4 param_3,int param_4)

{
  int iVar1;
  int iVar2;
  uint uVar3;
  float *pfVar4;
  int *piVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  int *apiStack_34 [3];
  int local_1c;
  undefined *local_18;
  int local_14;
  int local_10;
  float *local_c;
  uint local_8;
  
  local_8 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  if (0 < param_1[2]) {
    iVar2 = param_4 / *param_1;
    apiStack_34[2] = (int *)0x4548e9;
    local_c = (float *)(&stack0xffffffd8 + iVar2 * -4);
    local_18 = &stack0xffffffd8 + iVar2 * -8;
    piVar5 = (int *)(&stack0xffffffd8 + iVar2 * -8);
    local_1c = iVar2;
    apiStack_34[2 - iVar2] = (int *)0x4548f3;
    local_10 = 0;
    if (0 < iVar2) {
      local_c = (float *)((int)local_c - (int)(&stack0xffffffd8 + iVar2 * -8));
      local_18 = &stack0xffffffd8 + iVar2 * -8;
      do {
        apiStack_34[iVar2 * -2 + 2] = (int *)param_3;
        apiStack_34[iVar2 * -2 + 1] = param_1;
        apiStack_34[iVar2 * -2] = (int *)0x45491a;
        uVar3 = FUN_00454770((int)apiStack_34[iVar2 * -2 + 1],apiStack_34[iVar2 * -2 + 2]);
        *(uint *)((int)local_c + (int)piVar5) = uVar3;
        if (uVar3 == 0xffffffff) {
          ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
          return;
        }
        local_10 = local_10 + 1;
        *piVar5 = param_1[4] + *param_1 * uVar3 * 4;
        piVar5 = piVar5 + 1;
      } while (local_10 < iVar2);
    }
    iVar6 = 0;
    local_10 = 0;
    local_14 = 0;
    if (0 < *param_1) {
      local_c = param_2;
      do {
        iVar7 = 0;
        if (3 < iVar2) {
          iVar8 = (iVar2 - 4U >> 2) + 1;
          iVar7 = iVar8 * 4;
          pfVar4 = local_c;
          piVar5 = (int *)(local_18 + 8);
          do {
            iVar2 = piVar5[-1];
            iVar8 = iVar8 + -1;
            *pfVar4 = *(float *)(piVar5[-2] + iVar6) + *pfVar4;
            iVar1 = *piVar5;
            pfVar4[1] = *(float *)(iVar2 + iVar6) + pfVar4[1];
            iVar2 = piVar5[1];
            pfVar4[2] = *(float *)(iVar6 + iVar1) + pfVar4[2];
            pfVar4[3] = *(float *)(iVar2 + iVar6) + pfVar4[3];
            pfVar4 = pfVar4 + 4;
            piVar5 = piVar5 + 4;
            iVar2 = local_1c;
          } while (iVar8 != 0);
        }
        if (iVar7 < iVar2) {
          pfVar4 = param_2 + iVar7 + local_14;
          do {
            iVar8 = iVar7 * 4;
            iVar7 = iVar7 + 1;
            *pfVar4 = *(float *)(*(int *)(local_18 + iVar8) + iVar6) + *pfVar4;
            pfVar4 = pfVar4 + 1;
          } while (iVar7 < iVar2);
        }
        local_14 = local_14 + iVar2;
        local_10 = local_10 + 1;
        local_c = local_c + iVar2;
        iVar6 = iVar6 + 4;
      } while (local_10 < *param_1);
    }
  }
  ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



undefined4 __cdecl FUN_00454a40(int *param_1,int param_2,int *param_3,int param_4)

{
  int iVar1;
  int iVar2;
  float *pfVar3;
  float *pfVar4;
  int iVar5;
  uint uVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  
  if (0 < param_1[2]) {
    iVar9 = 0;
    if (*param_1 < 9) {
      if (0 < param_4) {
        do {
          uVar6 = FUN_00454770((int)param_1,param_3);
          if (uVar6 == 0xffffffff) {
            return 0xffffffff;
          }
          pfVar3 = (float *)(param_1[4] + *param_1 * uVar6 * 4);
          iVar8 = 0;
          switch(*param_1) {
          case 8:
            iVar8 = 1;
            iVar5 = iVar9 * 4;
            iVar9 = iVar9 + 1;
            *(float *)(param_2 + -4 + iVar9 * 4) = *pfVar3 + *(float *)(param_2 + iVar5);
          case 7:
            pfVar4 = pfVar3 + iVar8;
            iVar8 = iVar8 + 1;
            iVar5 = iVar9 * 4;
            iVar9 = iVar9 + 1;
            *(float *)(param_2 + -4 + iVar9 * 4) = *pfVar4 + *(float *)(param_2 + iVar5);
          case 6:
            pfVar4 = pfVar3 + iVar8;
            iVar8 = iVar8 + 1;
            iVar5 = iVar9 * 4;
            iVar9 = iVar9 + 1;
            *(float *)(param_2 + -4 + iVar9 * 4) = *pfVar4 + *(float *)(param_2 + iVar5);
          case 5:
            pfVar4 = pfVar3 + iVar8;
            iVar8 = iVar8 + 1;
            iVar5 = iVar9 * 4;
            iVar9 = iVar9 + 1;
            *(float *)(param_2 + -4 + iVar9 * 4) = *pfVar4 + *(float *)(param_2 + iVar5);
          case 4:
            pfVar4 = pfVar3 + iVar8;
            iVar8 = iVar8 + 1;
            iVar5 = iVar9 * 4;
            iVar9 = iVar9 + 1;
            *(float *)(param_2 + -4 + iVar9 * 4) = *pfVar4 + *(float *)(param_2 + iVar5);
          case 3:
            pfVar4 = pfVar3 + iVar8;
            iVar8 = iVar8 + 1;
            iVar5 = iVar9 * 4;
            iVar9 = iVar9 + 1;
            *(float *)(param_2 + -4 + iVar9 * 4) = *pfVar4 + *(float *)(param_2 + iVar5);
          case 2:
            pfVar4 = pfVar3 + iVar8;
            iVar8 = iVar8 + 1;
            iVar5 = iVar9 * 4;
            iVar9 = iVar9 + 1;
            *(float *)(param_2 + -4 + iVar9 * 4) = *pfVar4 + *(float *)(param_2 + iVar5);
          case 1:
            iVar9 = iVar9 + 1;
            *(float *)(param_2 + -4 + iVar9 * 4) =
                 pfVar3[iVar8] + *(float *)(param_2 + -4 + iVar9 * 4);
          }
        } while (iVar9 < param_4);
      }
    }
    else if (0 < param_4) {
      do {
        uVar6 = FUN_00454770((int)param_1,param_3);
        if (uVar6 == 0xffffffff) {
          return 0xffffffff;
        }
        iVar8 = *param_1;
        iVar5 = param_1[4];
        iVar7 = 0;
        if (0 < iVar8) {
          do {
            iVar1 = iVar7 * 4;
            iVar7 = iVar7 + 1;
            iVar2 = iVar9 * 4;
            iVar9 = iVar9 + 1;
            *(float *)(param_2 + -4 + iVar9 * 4) =
                 *(float *)(iVar5 + iVar8 * uVar6 * 4 + iVar1) + *(float *)(param_2 + iVar2);
          } while (iVar7 < *param_1);
        }
      } while (iVar9 < param_4);
      return 0;
    }
  }
  return 0;
}



undefined4 __cdecl FUN_00454b90(int *param_1,int param_2,int *param_3,int param_4)

{
  int iVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  int iVar5;
  int iVar6;
  
  if (param_1[2] < 1) {
    iVar6 = 0;
    if (0 < param_4) {
      iVar2 = *param_1;
      do {
        while (0 < iVar2) {
          *(undefined4 *)(param_2 + iVar6 * 4) = 0;
          iVar6 = iVar6 + 1;
          iVar2 = *param_1;
        }
      } while (iVar6 < param_4);
    }
  }
  else if (0 < param_4) {
    iVar6 = 0;
    do {
      uVar4 = FUN_00454770((int)param_1,param_3);
      if (uVar4 == 0xffffffff) {
        return 0xffffffff;
      }
      iVar2 = *param_1;
      iVar3 = param_1[4];
      iVar5 = 0;
      if (0 < iVar2) {
        do {
          iVar1 = iVar5 * 4;
          iVar5 = iVar5 + 1;
          *(undefined4 *)(param_2 + iVar6 * 4) = *(undefined4 *)(iVar3 + iVar2 * uVar4 * 4 + iVar1);
          iVar6 = iVar6 + 1;
        } while (iVar5 < *param_1);
      }
    } while (iVar6 < param_4);
    return 0;
  }
  return 0;
}



undefined4 __cdecl
FUN_00454c20(int *param_1,int param_2,int param_3,int param_4,int *param_5,int param_6)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  uint uVar5;
  int iVar6;
  int iVar7;
  
  iVar7 = 0;
  if (0 < param_1[2]) {
    iVar4 = param_3 / param_4;
    while (iVar4 < (param_6 + param_3) / param_4) {
      uVar5 = FUN_00454770((int)param_1,param_5);
      if (uVar5 == 0xffffffff) {
        return 0xffffffff;
      }
      iVar1 = *param_1;
      iVar2 = param_1[4];
      iVar6 = 0;
      if (0 < iVar1) {
        do {
          iVar3 = *(int *)(param_2 + iVar7 * 4);
          iVar7 = iVar7 + 1;
          *(float *)(iVar3 + iVar4 * 4) =
               *(float *)(iVar2 + iVar1 * uVar5 * 4 + iVar6 * 4) + *(float *)(iVar3 + iVar4 * 4);
          if (iVar7 == param_4) {
            iVar7 = 0;
            iVar4 = iVar4 + 1;
          }
          iVar6 = iVar6 + 1;
        } while (iVar6 < *param_1);
      }
    }
  }
  return 0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl FUN_00454cc0(int param_1,int param_2,int *param_3)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  int *piVar4;
  int iVar5;
  float *pfVar6;
  int iVar7;
  int iVar8;
  float10 fVar9;
  int local_20;
  int local_1c;
  int *local_18;
  int local_10;
  int local_c;
  
  iVar5 = 0;
  iVar3 = -1;
  iVar7 = 0;
  iVar8 = param_1;
  do {
    do {
      iVar3 = iVar3 + 1;
      if (iVar3 < 4) {
        iVar5 = *(int *)(&DAT_00472010 + iVar3 * 4);
      }
      else {
        iVar5 = iVar5 + 2;
      }
    } while (iVar8 != (iVar8 / iVar5) * iVar5);
    iVar2 = iVar8 / iVar5;
    piVar4 = param_3 + iVar7;
    local_c = iVar7;
    do {
      iVar8 = iVar2;
      iVar7 = local_c + 1;
      piVar4[2] = iVar5;
      if ((iVar5 == 2) && (iVar7 != 1)) {
        piVar1 = piVar4 + 1;
        iVar2 = local_c;
        if (1 < iVar7) {
          do {
            piVar1[1] = *piVar1;
            iVar2 = iVar2 + -1;
            piVar1 = piVar1 + -1;
          } while (iVar2 != 0);
        }
        param_3[2] = 2;
      }
      if (iVar8 == 1) {
        param_3[1] = iVar7;
        *param_3 = param_1;
        local_20 = 0;
        local_1c = 1;
        if ((local_c != 0) && (0 < local_c)) {
          local_18 = param_3 + 2;
          do {
            local_1c = *local_18 * local_1c;
            iVar5 = param_1 / local_1c;
            local_10 = *local_18 + -1;
            if (0 < local_10) {
              do {
                if (2 < iVar5) {
                  pfVar6 = (float *)(param_2 + local_20 * 4);
                  iVar8 = (iVar5 - 3U >> 1) + 1;
                  do {
                    fVar9 = (float10)_CIcos();
                    *pfVar6 = (float)fVar9;
                    fVar9 = (float10)_CIsin();
                    pfVar6[1] = (float)fVar9;
                    pfVar6 = pfVar6 + 2;
                    iVar8 = iVar8 + -1;
                  } while (iVar8 != 0);
                }
                local_20 = local_20 + iVar5;
                local_10 = local_10 + -1;
              } while (local_10 != 0);
            }
            local_18 = local_18 + 1;
            local_c = local_c + -1;
          } while (local_c != 0);
        }
        return;
      }
      iVar2 = iVar8 / iVar5;
      piVar4 = piVar4 + 1;
      local_c = iVar7;
    } while (iVar8 == (iVar8 / iVar5) * iVar5);
  } while( true );
}



void __fastcall FUN_00454e70(int *param_1,int param_2)

{
  int in_EAX;
  
  if (in_EAX != 1) {
    FUN_00454cc0(in_EAX,param_2 + in_EAX * 4,param_1);
  }
  return;
}



void __thiscall FUN_00454e90(void *this,int param_1,int param_2)

{
  float fVar1;
  float fVar2;
  float *in_EAX;
  float *pfVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  float *pfVar7;
  uint uVar8;
  void *pvVar9;
  float *pfVar10;
  float *pfVar11;
  int iVar12;
  int iVar13;
  int iVar14;
  float *pfVar15;
  float *pfVar16;
  float *unaff_EDI;
  float *local_2c;
  float *local_28;
  float *local_24;
  float *local_20;
  float *local_1c;
  int local_14;
  int local_10;
  int local_c;
  
  iVar13 = (int)this * param_1;
  iVar4 = 0;
  local_2c = (float *)0x0;
  iVar6 = iVar13;
  if (3 < param_1) {
    iVar12 = (param_1 - 4U >> 2) + 1;
    local_2c = (float *)(iVar12 * 4);
    pfVar11 = unaff_EDI + (int)this * 2 + -1;
    do {
      unaff_EDI[iVar4 * 2] = in_EAX[iVar4] + in_EAX[iVar6];
      iVar5 = iVar4 + (int)this;
      iVar14 = iVar6 + (int)this;
      *pfVar11 = in_EAX[iVar4] - in_EAX[iVar6];
      pfVar11 = pfVar11 + (int)this * 2;
      unaff_EDI[iVar5 * 2] = in_EAX[iVar5] + in_EAX[iVar14];
      iVar6 = iVar5 + (int)this;
      iVar4 = iVar14 + (int)this;
      *pfVar11 = in_EAX[iVar5] - in_EAX[iVar14];
      pfVar11 = pfVar11 + (int)this * 2;
      unaff_EDI[iVar6 * 2] = in_EAX[iVar6] + in_EAX[iVar4];
      iVar5 = iVar6 + (int)this;
      iVar14 = iVar4 + (int)this;
      *pfVar11 = in_EAX[iVar6] - in_EAX[iVar4];
      unaff_EDI[iVar5 * 2] = in_EAX[iVar5] + in_EAX[iVar14];
      iVar4 = iVar5 + (int)this;
      iVar6 = iVar14 + (int)this;
      pfVar11[(int)this * 2] = in_EAX[iVar5] - in_EAX[iVar14];
      pfVar11 = pfVar11 + (int)this * 2 + (int)this * 2;
      iVar12 = iVar12 + -1;
    } while (iVar12 != 0);
  }
  if ((int)local_2c < param_1) {
    pfVar11 = unaff_EDI + iVar4 * 2;
    pfVar3 = in_EAX + iVar4;
    local_28 = unaff_EDI + (int)this * 2 + iVar4 * 2 + -1;
    local_1c = (float *)(param_1 - (int)local_2c);
    pfVar10 = in_EAX + iVar6;
    do {
      *pfVar11 = *pfVar3 + *pfVar10;
      *local_28 = *pfVar3 - *pfVar10;
      local_28 = local_28 + (int)this * 2;
      pfVar11 = pfVar11 + (int)this * 2;
      pfVar3 = pfVar3 + (int)this;
      pfVar10 = pfVar10 + (int)this;
      local_1c = (float *)((int)local_1c + -1);
    } while (local_1c != (float *)0x0);
  }
  if (1 < (int)this) {
    if (this != (void *)0x2) {
      if (0 < param_1) {
        local_1c = in_EAX + iVar13;
        local_24 = unaff_EDI + (int)this * 2;
        local_10 = param_1;
        local_20 = in_EAX;
        pfVar11 = unaff_EDI;
        do {
          if (2 < (int)this) {
            local_2c = local_24;
            local_14 = ((int)this - 3U >> 1) + 1;
            pfVar3 = local_1c;
            pfVar10 = (float *)(param_2 + 4);
            pfVar15 = local_20;
            local_28 = pfVar11;
            do {
              pfVar7 = pfVar3 + 2;
              pfVar16 = pfVar15 + 2;
              fVar1 = pfVar3[1] * pfVar10[-1] + *pfVar10 * *pfVar7;
              local_14 = local_14 + -1;
              fVar2 = pfVar10[-1] * *pfVar7 - pfVar3[1] * *pfVar10;
              local_28[2] = fVar2 + *pfVar16;
              local_2c[-2] = fVar2 - *pfVar16;
              local_28[1] = fVar1 + pfVar15[1];
              local_2c[-3] = pfVar15[1] - fVar1;
              pfVar3 = pfVar7;
              pfVar10 = pfVar10 + 2;
              pfVar15 = pfVar16;
              local_2c = local_2c + -2;
              local_28 = local_28 + 2;
            } while (local_14 != 0);
          }
          local_24 = local_24 + (int)this * 2;
          pfVar11 = pfVar11 + (int)this * 2;
          local_20 = local_20 + (int)this;
          local_1c = local_1c + (int)this;
          local_10 = local_10 + -1;
        } while (local_10 != 0);
      }
      uVar8 = (uint)this & 0x80000001;
      if ((int)uVar8 < 0) {
        uVar8 = (uVar8 - 1 | 0xfffffffe) + 1;
      }
      if (uVar8 == 1) {
        return;
      }
    }
    iVar6 = (int)this + -1;
    iVar13 = iVar6 + iVar13;
    local_2c = (float *)0x0;
    pvVar9 = this;
    if (3 < param_1) {
      local_c = (param_1 - 4U >> 2) + 1;
      local_2c = (float *)(local_c * 4);
      do {
        iVar4 = (int)this * 2;
        unaff_EDI[(int)pvVar9] = -in_EAX[iVar13];
        unaff_EDI[(int)pvVar9 + -1] = in_EAX[iVar6];
        pvVar9 = (void *)((int)pvVar9 + iVar4);
        iVar12 = iVar13 + (int)this + (int)this;
        unaff_EDI[(int)pvVar9] = -in_EAX[iVar13 + (int)this];
        iVar13 = iVar6 + (int)this + (int)this;
        unaff_EDI[(int)pvVar9 + -1] = in_EAX[iVar6 + (int)this];
        pvVar9 = (void *)((int)pvVar9 + iVar4);
        iVar6 = iVar12 + (int)this;
        unaff_EDI[(int)pvVar9] = -in_EAX[iVar12];
        iVar12 = iVar13 + (int)this;
        unaff_EDI[(int)pvVar9 + -1] = in_EAX[iVar13];
        pvVar9 = (void *)((int)pvVar9 + iVar4);
        iVar13 = iVar6 + (int)this;
        unaff_EDI[(int)pvVar9] = -in_EAX[iVar6];
        iVar6 = iVar12 + (int)this;
        unaff_EDI[(int)pvVar9 + -1] = in_EAX[iVar12];
        pvVar9 = (void *)((int)pvVar9 + iVar4);
        local_c = local_c + -1;
      } while (local_c != 0);
    }
    if ((int)local_2c < param_1) {
      pfVar11 = in_EAX + iVar6;
      pfVar3 = in_EAX + iVar13;
      iVar6 = param_1 - (int)local_2c;
      pfVar10 = unaff_EDI + (int)pvVar9;
      do {
        fVar1 = *pfVar3;
        pfVar3 = pfVar3 + (int)this;
        *pfVar10 = -fVar1;
        fVar1 = *pfVar11;
        pfVar11 = pfVar11 + (int)this;
        pfVar10[-1] = fVar1;
        pfVar10 = pfVar10 + (int)this * 2;
        iVar6 = iVar6 + -1;
      } while (iVar6 != 0);
    }
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __fastcall
FUN_004551c0(uint param_1,float *param_2,int param_3,int param_4,int param_5,float *param_6)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  float fVar6;
  float fVar7;
  float fVar8;
  int in_EAX;
  float *pfVar9;
  float *pfVar10;
  float *pfVar11;
  int iVar12;
  int iVar13;
  int iVar14;
  int iVar15;
  int iVar16;
  int iVar17;
  float *pfVar18;
  int iVar19;
  int iVar20;
  int iVar21;
  float *pfVar22;
  uint uVar23;
  float *local_68;
  float *local_60;
  float *local_5c;
  float *local_54;
  float *local_50;
  float *local_48;
  float *local_44;
  int local_40;
  float *local_30;
  int local_2c;
  int local_28;
  int local_24;
  
  iVar14 = param_1 * param_3;
  local_60 = (float *)(iVar14 * 2);
  iVar15 = 0;
  local_68 = (float *)(iVar14 * 3);
  local_48 = (float *)0x0;
  iVar13 = iVar14;
  if (3 < param_3) {
    local_40 = (param_3 - 4U >> 2) + 1;
    local_48 = (float *)(local_40 * 4);
    do {
      fVar1 = *(float *)(in_EAX + iVar13 * 4) + *(float *)(in_EAX + (int)local_68 * 4);
      fVar2 = *(float *)(in_EAX + (int)local_60 * 4) + *(float *)(in_EAX + iVar15 * 4);
      param_2[iVar15 * 4] = fVar1 + fVar2;
      param_2[iVar15 * 4 + param_1 * 4 + -1] = fVar2 - fVar1;
      iVar12 = iVar15 * 4 + param_1 * 2;
      iVar16 = iVar15 + param_1;
      param_2[iVar12 + -1] =
           *(float *)(in_EAX + iVar15 * 4) - *(float *)(in_EAX + (int)local_60 * 4);
      iVar15 = (int)local_68 + param_1;
      iVar19 = iVar13 + param_1;
      param_2[iVar12] = *(float *)(in_EAX + (int)local_68 * 4) - *(float *)(in_EAX + iVar13 * 4);
      iVar12 = (int)local_60 + param_1;
      fVar1 = *(float *)(in_EAX + iVar19 * 4) + *(float *)(in_EAX + iVar15 * 4);
      fVar2 = *(float *)(in_EAX + iVar12 * 4) + *(float *)(in_EAX + iVar16 * 4);
      param_2[iVar16 * 4] = fVar1 + fVar2;
      param_2[iVar16 * 4 + param_1 * 4 + -1] = fVar2 - fVar1;
      iVar13 = iVar16 * 4 + param_1 * 2;
      iVar17 = iVar16 + param_1;
      param_2[iVar13 + -1] = *(float *)(in_EAX + iVar16 * 4) - *(float *)(in_EAX + iVar12 * 4);
      iVar16 = iVar15 + param_1;
      iVar20 = iVar19 + param_1;
      param_2[iVar13] = *(float *)(in_EAX + iVar15 * 4) - *(float *)(in_EAX + iVar19 * 4);
      iVar12 = iVar12 + param_1;
      fVar1 = *(float *)(in_EAX + iVar20 * 4) + *(float *)(in_EAX + iVar16 * 4);
      fVar2 = *(float *)(in_EAX + iVar12 * 4) + *(float *)(in_EAX + iVar17 * 4);
      param_2[iVar17 * 4] = fVar1 + fVar2;
      param_2[iVar17 * 4 + param_1 * 4 + -1] = fVar2 - fVar1;
      iVar13 = iVar17 * 4 + param_1 * 2;
      iVar19 = iVar17 + param_1;
      param_2[iVar13 + -1] = *(float *)(in_EAX + iVar17 * 4) - *(float *)(in_EAX + iVar12 * 4);
      iVar17 = iVar16 + param_1;
      iVar21 = iVar20 + param_1;
      param_2[iVar13] = *(float *)(in_EAX + iVar16 * 4) - *(float *)(in_EAX + iVar20 * 4);
      iVar12 = iVar12 + param_1;
      fVar1 = *(float *)(in_EAX + iVar21 * 4) + *(float *)(in_EAX + iVar17 * 4);
      fVar2 = *(float *)(in_EAX + iVar12 * 4) + *(float *)(in_EAX + iVar19 * 4);
      param_2[iVar19 * 4] = fVar1 + fVar2;
      param_2[iVar19 * 4 + param_1 * 4 + -1] = fVar2 - fVar1;
      iVar16 = iVar19 * 4 + param_1 * 2;
      local_60 = (float *)(iVar12 + param_1);
      iVar15 = iVar19 + param_1;
      param_2[iVar16 + -1] = *(float *)(in_EAX + iVar19 * 4) - *(float *)(in_EAX + iVar12 * 4);
      local_68 = (float *)(iVar17 + param_1);
      iVar13 = iVar21 + param_1;
      local_40 = local_40 + -1;
      param_2[iVar16] = *(float *)(in_EAX + iVar17 * 4) - *(float *)(in_EAX + iVar21 * 4);
    } while (local_40 != 0);
  }
  if ((int)local_48 < param_3) {
    local_50 = (float *)(in_EAX + (int)local_60 * 4);
    local_48 = (float *)(param_3 - (int)local_48);
    pfVar22 = (float *)(in_EAX + iVar13 * 4);
    local_44 = (float *)(in_EAX + (int)local_68 * 4);
    do {
      fVar1 = *local_44;
      fVar2 = *pfVar22;
      fVar3 = *(float *)(in_EAX + iVar15 * 4) + *local_50;
      param_2[iVar15 * 4] = fVar1 + fVar2 + fVar3;
      param_2[iVar15 * 4 + param_1 * 4 + -1] = fVar3 - (fVar1 + fVar2);
      iVar13 = iVar15 * 4 + param_1 * 2;
      fVar1 = *local_50;
      local_50 = local_50 + param_1;
      param_2[iVar13 + -1] = *(float *)(in_EAX + iVar15 * 4) - fVar1;
      iVar15 = iVar15 + param_1;
      fVar1 = *pfVar22;
      pfVar22 = pfVar22 + param_1;
      local_48 = (float *)((int)local_48 + -1);
      param_2[iVar13] = *local_44 - fVar1;
      local_44 = local_44 + param_1;
    } while (local_48 != (float *)0x0);
  }
  if (1 < (int)param_1) {
    if (param_1 != 2) {
      local_28 = 0;
      if (0 < param_3) {
        local_40 = iVar14 * 4;
        local_24 = param_3;
        local_68 = param_2;
        do {
          iVar15 = param_1 * 2;
          iVar13 = iVar15 + local_28 * 4;
          if (2 < (int)param_1) {
            local_48 = local_68;
            local_30 = param_6;
            pfVar18 = (float *)(param_4 + 4);
            local_2c = (param_1 - 3 >> 1) + 1;
            iVar12 = local_40;
            pfVar22 = (float *)(in_EAX + local_28 * 4);
            local_60 = param_2 + iVar13 + iVar15;
            local_54 = param_2 + iVar15 + local_28 * 4;
            local_50 = param_2 + iVar13;
            do {
              iVar13 = iVar12 + 8;
              pfVar11 = pfVar22 + 2;
              fVar1 = *pfVar18 * *(float *)(iVar13 + in_EAX) +
                      pfVar18[-1] * *(float *)(iVar12 + 4 + in_EAX);
              iVar15 = iVar14 * 4 + iVar13;
              fVar2 = pfVar18[-1] * *(float *)(iVar13 + in_EAX) -
                      *pfVar18 * *(float *)(iVar12 + 4 + in_EAX);
              fVar3 = *(float *)((int)local_30 + (param_5 - (int)param_6)) *
                      *(float *)(iVar15 + -4 + in_EAX) +
                      *(float *)(iVar15 + in_EAX) * *(float *)((param_5 - param_4) + (int)pfVar18);
              fVar4 = *(float *)(iVar15 + in_EAX) *
                      *(float *)((int)local_30 + (param_5 - (int)param_6)) -
                      *(float *)(iVar15 + -4 + in_EAX) *
                      *(float *)((int)pfVar18 + (param_5 - param_4));
              iVar15 = iVar15 + iVar14 * 4;
              pfVar10 = (float *)(iVar15 + -4 + in_EAX);
              fVar5 = *(float *)(iVar15 + in_EAX) *
                      *(float *)((int)pfVar18 + ((int)param_6 - param_4)) + *pfVar10 * *local_30;
              fVar6 = *(float *)(iVar15 + in_EAX) * *local_30 -
                      *pfVar10 * *(float *)((int)pfVar18 + ((int)param_6 - param_4));
              fVar7 = fVar1 + fVar5;
              fVar5 = fVar5 - fVar1;
              fVar1 = fVar2 + fVar6;
              fVar2 = fVar2 - fVar6;
              local_30 = local_30 + 2;
              pfVar18 = pfVar18 + 2;
              local_2c = local_2c + -1;
              fVar6 = fVar4 + *pfVar11;
              fVar4 = *pfVar11 - fVar4;
              fVar8 = fVar3 + pfVar22[1];
              fVar3 = pfVar22[1] - fVar3;
              local_48[1] = fVar7 + fVar8;
              local_48[2] = fVar1 + fVar6;
              local_50[-3] = fVar3 - fVar2;
              local_50[-2] = fVar5 - fVar4;
              local_54[1] = fVar2 + fVar3;
              local_54[2] = fVar4 + fVar5;
              local_60[-3] = fVar8 - fVar7;
              local_60[-2] = fVar1 - fVar6;
              iVar12 = iVar13;
              pfVar22 = pfVar11;
              local_60 = local_60 + -2;
              local_54 = local_54 + 2;
              local_50 = local_50 + -2;
              local_48 = local_48 + 2;
            } while (local_2c != 0);
          }
          local_68 = local_68 + param_1 * 4;
          local_40 = local_40 + param_1 * 4;
          local_28 = local_28 + param_1;
          local_24 = local_24 + -1;
        } while (local_24 != 0);
      }
      if ((param_1 & 1) != 0) {
        return;
      }
    }
    fVar1 = _DAT_00472024;
    iVar13 = iVar14 + -1 + param_1;
    local_68 = (float *)(iVar13 + iVar14 * 2);
    local_48 = (float *)0x0;
    uVar23 = param_1;
    local_50 = (float *)param_1;
    if (3 < param_3) {
      fVar2 = -_DAT_00472024;
      local_60 = param_2 + param_1 * 3;
      local_5c = (float *)(in_EAX + (iVar14 + iVar13) * 4);
      local_54 = (float *)(param_1 * 4 + -4 + in_EAX);
      local_24 = (param_3 - 4U >> 2) + 1;
      local_48 = (float *)(local_24 * 4);
      do {
        iVar15 = (int)local_68 + param_1;
        local_50 = (float *)((int)local_50 + param_1 * 4);
        fVar3 = (*(float *)(in_EAX + iVar13 * 4) + *(float *)(in_EAX + (int)local_68 * 4)) * fVar2;
        iVar12 = iVar13 + param_1;
        fVar4 = (*(float *)(in_EAX + iVar13 * 4) - *(float *)(in_EAX + (int)local_68 * 4)) * fVar1;
        param_2[uVar23 - 1] = fVar4 + *local_54;
        local_60[-1] = *local_54 - fVar4;
        pfVar22 = local_5c + param_1;
        param_2[uVar23] = fVar3 - *local_5c;
        iVar17 = uVar23 + param_1 * 4;
        pfVar18 = local_60 + param_1 * 4;
        *local_60 = fVar3 + *local_5c;
        local_54 = local_54 + param_1;
        iVar13 = iVar15 + param_1;
        fVar3 = (*(float *)(in_EAX + iVar12 * 4) + *(float *)(in_EAX + iVar15 * 4)) * fVar2;
        iVar16 = iVar12 + param_1;
        fVar4 = (*(float *)(in_EAX + iVar12 * 4) - *(float *)(in_EAX + iVar15 * 4)) * fVar1;
        param_2[iVar17 + -1] = fVar4 + *local_54;
        pfVar18[-1] = *local_54 - fVar4;
        param_2[iVar17] = fVar3 - *pfVar22;
        *pfVar18 = fVar3 + *pfVar22;
        pfVar22 = pfVar22 + param_1;
        iVar17 = iVar17 + param_1 * 4;
        pfVar18 = pfVar18 + param_1 * 4;
        local_54 = local_54 + param_1;
        fVar3 = (*(float *)(in_EAX + iVar16 * 4) + *(float *)(in_EAX + iVar13 * 4)) * fVar2;
        iVar15 = iVar13 + param_1;
        iVar12 = iVar16 + param_1;
        fVar4 = (*(float *)(in_EAX + iVar16 * 4) - *(float *)(in_EAX + iVar13 * 4)) * fVar1;
        param_2[iVar17 + -1] = fVar4 + *local_54;
        pfVar18[-1] = *local_54 - fVar4;
        param_2[iVar17] = fVar3 - *pfVar22;
        *pfVar18 = fVar3 + *pfVar22;
        pfVar22 = pfVar22 + param_1;
        iVar17 = iVar17 + param_1 * 4;
        pfVar18 = pfVar18 + param_1 * 4;
        local_54 = local_54 + param_1;
        local_68 = (float *)(iVar15 + param_1);
        fVar3 = (*(float *)(in_EAX + iVar12 * 4) + *(float *)(in_EAX + iVar15 * 4)) * fVar2;
        iVar13 = iVar12 + param_1;
        fVar4 = (*(float *)(in_EAX + iVar12 * 4) - *(float *)(in_EAX + iVar15 * 4)) * fVar1;
        param_2[iVar17 + -1] = fVar4 + *local_54;
        pfVar18[-1] = *local_54 - fVar4;
        param_2[iVar17] = fVar3 - *pfVar22;
        *pfVar18 = fVar3 + *pfVar22;
        local_5c = pfVar22 + param_1;
        uVar23 = iVar17 + param_1 * 4;
        local_60 = pfVar18 + param_1 * 4;
        local_54 = local_54 + param_1;
        local_24 = local_24 + -1;
      } while (local_24 != 0);
    }
    if ((int)local_48 < param_3) {
      pfVar22 = param_2 + uVar23 + param_1 * 2;
      local_54 = (float *)(in_EAX + (int)local_68 * 4);
      pfVar18 = (float *)(in_EAX + iVar13 * 4);
      pfVar10 = (float *)(in_EAX + (iVar13 + iVar14) * 4);
      pfVar9 = (float *)(in_EAX + -4 + (int)local_50 * 4);
      param_3 = param_3 - (int)local_48;
      pfVar11 = param_2 + uVar23;
      do {
        fVar4 = (*local_54 + *pfVar18) * -fVar1;
        fVar2 = *pfVar18;
        pfVar18 = pfVar18 + param_1;
        fVar3 = *local_54;
        local_54 = local_54 + param_1;
        fVar3 = (fVar2 - fVar3) * fVar1;
        pfVar11[-1] = fVar3 + *pfVar9;
        fVar2 = *pfVar9;
        pfVar9 = pfVar9 + param_1;
        pfVar22[-1] = fVar2 - fVar3;
        *pfVar11 = fVar4 - *pfVar10;
        pfVar11 = pfVar11 + param_1 * 4;
        fVar2 = *pfVar10;
        pfVar10 = pfVar10 + param_1;
        *pfVar22 = fVar4 + fVar2;
        pfVar22 = pfVar22 + param_1 * 4;
        param_3 = param_3 + -1;
      } while (param_3 != 0);
    }
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __thiscall
FUN_00455af0(void *this,float *param_1,int param_2,float *param_3,int param_4,int param_5,
            int param_6,int param_7)

{
  float fVar1;
  float fVar2;
  float fVar3;
  undefined4 uVar4;
  float fVar5;
  float fVar6;
  int in_EAX;
  int iVar7;
  int iVar8;
  int iVar9;
  undefined4 *puVar10;
  float *pfVar11;
  float *pfVar12;
  float *pfVar13;
  float *pfVar14;
  int iVar15;
  int iVar16;
  int iVar17;
  int iVar18;
  float *pfVar19;
  int iVar20;
  float *pfVar21;
  undefined4 *puVar22;
  int iVar23;
  int iVar24;
  float *pfVar25;
  int iVar26;
  int unaff_EBX;
  float *pfVar27;
  float10 fVar28;
  float10 fVar29;
  float *local_60;
  int local_5c;
  int local_54;
  float *local_44;
  float *local_40;
  float *local_3c;
  float *local_38;
  float *local_34;
  float *local_30;
  float *local_2c;
  float *local_28;
  float *local_24;
  float *local_20;
  float local_1c;
  float local_18;
  int local_14;
  float *local_10;
  int local_c;
  int local_8;
  int local_4;
  
  pfVar27 = param_3;
  fVar28 = (float10)_CIcos();
  fVar29 = (float10)_CIsin();
  local_8 = (int)param_1 + 1 >> 1;
  iVar7 = unaff_EBX + -1 >> 1;
  iVar8 = unaff_EBX * param_2;
  iVar9 = unaff_EBX * (int)param_1;
  if (unaff_EBX != 1) {
    iVar23 = 0;
    if (3 < (int)param_3) {
      local_24 = (float *)(((uint)(param_3 + -1) >> 2) + 1);
      iVar23 = (int)local_24 * 4;
      puVar10 = (undefined4 *)(param_6 + 4);
      puVar22 = (undefined4 *)(param_5 + 0xc);
      do {
        puVar10[-1] = puVar22[-3];
        local_24 = (float *)((int)local_24 + -1);
        *puVar10 = *(undefined4 *)((param_5 - param_6) + -0x10 + (int)(puVar10 + 4));
        puVar10[1] = puVar22[-1];
        puVar10[2] = *puVar22;
        puVar10 = puVar10 + 4;
        puVar22 = puVar22 + 4;
      } while (local_24 != (float *)0x0);
    }
    if (iVar23 < (int)param_3) {
      iVar20 = (int)param_3 - iVar23;
      puVar10 = (undefined4 *)(param_6 + iVar23 * 4);
      do {
        iVar20 = iVar20 + -1;
        *puVar10 = *(undefined4 *)((int)puVar10 + (param_5 - param_6));
        puVar10 = puVar10 + 1;
      } while (iVar20 != 0);
    }
    iVar23 = 0;
    if (1 < (int)param_1) {
      local_24 = (float *)((int)param_1 + -1);
      do {
        iVar23 = iVar23 + iVar8;
        local_60 = (float *)0x0;
        iVar20 = iVar23;
        if (3 < param_2) {
          iVar24 = (param_2 - 4U >> 2) + 1;
          local_60 = (float *)(iVar24 * 4);
          do {
            *(undefined4 *)(in_EAX + iVar20 * 4) = *(undefined4 *)((int)this + iVar20 * 4);
            iVar20 = iVar20 + unaff_EBX;
            *(undefined4 *)(in_EAX + iVar20 * 4) = *(undefined4 *)((int)this + iVar20 * 4);
            iVar20 = iVar20 + unaff_EBX;
            *(undefined4 *)(in_EAX + iVar20 * 4) = *(undefined4 *)((int)this + iVar20 * 4);
            iVar20 = iVar20 + unaff_EBX;
            *(undefined4 *)(in_EAX + iVar20 * 4) = *(undefined4 *)((int)this + iVar20 * 4);
            iVar20 = iVar20 + unaff_EBX;
            iVar24 = iVar24 + -1;
          } while (iVar24 != 0);
        }
        if ((int)local_60 < param_2) {
          iVar24 = param_2 - (int)local_60;
          puVar10 = (undefined4 *)(in_EAX + iVar20 * 4);
          do {
            *puVar10 = *(undefined4 *)(((int)this - in_EAX) + (int)puVar10);
            puVar10 = puVar10 + unaff_EBX;
            iVar24 = iVar24 + -1;
          } while (iVar24 != 0);
        }
        local_24 = (float *)((int)local_24 + -1);
      } while (local_24 != (float *)0x0);
    }
    iVar23 = -unaff_EBX;
    iVar20 = 0;
    if (param_2 < iVar7) {
      if (1 < (int)param_1) {
        local_28 = (float *)(param_7 + -4 + unaff_EBX * -4);
        pfVar25 = (float *)(in_EAX + unaff_EBX * -4);
        pfVar11 = (float *)((int)this + unaff_EBX * -4 + -4);
        local_3c = (float *)((int)param_1 + -1);
        do {
          pfVar25 = pfVar25 + iVar8;
          pfVar11 = pfVar11 + iVar8;
          local_28 = local_28 + unaff_EBX;
          if (0 < param_2) {
            local_38 = (float *)param_2;
            pfVar19 = pfVar11;
            pfVar14 = pfVar25;
            do {
              pfVar14 = pfVar14 + unaff_EBX;
              pfVar19 = pfVar19 + unaff_EBX;
              if (2 < unaff_EBX) {
                local_34 = (float *)((unaff_EBX - 3U >> 1) + 1);
                pfVar12 = pfVar19;
                pfVar21 = local_28;
                local_2c = pfVar14;
                do {
                  local_2c = local_2c + 2;
                  pfVar13 = pfVar12 + 2;
                  local_34 = (float *)((int)local_34 + -1);
                  *(float *)((in_EAX - (int)this) + (int)pfVar13) =
                       pfVar21[1] * *pfVar13 + pfVar12[3] * pfVar21[2];
                  *local_2c = pfVar12[3] * pfVar21[1] - pfVar21[2] * *pfVar13;
                  pfVar12 = pfVar13;
                  pfVar21 = pfVar21 + 2;
                } while (local_34 != (float *)0x0);
              }
              local_38 = (float *)((int)local_38 + -1);
            } while (local_38 != (float *)0x0);
          }
          local_3c = (float *)((int)local_3c + -1);
        } while (local_3c != (float *)0x0);
      }
    }
    else if (1 < (int)param_1) {
      local_28 = (float *)(iVar23 + -1);
      local_2c = (float *)(param_7 + -4 + unaff_EBX * -4);
      local_40 = (float *)((int)param_1 + -1);
      iVar24 = iVar23;
      do {
        iVar20 = iVar20 + iVar8;
        local_28 = (float *)((int)local_28 + unaff_EBX);
        iVar24 = iVar24 + unaff_EBX;
        local_2c = local_2c + unaff_EBX;
        if (2 < unaff_EBX) {
          local_34 = (float *)(((int)local_28 - iVar24) + 1 + iVar20);
          local_3c = (float *)((unaff_EBX - 3U >> 1) + 1);
          pfVar11 = local_2c;
          do {
            local_34 = (float *)((int)local_34 + 2);
            pfVar25 = pfVar11 + 2;
            local_60 = (float *)0x0;
            iVar15 = (int)local_34;
            if (3 < param_2) {
              iVar26 = (param_2 - 4U >> 2) + 1;
              local_60 = (float *)(iVar26 * 4);
              do {
                *(float *)(in_EAX + -4 + iVar15 * 4) =
                     *(float *)((int)this + iVar15 * 4) * *pfVar25 +
                     pfVar11[1] * *(float *)((int)this + iVar15 * 4 + -4);
                *(float *)(in_EAX + iVar15 * 4) =
                     pfVar11[1] * *(float *)((int)this + iVar15 * 4) -
                     *(float *)((int)this + iVar15 * 4 + -4) * *pfVar25;
                iVar15 = iVar15 + unaff_EBX;
                *(float *)(in_EAX + -4 + iVar15 * 4) =
                     *(float *)((int)this + iVar15 * 4) * *pfVar25 +
                     pfVar11[1] * *(float *)((int)this + iVar15 * 4 + -4);
                *(float *)(in_EAX + iVar15 * 4) =
                     pfVar11[1] * *(float *)((int)this + iVar15 * 4) -
                     *(float *)((int)this + iVar15 * 4 + -4) * *pfVar25;
                iVar15 = iVar15 + unaff_EBX;
                *(float *)(in_EAX + -4 + iVar15 * 4) =
                     *(float *)((int)this + iVar15 * 4) * *pfVar25 +
                     pfVar11[1] * *(float *)((int)this + iVar15 * 4 + -4);
                *(float *)(in_EAX + iVar15 * 4) =
                     pfVar11[1] * *(float *)((int)this + iVar15 * 4) -
                     *(float *)((int)this + iVar15 * 4 + -4) * *pfVar25;
                iVar15 = iVar15 + unaff_EBX;
                *(float *)(in_EAX + -4 + iVar15 * 4) =
                     *(float *)((int)this + iVar15 * 4) * *pfVar25 +
                     pfVar11[1] * *(float *)((int)this + iVar15 * 4 + -4);
                *(float *)(in_EAX + iVar15 * 4) =
                     pfVar11[1] * *(float *)((int)this + iVar15 * 4) -
                     *(float *)((int)this + iVar15 * 4 + -4) * *pfVar25;
                iVar15 = iVar15 + unaff_EBX;
                iVar26 = iVar26 + -1;
              } while (iVar26 != 0);
            }
            if ((int)local_60 < param_2) {
              local_38 = (float *)(param_2 - (int)local_60);
              pfVar19 = (float *)(in_EAX + iVar15 * 4);
              pfVar14 = (float *)((int)this + iVar15 * 4 + -4);
              do {
                *(float *)((in_EAX - (int)this) + (int)pfVar14) =
                     pfVar14[1] * *pfVar25 + pfVar11[1] * *pfVar14;
                pfVar12 = pfVar14 + 1;
                fVar1 = *pfVar14;
                pfVar14 = pfVar14 + unaff_EBX;
                *pfVar19 = pfVar11[1] * *pfVar12 - *pfVar25 * fVar1;
                pfVar19 = pfVar19 + unaff_EBX;
                local_38 = (float *)((int)local_38 + -1);
              } while (local_38 != (float *)0x0);
            }
            local_3c = (float *)((int)local_3c + -1);
            pfVar11 = pfVar25;
          } while (local_3c != (float *)0x0);
        }
        local_40 = (float *)((int)local_40 + -1);
      } while (local_40 != (float *)0x0);
    }
    iVar20 = iVar8 * (int)param_1;
    local_5c = 0;
    if (iVar7 < param_2) {
      if (1 < local_8) {
        local_3c = (float *)(local_8 + -1);
        local_28 = (float *)iVar23;
        do {
          local_5c = local_5c + iVar8;
          local_28 = (float *)((int)local_28 + iVar8);
          iVar20 = iVar20 - iVar8;
          if (2 < unaff_EBX) {
            local_38 = (float *)((unaff_EBX - 3U >> 1) + 1);
            iVar23 = (int)local_28;
            do {
              iVar23 = iVar23 + 2;
              iVar24 = iVar23 + (iVar20 - local_5c);
              local_60 = (float *)0x0;
              iVar15 = iVar23;
              if (3 < param_2) {
                iVar26 = (param_2 - 4U >> 2) + 1;
                local_60 = (float *)(iVar26 * 4);
                do {
                  iVar24 = iVar24 + unaff_EBX;
                  iVar15 = iVar15 + unaff_EBX;
                  *(float *)((int)this + iVar15 * 4 + -4) =
                       *(float *)(in_EAX + -4 + iVar24 * 4) + *(float *)(in_EAX + -4 + iVar15 * 4);
                  *(float *)((int)this + iVar24 * 4 + -4) =
                       *(float *)(in_EAX + iVar15 * 4) - *(float *)(in_EAX + iVar24 * 4);
                  *(float *)((int)this + iVar15 * 4) =
                       *(float *)(in_EAX + iVar15 * 4) + *(float *)(in_EAX + iVar24 * 4);
                  iVar16 = iVar15 + unaff_EBX;
                  *(float *)((int)this + iVar24 * 4) =
                       *(float *)(in_EAX + -4 + iVar24 * 4) - *(float *)(in_EAX + -4 + iVar15 * 4);
                  iVar24 = iVar24 + unaff_EBX;
                  *(float *)((int)this + iVar16 * 4 + -4) =
                       *(float *)(in_EAX + -4 + iVar24 * 4) + *(float *)(in_EAX + -4 + iVar16 * 4);
                  *(float *)((int)this + iVar24 * 4 + -4) =
                       *(float *)(in_EAX + iVar16 * 4) - *(float *)(in_EAX + iVar24 * 4);
                  *(float *)((int)this + iVar16 * 4) =
                       *(float *)(in_EAX + iVar16 * 4) + *(float *)(in_EAX + iVar24 * 4);
                  iVar17 = iVar16 + unaff_EBX;
                  *(float *)((int)this + iVar24 * 4) =
                       *(float *)(in_EAX + -4 + iVar24 * 4) - *(float *)(in_EAX + -4 + iVar16 * 4);
                  iVar24 = iVar24 + unaff_EBX;
                  *(float *)((int)this + iVar17 * 4 + -4) =
                       *(float *)(in_EAX + -4 + iVar24 * 4) + *(float *)(in_EAX + -4 + iVar17 * 4);
                  *(float *)((int)this + iVar24 * 4 + -4) =
                       *(float *)(in_EAX + iVar17 * 4) - *(float *)(in_EAX + iVar24 * 4);
                  *(float *)((int)this + iVar17 * 4) =
                       *(float *)(in_EAX + iVar17 * 4) + *(float *)(in_EAX + iVar24 * 4);
                  iVar15 = iVar17 + unaff_EBX;
                  *(float *)((int)this + iVar24 * 4) =
                       *(float *)(in_EAX + -4 + iVar24 * 4) - *(float *)(in_EAX + -4 + iVar17 * 4);
                  iVar24 = iVar24 + unaff_EBX;
                  iVar26 = iVar26 + -1;
                  *(float *)((int)this + iVar15 * 4 + -4) =
                       *(float *)(in_EAX + -4 + iVar24 * 4) + *(float *)(in_EAX + -4 + iVar15 * 4);
                  *(float *)((int)this + iVar24 * 4 + -4) =
                       *(float *)(in_EAX + iVar15 * 4) - *(float *)(in_EAX + iVar24 * 4);
                  *(float *)((int)this + iVar15 * 4) =
                       *(float *)(in_EAX + iVar15 * 4) + *(float *)(in_EAX + iVar24 * 4);
                  *(float *)((int)this + iVar24 * 4) =
                       *(float *)(in_EAX + -4 + iVar24 * 4) - *(float *)(in_EAX + -4 + iVar15 * 4);
                } while (iVar26 != 0);
              }
              if ((int)local_60 < param_2) {
                local_30 = (float *)((int)this + iVar24 * 4);
                local_2c = (float *)((int)this + iVar15 * 4);
                local_24 = (float *)(param_2 - (int)local_60);
                pfVar11 = (float *)(in_EAX + -4 + iVar15 * 4);
                pfVar25 = (float *)(in_EAX + -4 + iVar24 * 4);
                do {
                  pfVar19 = pfVar11 + unaff_EBX;
                  pfVar14 = pfVar25 + unaff_EBX;
                  local_2c = local_2c + unaff_EBX;
                  local_30 = local_30 + unaff_EBX;
                  pfVar11 = pfVar11 + unaff_EBX;
                  pfVar25 = pfVar25 + unaff_EBX;
                  *(float *)((int)pfVar11 + ((int)this - in_EAX)) = *pfVar19 + *pfVar14;
                  local_24 = (float *)((int)local_24 + -1);
                  *(float *)((int)pfVar25 + ((int)this - in_EAX)) = pfVar11[1] - pfVar25[1];
                  *local_2c = pfVar25[1] + pfVar11[1];
                  *local_30 = *pfVar25 - *pfVar11;
                } while (local_24 != (float *)0x0);
              }
              local_38 = (float *)((int)local_38 + -1);
            } while (local_38 != (float *)0x0);
          }
          local_3c = (float *)((int)local_3c + -1);
        } while (local_3c != (float *)0x0);
      }
    }
    else if (1 < local_8) {
      local_2c = (float *)((int)this + iVar20 * 4);
      local_30 = (float *)(in_EAX + -4 + iVar20 * 4);
      local_28 = (float *)(in_EAX + -4);
      local_5c = local_8 + -1;
      pfVar11 = (float *)this;
      do {
        local_28 = local_28 + iVar8;
        local_2c = local_2c + -iVar8;
        local_30 = local_30 + -iVar8;
        pfVar11 = pfVar11 + iVar8;
        if (0 < param_2) {
          local_54 = param_2;
          pfVar25 = local_30;
          local_44 = local_2c;
          local_40 = local_28;
          local_3c = pfVar11;
          do {
            if (2 < unaff_EBX) {
              local_38 = local_44;
              local_34 = local_3c;
              iVar23 = (unaff_EBX - 3U >> 1) + 1;
              pfVar19 = local_40;
              pfVar14 = pfVar25;
              do {
                local_34 = local_34 + 2;
                local_38 = local_38 + 2;
                pfVar21 = pfVar14 + 2;
                pfVar12 = pfVar19 + 2;
                iVar23 = iVar23 + -1;
                *(float *)((int)pfVar12 + ((int)this - in_EAX)) = pfVar14[2] + pfVar19[2];
                *(float *)((int)pfVar21 + ((int)this - in_EAX)) = pfVar19[3] - pfVar14[3];
                *local_34 = pfVar14[3] + pfVar19[3];
                *local_38 = *pfVar21 - *pfVar12;
                pfVar19 = pfVar12;
                pfVar14 = pfVar21;
              } while (iVar23 != 0);
            }
            local_3c = local_3c + unaff_EBX;
            local_40 = local_40 + unaff_EBX;
            local_44 = local_44 + unaff_EBX;
            pfVar25 = pfVar25 + unaff_EBX;
            local_54 = local_54 + -1;
          } while (local_54 != 0);
        }
        local_5c = local_5c + -1;
      } while (local_5c != 0);
    }
  }
  iVar23 = 0;
  if (3 < (int)param_3) {
    local_24 = (float *)(((uint)(param_3 + -1) >> 2) + 1);
    iVar23 = (int)local_24 * 4;
    puVar10 = (undefined4 *)(param_5 + 4);
    puVar22 = (undefined4 *)(param_6 + 0xc);
    do {
      puVar10[-1] = puVar22[-3];
      local_24 = (float *)((int)local_24 + -1);
      *puVar10 = *(undefined4 *)((param_6 - param_5) + -0x10 + (int)(puVar10 + 4));
      puVar10[1] = puVar22[-1];
      puVar10[2] = *puVar22;
      puVar10 = puVar10 + 4;
      puVar22 = puVar22 + 4;
    } while (local_24 != (float *)0x0);
  }
  if (iVar23 < (int)param_3) {
    iVar20 = (int)param_3 - iVar23;
    puVar10 = (undefined4 *)(param_5 + iVar23 * 4);
    do {
      iVar20 = iVar20 + -1;
      *puVar10 = *(undefined4 *)((param_6 - param_5) + (int)puVar10);
      puVar10 = puVar10 + 1;
    } while (iVar20 != 0);
  }
  iVar23 = (int)param_1 * (int)param_3;
  if (1 < local_8) {
    iVar24 = iVar23 - unaff_EBX;
    iVar20 = -unaff_EBX;
    local_28 = (float *)(local_8 + -1);
    do {
      iVar20 = iVar20 + iVar8;
      iVar24 = iVar24 - iVar8;
      local_60 = (float *)0x0;
      iVar15 = iVar20;
      iVar26 = iVar24;
      if (3 < param_2) {
        iVar16 = (param_2 - 4U >> 2) + 1;
        local_60 = (float *)(iVar16 * 4);
        do {
          iVar15 = iVar15 + unaff_EBX;
          iVar26 = iVar26 + unaff_EBX;
          *(float *)((int)this + iVar15 * 4) =
               *(float *)(in_EAX + iVar15 * 4) + *(float *)(in_EAX + iVar26 * 4);
          iVar17 = iVar15 + unaff_EBX;
          *(float *)((int)this + iVar26 * 4) =
               *(float *)(in_EAX + iVar26 * 4) - *(float *)(in_EAX + iVar15 * 4);
          iVar26 = iVar26 + unaff_EBX;
          *(float *)((int)this + iVar17 * 4) =
               *(float *)(in_EAX + iVar17 * 4) + *(float *)(in_EAX + iVar26 * 4);
          iVar18 = iVar17 + unaff_EBX;
          *(float *)((int)this + iVar26 * 4) =
               *(float *)(in_EAX + iVar26 * 4) - *(float *)(in_EAX + iVar17 * 4);
          iVar26 = iVar26 + unaff_EBX;
          *(float *)((int)this + iVar18 * 4) =
               *(float *)(in_EAX + iVar18 * 4) + *(float *)(in_EAX + iVar26 * 4);
          iVar15 = iVar18 + unaff_EBX;
          *(float *)((int)this + iVar26 * 4) =
               *(float *)(in_EAX + iVar26 * 4) - *(float *)(in_EAX + iVar18 * 4);
          iVar26 = iVar26 + unaff_EBX;
          iVar16 = iVar16 + -1;
          *(float *)((int)this + iVar15 * 4) =
               *(float *)(in_EAX + iVar15 * 4) + *(float *)(in_EAX + iVar26 * 4);
          *(float *)((int)this + iVar26 * 4) =
               *(float *)(in_EAX + iVar26 * 4) - *(float *)(in_EAX + iVar15 * 4);
        } while (iVar16 != 0);
      }
      if ((int)local_60 < param_2) {
        local_24 = (float *)(param_2 - (int)local_60);
        pfVar11 = (float *)(in_EAX + iVar15 * 4);
        pfVar25 = (float *)(in_EAX + iVar26 * 4);
        do {
          pfVar19 = pfVar25 + unaff_EBX;
          pfVar25 = pfVar25 + unaff_EBX;
          pfVar14 = pfVar11 + unaff_EBX;
          pfVar11 = pfVar11 + unaff_EBX;
          local_24 = (float *)((int)local_24 + -1);
          *(float *)(((int)this - in_EAX) + (int)pfVar11) = *pfVar19 + *pfVar14;
          *(float *)(((int)this - in_EAX) + (int)pfVar25) = *pfVar25 - *pfVar11;
        } while (local_24 != (float *)0x0);
      }
      local_28 = (float *)((int)local_28 + -1);
    } while (local_28 != (float *)0x0);
  }
  local_1c = 1.0;
  iVar20 = ((int)param_1 + -1) * (int)param_3;
  local_5c = 0;
  if (1 < local_8) {
    local_2c = (float *)(param_6 + 8);
    fVar1 = 0.0;
    local_30 = (float *)(param_6 + 8 + iVar23 * 4);
    local_4 = local_8 + -1;
    do {
      local_2c = local_2c + (int)param_3;
      local_30 = local_30 + -(int)param_3;
      iVar23 = iVar23 - (int)param_3;
      local_5c = local_5c + (int)param_3;
      fVar5 = local_1c * (float)fVar28 - fVar1 * (float)fVar29;
      iVar24 = 0;
      local_44 = param_3;
      fVar1 = local_1c * (float)fVar29 + (float)fVar28 * fVar1;
      iVar15 = iVar23;
      iVar26 = local_5c;
      local_28 = (float *)iVar20;
      if (3 < (int)param_3) {
        local_40 = (float *)(param_5 + 8 + (int)param_3 * 4);
        iVar16 = ((uint)(param_3 + -1) >> 2) + 1;
        iVar24 = iVar16 * 4;
        iVar26 = local_5c + iVar24;
        iVar15 = iVar23 + iVar24;
        local_28 = (float *)(iVar20 + iVar24);
        local_44 = param_3 + iVar16;
        pfVar11 = local_2c;
        local_60 = (float *)(param_5 + 8 + iVar20 * 4);
        local_3c = (float *)(param_5 + 8);
        local_34 = local_30;
        do {
          pfVar11[-2] = local_40[-2] * fVar5 + local_3c[-2];
          local_34[-2] = local_60[-2] * fVar1;
          pfVar11[-1] = local_40[-1] * fVar5 + local_3c[-1];
          local_34[-1] = local_60[-1] * fVar1;
          *pfVar11 = *local_40 * fVar5 + *local_3c;
          *local_34 = *local_60 * fVar1;
          pfVar25 = local_40 + 1;
          local_40 = local_40 + 4;
          pfVar11[1] = *pfVar25 * fVar5 + local_3c[1];
          iVar16 = iVar16 + -1;
          local_34[1] = local_60[1] * fVar1;
          pfVar11 = pfVar11 + 4;
          local_60 = local_60 + 4;
          local_3c = local_3c + 4;
          local_34 = local_34 + 4;
        } while (iVar16 != 0);
      }
      if (iVar24 < (int)param_3) {
        pfVar11 = (float *)(param_5 + (int)local_44 * 4);
        pfVar25 = (float *)(param_6 + iVar26 * 4);
        local_34 = (float *)(param_6 + iVar15 * 4);
        local_28 = (float *)(param_5 + (int)local_28 * 4);
        do {
          fVar2 = *pfVar11;
          iVar24 = iVar24 + 1;
          pfVar11 = pfVar11 + 1;
          *pfVar25 = fVar2 * fVar5 + *(float *)(param_5 + -4 + iVar24 * 4);
          *local_34 = fVar1 * *local_28;
          pfVar25 = pfVar25 + 1;
          local_34 = local_34 + 1;
          local_28 = local_28 + 1;
        } while (iVar24 < (int)param_3);
      }
      if (2 < local_8) {
        local_60 = (float *)(param_5 + 8 + (int)param_3 * 4);
        local_34 = (float *)(param_5 + 8 + iVar20 * 4);
        local_c = local_8 + -2;
        iVar24 = iVar20;
        pfVar11 = param_3;
        fVar2 = fVar1;
        local_18 = fVar5;
        do {
          iVar24 = iVar24 - (int)param_3;
          local_60 = local_60 + (int)param_3;
          local_34 = local_34 + -(int)param_3;
          pfVar11 = (float *)((int)pfVar11 + (int)param_3);
          fVar6 = local_18 * fVar5 - fVar2 * fVar1;
          iVar15 = 0;
          fVar2 = local_18 * fVar1 + fVar5 * fVar2;
          iVar26 = local_5c;
          iVar16 = iVar23;
          local_14 = iVar24;
          local_10 = pfVar11;
          if (3 < (int)param_3) {
            iVar17 = ((uint)(param_3 + -1) >> 2) + 1;
            iVar15 = iVar17 * 4;
            iVar26 = local_5c + iVar15;
            iVar16 = iVar23 + iVar15;
            local_10 = pfVar11 + iVar17;
            local_14 = iVar24 + iVar15;
            pfVar25 = local_2c;
            pfVar19 = local_30;
            local_40 = local_34;
            local_3c = local_60;
            do {
              pfVar25[-2] = local_3c[-2] * fVar6 + pfVar25[-2];
              pfVar19[-2] = local_40[-2] * fVar2 + pfVar19[-2];
              pfVar25[-1] = local_3c[-1] * fVar6 + pfVar25[-1];
              pfVar19[-1] = local_40[-1] * fVar2 + pfVar19[-1];
              *pfVar25 = *local_3c * fVar6 + *pfVar25;
              *pfVar19 = *local_40 * fVar2 + *pfVar19;
              iVar17 = iVar17 + -1;
              pfVar25[1] = local_3c[1] * fVar6 + pfVar25[1];
              pfVar19[1] = local_40[1] * fVar2 + pfVar19[1];
              pfVar25 = pfVar25 + 4;
              pfVar19 = pfVar19 + 4;
              local_40 = local_40 + 4;
              local_3c = local_3c + 4;
            } while (iVar17 != 0);
          }
          if (iVar15 < (int)param_3) {
            local_28 = (float *)(param_5 + (int)local_10 * 4);
            iVar15 = (int)param_3 - iVar15;
            pfVar25 = (float *)(param_6 + iVar26 * 4);
            pfVar19 = (float *)(param_6 + iVar16 * 4);
            local_3c = (float *)(param_5 + local_14 * 4);
            do {
              fVar3 = *local_28;
              local_28 = local_28 + 1;
              iVar15 = iVar15 + -1;
              *pfVar25 = fVar6 * fVar3 + *pfVar25;
              *pfVar19 = fVar2 * *local_3c + *pfVar19;
              pfVar25 = pfVar25 + 1;
              pfVar19 = pfVar19 + 1;
              local_3c = local_3c + 1;
            } while (iVar15 != 0);
          }
          local_c = local_c + -1;
          local_18 = fVar6;
        } while (local_c != 0);
      }
      local_4 = local_4 + -1;
      local_1c = fVar5;
    } while (local_4 != 0);
  }
  iVar23 = 0;
  if (1 < local_8) {
    param_3 = (float *)(param_5 + 8);
    local_4 = local_8 + -1;
    do {
      param_3 = param_3 + (int)pfVar27;
      iVar23 = iVar23 + (int)pfVar27;
      iVar20 = 0;
      iVar24 = iVar23;
      if (3 < (int)pfVar27) {
        iVar15 = ((uint)(pfVar27 + -1) >> 2) + 1;
        iVar20 = iVar15 * 4;
        iVar24 = iVar23 + iVar20;
        pfVar11 = (float *)(param_6 + 8);
        pfVar25 = param_3;
        do {
          iVar15 = iVar15 + -1;
          pfVar11[-2] = pfVar25[-2] + pfVar11[-2];
          pfVar11[-1] = pfVar25[-1] + pfVar11[-1];
          *pfVar11 = *pfVar11 + *pfVar25;
          pfVar11[1] = pfVar25[1] + pfVar11[1];
          pfVar11 = pfVar11 + 4;
          pfVar25 = pfVar25 + 4;
        } while (iVar15 != 0);
      }
      if (iVar20 < (int)pfVar27) {
        pfVar11 = (float *)(param_5 + iVar24 * 4);
        do {
          iVar24 = iVar20 * 4;
          iVar20 = iVar20 + 1;
          fVar1 = *pfVar11;
          pfVar11 = pfVar11 + 1;
          *(float *)(param_6 + -4 + iVar20 * 4) = *(float *)(param_6 + iVar24) + fVar1;
        } while (iVar20 < (int)pfVar27);
      }
      local_4 = local_4 + -1;
    } while (local_4 != 0);
  }
  if (unaff_EBX < param_2) {
    local_28 = (float *)0x0;
    if (0 < unaff_EBX) {
      do {
        local_60 = (float *)0x0;
        iVar23 = (int)local_28;
        iVar20 = (int)local_28;
        if (3 < param_2) {
          iVar24 = (param_2 - 4U >> 2) + 1;
          local_60 = (float *)(iVar24 * 4);
          do {
            *(undefined4 *)(param_4 + iVar20 * 4) = *(undefined4 *)(in_EAX + iVar23 * 4);
            iVar15 = iVar23 + unaff_EBX + unaff_EBX;
            *(undefined4 *)(param_4 + (iVar20 + iVar9) * 4) =
                 *(undefined4 *)(in_EAX + (iVar23 + unaff_EBX) * 4);
            iVar20 = iVar20 + iVar9 + iVar9;
            iVar26 = iVar15 + unaff_EBX;
            *(undefined4 *)(param_4 + iVar20 * 4) = *(undefined4 *)(in_EAX + iVar15 * 4);
            iVar20 = iVar20 + iVar9;
            iVar23 = iVar26 + unaff_EBX;
            *(undefined4 *)(param_4 + iVar20 * 4) = *(undefined4 *)(in_EAX + iVar26 * 4);
            iVar20 = iVar20 + iVar9;
            iVar24 = iVar24 + -1;
          } while (iVar24 != 0);
        }
        if ((int)local_60 < param_2) {
          param_3 = (float *)(param_4 + iVar20 * 4);
          pfVar27 = (float *)(in_EAX + iVar23 * 4);
          iVar23 = param_2 - (int)local_60;
          do {
            *param_3 = *pfVar27;
            pfVar27 = pfVar27 + unaff_EBX;
            param_3 = param_3 + iVar9;
            iVar23 = iVar23 + -1;
          } while (iVar23 != 0);
        }
        local_28 = (float *)((int)local_28 + 1);
      } while ((int)local_28 < unaff_EBX);
    }
  }
  else {
    local_5c = 0;
    local_54 = 0;
    if (0 < param_2) {
      local_24 = (float *)(in_EAX + 8);
      local_2c = (float *)(param_4 + 8);
      local_4 = param_2;
      do {
        iVar23 = 0;
        iVar20 = local_5c;
        iVar24 = local_54;
        if (3 < unaff_EBX) {
          iVar15 = (unaff_EBX - 4U >> 2) + 1;
          iVar23 = iVar15 * 4;
          iVar20 = local_5c + iVar23;
          iVar24 = iVar23 + local_54;
          puVar10 = local_24;
          puVar22 = local_2c;
          do {
            puVar22[-2] = puVar10[-2];
            iVar15 = iVar15 + -1;
            puVar22[-1] = puVar10[-1];
            *puVar22 = *puVar10;
            puVar22[1] = puVar10[1];
            puVar10 = puVar10 + 4;
            puVar22 = puVar22 + 4;
          } while (iVar15 != 0);
        }
        if (iVar23 < unaff_EBX) {
          puVar10 = (undefined4 *)(param_4 + iVar24 * 4);
          puVar22 = (undefined4 *)(in_EAX + iVar20 * 4);
          iVar23 = unaff_EBX - iVar23;
          do {
            uVar4 = *puVar22;
            puVar22 = puVar22 + 1;
            *puVar10 = uVar4;
            puVar10 = puVar10 + 1;
            iVar23 = iVar23 + -1;
          } while (iVar23 != 0);
        }
        local_5c = local_5c + unaff_EBX;
        local_24 = local_24 + unaff_EBX;
        local_54 = local_54 + iVar9;
        local_2c = local_2c + iVar9;
        local_4 = local_4 + -1;
      } while (local_4 != 0);
    }
  }
  iVar23 = iVar8 * (int)param_1;
  iVar20 = 0;
  iVar24 = 0;
  if (1 < local_8) {
    local_4 = local_8 + -1;
    iVar15 = iVar23;
    do {
      iVar24 = iVar24 + iVar8;
      iVar15 = iVar15 - iVar8;
      iVar20 = iVar20 + unaff_EBX * 2;
      local_60 = (float *)0x0;
      iVar26 = iVar20;
      iVar16 = iVar24;
      iVar17 = iVar15;
      if (3 < param_2) {
        param_1 = (float *)((param_2 - 4U >> 2) + 1);
        local_60 = (float *)((int)param_1 * 4);
        do {
          *(undefined4 *)(param_4 + -4 + iVar26 * 4) = *(undefined4 *)(in_EAX + iVar16 * 4);
          *(undefined4 *)(param_4 + iVar26 * 4) = *(undefined4 *)(in_EAX + iVar17 * 4);
          iVar26 = iVar26 + iVar9;
          iVar18 = iVar16 + unaff_EBX + unaff_EBX;
          *(undefined4 *)(param_4 + -4 + iVar26 * 4) =
               *(undefined4 *)(in_EAX + (iVar16 + unaff_EBX) * 4);
          iVar16 = iVar17 + unaff_EBX + unaff_EBX;
          *(undefined4 *)(param_4 + iVar26 * 4) = *(undefined4 *)(in_EAX + (iVar17 + unaff_EBX) * 4)
          ;
          iVar26 = iVar26 + iVar9;
          iVar17 = iVar18 + unaff_EBX;
          *(undefined4 *)(param_4 + -4 + iVar26 * 4) = *(undefined4 *)(in_EAX + iVar18 * 4);
          iVar18 = iVar16 + unaff_EBX;
          *(undefined4 *)(param_4 + iVar26 * 4) = *(undefined4 *)(in_EAX + iVar16 * 4);
          iVar26 = iVar26 + iVar9;
          iVar16 = iVar17 + unaff_EBX;
          *(undefined4 *)(param_4 + -4 + iVar26 * 4) = *(undefined4 *)(in_EAX + iVar17 * 4);
          iVar17 = iVar18 + unaff_EBX;
          *(undefined4 *)(param_4 + iVar26 * 4) = *(undefined4 *)(in_EAX + iVar18 * 4);
          iVar26 = iVar26 + iVar9;
          param_1 = (float *)((int)param_1 + -1);
        } while (param_1 != (float *)0x0);
      }
      if ((int)local_60 < param_2) {
        param_1 = (float *)(in_EAX + iVar17 * 4);
        pfVar27 = (float *)(in_EAX + iVar16 * 4);
        iVar16 = param_2 - (int)local_60;
        pfVar11 = (float *)(param_4 + iVar26 * 4);
        do {
          pfVar11[-1] = *pfVar27;
          *pfVar11 = *param_1;
          pfVar11 = pfVar11 + iVar9;
          param_1 = param_1 + unaff_EBX;
          pfVar27 = pfVar27 + unaff_EBX;
          iVar16 = iVar16 + -1;
        } while (iVar16 != 0);
      }
      local_4 = local_4 + -1;
    } while (local_4 != 0);
  }
  if (unaff_EBX != 1) {
    if (iVar7 < param_2) {
      iVar20 = 0;
      iVar7 = 0;
      if (1 < local_8) {
        local_14 = local_8 + -1;
        pfVar27 = (float *)0xfffffffe;
        do {
          pfVar27 = (float *)((int)pfVar27 + unaff_EBX * 2);
          iVar20 = iVar20 + unaff_EBX * 2;
          iVar7 = iVar7 + iVar8;
          iVar23 = iVar23 - iVar8;
          if (2 < unaff_EBX) {
            local_10 = (float *)((unaff_EBX - 3U >> 1) + 1);
            param_1 = pfVar27;
            iVar24 = iVar7;
            do {
              iVar24 = iVar24 + 2;
              local_44 = (float *)((iVar20 - iVar7) + iVar24);
              iVar26 = (iVar23 - iVar7) + iVar24;
              local_60 = (float *)0x0;
              iVar15 = iVar24;
              pfVar11 = param_1;
              if (3 < param_2) {
                local_4 = (param_2 - 4U >> 2) + 1;
                local_60 = (float *)(local_4 * 4);
                do {
                  *(float *)(param_4 + -4 + (int)local_44 * 4) =
                       *(float *)(in_EAX + -4 + iVar26 * 4) + *(float *)(in_EAX + -4 + iVar15 * 4);
                  *(float *)(param_4 + -4 + (int)pfVar11 * 4) =
                       *(float *)(in_EAX + -4 + iVar15 * 4) - *(float *)(in_EAX + -4 + iVar26 * 4);
                  *(float *)(param_4 + (int)local_44 * 4) =
                       *(float *)(in_EAX + iVar15 * 4) + *(float *)(in_EAX + iVar26 * 4);
                  iVar17 = iVar26 + unaff_EBX;
                  iVar16 = iVar15 + unaff_EBX;
                  *(float *)(param_4 + (int)pfVar11 * 4) =
                       *(float *)(in_EAX + iVar26 * 4) - *(float *)(in_EAX + iVar15 * 4);
                  pfVar11 = (float *)((int)pfVar11 + iVar9);
                  iVar18 = (int)local_44 + iVar9;
                  *(float *)(param_4 + -4 + iVar18 * 4) =
                       *(float *)(in_EAX + -4 + iVar17 * 4) + *(float *)(in_EAX + -4 + iVar16 * 4);
                  *(float *)(param_4 + -4 + (int)pfVar11 * 4) =
                       *(float *)(in_EAX + -4 + iVar16 * 4) - *(float *)(in_EAX + -4 + iVar17 * 4);
                  *(float *)(param_4 + iVar18 * 4) =
                       *(float *)(in_EAX + iVar16 * 4) + *(float *)(in_EAX + iVar17 * 4);
                  iVar26 = iVar17 + unaff_EBX;
                  iVar15 = iVar16 + unaff_EBX;
                  *(float *)(param_4 + (int)pfVar11 * 4) =
                       *(float *)(in_EAX + iVar17 * 4) - *(float *)(in_EAX + iVar16 * 4);
                  pfVar11 = (float *)((int)pfVar11 + iVar9);
                  iVar18 = iVar18 + iVar9;
                  *(float *)(param_4 + -4 + iVar18 * 4) =
                       *(float *)(in_EAX + -4 + iVar26 * 4) + *(float *)(in_EAX + -4 + iVar15 * 4);
                  *(float *)(param_4 + -4 + (int)pfVar11 * 4) =
                       *(float *)(in_EAX + -4 + iVar15 * 4) - *(float *)(in_EAX + -4 + iVar26 * 4);
                  *(float *)(param_4 + iVar18 * 4) =
                       *(float *)(in_EAX + iVar15 * 4) + *(float *)(in_EAX + iVar26 * 4);
                  iVar17 = iVar26 + unaff_EBX;
                  iVar16 = iVar15 + unaff_EBX;
                  *(float *)(param_4 + (int)pfVar11 * 4) =
                       *(float *)(in_EAX + iVar26 * 4) - *(float *)(in_EAX + iVar15 * 4);
                  pfVar11 = (float *)((int)pfVar11 + iVar9);
                  iVar18 = iVar18 + iVar9;
                  *(float *)(param_4 + -4 + iVar18 * 4) =
                       *(float *)(in_EAX + -4 + iVar17 * 4) + *(float *)(in_EAX + -4 + iVar16 * 4);
                  *(float *)(param_4 + -4 + (int)pfVar11 * 4) =
                       *(float *)(in_EAX + -4 + iVar16 * 4) - *(float *)(in_EAX + -4 + iVar17 * 4);
                  *(float *)(param_4 + iVar18 * 4) =
                       *(float *)(in_EAX + iVar16 * 4) + *(float *)(in_EAX + iVar17 * 4);
                  iVar26 = iVar17 + unaff_EBX;
                  iVar15 = iVar16 + unaff_EBX;
                  *(float *)(param_4 + (int)pfVar11 * 4) =
                       *(float *)(in_EAX + iVar17 * 4) - *(float *)(in_EAX + iVar16 * 4);
                  pfVar11 = (float *)((int)pfVar11 + iVar9);
                  local_44 = (float *)(iVar18 + iVar9);
                  local_4 = local_4 + -1;
                } while (local_4 != 0);
              }
              if ((int)local_60 < param_2) {
                pfVar25 = (float *)(param_4 + (int)local_44 * 4);
                pfVar11 = (float *)(param_4 + (int)pfVar11 * 4);
                iVar16 = param_2 - (int)local_60;
                pfVar19 = (float *)(in_EAX + iVar15 * 4);
                pfVar14 = (float *)(in_EAX + iVar26 * 4);
                do {
                  pfVar25[-1] = pfVar14[-1] + pfVar19[-1];
                  pfVar11[-1] = pfVar19[-1] - pfVar14[-1];
                  *pfVar25 = *pfVar19 + *pfVar14;
                  pfVar25 = pfVar25 + iVar9;
                  *pfVar11 = *pfVar14 - *pfVar19;
                  pfVar11 = pfVar11 + iVar9;
                  pfVar19 = pfVar19 + unaff_EBX;
                  pfVar14 = pfVar14 + unaff_EBX;
                  iVar16 = iVar16 + -1;
                } while (iVar16 != 0);
              }
              param_1 = (float *)((int)param_1 + -2);
              local_10 = (float *)((int)local_10 + -1);
            } while (local_10 != (float *)0x0);
          }
          local_14 = local_14 + -1;
        } while (local_14 != 0);
        return;
      }
    }
    else if (1 < local_8) {
      local_24 = (float *)(in_EAX + 8 + iVar23 * 4);
      local_20 = (float *)(param_4 + 8);
      param_3 = (float *)(param_4 + -8);
      param_1 = (float *)(in_EAX + 8);
      local_8 = local_8 + -1;
      do {
        param_3 = param_3 + unaff_EBX * 2;
        local_20 = local_20 + unaff_EBX * 2;
        param_1 = param_1 + iVar8;
        local_24 = local_24 + -iVar8;
        if (0 < param_2) {
          local_4 = param_2;
          pfVar27 = local_20;
          local_30 = local_24;
          local_2c = param_1;
          local_28 = param_3;
          do {
            if (2 < unaff_EBX) {
              iVar7 = (unaff_EBX - 3U >> 1) + 1;
              pfVar11 = local_30;
              pfVar25 = local_2c;
              pfVar19 = local_28;
              pfVar14 = pfVar27;
              do {
                iVar7 = iVar7 + -1;
                pfVar14[-1] = pfVar11[-1] + pfVar25[-1];
                pfVar19[-1] = pfVar25[-1] - pfVar11[-1];
                *pfVar14 = *pfVar11 + *pfVar25;
                *pfVar19 = *pfVar11 - *pfVar25;
                pfVar11 = pfVar11 + 2;
                pfVar25 = pfVar25 + 2;
                pfVar19 = pfVar19 + -2;
                pfVar14 = pfVar14 + 2;
              } while (iVar7 != 0);
            }
            local_28 = local_28 + iVar9;
            pfVar27 = pfVar27 + iVar9;
            local_2c = local_2c + unaff_EBX;
            local_30 = local_30 + unaff_EBX;
            local_4 = local_4 + -1;
          } while (local_4 != 0);
        }
        local_8 = local_8 + -1;
      } while (local_8 != 0);
    }
  }
  return;
}



void __thiscall FUN_004570b0(void *this,int param_1,float *param_2,int param_3)

{
  int iVar1;
  void *this_00;
  float *pfVar2;
  float *pfVar3;
  int iVar4;
  float *unaff_ESI;
  int iVar5;
  int local_14;
  float **local_10;
  int local_4;
  
  local_4 = *(int *)((int)this + 4);
  local_14 = 1;
  if (0 < local_4) {
    local_10 = (float **)((int)this + local_4 * 4 + 4);
    iVar4 = param_1;
    iVar5 = param_1;
    do {
      pfVar2 = *local_10;
      iVar1 = iVar4 / (int)pfVar2;
      this_00 = (void *)(param_1 / iVar4);
      local_14 = 1 - local_14;
      iVar5 = iVar5 - ((int)pfVar2 + -1) * (int)this_00;
      if (pfVar2 == (float *)0x4) {
        pfVar2 = param_2;
        if (local_14 != 0) {
          pfVar2 = unaff_ESI;
        }
        FUN_004551c0((uint)this_00,pfVar2,iVar1,param_3 + -4 + iVar5 * 4,
                     param_3 + -4 + ((int)this_00 + iVar5) * 4,
                     (float *)(param_3 + -4 + ((int)this_00 + iVar5 + (int)this_00) * 4));
      }
      else if (pfVar2 == (float *)0x2) {
        if (local_14 == 0) {
          FUN_00454e90(this_00,iVar1,param_3 + -4 + iVar5 * 4);
        }
        else {
          FUN_00454e90(this_00,iVar1,param_3 + -4 + iVar5 * 4);
        }
      }
      else {
        if (this_00 == (void *)0x1) {
          local_14 = 1 - local_14;
        }
        iVar4 = param_3 + -4 + iVar5 * 4;
        if (local_14 == 0) {
          FUN_00455af0(unaff_ESI,pfVar2,iVar1,(float *)((int)this_00 * iVar1),(int)unaff_ESI,
                       (int)unaff_ESI,(int)param_2,iVar4);
          local_14 = 1;
        }
        else {
          FUN_00455af0(param_2,pfVar2,iVar1,(float *)((int)this_00 * iVar1),(int)param_2,
                       (int)param_2,(int)unaff_ESI,iVar4);
          local_14 = 0;
        }
      }
      local_10 = local_10 + -1;
      local_4 = local_4 + -1;
      iVar4 = iVar1;
    } while (local_4 != 0);
    if (local_14 != 1) {
      iVar4 = 0;
      if (3 < param_1) {
        iVar5 = (param_1 - 4U >> 2) + 1;
        iVar4 = iVar5 * 4;
        pfVar2 = unaff_ESI + 1;
        pfVar3 = param_2 + 3;
        do {
          pfVar2[-1] = pfVar3[-3];
          iVar5 = iVar5 + -1;
          *pfVar2 = *(float *)((int)param_2 + (-0x10 - (int)unaff_ESI) + (int)(pfVar2 + 4));
          pfVar2[1] = pfVar3[-1];
          pfVar2[2] = *pfVar3;
          pfVar2 = pfVar2 + 4;
          pfVar3 = pfVar3 + 4;
        } while (iVar5 != 0);
      }
      if (iVar4 < param_1) {
        iVar5 = param_1 - iVar4;
        pfVar2 = unaff_ESI + iVar4;
        do {
          iVar5 = iVar5 + -1;
          *pfVar2 = *(float *)((int)pfVar2 + ((int)param_2 - (int)unaff_ESI));
          pfVar2 = pfVar2 + 1;
        } while (iVar5 != 0);
      }
    }
  }
  return;
}



void __cdecl FUN_00457290(int *param_1)

{
  int iVar1;
  
  iVar1 = *param_1;
  if (iVar1 != 1) {
    FUN_004570b0((void *)param_1[2],iVar1,(float *)param_1[1],(int)((float *)param_1[1] + iVar1));
  }
  return;
}



void __cdecl FUN_004572c0(int *param_1,int param_2)

{
  void *pvVar1;
  int *piVar2;
  
  *param_1 = param_2;
  pvVar1 = calloc(param_2 * 3,4);
  param_1[1] = (int)pvVar1;
  piVar2 = (int *)calloc(0x20,4);
  param_1[2] = (int)piVar2;
  FUN_00454e70(piVar2,param_1[1]);
  return;
}



void __cdecl FUN_00457300(undefined4 *param_1)

{
  if (param_1 != (undefined4 *)0x0) {
    if ((void *)param_1[1] != (void *)0x0) {
      free((void *)param_1[1]);
    }
    if ((void *)param_1[2] != (void *)0x0) {
      free((void *)param_1[2]);
    }
    *param_1 = 0;
    param_1[1] = 0;
    param_1[2] = 0;
  }
  return;
}



void __cdecl FUN_00457340(int *param_1,int param_2)

{
  void *pvVar1;
  void *pvVar2;
  uint uVar3;
  byte bVar4;
  undefined4 extraout_ECX;
  undefined4 extraout_EDX;
  uint uVar5;
  float *pfVar6;
  uint uVar7;
  int iVar8;
  uint uVar9;
  int iVar10;
  float10 fVar11;
  float10 fVar12;
  ulonglong uVar13;
  
  iVar10 = (int)(param_2 + (param_2 >> 0x1f & 3U)) >> 2;
  pvVar1 = malloc(iVar10 * 4);
  pvVar2 = malloc((iVar10 + param_2) * 4);
  fVar11 = (float10)_CIlog();
  fVar12 = (float10)_CIlog();
  floor((double)((float10)(double)fVar11 / fVar12 + (float10)0.5));
  uVar13 = FUN_0045db50(extraout_ECX,extraout_EDX);
  param_1[3] = (int)pvVar1;
  iVar8 = 0;
  param_1[1] = (int)uVar13;
  *param_1 = param_2;
  param_1[2] = (int)pvVar2;
  if (0 < iVar10) {
    pfVar6 = (float *)((int)pvVar2 + (param_2 >> 1) * 4);
    do {
      fVar11 = (float10)_CIcos();
      *(float *)((int)pvVar2 + iVar8 * 8) = (float)fVar11;
      fVar11 = (float10)_CIsin();
      *(float *)((int)pvVar2 + iVar8 * 8 + 4) = (float)-fVar11;
      fVar11 = (float10)_CIcos();
      *pfVar6 = (float)fVar11;
      fVar11 = (float10)_CIsin();
      pfVar6[1] = (float)fVar11;
      iVar8 = iVar8 + 1;
      pfVar6 = pfVar6 + 2;
    } while (iVar8 < iVar10);
  }
  iVar8 = (int)(param_2 + (param_2 >> 0x1f & 7U)) >> 3;
  if (0 < iVar8) {
    pfVar6 = (float *)((int)pvVar2 + param_2 * 4);
    iVar10 = iVar8;
    do {
      fVar11 = (float10)_CIcos();
      *pfVar6 = (float)(fVar11 * (float10)0.5);
      fVar11 = (float10)_CIsin();
      iVar10 = iVar10 + -1;
      pfVar6[1] = (float)(fVar11 * (float10)-0.5);
      pfVar6 = pfVar6 + 2;
    } while (iVar10 != 0);
  }
  uVar9 = 1 << ((char)uVar13 - 2U & 0x1f);
  uVar5 = 0;
  if (0 < iVar8) {
    do {
      uVar7 = 0;
      bVar4 = 0;
      if (uVar9 != 0) {
        uVar7 = 0;
        uVar3 = uVar9;
        do {
          if ((uVar5 & uVar3) != 0) {
            uVar7 = uVar7 | 1 << (bVar4 & 0x1f);
          }
          bVar4 = bVar4 + 1;
          uVar3 = (int)uVar9 >> (bVar4 & 0x1f);
        } while (uVar3 != 0);
      }
      *(uint *)((int)pvVar1 + uVar5 * 8) = (~uVar7 & (1 << ((char)uVar13 - 1U & 0x1f)) - 1U) - 1;
      *(uint *)((int)pvVar1 + uVar5 * 8 + 4) = uVar7;
      uVar5 = uVar5 + 1;
    } while ((int)uVar5 < iVar8);
  }
  param_1[4] = (int)(4.0 / (float)param_2);
  return;
}



void FUN_00457560(void)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  float fVar6;
  float *in_EAX;
  
  fVar1 = in_EAX[6];
  fVar2 = in_EAX[6];
  fVar3 = in_EAX[4];
  fVar4 = *in_EAX;
  in_EAX[6] = fVar1 + in_EAX[2] + *in_EAX + in_EAX[4];
  in_EAX[4] = (fVar1 + in_EAX[2]) - (*in_EAX + in_EAX[4]);
  fVar1 = in_EAX[3];
  *in_EAX = (in_EAX[5] - in_EAX[1]) + (fVar2 - in_EAX[2]);
  in_EAX[2] = (fVar2 - in_EAX[2]) - (in_EAX[5] - in_EAX[1]);
  fVar2 = in_EAX[1];
  fVar5 = in_EAX[7];
  fVar6 = in_EAX[3];
  in_EAX[3] = (in_EAX[7] - fVar1) + (fVar3 - fVar4);
  in_EAX[1] = (in_EAX[7] - fVar1) - (fVar3 - fVar4);
  in_EAX[7] = in_EAX[5] + fVar2 + fVar5 + fVar6;
  in_EAX[5] = (fVar5 + fVar6) - (in_EAX[5] + fVar2);
  return;
}



void FUN_00457610(void)

{
  float *pfVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float *in_EAX;
  
  pfVar1 = in_EAX + 8;
  fVar2 = in_EAX[9];
  fVar3 = *in_EAX;
  fVar4 = *pfVar1;
  *pfVar1 = *pfVar1 + *in_EAX;
  in_EAX[9] = in_EAX[9] + in_EAX[1];
  *in_EAX = ((in_EAX[1] - fVar2) + (fVar3 - fVar4)) * 0.7071068;
  in_EAX[1] = ((in_EAX[1] - fVar2) - (fVar3 - fVar4)) * 0.7071068;
  fVar2 = in_EAX[0xb];
  fVar3 = in_EAX[10];
  fVar4 = in_EAX[2];
  in_EAX[10] = in_EAX[10] + in_EAX[2];
  in_EAX[0xb] = in_EAX[0xb] + in_EAX[3];
  in_EAX[2] = in_EAX[3] - fVar2;
  in_EAX[3] = fVar3 - fVar4;
  fVar2 = in_EAX[0xc];
  fVar3 = in_EAX[4];
  fVar4 = in_EAX[0xd];
  in_EAX[0xc] = in_EAX[0xc] + in_EAX[4];
  in_EAX[0xd] = in_EAX[0xd] + in_EAX[5];
  in_EAX[4] = ((fVar2 - fVar3) - (fVar4 - in_EAX[5])) * 0.7071068;
  in_EAX[5] = ((fVar4 - in_EAX[5]) + (fVar2 - fVar3)) * 0.7071068;
  fVar2 = in_EAX[0xe];
  fVar3 = in_EAX[0xf];
  in_EAX[0xe] = in_EAX[0xe] + in_EAX[6];
  in_EAX[0xf] = in_EAX[0xf] + in_EAX[7];
  in_EAX[6] = fVar2 - in_EAX[6];
  in_EAX[7] = fVar3 - in_EAX[7];
  FUN_00457560();
  FUN_00457560();
  return;
}



void FUN_00457710(void)

{
  float *pfVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float *in_EAX;
  
  fVar2 = in_EAX[0x1e];
  fVar3 = in_EAX[0x1f];
  in_EAX[0x1e] = in_EAX[0x1e] + in_EAX[0xe];
  in_EAX[0x1f] = in_EAX[0x1f] + in_EAX[0xf];
  in_EAX[0xe] = fVar2 - in_EAX[0xe];
  in_EAX[0xf] = fVar3 - in_EAX[0xf];
  fVar2 = in_EAX[0x1c];
  fVar3 = in_EAX[0xc];
  fVar4 = in_EAX[0x1d];
  in_EAX[0x1c] = in_EAX[0x1c] + in_EAX[0xc];
  in_EAX[0x1d] = in_EAX[0x1d] + in_EAX[0xd];
  in_EAX[0xc] = (fVar2 - fVar3) * 0.9238795 - (fVar4 - in_EAX[0xd]) * 0.3826834;
  in_EAX[0xd] = (fVar2 - fVar3) * 0.3826834 + (fVar4 - in_EAX[0xd]) * 0.9238795;
  fVar2 = in_EAX[0x1a];
  fVar3 = in_EAX[10];
  fVar4 = in_EAX[0x1b];
  in_EAX[0x1a] = in_EAX[0x1a] + in_EAX[10];
  in_EAX[0x1b] = in_EAX[0x1b] + in_EAX[0xb];
  in_EAX[10] = ((fVar2 - fVar3) - (fVar4 - in_EAX[0xb])) * 0.7071068;
  in_EAX[0xb] = ((fVar4 - in_EAX[0xb]) + (fVar2 - fVar3)) * 0.7071068;
  fVar2 = in_EAX[0x18];
  fVar3 = in_EAX[8];
  fVar4 = in_EAX[0x19];
  in_EAX[0x18] = in_EAX[0x18] + in_EAX[8];
  in_EAX[0x19] = in_EAX[0x19] + in_EAX[9];
  in_EAX[8] = (fVar2 - fVar3) * 0.3826834 - (fVar4 - in_EAX[9]) * 0.9238795;
  in_EAX[9] = (fVar2 - fVar3) * 0.9238795 + (fVar4 - in_EAX[9]) * 0.3826834;
  fVar2 = in_EAX[0x16];
  fVar3 = in_EAX[6];
  fVar4 = in_EAX[0x17];
  in_EAX[0x16] = in_EAX[0x16] + in_EAX[6];
  in_EAX[0x17] = in_EAX[0x17] + in_EAX[7];
  in_EAX[6] = in_EAX[7] - fVar4;
  in_EAX[7] = fVar2 - fVar3;
  fVar2 = in_EAX[4];
  fVar3 = in_EAX[0x14];
  fVar4 = in_EAX[0x15];
  in_EAX[0x14] = in_EAX[0x14] + in_EAX[4];
  in_EAX[0x15] = in_EAX[0x15] + in_EAX[5];
  in_EAX[4] = (fVar2 - fVar3) * 0.3826834 + (in_EAX[5] - fVar4) * 0.9238795;
  in_EAX[5] = (in_EAX[5] - fVar4) * 0.3826834 - (fVar2 - fVar3) * 0.9238795;
  fVar2 = in_EAX[2];
  fVar3 = in_EAX[0x12];
  fVar4 = in_EAX[0x13];
  in_EAX[0x12] = in_EAX[0x12] + in_EAX[2];
  in_EAX[0x13] = in_EAX[0x13] + in_EAX[3];
  in_EAX[2] = ((fVar2 - fVar3) + (in_EAX[3] - fVar4)) * 0.7071068;
  in_EAX[3] = ((in_EAX[3] - fVar4) - (fVar2 - fVar3)) * 0.7071068;
  fVar2 = *in_EAX;
  pfVar1 = in_EAX + 0x10;
  fVar3 = *pfVar1;
  fVar4 = in_EAX[0x11];
  *pfVar1 = *pfVar1 + *in_EAX;
  in_EAX[0x11] = in_EAX[0x11] + in_EAX[1];
  *in_EAX = (fVar2 - fVar3) * 0.9238795 + (in_EAX[1] - fVar4) * 0.3826834;
  in_EAX[1] = (in_EAX[1] - fVar4) * 0.9238795 - (fVar2 - fVar3) * 0.3826834;
  FUN_00457610();
  FUN_00457610();
  return;
}



void __fastcall FUN_00457940(int param_1,float *param_2)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float *pfVar5;
  float *pfVar6;
  float *pfVar7;
  float *unaff_EDI;
  
  pfVar5 = unaff_EDI + (param_1 >> 1) + -8;
  pfVar7 = unaff_EDI + (param_1 >> 1) + -8 + (param_1 - (param_1 >> 1)) + 7;
  do {
    fVar1 = pfVar7[-1];
    fVar2 = pfVar5[6];
    fVar3 = *pfVar7;
    fVar4 = pfVar5[7];
    pfVar7[-1] = pfVar5[6] + pfVar7[-1];
    *pfVar7 = pfVar5[7] + *pfVar7;
    pfVar5[6] = (fVar3 - fVar4) * param_2[1] + (fVar1 - fVar2) * *param_2;
    pfVar5[7] = (fVar3 - fVar4) * *param_2 - param_2[1] * (fVar1 - fVar2);
    fVar1 = pfVar7[-3];
    fVar2 = pfVar5[4];
    fVar3 = pfVar7[-2];
    fVar4 = pfVar5[5];
    pfVar7[-3] = pfVar5[4] + pfVar7[-3];
    pfVar7[-2] = pfVar7[-2] + pfVar5[5];
    pfVar5[4] = (fVar1 - fVar2) * param_2[4] + (fVar3 - fVar4) * param_2[5];
    pfVar5[5] = param_2[4] * (fVar3 - fVar4) - (fVar1 - fVar2) * param_2[5];
    fVar1 = pfVar7[-5];
    fVar2 = pfVar5[2];
    fVar3 = pfVar7[-4];
    fVar4 = pfVar5[3];
    pfVar7[-5] = pfVar7[-5] + pfVar5[2];
    pfVar7[-4] = pfVar7[-4] + pfVar5[3];
    pfVar5[2] = (fVar3 - fVar4) * param_2[9] + (fVar1 - fVar2) * param_2[8];
    pfVar6 = pfVar5 + -8;
    pfVar5[3] = param_2[8] * (fVar3 - fVar4) - (fVar1 - fVar2) * param_2[9];
    fVar1 = pfVar7[-7];
    fVar2 = *pfVar5;
    fVar3 = pfVar7[-6];
    fVar4 = pfVar5[1];
    pfVar7[-7] = *pfVar5 + pfVar7[-7];
    pfVar7[-6] = pfVar5[1] + pfVar7[-6];
    *pfVar5 = (fVar3 - fVar4) * param_2[0xd] + (fVar1 - fVar2) * param_2[0xc];
    pfVar5[1] = param_2[0xc] * (fVar3 - fVar4) - (fVar1 - fVar2) * param_2[0xd];
    pfVar5 = pfVar6;
    pfVar7 = pfVar7 + -8;
    param_2 = param_2 + 0x10;
  } while (unaff_EDI <= pfVar6);
  return;
}



void __fastcall FUN_00457aa0(int param_1,float *param_2,int param_3)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float *pfVar5;
  float *pfVar6;
  float *pfVar7;
  float *pfVar8;
  float *pfVar9;
  float *unaff_EBX;
  
  pfVar5 = unaff_EBX + (param_1 >> 1) + -8;
  pfVar6 = unaff_EBX + (param_1 >> 1) + -8 + (param_1 - (param_1 >> 1)) + 7;
  do {
    fVar1 = pfVar6[-1];
    fVar2 = pfVar5[6];
    fVar3 = *pfVar6;
    fVar4 = pfVar5[7];
    pfVar6[-1] = pfVar5[6] + pfVar6[-1];
    *pfVar6 = pfVar5[7] + *pfVar6;
    pfVar5[6] = (fVar3 - fVar4) * param_2[1] + (fVar1 - fVar2) * *param_2;
    pfVar7 = param_2 + param_3;
    pfVar5[7] = (fVar3 - fVar4) * *param_2 - param_2[1] * (fVar1 - fVar2);
    fVar1 = pfVar6[-3];
    fVar2 = pfVar5[4];
    fVar3 = pfVar6[-2];
    fVar4 = pfVar5[5];
    pfVar6[-3] = pfVar5[4] + pfVar6[-3];
    pfVar6[-2] = pfVar5[5] + pfVar6[-2];
    pfVar5[4] = (fVar3 - fVar4) * pfVar7[1] + (fVar1 - fVar2) * *pfVar7;
    pfVar8 = pfVar7 + param_3;
    pfVar5[5] = (fVar3 - fVar4) * *pfVar7 - pfVar7[1] * (fVar1 - fVar2);
    fVar1 = pfVar6[-5];
    fVar2 = pfVar5[2];
    fVar3 = pfVar6[-4];
    fVar4 = pfVar5[3];
    pfVar6[-5] = pfVar5[2] + pfVar6[-5];
    pfVar6[-4] = pfVar6[-4] + pfVar5[3];
    pfVar5[2] = (fVar3 - fVar4) * pfVar8[1] + (fVar1 - fVar2) * *pfVar8;
    pfVar7 = pfVar5 + -8;
    pfVar9 = pfVar8 + param_3;
    pfVar5[3] = (fVar3 - fVar4) * *pfVar8 - pfVar8[1] * (fVar1 - fVar2);
    fVar1 = pfVar6[-7];
    fVar2 = *pfVar5;
    fVar3 = pfVar6[-6];
    fVar4 = pfVar5[1];
    pfVar6[-7] = *pfVar5 + pfVar6[-7];
    pfVar6[-6] = pfVar5[1] + pfVar6[-6];
    *pfVar5 = (fVar3 - fVar4) * pfVar9[1] + (fVar1 - fVar2) * *pfVar9;
    param_2 = pfVar9 + param_3;
    pfVar5[1] = (fVar3 - fVar4) * *pfVar9 - pfVar9[1] * (fVar1 - fVar2);
    pfVar5 = pfVar7;
    pfVar6 = pfVar6 + -8;
  } while (unaff_EBX <= pfVar7);
  return;
}



void __cdecl FUN_00457c10(undefined4 param_1,int param_2)

{
  float *pfVar1;
  int in_EAX;
  int iVar2;
  byte bVar3;
  int iVar4;
  
  pfVar1 = *(float **)(in_EAX + 8);
  iVar4 = *(int *)(in_EAX + 4);
  if (0 < iVar4 + -6) {
    FUN_00457940(param_2,pfVar1);
  }
  bVar3 = 1;
  for (iVar4 = iVar4 + -7; 0 < iVar4; iVar4 = iVar4 + -1) {
    iVar2 = 1 << (bVar3 & 0x1f);
    if (0 < iVar2) {
      do {
        FUN_00457aa0(param_2 >> (bVar3 & 0x1f),pfVar1,4 << (bVar3 & 0x1f));
        iVar2 = iVar2 + -1;
      } while (iVar2 != 0);
    }
    bVar3 = bVar3 + 1;
  }
  if (0 < param_2) {
    iVar4 = (param_2 - 1U >> 5) + 1;
    do {
      FUN_00457710();
      iVar4 = iVar4 + -1;
    } while (iVar4 != 0);
  }
  return;
}



void __cdecl FUN_00457cd0(undefined4 *param_1)

{
  if (param_1 != (undefined4 *)0x0) {
    if ((void *)param_1[2] != (void *)0x0) {
      free((void *)param_1[2]);
    }
    if ((void *)param_1[3] != (void *)0x0) {
      free((void *)param_1[3]);
    }
    *param_1 = 0;
    param_1[1] = 0;
    param_1[2] = 0;
    param_1[3] = 0;
    param_1[4] = 0;
  }
  return;
}



void __fastcall FUN_00457d10(undefined4 param_1,float *param_2)

{
  float *pfVar1;
  float *pfVar2;
  float *pfVar3;
  float fVar4;
  float fVar5;
  float fVar6;
  float fVar7;
  int *in_EAX;
  float *pfVar8;
  float *pfVar9;
  float *pfVar10;
  float *pfVar11;
  int *piVar12;
  int iVar13;
  
  piVar12 = (int *)in_EAX[3];
  iVar13 = *in_EAX >> 1;
  pfVar8 = (float *)(in_EAX[2] + *in_EAX * 4);
  pfVar9 = param_2 + iVar13 + 3;
  pfVar10 = param_2;
  do {
    pfVar1 = param_2 + iVar13 + *piVar12;
    pfVar2 = param_2 + iVar13 + piVar12[1];
    fVar4 = (param_2[iVar13 + *piVar12 + 1] - param_2[iVar13 + piVar12[1] + 1]) * pfVar8[1] +
            (*pfVar2 + *pfVar1) * *pfVar8;
    fVar5 = (*pfVar2 + *pfVar1) * pfVar8[1] -
            *pfVar8 * (param_2[iVar13 + *piVar12 + 1] - param_2[iVar13 + piVar12[1] + 1]);
    fVar6 = (pfVar2[1] + pfVar1[1]) * 0.5;
    fVar7 = (*pfVar1 - *pfVar2) * 0.5;
    *pfVar10 = fVar6 + fVar4;
    pfVar9[-5] = fVar6 - fVar4;
    pfVar10[1] = fVar7 + fVar5;
    pfVar9[-4] = fVar5 - fVar7;
    pfVar2 = param_2 + iVar13 + piVar12[2];
    pfVar3 = param_2 + iVar13 + piVar12[3];
    fVar6 = (param_2[iVar13 + piVar12[2] + 1] - param_2[iVar13 + piVar12[3] + 1]) * pfVar8[3] +
            (*pfVar3 + *pfVar2) * pfVar8[2];
    fVar7 = pfVar8[3] * (*pfVar3 + *pfVar2) -
            (param_2[iVar13 + piVar12[2] + 1] - param_2[iVar13 + piVar12[3] + 1]) * pfVar8[2];
    fVar4 = (pfVar3[1] + pfVar2[1]) * 0.5;
    pfVar11 = pfVar10 + 4;
    pfVar1 = pfVar9 + -7;
    pfVar8 = pfVar8 + 4;
    piVar12 = piVar12 + 4;
    fVar5 = (*pfVar2 - *pfVar3) * 0.5;
    pfVar10[2] = fVar4 + fVar6;
    pfVar9[-7] = fVar4 - fVar6;
    pfVar10[3] = fVar5 + fVar7;
    pfVar9[-6] = fVar7 - fVar5;
    pfVar9 = pfVar9 + -4;
    pfVar10 = pfVar11;
  } while (pfVar11 < pfVar1);
  return;
}



void __cdecl FUN_00457e80(int *param_1,float *param_2,float *param_3)

{
  float fVar1;
  int iVar2;
  float *pfVar3;
  float *pfVar4;
  undefined4 extraout_ECX;
  float *pfVar5;
  float *pfVar6;
  float *pfVar7;
  float *pfVar8;
  int iVar9;
  float *pfVar10;
  
  iVar2 = *param_1 >> 2;
  iVar9 = *param_1 >> 1;
  pfVar4 = param_3 + iVar2 + iVar9;
  pfVar3 = (float *)(param_1[2] + iVar2 * 4);
  pfVar5 = param_2 + iVar9 + -7;
  pfVar8 = pfVar4;
  do {
    pfVar10 = pfVar5 + -8;
    pfVar8[-4] = -pfVar5[2] * pfVar3[3] - *pfVar5 * pfVar3[2];
    pfVar8[-3] = *pfVar5 * pfVar3[3] - pfVar3[2] * pfVar5[2];
    pfVar8[-2] = -pfVar5[6] * pfVar3[1] - *pfVar3 * pfVar5[4];
    pfVar8[-1] = pfVar3[1] * pfVar5[4] - pfVar5[6] * *pfVar3;
    pfVar3 = pfVar3 + 4;
    pfVar5 = pfVar10;
    pfVar8 = pfVar8 + -4;
  } while (param_2 <= pfVar10);
  pfVar3 = (float *)(param_1[2] + iVar2 * 4);
  pfVar5 = param_2 + iVar9 + -8;
  pfVar8 = pfVar4;
  do {
    pfVar10 = pfVar3 + -4;
    pfVar6 = pfVar5 + -8;
    *pfVar8 = pfVar3[-1] * pfVar5[4] + pfVar3[-2] * pfVar5[6];
    pfVar8[1] = pfVar3[-2] * pfVar5[4] - pfVar5[6] * pfVar3[-1];
    pfVar8[2] = *pfVar10 * pfVar5[2] + *pfVar5 * pfVar3[-3];
    pfVar8[3] = *pfVar5 * *pfVar10 - pfVar3[-3] * pfVar5[2];
    pfVar3 = pfVar10;
    pfVar5 = pfVar6;
    pfVar8 = pfVar8 + 4;
  } while (param_2 <= pfVar6);
  FUN_00457c10(param_3 + iVar9,iVar9);
  FUN_00457d10(extraout_ECX,param_3);
  pfVar3 = (float *)(param_1[2] + iVar9 * 4);
  pfVar5 = param_3 + 3;
  pfVar8 = pfVar4;
  pfVar10 = pfVar4;
  do {
    pfVar7 = pfVar8 + -4;
    pfVar6 = pfVar5 + 5;
    pfVar8[-1] = pfVar3[1] * pfVar5[-3] - pfVar5[-2] * *pfVar3;
    *pfVar10 = -(*pfVar3 * pfVar5[-3] + pfVar5[-2] * pfVar3[1]);
    pfVar8[-2] = pfVar5[-1] * pfVar3[3] - pfVar3[2] * *pfVar5;
    pfVar10[1] = -(pfVar3[3] * *pfVar5 + pfVar5[-1] * pfVar3[2]);
    pfVar8[-3] = pfVar5[1] * pfVar3[5] - pfVar5[2] * pfVar3[4];
    pfVar10[2] = -(pfVar5[1] * pfVar3[4] + pfVar5[2] * pfVar3[5]);
    *pfVar7 = pfVar5[3] * pfVar3[7] - pfVar3[6] * pfVar5[4];
    pfVar10[3] = -(pfVar5[4] * pfVar3[7] + pfVar3[6] * pfVar5[3]);
    pfVar3 = pfVar3 + 8;
    pfVar5 = pfVar5 + 8;
    pfVar8 = pfVar7;
    pfVar10 = pfVar10 + 4;
  } while (pfVar6 < pfVar7);
  pfVar3 = pfVar4;
  pfVar5 = param_3 + iVar2 + 2;
  pfVar8 = pfVar4 + (2 - iVar9);
  do {
    fVar1 = pfVar3[-1];
    pfVar7 = pfVar3 + -4;
    pfVar8[-3] = fVar1;
    pfVar10 = pfVar5 + 2;
    pfVar5[-2] = -fVar1;
    fVar1 = pfVar3[-2];
    pfVar8[-4] = fVar1;
    pfVar5[-1] = -fVar1;
    fVar1 = pfVar3[-3];
    pfVar8[-5] = fVar1;
    *pfVar5 = -fVar1;
    fVar1 = *pfVar7;
    pfVar8[-6] = fVar1;
    pfVar5[1] = -fVar1;
    pfVar3 = pfVar7;
    pfVar6 = pfVar4;
    pfVar5 = pfVar5 + 4;
    pfVar8 = pfVar8 + -4;
  } while (pfVar10 < pfVar7);
  do {
    pfVar3 = pfVar4 + -4;
    *pfVar3 = pfVar6[3];
    pfVar4[-3] = pfVar6[2];
    pfVar4[-2] = pfVar6[1];
    pfVar4[-1] = *pfVar6;
    pfVar4 = pfVar3;
    pfVar6 = pfVar6 + 4;
  } while (param_3 + iVar9 < pfVar3);
  return;
}



// WARNING: Function: __alloca_probe_16 replaced with injection: alloca_probe
// WARNING: Unable to track spacebase fully for stack

void __cdecl FUN_004580f0(int *param_1,int param_2,int param_3)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  int iVar5;
  int iVar6;
  float *pfVar7;
  int iVar8;
  undefined4 extraout_ECX;
  float *pfVar9;
  float *pfVar10;
  float *pfVar11;
  int iVar12;
  float *pfVar13;
  int iVar14;
  float *pfVar15;
  float *pfVar16;
  float afStack_44 [3];
  int local_2c;
  int local_28;
  int local_20;
  int local_18;
  int local_14;
  float *local_10;
  float *local_c;
  uint local_8;
  
  local_8 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  iVar12 = *param_1;
  local_14 = iVar12 >> 1;
  local_18 = iVar12 >> 2;
  local_2c = iVar12 * 4;
  local_20 = iVar12 >> 3;
  afStack_44[2] = 6.382982e-39;
  iVar5 = iVar12 * -4;
  pfVar15 = (float *)(&stack0xffffffc8 + iVar5);
  local_28 = local_14 * 4;
  local_c = (float *)(param_2 + (local_18 + local_14) * 4);
  pfVar7 = (float *)(param_1[2] + local_28);
  iVar8 = 0;
  pfVar9 = pfVar7;
  iVar14 = iVar8;
  local_10 = local_c + 1;
  if (0 < local_20) {
    do {
      fVar1 = local_c[-2];
      local_c = local_c + -4;
      fVar2 = *local_10;
      pfVar7 = pfVar9 + -2;
      iVar8 = iVar14 + 2;
      fVar3 = local_10[2];
      fVar4 = *local_c;
      afStack_44[(local_14 + iVar14 + 3) - iVar12] =
           (fVar1 + fVar2) * *pfVar7 + (fVar3 + fVar4) * pfVar9[-1];
      afStack_44[(local_14 + iVar14 + 4) - iVar12] =
           *pfVar7 * (fVar3 + fVar4) - (fVar1 + fVar2) * pfVar9[-1];
      pfVar9 = pfVar7;
      iVar14 = iVar8;
      local_10 = local_10 + 4;
    } while (iVar8 < local_20);
  }
  pfVar11 = (float *)(param_2 + 4);
  local_20 = local_14 - local_20;
  pfVar9 = pfVar7;
  local_10 = pfVar11;
  if (iVar8 < local_20) {
    do {
      iVar6 = local_20;
      fVar1 = local_c[-2];
      local_c = local_c + -4;
      fVar2 = *pfVar11;
      pfVar9 = pfVar7 + -2;
      iVar8 = iVar8 + 2;
      local_10 = pfVar11 + 4;
      fVar3 = *local_c;
      fVar4 = pfVar11[2];
      iVar14 = local_28 + iVar5 + -0x38;
      *(float *)((int)afStack_44 + iVar8 * 4 + iVar14 + 0x3c) =
           (fVar1 - fVar2) * *pfVar9 + (fVar3 - fVar4) * pfVar7[-1];
      *(float *)((int)afStack_44 + iVar8 * 4 + iVar14 + 0x40) =
           *pfVar9 * (fVar3 - fVar4) - (fVar1 - fVar2) * pfVar7[-1];
      pfVar7 = pfVar9;
      pfVar11 = local_10;
    } while (iVar8 < iVar6);
  }
  local_c = (float *)(param_2 + local_2c);
  if (iVar8 < local_14) {
    do {
      iVar6 = local_14;
      fVar1 = local_c[-2];
      local_c = local_c + -4;
      pfVar7 = pfVar9 + -2;
      fVar2 = *local_10;
      iVar8 = iVar8 + 2;
      fVar3 = *local_c;
      iVar14 = local_28 + iVar5 + -0x38;
      fVar4 = local_10[2];
      *(float *)((int)afStack_44 + iVar8 * 4 + iVar14 + 0x3c) =
           (-fVar1 - fVar2) * *pfVar7 + (-fVar3 - fVar4) * pfVar9[-1];
      *(float *)((int)afStack_44 + iVar8 * 4 + iVar14 + 0x40) =
           *pfVar7 * (-fVar3 - fVar4) - (-fVar1 - fVar2) * pfVar9[-1];
      pfVar9 = pfVar7;
      local_10 = local_10 + 4;
    } while (iVar8 < iVar6);
  }
  afStack_44[2 - iVar12] = (float)local_14;
  afStack_44[1 - iVar12] = (float)(&stack0xffffffc8 + local_28 + iVar5);
  afStack_44[-iVar12] = 6.383523e-39;
  FUN_00457c10(afStack_44[1 - iVar12],(int)afStack_44[2 - iVar12]);
  afStack_44[2 - iVar12] = 6.383539e-39;
  FUN_00457d10(extraout_ECX,(float *)(&stack0xffffffc8 + iVar5));
  pfVar7 = (float *)(param_1[2] + local_28);
  pfVar9 = (float *)(param_3 + local_28);
  iVar12 = 0;
  if (3 < local_18) {
    iVar14 = (local_18 - 4U >> 2) + 1;
    iVar12 = iVar14 * 4;
    pfVar11 = pfVar7;
    pfVar10 = pfVar9;
    pfVar13 = (float *)(param_3 + 8);
    pfVar16 = (float *)(&stack0xffffffc8 + iVar5);
    do {
      pfVar15 = pfVar16 + 8;
      pfVar9 = pfVar10 + -4;
      pfVar7 = pfVar11 + 8;
      iVar14 = iVar14 + -1;
      pfVar13[-2] = (pfVar16[1] * pfVar11[1] + *pfVar11 * *pfVar16) * (float)param_1[4];
      pfVar10[-1] = (pfVar11[1] * *pfVar16 - *pfVar11 * pfVar16[1]) * (float)param_1[4];
      pfVar13[-1] = (pfVar11[2] * pfVar16[2] + pfVar11[3] * pfVar16[3]) * (float)param_1[4];
      pfVar10[-2] = (pfVar11[3] * pfVar16[2] - pfVar16[3] * pfVar11[2]) * (float)param_1[4];
      *pfVar13 = (pfVar11[4] * pfVar16[4] + pfVar11[5] * pfVar16[5]) * (float)param_1[4];
      pfVar10[-3] = (pfVar16[4] * pfVar11[5] - pfVar11[4] * pfVar16[5]) * (float)param_1[4];
      pfVar13[1] = (pfVar11[7] * pfVar16[7] + pfVar11[6] * pfVar16[6]) * (float)param_1[4];
      *pfVar9 = (pfVar16[6] * pfVar11[7] - pfVar11[6] * pfVar16[7]) * (float)param_1[4];
      pfVar11 = pfVar7;
      pfVar10 = pfVar9;
      pfVar13 = pfVar13 + 4;
      pfVar16 = pfVar15;
    } while (iVar14 != 0);
  }
  while (iVar12 < local_18) {
    pfVar9 = pfVar9 + -1;
    iVar12 = iVar12 + 1;
    *(float *)(param_3 + -4 + iVar12 * 4) =
         (pfVar15[1] * pfVar7[1] + *pfVar7 * *pfVar15) * (float)param_1[4];
    *pfVar9 = (pfVar7[1] * *pfVar15 - *pfVar7 * pfVar15[1]) * (float)param_1[4];
    pfVar7 = pfVar7 + 2;
    pfVar15 = pfVar15 + 2;
  }
  ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __cdecl FUN_004583f0(void *param_1)

{
  memset(param_1,0,0x30);
  return;
}



undefined4 __cdecl FUN_00458410(int param_1)

{
  int *piVar1;
  
  piVar1 = (int *)(*(int *)(*(int *)(param_1 + 0x40) + 0x68) + 0x50);
  if ((piVar1 != (int *)0x0) && (*piVar1 != 0)) {
    return 1;
  }
  return 0;
}



void __cdecl FUN_00458430(void *param_1)

{
  void **ppvVar1;
  int iVar2;
  
  FUN_00457cd0((undefined4 *)((int)param_1 + 0x10));
  ppvVar1 = (void **)((int)param_1 + 0x30);
  iVar2 = 7;
  do {
    free(*ppvVar1);
    ppvVar1 = ppvVar1 + 4;
    iVar2 = iVar2 + -1;
  } while (iVar2 != 0);
  free(*(void **)((int)param_1 + 0x24));
  free(*(void **)((int)param_1 + 0x98));
  free(*(void **)((int)param_1 + 0xa0));
  memset(param_1,0,0xb4);
  return;
}



undefined * __cdecl FUN_004584a0(int param_1)

{
  return (&PTR_DAT_00479fc0)[param_1];
}



void __cdecl
FUN_004584b0(undefined4 *param_1,int param_2,int param_3,uint param_4,int param_5,uint param_6)

{
  float fVar1;
  undefined *puVar2;
  undefined *puVar3;
  int iVar4;
  uint uVar5;
  int iVar6;
  int iVar7;
  float *pfVar8;
  uint uVar9;
  int iVar10;
  int iVar11;
  int iVar12;
  float *pfVar13;
  int iVar14;
  int iVar15;
  undefined4 *puVar16;
  
  uVar5 = -(uint)(param_5 != 0) & param_4;
  uVar9 = -(uint)(param_5 != 0) & param_6;
  puVar2 = (&PTR_DAT_00479fc0)[*(int *)(param_2 + uVar9 * 4)];
  puVar3 = (&PTR_DAT_00479fc0)[*(int *)(param_2 + uVar5 * 4)];
  iVar4 = *(int *)(param_3 + uVar5 * 4);
  iVar11 = *(int *)(param_3 + param_5 * 4);
  iVar15 = *(int *)(param_3 + uVar9 * 4);
  iVar10 = (int)(iVar11 + (iVar11 >> 0x1f & 3U)) >> 2;
  iVar14 = iVar10 - ((int)(iVar4 + (iVar4 >> 0x1f & 3U)) >> 2);
  iVar10 = (iVar11 / 2 - ((int)(iVar15 + (iVar15 >> 0x1f & 3U)) >> 2)) + iVar10;
  iVar12 = iVar4 / 2 + iVar14;
  iVar4 = iVar15 / 2 + iVar10;
  iVar6 = 0;
  iVar7 = iVar14;
  puVar16 = param_1;
  if (0 < iVar14) {
    for (; iVar6 = iVar14, iVar7 != 0; iVar7 = iVar7 + -1) {
      *puVar16 = 0;
      puVar16 = puVar16 + 1;
    }
  }
  param_2 = 0;
  if (iVar6 < iVar12) {
    if (3 < iVar12 - iVar6) {
      iVar14 = ((iVar12 - iVar6) - 4U >> 2) + 1;
      iVar7 = iVar6 + 2;
      param_2 = iVar14 * 4;
      iVar6 = iVar6 + param_2;
      pfVar8 = (float *)(param_1 + iVar7);
      pfVar13 = (float *)(puVar3 + 8);
      do {
        iVar14 = iVar14 + -1;
        pfVar8[-2] = pfVar13[-2] * pfVar8[-2];
        pfVar8[-1] = pfVar13[-1] * pfVar8[-1];
        *pfVar8 = *pfVar8 * *pfVar13;
        pfVar8[1] = pfVar13[1] * pfVar8[1];
        pfVar8 = pfVar8 + 4;
        pfVar13 = pfVar13 + 4;
      } while (iVar14 != 0);
    }
    if (iVar6 < iVar12) {
      pfVar8 = (float *)(puVar3 + param_2 * 4);
      do {
        iVar7 = iVar6 + 1;
        fVar1 = *pfVar8;
        pfVar8 = pfVar8 + 1;
        param_1[iVar6] = (float)param_1[iVar6] * fVar1;
        iVar6 = iVar7;
      } while (iVar7 < iVar12);
    }
  }
  iVar15 = iVar15 / 2 + -1;
  if (iVar10 < iVar4) {
    if (3 < iVar4 - iVar10) {
      iVar12 = ((iVar4 - iVar10) - 4U >> 2) + 1;
      iVar7 = iVar10 + 2;
      iVar6 = iVar15 * 4;
      iVar10 = iVar10 + iVar12 * 4;
      iVar15 = iVar15 + iVar12 * -4;
      pfVar8 = (float *)(param_1 + iVar7);
      pfVar13 = (float *)(puVar2 + iVar6 + -8);
      do {
        iVar12 = iVar12 + -1;
        pfVar8[-2] = pfVar13[2] * pfVar8[-2];
        pfVar8[-1] = pfVar13[1] * pfVar8[-1];
        *pfVar8 = *pfVar8 * *pfVar13;
        pfVar8[1] = pfVar13[-1] * pfVar8[1];
        pfVar8 = pfVar8 + 4;
        pfVar13 = pfVar13 + -4;
      } while (iVar12 != 0);
    }
    if (iVar10 < iVar4) {
      pfVar8 = (float *)(puVar2 + iVar15 * 4);
      iVar15 = iVar10;
      do {
        fVar1 = *pfVar8;
        iVar10 = iVar15 + 1;
        pfVar8 = pfVar8 + -1;
        param_1[iVar15] = fVar1 * (float)param_1[iVar15];
        iVar15 = iVar10;
      } while (iVar10 < iVar4);
    }
  }
  if (iVar10 < iVar11) {
    puVar16 = param_1 + iVar10;
    for (iVar11 = iVar11 - iVar10; iVar11 != 0; iVar11 = iVar11 + -1) {
      *puVar16 = 0;
      puVar16 = puVar16 + 1;
    }
  }
  return;
}



void __cdecl FUN_004586b0(void *param_1)

{
  if (param_1 != (void *)0x0) {
    memset(param_1,0,0xc88);
    free(param_1);
  }
  return;
}



void __cdecl FUN_004586e0(int param_1,uint *param_2,int *param_3)

{
  uint *puVar1;
  int iVar2;
  uint *puVar3;
  
  puVar1 = param_2;
  if ((int)*param_2 < 2) {
    FUN_0044f500(param_3,0,1);
  }
  else {
    FUN_0044f500(param_3,1,1);
    FUN_0044f500(param_3,*param_2 - 1,4);
  }
  if ((int)param_2[0x121] < 1) {
    FUN_0044f500(param_3,0,1);
  }
  else {
    FUN_0044f500(param_3,1,1);
    FUN_0044f500(param_3,param_2[0x121] - 1,8);
    puVar3 = param_2 + 0x121;
    param_2 = (uint *)0x0;
    if (0 < (int)*puVar3) {
      puVar3 = puVar1 + 0x222;
      do {
        iVar2 = FUN_0044e1d0(*(int *)(param_1 + 4));
        FUN_0044f500(param_3,puVar3[-0x100],iVar2);
        iVar2 = FUN_0044e1d0(*(int *)(param_1 + 4));
        FUN_0044f500(param_3,*puVar3,iVar2);
        param_2 = (uint *)((int)param_2 + 1);
        puVar3 = puVar3 + 1;
      } while ((int)param_2 < (int)puVar1[0x121]);
    }
  }
  FUN_0044f500(param_3,0,2);
  if ((1 < (int)*puVar1) && (iVar2 = 0, 0 < *(int *)(param_1 + 4))) {
    param_2 = puVar1 + 1;
    do {
      FUN_0044f500(param_3,*param_2,4);
      param_2 = param_2 + 1;
      iVar2 = iVar2 + 1;
    } while (iVar2 < *(int *)(param_1 + 4));
  }
  iVar2 = 0;
  if (0 < (int)*puVar1) {
    puVar3 = puVar1 + 0x111;
    do {
      FUN_0044f500(param_3,0,8);
      FUN_0044f500(param_3,puVar3[-0x10],8);
      FUN_0044f500(param_3,*puVar3,8);
      iVar2 = iVar2 + 1;
      puVar3 = puVar3 + 1;
    } while (iVar2 < (int)*puVar1);
  }
  return;
}



uint * __cdecl FUN_00458830(int param_1,int *param_2)

{
  int iVar1;
  uint *_Dst;
  uint uVar2;
  int iVar3;
  uint uVar4;
  uint *puVar5;
  int local_8;
  
  _Dst = (uint *)calloc(1,0xc88);
  iVar1 = *(int *)(param_1 + 0x1c);
  memset(_Dst,0,0xc88);
  uVar2 = FUN_0044f700(param_2,1);
  if (uVar2 == 0) {
    *_Dst = 1;
  }
  else {
    uVar2 = FUN_0044f700(param_2,4);
    *_Dst = uVar2 + 1;
  }
  uVar2 = FUN_0044f700(param_2,1);
  if (uVar2 != 0) {
    uVar2 = FUN_0044f700(param_2,8);
    _Dst[0x121] = uVar2 + 1;
    local_8 = 0;
    if (0 < (int)(uVar2 + 1)) {
      puVar5 = _Dst + 0x222;
      do {
        iVar3 = FUN_0044e1d0(*(int *)(param_1 + 4));
        uVar2 = FUN_0044f700(param_2,iVar3);
        puVar5[-0x100] = uVar2;
        iVar3 = FUN_0044e1d0(*(int *)(param_1 + 4));
        uVar4 = FUN_0044f700(param_2,iVar3);
        *puVar5 = uVar4;
        if (((((int)uVar2 < 0) || ((int)uVar4 < 0)) || (uVar2 == uVar4)) ||
           ((*(int *)(param_1 + 4) <= (int)uVar2 || (*(int *)(param_1 + 4) <= (int)uVar4))))
        goto LAB_004589dd;
        local_8 = local_8 + 1;
        puVar5 = puVar5 + 1;
      } while (local_8 < (int)_Dst[0x121]);
    }
  }
  uVar2 = FUN_0044f700(param_2,2);
  if ((int)uVar2 < 1) {
    if ((1 < (int)*_Dst) && (0 < *(int *)(param_1 + 4))) {
      iVar3 = 0;
      puVar5 = _Dst;
      do {
        puVar5 = puVar5 + 1;
        uVar2 = FUN_0044f700(param_2,4);
        *puVar5 = uVar2;
        if ((int)*_Dst <= (int)uVar2) goto LAB_004589dd;
        iVar3 = iVar3 + 1;
      } while (iVar3 < *(int *)(param_1 + 4));
    }
    local_8 = 0;
    if (0 < (int)*_Dst) {
      puVar5 = _Dst + 0x111;
      do {
        FUN_0044f700(param_2,8);
        uVar2 = FUN_0044f700(param_2,8);
        puVar5[-0x10] = uVar2;
        if (*(int *)(iVar1 + 0x10) <= (int)uVar2) goto LAB_004589dd;
        uVar2 = FUN_0044f700(param_2,8);
        *puVar5 = uVar2;
        if (*(int *)(iVar1 + 0x14) <= (int)uVar2) goto LAB_004589dd;
        local_8 = local_8 + 1;
        puVar5 = puVar5 + 1;
      } while (local_8 < (int)*_Dst);
    }
    return _Dst;
  }
LAB_004589dd:
  FUN_004586b0(_Dst);
  return (uint *)0x0;
}



// WARNING: Removing unreachable block (ram,0x00458a09)

float10 FUN_004589f0(void)

{
  uint *in_EAX;
  
  return (float10)((float)(*in_EAX & 0x7fffffff) * 7.177114e-07 - 764.6162);
}



// WARNING: Function: __alloca_probe_16 replaced with injection: alloca_probe
// WARNING: Unable to track spacebase fully for stack

void __cdecl FUN_00458a30(int *param_1)

{
  float *pfVar1;
  undefined4 *puVar2;
  undefined4 uVar3;
  int iVar4;
  undefined *puVar5;
  code *pcVar6;
  int iVar7;
  int iVar8;
  uint uVar9;
  void *pvVar10;
  float fVar11;
  int iVar12;
  int iVar13;
  int *piVar14;
  int iVar15;
  int iVar16;
  undefined4 uVar17;
  undefined4 *puVar18;
  float *pfVar19;
  int extraout_EDX;
  int extraout_EDX_00;
  float *extraout_EDX_01;
  void *pvVar20;
  undefined *puVar21;
  undefined *puVar22;
  undefined *puVar23;
  undefined *puVar24;
  int *piVar25;
  int iVar26;
  float10 fVar27;
  int *apiStack_d4 [2];
  int aiStack_cc [4];
  int *piStack_bc;
  float *pfStack_b8;
  int *piStack_b4;
  float *pfStack_b0;
  int *piStack_ac;
  float *pfStack_a8;
  int *piStack_a4;
  float *pfStack_a0;
  int *piStack_9c;
  int iStack_98;
  float *pfStack_94;
  uint *puStack_90;
  float *pfStack_8c;
  undefined *local_7c;
  undefined4 local_78;
  int local_74;
  int *local_70;
  int local_6c;
  int *local_68;
  undefined *local_64;
  undefined4 *local_60;
  int local_5c;
  int local_58;
  int local_54;
  int local_50;
  uint local_4c;
  undefined *local_48;
  undefined *local_44;
  int local_40;
  int local_3c;
  int *local_38;
  void *local_34;
  float local_30;
  int local_2c;
  undefined4 *local_28;
  int local_24;
  undefined4 *local_20;
  int local_1c;
  int *local_18;
  int local_14;
  int *local_10;
  float *local_c;
  uint local_8;
  
  local_8 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  local_1c = *(int *)(param_1[0x10] + 0x68);
  iVar12 = *(int *)(param_1[0x10] + 4);
  iVar16 = *(int *)(iVar12 + 4);
  local_3c = *(int *)(iVar12 + 0x1c);
  local_38 = (int *)param_1[0x1a];
  local_2c = param_1[9];
  pfStack_8c = (float *)0x458a75;
  iVar4 = iVar16 * -4;
  local_64 = &stack0xffffff78 + iVar4;
  local_40 = iVar12;
  (&pfStack_8c)[-iVar16] = (float *)(iVar16 * 4);
  (&puStack_90)[-iVar16] = (uint *)param_1;
  (&pfStack_94)[-iVar16] = (float *)0x458a7f;
  local_60 = (undefined4 *)FUN_0044e270((int)(&puStack_90)[-iVar16],(int)(&pfStack_8c)[-iVar16]);
  (&pfStack_94)[-iVar16] = (float *)(*(int *)(iVar12 + 4) * 4);
  (&piStack_9c)[1 - iVar16] = param_1;
  (&piStack_9c)[-iVar16] = (int *)0x458a90;
  local_70 = (int *)FUN_0044e270((int)(&piStack_9c)[1 - iVar16],(int)(&pfStack_94)[-iVar16]);
  (&piStack_9c)[-iVar16] = (int *)(*(int *)(iVar12 + 4) * 4);
  (&pfStack_a0)[-iVar16] = (float *)param_1;
  (&piStack_a4)[-iVar16] = (int *)0x458aa1;
  local_68 = (int *)FUN_0044e270((int)(&pfStack_a0)[-iVar16],(int)(&piStack_9c)[-iVar16]);
  local_48 = *(undefined **)((int)local_38 + 4);
  iVar26 = *(int *)(iVar12 + 4);
  (&pfStack_8c)[-iVar16] = (float *)0x458abc;
  iVar7 = iVar26 * -4;
  local_28 = (undefined4 *)(&stack0xffffff78 + iVar7 + iVar4);
  local_c = (float *)(&stack0xffffff78 + iVar7 + iVar4);
  local_74 = param_1[7];
  local_18 = *(int **)(local_3c + 0x220 + local_74 * 4);
  pvVar20 = (void *)(((-(uint)(local_74 != 0) & 2) + *(int *)((int)local_38 + 8)) * 0x34 +
                    *(int *)(local_1c + 0x38));
  param_1[10] = local_74;
  local_14 = 0;
  local_34 = pvVar20;
  puVar21 = &stack0xffffff78 + iVar7 + iVar4;
  if (0 < *(int *)(iVar12 + 4)) {
    local_50 = (local_2c / 2) * 4;
    (&pfStack_8c)[-iVar16 - iVar26] = (float *)0x458b26;
    fVar27 = FUN_004589f0();
    local_5c = (int)local_60 - (int)(&stack0xffffff78 + iVar7 + iVar4);
    local_10 = (int *)(float)(fVar27 + (float10)0.345);
    iVar13 = extraout_EDX;
    do {
      pfVar1 = *(float **)(*param_1 + local_14 * 4);
      (&pfStack_8c)[-iVar16 - iVar26] = (float *)iVar13;
      (&puStack_90)[-iVar16 - iVar26] = (uint *)param_1;
      (&pfStack_94)[-iVar16 - iVar26] = (float *)0x458b52;
      iVar12 = FUN_0044e270((int)(&puStack_90)[-iVar16 - iVar26],
                            (int)(&pfStack_8c)[-iVar16 - iVar26]);
      *(int *)(local_5c + (int)local_c) = iVar12;
      iVar12 = param_1[7];
      iVar13 = param_1[6];
      (&pfStack_94)[-iVar16 - iVar26] = (float *)param_1[8];
      iVar15 = local_3c;
      (&piStack_9c)[(1 - iVar26) - iVar16] = (int *)iVar12;
      iVar12 = local_1c;
      (&piStack_9c)[-iVar16 - iVar26] = (int *)iVar13;
      (&pfStack_a0)[-iVar16 - iVar26] = (float *)iVar15;
      (&piStack_a4)[-iVar16 - iVar26] = (int *)(iVar12 + 4);
      (&pfStack_a8)[-iVar16 - iVar26] = pfVar1;
      (&piStack_ac)[-iVar16 - iVar26] = (int *)0x458b78;
      iVar13 = local_1c;
      FUN_004584b0((&pfStack_a8)[-iVar16 - iVar26],(int)(&piStack_a4)[-iVar16 - iVar26],
                   (int)(&pfStack_a0)[-iVar16 - iVar26],(uint)(&piStack_9c)[-iVar16 - iVar26],
                   (int)(&piStack_9c)[(1 - iVar26) - iVar16],(uint)(&pfStack_94)[-iVar16 - iVar26]);
      iVar12 = param_1[7];
      (&piStack_ac)[-iVar16 - iVar26] = (int *)*(undefined4 *)(local_5c + (int)local_c);
      uVar17 = **(undefined4 **)(iVar13 + 0xc + iVar12 * 4);
      (&pfStack_b0)[-iVar16 - iVar26] = pfVar1;
      (&piStack_b4)[-iVar16 - iVar26] = (int *)uVar17;
      (&pfStack_b8)[-iVar16 - iVar26] = (float *)0x458b95;
      FUN_004580f0((&piStack_b4)[-iVar16 - iVar26],(int)(&pfStack_b0)[-iVar16 - iVar26],
                   (int)(&piStack_ac)[-iVar16 - iVar26]);
      iVar13 = param_1[7];
      iVar12 = local_1c + 0x14;
      (&pfStack_b8)[-iVar16 - iVar26] = pfVar1;
      (&piStack_bc)[-iVar16 - iVar26] = (int *)(iVar12 + iVar13 * 0xc);
      aiStack_cc[(3 - iVar26) - iVar16] = 0x458ba9;
      FUN_00457290((&piStack_bc)[-iVar16 - iVar26]);
      (&pfStack_8c)[-iVar16 - iVar26] = (float *)0x458bb3;
      pfVar19 = local_c;
      fVar27 = FUN_004589f0();
      iVar12 = local_2c + -1;
      local_30 = (float)(fVar27 + (float10)(float)local_10 + (float10)0.345);
      *pfVar1 = local_30;
      local_24 = iVar12;
      *local_c = local_30;
      if (1 < iVar12) {
        do {
          (&pfStack_8c)[-iVar16 - iVar26] = (float *)0x458bfa;
          fVar27 = FUN_004589f0();
          local_30 = (float)(fVar27 * (float10)0.5 + (float10)(float)local_10 + (float10)0.345);
          pfVar1[extraout_EDX_00 + 1 >> 1] = local_30;
          if (*local_c < local_30) {
            *local_c = local_30;
          }
          pfVar19 = local_c;
        } while (extraout_EDX_00 + 2 < local_24);
      }
      if (0.0 < *pfVar19) {
        *pfVar19 = 0.0;
      }
      if ((float)local_48 < *pfVar19) {
        local_48 = (undefined *)*pfVar19;
      }
      local_14 = local_14 + 1;
      local_c = pfVar19 + 1;
      iVar13 = local_50;
      iVar12 = local_40;
      puVar21 = (undefined *)local_28;
    } while (local_14 < *(int *)(local_40 + 4));
  }
  local_28 = (undefined4 *)puVar21;
  local_54 = local_2c / 2;
  local_50 = local_54 * 4;
  (&pfStack_8c)[-iVar16 - iVar26] = (float *)local_50;
  (&puStack_90)[-iVar16 - iVar26] = (uint *)param_1;
  (&pfStack_94)[-iVar16 - iVar26] = (float *)0x458c94;
  local_20 = (undefined4 *)
             FUN_0044e270((int)(&puStack_90)[-iVar16 - iVar26],(int)(&pfStack_8c)[-iVar16 - iVar26])
  ;
  (&pfStack_94)[-iVar16 - iVar26] = (float *)local_50;
  (&piStack_9c)[(1 - iVar26) - iVar16] = param_1;
  (&piStack_9c)[-iVar16 - iVar26] = (int *)0x458ca1;
  local_44 = (undefined *)
             FUN_0044e270((int)(&piStack_9c)[(1 - iVar26) - iVar16],
                          (int)(&pfStack_94)[-iVar16 - iVar26]);
  local_14 = 0;
  if (0 < *(int *)(iVar12 + 4)) {
    local_5c = (int)local_60 - (int)local_28;
    local_30 = (float)((int)local_28 - (int)local_68);
    piVar25 = local_68;
    local_10 = local_18;
    do {
      iVar13 = local_74;
      local_10 = local_10 + 1;
      local_58 = *local_10;
      local_28 = *(undefined4 **)((int)piVar25 + local_5c + (int)local_30);
      iVar12 = *(int *)(*param_1 + local_14 * 4);
      local_c = (float *)(local_50 + iVar12);
      (&pfStack_8c)[-iVar16 - iVar26] = (float *)0x3c;
      (&puStack_90)[-iVar16 - iVar26] = (uint *)param_1;
      param_1[10] = iVar13;
      (&pfStack_94)[-iVar16 - iVar26] = (float *)0x458d0a;
      iVar13 = FUN_0044e270((int)(&puStack_90)[-iVar16 - iVar26],
                            (int)(&pfStack_8c)[-iVar16 - iVar26]);
      (&pfStack_94)[-iVar16 - iVar26] = (float *)0x3c;
      (&piStack_9c)[(1 - iVar26) - iVar16] = (int *)0x0;
      (&piStack_9c)[-iVar16 - iVar26] = (int *)iVar13;
      *piVar25 = iVar13;
      (&pfStack_a0)[-iVar16 - iVar26] = (float *)0x458d16;
      memset((&piStack_9c)[-iVar16 - iVar26],(int)(&piStack_9c)[(1 - iVar26) - iVar16],
             (size_t)(&pfStack_94)[-iVar16 - iVar26]);
      if (0 < local_54) {
        local_24 = local_54;
        do {
          (&pfStack_8c)[-iVar16 - iVar26] = (float *)0x458d3a;
          fVar27 = FUN_004589f0();
          local_24 = local_24 + -1;
          *extraout_EDX_01 = (float)(fVar27 + (float10)0.345);
        } while (local_24 != 0);
      }
      iVar13 = (int)local_c;
      pvVar20 = local_34;
      (&pfStack_8c)[-iVar16 - iVar26] = (float *)local_20;
      (&puStack_90)[-iVar16 - iVar26] = (uint *)iVar13;
      (&pfStack_94)[-iVar16 - iVar26] = (float *)pvVar20;
      (&piStack_9c)[(1 - iVar26) - iVar16] = (int *)0x458d5d;
      pvVar10 = local_34;
      FUN_00452000(pvVar20,(&pfStack_94)[-iVar16 - iVar26],(int)(&puStack_90)[-iVar16 - iVar26],
                   (&pfStack_8c)[-iVar16 - iVar26]);
      (&pfStack_8c)[-iVar16 - iVar26] = *(float **)((int)local_30 + (int)piVar25);
      iVar13 = (int)local_44;
      (&puStack_90)[-iVar16 - iVar26] = (uint *)local_48;
      (&pfStack_94)[-iVar16 - iVar26] = (float *)iVar13;
      (&piStack_9c)[(1 - iVar26) - iVar16] = (int *)iVar12;
      (&piStack_9c)[-iVar16 - iVar26] = (int *)pvVar10;
      (&pfStack_a0)[-iVar16 - iVar26] = (float *)0x458d81;
      uVar17 = local_28;
      iVar13 = (int)local_44;
      FUN_00452200((&piStack_9c)[-iVar16 - iVar26],(&piStack_9c)[(1 - iVar26) - iVar16],
                   (int)(&pfStack_94)[-iVar16 - iVar26],(&puStack_90)[-iVar16 - iVar26],
                   (float)(&pfStack_8c)[-iVar16 - iVar26]);
      (&pfStack_a0)[-iVar16 - iVar26] = local_c;
      iVar15 = (int)local_20;
      (&piStack_a4)[-iVar16 - iVar26] = (int *)uVar17;
      pvVar20 = local_34;
      (&pfStack_a8)[-iVar16 - iVar26] = (float *)iVar12;
      (&piStack_ac)[-iVar16 - iVar26] = (int *)0x1;
      (&pfStack_b0)[-iVar16 - iVar26] = (float *)iVar13;
      (&piStack_b4)[-iVar16 - iVar26] = (int *)iVar15;
      (&pfStack_b8)[-iVar16 - iVar26] = (float *)pvVar20;
      (&piStack_bc)[-iVar16 - iVar26] = (int *)0x458d9d;
      iVar8 = (int)local_c;
      iVar15 = local_1c;
      FUN_00452350((int *)(&pfStack_b8)[-iVar16 - iVar26],(int)(&piStack_b4)[-iVar16 - iVar26],
                   (int)(&pfStack_b0)[-iVar16 - iVar26],(int)(&piStack_ac)[-iVar16 - iVar26],
                   (int)(&pfStack_a8)[-iVar16 - iVar26],(int)(&piStack_a4)[-iVar16 - iVar26],
                   (&pfStack_a0)[-iVar16 - iVar26]);
      iVar13 = local_18[local_58 + 0x101];
      if (*(int *)(local_3c + 800 + iVar13 * 4) != 1) goto LAB_0045938f;
      (&pfStack_8c)[-iVar16 - iVar26] = (float *)iVar12;
      (&puStack_90)[-iVar16 - iVar26] = (uint *)iVar8;
      (&pfStack_94)[-iVar16 - iVar26] =
           (float *)*(undefined4 *)(*(int *)(iVar15 + 0x30) + iVar13 * 4);
      (&piStack_9c)[(1 - iVar26) - iVar16] = param_1;
      (&piStack_9c)[-iVar16 - iVar26] = (int *)0x458dd3;
      piVar14 = FUN_0045c140((int)(&piStack_9c)[(1 - iVar26) - iVar16],
                             (int)(&pfStack_94)[-iVar16 - iVar26],
                             (uint)(&puStack_90)[-iVar16 - iVar26],
                             (int)(&pfStack_8c)[-iVar16 - iVar26]);
      iVar13 = *piVar25;
      (&piStack_9c)[-iVar16 - iVar26] = param_1;
      *(int **)(iVar13 + 0x1c) = piVar14;
      (&pfStack_a0)[-iVar16 - iVar26] = (float *)0x458dde;
      uVar17 = local_28;
      iVar13 = (int)local_44;
      iVar15 = FUN_00458410((int)(&piStack_9c)[-iVar16 - iVar26]);
      if ((iVar15 != 0) && (*(int *)(*piVar25 + 0x1c) != 0)) {
        (&pfStack_8c)[-iVar16 - iVar26] = local_c;
        iVar15 = (int)local_20;
        (&puStack_90)[-iVar16 - iVar26] = (uint *)uVar17;
        pvVar20 = local_34;
        (&pfStack_94)[-iVar16 - iVar26] = (float *)iVar12;
        (&piStack_9c)[(1 - iVar26) - iVar16] = (int *)0x2;
        (&piStack_9c)[-iVar16 - iVar26] = (int *)iVar13;
        (&pfStack_a0)[-iVar16 - iVar26] = (float *)iVar15;
        (&piStack_a4)[-iVar16 - iVar26] = (int *)pvVar20;
        (&pfStack_a8)[-iVar16 - iVar26] = (float *)0x458e11;
        iVar15 = (int)local_c;
        piVar14 = local_18;
        iVar13 = local_58;
        FUN_00452350((&piStack_a4)[-iVar16 - iVar26],(int)(&pfStack_a0)[-iVar16 - iVar26],
                     (int)(&piStack_9c)[-iVar16 - iVar26],(int)(&piStack_9c)[(1 - iVar26) - iVar16],
                     (int)(&pfStack_94)[-iVar16 - iVar26],(int)(&puStack_90)[-iVar16 - iVar26],
                     (&pfStack_8c)[-iVar16 - iVar26]);
        (&pfStack_a8)[-iVar16 - iVar26] = (float *)iVar12;
        (&piStack_ac)[-iVar16 - iVar26] = (int *)iVar15;
        (&pfStack_b0)[-iVar16 - iVar26] =
             (float *)*(undefined4 *)(*(int *)(local_1c + 0x30) + piVar14[iVar13 + 0x101] * 4);
        (&piStack_b4)[-iVar16 - iVar26] = param_1;
        (&pfStack_b8)[-iVar16 - iVar26] = (float *)0x458e33;
        piVar14 = FUN_0045c140((int)(&piStack_b4)[-iVar16 - iVar26],
                               (int)(&pfStack_b0)[-iVar16 - iVar26],
                               (uint)(&piStack_ac)[-iVar16 - iVar26],
                               (int)(&pfStack_a8)[-iVar16 - iVar26]);
        iVar13 = *piVar25;
        (&pfStack_b8)[-iVar16 - iVar26] = local_c;
        iVar8 = (int)local_20;
        iVar15 = (int)local_44;
        *(int **)(iVar13 + 0x38) = piVar14;
        (&piStack_bc)[-iVar16 - iVar26] = local_28;
        pvVar20 = local_34;
        aiStack_cc[(3 - iVar26) - iVar16] = iVar12;
        aiStack_cc[(2 - iVar26) - iVar16] = 0;
        aiStack_cc[(1 - iVar26) - iVar16] = iVar15;
        aiStack_cc[-iVar16 - iVar26] = iVar8;
        apiStack_d4[(1 - iVar26) - iVar16] = (int *)pvVar20;
        apiStack_d4[-iVar16 - iVar26] = (int *)0x458e54;
        piVar14 = local_18;
        iVar13 = local_58;
        FUN_00452350(apiStack_d4[(1 - iVar26) - iVar16],aiStack_cc[-iVar16 - iVar26],
                     aiStack_cc[(1 - iVar26) - iVar16],aiStack_cc[(2 - iVar26) - iVar16],
                     aiStack_cc[(3 - iVar26) - iVar16],(int)(&piStack_bc)[-iVar16 - iVar26],
                     (&pfStack_b8)[-iVar16 - iVar26]);
        (&pfStack_8c)[-iVar16 - iVar26] = (float *)iVar12;
        (&puStack_90)[-iVar16 - iVar26] = (uint *)local_c;
        (&pfStack_94)[-iVar16 - iVar26] =
             (float *)*(undefined4 *)(*(int *)(local_1c + 0x30) + piVar14[iVar13 + 0x101] * 4);
        (&piStack_9c)[(1 - iVar26) - iVar16] = param_1;
        (&piStack_9c)[-iVar16 - iVar26] = (int *)0x458e79;
        piVar14 = FUN_0045c140((int)(&piStack_9c)[(1 - iVar26) - iVar16],
                               (int)(&pfStack_94)[-iVar16 - iVar26],
                               (uint)(&puStack_90)[-iVar16 - iVar26],
                               (int)(&pfStack_8c)[-iVar16 - iVar26]);
        *(int **)*piVar25 = piVar14;
        local_24 = 4;
        iVar12 = 0x10000;
        do {
          puVar2 = (undefined4 *)*piVar25;
          uVar17 = puVar2[7];
          (&pfStack_8c)[-iVar16 - iVar26] = (float *)(iVar12 / 7);
          piVar14 = local_18;
          uVar3 = *puVar2;
          (&puStack_90)[-iVar16 - iVar26] = (uint *)uVar17;
          iVar13 = local_58;
          (&pfStack_94)[-iVar16 - iVar26] = (float *)uVar3;
          (&piStack_9c)[(1 - iVar26) - iVar16] =
               (int *)*(undefined4 *)(*(int *)(local_1c + 0x30) + piVar14[iVar13 + 0x101] * 4);
          (&piStack_9c)[-iVar16 - iVar26] = param_1;
          (&pfStack_a0)[-iVar16 - iVar26] = (float *)0x458eca;
          iVar13 = FUN_0045c5a0((int)(&piStack_9c)[-iVar16 - iVar26],
                                (int)(&piStack_9c)[(1 - iVar26) - iVar16],
                                (int)(&pfStack_94)[-iVar16 - iVar26],(&puStack_90)[-iVar16 - iVar26]
                                ,(int)(&pfStack_8c)[-iVar16 - iVar26]);
          *(int *)(local_24 + *piVar25) = iVar13;
          iVar12 = iVar12 + 0x10000;
          local_24 = local_24 + 4;
        } while (iVar12 < 0x70000);
        local_24 = 0x20;
        iVar12 = 0x10000;
        do {
          iVar13 = *piVar25;
          uVar17 = *(undefined4 *)(iVar13 + 0x38);
          (&pfStack_8c)[-iVar16 - iVar26] = (float *)(iVar12 / 7);
          piVar14 = local_18;
          uVar3 = *(undefined4 *)(iVar13 + 0x1c);
          (&puStack_90)[-iVar16 - iVar26] = (uint *)uVar17;
          iVar13 = local_58;
          (&pfStack_94)[-iVar16 - iVar26] = (float *)uVar3;
          (&piStack_9c)[(1 - iVar26) - iVar16] =
               (int *)*(undefined4 *)(*(int *)(local_1c + 0x30) + piVar14[iVar13 + 0x101] * 4);
          (&piStack_9c)[-iVar16 - iVar26] = param_1;
          (&pfStack_a0)[-iVar16 - iVar26] = (float *)0x458f30;
          iVar13 = FUN_0045c5a0((int)(&piStack_9c)[-iVar16 - iVar26],
                                (int)(&piStack_9c)[(1 - iVar26) - iVar16],
                                (int)(&pfStack_94)[-iVar16 - iVar26],(&puStack_90)[-iVar16 - iVar26]
                                ,(int)(&pfStack_8c)[-iVar16 - iVar26]);
          *(int *)(local_24 + *piVar25) = iVar13;
          iVar12 = iVar12 + 0x10000;
          local_24 = local_24 + 4;
        } while (iVar12 < 0x70000);
      }
      local_14 = local_14 + 1;
      piVar25 = piVar25 + 1;
      pvVar20 = local_34;
      iVar12 = local_40;
    } while (local_14 < *(int *)(local_40 + 4));
  }
  *(undefined **)((int)local_38 + 4) = local_48;
  iVar13 = *(int *)(iVar12 + 4);
  local_10 = (int *)(iVar13 * 4);
  (&pfStack_8c)[-iVar16 - iVar26] = (float *)0x458f86;
  iVar8 = (int)local_10;
  iVar15 = iVar13 * -4;
  local_7c = &stack0xffffff78 + iVar15 + iVar7 + iVar4;
  (&pfStack_8c)[(-iVar26 - iVar13) - iVar16] = (float *)0x458f91;
  iVar16 = (int)local_10;
  iVar8 = -iVar8;
  local_44 = &stack0xffffff78 + iVar8 + iVar15 + iVar7 + iVar4;
  *(undefined4 *)((int)&pfStack_8c + iVar8 + iVar15 + iVar7 + iVar4) = 0x458f9c;
  iVar16 = -iVar16;
  local_20 = (undefined4 *)(&stack0xffffff78 + iVar16 + iVar8 + iVar15 + iVar7 + iVar4);
  *(undefined4 *)((int)&pfStack_8c + iVar16 + iVar8 + iVar15 + iVar7 + iVar4) = 0x458fa7;
  piVar25 = local_18;
  iVar13 = local_3c;
  iVar26 = -(int)local_10;
  local_48 = &stack0xffffff78 + iVar26 + iVar16 + iVar8 + iVar15 + iVar7 + iVar4;
  puVar21 = &stack0xffffff78 + iVar26 + iVar16 + iVar8 + iVar15 + iVar7 + iVar4;
  if (local_18[0x121] != 0) {
    *(undefined4 **)((int)&pfStack_8c + iVar26 + iVar16 + iVar8 + iVar15 + iVar7 + iVar4) = local_60
    ;
    *(int **)((int)&puStack_90 + iVar26 + iVar16 + iVar8 + iVar15 + iVar7 + iVar4) = piVar25;
    *(void **)((int)&pfStack_94 + iVar26 + iVar16 + iVar8 + iVar15 + iVar7 + iVar4) = pvVar20;
    *(int *)((int)&piStack_9c + iVar26 + iVar16 + iVar8 + iVar15 + iVar7 + iVar4 + 4) =
         iVar13 + 0xb34;
    *(int **)((int)&piStack_9c + iVar26 + iVar16 + iVar8 + iVar15 + iVar7 + iVar4) = param_1;
    *(undefined4 *)((int)&pfStack_a0 + iVar26 + iVar16 + iVar8 + iVar15 + iVar7 + iVar4) = 0x458fcb;
    local_30 = (float)FUN_00452b90(*(int *)((int)&piStack_9c +
                                           iVar26 + iVar16 + iVar8 + iVar15 + iVar7 + iVar4),
                                   *(int *)((int)&piStack_9c +
                                           iVar26 + iVar16 + iVar8 + iVar15 + iVar7 + iVar4 + 4),
                                   *(int **)((int)&pfStack_94 +
                                            iVar26 + iVar16 + iVar8 + iVar15 + iVar7 + iVar4),
                                   *(int *)((int)&puStack_90 +
                                           iVar26 + iVar16 + iVar8 + iVar15 + iVar7 + iVar4),
                                   *(int *)((int)&pfStack_8c +
                                           iVar26 + iVar16 + iVar8 + iVar15 + iVar7 + iVar4));
    *(float *)((int)&pfStack_a0 + iVar26 + iVar16 + iVar8 + iVar15 + iVar7 + iVar4) = local_30;
    *(int **)((int)&piStack_a4 + iVar26 + iVar16 + iVar8 + iVar15 + iVar7 + iVar4) = local_18;
    *(void **)((int)&pfStack_a8 + iVar26 + iVar16 + iVar8 + iVar15 + iVar7 + iVar4) = pvVar20;
    *(int **)((int)&piStack_ac + iVar26 + iVar16 + iVar8 + iVar15 + iVar7 + iVar4) = param_1;
    *(undefined4 *)((int)&pfStack_b0 + iVar26 + iVar16 + iVar8 + iVar15 + iVar7 + iVar4) = 0x458fda;
    piVar25 = local_18;
    fVar11 = local_30;
    local_78 = FUN_00452d60(*(int *)((int)&piStack_ac +
                                    iVar26 + iVar16 + iVar8 + iVar15 + iVar7 + iVar4),
                            *(int **)((int)&pfStack_a8 +
                                     iVar26 + iVar16 + iVar8 + iVar15 + iVar7 + iVar4),
                            *(int *)((int)&piStack_a4 +
                                    iVar26 + iVar16 + iVar8 + iVar15 + iVar7 + iVar4),
                            *(int *)((int)&pfStack_a0 +
                                    iVar26 + iVar16 + iVar8 + iVar15 + iVar7 + iVar4));
    *(float *)((int)&pfStack_b0 + iVar26 + iVar16 + iVar8 + iVar15 + iVar7 + iVar4) = local_30;
    iVar13 = local_3c;
    *(int **)((int)&piStack_b4 + iVar26 + iVar16 + iVar8 + iVar15 + iVar7 + iVar4) = piVar25;
    *(void **)((int)&pfStack_b8 + iVar26 + iVar16 + iVar8 + iVar15 + iVar7 + iVar4) = pvVar20;
    *(int *)((int)&piStack_bc + iVar26 + iVar16 + iVar8 + iVar15 + iVar7 + iVar4) = iVar13 + 0xb34;
    *(undefined4 *)((int)aiStack_cc + iVar26 + iVar16 + iVar8 + iVar15 + iVar7 + iVar4 + 0xc) =
         0x458ff4;
    FUN_00453660(fVar11,piVar25,
                 *(int *)((int)&piStack_bc + iVar26 + iVar16 + iVar8 + iVar15 + iVar7 + iVar4),
                 *(int **)((int)&pfStack_b8 + iVar26 + iVar16 + iVar8 + iVar15 + iVar7 + iVar4),
                 *(int *)((int)&piStack_b4 + iVar26 + iVar16 + iVar8 + iVar15 + iVar7 + iVar4),
                 *(int *)((int)&pfStack_b0 + iVar26 + iVar16 + iVar8 + iVar15 + iVar7 + iVar4));
    puVar21 = local_48;
  }
  local_48 = puVar21;
  puVar21 = local_48;
  *(int *)((int)&pfStack_8c + iVar26 + iVar16 + iVar8 + iVar15 + iVar7 + iVar4) =
       *(int *)(iVar12 + 4) * 4;
  *(undefined4 *)((int)&puStack_90 + iVar26 + iVar16 + iVar8 + iVar15 + iVar7 + iVar4) = 0;
  *(undefined **)((int)&pfStack_94 + iVar26 + iVar16 + iVar8 + iVar15 + iVar7 + iVar4) = puVar21;
  *(undefined4 *)((int)&piStack_9c + iVar26 + iVar16 + iVar8 + iVar15 + iVar7 + iVar4 + 4) =
       0x45900a;
  memset(*(void **)((int)&pfStack_94 + iVar26 + iVar16 + iVar8 + iVar15 + iVar7 + iVar4),
         *(int *)((int)&puStack_90 + iVar26 + iVar16 + iVar8 + iVar15 + iVar7 + iVar4),
         *(size_t *)((int)&pfStack_8c + iVar26 + iVar16 + iVar8 + iVar15 + iVar7 + iVar4));
  puVar21 = &stack0xffffff78 + iVar26 + iVar16 + iVar8 + iVar15 + iVar7 + iVar4;
  if ((*(int *)(*(int *)((int)pvVar20 + 4) + 500) != 0) &&
     (local_14 = 0, puVar21 = &stack0xffffff78 + iVar26 + iVar16 + iVar8 + iVar15 + iVar7 + iVar4,
     0 < *(int *)(iVar12 + 4))) {
    local_4c = (uint)(local_2c * 4) >> 1;
    local_54 = (int)local_48 - (int)local_60;
    local_10 = local_60;
    puVar24 = &stack0xffffff78 + iVar26 + iVar16 + iVar8 + iVar15 + iVar7 + iVar4;
    do {
      uVar9 = local_4c;
      *(undefined4 *)(puVar24 + -4) = 0x459058;
      puVar2 = local_10;
      iVar26 = local_54;
      iVar16 = -uVar9;
      puVar21 = puVar24 + iVar16;
      *(int *)(puVar24 + iVar16 + -4) = (int)puVar24 + iVar16;
      *(int *)(iVar26 + (int)puVar2) = (int)puVar24 + iVar16;
      *(undefined4 *)(puVar24 + iVar16 + -8) = *puVar2;
      *(void **)(puVar24 + iVar16 + -0xc) = pvVar20;
      *(undefined4 *)(puVar24 + iVar16 + -0x10) = 0x45906d;
      FUN_00452ec0(*(int **)(puVar24 + iVar16 + -0xc),*(int *)(puVar24 + iVar16 + -8),
                   *(int *)(puVar24 + iVar16 + -4));
      local_10 = local_10 + 1;
      local_14 = local_14 + 1;
      puVar24 = puVar24 + iVar16;
    } while (local_14 < *(int *)(iVar12 + 4));
  }
  *(int **)(puVar21 + -4) = param_1;
  *(undefined4 *)(puVar21 + -8) = 0x459086;
  iVar16 = FUN_00458410(*(int *)(puVar21 + -4));
  local_c = (float *)((-(uint)(iVar16 != 0) & 0xfffffff9) + 7);
  *(int **)(puVar21 + -8) = param_1;
  *(undefined4 *)(puVar21 + -0xc) = 0x459099;
  iVar16 = FUN_00458410(*(int *)(puVar21 + -8));
  if ((int)local_c <= (int)((-(uint)(iVar16 != 0) & 7) + 7)) {
    local_28 = (undefined4 *)((int)local_38 + 0xc + (int)local_c * 4);
    do {
      local_2c = *local_28;
      *(undefined4 *)(puVar21 + -4) = 1;
      *(undefined4 *)(puVar21 + -8) = 0;
      *(int *)(puVar21 + -0xc) = local_2c;
      *(undefined4 *)(puVar21 + -0x10) = 0x4590cf;
      uVar17 = local_2c;
      iVar16 = local_74;
      FUN_0044f500(*(int **)(puVar21 + -0xc),*(uint *)(puVar21 + -8),*(int *)(puVar21 + -4));
      *(undefined4 *)(puVar21 + -0x10) = *(undefined4 *)(local_1c + 0x2c);
      *(int *)(puVar21 + -0x14) = iVar16;
      *(undefined4 *)(puVar21 + -0x18) = uVar17;
      *(undefined4 *)(puVar21 + -0x1c) = 0x4590e3;
      uVar17 = local_2c;
      FUN_0044f500(*(int **)(puVar21 + -0x18),*(uint *)(puVar21 + -0x14),*(int *)(puVar21 + -0x10));
      if (param_1[7] != 0) {
        iVar16 = param_1[6];
        *(undefined4 *)(puVar21 + -4) = 1;
        *(int *)(puVar21 + -8) = iVar16;
        *(undefined4 *)(puVar21 + -0xc) = uVar17;
        *(undefined4 *)(puVar21 + -0x10) = 0x4590fb;
        uVar17 = local_2c;
        FUN_0044f500(*(int **)(puVar21 + -0xc),*(uint *)(puVar21 + -8),*(int *)(puVar21 + -4));
        iVar16 = param_1[8];
        *(undefined4 *)(puVar21 + -0x10) = 1;
        *(int *)(puVar21 + -0x14) = iVar16;
        *(undefined4 *)(puVar21 + -0x18) = uVar17;
        *(undefined4 *)(puVar21 + -0x1c) = 0x45910a;
        FUN_0044f500(*(int **)(puVar21 + -0x18),*(uint *)(puVar21 + -0x14),*(int *)(puVar21 + -0x10)
                    );
      }
      local_14 = 0;
      if (0 < *(int *)(iVar12 + 4)) {
        local_54 = (int)local_68 - (int)local_70;
        local_38 = (int *)((int)local_64 - (int)local_70);
        local_4c = (int)local_60 - (int)local_70;
        local_6c = (int)local_48 - (int)local_70;
        piVar25 = local_70;
        local_10 = local_18;
        do {
          local_10 = local_10 + 1;
          local_24 = *local_10;
          local_58 = *(undefined4 *)(local_4c + (int)piVar25);
          iVar12 = *(int *)(*param_1 + local_14 * 4);
          *(int *)(puVar21 + -4) = local_50;
          *(int **)(puVar21 + -8) = param_1;
          *(undefined4 *)(puVar21 + -0xc) = 0x459173;
          iVar16 = (int)local_c;
          local_5c = FUN_0044e270(*(int *)(puVar21 + -8),*(int *)(puVar21 + -4));
          *(int *)(puVar21 + -0xc) = local_5c;
          piVar14 = local_18;
          *piVar25 = local_5c;
          *(undefined4 *)(puVar21 + -0x10) =
               *(undefined4 *)(*(int *)(local_54 + (int)piVar25) + iVar16 * 4);
          uVar17 = local_2c;
          *(undefined4 *)(puVar21 + -0x14) =
               *(undefined4 *)(*(int *)(local_1c + 0x30) + piVar14[local_24 + 0x101] * 4);
          *(int **)(puVar21 + -0x18) = param_1;
          *(undefined4 *)(puVar21 + -0x1c) = uVar17;
          *(undefined4 *)(puVar21 + -0x20) = 0x4591a7;
          uVar17 = FUN_0045c650(*(int **)(puVar21 + -0x1c),*(int *)(puVar21 + -0x18),
                                *(int *)(puVar21 + -0x14),*(uint **)(puVar21 + -0x10),
                                *(void **)(puVar21 + -0xc));
          *(undefined4 *)((int)local_38 + (int)piVar25) = uVar17;
          *(undefined4 *)(puVar21 + -0x20) =
               *(undefined4 *)(local_3c + ((param_1[7] + 0x36) * 0xf + (int)local_c) * 4);
          pvVar20 = local_34;
          *(int *)(puVar21 + -0x24) = iVar12;
          *(int *)(puVar21 + -0x28) = local_5c;
          *(int *)(puVar21 + -0x2c) = local_58;
          *(void **)(puVar21 + -0x30) = pvVar20;
          *(undefined4 *)(puVar21 + -0x34) = 0x4591d6;
          pvVar20 = local_34;
          iVar16 = local_50;
          FUN_00451ef0(*(int **)(puVar21 + -0x30),*(int *)(puVar21 + -0x2c),
                       *(int *)(puVar21 + -0x28),*(int *)(puVar21 + -0x24),*(int *)(puVar21 + -0x20)
                      );
          *(undefined4 *)(puVar21 + -0x34) = *(undefined4 *)(local_6c + (int)piVar25);
          *(int *)(puVar21 + -0x38) = iVar16 + iVar12;
          *(int *)(puVar21 + -0x3c) = iVar12;
          *(void **)(puVar21 + -0x40) = pvVar20;
          *(undefined4 *)(puVar21 + -0x44) = 0x4591ed;
          FUN_00452f80(*(int **)(puVar21 + -0x40),*(int *)(puVar21 + -0x3c),
                       *(float **)(puVar21 + -0x38),*(int *)(puVar21 + -0x34));
          local_14 = local_14 + 1;
          piVar25 = piVar25 + 1;
          pvVar20 = local_34;
          iVar12 = local_40;
        } while (local_14 < *(int *)(local_40 + 4));
      }
      iVar26 = (int)local_c;
      iVar16 = local_3c;
      if (local_18[0x121] != 0) {
        *(undefined4 *)(puVar21 + -4) =
             *(undefined4 *)(local_3c + ((param_1[7] + 0x36) * 0xf + (int)local_c) * 4);
        *(undefined **)(puVar21 + -8) = local_64;
        *(int **)(puVar21 + -0xc) = local_70;
        *(undefined4 *)(puVar21 + -0x10) = local_78;
        *(float *)(puVar21 + -0x14) = local_30;
        *(int *)(puVar21 + -0x18) = *param_1;
        *(int **)(puVar21 + -0x1c) = local_18;
        *(void **)(puVar21 + -0x20) = pvVar20;
        *(int *)(puVar21 + -0x24) = iVar16 + 0xb34;
        *(int *)(puVar21 + -0x28) = iVar26;
        *(undefined4 *)(puVar21 + -0x2c) = 0x459259;
        FUN_00453270(*(int *)(puVar21 + -0x28),*(int *)(puVar21 + -0x24),*(int **)(puVar21 + -0x20),
                     *(int *)(puVar21 + -0x1c),*(int *)(puVar21 + -0x18),*(int *)(puVar21 + -0x14),
                     *(int **)(puVar21 + -0x10),*(undefined4 *)(puVar21 + -0xc),
                     *(int *)(puVar21 + -8),*(int *)(puVar21 + -4));
      }
      local_14 = 0;
      puVar24 = puVar21;
      if (0 < *local_18) {
        local_38 = local_18 + 0x111;
        do {
          puVar2 = local_20;
          puVar24 = local_44;
          iVar12 = *local_38;
          iVar16 = 0;
          iVar26 = 0;
          if (0 < *(int *)(local_40 + 4)) {
            puVar18 = local_20;
            local_10 = local_18;
            do {
              local_10 = local_10 + 1;
              if (*local_10 == local_14) {
                *puVar18 = 0;
                if (*(int *)(local_64 + iVar16 * 4) != 0) {
                  *puVar18 = 1;
                }
                iVar4 = *(int *)(*param_1 + iVar16 * 4);
                *(int *)(((int)local_7c - (int)local_20) + (int)puVar18) = iVar4;
                *(int *)(((int)local_44 - (int)local_20) + (int)puVar18) = local_50 + iVar4;
                iVar26 = iVar26 + 1;
                puVar18 = puVar18 + 1;
              }
              iVar16 = iVar16 + 1;
            } while (iVar16 < *(int *)(local_40 + 4));
          }
          puVar5 = (&PTR_DAT_00472000)[*(int *)(local_3c + 0x520 + iVar12 * 4)];
          *(int *)(puVar21 + -4) = iVar26;
          *(undefined4 **)(puVar21 + -8) = puVar2;
          iVar16 = local_1c;
          *(undefined **)(puVar21 + -0xc) = puVar24;
          pcVar6 = *(code **)(puVar5 + 0x14);
          *(undefined4 *)(puVar21 + -0x10) = *(undefined4 *)(*(int *)(iVar16 + 0x34) + iVar12 * 4);
          *(int **)(puVar21 + -0x14) = param_1;
          puVar22 = puVar21 + -0x18;
          *(undefined4 *)(puVar21 + -0x18) = 0x45931a;
          puVar2 = local_20;
          uVar17 = (*pcVar6)();
          pcVar6 = *(code **)((&PTR_DAT_00472000)[*(int *)(local_3c + 0x520 + iVar12 * 4)] + 0x18);
          *(undefined4 *)(puVar22 + -4) = uVar17;
          puVar21 = local_44;
          *(int *)(puVar22 + -8) = iVar26;
          *(undefined4 **)(puVar22 + -0xc) = puVar2;
          iVar16 = local_1c;
          *(undefined4 *)(puVar22 + -0x10) = 0;
          *(undefined **)(puVar22 + -0x14) = puVar21;
          uVar17 = local_2c;
          *(undefined4 *)(puVar22 + -0x18) = *(undefined4 *)(*(int *)(iVar16 + 0x34) + iVar12 * 4);
          *(int **)(puVar22 + -0x1c) = param_1;
          *(undefined4 *)(puVar22 + -0x20) = uVar17;
          puVar23 = puVar22 + -0x24;
          *(undefined4 *)(puVar22 + -0x24) = 0x45934b;
          (*pcVar6)();
          local_38 = local_38 + 1;
          local_14 = local_14 + 1;
          puVar21 = puVar23 + 0x34;
          puVar24 = puVar23 + 0x34;
          pvVar20 = local_34;
          iVar12 = local_40;
        } while (local_14 < *local_18);
      }
      local_c = (float *)((int)local_c + 1);
      local_28 = local_28 + 1;
      *(int **)(puVar24 + -4) = param_1;
      *(undefined4 *)(puVar24 + -8) = 0x459377;
      iVar16 = FUN_00458410(*(int *)(puVar24 + -4));
      puVar21 = puVar24;
    } while ((int)local_c <= (int)((-(uint)(iVar16 != 0) & 7) + 7));
  }
LAB_0045938f:
  ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



// WARNING: Function: __alloca_probe_16 replaced with injection: alloca_probe
// WARNING: Unable to track spacebase fully for stack

void __cdecl FUN_004593b0(int *param_1,int *param_2)

{
  float fVar1;
  float fVar2;
  code *pcVar3;
  undefined4 uVar4;
  int iVar5;
  int *piVar6;
  int iVar7;
  uint *puVar8;
  uint *puVar9;
  float *pfVar10;
  float *pfVar11;
  int iVar12;
  undefined *puVar13;
  undefined *puVar14;
  undefined *puVar15;
  undefined *puVar16;
  undefined *puVar17;
  undefined *puVar18;
  undefined *puVar19;
  int iVar20;
  int iVar21;
  uint *puVar22;
  int iVar23;
  undefined4 uStack_48;
  undefined *local_38;
  int local_30;
  undefined *local_2c;
  int local_28;
  int local_24;
  int local_20;
  uint local_1c;
  int *local_18;
  int *local_14;
  uint *local_10;
  uint *local_c;
  uint local_8;
  
  local_8 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  local_20 = *(int *)(param_1[0x10] + 4);
  local_24 = *(int *)(param_1[0x10] + 0x68);
  local_30 = *(int *)(local_20 + 0x1c);
  local_28 = *(int *)(local_30 + param_1[7] * 4);
  param_1[9] = local_28;
  iVar7 = *(int *)(local_20 + 4);
  uStack_48 = 0x4593f8;
  local_2c = &stack0xffffffbc + iVar7 * -4;
  local_c = (uint *)(&stack0xffffffbc + iVar7 * -8);
  local_10 = (uint *)(&stack0xffffffbc + iVar7 * -0xc);
  puVar15 = &stack0xffffffbc + iVar7 * -0x10;
  puVar13 = &stack0xffffffbc + iVar7 * -0x10;
  local_38 = &stack0xffffffbc + iVar7 * -0x10;
  (&uStack_48)[-iVar7] = 0x459402;
  (&uStack_48)[iVar7 * -2] = 0x45940c;
  (&uStack_48)[iVar7 * -3] = 0x459416;
  iVar20 = 0;
  if (0 < iVar7) {
    local_1c = (uint)(local_28 * 4) >> 1;
    local_14 = param_2 + 1;
    local_18 = (int *)(&stack0xffffffbc + (iVar7 * -0x10 - (int)local_10));
    puVar22 = local_10;
    local_38 = &stack0xffffffbc + iVar7 * -0x10;
    do {
      pcVar3 = *(code **)((&PTR_DAT_00471ff8)
                          [*(int *)(local_30 + 800 + param_2[*local_14 + 0x101] * 4)] + 0x14);
      *(undefined4 *)(puVar13 + -4) =
           *(undefined4 *)(*(int *)(local_24 + 0x30) + param_2[*local_14 + 0x101] * 4);
      *(int **)(puVar13 + -8) = param_1;
      puVar14 = puVar13 + -0xc;
      *(undefined4 *)(puVar13 + -0xc) = 0x459472;
      iVar5 = (*pcVar3)();
      *(int *)((int)local_18 + (int)puVar22) = iVar5;
      iVar7 = *param_1;
      *(uint *)(puVar14 + -4) = local_1c;
      *(undefined4 *)(puVar14 + -8) = 0;
      *puVar22 = (uint)(iVar5 != 0);
      *(undefined4 *)(puVar14 + -0xc) = *(undefined4 *)(iVar7 + iVar20 * 4);
      *(undefined4 *)(puVar14 + -0x10) = 0x459492;
      memset(*(void **)(puVar14 + -0xc),*(int *)(puVar14 + -8),*(size_t *)(puVar14 + -4));
      local_14 = local_14 + 1;
      iVar20 = iVar20 + 1;
      puVar15 = puVar14 + 8;
      puVar13 = puVar14 + 8;
      puVar22 = puVar22 + 1;
    } while (iVar20 < *(int *)(local_20 + 4));
  }
  iVar7 = param_2[0x121];
  if (0 < iVar7) {
    piVar6 = param_2 + 0x222;
    do {
      if ((local_10[piVar6[-0x100]] != 0) || (local_10[*piVar6] != 0)) {
        local_10[piVar6[-0x100]] = 1;
        local_10[*piVar6] = 1;
      }
      piVar6 = piVar6 + 1;
      iVar7 = iVar7 + -1;
    } while (iVar7 != 0);
  }
  local_1c = 0;
  puVar19 = puVar15;
  if (0 < *param_2) {
    local_18 = param_2 + 0x111;
    do {
      puVar22 = local_c;
      iVar7 = 0;
      iVar20 = 0;
      if (0 < *(int *)(local_20 + 4)) {
        local_14 = param_2 + 1;
        puVar8 = local_c;
        do {
          puVar9 = puVar8;
          if (*local_14 == local_1c) {
            iVar20 = iVar20 + 1;
            puVar9 = puVar8 + 1;
            *puVar8 = (uint)(local_10[iVar7] != 0);
            *(undefined4 *)(local_2c + (-4 - (int)local_c) + (int)puVar9) =
                 *(undefined4 *)(*param_1 + iVar7 * 4);
          }
          local_14 = local_14 + 1;
          iVar7 = iVar7 + 1;
          puVar8 = puVar9;
        } while (iVar7 < *(int *)(local_20 + 4));
      }
      iVar7 = *local_18;
      pcVar3 = *(code **)((&PTR_DAT_00472000)[*(int *)(local_30 + 0x520 + iVar7 * 4)] + 0x1c);
      *(int *)(puVar15 + -4) = iVar20;
      *(uint **)(puVar15 + -8) = puVar22;
      *(undefined **)(puVar15 + -0xc) = local_2c;
      *(undefined4 *)(puVar15 + -0x10) = *(undefined4 *)(*(int *)(local_24 + 0x34) + iVar7 * 4);
      *(int **)(puVar15 + -0x14) = param_1;
      puVar16 = puVar15 + -0x18;
      *(undefined4 *)(puVar15 + -0x18) = 0x459594;
      (*pcVar3)();
      local_18 = local_18 + 1;
      local_1c = local_1c + 1;
      puVar15 = puVar16 + 0x14;
      puVar19 = puVar16 + 0x14;
    } while ((int)local_1c < *param_2);
  }
  iVar7 = param_2[0x121] + -1;
  if (-1 < iVar7) {
    local_28 = local_28 / 2;
    piVar6 = param_2 + param_2[0x121] + 0x221;
    do {
      iVar5 = *(int *)(*param_1 + piVar6[-0x100] * 4);
      iVar12 = *(int *)(*param_1 + *piVar6 * 4);
      iVar20 = 0;
      if (3 < local_28) {
        pfVar10 = (float *)(iVar5 + 4);
        iVar23 = iVar12 - iVar5;
        iVar21 = (local_28 - 4U >> 2) + 1;
        pfVar11 = (float *)(iVar12 + 0xc);
        iVar20 = iVar21 * 4;
        do {
          fVar1 = pfVar10[-1];
          fVar2 = pfVar11[-3];
          if (fVar1 <= 0.0) {
            if (fVar2 <= 0.0) {
              pfVar11[-3] = fVar1;
              fVar1 = fVar1 - fVar2;
              goto LAB_00459662;
            }
            pfVar11[-3] = fVar2 + fVar1;
          }
          else if (fVar2 <= 0.0) {
            pfVar11[-3] = fVar1;
            fVar1 = fVar1 + fVar2;
LAB_00459662:
            pfVar10[-1] = fVar1;
          }
          else {
            pfVar11[-3] = fVar1 - fVar2;
          }
          fVar1 = *pfVar10;
          fVar2 = *(float *)(iVar23 + (int)pfVar10);
          if (fVar1 <= 0.0) {
            if (fVar2 <= 0.0) {
              *(float *)(iVar23 + (int)pfVar10) = fVar1;
              fVar1 = fVar1 - fVar2;
              goto LAB_004596ab;
            }
            *(float *)(iVar23 + (int)pfVar10) = fVar2 + fVar1;
          }
          else if (fVar2 <= 0.0) {
            *(float *)(iVar23 + (int)pfVar10) = fVar1;
            fVar1 = fVar1 + fVar2;
LAB_004596ab:
            *pfVar10 = fVar1;
          }
          else {
            *(float *)(iVar23 + (int)pfVar10) = fVar1 - fVar2;
          }
          fVar1 = pfVar10[1];
          fVar2 = pfVar11[-1];
          if (fVar1 <= 0.0) {
            if (fVar2 <= 0.0) {
              pfVar11[-1] = fVar1;
              fVar1 = fVar1 - fVar2;
              goto LAB_004596f4;
            }
            pfVar11[-1] = fVar2 + fVar1;
          }
          else if (fVar2 <= 0.0) {
            pfVar11[-1] = fVar1;
            fVar1 = fVar1 + fVar2;
LAB_004596f4:
            pfVar10[1] = fVar1;
          }
          else {
            pfVar11[-1] = fVar1 - fVar2;
          }
          fVar1 = pfVar10[2];
          fVar2 = *pfVar11;
          if (fVar1 <= 0.0) {
            if (fVar2 <= 0.0) {
              *pfVar11 = fVar1;
              fVar1 = fVar1 - fVar2;
              goto LAB_00459739;
            }
            *pfVar11 = fVar2 + fVar1;
          }
          else if (fVar2 <= 0.0) {
            *pfVar11 = fVar1;
            fVar1 = fVar1 + fVar2;
LAB_00459739:
            pfVar10[2] = fVar1;
          }
          else {
            *pfVar11 = fVar1 - fVar2;
          }
          pfVar10 = pfVar10 + 4;
          pfVar11 = pfVar11 + 4;
          iVar21 = iVar21 + -1;
        } while (iVar21 != 0);
      }
      if (iVar20 < local_28) {
        pfVar10 = (float *)(iVar5 + iVar20 * 4);
        iVar12 = iVar12 - iVar5;
        iVar20 = local_28 - iVar20;
        do {
          fVar1 = *pfVar10;
          fVar2 = *(float *)((int)pfVar10 + iVar12);
          if (fVar1 <= 0.0) {
            if (fVar2 <= 0.0) {
              *(float *)((int)pfVar10 + iVar12) = fVar1;
              fVar1 = fVar1 - fVar2;
              goto LAB_004597b0;
            }
            *(float *)((int)pfVar10 + iVar12) = fVar2 + fVar1;
          }
          else if (fVar2 <= 0.0) {
            *(float *)((int)pfVar10 + iVar12) = fVar1;
            fVar1 = fVar1 + fVar2;
LAB_004597b0:
            *pfVar10 = fVar1;
          }
          else {
            *(float *)((int)pfVar10 + iVar12) = fVar1 - fVar2;
          }
          pfVar10 = pfVar10 + 1;
          iVar20 = iVar20 + -1;
        } while (iVar20 != 0);
      }
      piVar6 = piVar6 + -1;
      iVar7 = iVar7 + -1;
    } while (-1 < iVar7);
  }
  iVar7 = 0;
  puVar17 = puVar19;
  piVar6 = param_2;
  if (0 < *(int *)(local_20 + 4)) {
    do {
      iVar20 = param_2[piVar6[1] + 0x101];
      pcVar3 = *(code **)((&PTR_DAT_00471ff8)[*(int *)(local_30 + 800 + iVar20 * 4)] + 0x18);
      *(undefined4 *)(puVar17 + -4) = *(undefined4 *)(*param_1 + iVar7 * 4);
      *(undefined4 *)(puVar17 + -8) = *(undefined4 *)(local_38 + iVar7 * 4);
      *(undefined4 *)(puVar17 + -0xc) = *(undefined4 *)(*(int *)(local_24 + 0x30) + iVar20 * 4);
      *(int **)(puVar17 + -0x10) = param_1;
      puVar18 = puVar17 + -0x14;
      *(undefined4 *)(puVar17 + -0x14) = 0x45981c;
      (*pcVar3)();
      iVar7 = iVar7 + 1;
      puVar19 = puVar18 + 0x10;
      puVar17 = puVar18 + 0x10;
      piVar6 = piVar6 + 1;
    } while (iVar7 < *(int *)(local_20 + 4));
  }
  iVar7 = 0;
  if (0 < *(int *)(local_20 + 4)) {
    do {
      uVar4 = *(undefined4 *)(*param_1 + iVar7 * 4);
      iVar20 = param_1[7];
      *(undefined4 *)(puVar19 + -4) = uVar4;
      *(undefined4 *)(puVar19 + -8) = uVar4;
      *(undefined4 *)(puVar19 + -0xc) = **(undefined4 **)(local_24 + 0xc + iVar20 * 4);
      *(undefined4 *)(puVar19 + -0x10) = 0x45984e;
      FUN_00457e80(*(int **)(puVar19 + -0xc),*(float **)(puVar19 + -8),*(float **)(puVar19 + -4));
      iVar7 = iVar7 + 1;
    } while (iVar7 < *(int *)(local_20 + 4));
  }
  ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __cdecl FUN_00459870(void *param_1)

{
  if (param_1 != (void *)0x0) {
    memset(param_1,0,0x714);
    free(param_1);
  }
  return;
}



void __cdecl FUN_004598a0(void *param_1)

{
  int iVar1;
  
  if (param_1 != (void *)0x0) {
    iVar1 = 0;
    if (0 < *(int *)((int)param_1 + 4)) {
      do {
        if (*(int *)(*(int *)((int)param_1 + 0x14) + iVar1 * 4) != 0) {
          free(*(void **)(*(int *)((int)param_1 + 0x14) + iVar1 * 4));
        }
        iVar1 = iVar1 + 1;
      } while (iVar1 < *(int *)((int)param_1 + 4));
    }
    free(*(void **)((int)param_1 + 0x14));
    iVar1 = 0;
    if (0 < *(int *)((int)param_1 + 0x18)) {
      do {
        free(*(void **)(*(int *)((int)param_1 + 0x1c) + iVar1 * 4));
        iVar1 = iVar1 + 1;
      } while (iVar1 < *(int *)((int)param_1 + 0x18));
    }
    free(*(void **)((int)param_1 + 0x1c));
    memset(param_1,0,0x2c);
    free(param_1);
  }
  return;
}



int __fastcall FUN_00459920(uint param_1)

{
  int iVar1;
  
  iVar1 = 0;
  if (param_1 != 0) {
    do {
      iVar1 = iVar1 + (param_1 & 1);
      param_1 = param_1 >> 1;
    } while (param_1 != 0);
  }
  return iVar1;
}



uint * __cdecl FUN_00459a20(uint *param_1,int *param_2)

{
  uint uVar1;
  uint *puVar2;
  uint uVar3;
  uint uVar4;
  int iVar5;
  uint *puVar6;
  uint *puVar7;
  int iVar8;
  uint *local_8;
  
  puVar7 = (uint *)0x0;
  local_8 = (uint *)0x0;
  puVar2 = (uint *)calloc(1,0x714);
  uVar1 = param_1[7];
  uVar3 = FUN_0044f700(param_2,0x18);
  *puVar2 = uVar3;
  uVar3 = FUN_0044f700(param_2,0x18);
  puVar2[1] = uVar3;
  uVar3 = FUN_0044f700(param_2,0x18);
  puVar2[2] = uVar3 + 1;
  uVar3 = FUN_0044f700(param_2,6);
  puVar2[3] = uVar3 + 1;
  uVar3 = FUN_0044f700(param_2,8);
  iVar8 = 0;
  puVar2[4] = uVar3;
  if (0 < (int)puVar2[3]) {
    param_1 = puVar2 + 5;
    do {
      uVar3 = FUN_0044f700(param_2,3);
      uVar4 = FUN_0044f700(param_2,1);
      if (uVar4 != 0) {
        uVar4 = FUN_0044f700(param_2,5);
        uVar3 = uVar3 | uVar4 * 8;
      }
      *param_1 = uVar3;
      iVar5 = FUN_00459920(uVar3);
      puVar7 = (uint *)((int)local_8 + iVar5);
      param_1 = param_1 + 1;
      iVar8 = iVar8 + 1;
      local_8 = puVar7;
    } while (iVar8 < (int)puVar2[3]);
  }
  if (0 < (int)puVar7) {
    puVar6 = puVar2 + 0x45;
    param_1 = puVar7;
    do {
      uVar3 = FUN_0044f700(param_2,8);
      *puVar6 = uVar3;
      puVar6 = puVar6 + 1;
      param_1 = (uint *)((int)param_1 + -1);
    } while (param_1 != (uint *)0x0);
  }
  if (*(int *)(uVar1 + 0x18) <= (int)puVar2[4]) {
LAB_00459b36:
    FUN_00459870(puVar2);
    return (uint *)0x0;
  }
  iVar8 = 0;
  if (0 < (int)puVar7) {
    puVar6 = puVar2 + 0x45;
    do {
      if (*(int *)(uVar1 + 0x18) <= (int)*puVar6) goto LAB_00459b36;
      iVar8 = iVar8 + 1;
      puVar6 = puVar6 + 1;
    } while (iVar8 < (int)puVar7);
  }
  return puVar2;
}



int * __cdecl FUN_00459b50(int param_1,int param_2)

{
  int iVar1;
  int iVar2;
  int *piVar3;
  void *pvVar4;
  size_t sVar5;
  void *pvVar6;
  int iVar7;
  int iVar8;
  int *piVar9;
  undefined4 extraout_ECX;
  int iVar10;
  undefined4 extraout_EDX;
  uint *puVar11;
  int iVar12;
  int iVar13;
  int iVar14;
  float10 fVar15;
  ulonglong uVar16;
  int local_1c;
  size_t local_14;
  uint local_10;
  
  piVar3 = (int *)calloc(1,0x2c);
  iVar1 = *(int *)(param_2 + 0x10);
  iVar2 = *(int *)(*(int *)(param_1 + 4) + 0x1c);
  sVar5 = *(size_t *)(param_2 + 0xc);
  iVar13 = *(int *)(iVar2 + 0xb20);
  piVar3[3] = iVar13;
  piVar9 = (int *)(iVar13 + iVar1 * 0x2c);
  piVar3[4] = (int)piVar9;
  iVar1 = *piVar9;
  iVar13 = 0;
  local_1c = 0;
  local_14 = 0;
  *piVar3 = param_2;
  piVar3[1] = sVar5;
  pvVar4 = calloc(sVar5,4);
  piVar3[5] = (int)pvVar4;
  if (0 < piVar3[1]) {
    puVar11 = (uint *)(param_2 + 0x14);
    do {
      sVar5 = FUN_0045b230(*puVar11);
      if (sVar5 != 0) {
        if ((int)local_14 < (int)sVar5) {
          local_14 = sVar5;
        }
        pvVar6 = calloc(sVar5,4);
        *(void **)((int)pvVar4 + iVar13 * 4) = pvVar6;
        iVar7 = 0;
        local_10 = 1;
        if (0 < (int)sVar5) {
          piVar9 = (int *)(param_2 + 0x114 + local_1c * 4);
          do {
            if ((*puVar11 & local_10) != 0) {
              local_1c = local_1c + 1;
              *(int *)(*(int *)((int)pvVar4 + iVar13 * 4) + iVar7 * 4) =
                   *piVar9 * 0x2c + *(int *)(iVar2 + 0xb20);
              piVar9 = piVar9 + 1;
            }
            iVar7 = iVar7 + 1;
            local_10 = local_10 << 1 | (uint)((int)local_10 < 0);
          } while (iVar7 < (int)sVar5);
        }
      }
      iVar13 = iVar13 + 1;
      puVar11 = puVar11 + 1;
    } while (iVar13 < piVar3[1]);
  }
  fVar15 = (float10)_CIpow();
  floor((double)(fVar15 + (float10)0.5));
  uVar16 = FUN_0045db50(extraout_ECX,extraout_EDX);
  piVar3[6] = (int)uVar16;
  piVar3[2] = local_14;
  pvVar4 = malloc((int)uVar16 * 4);
  piVar3[7] = (int)pvVar4;
  iVar2 = piVar3[6];
  iVar13 = 0;
  if (0 < iVar2) {
    iVar7 = piVar3[1];
    do {
      pvVar6 = malloc(iVar1 * 4);
      *(void **)((int)pvVar4 + iVar13 * 4) = pvVar6;
      if (0 < iVar1) {
        iVar10 = 0;
        iVar12 = iVar13;
        iVar14 = iVar2;
        do {
          iVar14 = iVar14 / iVar7;
          iVar8 = iVar12 / iVar14;
          iVar10 = iVar10 + 1;
          iVar12 = iVar12 - iVar8 * iVar14;
          *(int *)(*(int *)((int)pvVar4 + iVar13 * 4) + -4 + iVar10 * 4) = iVar8;
        } while (iVar10 < iVar1);
      }
      iVar13 = iVar13 + 1;
    } while (iVar13 < iVar2);
  }
  return piVar3;
}



int __cdecl FUN_00459d30(int *param_1,float *param_2)

{
  float fVar1;
  float *pfVar2;
  float *pfVar3;
  int iVar4;
  int iVar5;
  int *piVar6;
  float *pfVar7;
  int iVar8;
  int iVar9;
  int iVar10;
  int iVar11;
  float local_24;
  int local_1c;
  int local_14;
  float local_10;
  
  piVar6 = *(int **)(param_1[3] + 0x28);
  iVar11 = *param_1;
  local_1c = 0;
  if (0 < iVar11) {
    iVar9 = piVar6[3];
    iVar10 = *piVar6;
    iVar4 = iVar9 >> 1;
    pfVar3 = param_2 + iVar11;
    local_14 = iVar11;
    do {
      fVar1 = pfVar3[-1];
      pfVar3 = pfVar3 + -1;
      if (*(float *)(iVar10 + iVar4 * 4) <= fVar1) {
        iVar5 = iVar4 + 1;
        iVar8 = iVar9 + -1;
        if (iVar5 < iVar8) {
          if (3 < iVar8 - iVar5) {
            pfVar2 = (float *)(iVar10 + 8 + iVar5 * 4);
            do {
              if (fVar1 < pfVar2[-2]) goto LAB_00459eb9;
              if (fVar1 < pfVar2[-1]) {
                iVar5 = iVar5 + 1;
                goto LAB_00459eb9;
              }
              if (fVar1 < *pfVar2) {
                iVar5 = iVar5 + 2;
                goto LAB_00459eb9;
              }
              if (fVar1 < pfVar2[1]) {
                iVar5 = iVar5 + 3;
                goto LAB_00459eb9;
              }
              iVar5 = iVar5 + 4;
              pfVar2 = pfVar2 + 4;
            } while (iVar5 < iVar9 + -4);
          }
          if (iVar5 < iVar8) {
            pfVar2 = (float *)(iVar10 + iVar5 * 4);
            do {
              if (fVar1 < *pfVar2) break;
              iVar5 = iVar5 + 1;
              pfVar2 = pfVar2 + 1;
            } while (iVar5 < iVar8);
          }
        }
      }
      else {
        iVar5 = iVar4;
        if (fVar1 < *(float *)(iVar10 + -4 + iVar4 * 4)) {
          iVar5 = iVar4 + -1;
          if (3 < iVar5) {
            pfVar2 = (float *)(iVar10 + -8 + iVar5 * 4);
            do {
              if (pfVar2[1] < fVar1 != (pfVar2[1] == fVar1)) goto LAB_00459eb9;
              if (*pfVar2 < fVar1 != (*pfVar2 == fVar1)) {
                iVar5 = iVar5 + -1;
                goto LAB_00459eb9;
              }
              if (pfVar2[-1] < fVar1 != (pfVar2[-1] == fVar1)) {
                iVar5 = iVar5 + -2;
                goto LAB_00459eb9;
              }
              if (pfVar2[-2] < fVar1 != (pfVar2[-2] == fVar1)) {
                iVar5 = iVar5 + -3;
                goto LAB_00459eb9;
              }
              iVar5 = iVar5 + -4;
              pfVar2 = pfVar2 + -4;
            } while (3 < iVar5);
          }
          if (0 < iVar5) {
            pfVar2 = (float *)(iVar10 + -4 + iVar5 * 4);
            do {
              if (*pfVar2 < fVar1 != (*pfVar2 == fVar1)) break;
              iVar5 = iVar5 + -1;
              pfVar2 = pfVar2 + -1;
            } while (0 < iVar5);
          }
        }
      }
LAB_00459eb9:
      local_1c = piVar6[2] * local_1c + *(int *)(piVar6[1] + iVar5 * 4);
      local_14 = local_14 + -1;
    } while (local_14 != 0);
  }
  if (*(int *)(*(int *)(param_1[3] + 8) + local_1c * 4) < 1) {
    local_10 = 0.0;
    local_1c = -1;
    local_14 = 0;
    if (param_1[1] < 1) {
      return -1;
    }
    piVar6 = *(int **)(param_1[3] + 8);
    iVar9 = param_1[4] - (int)param_2;
    pfVar3 = (float *)(param_1[4] + 0xc);
    do {
      if (0 < *piVar6) {
        local_24 = 0.0;
        iVar10 = 0;
        if (3 < iVar11) {
          iVar4 = (iVar11 - 4U >> 2) + 1;
          iVar10 = iVar4 * 4;
          pfVar2 = param_2 + 1;
          pfVar7 = pfVar3;
          do {
            iVar4 = iVar4 + -1;
            fVar1 = *(float *)(iVar9 + -0x10 + (int)(pfVar2 + 4)) - *pfVar2;
            local_24 = (*pfVar7 - pfVar2[2]) * (*pfVar7 - pfVar2[2]) +
                       (pfVar7[-1] - pfVar2[1]) * (pfVar7[-1] - pfVar2[1]) +
                       fVar1 * fVar1 +
                       (pfVar7[-3] - pfVar2[-1]) * (pfVar7[-3] - pfVar2[-1]) + local_24;
            pfVar2 = pfVar2 + 4;
            pfVar7 = pfVar7 + 4;
          } while (iVar4 != 0);
        }
        if (iVar10 < iVar11) {
          iVar4 = iVar11 - iVar10;
          pfVar2 = param_2 + iVar10;
          do {
            iVar4 = iVar4 + -1;
            fVar1 = *(float *)(iVar9 + (int)pfVar2) - *pfVar2;
            local_24 = fVar1 * fVar1 + local_24;
            pfVar2 = pfVar2 + 1;
          } while (iVar4 != 0);
        }
        if ((local_1c == -1) || (local_24 < local_10)) {
          local_10 = local_24;
          local_1c = local_14;
        }
      }
      pfVar3 = pfVar3 + iVar11;
      iVar9 = iVar9 + iVar11 * 4;
      local_14 = local_14 + 1;
      piVar6 = piVar6 + 1;
    } while (local_14 < param_1[1]);
  }
  if (-1 < local_1c) {
    pfVar3 = (float *)(param_1[4] + local_1c * iVar11 * 4);
    iVar9 = 0;
    if (3 < iVar11) {
      iVar10 = (iVar11 - 4U >> 2) + 1;
      iVar9 = iVar10 * 4;
      pfVar2 = pfVar3;
      pfVar7 = param_2;
      do {
        param_2 = pfVar7 + 4;
        pfVar3 = pfVar2 + 4;
        iVar10 = iVar10 + -1;
        *pfVar7 = *pfVar7 - *pfVar2;
        pfVar7[1] = pfVar7[1] - pfVar2[1];
        pfVar7[2] = pfVar7[2] - pfVar2[2];
        pfVar7[3] = pfVar7[3] - pfVar2[3];
        pfVar2 = pfVar3;
        pfVar7 = param_2;
      } while (iVar10 != 0);
    }
    if (iVar9 < iVar11) {
      iVar11 = iVar11 - iVar9;
      do {
        fVar1 = *pfVar3;
        pfVar3 = pfVar3 + 1;
        iVar11 = iVar11 + -1;
        *param_2 = *param_2 - fVar1;
        param_2 = param_2 + 1;
      } while (iVar11 != 0);
    }
  }
  return local_1c;
}



int __cdecl FUN_0045a0e0(int *param_1,float *param_2,int param_3,int *param_4)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int local_4;
  
  iVar1 = *param_4;
  iVar2 = param_3 / iVar1;
  local_4 = 0;
  if (iVar2 < 1) {
    return 0;
  }
  do {
    iVar3 = FUN_00459d30(param_4,param_2);
    iVar3 = FUN_004546c0((int)param_4,iVar3,param_1);
    local_4 = local_4 + iVar3;
    param_2 = param_2 + iVar1;
    iVar2 = iVar2 + -1;
  } while (iVar2 != 0);
  return local_4;
}



int * __cdecl FUN_0045a150(int **param_1,int param_2,uint param_3)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  int in_EAX;
  int iVar4;
  int *piVar5;
  void *_Dst;
  int extraout_ECX;
  int extraout_ECX_00;
  uint extraout_EDX;
  uint uVar6;
  int *piVar7;
  int iVar8;
  float *pfVar9;
  int iVar10;
  int iVar11;
  float10 extraout_ST0;
  float10 fVar12;
  ulonglong uVar13;
  float local_70;
  int local_6c;
  uint local_58;
  int local_54;
  
  piVar1 = *param_1;
  iVar2 = piVar1[3];
  iVar3 = piVar1[2];
  iVar4 = (piVar1[1] - *piVar1) / iVar3;
  piVar5 = (int *)FUN_0044e270(in_EAX,param_3 * 4);
  iVar8 = 0;
  if (0 < (int)param_3) {
    do {
      _Dst = (void *)FUN_0044e270(in_EAX,iVar4 * 4);
      piVar5[iVar8] = (int)_Dst;
      memset(_Dst,0,iVar4 * 4);
      iVar8 = iVar8 + 1;
    } while (iVar8 < (int)param_3);
  }
  local_54 = 0;
  if (0 < iVar4) {
    fVar12 = (float10)0;
    local_6c = 0;
    do {
      iVar8 = *piVar1;
      if (0 < (int)param_3) {
        uVar6 = param_3;
        piVar7 = piVar5;
        local_58 = param_3;
        do {
          local_70 = (float)fVar12;
          iVar11 = iVar8 + local_6c;
          if (0 < iVar3) {
            pfVar9 = (float *)(*(int *)((param_2 - (int)piVar5) + (int)piVar7) +
                              (iVar8 + local_6c) * 4);
            iVar11 = iVar3;
            do {
              if (local_70 < ABS(*pfVar9)) {
                local_70 = ABS(*pfVar9);
              }
              floor((double)(*pfVar9 + 0.5));
              pfVar9 = pfVar9 + 1;
              iVar11 = iVar11 + -1;
            } while (iVar11 != 0);
            fVar12 = (float10)0;
            iVar11 = extraout_ECX;
            uVar6 = extraout_EDX;
          }
          iVar10 = 0;
          uVar13 = (ulonglong)uVar6 << 0x20;
          if (0 < iVar2 + -1) {
            pfVar9 = (float *)(piVar1 + 0x185);
            do {
              uVar6 = (uint)(uVar13 >> 0x20);
              if (local_70 <= pfVar9[-0x40]) {
                if ((float10)*pfVar9 < fVar12) break;
                uVar13 = FUN_0045db50(iVar11,uVar6);
                uVar6 = (uint)(uVar13 >> 0x20);
                iVar11 = extraout_ECX_00;
                fVar12 = extraout_ST0;
                if ((float)(int)uVar13 < *pfVar9) break;
              }
              uVar6 = (uint)(uVar13 >> 0x20);
              iVar10 = iVar10 + 1;
              pfVar9 = pfVar9 + 1;
            } while (iVar10 < iVar2 + -1);
          }
          iVar11 = *piVar7;
          piVar7 = piVar7 + 1;
          local_58 = local_58 - 1;
          *(int *)(iVar11 + local_54 * 4) = iVar10;
        } while (local_58 != 0);
      }
      local_6c = local_6c + iVar3;
      local_54 = local_54 + 1;
    } while (local_54 < iVar4);
  }
  param_1[10] = (int *)((int)param_1[10] + 1);
  return piVar5;
}



void ** __cdecl FUN_0045a340(int **param_1,int *param_2,int param_3)

{
  float fVar1;
  float fVar2;
  int *piVar3;
  int iVar4;
  int iVar5;
  size_t _Size;
  int in_EAX;
  int iVar6;
  void **ppvVar7;
  void *_Dst;
  int *piVar8;
  int iVar9;
  float *pfVar10;
  int iVar11;
  int iVar12;
  int iVar13;
  int local_1c;
  int local_10;
  int local_8;
  
  piVar3 = *param_1;
  iVar11 = piVar3[1];
  iVar12 = *piVar3;
  iVar4 = piVar3[2];
  iVar5 = piVar3[3];
  iVar6 = (iVar11 - iVar12) / iVar4;
  ppvVar7 = (void **)FUN_0044e270(in_EAX,4);
  _Size = (((iVar11 - iVar12) * param_3) / iVar4) * 4;
  _Dst = (void *)FUN_0044e270(in_EAX,_Size);
  *ppvVar7 = _Dst;
  memset(_Dst,0,_Size);
  local_1c = *piVar3 / param_3;
  local_8 = 0;
  if (0 < iVar6) {
    iVar11 = iVar5 + -1;
    do {
      local_10 = 0;
      fVar1 = 0.0;
      fVar2 = 0.0;
      if (0 < iVar4) {
        iVar12 = local_1c * 4;
        do {
          if (fVar1 < ABS(*(float *)(iVar12 + *param_2))) {
            fVar1 = ABS(*(float *)(iVar12 + *param_2));
          }
          iVar13 = 1;
          if (1 < param_3) {
            if (3 < param_3 + -1) {
              iVar9 = (param_3 - 5U >> 2) + 1;
              piVar8 = param_2 + 3;
              iVar13 = iVar9 * 4 + 1;
              do {
                if (fVar2 < ABS(*(float *)(piVar8[-2] + iVar12))) {
                  fVar2 = ABS(*(float *)(piVar8[-2] + iVar12));
                }
                if (fVar2 < ABS(*(float *)(piVar8[-1] + iVar12))) {
                  fVar2 = ABS(*(float *)(piVar8[-1] + iVar12));
                }
                if (fVar2 < ABS(*(float *)(iVar12 + *piVar8))) {
                  fVar2 = ABS(*(float *)(iVar12 + *piVar8));
                }
                if (fVar2 < ABS(*(float *)(piVar8[1] + iVar12))) {
                  fVar2 = ABS(*(float *)(piVar8[1] + iVar12));
                }
                piVar8 = piVar8 + 4;
                iVar9 = iVar9 + -1;
              } while (iVar9 != 0);
            }
            for (; iVar13 < param_3; iVar13 = iVar13 + 1) {
              if (fVar2 < ABS(*(float *)(param_2[iVar13] + iVar12))) {
                fVar2 = ABS(*(float *)(param_2[iVar13] + iVar12));
              }
            }
          }
          local_1c = local_1c + 1;
          local_10 = local_10 + param_3;
          iVar12 = iVar12 + 4;
        } while (local_10 < iVar4);
      }
      iVar12 = 0;
      if (3 < iVar11) {
        pfVar10 = (float *)(piVar3 + 0x185);
        do {
          if ((fVar1 <= pfVar10[-0x40]) && (fVar2 <= *pfVar10)) goto LAB_0045a5ee;
          if ((fVar1 <= pfVar10[-0x3f]) && (fVar2 <= pfVar10[1])) {
            iVar12 = iVar12 + 1;
            goto LAB_0045a5ee;
          }
          if ((fVar1 <= pfVar10[-0x3e]) && (fVar2 <= pfVar10[2])) {
            iVar12 = iVar12 + 2;
            goto LAB_0045a5ee;
          }
          if ((fVar1 <= pfVar10[-0x3d]) && (fVar2 <= pfVar10[3])) {
            iVar12 = iVar12 + 3;
            goto LAB_0045a5ee;
          }
          iVar12 = iVar12 + 4;
          pfVar10 = pfVar10 + 4;
        } while (iVar12 < iVar5 + -4);
      }
      if (iVar12 < iVar11) {
        pfVar10 = (float *)(piVar3 + iVar12 + 0x185);
        do {
          if ((fVar1 <= pfVar10[-0x40]) && (fVar2 <= *pfVar10)) break;
          iVar12 = iVar12 + 1;
          pfVar10 = pfVar10 + 1;
        } while (iVar12 < iVar11);
      }
LAB_0045a5ee:
      *(int *)((int)*ppvVar7 + local_8 * 4) = iVar12;
      local_8 = local_8 + 1;
    } while (local_8 < iVar6);
  }
  param_1[10] = (int *)((int)param_1[10] + 1);
  return ppvVar7;
}



undefined4 __cdecl
FUN_0045a620(int *param_1,int param_2,int param_3,int *param_4,undefined *param_5)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  byte bVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  int **unaff_EBX;
  int *piVar10;
  int iVar11;
  int local_42c;
  int local_428;
  int local_418;
  int local_400 [128];
  int local_200 [128];
  
  piVar1 = *unaff_EBX;
  iVar2 = piVar1[3];
  iVar3 = *unaff_EBX[4];
  iVar4 = piVar1[2];
  iVar6 = (piVar1[1] - *piVar1) / iVar4;
  memset(local_200,0,0x200);
  memset(local_400,0,0x200);
  local_42c = 0;
  if (0 < (int)unaff_EBX[2]) {
    do {
      iVar11 = 0;
      if (0 < iVar6) {
        do {
          if ((local_42c == 0) && (local_428 = 0, 0 < param_3)) {
            do {
              piVar10 = (int *)(param_4[local_428] + iVar11 * 4);
              iVar7 = *piVar10;
              iVar9 = 1;
              if (1 < iVar3) {
                do {
                  piVar10 = piVar10 + 1;
                  iVar7 = iVar7 * iVar2;
                  if (iVar9 + iVar11 < iVar6) {
                    iVar7 = iVar7 + *piVar10;
                  }
                  iVar9 = iVar9 + 1;
                } while (iVar9 < iVar3);
              }
              if (iVar7 < unaff_EBX[4][1]) {
                iVar7 = FUN_004546c0((int)unaff_EBX[4],iVar7,param_1);
                unaff_EBX[9] = (int *)((int)unaff_EBX[9] + iVar7);
              }
              local_428 = local_428 + 1;
            } while (local_428 < param_3);
          }
          local_418 = 0;
          if (0 < iVar3) {
            iVar7 = iVar11 * iVar4;
            do {
              if (iVar6 <= iVar11) goto LAB_0045a83c;
              iVar9 = *piVar1;
              bVar5 = (byte)local_42c & 0x1f;
              if (0 < param_3) {
                local_428 = param_3;
                piVar10 = param_4;
                do {
                  if (local_42c == 0) {
                    local_400[*(int *)(*piVar10 + iVar11 * 4)] =
                         local_400[*(int *)(*piVar10 + iVar11 * 4)] + iVar4;
                  }
                  iVar8 = *(int *)(*piVar10 + iVar11 * 4);
                  if (((piVar1[iVar8 + 5] & (1 << bVar5 | 1U >> 0x20 - bVar5)) != 0) &&
                     (iVar8 = *(int *)(unaff_EBX[5][iVar8] + local_42c * 4), iVar8 != 0)) {
                    iVar8 = (*(code *)param_5)(param_1,*(int *)((param_2 - (int)param_4) +
                                                               (int)piVar10) + (iVar9 + iVar7) * 4,
                                               iVar4,iVar8,0);
                    unaff_EBX[8] = (int *)((int)unaff_EBX[8] + iVar8);
                    local_200[*(int *)(*piVar10 + iVar11 * 4)] =
                         local_200[*(int *)(*piVar10 + iVar11 * 4)] + iVar8;
                  }
                  piVar10 = piVar10 + 1;
                  local_428 = local_428 + -1;
                } while (local_428 != 0);
              }
              iVar7 = iVar7 + iVar4;
              local_418 = local_418 + 1;
              iVar11 = iVar11 + 1;
            } while (local_418 < iVar3);
          }
        } while (iVar11 < iVar6);
      }
LAB_0045a83c:
      local_42c = local_42c + 1;
    } while (local_42c < (int)unaff_EBX[2]);
  }
  return 0;
}



// WARNING: Function: __alloca_probe_16 replaced with injection: alloca_probe
// WARNING: Unable to track spacebase fully for stack

void __cdecl FUN_0045a860(int param_1,int **param_2,int param_3,int param_4,undefined *param_5)

{
  int iVar1;
  int iVar2;
  int iVar3;
  byte bVar4;
  undefined *puVar5;
  undefined *puVar6;
  int *piVar7;
  int *piVar8;
  int iVar9;
  int aiStack_4c [3];
  int local_34;
  int *local_30;
  int *local_2c;
  int local_28;
  int local_24;
  int local_20;
  int local_1c;
  int local_18;
  int local_14;
  int local_10;
  int local_c;
  uint local_8;
  
  local_8 = DAT_0047a940 ^ (uint)&stack0xfffffffc;
  local_2c = *param_2;
  local_34 = *param_2[4];
  local_20 = local_2c[2];
  iVar1 = *(int *)(param_1 + 0x24) >> 1;
  if (local_2c[1] < iVar1) {
    iVar1 = local_2c[1];
  }
  if (0 < iVar1 - *local_2c) {
    local_18 = (iVar1 - *local_2c) / local_20;
    iVar2 = (local_18 + -1 + local_34) / local_34;
    aiStack_4c[2] = 0x45a8c3;
    iVar1 = param_4 * -4;
    local_30 = (int *)(&stack0xffffffc0 + iVar1);
    piVar8 = (int *)(&stack0xffffffc0 + iVar1);
    puVar6 = &stack0xffffffc0 + iVar1;
    iVar9 = 0;
    if (0 < param_4) {
      local_30 = (int *)(&stack0xffffffc0 + iVar1);
      do {
        aiStack_4c[2 - param_4] = iVar2 * 4;
        aiStack_4c[1 - param_4] = param_1;
        aiStack_4c[-param_4] = 0x45a8df;
        iVar3 = FUN_0044e270(aiStack_4c[1 - param_4],aiStack_4c[2 - param_4]);
        *(int *)(&stack0xffffffc0 + iVar9 * 4 + iVar1) = iVar3;
        iVar9 = iVar9 + 1;
      } while (iVar9 < param_4);
    }
    local_c = 0;
    if (0 < (int)param_2[2]) {
      do {
        iVar2 = 0;
        local_10 = 0;
        iVar1 = local_c;
        if (0 < local_18) {
          local_14 = 0;
          do {
            if ((iVar1 == 0) && (iVar9 = 0, 0 < param_4)) {
              do {
                *(int *)(puVar6 + -4) = param_1 + 4;
                *(int **)(puVar6 + -8) = param_2[4];
                *(undefined4 *)(puVar6 + -0xc) = 0x45a92b;
                iVar1 = FUN_00454880(*(int *)(puVar6 + -8),*(int **)(puVar6 + -4));
                if ((iVar1 == -1) ||
                   (iVar1 = param_2[7][iVar1], *(int *)(local_14 + piVar8[iVar9]) = iVar1,
                   iVar1 == 0)) goto LAB_0045aa37;
                iVar9 = iVar9 + 1;
                iVar1 = local_c;
              } while (iVar9 < param_4);
            }
            local_1c = 0;
            if (0 < local_34) {
              local_24 = iVar2 * local_20;
              piVar7 = piVar8;
              do {
                piVar8 = piVar7;
                if (local_18 <= iVar2) break;
                local_28 = 0;
                if (0 < param_4) {
                  bVar4 = (byte)iVar1;
                  iVar9 = param_3 - (int)local_30;
                  do {
                    iVar1 = *(int *)(*(int *)(local_14 + *piVar7) + local_1c * 4);
                    iVar2 = *local_2c + local_24;
                    if (((local_2c[iVar1 + 5] & 1 << (bVar4 & 0x1f)) != 0) &&
                       (iVar1 = *(int *)(param_2[5][iVar1] + local_c * 4), iVar1 != 0)) {
                      *(int *)(puVar6 + -4) = local_20;
                      *(int *)(puVar6 + -8) = param_1 + 4;
                      *(int *)(puVar6 + -0xc) = *(int *)(iVar9 + (int)piVar7) + iVar2 * 4;
                      *(int *)(puVar6 + -0x10) = iVar1;
                      puVar5 = puVar6 + -0x14;
                      *(undefined4 *)(puVar6 + -0x14) = 0x45a9e0;
                      iVar1 = (*(code *)param_5)();
                      puVar6 = puVar5 + 0x10;
                      if (iVar1 == -1) goto LAB_0045aa37;
                    }
                    local_28 = local_28 + 1;
                    piVar7 = piVar7 + 1;
                    iVar1 = local_c;
                    iVar2 = local_10;
                    piVar8 = local_30;
                  } while (local_28 < param_4);
                }
                local_24 = local_24 + local_20;
                local_1c = local_1c + 1;
                iVar2 = iVar2 + 1;
                piVar7 = piVar8;
                local_10 = iVar2;
              } while (local_1c < local_34);
            }
            local_14 = local_14 + 4;
          } while (iVar2 < local_18);
        }
        local_c = iVar1 + 1;
      } while (local_c < (int)param_2[2]);
    }
  }
LAB_0045aa37:
  ___security_check_cookie_4(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



undefined4 __cdecl
FUN_0045aa50(int param_1,int **param_2,undefined4 *param_3,int param_4,int param_5)

{
  undefined4 *puVar1;
  undefined4 uVar2;
  int iVar3;
  
  iVar3 = 0;
  if (0 < param_5) {
    puVar1 = param_3;
    do {
      if (*(int *)((param_4 - (int)param_3) + (int)puVar1) != 0) {
        param_3[iVar3] = *puVar1;
        iVar3 = iVar3 + 1;
      }
      puVar1 = puVar1 + 1;
      param_5 = param_5 + -1;
    } while (param_5 != 0);
    if (iVar3 != 0) {
      uVar2 = FUN_0045a860(param_1,param_2,(int)param_3,iVar3,FUN_004548b0);
      return uVar2;
    }
  }
  return 0;
}



undefined4 __cdecl
FUN_0045aab0(int *param_1,int param_2,undefined4 param_3,int *param_4,int *param_5,int param_6,
            int param_7,int *param_8)

{
  int iVar1;
  int iVar2;
  float *pfVar3;
  undefined4 uVar4;
  int iVar5;
  int iVar6;
  float *pfVar7;
  int *piVar8;
  int *piVar9;
  int iVar10;
  int iVar11;
  int local_10;
  int local_c;
  
  iVar5 = 0;
  iVar10 = *(int *)(param_2 + 0x24) / 2;
  local_10 = 0;
  if (0 < param_7) {
    iVar11 = param_6 - (int)param_5;
    local_c = param_7;
    piVar8 = param_4;
    do {
      piVar9 = (int *)(((int)param_5 - (int)param_4) + (int)piVar8);
      if (*(int *)(iVar11 + (int)piVar9) != 0) {
        if (param_5 != (int *)0x0) {
          iVar5 = 0;
          if (3 < iVar10) {
            iVar1 = *piVar8;
            iVar2 = *piVar9;
            iVar6 = (iVar10 - 4U >> 2) + 1;
            iVar5 = iVar6 * 4;
            pfVar3 = (float *)(iVar2 + 4);
            pfVar7 = (float *)(iVar1 + 0xc);
            do {
              iVar6 = iVar6 + -1;
              pfVar3[-1] = pfVar7[-3] + pfVar3[-1];
              *pfVar3 = *(float *)((iVar1 - iVar2) + -0x10 + (int)(pfVar3 + 4)) + *pfVar3;
              pfVar3[1] = pfVar7[-1] + pfVar3[1];
              pfVar3[2] = pfVar3[2] + *pfVar7;
              pfVar3 = pfVar3 + 4;
              pfVar7 = pfVar7 + 4;
            } while (iVar6 != 0);
          }
          if (iVar5 < iVar10) {
            iVar1 = *piVar9;
            iVar2 = *piVar8;
            iVar6 = iVar10 - iVar5;
            pfVar3 = (float *)(iVar1 + iVar5 * 4);
            do {
              iVar6 = iVar6 + -1;
              *pfVar3 = *(float *)((iVar2 - iVar1) + (int)pfVar3) + *pfVar3;
              pfVar3 = pfVar3 + 1;
            } while (iVar6 != 0);
          }
        }
        param_4[local_10] = *piVar8;
        iVar5 = local_10 + 1;
        local_10 = iVar5;
      }
      piVar8 = piVar8 + 1;
      local_c = local_c + -1;
    } while (local_c != 0);
    if (iVar5 != 0) {
      uVar4 = FUN_0045a620(param_1,(int)param_4,iVar5,param_8,FUN_0045a0e0);
      if (param_5 != (int *)0x0) {
        do {
          if (*(int *)(iVar11 + (int)param_5) != 0) {
            iVar5 = 0;
            if (3 < iVar10) {
              iVar1 = *param_4;
              iVar2 = *param_5;
              iVar6 = (iVar10 - 4U >> 2) + 1;
              iVar5 = iVar6 * 4;
              pfVar3 = (float *)(iVar2 + 4);
              pfVar7 = (float *)(iVar1 + 0xc);
              do {
                iVar6 = iVar6 + -1;
                pfVar3[-1] = pfVar3[-1] - pfVar7[-3];
                *pfVar3 = *pfVar3 - *(float *)((int)pfVar3 + (iVar1 - iVar2));
                pfVar3[1] = pfVar3[1] - pfVar7[-1];
                pfVar3[2] = pfVar3[2] - *pfVar7;
                pfVar3 = pfVar3 + 4;
                pfVar7 = pfVar7 + 4;
              } while (iVar6 != 0);
            }
            if (iVar5 < iVar10) {
              iVar1 = *param_5;
              iVar2 = *param_4;
              iVar6 = iVar10 - iVar5;
              pfVar3 = (float *)(iVar1 + iVar5 * 4);
              do {
                iVar6 = iVar6 + -1;
                *pfVar3 = *pfVar3 - *(float *)((int)pfVar3 + (iVar2 - iVar1));
                pfVar3 = pfVar3 + 1;
              } while (iVar6 != 0);
            }
            param_4 = param_4 + 1;
          }
          param_5 = param_5 + 1;
          param_7 = param_7 + -1;
        } while (param_7 != 0);
      }
      return uVar4;
    }
  }
  return 0;
}



int * __cdecl
FUN_0045acc0(undefined4 param_1,int **param_2,undefined4 *param_3,int param_4,int param_5)

{
  undefined4 *puVar1;
  int *piVar2;
  uint uVar3;
  
  uVar3 = 0;
  if (0 < param_5) {
    puVar1 = param_3;
    do {
      if (*(int *)((param_4 - (int)param_3) + (int)puVar1) != 0) {
        param_3[uVar3] = *puVar1;
        uVar3 = uVar3 + 1;
      }
      puVar1 = puVar1 + 1;
      param_5 = param_5 + -1;
    } while (param_5 != 0);
    if (uVar3 != 0) {
      piVar2 = FUN_0045a150(param_2,(int)param_3,uVar3);
      return piVar2;
    }
  }
  return (int *)0x0;
}



undefined4 __cdecl
FUN_0045ad20(int param_1,int **param_2,undefined4 *param_3,int param_4,int param_5)

{
  undefined4 *puVar1;
  undefined4 uVar2;
  int iVar3;
  
  iVar3 = 0;
  if (0 < param_5) {
    puVar1 = param_3;
    do {
      if (*(int *)((param_4 - (int)param_3) + (int)puVar1) != 0) {
        param_3[iVar3] = *puVar1;
        iVar3 = iVar3 + 1;
      }
      puVar1 = puVar1 + 1;
      param_5 = param_5 + -1;
    } while (param_5 != 0);
    if (iVar3 != 0) {
      uVar2 = FUN_0045a860(param_1,param_2,(int)param_3,iVar3,FUN_00454a40);
      return uVar2;
    }
  }
  return 0;
}



undefined4 __cdecl
FUN_0045adc0(int *param_1,int param_2,undefined4 param_3,int param_4,int *param_5,int *param_6,
            int *param_7,int *param_8)

{
  float fVar1;
  int *piVar2;
  int iVar3;
  int iVar4;
  undefined4 *puVar5;
  undefined4 uVar6;
  int iVar7;
  float *pfVar8;
  int iVar9;
  int iVar10;
  int iVar11;
  float *pfVar12;
  int iVar13;
  int local_1c;
  int local_18;
  int local_14;
  int *local_10;
  int local_8;
  
  piVar2 = param_7;
  iVar13 = *(int *)(param_2 + 0x24) / 2;
  local_1c = 0;
  local_8 = iVar13;
  iVar3 = FUN_0044e270(param_2,iVar13 * (int)param_7 * 4);
  param_2 = 0;
  if (0 < (int)param_7) {
    local_10 = (int *)(param_4 - (int)param_6);
    param_7 = param_6;
    do {
      local_14 = *(int *)((int)local_10 + (int)param_7);
      if (*param_7 != 0) {
        local_1c = local_1c + 1;
      }
      iVar11 = 0;
      iVar4 = param_2;
      if (3 < iVar13) {
        iVar9 = (iVar13 - 4U >> 2) + 1;
        iVar11 = iVar9 * 4;
        puVar5 = (undefined4 *)(local_14 + 8);
        do {
          *(undefined4 *)(iVar3 + iVar4 * 4) = puVar5[-2];
          *(undefined4 *)(iVar3 + (iVar4 + (int)piVar2) * 4) = puVar5[-1];
          iVar4 = iVar4 + (int)piVar2 + (int)piVar2;
          *(undefined4 *)(iVar3 + iVar4 * 4) = *puVar5;
          iVar4 = iVar4 + (int)piVar2;
          *(undefined4 *)(iVar3 + iVar4 * 4) = puVar5[1];
          iVar4 = iVar4 + (int)piVar2;
          iVar9 = iVar9 + -1;
          puVar5 = puVar5 + 4;
        } while (iVar9 != 0);
      }
      if (iVar11 < iVar13) {
        puVar5 = (undefined4 *)(iVar3 + iVar4 * 4);
        do {
          iVar4 = iVar11 * 4;
          iVar11 = iVar11 + 1;
          *puVar5 = *(undefined4 *)(local_14 + iVar4);
          puVar5 = puVar5 + (int)piVar2;
        } while (iVar11 < iVar13);
      }
      param_2 = param_2 + 1;
      param_7 = param_7 + 1;
    } while (param_2 < (int)piVar2);
    if (local_1c != 0) {
      local_18 = iVar3;
      uVar6 = FUN_0045a620(param_1,(int)&local_18,1,param_8,FUN_0045a0e0);
      if (param_5 != (int *)0x0) {
        param_2 = 0;
        local_10 = param_5;
        do {
          iVar11 = *(int *)((param_4 - (int)param_5) + (int)local_10);
          iVar4 = *local_10;
          param_7 = (int *)0x0;
          iVar9 = param_2;
          if (3 < iVar13) {
            iVar7 = (iVar13 - 4U >> 2) + 1;
            param_7 = (int *)(iVar7 * 4);
            pfVar8 = (float *)(iVar4 + 4);
            pfVar12 = (float *)(iVar11 + 0xc);
            do {
              pfVar8[-1] = (pfVar12[-3] - *(float *)(iVar3 + iVar9 * 4)) + pfVar8[-1];
              iVar13 = iVar9 + (int)piVar2 + (int)piVar2;
              *pfVar8 = (*(float *)((int)pfVar8 + (iVar11 - iVar4)) -
                        *(float *)(iVar3 + (iVar9 + (int)piVar2) * 4)) + *pfVar8;
              iVar10 = iVar13 + (int)piVar2;
              pfVar8[1] = (pfVar12[-1] - *(float *)(iVar3 + iVar13 * 4)) + pfVar8[1];
              iVar9 = iVar10 + (int)piVar2;
              iVar7 = iVar7 + -1;
              pfVar8[2] = (*pfVar12 - *(float *)(iVar3 + iVar10 * 4)) + pfVar8[2];
              pfVar8 = pfVar8 + 4;
              pfVar12 = pfVar12 + 4;
              iVar13 = local_8;
            } while (iVar7 != 0);
          }
          if ((int)param_7 < iVar13) {
            iVar7 = iVar13 - (int)param_7;
            pfVar8 = (float *)(iVar3 + iVar9 * 4);
            pfVar12 = (float *)(iVar4 + (int)param_7 * 4);
            do {
              fVar1 = *pfVar8;
              pfVar8 = pfVar8 + (int)piVar2;
              iVar7 = iVar7 + -1;
              *pfVar12 = (*(float *)((int)pfVar12 + (iVar11 - iVar4)) - fVar1) + *pfVar12;
              pfVar12 = pfVar12 + 1;
            } while (iVar7 != 0);
          }
          param_2 = param_2 + 1;
          local_10 = local_10 + 1;
        } while (param_2 < (int)piVar2);
      }
      return uVar6;
    }
  }
  return 0;
}



undefined4 __cdecl FUN_0045b020(int param_1,int **param_2,int param_3,int param_4,int param_5)

{
  int iVar1;
  int *piVar2;
  int iVar3;
  int *piVar4;
  int iVar5;
  int *piVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  int local_18;
  int local_14;
  int *local_10;
  
  iVar1 = *param_2[4];
  piVar2 = *param_2;
  iVar3 = piVar2[2];
  iVar5 = *(int *)(param_1 + 0x24) * param_5 >> 1;
  if (piVar2[1] < iVar5) {
    iVar5 = piVar2[1];
  }
  if (0 < iVar5 - *piVar2) {
    iVar5 = (iVar5 - *piVar2) / iVar3;
    piVar6 = (int *)FUN_0044e270(param_1,((iVar5 + -1 + iVar1) / iVar1) * 4);
    iVar7 = 0;
    if (0 < param_5) {
      do {
        if (*(int *)(param_4 + iVar7 * 4) != 0) break;
        iVar7 = iVar7 + 1;
      } while (iVar7 < param_5);
    }
    if ((iVar7 != param_5) && (local_14 = 0, 0 < (int)param_2[2])) {
      do {
        local_18 = 0;
        local_10 = piVar6;
        if (0 < iVar5) {
          do {
            if (local_14 == 0) {
              iVar7 = FUN_00454880((int)param_2[4],(int *)(param_1 + 4));
              if (iVar7 == -1) {
                return 0;
              }
              iVar7 = param_2[7][iVar7];
              *local_10 = iVar7;
              if (iVar7 == 0) {
                return 0;
              }
            }
            iVar7 = 0;
            if (0 < iVar1) {
              iVar9 = local_18 * iVar3;
              do {
                if (iVar5 <= local_18) break;
                iVar8 = *(int *)(*local_10 + iVar7 * 4);
                if ((((piVar2[iVar8 + 5] & 1 << ((byte)local_14 & 0x1f)) != 0) &&
                    (piVar4 = *(int **)(param_2[5][iVar8] + local_14 * 4), piVar4 != (int *)0x0)) &&
                   (iVar8 = FUN_00454c20(piVar4,param_3,*piVar2 + iVar9,param_5,(int *)(param_1 + 4)
                                         ,iVar3), iVar8 == -1)) {
                  return 0;
                }
                local_18 = local_18 + 1;
                iVar7 = iVar7 + 1;
                iVar9 = iVar9 + iVar3;
              } while (iVar7 < iVar1);
            }
            local_10 = local_10 + 1;
          } while (local_18 < iVar5);
        }
        local_14 = local_14 + 1;
      } while (local_14 < (int)param_2[2]);
    }
  }
  return 0;
}



void __cdecl FUN_0045b1d0(void *param_1)

{
  if (param_1 != (void *)0x0) {
    memset(param_1,0,0x460);
    free(param_1);
  }
  return;
}



void __cdecl FUN_0045b200(void *param_1)

{
  if (param_1 != (void *)0x0) {
    memset(param_1,0,0x520);
    free(param_1);
  }
  return;
}



int __fastcall FUN_0045b230(uint param_1)

{
  int iVar1;
  
  iVar1 = 0;
  if (param_1 != 0) {
    do {
      iVar1 = iVar1 + 1;
      param_1 = param_1 >> 1;
    } while (param_1 != 0);
  }
  return iVar1;
}



void __cdecl FUN_0045b240(uint *param_1,int *param_2)

{
  uint *puVar1;
  uint uVar2;
  int iVar3;
  uint *puVar4;
  uint *puVar5;
  int iVar6;
  uint *local_10;
  int local_c;
  int local_8;
  
  puVar1 = param_1;
  uVar2 = param_1[0xd2];
  iVar3 = 0;
  local_c = 0;
  local_10 = (uint *)0xffffffff;
  FUN_0044f500(param_2,*param_1,5);
  puVar4 = param_1;
  if (0 < (int)*param_1) {
    do {
      puVar4 = puVar4 + 1;
      FUN_0044f500(param_2,*puVar4,4);
      if ((int)local_10 < (int)*puVar4) {
        local_10 = (uint *)*puVar4;
      }
      iVar3 = iVar3 + 1;
    } while (iVar3 < (int)*param_1);
  }
  local_8 = (int)local_10 + 1;
  if (0 < local_8) {
    local_10 = param_1 + 0x50;
    puVar4 = param_1 + 0x30;
    do {
      FUN_0044f500(param_2,puVar4[-0x10] - 1,3);
      FUN_0044f500(param_2,*puVar4,2);
      if (*puVar4 != 0) {
        FUN_0044f500(param_2,puVar4[0x10],8);
      }
      iVar3 = 0;
      puVar5 = local_10;
      if (0 < 1 << ((byte)*puVar4 & 0x1f)) {
        do {
          FUN_0044f500(param_2,*puVar5 + 1,8);
          iVar3 = iVar3 + 1;
          puVar5 = puVar5 + 1;
        } while (iVar3 < 1 << ((byte)*puVar4 & 0x1f));
      }
      local_10 = local_10 + 8;
      puVar4 = puVar4 + 1;
      local_8 = local_8 + -1;
    } while (local_8 != 0);
  }
  FUN_0044f500(param_2,param_1[0xd0] - 1,2);
  uVar2 = FUN_0044e1d0(uVar2);
  FUN_0044f500(param_2,uVar2,4);
  iVar3 = 0;
  local_8 = 0;
  if (0 < (int)*param_1) {
    param_1 = param_1 + 1;
    do {
      local_c = local_c + puVar1[*param_1 + 0x20];
      if (iVar3 < local_c) {
        iVar6 = local_c - iVar3;
        puVar4 = puVar1 + iVar3 + 0xd3;
        iVar3 = iVar3 + iVar6;
        do {
          FUN_0044f500(param_2,*puVar4,uVar2);
          puVar4 = puVar4 + 1;
          iVar6 = iVar6 + -1;
        } while (iVar6 != 0);
      }
      param_1 = param_1 + 1;
      local_8 = local_8 + 1;
    } while (local_8 < (int)*puVar1);
  }
  return;
}



uint * __cdecl FUN_0045b3e0(uint *param_1,int *param_2)

{
  uint *puVar1;
  uint uVar2;
  uint uVar3;
  uint uVar4;
  uint *puVar5;
  int iVar6;
  uint *puVar7;
  uint *local_14;
  int local_10;
  
  uVar3 = param_1[7];
  iVar6 = 0;
  local_10 = 0;
  uVar4 = 0xffffffff;
  puVar1 = (uint *)calloc(1,0x460);
  uVar2 = FUN_0044f700(param_2,5);
  *puVar1 = uVar2;
  param_1 = puVar1;
  if (0 < (int)uVar2) {
    do {
      param_1 = param_1 + 1;
      uVar2 = FUN_0044f700(param_2,4);
      *param_1 = uVar2;
      if ((int)uVar4 < (int)uVar2) {
        uVar4 = uVar2;
      }
      iVar6 = iVar6 + 1;
    } while (iVar6 < (int)*puVar1);
  }
  param_1 = (uint *)0x0;
  if (0 < (int)(uVar4 + 1)) {
    local_14 = puVar1 + 0x50;
    puVar5 = puVar1 + 0x40;
    do {
      uVar2 = FUN_0044f700(param_2,3);
      puVar5[-0x20] = uVar2 + 1;
      uVar2 = FUN_0044f700(param_2,2);
      puVar5[-0x10] = uVar2;
      if ((int)uVar2 < 0) {
LAB_0045b5f9:
        FUN_0045b1d0(puVar1);
        return (uint *)0x0;
      }
      if (uVar2 != 0) {
        uVar2 = FUN_0044f700(param_2,8);
        *puVar5 = uVar2;
      }
      if (((int)*puVar5 < 0) || (*(int *)(uVar3 + 0x18) <= (int)*puVar5)) goto LAB_0045b5f9;
      iVar6 = 0;
      puVar7 = local_14;
      if (0 < 1 << ((byte)puVar5[-0x10] & 0x1f)) {
        do {
          uVar2 = FUN_0044f700(param_2,8);
          uVar2 = uVar2 - 1;
          *puVar7 = uVar2;
          if (((int)uVar2 < -1) || (*(int *)(uVar3 + 0x18) <= (int)uVar2)) goto LAB_0045b5f9;
          iVar6 = iVar6 + 1;
          puVar7 = puVar7 + 1;
        } while (iVar6 < 1 << ((byte)puVar5[-0x10] & 0x1f));
      }
      local_14 = local_14 + 8;
      param_1 = (uint *)((int)param_1 + 1);
      puVar5 = puVar5 + 1;
    } while ((int)param_1 < (int)(uVar4 + 1));
  }
  uVar3 = FUN_0044f700(param_2,2);
  puVar1[0xd0] = uVar3 + 1;
  uVar3 = FUN_0044f700(param_2,4);
  iVar6 = 0;
  param_1 = (uint *)0x0;
  local_14 = puVar1;
  if (0 < (int)*puVar1) {
    do {
      local_14 = local_14 + 1;
      local_10 = local_10 + puVar1[*local_14 + 0x20];
      if (iVar6 < local_10) {
        puVar5 = puVar1 + iVar6 + 0xd3;
        do {
          uVar4 = FUN_0044f700(param_2,uVar3);
          *puVar5 = uVar4;
          if (((int)uVar4 < 0) || (1 << ((byte)uVar3 & 0x1f) <= (int)uVar4)) goto LAB_0045b5f9;
          iVar6 = iVar6 + 1;
          puVar5 = puVar5 + 1;
        } while (iVar6 < local_10);
      }
      param_1 = (uint *)((int)param_1 + 1);
    } while ((int)param_1 < (int)*puVar1);
  }
  puVar1[0xd1] = 0;
  puVar1[0xd2] = 1 << ((byte)uVar3 & 0x1f);
  return puVar1;
}



int __cdecl FUN_0045b610(int **param_1,int **param_2)

{
  return **param_1 - **param_2;
}



int __fastcall FUN_0045b890(int param_1,uint param_2,int param_3,int param_4)

{
  uint in_EAX;
  uint uVar1;
  int iVar2;
  uint uVar3;
  
  uVar3 = param_2 & 0x7fff;
  uVar1 = (in_EAX & 0x7fff) - uVar3;
  iVar2 = (int)(((uVar1 ^ (int)uVar1 >> 0x1f) - ((int)uVar1 >> 0x1f)) * (param_1 - param_3)) /
          (param_4 - param_3);
  if ((int)uVar1 < 0) {
    return uVar3 - iVar2;
  }
  return iVar2 + uVar3;
}



uint __fastcall FUN_0045b8e0(undefined4 param_1,undefined4 param_2)

{
  uint uVar1;
  ulonglong uVar2;
  
  uVar2 = FUN_0045db50(param_1,param_2);
  uVar1 = (uint)uVar2;
  if (0x3ff < (int)uVar1) {
    return 0x3ff;
  }
  return uVar1 & ((int)uVar1 < 0) - 1;
}



void __thiscall FUN_0045b910(void *this,int param_1,int param_2,int param_3,int param_4,int param_5)

{
  int iVar1;
  int iVar2;
  float *pfVar3;
  uint uVar4;
  int iVar5;
  uint uVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  int iVar10;
  int local_8;
  
  iVar9 = param_3 - param_2;
  uVar4 = (int)this - param_4;
  iVar2 = (int)uVar4 / iVar9;
  if ((int)uVar4 < 0) {
    local_8 = iVar2 + -1;
  }
  else {
    local_8 = iVar2 + 1;
  }
  uVar6 = iVar2 * iVar9 >> 0x1f;
  iVar8 = ((uVar4 ^ (int)uVar4 >> 0x1f) - ((int)uVar4 >> 0x1f)) - ((iVar2 * iVar9 ^ uVar6) - uVar6);
  iVar5 = 0;
  if (param_3 < param_1) {
    param_1 = param_3;
  }
  if (param_2 < param_1) {
    *(float *)(param_5 + param_2 * 4) =
         *(float *)(&DAT_0047a058 + param_4 * 4) * *(float *)(param_5 + param_2 * 4);
  }
  iVar7 = param_2 + 1;
  if (iVar7 < param_1) {
    if (3 < param_1 - iVar7) {
      param_3 = ((param_1 - iVar7) - 4U >> 2) + 1;
      iVar1 = iVar7 * 4;
      iVar7 = iVar7 + param_3 * 4;
      pfVar3 = (float *)(param_5 + 8 + iVar1);
      do {
        iVar5 = iVar5 + iVar8;
        iVar1 = iVar2;
        if (iVar9 <= iVar5) {
          iVar5 = iVar5 - iVar9;
          iVar1 = local_8;
        }
        iVar5 = iVar5 + iVar8;
        pfVar3[-2] = *(float *)(&DAT_0047a058 + (param_4 + iVar1) * 4) * pfVar3[-2];
        iVar10 = iVar2;
        if (iVar9 <= iVar5) {
          iVar5 = iVar5 - iVar9;
          iVar10 = local_8;
        }
        iVar10 = param_4 + iVar1 + iVar10;
        iVar5 = iVar5 + iVar8;
        pfVar3[-1] = *(float *)(&DAT_0047a058 + iVar10 * 4) * pfVar3[-1];
        iVar1 = iVar2;
        if (iVar9 <= iVar5) {
          iVar5 = iVar5 - iVar9;
          iVar1 = local_8;
        }
        iVar10 = iVar10 + iVar1;
        iVar5 = iVar5 + iVar8;
        *pfVar3 = *(float *)(&DAT_0047a058 + iVar10 * 4) * *pfVar3;
        iVar1 = iVar2;
        if (iVar9 <= iVar5) {
          iVar5 = iVar5 - iVar9;
          iVar1 = local_8;
        }
        param_4 = iVar10 + iVar1;
        param_3 = param_3 + -1;
        pfVar3[1] = *(float *)(&DAT_0047a058 + param_4 * 4) * pfVar3[1];
        pfVar3 = pfVar3 + 4;
      } while (param_3 != 0);
    }
    if (iVar7 < param_1) {
      pfVar3 = (float *)(&DAT_0047a058 + param_4 * 4);
      do {
        iVar5 = iVar5 + iVar8;
        iVar1 = iVar2;
        if (iVar9 <= iVar5) {
          iVar5 = iVar5 - iVar9;
          iVar1 = local_8;
        }
        pfVar3 = pfVar3 + iVar1;
        iVar1 = iVar7 * 4;
        iVar7 = iVar7 + 1;
        *(float *)(param_5 + -4 + iVar7 * 4) = *pfVar3 * *(float *)(param_5 + iVar1);
      } while (iVar7 < param_1);
    }
  }
  return;
}



void __thiscall FUN_0045ba90(void *this,int param_1,int param_2,int param_3)

{
  int iVar1;
  int in_EAX;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  uint uVar6;
  int iVar7;
  uint uVar8;
  
  uVar8 = in_EAX - (int)this;
  iVar4 = param_2 - param_1;
  iVar2 = (int)uVar8 / iVar4;
  iVar5 = iVar2 + -1;
  if (-1 < (int)uVar8) {
    iVar5 = iVar2 + 1;
  }
  uVar6 = iVar2 * iVar4 >> 0x1f;
  iVar3 = param_1 + 1;
  *(void **)(param_3 + param_1 * 4) = this;
  if (iVar3 < param_2) {
    iVar7 = 0;
    do {
      iVar7 = iVar7 + (((uVar8 ^ (int)uVar8 >> 0x1f) - ((int)uVar8 >> 0x1f)) -
                      ((iVar2 * iVar4 ^ uVar6) - uVar6));
      iVar1 = iVar2;
      if (iVar4 <= iVar7) {
        iVar7 = iVar7 - iVar4;
        iVar1 = iVar5;
      }
      this = (void *)((int)this + iVar1);
      *(void **)(param_3 + iVar3 * 4) = this;
      iVar3 = iVar3 + 1;
    } while (iVar3 < param_2);
  }
  return;
}



int __fastcall FUN_0045bb20(uint param_1,int param_2,int param_3,uint param_4,int param_5)

{
  float fVar1;
  int in_EAX;
  int iVar2;
  int extraout_EDX;
  int iVar3;
  int iVar4;
  int *unaff_ESI;
  ulonglong uVar5;
  float *local_30;
  int local_2c;
  int local_28;
  int local_24;
  int local_20;
  int local_1c;
  int local_18;
  int local_14;
  int local_10;
  int local_c;
  int local_8;
  
  unaff_ESI[2] = 0;
  unaff_ESI[3] = 0;
  unaff_ESI[4] = 0;
  unaff_ESI[5] = 0;
  unaff_ESI[6] = 0;
  unaff_ESI[7] = 0;
  local_2c = 0;
  local_24 = 0;
  local_1c = 0;
  local_14 = 0;
  local_c = 0;
  local_28 = 0;
  local_20 = 0;
  local_18 = 0;
  local_10 = 0;
  local_8 = 0;
  iVar3 = 0;
  iVar4 = 0;
  *unaff_ESI = in_EAX;
  unaff_ESI[1] = param_4;
  if ((int)param_1 <= (int)param_4) {
    param_1 = param_1 - 1;
    param_4 = param_1;
  }
  if (in_EAX <= (int)param_4) {
    local_30 = (float *)(param_2 + in_EAX * 4);
    iVar2 = param_3 - param_2;
    do {
      param_1 = FUN_0045b8e0(param_1,param_2);
      param_2 = extraout_EDX;
      if (param_1 != 0) {
        fVar1 = *(float *)(iVar2 + (int)local_30) + *(float *)(param_5 + 0x458);
        param_2 = param_1 * param_1;
        if (*local_30 < fVar1 == (*local_30 == fVar1)) {
          local_20 = local_20 + param_1;
          param_1 = param_1 * in_EAX;
          local_28 = local_28 + in_EAX;
          local_18 = local_18 + in_EAX * in_EAX;
          local_10 = local_10 + param_2;
          local_8 = local_8 + param_1;
          iVar4 = iVar4 + 1;
        }
        else {
          local_24 = local_24 + param_1;
          param_1 = param_1 * in_EAX;
          local_2c = local_2c + in_EAX;
          local_1c = local_1c + in_EAX * in_EAX;
          local_14 = local_14 + param_2;
          local_c = local_c + param_1;
          iVar3 = iVar3 + 1;
        }
      }
      local_30 = local_30 + 1;
      in_EAX = in_EAX + 1;
    } while (in_EAX <= (int)param_4);
  }
  uVar5 = FUN_0045db50(iVar3 + 1,param_2);
  iVar2 = (int)uVar5 + 1;
  unaff_ESI[2] = iVar2 * local_2c + local_28;
  unaff_ESI[3] = iVar2 * local_24 + local_20;
  unaff_ESI[4] = iVar2 * local_1c + local_18;
  unaff_ESI[7] = (int)uVar5 * iVar3 + iVar4 + iVar3;
  unaff_ESI[5] = iVar2 * local_14 + local_10;
  unaff_ESI[6] = iVar2 * local_c + local_8;
  return iVar3;
}



void __cdecl FUN_0045bc90(int *param_1,int param_2,int *param_3,int *param_4)

{
  int iVar1;
  int iVar2;
  double dVar3;
  double dVar4;
  double dVar5;
  int iVar6;
  int *piVar7;
  int iVar8;
  undefined4 extraout_ECX;
  undefined4 extraout_ECX_00;
  int iVar9;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  int iVar10;
  int iVar11;
  int iVar12;
  int iVar13;
  ulonglong uVar14;
  int local_40;
  int local_3c;
  int local_38;
  int local_34;
  int local_30;
  int local_2c;
  int local_28;
  int local_24;
  int local_20;
  int local_1c;
  
  iVar1 = *param_1;
  iVar8 = 0;
  iVar2 = param_1[param_2 * 8 + -7];
  iVar10 = 0;
  iVar13 = 0;
  iVar12 = 0;
  iVar9 = 0;
  iVar6 = 0;
  local_2c = 0;
  local_28 = 0;
  local_24 = 0;
  local_20 = 0;
  local_1c = 0;
  local_40 = 0;
  local_3c = 0;
  local_38 = 0;
  local_34 = 0;
  if (1 < param_2) {
    piVar7 = param_1 + 3;
    iVar11 = (param_2 - 2U >> 1) + 1;
    iVar6 = iVar11 * 2;
    do {
      local_1c = local_1c + piVar7[7];
      local_20 = local_20 + piVar7[8];
      local_24 = local_24 + piVar7[9];
      local_28 = local_28 + piVar7[0xb];
      iVar8 = iVar8 + piVar7[-1];
      iVar9 = iVar9 + *piVar7;
      iVar12 = iVar12 + piVar7[1];
      iVar13 = iVar13 + piVar7[3];
      iVar10 = iVar10 + piVar7[4];
      local_2c = local_2c + piVar7[0xc];
      piVar7 = piVar7 + 0x10;
      iVar11 = iVar11 + -1;
    } while (iVar11 != 0);
  }
  if (iVar6 < param_2) {
    local_40 = param_1[iVar6 * 8 + 2];
    local_3c = param_1[iVar6 * 8 + 3];
    local_38 = param_1[iVar6 * 8 + 4];
    local_34 = param_1[iVar6 * 8 + 6];
    local_30 = param_1[iVar6 * 8 + 7];
  }
  else {
    local_30 = 0;
  }
  local_30 = local_30 + local_2c + iVar10;
  local_34 = local_34 + local_28 + iVar13;
  local_38 = local_38 + local_24 + iVar12;
  local_3c = local_3c + local_20 + iVar9;
  iVar6 = *param_3;
  local_40 = local_40 + local_1c + iVar8;
  if (-1 < iVar6) {
    local_3c = local_3c + iVar6;
    local_40 = local_40 + iVar1;
    local_34 = local_34 + iVar6 * iVar1;
    local_38 = local_38 + iVar1 * iVar1;
    local_30 = local_30 + 1;
  }
  iVar6 = *param_4;
  if (-1 < iVar6) {
    local_3c = local_3c + iVar6;
    local_40 = local_40 + iVar2;
    local_34 = local_34 + iVar6 * iVar2;
    local_38 = local_38 + iVar2 * iVar2;
    local_30 = local_30 + 1;
  }
  if (local_30 == 0) {
    *param_3 = 0;
    *param_4 = 0;
  }
  else {
    dVar5 = (double)local_40;
    dVar4 = 1.0 / ((double)local_30 * (double)local_38 - dVar5 * dVar5);
    dVar3 = ((double)local_38 * (double)local_3c - (double)local_34 * dVar5) * dVar4;
    dVar4 = dVar4 * ((double)local_30 * (double)local_34 - (double)local_3c * dVar5);
    floor(dVar4 * (double)iVar1 + dVar3 + 0.5);
    uVar14 = FUN_0045db50(extraout_ECX,extraout_EDX);
    *param_3 = (int)uVar14;
    floor((double)iVar2 * dVar4 + dVar3 + 0.5);
    uVar14 = FUN_0045db50(extraout_ECX_00,extraout_EDX_00);
    *param_4 = (int)uVar14;
    if (0x3ff < *param_3) {
      *param_3 = 0x3ff;
    }
    if (0x3ff < *param_4) {
      *param_4 = 0x3ff;
    }
    if (*param_3 < 0) {
      *param_3 = 0;
    }
    if (*param_4 < 0) {
      *param_4 = 0;
      return;
    }
  }
  return;
}



undefined4 __thiscall
FUN_0045bee0(void *this,int param_1,int param_2,int param_3,int param_4,uint param_5,uint param_6)

{
  float fVar1;
  float fVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  uint uVar6;
  uint uVar7;
  uint uVar8;
  uint uVar9;
  int iVar10;
  int iVar11;
  float *pfVar12;
  int iVar13;
  int local_1c;
  int local_18;
  int local_14;
  
  uVar7 = (int)this - param_3;
  iVar13 = param_2 - param_1;
  uVar3 = (int)uVar7 / iVar13;
  if ((int)uVar7 < 0) {
    uVar4 = uVar3 - 1;
  }
  else {
    uVar4 = uVar3 + 1;
  }
  local_1c = param_3;
  local_14 = 0;
  uVar5 = FUN_0045b8e0(uVar7,(int)uVar7 % iVar13);
  uVar8 = (int)(uVar3 * iVar13) >> 0x1f;
  iVar11 = (param_3 - uVar5) * (param_3 - uVar5);
  local_18 = 1;
  fVar2 = *(float *)(param_5 + param_1 * 4) + *(float *)(param_6 + 0x458);
  fVar1 = *(float *)(param_4 + param_1 * 4);
  if (fVar1 < fVar2 != (fVar1 == fVar2)) {
    if ((float)param_3 + *(float *)(param_6 + 0x448) < (float)uVar5) {
      return 1;
    }
    if ((float)uVar5 < (float)param_3 - *(float *)(param_6 + 0x44c)) {
      return 1;
    }
  }
  param_3 = param_1 + 1;
  if (param_3 < param_2) {
    pfVar12 = (float *)(param_4 + param_3 * 4);
    iVar10 = param_5 - param_4;
    uVar5 = param_6;
    do {
      local_14 = local_14 +
                 (((uVar7 ^ (int)uVar7 >> 0x1f) - ((int)uVar7 >> 0x1f)) -
                 ((uVar3 * iVar13 ^ uVar8) - uVar8));
      uVar9 = uVar3;
      uVar6 = uVar3;
      if (iVar13 <= local_14) {
        local_14 = local_14 - iVar13;
        uVar5 = uVar4;
        uVar9 = param_5;
        uVar6 = uVar4;
      }
      local_1c = local_1c + uVar6;
      uVar5 = FUN_0045b8e0(uVar5,uVar9);
      local_18 = local_18 + 1;
      iVar11 = iVar11 + (local_1c - uVar5) * (local_1c - uVar5);
      fVar1 = *(float *)(iVar10 + (int)pfVar12) + *(float *)(param_6 + 0x458);
      if ((*pfVar12 < fVar1 != (*pfVar12 == fVar1)) && (uVar5 != 0)) {
        if ((float)local_1c + *(float *)(param_6 + 0x448) < (float)uVar5) {
          return 1;
        }
        if ((float)uVar5 < (float)local_1c - *(float *)(param_6 + 0x44c)) {
          return 1;
        }
      }
      param_3 = param_3 + 1;
      pfVar12 = pfVar12 + 1;
      param_5 = param_6;
    } while (param_3 < param_2);
  }
  if (*(float *)(param_6 + 0x450) <
      (float)local_18 / (*(float *)(param_6 + 0x448) * *(float *)(param_6 + 0x448))) {
    return 0;
  }
  if (((*(float *)(param_6 + 0x44c) * *(float *)(param_6 + 0x44c)) / (float)local_18 <=
       *(float *)(param_6 + 0x450)) && (*(float *)(param_6 + 0x450) < (float)(iVar11 / local_18))) {
    return 1;
  }
  return 0;
}



int __fastcall FUN_0045c120(int param_1,int param_2)

{
  int iVar1;
  int in_EAX;
  int iVar2;
  
  iVar2 = *(int *)(in_EAX + param_1 * 4);
  if (iVar2 < 0) {
    return *(int *)(param_2 + param_1 * 4);
  }
  iVar1 = *(int *)(param_2 + param_1 * 4);
  if (-1 < iVar1) {
    iVar2 = iVar2 + iVar1 >> 1;
  }
  return iVar2;
}



// WARNING: Type propagation algorithm not settling

int * __cdecl FUN_0045c140(int param_1,int param_2,uint param_3,int param_4)

{
  void *this;
  int iVar1;
  uint uVar2;
  uint uVar3;
  int iVar4;
  int extraout_EDX;
  int extraout_EDX_00;
  int iVar5;
  int *piVar6;
  int *piVar7;
  int **ppiVar8;
  int *local_d34;
  int *local_d30;
  uint local_d2c;
  int *local_d28;
  int local_d24;
  int *local_d20;
  int *local_d1c;
  int *local_d18;
  int *local_d14 [65];
  int *local_c10 [65];
  int *local_b0c [65];
  int *local_a08 [65];
  int *local_904 [65];
  int local_800 [512];
  
  local_d2c = *(uint *)(param_2 + 0x510);
  iVar5 = *(int *)(param_2 + 0x504);
  local_d20 = *(int **)(param_2 + 0x508);
  piVar7 = (int *)0x0;
  local_d34 = (int *)0x0;
  if (0 < iVar5) {
    ppiVar8 = local_c10;
    for (iVar4 = iVar5; iVar4 != 0; iVar4 = iVar4 + -1) {
      *ppiVar8 = (int *)0xffffff38;
      ppiVar8 = ppiVar8 + 1;
    }
  }
  if (0 < iVar5) {
    ppiVar8 = local_d14;
    for (iVar4 = iVar5; iVar4 != 0; iVar4 = iVar4 + -1) {
      *ppiVar8 = (int *)0xffffff38;
      ppiVar8 = ppiVar8 + 1;
    }
    ppiVar8 = local_a08;
    for (iVar4 = iVar5; iVar4 != 0; iVar4 = iVar4 + -1) {
      *ppiVar8 = (int *)0x0;
      ppiVar8 = ppiVar8 + 1;
    }
    if (0 < iVar5) {
      ppiVar8 = local_b0c;
      for (iVar4 = iVar5; iVar4 != 0; iVar4 = iVar4 + -1) {
        *ppiVar8 = (int *)0x1;
        ppiVar8 = ppiVar8 + 1;
      }
      ppiVar8 = local_904;
      for (iVar4 = iVar5; iVar4 != 0; iVar4 = iVar4 + -1) {
        *ppiVar8 = (int *)0xffffffff;
        ppiVar8 = ppiVar8 + 1;
      }
    }
  }
  local_d24 = iVar5;
  if (iVar5 == 0) {
    local_d34 = (int *)FUN_0045bb20((uint)local_d20,param_4,param_3,(uint)local_d20,local_d2c);
  }
  else {
    iVar4 = 0;
    if (iVar5 == 1 || iVar5 + -1 < 0) {
      return (int *)0x0;
    }
    do {
      iVar1 = FUN_0045bb20((uint)local_d20,param_4,param_3,*(uint *)(param_2 + 4 + iVar4 * 4),
                           local_d2c);
      local_d34 = (int *)((int)local_d34 + iVar1);
      iVar4 = iVar4 + 1;
    } while (iVar4 < iVar5 + -1);
  }
  if (local_d34 != (int *)0x0) {
    local_d30 = (int *)0xffffff38;
    local_d34 = (int *)0xffffff38;
    FUN_0045bc90(local_800,iVar5 + -1,(int *)&local_d30,(int *)&local_d34);
    local_c10[0] = local_d30;
    local_d14[0] = local_d30;
    local_d14[1] = local_d34;
    local_c10[1] = local_d34;
    local_d34 = (int *)0x2;
    if (2 < iVar5) {
      local_d30 = (int *)(param_2 + 0x210);
      do {
        iVar5 = *local_d30;
        piVar7 = local_a08[iVar5];
        piVar6 = local_b0c[iVar5];
        if (local_904[(int)piVar7] != piVar6) {
          iVar4 = *(int *)(param_2 + 0x208 + (int)piVar7 * 4);
          local_904[(int)piVar7] = piVar6;
          local_d28 = (int *)FUN_0045c120((int)piVar7,(int)local_d14);
          this = (void *)FUN_0045c120((int)piVar6,extraout_EDX);
          if ((local_d28 == (int *)0xffffffff) || (this == (void *)0xffffffff)) {
                    // WARNING: Subroutine does not return
            exit(1);
          }
          iVar1 = FUN_0045bee0(this,*(int *)(local_d2c + 0x344 + (int)piVar7 * 4),
                               *(int *)(local_d2c + 0x344 + (int)piVar6 * 4),(int)local_d28,param_4,
                               param_3,local_d2c);
          if (iVar1 == 0) {
            local_c10[(int)local_d34] = (int *)0xffffff38;
            local_d14[(int)local_d34] = (int *)0xffffff38;
          }
          else {
            local_d28 = (int *)0xffffff38;
            local_d18 = (int *)0xffffff38;
            local_d1c = (int *)0xffffff38;
            local_d20 = (int *)0xffffff38;
            FUN_0045bc90(local_800 + iVar4 * 8,iVar5 - iVar4,(int *)&local_d28,(int *)&local_d18);
            FUN_0045bc90(local_800 + iVar5 * 8,*(int *)(param_2 + 0x208 + (int)piVar6 * 4) - iVar5,
                         (int *)&local_d1c,(int *)&local_d20);
            local_d14[(int)piVar7] = local_d28;
            if (piVar7 == (int *)0x0) {
              local_c10[0] = local_d28;
            }
            local_c10[(int)local_d34] = local_d18;
            local_d14[(int)local_d34] = local_d1c;
            local_c10[(int)piVar6] = local_d20;
            if (piVar6 == (int *)0x1) {
              local_d14[1] = local_d20;
            }
            iVar4 = iVar5;
            if ((-1 < (int)local_d18) || (-1 < (int)local_d1c)) {
              while ((iVar4 = iVar4 + -1, -1 < iVar4 && (local_b0c[iVar4] == piVar6))) {
                local_b0c[iVar4] = local_d34;
              }
              while ((iVar5 = iVar5 + 1, iVar5 < local_d24 && (local_a08[iVar5] == piVar7))) {
                local_a08[iVar5] = local_d34;
              }
            }
          }
        }
        local_d30 = local_d30 + 1;
        local_d34 = (int *)((int)local_d34 + 1);
        iVar5 = local_d24;
      } while ((int)local_d34 < local_d24);
    }
    piVar7 = (int *)FUN_0044e270(param_1,iVar5 * 4);
    iVar4 = FUN_0045c120(0,(int)local_d14);
    *piVar7 = iVar4;
    iVar4 = FUN_0045c120(1,extraout_EDX_00);
    iVar1 = 2;
    piVar7[1] = iVar4;
    if (2 < iVar5) {
      local_d30 = (int *)(local_d2c + 0x34c);
      piVar6 = (int *)(param_2 + 0x30c);
      do {
        uVar2 = FUN_0045b890(*local_d30,piVar7[piVar6[0x3f]],
                             *(int *)(local_d2c + 0x344 + piVar6[0x3f] * 4),
                             *(int *)(local_d2c + 0x344 + *piVar6 * 4));
        uVar3 = FUN_0045c120(iVar1,(int)local_d14);
        if (((int)uVar3 < 0) || (uVar2 == uVar3)) {
          piVar7[iVar1] = uVar2 | 0x8000;
        }
        else {
          piVar7[iVar1] = uVar3;
        }
        local_d30 = local_d30 + 1;
        iVar1 = iVar1 + 1;
        piVar6 = piVar6 + 1;
      } while (iVar1 < local_d24);
    }
  }
  return piVar7;
}



int __cdecl FUN_0045c5a0(int param_1,int param_2,int param_3,uint *param_4,int param_5)

{
  int iVar1;
  uint uVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  
  iVar3 = *(int *)(param_2 + 0x504);
  iVar1 = 0;
  if (((param_3 != 0) && (param_4 != (uint *)0x0)) &&
     (iVar1 = FUN_0044e270(param_1,iVar3 * 4), 0 < iVar3)) {
    iVar4 = param_3 - (int)param_4;
    iVar5 = iVar1 - (int)param_4;
    do {
      uVar2 = (int)((*param_4 & 0x7fff) * param_5 + 0x8000 +
                   (*(uint *)(iVar4 + (int)param_4) & 0x7fff) * (0x10000 - param_5)) >> 0x10;
      *(uint *)(iVar5 + (int)param_4) = uVar2;
      if (((*(uint *)(iVar4 + (int)param_4) & 0x8000) != 0) && ((*param_4 & 0x8000) != 0)) {
        *(uint *)(iVar5 + (int)param_4) = uVar2 | 0x8000;
      }
      param_4 = param_4 + 1;
      iVar3 = iVar3 + -1;
    } while (iVar3 != 0);
  }
  return iVar1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 __cdecl FUN_0045c650(int *param_1,int param_2,int param_3,uint *param_4,void *param_5)

{
  int *piVar1;
  uint uVar2;
  int *piVar3;
  uint uVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  uint uVar8;
  int iVar9;
  void *pvVar10;
  void *this;
  uint uVar11;
  uint *puVar12;
  int iVar13;
  int iVar14;
  int iVar15;
  int iVar16;
  int *local_168;
  int *local_164;
  uint *local_15c;
  uint local_158;
  int local_154;
  int local_14c;
  int local_144 [4];
  undefined4 local_134;
  undefined4 local_130;
  undefined4 local_12c;
  undefined4 local_128;
  int aiStack_124 [8];
  uint local_104 [65];
  
  piVar1 = *(int **)(param_3 + 0x510);
  iVar5 = *(int *)(param_3 + 0x504);
  iVar13 = *(int *)(*(int *)(*(int *)(param_2 + 0x40) + 4) + 0x1c);
  iVar14 = *(int *)(iVar13 + 0xb20);
  if (param_4 == (uint *)0x0) {
    FUN_0044f500(param_1,0,1);
    memset(param_5,0,(*(int *)(param_2 + 0x24) / 2) * 4);
    _DAT_0047adac = _DAT_0047adac + 1;
    return 0;
  }
  iVar16 = 0;
  if (0 < iVar5) {
    do {
      uVar8 = param_4[iVar16] & 0x7fff;
      switch(piVar1[0xd0]) {
      case 1:
        uVar8 = (int)uVar8 >> 2;
        break;
      case 2:
        uVar8 = (int)uVar8 >> 3;
        break;
      case 3:
        uVar8 = uVar8 / 0xc;
        break;
      case 4:
        uVar8 = (int)uVar8 >> 4;
      }
      param_4[iVar16] = param_4[iVar16] & 0x8000 | uVar8;
      iVar16 = iVar16 + 1;
    } while (iVar16 < iVar5);
  }
  local_104[0] = *param_4;
  local_104[1] = param_4[1];
  if (2 < iVar5) {
    local_164 = piVar1 + 0xd3;
    piVar3 = (int *)(param_3 + 0x30c);
    local_168 = (int *)(iVar5 + -2);
    puVar12 = param_4 + 2;
    do {
      iVar5 = piVar3[0x3f];
      iVar16 = *piVar3;
      uVar8 = param_4[iVar5];
      uVar4 = FUN_0045b890(*local_164,uVar8,piVar1[iVar5 + 0xd1],piVar1[iVar16 + 0xd1]);
      uVar2 = *puVar12;
      if (((uVar2 & 0x8000) == 0) && (uVar4 != uVar2)) {
        uVar11 = *(int *)(param_3 + 0x50c) - uVar4;
        if ((int)uVar4 <= (int)uVar11) {
          uVar11 = uVar4;
        }
        iVar9 = uVar2 - uVar4;
        if (iVar9 < 0) {
          if (SBORROW4(iVar9,-uVar11) == (int)(iVar9 + uVar11) < 0) {
            iVar9 = iVar9 * -2 + -1;
          }
          else {
            iVar9 = (uVar11 - iVar9) + -1;
          }
        }
        else if (iVar9 < (int)uVar11) {
          iVar9 = iVar9 * 2;
        }
        else {
          iVar9 = iVar9 + uVar11;
        }
        *(int *)(((int)local_104 - (int)param_4) + (int)puVar12) = iVar9;
        param_4[iVar5] = uVar8 & 0x7fff;
        param_4[iVar16] = param_4[iVar16] & 0x7fff;
      }
      else {
        *puVar12 = uVar4 | 0x8000;
        *(undefined4 *)(((int)local_104 - (int)param_4) + (int)puVar12) = 0;
      }
      piVar3 = piVar3 + 1;
      local_164 = local_164 + 1;
      puVar12 = puVar12 + 1;
      local_168 = (int *)((int)local_168 + -1);
    } while (local_168 != (int *)0x0);
  }
  FUN_0044f500(param_1,1,1);
  *(int *)(param_3 + 0x51c) = *(int *)(param_3 + 0x51c) + 1;
  iVar5 = FUN_0045b230(*(int *)(param_3 + 0x50c) - 1);
  *(int *)(param_3 + 0x518) = *(int *)(param_3 + 0x518) + iVar5 * 2;
  FUN_0044f500(param_1,local_104[0],iVar5);
  iVar5 = FUN_0045b230(*(int *)(param_3 + 0x50c) - 1);
  FUN_0044f500(param_1,local_104[1],iVar5);
  local_14c = 0;
  local_164 = (int *)0x2;
  local_168 = piVar1;
  if (0 < *piVar1) {
    do {
      local_168 = local_168 + 1;
      iVar5 = *local_168;
      iVar16 = piVar1[iVar5 + 0x20];
      iVar9 = piVar1[iVar5 + 0x30];
      iVar15 = 1 << ((byte)iVar9 & 0x1f);
      local_144[0] = 0;
      local_144[1] = 0;
      local_144[2] = 0;
      local_144[3] = 0;
      local_134 = 0;
      local_130 = 0;
      local_12c = 0;
      local_128 = 0;
      local_158 = 0;
      local_154 = 0;
      if (iVar9 != 0) {
        iVar6 = 0;
        if (0 < iVar15) {
          piVar3 = piVar1 + (iVar5 + 10) * 8;
          do {
            if (*piVar3 < 0) {
              aiStack_124[iVar6] = 1;
            }
            else {
              aiStack_124[iVar6] = *(int *)(*(int *)(iVar13 + 0x720 + *piVar3 * 4) + 4);
            }
            iVar6 = iVar6 + 1;
            piVar3 = piVar3 + 1;
          } while (iVar6 < iVar15);
        }
        iVar6 = 0;
        if (0 < iVar16) {
          local_15c = local_104 + (int)local_164;
          do {
            iVar7 = 0;
            if (0 < iVar15) {
              do {
                if ((int)*local_15c < aiStack_124[iVar7]) {
                  local_144[iVar6] = iVar7;
                  break;
                }
                iVar7 = iVar7 + 1;
              } while (iVar7 < iVar15);
            }
            piVar3 = local_144 + iVar6;
            local_15c = local_15c + 1;
            iVar6 = iVar6 + 1;
            local_158 = local_158 | *piVar3 << ((byte)local_154 & 0x1f);
            local_154 = local_154 + iVar9;
          } while (iVar6 < iVar16);
        }
        iVar9 = FUN_004546c0(piVar1[iVar5 + 0x40] * 0x2c + iVar14,local_158,param_1);
        *(int *)(param_3 + 0x514) = *(int *)(param_3 + 0x514) + iVar9;
      }
      iVar9 = 0;
      if (0 < iVar16) {
        puVar12 = local_104 + (int)local_164;
        do {
          if (-1 < piVar1[local_144[iVar9] + iVar5 * 8 + 0x50]) {
            iVar15 = piVar1[local_144[iVar9] + iVar5 * 8 + 0x50] * 0x2c + iVar14;
            if ((int)*puVar12 < *(int *)(iVar15 + 4)) {
              iVar15 = FUN_004546c0(iVar15,*puVar12,param_1);
              *(int *)(param_3 + 0x518) = *(int *)(param_3 + 0x518) + iVar15;
            }
          }
          iVar9 = iVar9 + 1;
          puVar12 = puVar12 + 1;
        } while (iVar9 < iVar16);
      }
      local_164 = (int *)((int)local_164 + iVar16);
      local_14c = local_14c + 1;
    } while (local_14c < *piVar1);
  }
  pvVar10 = (void *)(piVar1[0xd0] * *param_4);
  iVar5 = 0;
  local_164 = (int *)0x1;
  if (1 < *(int *)(param_3 + 0x504)) {
    local_168 = (int *)(param_3 + 0x108);
    this = pvVar10;
    iVar13 = 0;
    do {
      uVar8 = param_4[*local_168] & 0x7fff;
      pvVar10 = this;
      iVar14 = iVar13;
      if (uVar8 == param_4[*local_168]) {
        iVar14 = piVar1[*local_168 + 0xd1];
        pvVar10 = (void *)(piVar1[0xd0] * uVar8);
        FUN_0045ba90(this,iVar13,iVar14,(int)param_5);
        iVar5 = iVar14;
      }
      local_168 = local_168 + 1;
      local_164 = (int *)((int)local_164 + 1);
      this = pvVar10;
      iVar13 = iVar14;
    } while ((int)local_164 < *(int *)(param_3 + 0x504));
  }
  if (iVar5 < *(int *)(param_2 + 0x24) / 2) {
    do {
      *(void **)((int)param_5 + iVar5 * 4) = pvVar10;
      iVar5 = iVar5 + 1;
    } while (iVar5 < *(int *)(param_2 + 0x24) / 2);
  }
  _DAT_0047adac = _DAT_0047adac + 1;
  return 1;
}



void __cdecl FUN_0045cfc0(void *param_1)

{
  if (param_1 != (void *)0x0) {
    memset(param_1,0,0x60);
    free(param_1);
  }
  return;
}



void __cdecl FUN_0045cfe0(undefined4 *param_1)

{
  void **ppvVar1;
  
  if (param_1 != (undefined4 *)0x0) {
    ppvVar1 = (void **)param_1[2];
    if (ppvVar1 != (void **)0x0) {
      if (*ppvVar1 != (void *)0x0) {
        free(*ppvVar1);
      }
      if (*(int *)(param_1[2] + 4) != 0) {
        free(*(void **)(param_1[2] + 4));
      }
      free((void *)param_1[2]);
    }
    *param_1 = 0;
    param_1[1] = 0;
    param_1[2] = 0;
    param_1[3] = 0;
    param_1[4] = 0;
    param_1[5] = 0;
    param_1[6] = 0;
    param_1[7] = 0;
    free(param_1);
  }
  return;
}



void __cdecl FUN_0045d110(int param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int in_EAX;
  void *pvVar4;
  int iVar5;
  undefined4 extraout_ECX;
  undefined4 extraout_EDX;
  int iVar6;
  int iVar7;
  int *unaff_EDI;
  float10 fVar8;
  float10 fVar9;
  float10 fVar10;
  float10 fVar11;
  ulonglong uVar12;
  
  iVar3 = *(int *)(in_EAX + 0x1c);
  if (*(int *)(unaff_EDI[2] + iVar3 * 4) == 0) {
    iVar7 = *(int *)(*(int *)(*(int *)(*(int *)(in_EAX + 0x40) + 4) + 0x1c) + iVar3 * 4) / 2;
    iVar1 = *(int *)(param_1 + 4);
    iVar2 = *unaff_EDI;
    fVar8 = (float10)_CIatan();
    fVar9 = (float10)_CIatan();
    pvVar4 = malloc(iVar7 * 4 + 4);
    *(void **)(unaff_EDI[2] + iVar3 * 4) = pvVar4;
    iVar6 = 0;
    if (0 < iVar7) {
      do {
        iVar5 = *(int *)(param_1 + 4);
        fVar10 = (float10)_CIatan();
        fVar11 = (float10)_CIatan();
        floor((double)(((float10)((float)iVar6 * ((float)iVar7 / ((float)iVar5 * 0.5))) *
                        (float10)9.999999747378752e-05 +
                       fVar11 * (float10)13.10000038146973 +
                       (float10)(double)(fVar10 * (float10)2.240000009536743)) *
                      (float10)(float)((float10)iVar2 /
                                      ((float10)((double)iVar1 * 0.5) *
                                       (float10)9.999999747378752e-05 +
                                      fVar9 * (float10)13.10000038146973 +
                                      (float10)(double)(fVar8 * (float10)2.240000009536743)))));
        uVar12 = FUN_0045db50(extraout_ECX,extraout_EDX);
        iVar5 = (int)uVar12;
        if (*unaff_EDI <= iVar5) {
          iVar5 = *unaff_EDI + -1;
        }
        *(int *)(*(int *)(unaff_EDI[2] + iVar3 * 4) + iVar6 * 4) = iVar5;
        iVar6 = iVar6 + 1;
      } while (iVar6 < iVar7);
    }
    *(undefined4 *)(*(int *)(unaff_EDI[2] + iVar3 * 4) + iVar6 * 4) = 0xffffffff;
    unaff_EDI[iVar3 + 3] = iVar7;
  }
  return;
}



undefined4 __cdecl FUN_0045d400(int param_1,float *param_2,float *param_3,void *param_4)

{
  float fVar1;
  
  fVar1 = param_2[5];
  FUN_0045d110((int)fVar1);
  if (param_3 != (float *)0x0) {
    FUN_0045d5b0((int)param_4,*(int **)((int)param_2[2] + *(int *)(param_1 + 0x1c) * 4),
                 (int)param_2[*(int *)(param_1 + 0x1c) + 3],*param_2,param_3,(uint)param_2[1],
                 param_3[(int)param_2[1]],(float)*(int *)((int)fVar1 + 0x10));
    return 1;
  }
  memset(param_4,0,(int)param_2[*(int *)(param_1 + 0x1c) + 3] * 4);
  return 0;
}



float10 __cdecl FUN_0045d480(float param_1)

{
  int iVar1;
  
  iVar1 = (int)ROUND(param_1 * 40.74367 - 0.5);
  return (float10)((param_1 * 40.74367 - (float)iVar1) *
                   (*(float *)(&DAT_0047a494 + iVar1 * 4) - *(float *)(&DAT_0047a490 + iVar1 * 4)) +
                  *(float *)(&DAT_0047a490 + iVar1 * 4));
}



float10 __cdecl FUN_0045d4d0(float param_1)

{
  int iVar1;
  float fVar2;
  
  fVar2 = param_1 * 64.0 - 32.0;
  iVar1 = (int)ROUND(fVar2 - 0.5);
  return (float10)((fVar2 - (float)iVar1) *
                   (*(float *)(&DAT_0047a69c + iVar1 * 4) - *(float *)(&DAT_0047a698 + iVar1 * 4)) +
                  *(float *)(&DAT_0047a698 + iVar1 * 4));
}



float10 __cdecl FUN_0045d530(int param_1)

{
  return (float10)*(float *)(&DAT_0047a7a0 + param_1 * 4);
}



float10 __cdecl FUN_0045d540(float param_1)

{
  uint uVar1;
  
  uVar1 = (uint)ROUND(param_1 * -8.0 - 0.5);
  if ((int)uVar1 < 0) {
    return (float10)1.0;
  }
  if (0x45f < (int)uVar1) {
    return (float10)0.0;
  }
  return (float10)(*(float *)(&DAT_0047a8b8 + (uVar1 & 0x1f) * 4) *
                  *(float *)(&DAT_0047a828 + ((int)uVar1 >> 5) * 4));
}



void __cdecl
FUN_0045d5b0(int param_1,int *param_2,int param_3,float param_4,float *param_5,uint param_6,
            float param_7,float param_8)

{
  float fVar1;
  int iVar2;
  float fVar3;
  float fVar4;
  int *piVar5;
  float *pfVar6;
  float *pfVar7;
  int iVar8;
  int iVar9;
  int extraout_EDX;
  int extraout_EDX_00;
  int iVar10;
  float10 fVar11;
  float10 fVar12;
  double dVar13;
  float local_1c;
  int local_4;
  
  fVar3 = (float)(int)param_4;
  iVar9 = 0;
  if (0 < (int)param_6) {
    do {
      fVar11 = FUN_0045d480(param_5[iVar9]);
      param_5[extraout_EDX] = (float)fVar11;
      iVar9 = extraout_EDX + 1;
    } while (iVar9 < (int)param_6);
  }
  iVar9 = 0;
  if (0 < param_3) {
    iVar10 = 0;
    piVar5 = param_2;
    do {
      iVar2 = *piVar5;
      local_1c = 0.7071068;
      param_4 = 0.7071068;
      fVar11 = FUN_0045d480((float)iVar2 * (3.141593 / fVar3));
      fVar1 = (float)fVar11;
      pfVar6 = param_5;
      iVar8 = extraout_EDX_00;
      do {
        pfVar7 = pfVar6 + 2;
        iVar8 = iVar8 + -1;
        param_4 = (*pfVar6 - fVar1) * param_4;
        local_1c = (pfVar6[1] - fVar1) * local_1c;
        pfVar6 = pfVar7;
      } while (iVar8 != 0);
      if ((param_6 & 1) == 0) {
        param_4 = param_4 * param_4 * (fVar1 + 1.0);
      }
      else {
        fVar4 = (*pfVar7 - fVar1) * param_4;
        param_4 = fVar4 * fVar4;
        fVar1 = fVar1 * fVar1;
      }
      dVar13 = frexp((double)(param_4 + local_1c * local_1c * (1.0 - fVar1)),&local_4);
      fVar11 = FUN_0045d530(local_4 + param_6);
      fVar12 = FUN_0045d4d0((float)dVar13);
      fVar11 = FUN_0045d540((float)(fVar12 * (float10)param_7 * (float10)(double)fVar11 -
                                   (float10)param_8));
      do {
        iVar9 = iVar9 + 1;
        *(float *)(iVar10 + param_1) = (float)fVar11 * *(float *)(iVar10 + param_1);
        iVar10 = iVar9 * 4;
        piVar5 = param_2 + iVar9;
      } while (*piVar5 == iVar2);
    } while (iVar9 < param_3);
  }
  return;
}



// Library Function - Single Match
//  @__security_check_cookie@4
// 
// Libraries: Visual Studio 2005 Release, Visual Studio 2008 Release, Visual Studio 2010 Release

void __fastcall ___security_check_cookie_4(int param_1)

{
  if (param_1 == DAT_0047a940) {
    return;
  }
                    // WARNING: Subroutine does not return
  ___report_gsfailure();
}



size_t __cdecl fread(void *_DstBuf,size_t _ElementSize,size_t _Count,FILE *_File)

{
  size_t sVar1;
  
                    // WARNING: Could not recover jumptable at 0x0045d764. Too many branches
                    // WARNING: Treating indirect jump as call
  sVar1 = fread(_DstBuf,_ElementSize,_Count,_File);
  return sVar1;
}



int __cdecl fseek(FILE *_File,long _Offset,int _Origin)

{
  int iVar1;
  
                    // WARNING: Could not recover jumptable at 0x0045d770. Too many branches
                    // WARNING: Treating indirect jump as call
  iVar1 = fseek(_File,_Offset,_Origin);
  return iVar1;
}



int __cdecl fclose(FILE *_File)

{
  int iVar1;
  
                    // WARNING: Could not recover jumptable at 0x0045d776. Too many branches
                    // WARNING: Treating indirect jump as call
  iVar1 = fclose(_File);
  return iVar1;
}



void __cdecl free(void *_Memory)

{
                    // WARNING: Could not recover jumptable at 0x0045d77c. Too many branches
                    // WARNING: Treating indirect jump as call
  free(_Memory);
  return;
}



void * __cdecl calloc(size_t _Count,size_t _Size)

{
  void *pvVar1;
  
                    // WARNING: Could not recover jumptable at 0x0045d782. Too many branches
                    // WARNING: Treating indirect jump as call
  pvVar1 = calloc(_Count,_Size);
  return pvVar1;
}



int __cdecl fprintf(FILE *_File,char *_Format,...)

{
  int iVar1;
  
                    // WARNING: Could not recover jumptable at 0x0045d788. Too many branches
                    // WARNING: Treating indirect jump as call
  iVar1 = fprintf(_File,_Format);
  return iVar1;
}



// WARNING: Function: __SEH_prolog4 replaced with injection: SEH_prolog4
// WARNING: Function: __SEH_epilog4 replaced with injection: EH_epilog3
// WARNING: Globals starting with '_' overlap smaller symbols at the same address
// Library Function - Single Match
//  ___tmainCRTStartup
// 
// Library: Visual Studio 2010 Release

int ___tmainCRTStartup(void)

{
  byte bVar1;
  void *Exchange;
  void *pvVar2;
  BOOL BVar3;
  uint uVar4;
  int iVar5;
  byte *pbVar6;
  undefined local_70 [48];
  ushort local_40;
  int local_28;
  byte *local_24;
  uint local_20;
  undefined4 uStack_c;
  undefined *local_8;
  
  local_8 = &DAT_0046b018;
  uStack_c = 0x45d7eb;
  local_20 = 0;
  GetStartupInfoW((LPSTARTUPINFOW)local_70);
  if (_DAT_00482b20 == 0) {
    HeapSetInformation((HANDLE)0x0,HeapEnableTerminationOnCorruption,(PVOID)0x0,0);
  }
  Exchange = StackBase;
  local_8 = (undefined *)0x0;
  local_28 = 0;
  do {
    pvVar2 = (void *)InterlockedCompareExchange((LONG *)&DAT_00482b14,(LONG)Exchange,0);
    if (pvVar2 == (void *)0x0) {
LAB_0045d84a:
      if (DAT_00482b10 == 1) {
        _amsg_exit(0x1f);
      }
      else if (DAT_00482b10 == 0) {
        DAT_00482b10 = 1;
        iVar5 = _initterm_e(&DAT_0045f398,&DAT_0045f3a8);
        if (iVar5 != 0) {
          return 0xff;
        }
      }
      else {
        _DAT_0047adcc = 1;
      }
      if (DAT_00482b10 == 1) {
        _initterm(&DAT_0045f2f8,&DAT_0045f394);
        DAT_00482b10 = 2;
      }
      if (local_28 == 0) {
        InterlockedExchange((LONG *)&DAT_00482b14,0);
      }
      if ((DAT_00482b24 != (code *)0x0) &&
         (BVar3 = __IsNonwritableInCurrentImage((PBYTE)&DAT_00482b24), BVar3 != 0)) {
        (*DAT_00482b24)(0,2,0);
      }
      pbVar6 = *(byte **)_acmdln_exref;
      while ((bVar1 = *pbVar6, local_24 = pbVar6, 0x20 < bVar1 || ((bVar1 != 0 && (local_20 != 0))))
            ) {
        if (bVar1 == 0x22) {
          local_20 = (uint)(local_20 == 0);
        }
        iVar5 = _ismbblead((uint)bVar1);
        if (iVar5 != 0) {
          pbVar6 = pbVar6 + 1;
        }
        pbVar6 = pbVar6 + 1;
      }
      for (; (*local_24 != 0 && (*local_24 < 0x21)); local_24 = local_24 + 1) {
      }
      if ((local_70[44] & 1) == 0) {
        uVar4 = 10;
      }
      else {
        uVar4 = (uint)local_40;
      }
      DAT_0047adc8 = FUN_00439c10((HINSTANCE)&IMAGE_DOS_HEADER_00400000,0,(char *)local_24,uVar4);
      if (_DAT_0047adbc != 0) {
        if (_DAT_0047adcc == 0) {
          _cexit();
        }
        return DAT_0047adc8;
      }
                    // WARNING: Subroutine does not return
      exit(DAT_0047adc8);
    }
    if (pvVar2 == Exchange) {
      local_28 = 1;
      goto LAB_0045d84a;
    }
    Sleep(1000);
  } while( true );
}



void entry(void)

{
  ___security_init_cookie();
  ___tmainCRTStartup();
  return;
}



int * __cdecl _errno(void)

{
  int *piVar1;
  
                    // WARNING: Could not recover jumptable at 0x0045da7c. Too many branches
                    // WARNING: Treating indirect jump as call
  piVar1 = _errno();
  return piVar1;
}



void * __cdecl malloc(size_t _Size)

{
  void *pvVar1;
  
                    // WARNING: Could not recover jumptable at 0x0045da82. Too many branches
                    // WARNING: Treating indirect jump as call
  pvVar1 = malloc(_Size);
  return pvVar1;
}



void * __cdecl realloc(void *_Memory,size_t _NewSize)

{
  void *pvVar1;
  
                    // WARNING: Could not recover jumptable at 0x0045da88. Too many branches
                    // WARNING: Treating indirect jump as call
  pvVar1 = realloc(_Memory,_NewSize);
  return pvVar1;
}



// Library Function - Single Match
//  __alldiv
// 
// Library: Visual Studio

undefined8 __alldiv(uint param_1,uint param_2,uint param_3,uint param_4)

{
  ulonglong uVar1;
  longlong lVar2;
  uint uVar3;
  int iVar4;
  uint uVar5;
  uint uVar6;
  uint uVar7;
  uint uVar8;
  bool bVar10;
  char cVar11;
  uint uVar9;
  
  cVar11 = (int)param_2 < 0;
  if ((bool)cVar11) {
    bVar10 = param_1 != 0;
    param_1 = -param_1;
    param_2 = -(uint)bVar10 - param_2;
  }
  if ((int)param_4 < 0) {
    cVar11 = cVar11 + '\x01';
    bVar10 = param_3 != 0;
    param_3 = -param_3;
    param_4 = -(uint)bVar10 - param_4;
  }
  uVar3 = param_1;
  uVar5 = param_3;
  uVar6 = param_2;
  uVar9 = param_4;
  if (param_4 == 0) {
    uVar3 = param_2 / param_3;
    iVar4 = (int)(((ulonglong)param_2 % (ulonglong)param_3 << 0x20 | (ulonglong)param_1) /
                 (ulonglong)param_3);
  }
  else {
    do {
      uVar8 = uVar9 >> 1;
      uVar5 = uVar5 >> 1 | (uint)((uVar9 & 1) != 0) << 0x1f;
      uVar7 = uVar6 >> 1;
      uVar3 = uVar3 >> 1 | (uint)((uVar6 & 1) != 0) << 0x1f;
      uVar6 = uVar7;
      uVar9 = uVar8;
    } while (uVar8 != 0);
    uVar1 = CONCAT44(uVar7,uVar3) / (ulonglong)uVar5;
    iVar4 = (int)uVar1;
    lVar2 = (ulonglong)param_3 * (uVar1 & 0xffffffff);
    uVar3 = (uint)((ulonglong)lVar2 >> 0x20);
    uVar5 = uVar3 + iVar4 * param_4;
    if (((CARRY4(uVar3,iVar4 * param_4)) || (param_2 < uVar5)) ||
       ((param_2 <= uVar5 && (param_1 < (uint)lVar2)))) {
      iVar4 = iVar4 + -1;
    }
    uVar3 = 0;
  }
  if (cVar11 == '\x01') {
    bVar10 = iVar4 != 0;
    iVar4 = -iVar4;
    uVar3 = -(uint)bVar10 - uVar3;
  }
  return CONCAT44(uVar3,iVar4);
}



void * __cdecl memset(void *_Dst,int _Val,size_t _Size)

{
  void *pvVar1;
  
                    // WARNING: Could not recover jumptable at 0x0045db40. Too many branches
                    // WARNING: Treating indirect jump as call
  pvVar1 = memset(_Dst,_Val,_Size);
  return pvVar1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

ulonglong __fastcall FUN_0045db50(undefined4 param_1,undefined4 param_2)

{
  ulonglong uVar1;
  uint uVar2;
  float fVar3;
  float10 in_ST0;
  uint uStack_20;
  float fStack_1c;
  
  if (_DAT_00482b0c == 0) {
    uVar1 = (ulonglong)ROUND(in_ST0);
    uStack_20 = (uint)uVar1;
    fStack_1c = (float)(uVar1 >> 0x20);
    fVar3 = (float)in_ST0;
    if ((uStack_20 != 0) || (fVar3 = fStack_1c, (uVar1 & 0x7fffffff00000000) != 0)) {
      if ((int)fVar3 < 0) {
        uVar1 = uVar1 + (0x80000000 < ((uint)(float)(in_ST0 - (float10)uVar1) ^ 0x80000000));
      }
      else {
        uVar2 = (uint)(0x80000000 < (uint)(float)(in_ST0 - (float10)uVar1));
        uVar1 = CONCAT44((int)fStack_1c - (uint)(uStack_20 < uVar2),uStack_20 - uVar2);
      }
    }
    return uVar1;
  }
  return CONCAT44(param_2,(int)in_ST0);
}



// Library Function - Single Match
//  __ftol2
// 
// Library: Visual Studio

ulonglong __ftol2(void)

{
  ulonglong uVar1;
  uint uVar2;
  float fVar3;
  float10 in_ST0;
  uint local_20;
  float fStack_1c;
  
  uVar1 = (ulonglong)ROUND(in_ST0);
  local_20 = (uint)uVar1;
  fStack_1c = (float)(uVar1 >> 0x20);
  fVar3 = (float)in_ST0;
  if ((local_20 != 0) || (fVar3 = fStack_1c, (uVar1 & 0x7fffffff00000000) != 0)) {
    if ((int)fVar3 < 0) {
      uVar1 = uVar1 + (0x80000000 < ((uint)(float)(in_ST0 - (float10)uVar1) ^ 0x80000000));
    }
    else {
      uVar2 = (uint)(0x80000000 < (uint)(float)(in_ST0 - (float10)uVar1));
      uVar1 = CONCAT44((int)fStack_1c - (uint)(local_20 < uVar2),local_20 - uVar2);
    }
  }
  return uVar1;
}



// Library Function - Single Match
//  __allmul
// 
// Library: Visual Studio

longlong __allmul(uint param_1,uint param_2,uint param_3,uint param_4)

{
  if ((param_4 | param_2) == 0) {
    return (ulonglong)param_1 * (ulonglong)param_3;
  }
  return CONCAT44((int)((ulonglong)param_1 * (ulonglong)param_3 >> 0x20) +
                  param_2 * param_3 + param_1 * param_4,
                  (int)((ulonglong)param_1 * (ulonglong)param_3));
}



void * __cdecl memcpy(void *_Dst,void *_Src,size_t _Size)

{
  void *pvVar1;
  
                    // WARNING: Could not recover jumptable at 0x0045dc34. Too many branches
                    // WARNING: Treating indirect jump as call
  pvVar1 = memcpy(_Dst,_Src,_Size);
  return pvVar1;
}



// WARNING: This is an inlined function
// WARNING: Function: __alloca_probe replaced with injection: alloca_probe
// Library Function - Single Match
//  __alloca_probe_16
// 
// Library: Visual Studio

uint __alloca_probe_16(undefined1 param_1)

{
  uint in_EAX;
  uint uVar1;
  
  uVar1 = 4 - in_EAX & 0xf;
  return in_EAX + uVar1 | -(uint)CARRY4(in_EAX,uVar1);
}



// WARNING: This is an inlined function
// WARNING: Function: __alloca_probe replaced with injection: alloca_probe
// Library Function - Single Match
//  __alloca_probe_8
// 
// Library: Visual Studio

uint __alloca_probe_8(undefined1 param_1)

{
  uint in_EAX;
  uint uVar1;
  
  uVar1 = 4 - in_EAX & 7;
  return in_EAX + uVar1 | -(uint)CARRY4(in_EAX,uVar1);
}



FILE * __cdecl fopen(char *_Filename,char *_Mode)

{
  FILE *pFVar1;
  
                    // WARNING: Could not recover jumptable at 0x0045dc6c. Too many branches
                    // WARNING: Treating indirect jump as call
  pFVar1 = fopen(_Filename,_Mode);
  return pFVar1;
}



double __cdecl floor(double _X)

{
  double dVar1;
  
                    // WARNING: Could not recover jumptable at 0x0045dc72. Too many branches
                    // WARNING: Treating indirect jump as call
  dVar1 = floor(_X);
  return dVar1;
}



void * __cdecl memmove(void *_Dst,void *_Src,size_t _Size)

{
  void *pvVar1;
  
                    // WARNING: Could not recover jumptable at 0x0045dc78. Too many branches
                    // WARNING: Treating indirect jump as call
  pvVar1 = memmove(_Dst,_Src,_Size);
  return pvVar1;
}



// Library Function - Single Match
//  __allshr
// 
// Library: Visual Studio

undefined8 __fastcall __allshr(byte param_1,int param_2)

{
  uint in_EAX;
  int iVar1;
  
  iVar1 = param_2 >> 0x1f;
  if (0x3f < param_1) {
    return CONCAT44(iVar1,iVar1);
  }
  if (param_1 < 0x20) {
    return CONCAT44(param_2 >> (param_1 & 0x1f),
                    in_EAX >> (param_1 & 0x1f) | param_2 << 0x20 - (param_1 & 0x1f));
  }
  return CONCAT44(iVar1,param_2 >> (param_1 & 0x1f));
}



void * __cdecl memchr(void *_Buf,int _Val,size_t _MaxCount)

{
  void *pvVar1;
  
                    // WARNING: Could not recover jumptable at 0x0045dca2. Too many branches
                    // WARNING: Treating indirect jump as call
  pvVar1 = memchr(_Buf,_Val,_MaxCount);
  return pvVar1;
}



void _CIatan(void)

{
                    // WARNING: Could not recover jumptable at 0x0045dca8. Too many branches
                    // WARNING: Treating indirect jump as call
  _CIatan();
  return;
}



double __cdecl ceil(double _X)

{
  double dVar1;
  
                    // WARNING: Could not recover jumptable at 0x0045dcae. Too many branches
                    // WARNING: Treating indirect jump as call
  dVar1 = ceil(_X);
  return dVar1;
}



// WARNING: This is an inlined function
// Library Function - Single Match
//  __chkstk
// 
// Library: Visual Studio

void __alloca_probe(void)

{
  undefined *in_EAX;
  undefined4 *puVar1;
  undefined4 *puVar2;
  undefined4 unaff_retaddr;
  undefined auStack_4 [4];
  
  puVar2 = (undefined4 *)((int)&stack0x00000000 - (int)in_EAX & ~-(uint)(&stack0x00000000 < in_EAX))
  ;
  for (puVar1 = (undefined4 *)((uint)auStack_4 & 0xfffff000); puVar2 < puVar1;
      puVar1 = puVar1 + -0x400) {
  }
  *puVar2 = unaff_retaddr;
  return;
}



void _CIlog(void)

{
                    // WARNING: Could not recover jumptable at 0x0045dcec. Too many branches
                    // WARNING: Treating indirect jump as call
  _CIlog();
  return;
}



void _CIexp(void)

{
                    // WARNING: Could not recover jumptable at 0x0045dcf2. Too many branches
                    // WARNING: Treating indirect jump as call
  _CIexp();
  return;
}



void _CIsqrt(void)

{
                    // WARNING: Could not recover jumptable at 0x0045dcf8. Too many branches
                    // WARNING: Treating indirect jump as call
  _CIsqrt();
  return;
}



void __cdecl
qsort(void *_Base,size_t _NumOfElements,size_t _SizeOfElements,_PtFuncCompare *_PtFuncCompare)

{
                    // WARNING: Could not recover jumptable at 0x0045dcfe. Too many branches
                    // WARNING: Treating indirect jump as call
  qsort(_Base,_NumOfElements,_SizeOfElements,_PtFuncCompare);
  return;
}



double __cdecl ldexp(double _X,int _Y)

{
  double dVar1;
  
                    // WARNING: Could not recover jumptable at 0x0045dd04. Too many branches
                    // WARNING: Treating indirect jump as call
  dVar1 = ldexp(_X,_Y);
  return dVar1;
}



void _CIpow(void)

{
                    // WARNING: Could not recover jumptable at 0x0045dd0a. Too many branches
                    // WARNING: Treating indirect jump as call
  _CIpow();
  return;
}



void _CIsin(void)

{
                    // WARNING: Could not recover jumptable at 0x0045dd10. Too many branches
                    // WARNING: Treating indirect jump as call
  _CIsin();
  return;
}



void _CIcos(void)

{
                    // WARNING: Could not recover jumptable at 0x0045dd16. Too many branches
                    // WARNING: Treating indirect jump as call
  _CIcos();
  return;
}



void __cdecl exit(int _Code)

{
                    // WARNING: Could not recover jumptable at 0x0045dd1c. Too many branches
                    // WARNING: Subroutine does not return
                    // WARNING: Treating indirect jump as call
  exit(_Code);
  return;
}



double __cdecl frexp(double _X,int *_Y)

{
  double dVar1;
  
                    // WARNING: Could not recover jumptable at 0x0045dd22. Too many branches
                    // WARNING: Treating indirect jump as call
  dVar1 = frexp(_X,_Y);
  return dVar1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address
// Library Function - Single Match
//  ___report_gsfailure
// 
// Libraries: Visual Studio 2005 Release, Visual Studio 2008 Release, Visual Studio 2010 Release

void __cdecl ___report_gsfailure(void)

{
  undefined4 in_EAX;
  HANDLE hProcess;
  undefined4 in_ECX;
  undefined4 in_EDX;
  undefined4 unaff_EBX;
  undefined4 unaff_EBP;
  undefined4 unaff_ESI;
  undefined4 unaff_EDI;
  undefined2 in_ES;
  undefined2 in_CS;
  undefined2 in_SS;
  undefined2 in_DS;
  undefined2 in_FS;
  undefined2 in_GS;
  byte in_AF;
  byte in_TF;
  byte in_IF;
  byte in_NT;
  byte in_AC;
  byte in_VIF;
  byte in_VIP;
  byte in_ID;
  undefined4 unaff_retaddr;
  UINT uExitCode;
  undefined4 local_32c;
  undefined4 local_328;
  
  _DAT_0047aee8 =
       (uint)(in_NT & 1) * 0x4000 | (uint)SBORROW4((int)&stack0xfffffffc,0x328) * 0x800 |
       (uint)(in_IF & 1) * 0x200 | (uint)(in_TF & 1) * 0x100 | (uint)((int)&local_32c < 0) * 0x80 |
       (uint)(&stack0x00000000 == (undefined *)0x32c) * 0x40 | (uint)(in_AF & 1) * 0x10 |
       (uint)((POPCOUNT((uint)&local_32c & 0xff) & 1U) == 0) * 4 |
       (uint)(&stack0xfffffffc < (undefined *)0x328) | (uint)(in_ID & 1) * 0x200000 |
       (uint)(in_VIP & 1) * 0x100000 | (uint)(in_VIF & 1) * 0x80000 | (uint)(in_AC & 1) * 0x40000;
  _DAT_0047aeec = &stack0x00000004;
  _DAT_0047ae28 = 0x10001;
  _DAT_0047add0 = 0xc0000409;
  _DAT_0047add4 = 1;
  local_32c = DAT_0047a940;
  local_328 = DAT_0047a944;
  _DAT_0047addc = unaff_retaddr;
  _DAT_0047aeb4 = in_GS;
  _DAT_0047aeb8 = in_FS;
  _DAT_0047aebc = in_ES;
  _DAT_0047aec0 = in_DS;
  _DAT_0047aec4 = unaff_EDI;
  _DAT_0047aec8 = unaff_ESI;
  _DAT_0047aecc = unaff_EBX;
  _DAT_0047aed0 = in_EDX;
  _DAT_0047aed4 = in_ECX;
  _DAT_0047aed8 = in_EAX;
  _DAT_0047aedc = unaff_EBP;
  DAT_0047aee0 = unaff_retaddr;
  _DAT_0047aee4 = in_CS;
  _DAT_0047aef0 = in_SS;
  _DAT_0047ae20 = IsDebuggerPresent();
  _crt_debugger_hook(1);
  SetUnhandledExceptionFilter((LPTOP_LEVEL_EXCEPTION_FILTER)0x0);
  UnhandledExceptionFilter((_EXCEPTION_POINTERS *)&ExceptionInfo_0045f9cc);
  if (_DAT_0047ae20 == 0) {
    _crt_debugger_hook(1);
  }
  uExitCode = 0xc0000409;
  hProcess = GetCurrentProcess();
  TerminateProcess(hProcess,uExitCode);
  return;
}



// Library Function - Single Match
//  long __stdcall __CxxUnhandledExceptionFilter(struct _EXCEPTION_POINTERS *)
// 
// Libraries: Visual Studio 2008 Release, Visual Studio 2010 Release

long __CxxUnhandledExceptionFilter(_EXCEPTION_POINTERS *param_1)

{
  PEXCEPTION_RECORD pEVar1;
  ULONG_PTR UVar2;
  
  pEVar1 = param_1->ExceptionRecord;
  if (((pEVar1->ExceptionCode == 0xe06d7363) && (pEVar1->NumberParameters == 3)) &&
     ((UVar2 = pEVar1->ExceptionInformation[0], UVar2 == 0x19930520 ||
      (((UVar2 == 0x19930521 || (UVar2 == 0x19930522)) || (UVar2 == 0x1994000)))))) {
                    // WARNING: Subroutine does not return
    terminate();
  }
  return 0;
}



void __cdecl _amsg_exit(int param_1)

{
                    // WARNING: Could not recover jumptable at 0x0045de7e. Too many branches
                    // WARNING: Treating indirect jump as call
  _amsg_exit(param_1);
  return;
}



// WARNING: Function: __SEH_prolog4 replaced with injection: SEH_prolog4
// WARNING: Function: __SEH_epilog4 replaced with injection: EH_epilog3
// Library Function - Single Match
//  __onexit
// 
// Library: Visual Studio 2010 Release

_onexit_t __cdecl __onexit(_onexit_t param_1)

{
  _onexit_t p_Var1;
  PVOID pvVar2;
  PVOID *ppvVar3;
  PVOID *ppvVar4;
  PVOID local_24;
  PVOID local_20 [5];
  undefined4 uStack_c;
  undefined *local_8;
  
  local_8 = &DAT_0046b038;
  uStack_c = 0x45de90;
  local_20[0] = DecodePointer(Ptr_00482b1c);
  if (local_20[0] == (PVOID)0xffffffff) {
    p_Var1 = _onexit(param_1);
  }
  else {
    _lock(8);
    local_8 = (undefined *)0x0;
    local_20[0] = DecodePointer(Ptr_00482b1c);
    local_24 = DecodePointer(Ptr_00482b18);
    ppvVar4 = &local_24;
    ppvVar3 = local_20;
    pvVar2 = EncodePointer(param_1);
    p_Var1 = (_onexit_t)__dllonexit(pvVar2,ppvVar3,ppvVar4);
    Ptr_00482b1c = EncodePointer(local_20[0]);
    Ptr_00482b18 = EncodePointer(local_24);
    local_8 = (undefined *)0xfffffffe;
    FUN_0045df1c();
  }
  return p_Var1;
}



void FUN_0045df1c(void)

{
  _unlock(8);
  return;
}



// Library Function - Single Match
//  _atexit
// 
// Library: Visual Studio 2010 Release

int __cdecl _atexit(_func_4879 *param_1)

{
  _onexit_t p_Var1;
  
  p_Var1 = __onexit((_onexit_t)param_1);
  return (p_Var1 != (_onexit_t)0x0) - 1;
}



// WARNING: Removing unreachable block (ram,0x0045df50)
// WARNING: Removing unreachable block (ram,0x0045df56)
// WARNING: Removing unreachable block (ram,0x0045df58)

void FUN_0045df3c(void)

{
  return;
}



// WARNING: Removing unreachable block (ram,0x0045df76)
// WARNING: Removing unreachable block (ram,0x0045df7c)
// WARNING: Removing unreachable block (ram,0x0045df7e)

void FUN_0045df62(void)

{
  return;
}



// Library Function - Single Match
//  __ValidateImageBase
// 
// Libraries: Visual Studio 2008 Release, Visual Studio 2010 Release

BOOL __cdecl __ValidateImageBase(PBYTE pImageBase)

{
  if ((*(short *)pImageBase == 0x5a4d) &&
     (*(int *)(pImageBase + *(int *)(pImageBase + 0x3c)) == 0x4550)) {
    return (uint)(*(short *)((int)(pImageBase + *(int *)(pImageBase + 0x3c)) + 0x18) == 0x10b);
  }
  return 0;
}



// Library Function - Single Match
//  __FindPESection
// 
// Library: Visual Studio 2010 Release

PIMAGE_SECTION_HEADER __cdecl __FindPESection(PBYTE pImageBase,DWORD_PTR rva)

{
  int iVar1;
  PIMAGE_SECTION_HEADER p_Var2;
  uint uVar3;
  
  iVar1 = *(int *)(pImageBase + 0x3c);
  uVar3 = 0;
  p_Var2 = (PIMAGE_SECTION_HEADER)
           (pImageBase + *(ushort *)(pImageBase + iVar1 + 0x14) + 0x18 + iVar1);
  if (*(ushort *)(pImageBase + iVar1 + 6) != 0) {
    do {
      if ((p_Var2->VirtualAddress <= rva) &&
         (rva < (p_Var2->Misc).PhysicalAddress + p_Var2->VirtualAddress)) {
        return p_Var2;
      }
      uVar3 = uVar3 + 1;
      p_Var2 = p_Var2 + 1;
    } while (uVar3 < *(ushort *)(pImageBase + iVar1 + 6));
  }
  return (PIMAGE_SECTION_HEADER)0x0;
}



// Library Function - Single Match
//  __IsNonwritableInCurrentImage
// 
// Library: Visual Studio 2010 Release

BOOL __cdecl __IsNonwritableInCurrentImage(PBYTE pTarget)

{
  BOOL BVar1;
  PIMAGE_SECTION_HEADER p_Var2;
  void *local_14;
  code *pcStack_10;
  uint local_c;
  undefined4 local_8;
  
  pcStack_10 = FUN_0045e149;
  local_14 = ExceptionList;
  local_c = DAT_0047a940 ^ 0x46b058;
  ExceptionList = &local_14;
  local_8 = 0;
  BVar1 = __ValidateImageBase((PBYTE)&IMAGE_DOS_HEADER_00400000);
  if (BVar1 != 0) {
    p_Var2 = __FindPESection((PBYTE)&IMAGE_DOS_HEADER_00400000,(DWORD_PTR)(pTarget + -0x400000));
    if (p_Var2 != (PIMAGE_SECTION_HEADER)0x0) {
      ExceptionList = local_14;
      return ~(p_Var2->Characteristics >> 0x1f) & 1;
    }
  }
  ExceptionList = local_14;
  return 0;
}



void _initterm(void)

{
                    // WARNING: Could not recover jumptable at 0x0045e0dc. Too many branches
                    // WARNING: Treating indirect jump as call
  _initterm();
  return;
}



void _initterm_e(void)

{
                    // WARNING: Could not recover jumptable at 0x0045e0e2. Too many branches
                    // WARNING: Treating indirect jump as call
  _initterm_e();
  return;
}



// WARNING: This is an inlined function
// WARNING: Unable to track spacebase fully for stack
// WARNING: Variable defined which should be unmapped: param_2
// Library Function - Single Match
//  __SEH_prolog4
// 
// Library: Visual Studio

void __cdecl __SEH_prolog4(undefined4 param_1,int param_2)

{
  int iVar1;
  undefined4 unaff_EBX;
  undefined4 unaff_ESI;
  undefined4 unaff_EDI;
  undefined4 unaff_retaddr;
  uint auStack_1c [5];
  undefined local_8 [8];
  
  iVar1 = -param_2;
  *(undefined4 *)((int)auStack_1c + iVar1 + 0x10) = unaff_EBX;
  *(undefined4 *)((int)auStack_1c + iVar1 + 0xc) = unaff_ESI;
  *(undefined4 *)((int)auStack_1c + iVar1 + 8) = unaff_EDI;
  *(uint *)((int)auStack_1c + iVar1 + 4) = DAT_0047a940 ^ (uint)&param_2;
  *(undefined4 *)((int)auStack_1c + iVar1) = unaff_retaddr;
  ExceptionList = local_8;
  return;
}



// WARNING: This is an inlined function
// Library Function - Single Match
//  __SEH_epilog4
// 
// Library: Visual Studio

void __SEH_epilog4(void)

{
  undefined4 *unaff_EBP;
  undefined4 unaff_retaddr;
  
  ExceptionList = (void *)unaff_EBP[-4];
  *unaff_EBP = unaff_retaddr;
  return;
}



void __cdecl
FUN_0045e149(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  _except_handler4_common(&DAT_0047a940,___security_check_cookie_4,param_1,param_2,param_3,param_4);
  return;
}



// Library Function - Single Match
//  __setdefaultprecision
// 
// Library: Visual Studio 2010 Release

void __setdefaultprecision(void)

{
  errno_t eVar1;
  
  eVar1 = _controlfp_s((uint *)0x0,0x10000,0x30000);
  if (eVar1 != 0) {
                    // WARNING: Subroutine does not return
    _invoke_watson((wchar_t *)0x0,(wchar_t *)0x0,(wchar_t *)0x0,0,0);
  }
  return;
}



undefined4 FUN_0045e196(void)

{
  return 0;
}



// Library Function - Single Match
//  ___security_init_cookie
// 
// Library: Visual Studio 2010 Release

void __cdecl ___security_init_cookie(void)

{
  DWORD DVar1;
  DWORD DVar2;
  DWORD DVar3;
  uint uVar4;
  LARGE_INTEGER local_14;
  _FILETIME local_c;
  
  local_c.dwLowDateTime = 0;
  local_c.dwHighDateTime = 0;
  if ((DAT_0047a940 == 0xbb40e64e) || ((DAT_0047a940 & 0xffff0000) == 0)) {
    GetSystemTimeAsFileTime(&local_c);
    uVar4 = local_c.dwHighDateTime ^ local_c.dwLowDateTime;
    DVar1 = GetCurrentProcessId();
    DVar2 = GetCurrentThreadId();
    DVar3 = GetTickCount();
    QueryPerformanceCounter(&local_14);
    DAT_0047a940 = uVar4 ^ DVar1 ^ DVar2 ^ DVar3 ^ local_14.s.HighPart ^ local_14.s.LowPart;
    if (DAT_0047a940 == 0xbb40e64e) {
      DAT_0047a940 = 0xbb40e64f;
    }
    else if ((DAT_0047a940 & 0xffff0000) == 0) {
      DAT_0047a940 = DAT_0047a940 | (DAT_0047a940 | 0x4711) << 0x10;
    }
    DAT_0047a944 = ~DAT_0047a940;
  }
  else {
    DAT_0047a944 = ~DAT_0047a940;
  }
  return;
}



void __cdecl _crt_debugger_hook(int param_1)

{
                    // WARNING: Could not recover jumptable at 0x0045e244. Too many branches
                    // WARNING: Treating indirect jump as call
  _crt_debugger_hook(param_1);
  return;
}



void __cdecl terminate(void)

{
                    // WARNING: Could not recover jumptable at 0x0045e24a. Too many branches
                    // WARNING: Subroutine does not return
                    // WARNING: Treating indirect jump as call
  terminate();
  return;
}



void __cdecl _unlock(int _File)

{
                    // WARNING: Could not recover jumptable at 0x0045e250. Too many branches
                    // WARNING: Treating indirect jump as call
  _unlock(_File);
  return;
}



void __dllonexit(void)

{
                    // WARNING: Could not recover jumptable at 0x0045e256. Too many branches
                    // WARNING: Treating indirect jump as call
  __dllonexit();
  return;
}



void __cdecl _lock(int _File)

{
                    // WARNING: Could not recover jumptable at 0x0045e25c. Too many branches
                    // WARNING: Treating indirect jump as call
  _lock(_File);
  return;
}



void _except_handler4_common(void)

{
                    // WARNING: Could not recover jumptable at 0x0045e262. Too many branches
                    // WARNING: Treating indirect jump as call
  _except_handler4_common();
  return;
}



void __cdecl
_invoke_watson(wchar_t *param_1,wchar_t *param_2,wchar_t *param_3,uint param_4,uintptr_t param_5)

{
                    // WARNING: Could not recover jumptable at 0x0045e268. Too many branches
                    // WARNING: Subroutine does not return
                    // WARNING: Treating indirect jump as call
  _invoke_watson(param_1,param_2,param_3,param_4,param_5);
  return;
}



errno_t __cdecl _controlfp_s(uint *_CurrentState,uint _NewValue,uint _Mask)

{
  errno_t eVar1;
  
                    // WARNING: Could not recover jumptable at 0x0045e26e. Too many branches
                    // WARNING: Treating indirect jump as call
  eVar1 = _controlfp_s(_CurrentState,_NewValue,_Mask);
  return eVar1;
}



void _setjmp3(void)

{
                    // WARNING: Could not recover jumptable at 0x0045e274. Too many branches
                    // WARNING: Treating indirect jump as call
  _setjmp3();
  return;
}


