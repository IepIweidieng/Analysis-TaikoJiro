#define 2.920000000000000 0x40075c28f5c28f5c

typedef unsigned char   undefined;

typedef unsigned char    bool;
typedef unsigned char    byte;
typedef unsigned int    dword;
float10
typedef unsigned long long    GUID;
typedef pointer32 ImageBaseOffset32;

typedef long long    longlong;
typedef unsigned char    uchar;
typedef unsigned int    uint;
typedef unsigned long    ulong;
typedef unsigned long long    ulonglong;
typedef unsigned char    undefined1;
typedef unsigned short    undefined2;
typedef unsigned int    undefined4;
typedef unsigned long long    undefined8;
typedef unsigned short    ushort;
typedef unsigned short    wchar16;
typedef short    wchar_t;
typedef unsigned short    word;
typedef union IMAGE_RESOURCE_DIRECTORY_ENTRY_DirectoryUnion IMAGE_RESOURCE_DIRECTORY_ENTRY_DirectoryUnion, *PIMAGE_RESOURCE_DIRECTORY_ENTRY_DirectoryUnion;

typedef struct IMAGE_RESOURCE_DIRECTORY_ENTRY_DirectoryStruct IMAGE_RESOURCE_DIRECTORY_ENTRY_DirectoryStruct, *PIMAGE_RESOURCE_DIRECTORY_ENTRY_DirectoryStruct;

struct IMAGE_RESOURCE_DIRECTORY_ENTRY_DirectoryStruct {
    dword OffsetToDirectory;
    dword DataIsDirectory;
};

union IMAGE_RESOURCE_DIRECTORY_ENTRY_DirectoryUnion {
    dword OffsetToData;
    struct IMAGE_RESOURCE_DIRECTORY_ENTRY_DirectoryStruct IMAGE_RESOURCE_DIRECTORY_ENTRY_DirectoryStruct;
};

typedef struct CLIENT_ID CLIENT_ID, *PCLIENT_ID;

struct CLIENT_ID {
    void *UniqueProcess;
    void *UniqueThread;
};

typedef struct _OVERLAPPED _OVERLAPPED, *P_OVERLAPPED;

typedef ulong ULONG_PTR;

typedef union _union_518 _union_518, *P_union_518;

typedef void *HANDLE;

typedef struct _struct_519 _struct_519, *P_struct_519;

typedef void *PVOID;

typedef ulong DWORD;

struct _struct_519 {
    DWORD Offset;
    DWORD OffsetHigh;
};

union _union_518 {
    struct _struct_519 s;
    PVOID Pointer;
};

struct _OVERLAPPED {
    ULONG_PTR Internal;
    ULONG_PTR InternalHigh;
    union _union_518 u;
    HANDLE hEvent;
};

typedef struct _SECURITY_ATTRIBUTES _SECURITY_ATTRIBUTES, *P_SECURITY_ATTRIBUTES;

typedef void *LPVOID;

typedef int BOOL;

struct _SECURITY_ATTRIBUTES {
    DWORD nLength;
    LPVOID lpSecurityDescriptor;
    BOOL bInheritHandle;
};

typedef struct _STARTUPINFOW _STARTUPINFOW, *P_STARTUPINFOW;

typedef wchar_t WCHAR;

typedef WCHAR *LPWSTR;

typedef ushort WORD;

typedef uchar BYTE;

typedef BYTE *LPBYTE;

struct _STARTUPINFOW {
    DWORD cb;
    LPWSTR lpReserved;
    LPWSTR lpDesktop;
    LPWSTR lpTitle;
    DWORD dwX;
    DWORD dwY;
    DWORD dwXSize;
    DWORD dwYSize;
    DWORD dwXCountChars;
    DWORD dwYCountChars;
    DWORD dwFillAttribute;
    DWORD dwFlags;
    WORD wShowWindow;
    WORD cbReserved2;
    LPBYTE lpReserved2;
    HANDLE hStdInput;
    HANDLE hStdOutput;
    HANDLE hStdError;
};

typedef struct _STARTUPINFOW *LPSTARTUPINFOW;

typedef struct _WIN32_FIND_DATAA _WIN32_FIND_DATAA, *P_WIN32_FIND_DATAA;

typedef struct _FILETIME _FILETIME, *P_FILETIME;

typedef struct _FILETIME FILETIME;

typedef char CHAR;

struct _FILETIME {
    DWORD dwLowDateTime;
    DWORD dwHighDateTime;
};

struct _WIN32_FIND_DATAA {
    DWORD dwFileAttributes;
    FILETIME ftCreationTime;
    FILETIME ftLastAccessTime;
    FILETIME ftLastWriteTime;
    DWORD nFileSizeHigh;
    DWORD nFileSizeLow;
    DWORD dwReserved0;
    DWORD dwReserved1;
    CHAR cFileName[260];
    CHAR cAlternateFileName[14];
};

typedef struct _OVERLAPPED *LPOVERLAPPED;

typedef struct _SECURITY_ATTRIBUTES *LPSECURITY_ATTRIBUTES;

typedef struct _STARTUPINFOA _STARTUPINFOA, *P_STARTUPINFOA;

typedef CHAR *LPSTR;

struct _STARTUPINFOA {
    DWORD cb;
    LPSTR lpReserved;
    LPSTR lpDesktop;
    LPSTR lpTitle;
    DWORD dwX;
    DWORD dwY;
    DWORD dwXSize;
    DWORD dwYSize;
    DWORD dwXCountChars;
    DWORD dwYCountChars;
    DWORD dwFillAttribute;
    DWORD dwFlags;
    WORD wShowWindow;
    WORD cbReserved2;
    LPBYTE lpReserved2;
    HANDLE hStdInput;
    HANDLE hStdOutput;
    HANDLE hStdError;
};

typedef struct _PROCESS_INFORMATION _PROCESS_INFORMATION, *P_PROCESS_INFORMATION;

struct _PROCESS_INFORMATION {
    HANDLE hProcess;
    HANDLE hThread;
    DWORD dwProcessId;
    DWORD dwThreadId;
};

typedef struct _WIN32_FIND_DATAA *LPWIN32_FIND_DATAA;

typedef struct _STARTUPINFOA *LPSTARTUPINFOA;

typedef struct _PROCESS_INFORMATION *LPPROCESS_INFORMATION;

typedef long LONG;

typedef struct _EXCEPTION_POINTERS _EXCEPTION_POINTERS, *P_EXCEPTION_POINTERS;

typedef LONG (*PTOP_LEVEL_EXCEPTION_FILTER)(struct _EXCEPTION_POINTERS *);

typedef struct _EXCEPTION_RECORD _EXCEPTION_RECORD, *P_EXCEPTION_RECORD;

typedef struct _EXCEPTION_RECORD EXCEPTION_RECORD;

typedef EXCEPTION_RECORD *PEXCEPTION_RECORD;

typedef struct _CONTEXT _CONTEXT, *P_CONTEXT;

typedef struct _CONTEXT CONTEXT;

typedef CONTEXT *PCONTEXT;

typedef struct _FLOATING_SAVE_AREA _FLOATING_SAVE_AREA, *P_FLOATING_SAVE_AREA;

typedef struct _FLOATING_SAVE_AREA FLOATING_SAVE_AREA;

struct _FLOATING_SAVE_AREA {
    DWORD ControlWord;
    DWORD StatusWord;
    DWORD TagWord;
    DWORD ErrorOffset;
    DWORD ErrorSelector;
    DWORD DataOffset;
    DWORD DataSelector;
    BYTE RegisterArea[80];
    DWORD Cr0NpxState;
};

struct _CONTEXT {
    DWORD ContextFlags;
    DWORD Dr0;
    DWORD Dr1;
    DWORD Dr2;
    DWORD Dr3;
    DWORD Dr6;
    DWORD Dr7;
    FLOATING_SAVE_AREA FloatSave;
    DWORD SegGs;
    DWORD SegFs;
    DWORD SegEs;
    DWORD SegDs;
    DWORD Edi;
    DWORD Esi;
    DWORD Ebx;
    DWORD Edx;
    DWORD Ecx;
    DWORD Eax;
    DWORD Ebp;
    DWORD Eip;
    DWORD SegCs;
    DWORD EFlags;
    DWORD Esp;
    DWORD SegSs;
    BYTE ExtendedRegisters[512];
};

struct _EXCEPTION_RECORD {
    DWORD ExceptionCode;
    DWORD ExceptionFlags;
    struct _EXCEPTION_RECORD *ExceptionRecord;
    PVOID ExceptionAddress;
    DWORD NumberParameters;
    ULONG_PTR ExceptionInformation[15];
};

struct _EXCEPTION_POINTERS {
    PEXCEPTION_RECORD ExceptionRecord;
    PCONTEXT ContextRecord;
};

typedef PTOP_LEVEL_EXCEPTION_FILTER LPTOP_LEVEL_EXCEPTION_FILTER;

typedef uint char32_t;

typedef struct _iobuf _iobuf, *P_iobuf;

typedef struct _iobuf FILE;

struct _iobuf {
    char *_ptr;
    int _cnt;
    char *_base;
    int _flag;
    int _file;
    int _charbuf;
    int _bufsiz;
    char *_tmpfname;
};

typedef uint uintptr_t;

typedef struct tagOFNA tagOFNA, *PtagOFNA;

typedef struct tagOFNA *LPOPENFILENAMEA;

typedef struct HWND__ HWND__, *PHWND__;

typedef struct HWND__ *HWND;

typedef struct HINSTANCE__ HINSTANCE__, *PHINSTANCE__;

typedef struct HINSTANCE__ *HINSTANCE;

typedef CHAR *LPCSTR;

typedef long LONG_PTR;

typedef LONG_PTR LPARAM;

typedef uint UINT_PTR;

typedef uint UINT;

typedef UINT_PTR WPARAM;

typedef UINT_PTR (*LPOFNHOOKPROC)(HWND, UINT, WPARAM, LPARAM);

struct tagOFNA {
    DWORD lStructSize;
    HWND hwndOwner;
    HINSTANCE hInstance;
    LPCSTR lpstrFilter;
    LPSTR lpstrCustomFilter;
    DWORD nMaxCustFilter;
    DWORD nFilterIndex;
    LPSTR lpstrFile;
    DWORD nMaxFile;
    LPSTR lpstrFileTitle;
    DWORD nMaxFileTitle;
    LPCSTR lpstrInitialDir;
    LPCSTR lpstrTitle;
    DWORD Flags;
    WORD nFileOffset;
    WORD nFileExtension;
    LPCSTR lpstrDefExt;
    LPARAM lCustData;
    LPOFNHOOKPROC lpfnHook;
    LPCSTR lpTemplateName;
    void *pvReserved;
    DWORD dwReserved;
    DWORD FlagsEx;
};

struct HINSTANCE__ {
    int unused;
};

struct HWND__ {
    int unused;
};

typedef longlong __time64_t;

typedef uint size_t;

typedef int errno_t;

typedef size_t rsize_t;

typedef struct _startupinfo _startupinfo, *P_startupinfo;

struct _startupinfo {
    int newmode;
};

typedef struct tagWNDCLASSA tagWNDCLASSA, *PtagWNDCLASSA;

typedef LONG_PTR LRESULT;

typedef LRESULT (*WNDPROC)(HWND, UINT, WPARAM, LPARAM);

typedef struct HICON__ HICON__, *PHICON__;

typedef struct HICON__ *HICON;

typedef HICON HCURSOR;

typedef struct HBRUSH__ HBRUSH__, *PHBRUSH__;

typedef struct HBRUSH__ *HBRUSH;

struct HBRUSH__ {
    int unused;
};

struct tagWNDCLASSA {
    UINT style;
    WNDPROC lpfnWndProc;
    int cbClsExtra;
    int cbWndExtra;
    HINSTANCE hInstance;
    HICON hIcon;
    HCURSOR hCursor;
    HBRUSH hbrBackground;
    LPCSTR lpszMenuName;
    LPCSTR lpszClassName;
};

struct HICON__ {
    int unused;
};

typedef struct tagMSG tagMSG, *PtagMSG;

typedef struct tagMSG MSG;

typedef struct tagPOINT tagPOINT, *PtagPOINT;

typedef struct tagPOINT POINT;

struct tagPOINT {
    LONG x;
    LONG y;
};

struct tagMSG {
    HWND hwnd;
    UINT message;
    WPARAM wParam;
    LPARAM lParam;
    DWORD time;
    POINT pt;
};

typedef struct tagMSG *LPMSG;

typedef struct tagWNDCLASSA WNDCLASSA;

typedef struct tagPAINTSTRUCT tagPAINTSTRUCT, *PtagPAINTSTRUCT;

typedef struct tagPAINTSTRUCT *LPPAINTSTRUCT;

typedef struct HDC__ HDC__, *PHDC__;

typedef struct HDC__ *HDC;

typedef struct tagRECT tagRECT, *PtagRECT;

typedef struct tagRECT RECT;

struct HDC__ {
    int unused;
};

struct tagRECT {
    LONG left;
    LONG top;
    LONG right;
    LONG bottom;
};

struct tagPAINTSTRUCT {
    HDC hdc;
    BOOL fErase;
    RECT rcPaint;
    BOOL fRestore;
    BOOL fIncUpdate;
    BYTE rgbReserved[32];
};

typedef struct tagPAINTSTRUCT PAINTSTRUCT;

typedef struct tagBITMAPINFO tagBITMAPINFO, *PtagBITMAPINFO;

typedef struct tagBITMAPINFOHEADER tagBITMAPINFOHEADER, *PtagBITMAPINFOHEADER;

typedef struct tagBITMAPINFOHEADER BITMAPINFOHEADER;

typedef struct tagRGBQUAD tagRGBQUAD, *PtagRGBQUAD;

typedef struct tagRGBQUAD RGBQUAD;

struct tagBITMAPINFOHEADER {
    DWORD biSize;
    LONG biWidth;
    LONG biHeight;
    WORD biPlanes;
    WORD biBitCount;
    DWORD biCompression;
    DWORD biSizeImage;
    LONG biXPelsPerMeter;
    LONG biYPelsPerMeter;
    DWORD biClrUsed;
    DWORD biClrImportant;
};

struct tagRGBQUAD {
    BYTE rgbBlue;
    BYTE rgbGreen;
    BYTE rgbRed;
    BYTE rgbReserved;
};

struct tagBITMAPINFO {
    BITMAPINFOHEADER bmiHeader;
    RGBQUAD bmiColors[1];
};

typedef struct _devicemodeA _devicemodeA, *P_devicemodeA;

typedef union _union_655 _union_655, *P_union_655;

typedef union _union_658 _union_658, *P_union_658;

typedef struct _struct_656 _struct_656, *P_struct_656;

typedef struct _struct_657 _struct_657, *P_struct_657;

typedef struct _POINTL _POINTL, *P_POINTL;

typedef struct _POINTL POINTL;

struct _POINTL {
    LONG x;
    LONG y;
};

struct _struct_657 {
    POINTL dmPosition;
    DWORD dmDisplayOrientation;
    DWORD dmDisplayFixedOutput;
};

struct _struct_656 {
    short dmOrientation;
    short dmPaperSize;
    short dmPaperLength;
    short dmPaperWidth;
    short dmScale;
    short dmCopies;
    short dmDefaultSource;
    short dmPrintQuality;
};

union _union_655 {
    struct _struct_656 field0;
    struct _struct_657 field1;
};

union _union_658 {
    DWORD dmDisplayFlags;
    DWORD dmNup;
};

struct _devicemodeA {
    BYTE dmDeviceName[32];
    WORD dmSpecVersion;
    WORD dmDriverVersion;
    WORD dmSize;
    WORD dmDriverExtra;
    DWORD dmFields;
    union _union_655 field6_0x2c;
    short dmColor;
    short dmDuplex;
    short dmYResolution;
    short dmTTOption;
    short dmCollate;
    BYTE dmFormName[32];
    WORD dmLogPixels;
    DWORD dmBitsPerPel;
    DWORD dmPelsWidth;
    DWORD dmPelsHeight;
    union _union_658 field17_0x74;
    DWORD dmDisplayFrequency;
    DWORD dmICMMethod;
    DWORD dmICMIntent;
    DWORD dmMediaType;
    DWORD dmDitherType;
    DWORD dmReserved1;
    DWORD dmReserved2;
    DWORD dmPanningWidth;
    DWORD dmPanningHeight;
};

typedef struct tagBITMAPINFO BITMAPINFO;

typedef struct _devicemodeA DEVMODEA;

typedef union _LARGE_INTEGER _LARGE_INTEGER, *P_LARGE_INTEGER;

typedef struct _struct_19 _struct_19, *P_struct_19;

typedef struct _struct_20 _struct_20, *P_struct_20;

typedef double LONGLONG;

struct _struct_20 {
    DWORD LowPart;
    LONG HighPart;
};

struct _struct_19 {
    DWORD LowPart;
    LONG HighPart;
};

union _LARGE_INTEGER {
    struct _struct_19 s;
    struct _struct_20 u;
    LONGLONG QuadPart;
};

typedef union _LARGE_INTEGER LARGE_INTEGER;

typedef enum _HEAP_INFORMATION_CLASS {
    HeapCompatibilityInformation=0,
    HeapEnableTerminationOnCorruption=1
} _HEAP_INFORMATION_CLASS;

typedef enum _HEAP_INFORMATION_CLASS HEAP_INFORMATION_CLASS;

typedef struct _IMAGE_SECTION_HEADER _IMAGE_SECTION_HEADER, *P_IMAGE_SECTION_HEADER;

typedef union _union_226 _union_226, *P_union_226;

union _union_226 {
    DWORD PhysicalAddress;
    DWORD VirtualSize;
};

struct _IMAGE_SECTION_HEADER {
    BYTE Name[8];
    union _union_226 Misc;
    DWORD VirtualAddress;
    DWORD SizeOfRawData;
    DWORD PointerToRawData;
    DWORD PointerToRelocations;
    DWORD PointerToLinenumbers;
    WORD NumberOfRelocations;
    WORD NumberOfLinenumbers;
    DWORD Characteristics;
};

typedef struct _IMAGE_SECTION_HEADER *PIMAGE_SECTION_HEADER;

typedef short SHORT;

typedef struct IMAGE_DOS_HEADER IMAGE_DOS_HEADER, *PIMAGE_DOS_HEADER;

struct IMAGE_DOS_HEADER {
    char e_magic[2]; // Magic number
    word e_cblp; // Bytes of last page
    word e_cp; // Pages in file
    word e_crlc; // Relocations
    word e_cparhdr; // Size of header in paragraphs
    word e_minalloc; // Minimum extra paragraphs needed
    word e_maxalloc; // Maximum extra paragraphs needed
    word e_ss; // Initial (relative) SS value
    word e_sp; // Initial SP value
    word e_csum; // Checksum
    word e_ip; // Initial IP value
    word e_cs; // Initial (relative) CS value
    word e_lfarlc; // File address of relocation table
    word e_ovno; // Overlay number
    word e_res[4][4]; // Reserved words
    word e_oemid; // OEM identifier (for e_oeminfo)
    word e_oeminfo; // OEM information; e_oemid specific
    word e_res2[10][10]; // Reserved words
    dword e_lfanew; // File address of new exe header
    byte e_program[64]; // Actual DOS program
};

typedef ULONG_PTR DWORD_PTR;

typedef ULONG_PTR SIZE_T;

typedef struct tagPOINT *LPPOINT;

typedef struct HFONT__ HFONT__, *PHFONT__;

struct HFONT__ {
    int unused;
};

typedef struct tagSIZE tagSIZE, *PtagSIZE;

struct tagSIZE {
    LONG cx;
    LONG cy;
};

typedef HINSTANCE HMODULE;

typedef struct HBITMAP__ HBITMAP__, *PHBITMAP__;

struct HBITMAP__ {
    int unused;
};

typedef struct HPEN__ HPEN__, *PHPEN__;

struct HPEN__ {
    int unused;
};

typedef WORD ATOM;

typedef struct tagRECT *LPRECT;

typedef void *HGDIOBJ;

typedef DWORD COLORREF;

typedef struct HFONT__ *HFONT;

typedef DWORD *LPDWORD;

typedef struct HPEN__ *HPEN;

typedef struct tagSIZE *LPSIZE;

typedef struct HMENU__ HMENU__, *PHMENU__;

typedef struct HMENU__ *HMENU;

struct HMENU__ {
    int unused;
};

typedef struct _FILETIME *LPFILETIME;

typedef int INT;

typedef BYTE *PBYTE;

typedef void *LPCVOID;

typedef struct HBITMAP__ *HBITMAP;

typedef struct IMAGE_OPTIONAL_HEADER32 IMAGE_OPTIONAL_HEADER32, *PIMAGE_OPTIONAL_HEADER32;

typedef struct IMAGE_DATA_DIRECTORY IMAGE_DATA_DIRECTORY, *PIMAGE_DATA_DIRECTORY;

struct IMAGE_DATA_DIRECTORY {
    ImageBaseOffset32 VirtualAddress;
    dword Size;
};

struct IMAGE_OPTIONAL_HEADER32 {
    word Magic;
    byte MajorLinkerVersion;
    byte MinorLinkerVersion;
    dword SizeOfCode;
    dword SizeOfInitializedData;
    dword SizeOfUninitializedData;
    ImageBaseOffset32 AddressOfEntryPoint;
    ImageBaseOffset32 BaseOfCode;
    ImageBaseOffset32 BaseOfData;
    pointer32 ImageBase;
    dword SectionAlignment;
    dword FileAlignment;
    word MajorOperatingSystemVersion;
    word MinorOperatingSystemVersion;
    word MajorImageVersion;
    word MinorImageVersion;
    word MajorSubsystemVersion;
    word MinorSubsystemVersion;
    dword Win32VersionValue;
    dword SizeOfImage;
    dword SizeOfHeaders;
    dword CheckSum;
    word Subsystem;
    word DllCharacteristics;
    dword SizeOfStackReserve;
    dword SizeOfStackCommit;
    dword SizeOfHeapReserve;
    dword SizeOfHeapCommit;
    dword LoaderFlags;
    dword NumberOfRvaAndSizes;
    struct IMAGE_DATA_DIRECTORY DataDirectory[16];
};

typedef struct IMAGE_RESOURCE_DIRECTORY_ENTRY_NameStruct IMAGE_RESOURCE_DIRECTORY_ENTRY_NameStruct, *PIMAGE_RESOURCE_DIRECTORY_ENTRY_NameStruct;

struct IMAGE_RESOURCE_DIRECTORY_ENTRY_NameStruct {
    dword NameOffset;
    dword NameIsString;
};

typedef struct IMAGE_FILE_HEADER IMAGE_FILE_HEADER, *PIMAGE_FILE_HEADER;

struct IMAGE_FILE_HEADER {
    word Machine; // 332
    word NumberOfSections;
    dword TimeDateStamp;
    dword PointerToSymbolTable;
    dword NumberOfSymbols;
    word SizeOfOptionalHeader;
    word Characteristics;
};

typedef struct IMAGE_NT_HEADERS32 IMAGE_NT_HEADERS32, *PIMAGE_NT_HEADERS32;

struct IMAGE_NT_HEADERS32 {
    char Signature[4];
    struct IMAGE_FILE_HEADER FileHeader;
    struct IMAGE_OPTIONAL_HEADER32 OptionalHeader;
};

typedef struct IMAGE_RESOURCE_DIR_STRING_U_16 IMAGE_RESOURCE_DIR_STRING_U_16, *PIMAGE_RESOURCE_DIR_STRING_U_16;

struct IMAGE_RESOURCE_DIR_STRING_U_16 {
    word Length;
    wchar16 NameString[8];
};

typedef union IMAGE_RESOURCE_DIRECTORY_ENTRY IMAGE_RESOURCE_DIRECTORY_ENTRY, *PIMAGE_RESOURCE_DIRECTORY_ENTRY;

typedef union IMAGE_RESOURCE_DIRECTORY_ENTRY_NameUnion IMAGE_RESOURCE_DIRECTORY_ENTRY_NameUnion, *PIMAGE_RESOURCE_DIRECTORY_ENTRY_NameUnion;

union IMAGE_RESOURCE_DIRECTORY_ENTRY_NameUnion {
    struct IMAGE_RESOURCE_DIRECTORY_ENTRY_NameStruct IMAGE_RESOURCE_DIRECTORY_ENTRY_NameStruct;
    dword Name;
    word Id;
};

union IMAGE_RESOURCE_DIRECTORY_ENTRY {
    union IMAGE_RESOURCE_DIRECTORY_ENTRY_NameUnion NameUnion;
    union IMAGE_RESOURCE_DIRECTORY_ENTRY_DirectoryUnion DirectoryUnion;
};

typedef struct IMAGE_SECTION_HEADER IMAGE_SECTION_HEADER, *PIMAGE_SECTION_HEADER;

typedef union Misc Misc, *PMisc;

typedef enum SectionFlags {
    IMAGE_SCN_TYPE_NO_PAD=8,
    IMAGE_SCN_RESERVED_0001=16,
    IMAGE_SCN_CNT_CODE=32,
    IMAGE_SCN_CNT_INITIALIZED_DATA=64,
    IMAGE_SCN_CNT_UNINITIALIZED_DATA=128,
    IMAGE_SCN_LNK_OTHER=256,
    IMAGE_SCN_LNK_INFO=512,
    IMAGE_SCN_RESERVED_0040=1024,
    IMAGE_SCN_LNK_REMOVE=2048,
    IMAGE_SCN_LNK_COMDAT=4096,
    IMAGE_SCN_GPREL=32768,
    IMAGE_SCN_MEM_16BIT=131072,
    IMAGE_SCN_MEM_PURGEABLE=131072,
    IMAGE_SCN_MEM_LOCKED=262144,
    IMAGE_SCN_MEM_PRELOAD=524288,
    IMAGE_SCN_ALIGN_1BYTES=1048576,
    IMAGE_SCN_ALIGN_2BYTES=2097152,
    IMAGE_SCN_ALIGN_4BYTES=3145728,
    IMAGE_SCN_ALIGN_8BYTES=4194304,
    IMAGE_SCN_ALIGN_16BYTES=5242880,
    IMAGE_SCN_ALIGN_32BYTES=6291456,
    IMAGE_SCN_ALIGN_64BYTES=7340032,
    IMAGE_SCN_ALIGN_128BYTES=8388608,
    IMAGE_SCN_ALIGN_256BYTES=9437184,
    IMAGE_SCN_ALIGN_512BYTES=10485760,
    IMAGE_SCN_ALIGN_1024BYTES=11534336,
    IMAGE_SCN_ALIGN_2048BYTES=12582912,
    IMAGE_SCN_ALIGN_4096BYTES=13631488,
    IMAGE_SCN_ALIGN_8192BYTES=14680064,
    IMAGE_SCN_LNK_NRELOC_OVFL=16777216,
    IMAGE_SCN_MEM_DISCARDABLE=33554432,
    IMAGE_SCN_MEM_NOT_CACHED=67108864,
    IMAGE_SCN_MEM_NOT_PAGED=134217728,
    IMAGE_SCN_MEM_SHARED=268435456,
    IMAGE_SCN_MEM_EXECUTE=536870912,
    IMAGE_SCN_MEM_READ=1073741824,
    IMAGE_SCN_MEM_WRITE=2147483648
} SectionFlags;

union Misc {
    dword PhysicalAddress;
    dword VirtualSize;
};

struct IMAGE_SECTION_HEADER {
    char Name[8];
    union Misc Misc;
    ImageBaseOffset32 VirtualAddress;
    dword SizeOfRawData;
    dword PointerToRawData;
    dword PointerToRelocations;
    dword PointerToLinenumbers;
    word NumberOfRelocations;
    word NumberOfLinenumbers;
    enum SectionFlags Characteristics;
};

typedef struct IMAGE_RESOURCE_DATA_ENTRY IMAGE_RESOURCE_DATA_ENTRY, *PIMAGE_RESOURCE_DATA_ENTRY;

struct IMAGE_RESOURCE_DATA_ENTRY {
    dword OffsetToData;
    dword Size;
    dword CodePage;
    dword Reserved;
};

typedef struct IMAGE_RESOURCE_DIRECTORY IMAGE_RESOURCE_DIRECTORY, *PIMAGE_RESOURCE_DIRECTORY;

struct IMAGE_RESOURCE_DIRECTORY {
    dword Characteristics;
    dword TimeDateStamp;
    word MajorVersion;
    word MinorVersion;
    word NumberOfNamedEntries;
    word NumberOfIdEntries;
};

typedef struct IMAGE_LOAD_CONFIG_DIRECTORY32 IMAGE_LOAD_CONFIG_DIRECTORY32, *PIMAGE_LOAD_CONFIG_DIRECTORY32;

struct IMAGE_LOAD_CONFIG_DIRECTORY32 {
    dword Size;
    dword TimeDateStamp;
    word MajorVersion;
    word MinorVersion;
    dword GlobalFlagsClear;
    dword GlobalFlagsSet;
    dword CriticalSectionDefaultTimeout;
    dword DeCommitFreeBlockThreshold;
    dword DeCommitTotalFreeThreshold;
    pointer32 LockPrefixTable;
    dword MaximumAllocationSize;
    dword VirtualMemoryThreshold;
    dword ProcessHeapFlags;
    dword ProcessAffinityMask;
    word CsdVersion;
    word DependentLoadFlags;
    pointer32 EditList;
    pointer32 SecurityCookie;
    pointer32 SEHandlerTable;
    dword SEHandlerCount;
};

typedef struct HWAVEOUT__ HWAVEOUT__, *PHWAVEOUT__;

struct HWAVEOUT__ {
    int unused;
};

typedef struct tWAVEFORMATEX tWAVEFORMATEX, *PtWAVEFORMATEX;

struct tWAVEFORMATEX {
    WORD wFormatTag;
    WORD nChannels;
    DWORD nSamplesPerSec;
    DWORD nAvgBytesPerSec;
    WORD nBlockAlign;
    WORD wBitsPerSample;
    WORD cbSize;
};

typedef struct timecaps_tag timecaps_tag, *Ptimecaps_tag;

struct timecaps_tag {
    UINT wPeriodMin;
    UINT wPeriodMax;
};

typedef struct wavehdr_tag wavehdr_tag, *Pwavehdr_tag;

typedef struct wavehdr_tag *LPWAVEHDR;

struct wavehdr_tag {
    LPSTR lpData;
    DWORD dwBufferLength;
    DWORD dwBytesRecorded;
    DWORD_PTR dwUser;
    DWORD dwFlags;
    DWORD dwLoops;
    struct wavehdr_tag *lpNext;
    DWORD_PTR reserved;
};

typedef struct tWAVEFORMATEX WAVEFORMATEX;

typedef WAVEFORMATEX *LPCWAVEFORMATEX;

typedef struct mmtime_tag mmtime_tag, *Pmmtime_tag;

typedef union _union_1020 _union_1020, *P_union_1020;

typedef struct _struct_1021 _struct_1021, *P_struct_1021;

typedef struct _struct_1022 _struct_1022, *P_struct_1022;

struct _struct_1021 {
    BYTE hour;
    BYTE min;
    BYTE sec;
    BYTE frame;
    BYTE fps;
    BYTE dummy;
    BYTE pad[2];
};

struct _struct_1022 {
    DWORD songptrpos;
};

union _union_1020 {
    DWORD ms;
    DWORD sample;
    DWORD cb;
    DWORD ticks;
    struct _struct_1021 smpte;
    struct _struct_1022 midi;
};

struct mmtime_tag {
    UINT wType;
    union _union_1020 u;
};

typedef struct HWAVEOUT__ *HWAVEOUT;

typedef HWAVEOUT *LPHWAVEOUT;

typedef struct mmtime_tag *LPMMTIME;

typedef UINT MMRESULT;

typedef struct timecaps_tag *LPTIMECAPS;

typedef struct HDROP__ HDROP__, *PHDROP__;

typedef struct HDROP__ *HDROP;

struct HDROP__ {
    int unused;
};

typedef int (*_onexit_t)(void);




// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 __fastcall
FUN_00401000(int param_1,int param_2,int *param_3,int param_4,int *param_5,int param_6,int param_7,
            int param_8)

{
  int iVar1;
  uint uVar2;
  int in_EAX;
  uint *puVar3;
  byte bVar4;
  uint uVar5;
  int iVar6;
  uint uVar7;
  int local_24;
  int local_1c;
  int local_18;
  uint local_14;
  int local_10;
  uint *local_c;
  
  iVar6 = *(int *)(param_4 + 4);
  if (0 < iVar6) {
    local_10 = iVar6;
    if (param_2 < iVar6) {
      local_10 = param_2;
    }
    iVar1 = *(int *)(param_4 + 8);
    if (SBORROW4(param_1 + in_EAX,-iVar1) == param_1 + in_EAX + iVar1 < 0) {
      in_EAX = -(iVar1 + param_1);
    }
    if (param_1 < 0) {
      local_24 = -param_1;
    }
    else {
      local_24 = 0;
    }
    iVar1 = *(int *)(param_6 + 4);
    _DAT_0047e588 += 1;
    iVar6 = (local_24 + param_1) * iVar6;
    local_1c = ((param_8 + local_24) * iVar1 + param_7) * 4;
    local_c = (uint *)(*param_5 + local_1c);
    puVar3 = (uint *)(*param_3 + iVar6 * 4);
    if (local_24 < in_EAX) {
      local_24 = in_EAX - local_24;
      do {
        if (0 < local_10) {
          local_18 = local_10;
          do {
            uVar2 = *local_c;
            if ((uVar2 & 0xff000000) == 0xff000000) {
              *puVar3 = uVar2;
            }
            else if ((uVar2 & 0xff000000) != 0) {
              bVar4 = (byte)(uVar2 >> 0x18);
              local_14 = 0xff;
              uVar5 = (uint)bVar4;
              uVar7 = *(byte *)(iVar6 * 4 + 3 + *param_3) + uVar5;
              if (uVar7 < 0x100) {
                local_14 = uVar7;
              }
              uVar7 = (uint)(byte)(-bVar4 - 1);
              *puVar3 = ((*puVar3 >> 0x10 & 0xff) * uVar7 + (uVar2 >> 0x10 & 0xff) * uVar5 &
                        0xffff00) * 0x100 +
                        ((*puVar3 >> 8 & 0xff) * uVar7 + (uVar2 >> 8 & 0xff) * uVar5 & 0xffffff00) +
                        ((int)((byte)*puVar3 * uVar7 + (uVar2 & 0xff) * uVar5) >> 8) +
                        local_14 * 0x1000000;
            }
            local_c = local_c + 1;
            puVar3 = puVar3 + 1;
            local_18 += -1;
          } while (local_18 != 0);
        }
        local_1c += iVar1 * 4;
        iVar6 += *(int *)(param_4 + 4);
        local_c = (uint *)(*param_5 + local_1c);
        puVar3 = (uint *)(*param_3 + iVar6 * 4);
        local_24 += -1;
      } while (local_24 != 0);
    }
  }
  return 0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 __cdecl
FUN_004011e0(int *param_1,int param_2,int param_3,int param_4,int param_5,int param_6,int param_7,
            int param_8)

{
  int iVar1;
  void *pvVar2;
  void *pvVar3;
  uint uVar4;
  int iVar5;
  uint uVar6;
  int local_24;
  int local_20;
  int local_1c;
  int local_18;
  void **local_10;
  uint *local_c;
  int local_8;
  
  if ((param_3 < DAT_0047ac74) && (*param_1 != 0)) {
    if (DAT_0047ac74 <= param_3 + param_5) {
      param_5 = DAT_0047ac74 - param_3;
    }
    if (DAT_0047ac78 <= param_4 + param_6) {
      param_6 = DAT_0047ac78 - param_4;
    }
    if (param_4 < 0) {
      local_24 = -param_4;
    }
    else {
      local_24 = 0;
    }
    if (param_3 < 0) {
      local_8 = -param_3;
    }
    else {
      local_8 = 0;
    }
    iVar1 = *(int *)(param_2 + 4);
    _DAT_0047e588 += 1;
    iVar5 = (param_4 + local_24) * DAT_0047ac74 + local_8 + param_3;
    local_1c = ((param_8 + local_24) * iVar1 + local_8 + param_7) * 4;
    local_c = (uint *)(*param_1 + local_1c);
    local_20 = iVar5 * 4;
    local_10 = ppvBits_0047c2bc + iVar5;
    if (local_24 < param_6) {
      iVar5 = DAT_0047ac74 * 4;
      local_24 = param_6 - local_24;
      do {
        if (local_8 < param_5) {
          local_18 = param_5 - local_8;
          do {
            pvVar2 = (void *)*local_c;
            if (((uint)pvVar2 & 0xff000000) == 0xff000000) {
              *local_10 = pvVar2;
            }
            else if (((uint)pvVar2 & 0xff000000) != 0) {
              pvVar3 = *local_10;
              uVar4 = (uint)pvVar2 >> 0x18;
              uVar6 = (uint)(byte)(-(char)((uint)pvVar2 >> 0x18) - 1);
              *local_10 = (void *)((((uint)pvVar2 >> 0x10 & 0xff) * uVar4 +
                                    ((uint)pvVar3 >> 0x10 & 0xff) * uVar6 & 0xffff00) * 0x100 +
                                   (((uint)pvVar2 >> 8 & 0xff) * uVar4 +
                                    ((uint)pvVar3 >> 8 & 0xff) * uVar6 & 0xffffff00) +
                                  ((int)(((uint)pvVar2 & 0xff) * uVar4 +
                                        ((uint)pvVar3 & 0xff) * uVar6) >> 8));
            }
            local_c = local_c + 1;
            local_10 = local_10 + 1;
            local_18 += -1;
          } while (local_18 != 0);
        }
        local_20 += iVar5;
        local_1c += iVar1 * 4;
        local_10 = (void **)(local_20 + (int)ppvBits_0047c2bc);
        local_c = (uint *)(*param_1 + local_1c);
        local_24 += -1;
      } while (local_24 != 0);
    }
  }
  return 0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 __cdecl
FUN_004013c0(int *param_1,int param_2,int param_3,int param_4,int param_5,int param_6,int param_7,
            int param_8,int param_9,int param_10)

{
  int iVar1;
  void *pvVar2;
  void *pvVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  byte bVar7;
  int iVar8;
  int iVar9;
  int iVar10;
  int iVar11;
  uint uVar12;
  uint uVar13;
  ulonglong uVar14;
  int local_4c;
  int local_44;
  int local_3c;
  int local_38;
  int local_30;
  void **local_28;
  int local_24;
  int local_20;
  int local_1c;
  uint *local_10;
  int local_c;
  
  if ((param_3 < DAT_0047ac74) && (iVar11 = *param_1, iVar11 != 0)) {
    iVar4 = (param_5 << 8) / param_9;
    iVar5 = (param_6 << 8) / param_10;
    if (param_5 + param_3 < DAT_0047ac74) {
      uVar14 = FUN_0045db50(param_5 + param_3,(param_6 << 8) % param_10);
      iVar6 = (int)uVar14;
    }
    else {
      iVar6 = (DAT_0047ac74 - param_3) / (iVar4 >> 8);
    }
    if (param_4 + param_6 < DAT_0047ac78) {
      uVar14 = FUN_0045db50(param_4 + param_6,param_6);
    }
    else {
      uVar14 = (ulonglong)(uint)((DAT_0047ac78 - param_4) / (iVar5 >> 8));
    }
    if (param_4 < 0) {
      local_4c = -param_4;
    }
    else {
      local_4c = 0;
    }
    if (param_3 < 0) {
      local_c = -param_3;
    }
    else {
      local_c = 0;
    }
    iVar1 = *(int *)(param_2 + 4);
    _DAT_0047e588 += 1;
    iVar10 = (local_4c + param_8) * iVar1 + local_c + param_7;
    local_10 = (uint *)(iVar11 + iVar10 * 4);
    local_44 = (param_4 + local_4c) * DAT_0047ac74 + local_c + param_3;
    local_28 = ppvBits_0047c2bc + local_44;
    iVar11 = iVar6 - local_c;
    local_24 = 0;
    if (local_4c < (int)uVar14) {
      local_4c = (int)uVar14 - local_4c;
      local_30 = 0;
      do {
        iVar8 = local_24 * 0x100 - local_30;
        while( true ) {
          local_1c = 0;
          if (local_c < iVar6) {
            iVar10 += iVar11;
            local_38 = 0;
            local_3c = iVar11;
            do {
              local_20 = param_3 + local_1c;
              iVar9 = local_1c * 0x100 - local_38;
              do {
                pvVar2 = (void *)*local_10;
                if (((uint)pvVar2 & 0xff000000) == 0xff000000) {
                  *local_28 = pvVar2;
                }
                else if (((uint)pvVar2 & 0xff000000) != 0) {
                  pvVar3 = *local_28;
                  bVar7 = (byte)((uint)pvVar2 >> 0x18);
                  uVar12 = (uint)bVar7;
                  uVar13 = (uint)(byte)(-bVar7 - 1);
                  *local_28 = (void *)((((uint)pvVar2 >> 0x10 & 0xff) * uVar12 +
                                        ((uint)pvVar3 >> 0x10 & 0xff) * uVar13 & 0xffff00) * 0x100 +
                                       (((uint)pvVar2 >> 8 & 0xff) * uVar12 +
                                        ((uint)pvVar3 >> 8 & 0xff) * uVar13 & 0xffffff00) +
                                      ((int)(((uint)pvVar2 & 0xff) * uVar12 +
                                            ((uint)pvVar3 & 0xff) * uVar13) >> 8));
                }
                local_1c += 1;
                local_20 += 1;
                iVar9 += 0x100;
                local_28 = local_28 + 1;
              } while ((iVar9 < iVar4) && (local_20 < DAT_0047ac74));
              local_38 += iVar4;
              local_10 = local_10 + 1;
              local_3c += -1;
            } while (local_3c != 0);
          }
          local_44 += DAT_0047ac74;
          local_24 += 1;
          local_28 = ppvBits_0047c2bc + local_44;
          iVar8 += 0x100;
          if (iVar5 <= iVar8) break;
          iVar10 -= iVar11;
          local_10 = (uint *)(*param_1 + iVar10 * 4);
        }
        local_30 += iVar5;
        iVar10 += iVar1 - iVar11;
        local_4c += -1;
        local_10 = (uint *)(*param_1 + iVar10 * 4);
      } while (local_4c != 0);
    }
  }
  return 0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 __cdecl
FUN_00401690(int *param_1,int param_2,int param_3,int param_4,int param_5,int param_6,int param_7,
            int param_8,int param_9)

{
  void *pvVar1;
  void *pvVar2;
  uint uVar3;
  int iVar4;
  int iVar5;
  uint uVar6;
  int local_24;
  int local_20;
  int local_1c;
  int local_18;
  int local_14;
  void **local_10;
  uint *local_c;
  int local_8;
  
  if ((param_3 < DAT_0047ac74) && (*param_1 != 0)) {
    iVar4 = param_9 * 0x20;
    local_8 = *(int *)(&DAT_0047e1b0 + iVar4);
    if (param_3 + param_5 < *(int *)(&DAT_0047e1c0 + iVar4) + local_8) {
      local_14 = param_5;
    }
    else {
      local_14 = (*(int *)(&DAT_0047e1c0 + iVar4) + local_8) - param_3;
    }
    if (*(int *)(&DAT_0047e1bc + iVar4) <= param_4 + param_6) {
      param_6 = *(int *)(&DAT_0047e1bc + iVar4) - param_4;
    }
    if (param_4 < *(int *)(&DAT_0047e1b4 + iVar4)) {
      local_24 = *(int *)(&DAT_0047e1b4 + iVar4) - param_4;
    }
    else {
      local_24 = 0;
    }
    if (param_3 < local_8) {
      local_8 -= param_3;
    }
    else {
      local_8 = 0;
    }
    iVar4 = *(int *)(param_2 + 4);
    _DAT_0047e588 += 1;
    iVar5 = (param_4 + local_24) * DAT_0047ac74 + local_8 + param_3;
    local_1c = ((local_24 + param_8) * iVar4 + local_8 + param_7) * 4;
    local_c = (uint *)(*param_1 + local_1c);
    local_20 = iVar5 * 4;
    local_10 = ppvBits_0047c2bc + iVar5;
    if (local_24 < param_6) {
      iVar5 = DAT_0047ac74 * 4;
      local_24 = param_6 - local_24;
      do {
        if (local_8 < local_14) {
          local_18 = local_14 - local_8;
          do {
            pvVar1 = (void *)*local_c;
            if (((uint)pvVar1 & 0xff000000) == 0xff000000) {
              *local_10 = pvVar1;
            }
            else if (((uint)pvVar1 & 0xff000000) != 0) {
              pvVar2 = *local_10;
              uVar3 = (uint)pvVar1 >> 0x18;
              uVar6 = (uint)(byte)(-(char)((uint)pvVar1 >> 0x18) - 1);
              *local_10 = (void *)((((uint)pvVar1 >> 0x10 & 0xff) * uVar3 +
                                    ((uint)pvVar2 >> 0x10 & 0xff) * uVar6 & 0xffff00) * 0x100 +
                                   (((uint)pvVar1 >> 8 & 0xff) * uVar3 +
                                    ((uint)pvVar2 >> 8 & 0xff) * uVar6 & 0xffffff00) +
                                  ((int)(((uint)pvVar1 & 0xff) * uVar3 +
                                        ((uint)pvVar2 & 0xff) * uVar6) >> 8));
            }
            local_c = local_c + 1;
            local_10 = local_10 + 1;
            local_18 += -1;
          } while (local_18 != 0);
        }
        local_20 += iVar5;
        local_1c += iVar4 * 4;
        local_10 = (void **)(local_20 + (int)ppvBits_0047c2bc);
        local_c = (uint *)(*param_1 + local_1c);
        local_24 += -1;
      } while (local_24 != 0);
    }
  }
  return 0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 __cdecl
FUN_004018a0(int *param_1,int param_2,int param_3,int param_4,int param_5,int param_6,int param_7,
            int param_8,int param_9,int param_10,int param_11,int param_12,int param_13,
            char param_14)

{
  int iVar1;
  byte bVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  uint uVar7;
  int iVar8;
  uint uVar9;
  int iVar10;
  ulonglong uVar11;
  int local_4c;
  int local_48;
  int local_44;
  int local_40;
  int local_3c;
  int local_34;
  int local_30;
  void **local_2c;
  int local_28;
  int local_24;
  int local_20;
  int local_14;
  uint *local_8;
  
  if ((param_3 < DAT_0047ac74) && (iVar8 = *param_1, iVar8 != 0)) {
    iVar3 = (param_5 << 8) / param_9;
    iVar4 = (param_6 << 8) / param_10;
    if (param_5 + param_3 < DAT_0047ac74) {
      uVar11 = FUN_0045db50(param_5 + param_3,(param_6 << 8) % param_10);
      iVar5 = (int)uVar11;
    }
    else {
      iVar5 = (DAT_0047ac74 - param_3) / (iVar3 >> 8);
    }
    if (param_4 + param_6 < DAT_0047ac78) {
      uVar11 = FUN_0045db50(param_4 + param_6,param_6);
    }
    else {
      uVar11 = (ulonglong)(uint)((DAT_0047ac78 - param_4) / (iVar4 >> 8));
    }
    if (param_4 < 0) {
      local_34 = -param_4;
    }
    else {
      local_34 = 0;
    }
    if (param_3 < 0) {
      iVar10 = -param_3;
    }
    else {
      iVar10 = 0;
    }
    iVar1 = *(int *)(param_2 + 4);
    _DAT_0047e588 += 1;
    local_14 = (param_8 + local_34) * iVar1 + iVar10 + param_7;
    iVar6 = (local_34 + param_4) * DAT_0047ac74 + iVar10 + param_3;
    local_8 = (uint *)(iVar8 + local_14 * 4);
    local_4c = iVar6 * 4;
    local_2c = ppvBits_0047c2bc + iVar6;
    if (local_34 < (int)uVar11) {
      local_48 = 0;
      local_30 = 0;
      do {
        while( true ) {
          if (iVar10 < iVar5) {
            local_20 = param_3;
            local_44 = 0;
            local_24 = 0;
            iVar8 = local_14;
            local_28 = iVar10;
            do {
              do {
                uVar7 = *local_8;
                if ((uVar7 & 0xff000000) != 0) {
                  iVar6 = (int)((uVar7 >> 0x10 & 0xff) * param_11) >> 8;
                  bVar2 = (char)(uVar7 >> 0x18) + param_14 + 1;
                  iVar8 = 0xff;
                  if (iVar6 < 0x100) {
                    iVar8 = iVar6;
                  }
                  iVar6 = (int)((uVar7 >> 8 & 0xff) * param_12) >> 8;
                  local_3c = 0xff;
                  if (iVar6 < 0x100) {
                    local_3c = iVar6;
                  }
                  iVar6 = (int)((uVar7 & 0xff) * param_13) >> 8;
                  local_40 = 0xff;
                  if (iVar6 < 0x100) {
                    local_40 = iVar6;
                  }
                  uVar9 = (uint)(byte)(-bVar2 - 1);
                  uVar7 = (uint)bVar2;
                  *local_2c = (void *)((uVar7 * iVar8 + ((uint)*local_2c >> 0x10 & 0xff) * uVar9 &
                                       0xffff00) * 0x100 +
                                       (((uint)*local_2c >> 8 & 0xff) * uVar9 + uVar7 * local_3c &
                                       0xffffff00) +
                                      ((int)(*(byte *)local_2c * uVar9 + uVar7 * local_40) >> 8));
                  iVar8 = local_14;
                }
                local_20 += 1;
                local_44 += 0x100;
                local_2c = local_2c + 1;
              } while ((local_44 - local_24 < iVar3) && (local_20 < DAT_0047ac74));
              local_28 += 1;
              local_8 = local_8 + 1;
              local_24 += iVar3;
              local_14 = iVar8 + 1;
              iVar8 = local_14;
            } while (local_28 < iVar5);
          }
          local_48 += 0x100;
          local_4c += DAT_0047ac74 * 4;
          local_2c = (void **)((int)ppvBits_0047c2bc + local_4c);
          if (iVar4 <= local_48 - local_30) break;
          local_14 -= iVar5 - iVar10;
          local_8 = (uint *)(*param_1 + local_14 * 4);
        }
        local_34 += 1;
        local_14 += iVar1 - (iVar5 - iVar10);
        local_8 = (uint *)(*param_1 + local_14 * 4);
        local_30 += iVar4;
      } while (local_34 < (int)uVar11);
    }
  }
  return 0;
}



undefined4 __cdecl
FUN_00401b90(int *param_1,int param_2,uint *param_3,int param_4,int param_5,int param_6,int param_7,
            int param_8,int param_9)

{
  int iVar1;
  void *pvVar2;
  void *pvVar3;
  int iVar4;
  uint uVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  int local_1c;
  int local_18;
  int local_c;
  int local_8;
  
  if (((int)param_3 < DAT_0047ac74) && (*param_1 != 0)) {
    iVar4 = param_9 * 0x20;
    iVar1 = *(int *)(&DAT_0047e1b0 + iVar4);
    if ((int)param_3 + param_5 < iVar1 + *(int *)(&DAT_0047e1c0 + iVar4)) {
      iVar7 = 0;
    }
    else {
      iVar7 = (int)param_3 + param_5 + (-*(int *)(&DAT_0047e1c0 + iVar4) - iVar1);
    }
    if (*(int *)(&DAT_0047e1bc + iVar4) <= param_6 + param_4) {
      param_6 = *(int *)(&DAT_0047e1bc + iVar4) - param_4;
    }
    if (param_4 < *(int *)(&DAT_0047e1b4 + iVar4)) {
      local_1c = *(int *)(&DAT_0047e1b4 + iVar4) - param_4;
    }
    else {
      local_1c = 0;
    }
    if ((int)param_3 < iVar1) {
      local_8 = (int)param_3 + (param_5 - iVar1);
    }
    else {
      local_8 = param_5;
    }
    iVar1 = *(int *)(param_2 + 4);
    iVar4 = (param_8 + local_1c) * iVar1 + iVar7 + param_7;
    local_c = (int)param_3 + param_5 + ((local_1c + param_4) * DAT_0047ac74 - iVar7) + -1;
    param_3 = (uint *)(*param_1 + iVar4 * 4);
    iVar9 = local_8 - iVar7;
    if (local_1c < param_6) {
      iVar8 = DAT_0047ac74 + iVar9;
      local_1c = param_6 - local_1c;
      do {
        if (iVar7 < local_8) {
          iVar4 += iVar9;
          local_18 = iVar9;
          do {
            pvVar2 = (void *)*param_3;
            if (((uint)pvVar2 & 0xff000000) == 0xff000000) {
              ppvBits_0047c2bc[local_c] = pvVar2;
            }
            else if (((uint)pvVar2 & 0xff000000) != 0) {
              pvVar3 = ppvBits_0047c2bc[local_c];
              uVar5 = (uint)pvVar2 >> 0x18;
              iVar6 = 0xff - uVar5;
              ppvBits_0047c2bc[local_c] =
                   (void *)((((uint)pvVar3 >> 0x10 & 0xff) * iVar6 +
                             ((uint)pvVar2 >> 0x10 & 0xff) * uVar5 & 0xffff00) * 0x100 +
                            (((uint)pvVar3 >> 8 & 0xff) * iVar6 + ((uint)pvVar2 >> 8 & 0xff) * uVar5
                            & 0xffffff00) +
                           (((uint)pvVar3 & 0xff) * iVar6 + ((uint)pvVar2 & 0xff) * uVar5 >> 8));
            }
            param_3 = param_3 + 1;
            local_c += -1;
            local_18 += -1;
          } while (local_18 != 0);
        }
        local_c += iVar8;
        iVar4 += iVar1 - iVar9;
        local_1c += -1;
        param_3 = (uint *)(*param_1 + iVar4 * 4);
      } while (local_1c != 0);
    }
  }
  return 0;
}



undefined4 __cdecl
FUN_00401da0(int *param_1,int param_2,uint *param_3,int param_4,int param_5,int param_6,int param_7,
            int param_8,int param_9)

{
  int iVar1;
  uint uVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int local_20;
  int local_1c;
  int local_18;
  int local_14;
  void **local_c;
  int local_8;
  
  if (((int)param_3 < DAT_0047ac74) && (*param_1 != 0)) {
    if (DAT_0047ac74 <= (int)param_3 + param_5) {
      param_5 = DAT_0047ac74 - (int)param_3;
    }
    if (DAT_0047ac78 <= param_4 + param_6) {
      param_6 = DAT_0047ac78 - param_4;
    }
    if (param_4 < 0) {
      local_20 = -param_4;
    }
    else {
      local_20 = 0;
    }
    if ((int)param_3 < 0) {
      local_8 = -(int)param_3;
    }
    else {
      local_8 = 0;
    }
    iVar1 = *(int *)(param_2 + 4);
    iVar4 = (param_4 + local_20) * DAT_0047ac74 + local_8 + (int)param_3;
    local_18 = ((param_8 + local_20) * iVar1 + local_8 + param_7) * 4;
    param_3 = (uint *)(local_18 + *param_1);
    local_1c = iVar4 * 4;
    local_c = ppvBits_0047c2bc + iVar4;
    if (local_20 < param_6) {
      iVar4 = DAT_0047ac74 * 4;
      local_20 = param_6 - local_20;
      do {
        if (local_8 < param_5) {
          local_14 = param_5 - local_8;
          do {
            uVar2 = *param_3;
            if ((uVar2 & 0xff000000) != 0) {
              iVar3 = (uVar2 >> 0x18) - param_9;
              if (iVar3 < 0) {
                iVar3 = 0;
              }
              iVar5 = 0xff - iVar3;
              *local_c = (void *)((((uint)*local_c >> 0x10 & 0xff) * iVar5 +
                                   (uVar2 >> 0x10 & 0xff) * iVar3 & 0xffff00) * 0x100 +
                                  (((uint)*local_c >> 8 & 0xff) * iVar5 +
                                   (uVar2 >> 8 & 0xff) * iVar3 & 0xffffff00) +
                                 ((int)((uint)*(byte *)local_c * iVar5 + (uVar2 & 0xff) * iVar3) >>
                                 8));
            }
            param_3 = param_3 + 1;
            local_c = local_c + 1;
            local_14 += -1;
          } while (local_14 != 0);
        }
        local_1c += iVar4;
        local_18 += iVar1 * 4;
        local_c = (void **)(local_1c + (int)ppvBits_0047c2bc);
        param_3 = (uint *)(*param_1 + local_18);
        local_20 += -1;
      } while (local_20 != 0);
    }
  }
  return 0;
}



undefined4 __fastcall
FUN_00401f70(int param_1,int param_2,int *param_3,int param_4,uint *param_5,int param_6,int param_7,
            int param_8,int param_9,int param_10)

{
  int iVar1;
  uint uVar2;
  int in_EAX;
  int iVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  int local_24;
  int local_20;
  int local_1c;
  int local_18;
  int local_14;
  int local_10;
  void **local_c;
  int local_8;
  
  if (((int)param_5 < DAT_0047ac74) && (*param_3 != 0)) {
    local_10 = param_1;
    if (DAT_0047ac74 <= (int)param_5 + param_1) {
      local_10 = DAT_0047ac74 - (int)param_5;
    }
    if (DAT_0047ac78 <= param_2 + in_EAX) {
      in_EAX = DAT_0047ac78 - param_2;
    }
    if (param_2 < 0) {
      local_24 = -param_2;
    }
    else {
      local_24 = 0;
    }
    if ((int)param_5 < 0) {
      local_8 = -(int)param_5;
    }
    else {
      local_8 = 0;
    }
    iVar1 = *(int *)(param_4 + 4);
    iVar4 = (local_24 + param_2) * DAT_0047ac74 + local_8 + (int)param_5;
    local_1c = (iVar1 * local_24 + local_8 + param_6) * 4;
    param_5 = (uint *)(local_1c + *param_3);
    local_20 = iVar4 * 4;
    local_c = ppvBits_0047c2bc + iVar4;
    if (local_24 < in_EAX) {
      iVar4 = DAT_0047ac74 * 4;
      local_24 = in_EAX - local_24;
      do {
        if (local_8 < local_10) {
          local_18 = local_10 - local_8;
          do {
            uVar2 = *param_5;
            if ((uVar2 & 0xff000000) != 0) {
              iVar3 = (uVar2 >> 0x18) - param_10;
              if (iVar3 < 0) {
                iVar3 = 0;
              }
              iVar6 = (uVar2 >> 0x10 & 0xff) + param_7;
              iVar5 = 0xff - iVar3;
              if (0xff < iVar6) {
                iVar6 = 0xff;
              }
              iVar7 = (uVar2 >> 8 & 0xff) + param_8;
              local_14 = 0xff;
              if (iVar7 < 0x100) {
                local_14 = iVar7;
              }
              iVar7 = (uVar2 & 0xff) + param_9;
              if (0xff < iVar7) {
                iVar7 = 0xff;
              }
              *local_c = (void *)((((uint)*local_c >> 0x10 & 0xff) * iVar5 + iVar6 * iVar3 &
                                  0xffff00) * 0x100 +
                                  (((uint)*local_c >> 8 & 0xff) * iVar5 + local_14 * iVar3 &
                                  0xffffff00) +
                                 ((int)((uint)*(byte *)local_c * iVar5 + iVar7 * iVar3) >> 8));
            }
            param_5 = param_5 + 1;
            local_c = local_c + 1;
            local_18 += -1;
          } while (local_18 != 0);
        }
        local_20 += iVar4;
        local_1c += iVar1 * 4;
        local_c = (void **)(local_20 + (int)ppvBits_0047c2bc);
        param_5 = (uint *)(*param_3 + local_1c);
        local_24 += -1;
      } while (local_24 != 0);
    }
  }
  return 0;
}



undefined4 __cdecl
FUN_00402170(int *param_1,int param_2,int param_3,int param_4,int param_5,int param_6,int param_7,
            int param_8,int param_9,int param_10,int param_11)

{
  int iVar1;
  uint uVar2;
  void *pvVar3;
  uint uVar4;
  int iVar5;
  int iVar6;
  uint uVar7;
  int local_24;
  int local_20;
  int local_1c;
  int local_18;
  int local_14;
  void **local_10;
  uint *local_8;
  
  if ((param_3 < DAT_0047ac74) && (*param_1 != 0)) {
    if (param_3 + param_5 < DAT_0047ac74) {
      local_14 = param_5;
    }
    else {
      local_14 = DAT_0047ac74 - param_3;
    }
    if (DAT_0047ac78 <= param_4 + param_6) {
      param_6 = DAT_0047ac78 - param_4;
    }
    if (param_4 < 0) {
      local_24 = -param_4;
    }
    else {
      local_24 = 0;
    }
    if (param_3 < 0) {
      iVar5 = -param_3;
    }
    else {
      iVar5 = 0;
    }
    iVar1 = *(int *)(param_2 + 4);
    iVar6 = (local_24 + param_4) * DAT_0047ac74 + iVar5 + param_3;
    local_1c = ((param_8 + local_24) * iVar1 + iVar5 + param_7) * 4;
    local_8 = (uint *)(*param_1 + local_1c);
    local_20 = iVar6 * 4;
    local_10 = ppvBits_0047c2bc + iVar6;
    if (local_24 < param_6) {
      iVar6 = DAT_0047ac74 * 4;
      local_24 = param_6 - local_24;
      do {
        if (iVar5 < local_14) {
          local_18 = local_14 - iVar5;
          do {
            uVar2 = *local_8;
            if ((uVar2 & 0xff000000) == 0xff000000) {
              *local_10 = (void *)(((uVar2 >> 0x10 & 0xff) * param_9 & 0xffffff00) * 0x100 +
                                   ((uVar2 >> 8 & 0xff) * param_10 & 0xffffff00) +
                                  ((uVar2 & 0xff) * param_11 >> 8));
            }
            else if ((uVar2 & 0xff000000) != 0) {
              pvVar3 = *local_10;
              uVar4 = uVar2 >> 0x18;
              uVar7 = (uint)(byte)(-(char)(uVar2 >> 0x18) - 1);
              *local_10 = (void *)(((int)(((uVar2 >> 8 & 0xff) * uVar4 +
                                          ((uint)pvVar3 >> 8 & 0xff) * uVar7) * param_10) >> 8 &
                                   0xffffff00U) +
                                   (((uVar2 >> 0x10 & 0xff) * uVar4 +
                                    ((uint)pvVar3 >> 0x10 & 0xff) * uVar7) * param_9 & 0xffff0000) +
                                  ((int)((((uint)pvVar3 & 0xff) * uVar7 + (uVar2 & 0xff) * uVar4) *
                                        param_11) >> 0x10));
            }
            local_8 = local_8 + 1;
            local_10 = local_10 + 1;
            local_18 += -1;
          } while (local_18 != 0);
        }
        local_1c += iVar1 * 4;
        local_8 = (uint *)(*param_1 + local_1c);
        local_20 += iVar6;
        local_10 = (void **)(local_20 + (int)ppvBits_0047c2bc);
        local_24 += -1;
      } while (local_24 != 0);
    }
  }
  return 0;
}



undefined4 __cdecl
FUN_004023a0(int *param_1,int param_2,int param_3,int param_4,int param_5,int param_6,int param_7,
            int param_8,int param_9,int param_10,int param_11,int param_12)

{
  uint uVar1;
  void *pvVar2;
  uint uVar3;
  int iVar4;
  int iVar5;
  uint uVar6;
  int local_24;
  int local_20;
  int local_1c;
  int local_18;
  void **local_10;
  uint *local_c;
  int local_8;
  
  if ((param_3 < DAT_0047ac74) && (*param_1 != 0)) {
    if (DAT_0047ac74 <= param_3 + param_5) {
      param_5 = DAT_0047ac74 - param_3;
    }
    iVar4 = param_12 * 0x20;
    if (*(int *)(&DAT_0047e1bc + iVar4) <= param_4 + param_6) {
      param_6 = *(int *)(&DAT_0047e1bc + iVar4) - param_4;
    }
    if (param_4 < *(int *)(&DAT_0047e1b4 + iVar4)) {
      local_24 = *(int *)(&DAT_0047e1b4 + iVar4) - param_4;
    }
    else {
      local_24 = 0;
    }
    if (param_3 < *(int *)(&DAT_0047e1b0 + iVar4)) {
      local_8 = *(int *)(&DAT_0047e1b0 + iVar4) - param_3;
    }
    else {
      local_8 = 0;
    }
    iVar4 = *(int *)(param_2 + 4);
    iVar5 = (param_4 + local_24) * DAT_0047ac74 + local_8 + param_3;
    local_1c = ((param_8 + local_24) * iVar4 + local_8 + param_7) * 4;
    local_c = (uint *)(*param_1 + local_1c);
    local_20 = iVar5 * 4;
    local_10 = ppvBits_0047c2bc + iVar5;
    if (local_24 < param_6) {
      iVar5 = DAT_0047ac74 * 4;
      local_24 = param_6 - local_24;
      do {
        if (local_8 < param_5) {
          local_18 = param_5 - local_8;
          do {
            uVar1 = *local_c;
            if ((uVar1 & 0xff000000) == 0xff000000) {
              *local_10 = (void *)(((uVar1 >> 0x10 & 0xff) * param_9 & 0xffffff00) * 0x100 +
                                   ((uVar1 >> 8 & 0xff) * param_10 & 0xffffff00) +
                                  ((uVar1 & 0xff) * param_11 >> 8));
            }
            else if ((uVar1 & 0xff000000) != 0) {
              pvVar2 = *local_10;
              uVar3 = uVar1 >> 0x18;
              uVar6 = (uint)(byte)(-(char)(uVar1 >> 0x18) - 1);
              *local_10 = (void *)(((int)(((uVar1 >> 8 & 0xff) * uVar3 +
                                          ((uint)pvVar2 >> 8 & 0xff) * uVar6) * param_10) >> 8 &
                                   0xffffff00U) +
                                   (((uVar1 >> 0x10 & 0xff) * uVar3 +
                                    ((uint)pvVar2 >> 0x10 & 0xff) * uVar6) * param_9 & 0xffff0000) +
                                  ((int)((((uint)pvVar2 & 0xff) * uVar6 + (uVar1 & 0xff) * uVar3) *
                                        param_11) >> 0x10));
            }
            local_c = local_c + 1;
            local_10 = local_10 + 1;
            local_18 += -1;
          } while (local_18 != 0);
        }
        local_1c += iVar4 * 4;
        local_c = (uint *)(*param_1 + local_1c);
        local_20 += iVar5;
        local_10 = (void **)(local_20 + (int)ppvBits_0047c2bc);
        local_24 += -1;
      } while (local_24 != 0);
    }
  }
  return 0;
}



undefined4 __cdecl
FUN_004025e0(int *param_1,int param_2,uint *param_3,int param_4,int param_5,int param_6,int param_7,
            int param_8,int param_9,int param_10,int param_11,int param_12)

{
  uint uVar1;
  int iVar2;
  uint uVar3;
  void *pvVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  int iVar10;
  int local_18;
  int local_14;
  int local_c;
  
  if (((int)param_3 < DAT_0047ac74) && (*param_1 != 0)) {
    if ((int)param_3 + param_5 < DAT_0047ac74) {
      iVar2 = 0;
    }
    else {
      iVar2 = (int)param_3 + (param_5 - DAT_0047ac74);
    }
    iVar6 = param_12 * 0x20;
    if (*(int *)(&DAT_0047e1bc + iVar6) <= param_4 + param_6) {
      param_6 = *(int *)(&DAT_0047e1bc + iVar6) - param_4;
    }
    if (param_4 < *(int *)(&DAT_0047e1b4 + iVar6)) {
      local_18 = *(int *)(&DAT_0047e1b4 + iVar6) - param_4;
    }
    else {
      local_18 = 0;
    }
    iVar9 = param_5;
    if ((int)param_3 < *(int *)(&DAT_0047e1b0 + iVar6)) {
      iVar9 = (int)param_3 + (param_5 - *(int *)(&DAT_0047e1b0 + iVar6));
    }
    iVar6 = *(int *)(param_2 + 4);
    iVar7 = (param_8 + local_18) * iVar6 + iVar2 + param_7;
    local_c = (int)param_3 + param_5 + ((param_4 + local_18) * DAT_0047ac74 - iVar2) + -1;
    param_3 = (uint *)(*param_1 + iVar7 * 4);
    iVar5 = iVar9 - iVar2;
    if (local_18 < param_6) {
      iVar10 = DAT_0047ac74 + iVar5;
      local_18 = param_6 - local_18;
      do {
        if (iVar2 < iVar9) {
          iVar7 += iVar5;
          local_14 = iVar5;
          do {
            uVar1 = *param_3;
            if ((uVar1 & 0xff000000) == 0xff000000) {
              pvVar4 = (void *)(((uVar1 >> 0x10 & 0xff) * param_9 & 0xffffff00) * 0x100 +
                                ((uVar1 >> 8 & 0xff) * param_10 & 0xffffff00) +
                               ((uVar1 & 0xff) * param_11 >> 8));
LAB_004027ae:
              ppvBits_0047c2bc[local_c] = pvVar4;
            }
            else if ((uVar1 & 0xff000000) != 0) {
              pvVar4 = ppvBits_0047c2bc[local_c];
              uVar3 = uVar1 >> 0x18;
              iVar8 = 0xff - uVar3;
              pvVar4 = (void *)(((((uint)pvVar4 >> 8 & 0xff) * iVar8 + (uVar1 >> 8 & 0xff) * uVar3)
                                 * param_10 >> 8 & 0xffff00) +
                                ((((uint)pvVar4 >> 0x10 & 0xff) * iVar8 +
                                 (uVar1 >> 0x10 & 0xff) * uVar3) * param_9 & 0xffff0000) +
                               ((((uint)pvVar4 & 0xff) * iVar8 + (uVar1 & 0xff) * uVar3) * param_11
                               >> 0x10));
              goto LAB_004027ae;
            }
            param_3 = param_3 + 1;
            local_c += -1;
            local_14 += -1;
          } while (local_14 != 0);
        }
        local_c += iVar10;
        iVar7 += iVar6 - iVar5;
        local_18 += -1;
        param_3 = (uint *)(*param_1 + iVar7 * 4);
      } while (local_18 != 0);
    }
  }
  return 0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_00402800(int param_1,int param_2)

{
  if ((-1 < param_1) && (-1 < param_2)) {
    _DAT_0047e588 += 1;
  }
  return 0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 __cdecl
FUN_00402820(undefined4 param_1,undefined4 param_2,int param_3,int param_4,int param_5,int param_6,
            undefined4 param_7,undefined4 param_8,int param_9)

{
  int iVar1;
  int iVar2;
  int iVar3;
  
  iVar1 = param_9 * 0x20;
  if (param_3 + param_5 < *(int *)(&DAT_0047e1b8 + iVar1)) {
    param_9 = param_5;
  }
  else {
    param_9 = *(int *)(&DAT_0047e1b8 + iVar1) - param_3;
  }
  iVar3 = param_6;
  if (*(int *)(&DAT_0047e1bc + iVar1) <= param_4 + param_6) {
    iVar3 = *(int *)(&DAT_0047e1bc + iVar1) - param_4;
  }
  if (param_4 < *(int *)(&DAT_0047e1b4 + iVar1)) {
    iVar2 = *(int *)(&DAT_0047e1b4 + iVar1) - param_4;
  }
  else {
    iVar2 = 0;
  }
  if (param_3 < *(int *)(&DAT_0047e1b0 + iVar1)) {
    iVar1 = *(int *)(&DAT_0047e1b0 + iVar1) - param_3;
  }
  else {
    iVar1 = 0;
  }
  if ((((iVar1 < param_5) && (iVar2 < param_6)) && (-1 < param_9 - iVar1)) && (-1 < iVar3 - iVar2))
  {
    _DAT_0047e588 += 1;
  }
  return 0;
}



undefined4 FUN_004028b0(void)

{
  return 0;
}



undefined4 FUN_004028c0(int param_1,int param_2,int param_3,int param_4,int param_5)

{
  return 0;
}



int __cdecl FUN_00402950(FILE *param_1,long param_2,undefined4 param_3,int param_4)

{
  int iVar1;
  
  if (param_1 == NULL) {
    return -1;
  }
  iVar1 = fseek(param_1,param_2,param_4);
  return iVar1;
}


/* WARNING: Function: __alloca_probe replaced with injection: alloca_probe */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void FUN_004029b0(void)

{
  double dVar1;
  double dVar2;
  double dVar3;
  byte bVar4;
  char cVar5;
  ushort uVar6;
  double dVar7;
  undefined8 uVar8;
  undefined4 *puVar9;
  int iVar10;
  byte *pbVar11;
  uchar *puVar12;
  char *pcVar13;
  uchar *puVar14;
  int iVar15;
  undefined4 uVar16;
  size_t sVar17;
  uint uVar18;
  void *pvVar19;
  int iVar20;
  uint *puVar21;
  ushort uVar22;
  undefined4 *puVar23;
  byte *pbVar24;
  undefined4 extraout_ECX;
  short *psVar25;
  undefined4 extraout_ECX_00;
  ushort *puVar26;
  double *pdVar27;
  int *piVar28;
  undefined4 extraout_ECX_01;
  undefined4 extraout_ECX_02;
  int *piVar29;
  ushort *puVar30;
  undefined4 extraout_ECX_03;
  uint uVar31;
  ushort *puVar32;
  short sVar33;
  undefined2 uVar34;
  undefined2 *puVar35;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  int iVar36;
  int iVar37;
  short *psVar38;
  undefined4 extraout_EDX_01;
  undefined4 extraout_EDX_02;
  ushort *puVar39;
  ushort *extraout_EDX_03;
  uchar uVar40;
  code *pcVar41;
  code *pcVar42;
  uint uVar43;
  uint *puVar44;
  bool bVar45;
  ushort in_FPUControlWord;
  float10 fVar46;
  float10 fVar47;
  float10 fVar48;
  float10 fVar49;
  float10 fVar50;
  float10 fVar51;
  float10 fVar52;
  float10 extraout_ST0;
  float10 extraout_ST0_00;
  float10 extraout_ST0_01;
  float10 extraout_ST0_02;
  float10 extraout_ST0_03;
  float10 extraout_ST1;
  float10 extraout_ST1_00;
  float10 extraout_ST1_01;
  float10 extraout_ST1_02;
  float10 extraout_ST1_03;
  float10 extraout_ST1_04;
  ulonglong uVar53;
  char *pcVar54;
  double *pdVar55;
  undefined8 local_1c94;
  double local_1c8c;
  uint local_1c84;
  uint local_1c80;
  uint local_1c7c;
  ushort *local_1c78;
  uint local_1c74;
  void *local_1c70;
  double local_1c6c;
  uint local_1c64;
  int local_1c60;
  double local_1c5c;
  int local_1c54;
  uint local_1c50;
  uint local_1c4c;
  FILE *local_1c48;
  int local_1c44;
  uint local_1c40;
  uint local_1c3c;
  uint local_1c38;
  uint local_1c34;
  uint local_1c30;
  int local_1c2c;
  ushort *local_1c28;
  int *local_1c24;
  uint local_1c20;
  uint local_1c1c;
  ushort *local_1c18;
  ushort *local_1c14;
  uint local_1c10;
  undefined4 local_1c0c;
  uint local_1c08;
  int local_1c04;
  ushort *local_1c00;
  undefined4 local_1bfc;
  ushort *local_1bf8;
  ushort *local_1bf4;
  uint local_1bf0;
  undefined8 local_1bec;
  ushort *local_1be4;
  undefined4 local_1be0;
  short local_1bdc;
  short local_1bda [589];
  short local_1740;
  ushort auStack_172e [28];
  short local_16f6;
  double local_16f4;
  double local_16ec;
  int local_16e4 [12];
  double local_16b4;
  undefined4 local_16ac;
  undefined4 local_16a8;
  undefined4 local_16a4;
  undefined4 local_16a0;
  undefined4 local_169c;
  undefined4 local_1698;
  undefined4 local_1694;
  undefined4 local_1690;
  undefined4 local_168c;
  undefined4 local_1688;
  int local_1684 [12];
  char local_1654 [512];
  uchar local_1454;
  undefined1 local_1453 [255];
  char local_1354 [512];
  uchar local_1154 [512];
  char local_f54;
  undefined1 local_f53 [511];
  uchar local_d54 [512];
  byte local_b54 [511];
  char local_955 [257];
  uchar local_854 [511];
  undefined1 local_655;
  uchar local_654;
  undefined1 local_653 [511];
  uchar local_454 [518];
  undefined4 local_24e;
  undefined4 local_24a;
  undefined2 local_246;
  uchar local_244 [516];
  uint local_40;
  undefined4 local_3c;
  undefined4 local_38;
  ushort local_34;
  undefined4 local_32;
  undefined4 local_2e;
  undefined2 local_2a;
  undefined4 local_28;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_18;
  undefined4 local_14;
  uchar local_10;
  undefined4 local_f;
  uint local_8;
  
  local_8 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  local_1be0 = 0;
  local_1c30 = 0;
  local_1154[0] = '\0';
  memset(local_1154 + 1,0,0x1ff);
  local_1bdc = 0;
  memset(local_1bda,0,0x4ce);
  local_b54[0] = 0;
  memset(local_b54 + 1,0,0x1ff);
  local_244[0] = '\0';
  memset(local_244 + 1,0,0x1ff);
  local_454[0] = '\0';
  memset(local_454 + 1,0,0x1ff);
  local_d54[0] = '\0';
  memset(local_d54 + 1,0,0x1ff);
  local_955[1] = 0;
  memset(local_955 + 2,0,0xff);
  local_1454 = '\0';
  memset(local_1453,0,0xff);
  local_654 = '\0';
  memset(local_653,0,0x1ff);
  local_1c78 = NULL;
  local_1c54 = 0;
  local_1c4c = 1;
  local_1c64 = 1;
  local_1c10 = 0;
  local_f54 = '\0';
  memset(local_f53,0,0x1ff);
  local_10 = '\0';
  local_f = 0;
  local_854[0] = '\0';
  memset(local_854 + 1,0,0x1ff);
  local_1c94 = 0x405e000000000000;
  local_1c8c = 0.0;
  local_1c20 = 0x10;
  local_1c84 = 0x10;
  local_34 = 0;
  local_32 = 0;
  local_2e = 0;
  local_2a = 0;
  local_1c14 = NULL;
  local_1c18 = NULL;
  local_16e4[6] = 0;
  local_16e4[7] = 0;
  local_16e4[8] = 0;
  local_16e4[9] = 0;
  local_16e4[10] = 0;
  local_16e4[0xb] = 0;
  local_1c08 = 0xff;
  local_1c74 = 0;
  local_1c80 = 0;
  local_1354[0] = '\0';
  memset(local_1354 + 1,0,0x1ff);
  local_1bfc = 0;
  local_1c60 = 0;
  local_1c70 = NULL;
  local_1c34 = 0;
  local_24e = 0;
  local_24a = 0;
  local_246 = 0;
  local_1c50 = 0;
  local_1c1c = 0;
  local_1684[6] = 0;
  local_1684[7] = 0;
  local_1684[8] = 0;
  local_1684[9] = 0;
  local_1684[10] = 0;
  local_1684[0xb] = 0;
  FUN_00420e40();
  if ((1 < DAT_0047e2c8) && (DAT_0047f114 < 2)) {
    _DAT_0047e2c8 = CONCAT22(DAT_0047e2c8_2,1);
  }
  if (DAT_0047e2d2 == 0) {
    DAT_0047e2d2 = 1;
  }
  sVar33 = DAT_0047e2d4;
  puVar35 = &DAT_0047c7d0;
  puVar9 = &DAT_0047c784;
  puVar23 = &DAT_0047c798;
  do {
    puVar9[1] = 0;
    puVar23[-3] = 0;
    *puVar23 = 0;
    *puVar9 = 0;
    puVar23[8] = 0;
    puVar23[0xb] = 0;
    *puVar35 = 0;
    puVar9[0x22] = 0;
    puVar9[0x21] = 0;
    *(undefined2 *)((int)puVar9 + -0x32) = 1;
    if ((sVar33 == 0) || (DAT_0047e2d6 == 0)) {
      *(undefined2 *)(puVar9 + 100) = 0;
      *(undefined2 *)((int)puVar9 + 0x192) = 0;
    }
    puVar23 = puVar23 + 0x79;
    puVar35 = puVar35 + 0xf1;
    puVar9 = puVar9 + 0x78;
  } while ((int)puVar23 < 0x47cb60);
  _DAT_0047cb30 = 1.0;
  _DAT_0047e298 = 0;
  _DAT_0047e29c = 0;
  _DAT_0047e2a0 = 0;
  strcpy_s(&local_f54,0x200,_Src_0047e0a0);
  strcat_s(&local_f54,0x200," >> ");
  SelectObject(HDC_0047b6c0,HGDIOBJ_0047bae4);
  pcVar41 = fgets_exref;
  if ((DAT_0047e2d4 == 0) || (DAT_0047e2d6 == 0)) {
    if ((char)_Src_0047e640 == '\0') {
      if (INT_0047e630 == 0) {
        FUN_0043a990();
        pcVar41 = fgets_exref;
      }
      else {
        FUN_0041d4a0((char *)local_b54);
      }
    }
    else {
      strcpy_s((char *)local_b54,0x200,(char *)&_Src_0047e640);
    }
    if (DAT_0047e2d4 == 1) {
      strcpy_s((char *)&_Dst_0047e3da,0x100,(char *)(PTR_0047e74c + 0x81));
      goto LAB_00402df0;
    }
  }
  else {
LAB_00402df0:
    if ((DAT_0047e2d4 == 1) && (DAT_0047e2d6 < DAT_0047e4e0)) {
      if ((PTR_0047e74c != NULL) && ((char)_Src_0047e640 == '\0')) {
        strcpy_s((char *)local_b54,0x200,(char *)(PTR_0047e74c + 1));
      }
      if (DAT_0047e2d6 == 0) {
        DAT_0047c914 = 0;
        fopen_s(&local_1c48,(char *)local_b54,"r");
        if (local_1c48 != NULL) {
          iVar10 = (*pcVar41)(local_244,0x200,local_1c48);
          while (iVar10 != 0) {
            iVar10 = strncmp((char *)local_244,"LIFE:",5);
            if (iVar10 == 0) {
              sscanf_s((char *)(local_244 + 5),"%hu",&DAT_0047c914);
              break;
            }
            iVar10 = (*pcVar41)(local_244,0x200,local_1c48);
          }
          fclose(local_1c48);
        }
        strcpy_s(&_Dst_0047e2da,0x100,(char *)local_b54);
      }
      if ((DAT_0047cf62 == 0) && (DAT_0047c914 == 0)) {
        DAT_0047cf62 = 2;
      }
      if ((DAT_0047d322 == 0) && (DAT_0047caf4 == 0)) {
        DAT_0047d322 = 2;
      }
      strcpy_s((char *)local_b54,0x200,*(char **)(DAT_0047e4dc + (_DAT_0047e2d4 >> 0x10) * 4));
    }
  }
  SelectObject(HDC_0047b6c0,DAT_0047bb74);
  if (local_b54[0] == 0x22) {
    pbVar11 = local_b54;
    do {
      bVar4 = *pbVar11;
      pbVar11 = pbVar11 + 1;
    } while (bVar4 != 0);
    if (pbVar11[(int)(local_d54 + (0x1ff - (int)(local_b54 + 1)))] == 0x22) {
      _mbsnbcpy_s(local_b54,0x200,local_b54 + 1,(size_t)(pbVar11 + (-2 - (int)(local_b54 + 1))));
      goto LAB_00402fc2;
    }
  }
  else {
LAB_00402fc2:
    if (local_b54[0] == 0) goto LAB_0040302b;
  }
  pbVar11 = local_b54;
  do {
    bVar4 = *pbVar11;
    pbVar11 = pbVar11 + 1;
  } while (bVar4 != 0);
  puVar12 = _mbsrchr(local_b54,0x5c);
  puVar14 = puVar12 + 1;
  do {
    uVar40 = *puVar12;
    puVar12 = puVar12 + 1;
  } while (uVar40 != '\0');
  _mbsnbcpy_s((uchar *)&_Dst_0047bce8,0x100,local_b54,
              (size_t)(pbVar11 + (-((int)puVar12 - (int)puVar14) - (int)(local_b54 + 1))));
  strcat_s(&_Dst_0047bce8,0x100,"\\");
LAB_0040302b:
  pbVar11 = local_b54;
  do {
    pbVar24 = pbVar11;
    pbVar11 = pbVar24 + 1;
  } while (*pbVar24 != 0);
  _mbsnbcpy_s(&local_10,5,pbVar24 + -4,5);
  pbVar11 = local_b54;
  pbVar24 = (byte *)0x462877;
  do {
    bVar4 = *pbVar11;
    bVar45 = bVar4 < *pbVar24;
    if (bVar4 != *pbVar24) {
LAB_00403080:
      iVar10 = (1 - (uint)bVar45) - (uint)(bVar45 != 0);
      goto LAB_00403085;
    }
    if (bVar4 == 0) break;
    bVar4 = pbVar11[1];
    bVar45 = bVar4 < pbVar24[1];
    if (bVar4 != pbVar24[1]) goto LAB_00403080;
    pbVar11 = pbVar11 + 2;
    pbVar24 = pbVar24 + 2;
  } while (bVar4 != 0);
  iVar10 = 0;
LAB_00403085:
  if (iVar10 != 0) {
    iVar10 = strncmp((char *)&local_10,".tjc",4);
    if (iVar10 == 0) {
      strcpy_s((char *)local_1bda,0x100,(char *)local_b54);
      local_1bdc = 4;
      FUN_0040ca20(&local_1bdc);
      FUN_004139a0(&local_1bdc);
      _DAT_0047e2d4 = 1;
      FUN_004029b0();
      __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
      return;
    }
    iVar10 = strncmp((char *)&local_10,".tjf",4);
    if ((iVar10 == 0) || (iVar10 = strncmp((char *)&local_10,".tja",4), iVar10 == 0)) {
      local_1be4 = NULL;
      pcVar41 = _mbschr_exref;
      uVar22 = DAT_0047e2c8;
      if (DAT_0047e2c8 != 0) {
        do {
          fopen_s(&local_1c48,(char *)local_b54,"r");
          if (local_1c48 == NULL) goto LAB_00403147;
          strcpy_s((char *)local_1bda,0x100,(char *)local_b54);
          local_1bdc = 2;
          FUN_0040ca20(&local_1bdc);
          if (PTR_0047e74c == NULL) {
            psVar38 = &local_1bdc;
            puVar9 = (undefined4 *)&DAT_0047ec40;
            for (iVar10 = 0x134; iVar10 != 0; iVar10 += -1) {
              *puVar9 = *(undefined4 *)psVar38;
              psVar38 = psVar38 + 2;
              puVar9 = puVar9 + 1;
            }
            FUN_00435730(0,&DAT_0047ec40);
          }
          puVar30 = local_1be4;
          local_1c04 = (int)local_1be4 * 0x3c0;
          (&DAT_0047cec8)[(int)local_1be4 * 0x1e0] = 0;
          (&DAT_0047cf60)[(int)local_1be4 * 0x1e0] = 0;
          (&DAT_0047cf0a)[(int)local_1be4 * 0x1e0] = 1;
          (&DAT_0047cf0c)[(int)local_1be4 * 0x1e0] = 0;
          *(undefined2 *)(&DAT_0047cf0e + local_1c04) = 1;
          (&DAT_0047cf1c)[(int)local_1be4 * 0x1e0] = 0;
          (&DAT_0047cf58)[(int)local_1be4 * 0xf0] = 0;
          *(undefined2 *)(&DAT_0047cf1e + local_1c04) = 1;
          *(undefined2 *)(&DAT_0047cf44 + local_1c04) = 0;
          if ((((char)_Src_0047e640 != '\0') || (INT_0047e630 == 0)) && (DAT_0047e63c == 0)) {
            DAT_0047cf56 = local_1740;
            DAT_0047d316 = local_1740;
          }
          (&DAT_0047cf60)[(int)local_1be4 * 0x1e0] = 0;
          (&DAT_0047cef4)[(int)local_1be4 * 0x1e0] = 100;
          local_1c10 = 0xff;
          local_1c3c = 0;
          (&DAT_0047cef6)[(int)local_1be4 * 0x1e0] = 100;
          if (local_1be4 == NULL) {
            strcpy_s((char *)&_Src_0047cf7e,0x100,"");
            strcpy_s((char *)&_Src_0047d07e,0x100,"");
          }
          local_1bf8 = (ushort *)((int)local_1be4 * 0x1e0);
          puVar39 = local_1bf8 + 0x23e3d5;
          puVar26 = local_1bf8 + 0x23e3c6;
          puVar35 = &DAT_0047cf20 + (int)puVar30 * 0x1e0;
          local_1bf4 = (ushort *)0x3;
          do {
            puVar26[0x26] = 0;
            puVar26[0x27] = 0;
            puVar35[-0x14] = 0;
            puVar26[0] = 0;
            puVar26[1] = 0;
            *puVar35 = 1;
            puVar35[-8] = 1;
            puVar39[-3] = 0;
            *puVar39 = 0;
            puVar26[6] = 0;
            puVar26[7] = 0;
            puVar39[3] = 0;
            puVar26[0x16] = 0;
            puVar26[0x17] = 0;
            puVar26[0x1c] = 0;
            puVar26[0x1d] = 0;
            puVar39[0x13] = 0;
            puVar39[0x8b] = 0;
            puVar35[6] = 0;
            puVar39[0x85] = 0;
            puVar35[0xc] = 0;
            puVar26[-0xffffffff0000001c] = 0;
            puVar26[-0xffffffff0000001b] = 0;
            puVar35 = puVar35 + 1;
            puVar39 = puVar39 + 1;
            puVar26 = puVar26 + 2;
            local_1bf4 = (ushort *)((int)local_1bf4 + -1);
          } while (local_1bf4 != NULL);
          local_1bf8[0x23e3a9] = 1;
          DAT_0047e2b4 = 0;
          local_1c2c = 0;
          pcVar13 = fgets((char *)local_244,0x200,local_1c48);
          while (pcVar13 != NULL) {
            if (local_1c54 == 1) {
              puVar14 = local_244;
              local_1bf0 = 0;
              do {
                uVar40 = *puVar14;
                puVar14 = puVar14 + 1;
              } while (uVar40 != '\0');
              if (0 < (int)puVar14 - (int)(local_244 + 1)) {
                do {
                  uVar40 = local_244[local_1bf0];
                  if (((('/' < (char)uVar40) && ((char)uVar40 < ':')) || (uVar40 == '#')) ||
                     ((uVar40 == ',' || (uVar40 == '/')))) {
LAB_00403497:
                    strcpy_s((char *)local_454,0x200,(char *)(local_244 + local_1bf0));
                    strcpy_s((char *)local_244,0x200,(char *)local_454);
                    break;
                  }
                  strcpy_s((char *)local_1154,0x200,"");
                  iVar10 = FUN_004385b0((char *)local_1154,uVar40);
                  if ((iVar10 == 0) && (*(short *)((int)&DAT_0047cec8 + local_1c04) != 0))
                  goto LAB_00403497;
                  local_1bf0 += 1;
                  puVar14 = local_244;
                  do {
                    uVar40 = *puVar14;
                    puVar14 = puVar14 + 1;
                  } while (uVar40 != '\0');
                } while ((int)local_1bf0 < (int)puVar14 - (int)(local_244 + 1));
              }
              if (((((ushort)local_1bfc != 0) && ((ushort)local_1bfc < local_1bfc._2_2_)) &&
                  (('/' < (char)local_244[0] && ((char)local_244[0] < ':')))) ||
                 (((iVar10 = strncmp((char *)local_244,"#BRANCHSTART",0xc), iVar10 == 0 ||
                   (iVar10 = strncmp((char *)local_244,"#END",4), iVar10 == 0)) &&
                  ((ushort)local_1c08 < 3)))) {
                local_1c08 = 0xff;
                local_1c1c = 0;
                local_1bfc &= 0xffff0000;
                local_1c60 = 0;
              }
              iVar10 = strncmp((char *)local_244,"#BPMCHANGE",10);
              if (iVar10 == 0) {
                if ((ushort)local_1c1c < 2) {
                  *(short *)((int)&DAT_0047cf0a + local_1c04) =
                       *(short *)((int)&DAT_0047cf0a + local_1c04) + 1;
                }
              }
              else {
                iVar10 = strncmp((char *)local_244,"#MEASURE",8);
                if (iVar10 == 0) {
                  if ((ushort)local_1c1c < 2) {
                    *(short *)(&DAT_0047cf0e + local_1c04) =
                         *(short *)(&DAT_0047cf0e + local_1c04) + 1;
                  }
                }
                else {
                  iVar10 = strncmp((char *)local_244,"#SCROLL",7);
                  if (iVar10 == 0) {
                    psVar38 = (short *)((int)&DAT_0047cf20 + local_1c04);
                    local_1be0 = 0;
                    do {
                      if ((2 < (ushort)local_1c08) || (local_1be0 == (local_1c08 & 0xffff))) {
                        *psVar38 = *psVar38 + 1;
                      }
                      local_1be0 += 1;
                      psVar38 = psVar38 + 1;
                    } while ((int)local_1be0 < 3);
                  }
                  else {
                    iVar10 = strncmp((char *)local_244,"#GOGOSTART",10);
                    if (iVar10 == 0) {
                      psVar38 = (short *)((int)&DAT_0047cf2c + local_1c04);
                      local_1be0 = 0;
                      do {
                        if ((2 < (ushort)local_1c08) || (local_1be0 == (local_1c08 & 0xffff))) {
                          *psVar38 = *psVar38 + 1;
                        }
                        local_1be0 += 1;
                        psVar38 = psVar38 + 1;
                      } while ((int)local_1be0 < 3);
                    }
                    else {
                      iVar10 = strncmp((char *)local_244,"#BRANCHSTART",0xc);
                      if (iVar10 == 0) {
                        *(short *)((int)&DAT_0047cf1c + local_1c04) =
                             *(short *)((int)&DAT_0047cf1c + local_1c04) + 1;
                        local_1bfc = 0;
                        local_1c08 = 0;
                        local_1c1c = 0;
                        _mbsnbcpy_s(local_454,0x200,local_244 + 0xc,0x32);
                        pcVar13 = strstr((char *)local_454,"r");
                        if ((pcVar13 == NULL) &&
                           (pcVar13 = strstr((char *)local_454,"R"), pcVar13 == NULL)) {
                          pcVar13 = strstr((char *)local_454,"s");
                          if ((pcVar13 == NULL) &&
                             (pcVar13 = strstr((char *)local_454,"S"), pcVar13 == NULL)) {
                            local_16f6 = 0;
                          }
                          else {
                            local_16f6 = 1;
                          }
                        }
                        else {
                          local_16f6 = 1;
                        }
                        pdVar27 = &local_16ec;
                        pdVar55 = &local_16f4;
                        pcVar54 = "%lf, %lf";
                        pcVar13 = strchr((char *)local_454,0x2c);
                        sscanf_s(pcVar13 + 1,pcVar54,pdVar55,pdVar27);
                        if (local_16f6 == 1) {
                          if (local_16ec <= 0.0) {
LAB_004037fa:
                            local_1c60 = 1;
                          }
                        }
                        else if (local_16f6 == 0) {
                          if (local_16ec < 0.0 == (local_16ec == 0.0)) {
                            if (100.0 < local_16ec != NAN(local_16ec)) {
                              if (local_16f4 < 0.0 != (local_16f4 == 0.0)) goto LAB_004037fa;
                              if (100.0 < local_16f4 != NAN(local_16f4)) {
                                local_1c60 = 1;
                              }
                            }
                          }
                          else {
                            local_1c60 = 1;
                          }
                        }
                      }
                      else {
                        iVar10 = strncmp((char *)local_244,"#N",2);
                        if (iVar10 == 0) {
                          local_1c1c += 1;
                          if ((ushort)local_1bfc == 0) {
                            local_1bfc >>= 0x10;
                          }
                          local_1bfc &= 0xffff;
                          local_1c08 = 0;
                        }
                        else {
                          iVar10 = strncmp((char *)local_244,"#E",2);
                          if ((iVar10 == 0) &&
                             (iVar10 = strncmp((char *)local_244,"#END",4), iVar10 != 0)) {
                            local_1c08 = 1;
                          }
                          else {
                            iVar10 = strncmp((char *)local_244,"#M",2);
                            if (iVar10 != 0) {
                              iVar10 = strncmp((char *)local_244,"#BRANCHEND",10);
                              if (iVar10 == 0) {
                                local_1c08 = 0xff;
                                local_1bfc &= 0xffff0000;
                                local_1c60 = 0;
                                local_1c1c = 0;
                              }
                              else {
                                iVar10 = strncmp((char *)local_244,"#SECTION",8);
                                if (iVar10 == 0) {
                                  *(short *)(&DAT_0047cf1e + local_1c04) =
                                       *(short *)(&DAT_0047cf1e + local_1c04) + 1;
                                }
                                else {
                                  iVar10 = strncmp((char *)local_244,"#DELAY",6);
                                  if (iVar10 == 0) {
                                    _mbsnbcpy_s(local_454,0x100,local_244 + 6,10);
                                    sscanf_s((char *)local_454,"%lf",&local_1c6c);
                                    uVar53 = FUN_0045db50(extraout_ECX,extraout_EDX);
                                    if ((int)uVar53 != 0) {
                                      *(short *)(&DAT_0047cf44 + local_1c04) =
                                           *(short *)(&DAT_0047cf44 + local_1c04) + 1;
                                    }
                                  }
                                  else {
                                    iVar10 = strncmp((char *)local_244,"#LEVELHOLD",10);
                                    if (iVar10 == 0) {
                                      psVar38 = (short *)((int)&DAT_0047cf38 + local_1c04);
                                      local_1be0 = 0;
                                      do {
                                        if ((2 < (ushort)local_1c08) ||
                                           (local_1be0 == (local_1c08 & 0xffff))) {
                                          *psVar38 = *psVar38 + 1;
                                          local_1684[local_1be0] = 1;
                                        }
                                        local_1be0 += 1;
                                        psVar38 = psVar38 + 1;
                                      } while ((int)local_1be0 < 3);
                                    }
                                    else {
                                      iVar10 = strncmp((char *)local_244,"#BARLINEON",10);
                                      if ((iVar10 == 0) ||
                                         (iVar10 = strncmp((char *)local_244,"#BARLINEOFF",0xb),
                                         iVar10 == 0)) {
                                        local_1be0 = 0;
                                        psVar38 = (short *)(&DAT_0047cf10 + local_1c04);
                                        do {
                                          if ((2 < (ushort)local_1c08) ||
                                             (local_1be0 == (local_1c08 & 0xffff))) {
                                            *psVar38 = *psVar38 + 1;
                                          }
                                          local_1be0 += 1;
                                          psVar38 = psVar38 + 1;
                                        } while ((int)local_1be0 < 3);
                                      }
                                    }
                                  }
                                }
                              }
                              goto LAB_00403a75;
                            }
                            local_1c08 = 2;
                          }
                          local_1c1c += 1;
                          if ((ushort)local_1bfc == 0) {
                            local_1bfc >>= 0x10;
                          }
                          local_1bfc &= 0xffff;
                        }
                      }
                    }
                  }
                }
              }
LAB_00403a75:
              iVar10 = strncmp((char *)&local_10,".tjf",4);
              if (iVar10 == 0) {
                iVar10 = strncmp((char *)local_244,"#",1);
                if (iVar10 != 0) {
                  iVar10 = 0;
                  do {
                    if ((local_244[iVar10] == '\0') ||
                       (iVar15 = strncmp((char *)(local_244 + iVar10),"//",2), iVar15 == 0)) break ;
                    uVar40 = local_244[iVar10];
                    if (('/' < (char)uVar40) &&
                       (((char)uVar40 < ':' &&
                        (local_1c14 = (ushort *)((int)local_1c14 + 1), (short)local_1c14 == 0x10)) ))
                    {
                      *(short *)((int)&DAT_0047cf0c + local_1c04) =
                           *(short *)((int)&DAT_0047cf0c + local_1c04) + 1;
                      local_1c14 = NULL;
                    }
                    if (((((char)uVar40 < '5') || ('7' < (char)local_244[1])) &&
                        ('/' < (char)uVar40)) && (local_1684[6] == 1)) {
                      *(short *)((int)&DAT_0047cef8 + local_1c04) =
                           *(short *)((int)&DAT_0047cef8 + local_1c04) + 1;
                      local_1684[6] = 0;
                    }
                    if (((uVar40 == '1') || (uVar40 == '2')) || ((uVar40 == '3' || (uVar40 == '4') ))
                       ) {
                      *(short *)((int)&DAT_0047cef8 + local_1c04) =
                           *(short *)((int)&DAT_0047cef8 + local_1c04) + 1;
                      local_1684[6] = 0;
                    }
                    else if ((('4' < (char)uVar40) && ((char)uVar40 < '8')) && (local_1684[6] == 0 ))
                    {
                      *(short *)((int)&DAT_0047cef8 + local_1c04) =
                           *(short *)((int)&DAT_0047cef8 + local_1c04) + 1;
                      local_1684[6] = 1;
                      if (uVar40 == '7') {
                        DAT_0047e298 += 1;
                      }
                    }
                    iVar10 += 1;
                  } while (iVar10 < 0x200);
                }
              }
              else {
                iVar10 = strncmp((char *)&local_10,".tja",4);
                if (((iVar10 == 0) && (iVar10 = strncmp((char *)local_244,"#",1), iVar10 != 0)) &&
                   ((2 < (ushort)local_1c08 ||
                    (((ushort)local_1bfc == 0 || (local_1bfc._2_2_ <= (ushort)local_1bfc)))))) {
                  local_1bf0 = 0;
                  do {
                    uVar43 = local_1bf0;
                    puVar14 = local_244 + local_1bf0;
                    if ((local_244[local_1bf0] == '\0') ||
                       (iVar10 = strncmp((char *)puVar14,"//",2), iVar10 == 0)) break;
                    if (*(short *)((int)&DAT_0047cec8 + local_1c04) == 0) {
                      uVar40 = *puVar14;
                      uVar22 = (ushort)local_1c08;
                      if (uVar40 == '8') {
                        local_1be0 = 0;
                        psVar38 = (short *)((int)&DAT_0047cef8 + local_1c04);
                        do {
                          if ((local_1684[local_1be0 + 6] == 1) &&
                             ((2 < uVar22 || (local_1be0 == (local_1c08 & 0xffff))))) {
                            *psVar38 = *psVar38 + 1;
                            local_1684[local_1be0 + 6] = 0;
                          }
                          local_1be0 += 1;
                          psVar38 = psVar38 + 1;
                        } while ((int)local_1be0 < 3);
                        uVar43 = local_1bf0;
                      }
                      if ((((uVar40 == '1') || (uVar40 == '2')) || (uVar40 == '3')) ||
                         (uVar40 == '4')) {
                        psVar38 = (short *)((int)&DAT_0047cef8 + local_1c04);
                        uVar18 = 0;
                        psVar25 = psVar38;
                        do {
                          if ((local_1684[uVar18 + 6] == 1) &&
                             ((2 < uVar22 || (uVar18 == (local_1c08 & 0xffff))))) {
                            *psVar25 = *psVar25 + 1;
                            local_1684[uVar18 + 6] = 0;
                          }
                          uVar18 += 1;
                          psVar25 = psVar25 + 1;
                        } while ((int)uVar18 < 3);
                        local_1be0 = 0;
                        do {
                          if ((2 < uVar22) || (local_1be0 == (local_1c08 & 0xffff))) {
                            *psVar38 = *psVar38 + 1;
                          }
                          local_1be0 += 1;
                          psVar38 = psVar38 + 1;
                        } while ((int)local_1be0 < 3);
                      }
                      else if ((((uVar40 == '5') || (uVar40 == '6')) || (uVar40 == '7')) ||
                              (uVar40 == '9')) {
                        local_1be0 = 0;
                        psVar38 = (short *)((int)&DAT_0047cef8 + local_1c04);
                        do {
                          if ((local_1684[local_1be0 + 6] == 0) &&
                             ((2 < uVar22 || (local_1be0 == (local_1c08 & 0xffff))))) {
                            *psVar38 = *psVar38 + 1;
                            local_1684[local_1be0 + 6] = 1;
                          }
                          local_1be0 += 1;
                          psVar38 = psVar38 + 1;
                        } while ((int)local_1be0 < 3);
                        if ((uVar40 == '7') || (uVar40 == '9')) {
                          local_1be0 = 0;
                          do {
                            if ((2 < uVar22) || (local_1be0 == (local_1c08 & 0xffff))) {
                              (&DAT_0047e298)[(int)local_1be4 * 3 + local_1be0] =
                                   (&DAT_0047e298)[(int)local_1be4 * 3 + local_1be0] + 1;
                            }
                            local_1be0 += 1;
                          } while ((int)local_1be0 < 3);
                        }
                      }
                      else if (uVar40 == ',') {
                        if ((ushort)local_1c1c < 2) {
                          *(short *)((int)&DAT_0047cf0c + local_1c04) =
                               *(short *)((int)&DAT_0047cf0c + local_1c04) + 1;
                        }
                        if (uVar22 < 3) {
                          local_1bfc = CONCAT22(local_1bfc._2_2_ + 1,(ushort)local_1bfc);
                        }
                      }
                    }
                    else {
                      uVar40 = *puVar14;
                      if (uVar40 == ',') {
                        *(short *)((int)&DAT_0047cf0c + local_1c04) =
                             *(short *)((int)&DAT_0047cf0c + local_1c04) + 1;
                      }
                      else {
                        strcpy_s((char *)local_1154,0x200,"");
                        iVar10 = FUN_004385b0((char *)local_1154,uVar40);
                        if (iVar10 == 0) {
                          iVar10 = 0;
                          do {
                            if (local_1154[iVar10] == '1') {
                              *(short *)((int)&DAT_0047cef8 + local_1c04) =
                                   *(short *)((int)&DAT_0047cef8 + local_1c04) + 1;
                            }
                            iVar10 += 1;
                          } while (iVar10 < 4);
                        }
                      }
                    }
                    local_1bf0 = uVar43 + 1;
                  } while ((int)(uVar43 + 1) < 0x200);
                }
              }
              iVar10 = strncmp((char *)local_244,"#END",4);
              if (iVar10 == 0) {
                local_1c2c = 1;
                local_1c54 = 0;
              }
            }
            else {
              iVar10 = strncmp((char *)local_244,"#START",6);
              if (((iVar10 == 0) && (local_1c2c == 0)) &&
                 ((*(ushort *)((int)&DAT_0047cf56 + local_1c04) == (ushort)local_1c10 ||
                  (200 < (ushort)local_1c10)))) {
                local_1c00 = NULL;
                pcVar13 = strchr((char *)(local_244 + 6),0x50);
                if (pcVar13 == NULL) {
                  pcVar13 = strchr((char *)(local_244 + 6),0x70);
                  if (pcVar13 == NULL) {
                    local_1c00 = (ushort *)0x1;
                  }
                  else {
                    pcVar13 = strchr((char *)(local_244 + 6),0x70);
                    pcVar41 = strncmp_exref;
                    iVar10 = strncmp(pcVar13,"p1",2);
                    if (iVar10 != 0) {
                      pcVar13 = strchr((char *)(local_244 + 6),0x70);
                      pcVar54 = "p2";
                      goto LAB_00403fba;
                    }
                    local_1c00 = (ushort *)0x2;
                  }
                }
                else {
                  pcVar13 = strchr((char *)(local_244 + 6),0x50);
                  pcVar41 = strncmp_exref;
                  iVar10 = strncmp(pcVar13,"P1",2);
                  if (iVar10 == 0) {
                    local_1c00 = (ushort *)0x2;
                  }
                  else {
                    pcVar13 = strchr((char *)(local_244 + 6),0x50);
                    pcVar54 = "P2";
LAB_00403fba:
                    iVar10 = (*pcVar41)(pcVar13,pcVar54,2);
                    if (iVar10 == 0) {
                      local_1c00 = (ushort *)0x3;
                    }
                  }
                }
                if ((((((short)local_1c3c == 0) || (DAT_0047cf56 != DAT_0047d316)) ||
                     (((int)local_1be4 * 2 + 2U &
                      (uint)auStack_172e[*(ushort *)((int)&DAT_0047cf56 + local_1c04)]) == 0)) ||
                    ((((short)local_1c3c == 1 && (local_1c00 == (ushort *)0x1)) &&
                     (DAT_0047e2c8 == 1)))) ||
                   ((((local_1c3c ^ _DAT_0047e2c8) & 0xfffe) == 0 &&
                    (local_1c00 == (ushort *)((int)local_1be4 + 2))))) {
                  local_1c54 = 1;
                  strcat_s(local_955 + 1,0x100,(char *)&local_1454);
                  pcVar13 = local_955;
                  do {
                    pcVar13 = pcVar13 + 1;
                  } while (*pcVar13 != '\0');
                  if (pcVar13[-1] != ',') {
                    strcat_s(local_955 + 1,0x100,",");
                  }
                }
              }
              else {
                iVar10 = strncmp((char *)local_244,"#END",3);
                if (((iVar10 == 0) && (local_1c2c == 0)) && (local_1c54 == 0)) {
                  *(undefined2 *)((int)&DAT_0047cf60 + local_1c04) = 0;
                }
                else {
                  iVar10 = strncmp((char *)local_244,"#BMSCROLL",9);
                  if (((iVar10 == 0) && (local_1c54 == 0)) && (local_1c2c == 0)) {
                    *(undefined2 *)((int)&DAT_0047cf60 + local_1c04) = 1;
                  }
                  else {
                    iVar10 = strncmp((char *)local_244,"#HBSCROLL",9);
                    if (((iVar10 == 0) && (local_1c54 == 0)) && (local_1c2c == 0)) {
                      *(undefined2 *)((int)&DAT_0047cf60 + local_1c04) = 2;
                    }
                    else {
                      iVar10 = strncmp((char *)local_244,"BPM:",4);
                      if (iVar10 == 0) {
                        _mbsnbcpy_s(local_454,0x100,local_244 + 4,8);
                        sscanf_s((char *)local_454,"%lf",&local_1c94);
                      }
                      else {
                        iVar10 = strncmp((char *)local_244,"TITLE:",6);
                        if ((iVar10 == 0) && (local_1be4 == NULL)) {
                          _mbsnbcpy_s(local_d54,0x100,local_244 + 6,0xfa);
                          puVar14 = local_d54;
                          do {
                            uVar40 = *puVar14;
                            puVar14 = puVar14 + 1;
                          } while (uVar40 != '\0');
                          if (puVar14[(int)(local_f53 + (0x1fe - (int)(local_d54 + 1)))] == '\n') {
                            puVar14[(int)(local_f53 + (0x1fe - (int)(local_d54 + 1)))] = '\0';
                          }
                          puVar14 = local_d54;
                          do {
                            uVar40 = *puVar14;
                            puVar14 = puVar14 + 1;
                          } while (uVar40 != '\0');
                          if (puVar14[(int)(local_f53 + (0x1fe - (int)(local_d54 + 1)))] == '\r') {
                            puVar14[(int)(local_f53 + (0x1fe - (int)(local_d54 + 1)))] = '\0';
                          }
                          strcpy_s((char *)&_Src_0047cf7e,0x100,(char *)local_d54);
                          strcat_s(&local_f54,0x200,(char *)local_d54);
                        }
                        else {
                          iVar10 = strncmp((char *)local_244,"SUBTITLE:",6);
                          if ((iVar10 == 0) && (local_1be4 == NULL)) {
                            _mbsnbcpy_s(local_d54,0x100,local_244 + 9,0xfa);
                            puVar14 = local_d54;
                            do {
                              uVar40 = *puVar14;
                              puVar14 = puVar14 + 1;
                            } while (uVar40 != '\0');
                            if (puVar14[(int)(local_f53 + (0x1fe - (int)(local_d54 + 1)))] == '\n' )
                            {
                              puVar14[(int)(local_f53 + (0x1fe - (int)(local_d54 + 1)))] = '\0';
                            }
                            puVar14 = local_d54;
                            do {
                              uVar40 = *puVar14;
                              puVar14 = puVar14 + 1;
                            } while (uVar40 != '\0');
                            if (puVar14[(int)(local_f53 + (0x1fe - (int)(local_d54 + 1)))] == '\r' )
                            {
                              puVar14[(int)(local_f53 + (0x1fe - (int)(local_d54 + 1)))] = '\0';
                            }
                            if (local_d54[0] == '-') {
                              if (local_d54[1] == '-') {
                                strcpy_s((char *)&_Src_0047d07e,0x100,(char *)(local_d54 + 2));
                                DAT_0047d180 = 0;
                              }
                              else {
LAB_004043c6:
                                strcpy_s((char *)&_Src_0047d07e,0x100,(char *)local_d54);
                                strcat_s(&local_f54,0x200," ");
                                strcat_s(&local_f54,0x200,(char *)local_d54);
                                DAT_0047d180 = 1;
                              }
                            }
                            else {
                              if ((local_d54[0] != '+') || (local_d54[1] != '+')) goto LAB_004043c6 ;
                              strcpy_s((char *)&_Src_0047d07e,0x100,(char *)(local_d54 + 2));
                              strcat_s(&local_f54,0x200," ");
                              strcat_s(&local_f54,0x200,(char *)(local_d54 + 2));
                              DAT_0047d180 = 1;
                            }
                          }
                          else {
                            iVar10 = strncmp((char *)local_244,"WAVE:",5);
                            if ((iVar10 == 0) && (local_1be4 == NULL)) {
                              _mbsnbcpy_s(local_454,0x100,local_244 + 5,0xfa);
                              strcat_s(&_Dst_0047bce8,0x100,(char *)local_454);
                            }
                            else {
                              iVar10 = strncmp((char *)local_244,"OFFSET:",7);
                              if (iVar10 == 0) {
                                _mbsnbcpy_s(local_454,0x100,local_244 + 7,0xfa);
                                local_1c6c = 0.0;
                                sscanf_s((char *)local_454,"%lf",&local_1c6c);
                                uVar53 = FUN_0045db50(extraout_ECX_00,extraout_EDX_00);
                                *(int *)((int)&DAT_0047cf58 + local_1c04) = (int)uVar53;
                              }
                              else {
                                iVar10 = strncmp((char *)local_244,"LEVEL:",6);
                                if ((iVar10 == 0) && (local_1c2c == 0)) {
                                  _mbsnbcpy_s(local_454,0x100,local_244 + 6,0xfa);
                                  sscanf_s((char *)local_454,"%u",&local_1c00);
                                  if ((int)local_1c00 < 1) {
                                    local_1c00 = (ushort *)0x1;
                                    *(undefined2 *)((int)&DAT_0047cf54 + local_1c04) = 1;
                                  }
                                  else {
                                    if (999 < (int)local_1c00) {
                                      local_1c00 = (ushort *)0x3e7;
                                    }
                                    *(short *)((int)&DAT_0047cf54 + local_1c04) = (short)local_1c00 ;
                                  }
                                }
                                else {
                                  iVar10 = strncmp((char *)local_244,"COURSE:",7);
                                  if ((iVar10 == 0) && (local_1c2c == 0)) {
                                    local_1c00 = (ushort *)0xff;
                                    local_1c10 = 0xff;
                                    if (local_1c4c != 0) {
                                      local_1c64 = (uint)local_1bf8[0x23e3a9];
                                    }
                                    local_1bf8[0x23e3a9] = (ushort)local_1c64;
                                    local_1c4c = 0;
                                    _mbsnbcpy_s(local_454,0x100,local_244 + 7,0xfa);
                                    sscanf_s((char *)local_454,"%u",&local_1c00);
                                    iVar10 = (*pcVar41)(local_454,0x45);
                                    if (iVar10 == 0) {
                                      iVar10 = (*pcVar41)(local_454,0x65);
                                      if (iVar10 != 0) {
                                        pcVar13 = (char *)(*pcVar41)(local_454,0x65);
                                        strcpy_s((char *)&local_654,0x200,pcVar13);
                                        iVar10 = _mbsnbcmp(&local_654,(uchar *)"easy",4);
                                        if (iVar10 != 0) {
                                          pcVar13 = "edit";
                                          goto LAB_0040473e;
                                        }
                                        goto LAB_00404724;
                                      }
                                    }
                                    else {
                                      pcVar13 = (char *)(*pcVar41)(local_454,0x45);
                                      strcpy_s((char *)&local_654,0x200,pcVar13);
                                      iVar10 = _mbsnbcmp(&local_654,(uchar *)"Easy",4);
                                      if ((iVar10 == 0) ||
                                         (iVar10 = _mbsnbcmp(&local_654,(uchar *)"EASY",4),
                                         iVar10 == 0)) {
LAB_00404724:
                                        local_1c10 = 0;
                                      }
                                      else {
                                        iVar10 = _mbsnbcmp(&local_654,(uchar *)"Edit",4);
                                        if (iVar10 != 0) {
                                          pcVar13 = "EDIT";
LAB_0040473e:
                                          iVar10 = _mbsnbcmp(&local_654,(uchar *)pcVar13,4);
                                          if (iVar10 != 0) goto LAB_00404751;
                                        }
                                        local_1c10 = 4;
                                      }
                                    }
LAB_00404751:
                                    iVar10 = (*pcVar41)(local_454,0x4e);
                                    if (iVar10 == 0) {
                                      iVar10 = (*pcVar41)(local_454,0x6e);
                                      pcVar42 = strcpy_s_exref;
                                      if (iVar10 != 0) {
                                        pcVar13 = (char *)(*pcVar41)(local_454,0x6e);
                                        pcVar42 = strcpy_s_exref;
                                        strcpy_s((char *)&local_654,0x200,pcVar13);
                                        iVar10 = _mbsnbcmp(&local_654,(uchar *)"normal",6);
                                        if (iVar10 == 0) {
                                          local_1c10 = 1;
                                        }
                                      }
                                    }
                                    else {
                                      pcVar13 = (char *)(*pcVar41)(local_454,0x4e);
                                      pcVar42 = strcpy_s_exref;
                                      strcpy_s((char *)&local_654,0x200,pcVar13);
                                      iVar10 = _mbsnbcmp(&local_654,(uchar *)"Normal",6);
                                      if ((iVar10 == 0) ||
                                         (iVar10 = _mbsnbcmp(&local_654,(uchar *)"NORMAL",6),
                                         iVar10 == 0)) {
                                        local_1c10 = 1;
                                      }
                                    }
                                    iVar10 = (*pcVar41)(local_454,0x48);
                                    if (iVar10 == 0) {
                                      iVar10 = (*pcVar41)(local_454,0x68);
                                      if (iVar10 != 0) {
                                        uVar16 = (*pcVar41)(local_454,0x68);
                                        (*pcVar42)(&local_654,0x200,uVar16);
                                        pcVar13 = "hard";
                                        goto LAB_004048b1;
                                      }
                                    }
                                    else {
                                      uVar16 = (*pcVar41)(local_454,0x48);
                                      (*pcVar42)(&local_654,0x200,uVar16);
                                      iVar10 = _mbsnbcmp(&local_654,(uchar *)"Hard",4);
                                      if (iVar10 != 0) {
                                        pcVar13 = "HARD";
LAB_004048b1:
                                        iVar10 = _mbsnbcmp(&local_654,(uchar *)pcVar13,4);
                                        if (iVar10 != 0) goto LAB_004048c4;
                                      }
                                      local_1c10 = 2;
                                    }
LAB_004048c4:
                                    iVar10 = (*pcVar41)(local_454,0x4f);
                                    if (iVar10 == 0) {
                                      iVar10 = (*pcVar41)(local_454,0x6f);
                                      if (iVar10 != 0) {
                                        uVar16 = (*pcVar41)(local_454,0x6f);
                                        (*pcVar42)(&local_654,0x200,uVar16);
                                        pcVar13 = "oni";
                                        goto LAB_00404957;
                                      }
                                    }
                                    else {
                                      uVar16 = (*pcVar41)(local_454,0x4f);
                                      (*pcVar42)(&local_654,0x200,uVar16);
                                      iVar10 = _mbsnbcmp(&local_654,(uchar *)"Oni",3);
                                      if (iVar10 != 0) {
                                        pcVar13 = "ONI";
LAB_00404957:
                                        iVar10 = _mbsnbcmp(&local_654,(uchar *)pcVar13,3);
                                        if (iVar10 != 0) goto LAB_0040496a;
                                      }
                                      local_1c10 = 3;
                                    }
LAB_0040496a:
                                    iVar10 = (*pcVar41)(local_454,0x74);
                                    if (iVar10 == 0) {
                                      iVar10 = (*pcVar41)(local_454,0x54);
                                      if (iVar10 != 0) {
                                        uVar16 = (*pcVar41)(local_454,0x54);
                                        (*pcVar42)(&local_654,0x200,uVar16);
                                        iVar10 = _mbsnbcmp(&local_654,(uchar *)"Tower",5);
                                        if (iVar10 != 0) {
                                          pcVar13 = "TOWER";
                                          goto LAB_004049a7;
                                        }
                                        goto LAB_004049b0;
                                      }
                                    }
                                    else {
                                      uVar16 = (*pcVar41)(local_454,0x74);
                                      (*pcVar42)(&local_654,0x200,uVar16);
                                      pcVar13 = "tower";
LAB_004049a7:
                                      iVar10 = _mbsnbcmp(&local_654,(uchar *)pcVar13,5);
                                      if (iVar10 == 0) {
LAB_004049b0:
                                        local_1c10 = 5;
                                      }
                                    }
                                    if (local_1c00 < (ushort *)0x6) {
                                      if ((short)local_1c10 == 0xff) {
                                        local_1c10 = (uint)local_1c00 & 0xffff;
                                      }
                                    }
                                    else if ((short)local_1c10 == 0xff) {
                                      local_1c10 = 3;
                                    }
                                  }
                                  else {
                                    iVar10 = strncmp((char *)local_244,"STYLE:",6);
                                    if ((iVar10 == 0) && (local_1c2c == 0)) {
                                      *(undefined2 *)((int)&DAT_0047cf60 + local_1c04) = 0;
                                      local_1c00 = (ushort *)0xff;
                                      _mbsnbcpy_s(local_454,0x100,local_244 + 6,0xfa);
                                      sscanf_s((char *)local_454,"%u",&local_1c00);
                                      iVar10 = (*pcVar41)(local_244 + 6,0x73);
                                      if (iVar10 == 0) {
                                        iVar10 = (*pcVar41)(local_244 + 6,0x53);
                                        if (iVar10 != 0) {
                                          pcVar13 = (char *)(*pcVar41)(local_244 + 6,0x53);
                                          strcpy_s((char *)&local_654,0x200,pcVar13);
                                          iVar10 = _mbsnbcmp(&local_654,(uchar *)"Single",6);
                                          if (iVar10 != 0) {
                                            pcVar13 = "SINGLE";
                                            goto LAB_00404b64;
                                          }
                                          goto LAB_00404b6d;
                                        }
                                      }
                                      else {
                                        pcVar13 = (char *)(*pcVar41)(local_244 + 6,0x73);
                                        strcpy_s((char *)&local_654,0x200,pcVar13);
                                        pcVar13 = "single";
LAB_00404b64:
                                        iVar10 = _mbsnbcmp(&local_654,(uchar *)pcVar13,6);
                                        if (iVar10 == 0) {
LAB_00404b6d:
                                          local_1c3c = 1;
                                        }
                                      }
                                      iVar10 = (*pcVar41)(local_244 + 6,100);
                                      if (iVar10 == 0) {
                                        iVar10 = (*pcVar41)(local_244 + 6,0x44);
                                        pcVar42 = strcpy_s_exref;
                                        if (iVar10 != 0) {
                                          pcVar13 = (char *)(*pcVar41)(local_244 + 6,0x44);
                                          pcVar42 = strcpy_s_exref;
                                          strcpy_s((char *)&local_654,0x200,pcVar13);
                                          iVar10 = _mbsnbcmp(&local_654,(uchar *)"Double",6);
                                          if ((iVar10 == 0) ||
                                             (iVar10 = _mbsnbcmp(&local_654,(uchar *)"DOUBLE",6),
                                             iVar10 == 0)) {
                                            local_1c3c = 2;
                                          }
                                        }
                                      }
                                      else {
                                        pcVar13 = (char *)(*pcVar41)(local_244 + 6,100);
                                        pcVar42 = strcpy_s_exref;
                                        strcpy_s((char *)&local_654,0x200,pcVar13);
                                        iVar10 = _mbsnbcmp(&local_654,(uchar *)"double",6);
                                        if (iVar10 == 0) {
                                          local_1c3c = 2;
                                        }
                                      }
                                      iVar10 = (*pcVar41)(local_244 + 6,99);
                                      if (iVar10 == 0) {
                                        iVar10 = (*pcVar41)(local_244 + 6,0x43);
                                        if (iVar10 != 0) {
                                          uVar16 = (*pcVar41)(local_244 + 6,0x43);
                                          (*pcVar42)(&local_654,0x200,uVar16);
                                          iVar10 = _mbsnbcmp(&local_654,(uchar *)"Couple",6);
                                          if (iVar10 != 0) {
                                            pcVar13 = "COUPLE";
                                            goto LAB_00404cd2;
                                          }
                                          goto LAB_00404cdb;
                                        }
                                      }
                                      else {
                                        uVar16 = (*pcVar41)(local_244 + 6,99);
                                        (*pcVar42)(&local_654,0x200,uVar16);
                                        pcVar13 = "couple";
LAB_00404cd2:
                                        iVar10 = _mbsnbcmp(&local_654,(uchar *)pcVar13,6);
                                        if (iVar10 == 0) {
LAB_00404cdb:
                                          local_1c3c = 2;
                                        }
                                      }
                                      if ((int)local_1c00 - 1U < 2) {
                                        local_1c3c = (uint)local_1c00 & 0xffff;
                                      }
                                    }
                                    else {
                                      iVar10 = strncmp((char *)local_244,"BALLOON:",8);
                                      if ((iVar10 == 0) &&
                                         ((local_1c2c == 0 &&
                                          ((*(ushort *)((int)&DAT_0047cf56 + local_1c04) ==
                                            (ushort)local_1c10 || (200 < (ushort)local_1c10)))))) {
                                        _mbsnbcpy_s(&local_1454,0x100,local_244 + 8,0xfa);
                                        strcat_s((char *)&local_1454,0x100,",");
                                      }
                                      else {
                                        iVar10 = strncmp((char *)local_244,"SONGVOL:",8);
                                        if ((iVar10 == 0) && (local_1c2c == 0)) {
                                          _mbsnbcpy_s(local_454,0x100,local_244 + 8,0xfa);
                                          sscanf_s((char *)local_454,"%u",&local_1c00);
                                          puVar30 = (ushort *)0x1388;
                                          if ((int)local_1c00 < 0x1389) {
                                            puVar30 = local_1c00;
                                          }
                                          local_1bec = CONCAT44(local_1c00,(int)local_1bec);
                                          _DAT_0047cb30 = (double)(int)local_1c00;
                                          *(short *)((int)&DAT_0047cef4 + local_1c04) =
                                               (short)puVar30;
                                          if ((int)local_1c00 < 0) {
                                            _DAT_0047cb30 = _DAT_0047cb30 + 4294967296.0;
                                          }
                                          _DAT_0047cb30 = _DAT_0047cb30 / 100.0;
                                        }
                                        else {
                                          iVar10 = strncmp((char *)local_244,"SEVOL:",6);
                                          if ((iVar10 == 0) && (local_1c2c == 0)) {
                                            _mbsnbcpy_s(local_454,0x100,local_244 + 6,0xfa);
                                            sscanf_s((char *)local_454,"%u",&local_1c00);
                                            puVar30 = local_1c00;
                                            if (5000 < (int)local_1c00) {
                                              puVar30 = (ushort *)0x1388;
                                            }
                                            *(short *)((int)&DAT_0047cef6 + local_1c04) =
                                                 (short)puVar30;
                                          }
                                          else {
                                            iVar10 = strncmp((char *)local_244,"SCOREMODE:",10);
                                            if ((iVar10 == 0) && (local_1c2c == 0)) {
                                              _mbsnbcpy_s(local_454,0x100,local_244 + 10,0xfa);
                                              sscanf_s((char *)local_454,"%u",&local_1c00);
                                              local_1bf8[0x23e3a9] = (ushort)local_1c00;
                                              if (2 < (ushort)local_1c00) {
                                                local_1bf8[0x23e3a9] = 1;
                                              }
                                            }
                                            else {
                                              iVar10 = strncmp((char *)local_244,"SCOREINIT:",10);
                                              if ((iVar10 == 0) && (local_1c2c == 0)) {
                                                iVar10 = 0;
                                                local_1c7c = 0;
                                                local_1c00 = NULL;
                                                _mbsnbcpy_s(local_454,0x100,local_244 + 10,0xfa);
                                                strcpy_s(local_1654,0x200,"");
                                                puVar14 = local_454;
                                                do {
                                                  uVar40 = *puVar14;
                                                  puVar14 = puVar14 + 1;
                                                } while (uVar40 != '\0');
                                                if (puVar14 != local_454 + 1 &&
                                                    -1 < (int)puVar14 - (int)(local_454 + 1)) {
                                                  do {
                                                    uVar40 = local_454[iVar10];
                                                    if (((uVar40 == ',') || (uVar40 == '\0')) ||
                                                       (uVar40 == '/')) break;
                                                    strcat_s(local_1654,0x200,
                                                             (char *)(local_454 + iVar10));
                                                    puVar14 = local_454;
                                                    iVar10 += 1;
                                                    do {
                                                      uVar40 = *puVar14;
                                                      puVar14 = puVar14 + 1;
                                                    } while (uVar40 != '\0');
                                                  } while (iVar10 < (int)puVar14 -
                                                                    (int)(local_454 + 1));
                                                }
                                                sscanf_s(local_1654,"%u",&local_1c00);
                                                iVar10 = (*pcVar41)(local_244 + 10,0x2c);
                                                if (iVar10 != 0) {
                                                  pcVar13 = (char *)(*pcVar41)(local_244 + 10,0x2c) ;
                                                  strcpy_s((char *)local_454,0x200,pcVar13);
                                                  strcpy_s(local_1654,0x200,"");
                                                  puVar14 = local_454;
                                                  iVar10 = 1;
                                                  do {
                                                    uVar40 = *puVar14;
                                                    puVar14 = puVar14 + 1;
                                                  } while (uVar40 != '\0');
                                                  if (1 < (int)puVar14 - (int)(local_454 + 1)) {
                                                    do {
                                                      uVar40 = local_454[iVar10];
                                                      if (((uVar40 == ',') || (uVar40 == '\0')) ||
                                                         (uVar40 == '/')) break;
                                                      strcat_s(local_1654,0x200,
                                                               (char *)(local_454 + iVar10));
                                                      puVar14 = local_454;
                                                      iVar10 += 1;
                                                      do {
                                                        uVar40 = *puVar14;
                                                        puVar14 = puVar14 + 1;
                                                      } while (uVar40 != '\0');
                                                    } while (iVar10 < (int)puVar14 -
                                                                      (int)(local_454 + 1));
                                                  }
                                                  sscanf_s(local_1654,"%u",&local_1c7c);
                                                }
                                                iVar10 = (*pcVar41)(local_454,100);
                                                if ((iVar10 != 0) ||
                                                   (iVar10 = (*pcVar41)(local_454,0x44), iVar10 != 0
                                                   )) {
                                                  local_1bf8[0x23e3a9] = 0;
                                                }
                                                iVar10 = ((uint)local_1c00 / 10) * 10;
                                                *(int *)(local_1bf8 + 0x23e3c2) = iVar10;
                                                *(int *)(local_1bf8 + 0x23e3aa) = iVar10;
                                                *(uint *)(local_1bf8 + 0x23e3ae) =
                                                     (local_1c7c / 10) * 10;
                                              }
                                              else {
                                                iVar10 = strncmp((char *)local_244,"SCOREDIFF:",10) ;
                                                if ((iVar10 == 0) && (local_1c2c == 0)) {
                                                  local_1c00 = NULL;
                                                  _mbsnbcpy_s(local_454,0x100,local_244 + 10,0xfa) ;
                                                  sscanf_s((char *)local_454,"%u",&local_1c00);
                                                  if (local_1c00 == NULL) {
                                                    uVar43 = 0;
                                                    while( true ) {
                                                      uVar40 = local_454[uVar43];
                                                      if (uVar40 == '0') {
                                                        DAT_0047e2b4 = 1;
                                                        goto LAB_00405214;
                                                      }
                                                      if (('0' < (char)uVar40) &&
                                                         ((char)uVar40 < ':')) break;
                                                      if ((uVar40 == '\0') ||
                                                         (uVar43 += 1, 0x1ff < uVar43))
                                                      goto LAB_00405214;
                                                    }
                                                    DAT_0047e2b4 = 0;
                                                  }
LAB_00405214:
                                                  iVar10 = (*pcVar41)(local_454,100);
                                                  if ((iVar10 == 0) &&
                                                     (iVar10 = (*pcVar41)(local_454,0x44),
                                                     iVar10 == 0)) {
                                                    *(ushort **)(local_1bf8 + 0x23e3c4) = local_1c0 0
                                                    ;
                                                    *(ushort **)(local_1bf8 + 0x23e3ac) = local_1c0 0
                                                    ;
                                                  }
                                                  else {
                                                    local_1bf8[0x23e3a9] = 0;
                                                    *(ushort **)(local_1bf8 + 0x23e3c4) = local_1c0 0
                                                    ;
                                                    *(ushort **)(local_1bf8 + 0x23e3ac) = local_1c0 0
                                                    ;
                                                  }
                                                }
                                                else {
                                                  iVar10 = strncmp((char *)local_244,"TOTAL:",6);
                                                  if ((iVar10 == 0) && (local_1c2c == 0)) {
                                                    _mbsnbcpy_s(&local_654,0x100,local_244 + 6,0xfa )
                                                    ;
                                                    sscanf_s((char *)&local_654,"%f",&local_1c78);
                                                  }
                                                  else {
                                                    iVar10 = strncmp((char *)local_244,"GAME:",5);
                                                    if ((iVar10 == 0) && (local_1c2c == 0)) {
                                                      *(undefined2 *)
                                                       ((int)&DAT_0047cec8 + local_1c04) = 0;
                                                      iVar10 = (*pcVar41)(local_244 + 5,0x74);
                                                      if (iVar10 == 0) {
                                                        iVar10 = (*pcVar41)(local_244 + 5,0x54);
                                                        pcVar42 = strcpy_s_exref;
                                                        if (iVar10 != 0) {
                                                          pcVar13 = (char *)(*pcVar41)(local_244 + 5
                                                                                       ,0x54);
                                                          pcVar42 = strcpy_s_exref;
                                                          strcpy_s((char *)&local_654,0x200,pcVar13 )
                                                          ;
                                                          iVar10 = _mbsnbcmp(&local_654,
                                                                             (uchar *)"Taiko",5);
                                                          if ((iVar10 == 0) ||
                                                             (iVar10 = _mbsnbcmp(&local_654,
                                                                                 (uchar *)"TAIKO",5 )
                                                             , iVar10 == 0)) {
                                                            *(undefined2 *)
                                                             ((int)&DAT_0047cec8 + local_1c04) = 0;
                                                          }
                                                        }
                                                      }
                                                      else {
                                                        pcVar13 = (char *)(*pcVar41)(local_244 + 5,
                                                                                     0x74);
                                                        pcVar42 = strcpy_s_exref;
                                                        strcpy_s((char *)&local_654,0x200,pcVar13);
                                                        iVar10 = _mbsnbcmp(&local_654,
                                                                           (uchar *)"taiko",5);
                                                        if (iVar10 == 0) {
                                                          *(undefined2 *)
                                                           ((int)&DAT_0047cec8 + local_1c04) = 0;
                                                        }
                                                      }
                                                      iVar10 = (*pcVar41)(local_244 + 5,0x6a);
                                                      if (iVar10 == 0) {
                                                        iVar10 = (*pcVar41)(local_244 + 5,0x4a);
                                                        if (iVar10 != 0) {
                                                          uVar16 = (*pcVar41)(local_244 + 5,0x4a);
                                                          (*pcVar42)(&local_654,0x200,uVar16);
                                                          iVar10 = _mbsnbcmp(&local_654,
                                                                             (uchar *)"Jube",4);
                                                          if ((iVar10 == 0) ||
                                                             (iVar10 = _mbsnbcmp(&local_654,
                                                                                 (uchar *)"JUBE",4) ,
                                                             iVar10 == 0)) {
                                                            *(undefined2 *)
                                                             ((int)&DAT_0047cec8 + local_1c04) = 1;
                                                          }
                                                        }
                                                      }
                                                      else {
                                                        uVar16 = (*pcVar41)(local_244 + 5,0x6a);
                                                        (*pcVar42)(&local_654,0x200,uVar16);
                                                        iVar10 = _mbsnbcmp(&local_654,
                                                                           (uchar *)"jube",4);
                                                        if (iVar10 == 0) {
                                                          *(undefined2 *)
                                                           ((int)&DAT_0047cec8 + local_1c04) = 1;
                                                        }
                                                      }
                                                      iVar10 = (*pcVar41)(local_244 + 5,0x62);
                                                      if (iVar10 == 0) {
                                                        iVar10 = (*pcVar41)(local_244 + 5,0x42);
                                                        if (iVar10 != 0) {
                                                          pcVar13 = (char *)(*pcVar41)(local_244 + 5
                                                                                       ,0x42);
                                                          strcpy_s((char *)&local_654,0x200,pcVar13 )
                                                          ;
                                                          iVar10 = _mbsnbcmp(&local_654,
                                                                             (uchar *)"Bm",2);
                                                          if ((iVar10 == 0) ||
                                                             (iVar10 = _mbsnbcmp(&local_654,
                                                                                 (uchar *)"BM",2),
                                                             iVar10 == 0)) {
                                                            *(undefined2 *)
                                                             ((int)&DAT_0047cec8 + local_1c04) = 2;
                                                          }
                                                        }
                                                      }
                                                      else {
                                                        uVar16 = (*pcVar41)(local_244 + 5,0x62);
                                                        (*pcVar42)(&local_654,0x200,uVar16);
                                                        iVar10 = _mbsnbcmp(&local_654,(uchar *)"bm" ,
                                                                           2);
                                                        if (iVar10 == 0) {
                                                          *(undefined2 *)
                                                           ((int)&DAT_0047cec8 + local_1c04) = 2;
                                                        }
                                                      }
                                                    }
                                                    else {
                                                      puVar30 = (ushort *)
                                                                strncmp((char *)local_244,"LIFE:",5 )
                                                      ;
                                                      if (((puVar30 == NULL) && (local_1c2c == 0))
                                                         && (DAT_0047e2d4 == 0)) {
                                                        local_1c00 = puVar30;
                                                        _mbsnbcpy_s(local_454,0x100,local_244 + 5,
                                                                    0xfa);
                                                        sscanf_s((char *)local_454,"%u",&local_1c00 )
                                                        ;
                                                        local_1bf8[0x23e48a] = (ushort)local_1c00;
                                                      }
                                                    }
                                                  }
                                                }
                                              }
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
            pcVar13 = fgets((char *)local_244,0x200,local_1c48);
            pcVar41 = _mbschr_exref;
          }
          fclose(local_1c48);
          iVar10 = local_1c04;
          iVar15 = 0;
          puVar30 = (ushort *)((int)&DAT_0047cef8 + local_1c04);
          do {
            if (local_1684[iVar15 + 6] == 1) {
              *puVar30 = *puVar30 + 1;
            }
            puVar30[6] = (puVar30[3] + *puVar30) - 1;
            if (*puVar30 < 3) {
              *puVar30 = 3;
            }
            iVar15 += 1;
            puVar30 = puVar30 + 1;
          } while (iVar15 < 3);
          if (DAT_0047e2c8 == 1) {
            if ((int)UINT_ARRAY_004642cc[*(ushort *)((int)&DAT_0047cf56 + local_1c04)] <
                (int)(uint)*(ushort *)((int)&DAT_0047cf54 + local_1c04)) {
              strcat_s(&local_f54,0x200," Level :");
              strcat_s(&local_f54,0x200,_Src_0047e184);
              sprintf_s((char *)local_244,0x200,"x%hu",
                        (uint)*(ushort *)((int)&DAT_0047cf54 + iVar10));
              strcat_s(&local_f54,0x200,(char *)local_244);
            }
            else {
              strcat_s(&local_f54,0x200," Level :");
              iVar15 = 0;
              if (*(short *)((int)&DAT_0047cf54 + iVar10) != 0) {
                do {
                  strcat_s(&local_f54,0x200,_Src_0047e184);
                  iVar15 += 1;
                } while (iVar15 < (int)(uint)*(ushort *)((int)&DAT_0047cf54 + iVar10));
              }
              uVar43 = (uint)*(ushort *)((int)&DAT_0047cf54 + iVar10);
              if ((int)uVar43 < (int)UINT_ARRAY_004642cc[*(ushort *)((int)&DAT_0047cf56 + iVar10)] )
              {
                do {
                  strcat_s(&local_f54,0x200,_Src_0047e188);
                  uVar43 += 1;
                } while ((int)uVar43 <
                         (int)UINT_ARRAY_004642cc[*(ushort *)((int)&DAT_0047cf56 + iVar10)]);
              }
            }
          }
          else if (local_1be4 == (ushort *)0x1) {
            strcat_s(&local_f54,0x200," Level :");
            strcat_s(&local_f54,0x200,_Src_0047e184);
            sprintf_s((char *)local_244,0x200,"x%hu/%hu",(uint)DAT_0047cf54,(uint)DAT_0047d314);
            strcat_s(&local_f54,0x200,(char *)local_244);
          }
          SetWindowTextA(HWND_0047de30,&local_f54);
          *(undefined2 *)((int)&DAT_0047cefe + iVar10) = 0;
          *(undefined2 *)(&DAT_0047cf16 + iVar10) = 0;
          *(undefined2 *)((int)&DAT_0047cf26 + iVar10) = 0;
          *(undefined2 *)((int)&DAT_0047cf32 + iVar10) = 0;
          *(undefined2 *)((int)&DAT_0047cf3e + iVar10) = 0;
          if (local_1be4 == (ushort *)0x1) {
            _DAT_0047d2be = DAT_0047cefc + _DAT_0047cf02;
          }
          (&DAT_0047cf00)[(int)local_1bf8] =
               (&DAT_0047cefe)[(int)local_1bf8] + (&DAT_0047cef8)[(int)local_1bf8];
          *(short *)(&DAT_0047cf18 + (int)local_1bf8 * 2) =
               *(short *)(&DAT_0047cf16 + (int)local_1bf8 * 2) +
               *(short *)(&DAT_0047cf10 + (int)local_1bf8 * 2);
          (&DAT_0047cf28)[(int)local_1bf8] =
               (&DAT_0047cf26)[(int)local_1bf8] + (&DAT_0047cf20)[(int)local_1bf8];
          (&DAT_0047cf34)[(int)local_1bf8] =
               (&DAT_0047cf2c)[(int)local_1bf8] + (&DAT_0047cf32)[(int)local_1bf8];
          (&DAT_0047cf40)[(int)local_1bf8] =
               (&DAT_0047cf38)[(int)local_1bf8] + (&DAT_0047cf3e)[(int)local_1bf8];
          *(ushort *)(&DAT_0047cf02 + (int)local_1bf8 * 2) =
               (&DAT_0047cefa)[(int)local_1bf8] + (&DAT_0047cf00)[(int)local_1bf8];
          *(short *)(&DAT_0047cf1a + (int)local_1bf8 * 2) =
               *(short *)(&DAT_0047cf12 + (int)local_1bf8 * 2) +
               *(short *)(&DAT_0047cf18 + (int)local_1bf8 * 2);
          *(undefined2 *)(&DAT_0047cf2a + (int)local_1bf8 * 2) =
               (&DAT_0047cf22)[(int)local_1bf8] + (&DAT_0047cf28)[(int)local_1bf8];
          *(undefined2 *)(&DAT_0047cf36 + (int)local_1bf8 * 2) =
               (&DAT_0047cf2e)[(int)local_1bf8] + (&DAT_0047cf34)[(int)local_1bf8];
          *(undefined2 *)(&DAT_0047cf42 + (int)local_1bf8 * 2) =
               (&DAT_0047cf3a)[(int)local_1bf8] + (&DAT_0047cf40)[(int)local_1bf8];
          *(uint *)((int)&DAT_0047cf64 + iVar10) =
               (uint)(*(short *)((int)&DAT_0047cf1c + iVar10) != 0) * 2 + 1;
          pcVar13 = local_955 + 1;
          do {
            cVar5 = *pcVar13;
            pcVar13 = pcVar13 + 1;
          } while (cVar5 != '\0');
          *(short *)((int)&local_1c50 + (int)local_1be4 * 2) =
               (short)pcVar13 - ((short)local_955 + 2);
          local_1be4 = (ushort *)((int)local_1be4 + 1);
          uVar22 = DAT_0047e2c8;
        } while ((int)local_1be4 < (int)(_DAT_0047e2c8 & 0xffff));
      }
      if ((DAT_0047d2cc <= DAT_0047cf0c) || (uVar22 == 1)) {
        DAT_0047d2cc = DAT_0047cf0c;
      }
      DAT_0047cf0c = DAT_0047d2cc;
      DAT_0047e2c4 = (int)calloc((uint)DAT_0047d2bc + (uint)DAT_0047d2ba + (uint)DAT_0047d2b8 +
                                 (uint)DAT_0047cefc + (uint)DAT_0047cefa + 1 + (uint)DAT_0047cef8,
                                 0x1c);
      DAT_0047b154 = (int)calloc((uint)DAT_0047cf0c,4);
      sVar17 = (_DAT_0047e2a0 >> 0x10) + (_DAT_0047e2a0 & 0xffff) + (_DAT_0047e29c >> 0x10) +
               (_DAT_0047e29c & 0xffff) + (_DAT_0047e298 >> 0x10) + (_DAT_0047e298 & 0xffff);
      if (sVar17 != 0) {
        local_1c70 = calloc(sVar17,2);
        strcpy_s((char *)local_454,0x200,"");
        pcVar13 = local_955;
        do {
          pcVar13 = pcVar13 + 1;
        } while (*pcVar13 != '\0');
        *pcVar13 = '\0';
        pcVar13 = local_955 + 1;
        do {
          cVar5 = *pcVar13;
          pcVar13 = pcVar13 + 1;
        } while (cVar5 != '\0');
        uVar43 = (int)pcVar13 - (int)(local_955 + 2);
        if ((1 < uVar43) && ((local_955[uVar43] < '0' || ('9' < local_955[uVar43])))) {
          local_955[uVar43] = '\0';
        }
        strcat_s(local_955 + 1,0x100,",");
        pcVar13 = local_955 + 1;
        local_1c34 = 0;
        local_1bf0 = 0;
        do {
          cVar5 = *pcVar13;
          pcVar13 = pcVar13 + 1;
        } while (cVar5 != '\0');
        if (0 < (int)(pcVar13 + (1 - (int)(local_955 + 2)))) {
          local_1c34._0_2_ = 0;
          uVar43 = local_1c30;
          uVar22 = (ushort)local_1c34;
          do {
            if (local_1bf0 == 0) {
              uVar43 = 0;
              iVar10 = 0;
              local_1c30 = 0;
              local_1be0 = 0;
              if (0 < DAT_0047cf64) {
                do {
                  puVar30 = (ushort *)(&DAT_0047e298 + iVar10);
                  iVar10 += 1;
                  uVar43 += *puVar30;
                } while (iVar10 < DAT_0047cf64);
                local_1c30 = uVar43;
              }
LAB_00405c66:
              if ((uVar22 == uVar43) &&
                 (uVar18 = (uint)*(ushort *)((int)&local_1c50 + local_1be0 * 2),
                 (int)local_1bf0 < (int)uVar18)) {
                local_1bf0 = uVar18;
                iVar10 = 3;
                if (3 < DAT_0047d324 + 3) {
                  do {
                    puVar30 = (ushort *)(&DAT_0047e298 + iVar10);
                    iVar10 += 1;
                    uVar43 += *puVar30;
                  } while (iVar10 < DAT_0047d324 + 3);
                  local_1c30 = uVar43;
                }
                local_1be0 = local_1be0 + 1;
              }
            }
            else {
              if (local_1bf0 == (local_1c50 & 0xffff)) {
                if ((int)(uint)uVar22 < (int)uVar43) {
                  iVar10 = local_1c30 - uVar22;
                  do {
                    local_1c34 += 1;
                    uVar43 = local_1c34;
                    iVar10 += -1;
                    *(undefined2 *)((int)local_1c70 + (uint)uVar22 * 2) = 5;
                    uVar22 = (ushort)local_1c34;
                    local_1c34 = uVar43;
                  } while (iVar10 != 0);
                }
                iVar10 = 3;
                if (3 < DAT_0047d324 + 3) {
                  do {
                    puVar30 = (ushort *)(&DAT_0047e298 + iVar10);
                    iVar10 += 1;
                    local_1c30 += *puVar30;
                  } while (iVar10 < DAT_0047d324 + 3);
                }
                local_1be0 = 1;
                uVar43 = local_1c30;
                goto LAB_00405c66;
              }
              if ((int)local_1be0 < 2) goto LAB_00405c66;
            }
            cVar5 = local_955[local_1bf0 + 1];
            if (cVar5 == '\0') break;
            if ((cVar5 < '0') || ('9' < cVar5)) {
              if ((cVar5 == ',') && (local_454[0] != '\0')) {
                sscanf_s((char *)local_454,"%u",&local_1c00);
                local_1c34 += 1;
                *(ushort *)((int)local_1c70 + (uint)uVar22 * 2) = (ushort)local_1c00;
                strcpy_s((char *)local_454,0x200,"");
                uVar22 = (ushort)local_1c34;
              }
            }
            else {
              strncat_s((char *)local_454,0x200,local_955 + local_1bf0 + 1,1);
            }
            local_1bf0 += 1;
            pcVar13 = local_955 + 1;
            do {
              cVar5 = *pcVar13;
              pcVar13 = pcVar13 + 1;
            } while (cVar5 != '\0');
          } while ((int)local_1bf0 < (int)(pcVar13 + (1 - (int)(local_955 + 2))));
        }
        local_1c34 = 0;
        uVar22 = DAT_0047e2c8;
      }
      local_1be4 = NULL;
      if (uVar22 != 0) {
        do {
          puVar30 = local_1be4;
          iVar10 = (int)local_1be4 * 0x3c0;
          local_1c04 = iVar10;
          pvVar19 = calloc((uint)(ushort)(&DAT_0047cf0a)[(int)local_1be4 * 0x1e0],0x20);
          (&DAT_0047cecc)[(int)puVar30 * 0xf0] = (int)pvVar19;
          pvVar19 = calloc((uint)(ushort)(&DAT_0047cf0a)[(int)puVar30 * 0x1e0],4);
          (&DAT_0047cef0)[(int)puVar30 * 0xf0] = pvVar19;
          pvVar19 = calloc((uint)*(ushort *)(&DAT_0047cf0e + iVar10),0x10);
          (&DAT_0047ced0)[(int)puVar30 * 0xf0] = pvVar19;
          pvVar19 = calloc((uint)*(ushort *)(&DAT_0047cf12 + iVar10) +
                           (uint)*(ushort *)(&DAT_0047cf14 + iVar10) +
                           (uint)*(ushort *)(&DAT_0047cf10 + iVar10),8);
          (&DAT_0047ced4)[(int)puVar30 * 0xf0] = pvVar19;
          pvVar19 = calloc((uint)(ushort)(&DAT_0047cf22)[(int)puVar30 * 0x1e0] +
                           (uint)*(ushort *)(&DAT_0047cf24 + iVar10) +
                           (uint)(ushort)(&DAT_0047cf20)[(int)puVar30 * 0x1e0],0x18);
          (&DAT_0047ced8)[(int)puVar30 * 0xf0] = pvVar19;
          if ((&DAT_0047cf1c)[(int)puVar30 * 0x1e0] != 0) {
            pvVar19 = calloc((uint)(ushort)(&DAT_0047cf1c)[(int)puVar30 * 0x1e0],0x28);
            (&DAT_0047cee0)[(int)puVar30 * 0xf0] = pvVar19;
          }
          pvVar19 = calloc((uint)*(ushort *)(&DAT_0047cf1e + iVar10),4);
          (&DAT_0047ceec)[(int)puVar30 * 0xf0] = pvVar19;
          sVar17 = (uint)(ushort)(&DAT_0047cf2c)[(int)puVar30 * 0x1e0] +
                   (uint)(ushort)(&DAT_0047cf2e)[(int)puVar30 * 0x1e0] +
                   (uint)(ushort)(&DAT_0047cf30)[(int)puVar30 * 0x1e0];
          if (sVar17 != 0) {
            pvVar19 = calloc(sVar17,0x18);
            (&DAT_0047cedc)[(int)puVar30 * 0xf0] = pvVar19;
          }
          if (*(ushort *)(&DAT_0047cf44 + iVar10) != 0) {
            pvVar19 = calloc((uint)*(ushort *)(&DAT_0047cf44 + iVar10),0x10);
            (&DAT_0047cee8)[(int)puVar30 * 0xf0] = pvVar19;
          }
          sVar17 = (uint)*(ushort *)(&DAT_0047cf3c + iVar10) +
                   (uint)(ushort)(&DAT_0047cf3a)[(int)puVar30 * 0x1e0] +
                   (uint)(ushort)(&DAT_0047cf38)[(int)puVar30 * 0x1e0];
          if (sVar17 != 0) {
            pvVar19 = calloc(sVar17,8);
            (&DAT_0047cee4)[(int)puVar30 * 0xf0] = pvVar19;
          }
          iVar15 = 0;
          *(undefined4 *)(&DAT_0047cecc)[(int)puVar30 * 0xf0] = 0;
          *(undefined8 *)((&DAT_0047cecc)[(int)puVar30 * 0xf0] + 8) = local_1c94;
          *(undefined2 *)((&DAT_0047cecc)[(int)puVar30 * 0xf0] + 0x14) = 4;
          *(undefined2 *)((&DAT_0047cecc)[(int)puVar30 * 0xf0] + 0x12) = 0;
          *(undefined2 *)((&DAT_0047cecc)[(int)puVar30 * 0xf0] + 0x10) = 1;
          *(undefined2 *)(&DAT_0047ced0)[(int)puVar30 * 0xf0] = 1;
          *(undefined8 *)((&DAT_0047ced0)[(int)puVar30 * 0xf0] + 8) = 0x3ff0000000000000;
          if ((puVar30 == (ushort *)0x1) && (local_1c34 = 0, 0 < DAT_0047cf64)) {
            uVar22 = 0;
            do {
              uVar22 += (&DAT_0047e298)[iVar15];
              iVar15 += 1;
            } while (iVar15 < DAT_0047cf64);
            local_1c34 = (uint)uVar22;
          }
          local_1c24 = &DAT_0047cf64 + (int)puVar30 * 0xf0;
          local_1bf0 = 0;
          if (0 < (&DAT_0047cf64)[(int)puVar30 * 0xf0]) {
            local_1bf8 = (ushort *)((int)local_1be4 * 0x1e0);
            local_1c14 = (ushort *)(&DAT_0047cf48 + iVar10);
            local_1bf4 = local_1bf8 + 0x23e3e2;
            puVar39 = (ushort *)(&DAT_0047cf16 + iVar10);
            puVar26 = local_1bf8 + 0x23e45d;
            do {
              *(undefined4 *)((&DAT_0047ced8)[(int)puVar30 * 0xf0] + (uint)puVar39[8] * 0x18) = 0;
              *(undefined8 *)((&DAT_0047ced8)[(int)puVar30 * 0xf0] + 8 + (uint)puVar39[8] * 0x18) =
                   0x3ff0000000000000;
              local_1bf4[-0xffffffff00000006] = 0;
              local_1bf4[-0xffffffff00000005] = 0;
              local_1bf4[0] = 0;
              local_1bf4[1] = 0;
              puVar26[-0x75] = 0;
              local_1bf8[0x23e463] = 1;
              local_1bf8[0x23e459] = 0;
              *(undefined2 *)((&DAT_0047ced4)[(int)puVar30 * 0xf0] + (uint)*puVar39 * 8) = 0;
              *(undefined4 *)((&DAT_0047ced4)[(int)puVar30 * 0xf0] + 4 + (uint)*puVar39 * 8) = 1;
              local_1c14[0] = 0;
              local_1c14[1] = 0;
              local_1c14 = local_1c14 + 2;
              *puVar26 = 0;
              local_1bf0 += 1;
              local_1bf4 = local_1bf4 + 2;
              puVar39 = puVar39 + 1;
              puVar26 = puVar26 + 1;
            } while ((int)local_1bf0 < *local_1c24);
          }
          local_1c5c = 1.0;
          local_28 = 0;
          local_24 = 0;
          local_20 = 0;
          local_16e4[0] = 0;
          local_16e4[1] = 0;
          local_16e4[2] = 0;
          local_16e4[3] = 0;
          local_16e4[4] = 0;
          local_16e4[5] = 0;
          local_16b4 = 0.0;
          local_16ac = 0;
          local_16a8 = 0;
          local_16a4 = 0;
          local_16a0 = 0;
          local_169c = 0;
          local_1698 = 0;
          local_1694 = 0;
          local_1690 = 0;
          local_168c = 0;
          local_1688 = 0;
          local_40 = 0;
          local_3c = 0;
          local_38 = 0;
          local_1684[6] = 0;
          local_1684[7] = 0;
          local_1684[8] = 0;
          local_1684[9] = 0;
          local_1684[10] = 0;
          local_1684[0xb] = 0;
          _DAT_0047e2a4 = 0;
          _DAT_0047e2a8 = 0;
          _DAT_0047e2ac = 0;
          local_1bfc = 0;
          local_1c40 = 0;
          local_1c4c = 0;
          local_1c54 = 0;
          local_1c50 = 0;
          local_1c64 = 0;
          local_1c08 = 0xff;
          local_1c30 = 0;
          local_1c1c = 0;
          local_1c3c = 0;
          local_1c10 = 0xff;
          local_1c2c = 0;
          strcpy_s(&_Dst_0047bb90,0x100,(char *)local_b54);
          fopen_s(&local_1c48,(char *)local_b54,"r");
          if (local_1c48 == NULL) {
            if (((_DAT_0047e2a0 >> 0x10) + (_DAT_0047e2a0 & 0xffff) + (_DAT_0047e29c >> 0x10) +
                 (_DAT_0047e29c & 0xffff) + (_DAT_0047e298 >> 0x10) + (_DAT_0047e298 & 0xffff) != 0)
               && (local_1c70 != NULL)) {
              free(local_1c70);
            }
            __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
            return;
          }
          local_1684[0] = 0;
          local_1684[1] = 0;
          local_1684[2] = 0;
          local_1684[3] = 0;
          local_1684[4] = 0;
          local_1684[5] = 0;
          local_1c = 0;
          local_18 = 0;
          local_14 = 0;
          _DAT_0047c764 &= 0xffff0000;
          local_1c44 = 1;
          pcVar13 = fgets((char *)local_244,0x200,local_1c48);
          iVar15 = local_1c54;
          while (local_1c54 = iVar15, pcVar13 != NULL) {
            puVar14 = local_244;
            do {
              puVar12 = puVar14;
              puVar14 = puVar12 + 1;
            } while (*puVar12 != '\0');
            *puVar12 = '\0';
            if (iVar15 == 1) {
              puVar14 = local_244;
              iVar15 = 0;
              do {
                uVar40 = *puVar14;
                puVar14 = puVar14 + 1;
              } while (uVar40 != '\0');
              if (puVar14 != local_244 + 1 && -1 < (int)puVar14 - (int)(local_244 + 1)) {
                do {
                  uVar40 = local_244[iVar15];
                  local_1be0 = CONCAT13(uVar40,(undefined3)local_1be0);
                  if (((('/' < (char)uVar40) && ((char)uVar40 < ':')) || (uVar40 == '#')) ||
                     ((uVar40 == ',' || (uVar40 == '/')))) {
LAB_00406355:
                    strcpy_s((char *)local_454,0x200,(char *)(local_244 + iVar15));
                    strcpy_s((char *)local_244,0x200,(char *)local_454);
                    break;
                  }
                  strcpy_s((char *)local_1154,0x200,"");
                  iVar20 = FUN_004385b0((char *)local_1154,local_1be0._3_1_);
                  if ((iVar20 == 0) && (*(short *)((int)&DAT_0047cec8 + iVar10) != 0))
                  goto LAB_00406355;
                  puVar14 = local_244;
                  iVar15 += 1;
                  do {
                    uVar40 = *puVar14;
                    puVar14 = puVar14 + 1;
                  } while (uVar40 != '\0');
                } while (iVar15 < (int)puVar14 - (int)(local_244 + 1));
              }
              iVar20 = strncmp((char *)&local_10,".tjf",4);
              if (iVar20 == 0) {
                iVar15 = strncmp((char *)local_244,"#",1);
                if ((iVar15 != 0) ||
                   (iVar15 = strncmp((char *)local_244,"#BPMCHANGE",10), iVar15 == 0)) {
                  iVar15 = local_1c44;
                  if (local_1c44 == 1) {
                    iVar15 = 0;
                    strcpy_s((char *)local_854,0x200,"");
                    local_1c84 = local_1c20 & 0xffff;
                    local_1c20 = 0;
                  }
                  iVar20 = strncmp((char *)local_244,"#BPMCHANGE",10);
                  if (iVar20 == 0) {
                    iVar20 = 1;
                    if (1 < *(ushort *)((int)&DAT_0047cf0a + iVar10)) {
                      pdVar27 = (double *)(*(int *)((int)&DAT_0047cecc + iVar10) + 0x28);
                      do {
                        if (NAN(*pdVar27) != (*pdVar27 == 0.0)) {
                          _mbsnbcpy_s(local_454,0x100,local_244 + 10,8);
                          sscanf_s((char *)local_454,"%lf",&local_1c6c);
                          *(double *)(iVar20 * 0x20 + 8 + *(int *)((int)&DAT_0047cecc + iVar10)) =
                               local_1c6c;
                          *(short *)(iVar20 * 0x20 + 0x10 + *(int *)((int)&DAT_0047cecc + iVar10))  =
                               (short)_DAT_0047c764 + 1;
                          strncat_s((char *)local_854,0x200,"#",1);
                          break;
                        }
                        iVar20 += 1;
                        pdVar27 = pdVar27 + 4;
                      } while (iVar20 < (int)(uint)*(ushort *)((int)&DAT_0047cf0a + iVar10));
                    }
                  }
                  local_1bf0 = 0;
                  do {
                    if (((short)local_1c20 == 0x10) && (iVar15 == 0)) {
                      strcat_s((char *)local_854,0x200,"");
                      piVar28 = (int *)((local_1c40 & 0xffff) * 0x20 +
                                       *(int *)((int)&DAT_0047cecc + iVar10));
                      iVar15 = 1;
                      local_1bec._0_4_ =
                           (int)(longlong)
                                ROUND((1.0 - (double)*(ushort *)((int)piVar28 + 0x12) /
                                             (double)*(ushort *)(piVar28 + 5)) * 4.0 *
                                      (60.0 / *(double *)(piVar28 + 2)) * 1000.0);
                      iVar20 = (int)local_1bec;
                      local_1be0 = CONCAT22(in_FPUControlWord,(undefined2)local_1be0);
                      local_1bf4 = (ushort *)(in_FPUControlWord | 0xc00);
                      local_1bec = (ulonglong)
                                   ROUND((60.0 / *(double *)(piVar28 + 2)) * 4.0 * 1000.0 *
                                         (double)(int)((_DAT_0047c764 & 0xffff) -
                                                      (uint)*(ushort *)(piVar28 + 4)));
                      uVar53 = local_1bec;
                      *(int *)(DAT_0047b154 + (_DAT_0047c764 & 0xffff) * 4) =
                           iVar20 + (int)local_1bec + *piVar28;
                      DAT_0047c764 += 1;
                      local_1bec = uVar53;
                    }
                    else {
                      puVar14 = local_244 + local_1bf0;
                      if (((char)local_244[local_1bf0] < '0') ||
                         ((('9' < (char)local_244[local_1bf0] || (iVar15 != 0)) ||
                          (iVar20 = strncmp((char *)local_244,"#BPMCHANGE",10), iVar20 == 0)))) {
                        if ((*puVar14 == '\0') ||
                           (iVar20 = strncmp((char *)puVar14,"//",2), iVar20 == 0)) break;
                        if (iVar15 == 1) {
                          local_1c44 = iVar15;
                          goto LAB_004066ce;
                        }
                        iVar20 = strncmp((char *)local_244,"#BPMCHANGE",10);
                        if (iVar20 == 0) break;
                      }
                      else {
                        local_1c20 += 1;
                        strncat_s((char *)local_854,0x200,(char *)puVar14,1);
                      }
                    }
                    local_1bf0 += 1;
                  } while ((int)local_1bf0 < 0x100);
                  local_1c44 = iVar15;
                  if (iVar15 == 1) {
LAB_004066ce:
                    local_1c38 = 0;
                    local_1bf0 = 0;
                    do {
                      if ((local_854[local_1bf0] == '\0') ||
                         (iVar20 = strncmp((char *)(local_244 + local_1bf0),"//",2),
                         puVar30 = local_1c18, iVar15 = DAT_0047b154, iVar20 == 0)) break;
                      iVar20 = *(ushort *)((int)&DAT_0047cf0a + iVar10) - 1;
                      local_1c00 = local_1c18;
                      if (0 < iVar20) {
                        iVar37 = *(int *)((int)&DAT_0047cecc + iVar10);
                        puVar39 = (ushort *)(iVar20 * 0x20 + 0x12 + iVar37);
                        do {
                          if (((puVar39[-1] == DAT_0047c764) && (*puVar39 != 0)) &&
                             (*puVar39 <= (ushort)local_1c38)) {
                            local_1be0 = CONCAT22(in_FPUControlWord,(undefined2)local_1be0);
                            local_1bf8 = (ushort *)(local_1c20 & 0xffff);
                            iVar36 = iVar20 * 0x20;
                            local_1bf4 = (ushort *)(in_FPUControlWord | 0xc00);
                            local_1bec = (ulonglong)
                                         ROUND((((double)(int)((local_1c38 & 0xffff) -
                                                              (uint)*(ushort *)
                                                                     (iVar36 + 0x12 + iVar37)) * 4. 0
                                                ) / (double)(int)(local_1c20 & 0xffff)) *
                                               (60.0 / *(double *)(iVar36 + 8 + iVar37)) * 1000.0);
                            uVar53 = local_1bec;
                            local_1c18 = (ushort *)((int)local_1bec + *(int *)(iVar36 + iVar37));
                            local_1bec = uVar53;
                            break;
                          }
                          iVar20 += -1;
                          puVar39 = puVar39 + -0x10;
                        } while (0 < iVar20);
                      }
                      if (iVar20 == 0) {
                        local_1be0 = CONCAT22(in_FPUControlWord,(undefined2)local_1be0);
                        local_1bf8 = (ushort *)(local_1c20 & 0xffff);
                        local_1bf4 = (ushort *)(in_FPUControlWord | 0xc00);
                        local_1bec = (ulonglong)
                                     ROUND((((double)(local_1c38 & 0xffff) * 4.0) /
                                           (double)(int)(local_1c20 & 0xffff)) *
                                           (60.0 / *(double *)
                                                    (*(int *)((int)&DAT_0047cecc + iVar10) + 8 +
                                                    (local_1c40 & 0xffff) * 0x20)) * 1000.0);
                        uVar53 = local_1bec;
                        local_1c18 = (ushort *)
                                     ((int)local_1bec +
                                     *(int *)(DAT_0047b154 + -4 + (_DAT_0047c764 & 0xffff) * 4));
                        local_1bec = uVar53;
                      }
                      if (local_1c18 <= puVar30) {
                        local_1c18 = (ushort *)((int)puVar30 + 5);
                      }
                      iVar20 = DAT_0047e2c4;
                      if ((('/' < (char)local_854[local_1bf0]) &&
                          ((char)local_854[local_1bf0] < '5')) &&
                         (local_1684[(int)local_1be4 * 3 + 6] == 1)) {
                        local_1684[(int)local_1be4 * 3 + 6] = 0;
                        local_1c14 = (ushort *)((int)&local_1c + (int)local_1be4 * 6);
                        iVar20 = DAT_0047e2c4 + (uint)*local_1c14 * 0x1c;
                        *(undefined2 *)(iVar20 + 2) = 7;
                        local_1c28 = (ushort *)(local_1c38 & 0xffff);
                        iVar37 = (local_1c40 & 0xffff) * 0x20;
                        dVar3 = ((double)((int)local_1c28 + -1) * 4.0) /
                                (double)(local_1c20 & 0xffff);
                        local_1bf4 = (ushort *)(in_FPUControlWord | 0xc00);
                        local_1bec = (ulonglong)
                                     ROUND((60.0 / *(double *)
                                                    (iVar37 + 8 +
                                                    *(int *)((int)&DAT_0047cecc + iVar10))) * 1000. 0
                                           * dVar3);
                        uVar53 = local_1bec;
                        iVar15 = (int)local_1bec +
                                 *(int *)(iVar15 + -4 + (_DAT_0047c764 & 0xffff) * 4);
                        *(int *)(iVar20 + 4) = iVar15;
                        sVar33 = *(short *)(iVar20 + -0x1a);
                        if ((sVar33 == 4) || (local_1bec = uVar53, sVar33 == 5)) {
                          dVar1 = 1.0;
                          if (sVar33 == 5) {
                            dVar1 = 1.2;
                          }
                          if ((&DAT_0047c7d8)[(int)local_1be4 * 0x7b] == 1) {
                            dVar1 = dVar1 + 0.2;
                          }
                          iVar15 = (iVar15 - *(int *)(iVar20 + -0x18)) + 0x32;
                          dVar7 = (double)iVar15;
                          if (iVar15 < 0) {
                            dVar7 = dVar7 + 4294967296.0;
                          }
                          local_1bf4 = (ushort *)(in_FPUControlWord | 0xc00);
                          local_1bec = (longlong)ROUND(dVar7 * dVar1);
                          uVar53 = local_1bec;
                          local_1bec._0_4_ = (int)(longlong)ROUND(dVar7 * dVar1);
                          *(int *)(&DAT_0047cf48 + (int)local_1be4 * 0x3cc) =
                               *(int *)(&DAT_0047cf48 + (int)local_1be4 * 0x3cc) + (int)local_1bec ;
                          local_1bec = uVar53;
                        }
                        local_1bf8 = (ushort *)(*(ushort *)((int)&DAT_0047cf0a + iVar10) - 1);
                        if (0 < (int)local_1bf8) {
                          local_1bf4 = (ushort *)
                                       ((int)local_1bf8 * 0x20 + 0x12 +
                                       *(int *)((int)&DAT_0047cecc + iVar10));
                          do {
                            if (((local_1bf4[-1] == DAT_0047c764) && (*local_1bf4 != 0)) &&
                               (*local_1bf4 <= (ushort)local_1c38)) {
                              local_1c0c = (ushort *)
                                           (*(int *)((int)&DAT_0047cecc + iVar10) +
                                           (int)local_1bf8 * 0x20);
                              local_1bf4 = (ushort *)(in_FPUControlWord | 0xc00);
                              local_1bec = (ulonglong)
                                           ROUND((60.0 / *(double *)(local_1c0c + 4)) * 1000.0 *
                                                 (((double)(int)((int)local_1c28 +
                                                                (-1 - (uint)local_1c0c[9])) * 4.0) /
                                                 (double)(local_1c20 & 0xffff)));
                              uVar53 = local_1bec;
                              *(int *)(iVar20 + 4) = (int)local_1bec + *(int *)local_1c0c;
                              local_1bec = uVar53;
                              break;
                            }
                            local_1bf8 = (ushort *)((int)local_1bf8 + -1);
                            local_1bf4 = local_1bf4 + -0x10;
                          } while (0 < (int)local_1bf8);
                        }
                        if (local_1bf8 == NULL) {
                          local_1bf4 = (ushort *)(in_FPUControlWord | 0xc00);
                          local_1bec = (ulonglong)
                                       ROUND((60.0 / *(double *)
                                                      (iVar37 + 8 +
                                                      *(int *)((int)&DAT_0047cecc + iVar10))) *
                                             1000.0 * dVar3);
                          uVar53 = local_1bec;
                          *(int *)(iVar20 + 4) =
                               (int)local_1bec +
                               *(int *)(DAT_0047b154 + -4 + (_DAT_0047c764 & 0xffff) * 4);
                          local_1bec = uVar53;
                        }
                        iVar20 = DAT_0047e2c4;
                        local_1be0 = CONCAT22(in_FPUControlWord,(undefined2)local_1be0);
                        uVar22 = *local_1c14;
                        *(undefined2 *)
                         (DAT_0047e2c4 + 0x18 +
                         ((uint)(ushort)(&DAT_0047cefe)[(int)local_1be4 * 0x1e3] + (uint)uVar22) *
                         0x1c) = 9;
                        *local_1c14 = uVar22 + 1;
                      }
                      uVar40 = local_854[local_1bf0];
                      if (((uVar40 == '1') || (uVar40 == '2')) ||
                         ((uVar40 == '3' || (uVar40 == '4')))) {
                        iVar15 = (int)local_1be4 * 6;
                        *(short *)((int)&local_28 + iVar15) =
                             *(short *)((int)&local_28 + iVar15) + 1;
                        local_1c14 = (ushort *)((int)&local_1c + iVar15);
                        uVar43 = (uint)*(ushort *)((int)&local_1c + iVar15);
                        iVar20 += uVar43 * 0x1c;
                        uVar22 = *(ushort *)((int)&local_28 + iVar15);
                        *(short *)(iVar20 + 2) = (char)uVar40 + -0x31;
                        *(ushort **)(iVar20 + 4) = local_1c18;
                        local_1c28 = (ushort *)((int)&local_28 + iVar15);
                        if (1 < uVar22) {
                          local_1c0c = &local_34 + (int)local_1be4 * 3;
                          local_1bf4 = (ushort *)((local_1c40 & 0xffff) << 5);
                          local_1bf8 = &DAT_0047cefe + (int)local_1be4 * 0x1e3;
                          iVar15 = *local_1bf8 + uVar43;
                          iVar20 = (int)local_1c18 - *(int *)(DAT_0047e2c4 + -0x18 + iVar15 * 0x1c );
                          local_1bec = CONCAT44(DAT_0047e2c4 + iVar15 * 0x1c,(int)local_1bec);
                          local_1be0 = (uint)(&local_34)[(int)local_1be4 * 3] * 10;
                          uVar53 = FUN_0045db50(local_1be0,iVar15 * 7);
                          if (iVar20 < (int)uVar53) {
                            uVar53 = FUN_0045db50(extraout_ECX_01,(int)(uVar53 >> 0x20));
                            if ((iVar20 < (int)uVar53) && (*local_1c0c == 0)) {
                              uVar22 = *local_1c28;
                              if (uVar22 < 4) {
                                iVar15 = 1;
                                if (1 < uVar22) {
                                  do {
                                    iVar20 = DAT_0047e2c4 +
                                             (((uint)*local_1bf8 - iVar15) + uVar43) * 0x1c;
                                    uVar6 = *(ushort *)(iVar20 + 2);
                                    if (uVar6 < 2) {
                                      *(ushort *)(iVar20 + 0x18) = uVar6 * 3;
                                    }
                                    iVar15 += 1;
                                  } while (iVar15 < (int)(uint)uVar22);
                                }
                              }
                              *local_1c28 = 2;
                              *local_1c0c = 1;
                            }
                            sVar33 = *(short *)(DAT_0047e2c4 + -0x1a + (*local_1bf8 + uVar43) * 0x1c
                                               );
                            iVar15 = DAT_0047e2c4 + (*local_1bf8 + uVar43) * 0x1c;
                            if (sVar33 == 0) {
                              *(undefined2 *)(iVar15 + -4) = 1;
                            }
                            else if (sVar33 == 1) {
                              *(undefined2 *)(iVar15 + -4) = 4;
                            }
                          }
                          else {
                            uVar22 = *local_1c28;
                            uVar18 = (uint)uVar22;
                            bVar45 = (uVar22 & 1) == 0;
                            if (false) {
                              bVar45 = ((uVar18 & 0x80000001) - 1 | 0xfffffffe) == 0xffffffff;
                            }
                            if ((bVar45) && ((uVar22 == 4 || (0xf < uVar22)))) {
                              iVar15 = 1;
                              DAT_0047e2b0 = 0;
                              if (1 < uVar18) {
                                psVar38 = (short *)(local_1bec._4_4_ + -0x1a);
                                do {
                                  if (*psVar38 != 0) {
                                    DAT_0047e2b0 = 2;
                                    goto LAB_00406f99;
                                  }
                                  iVar15 += 1;
                                  psVar38 = psVar38 + -0xe;
                                } while (iVar15 < (int)uVar18);
                              }
                              if (1 < uVar22 >> 1) {
                                local_1be0 = (uVar22 >> 1) - 1;
                                iVar15 = 2;
                                do {
                                  iVar20 = (uint)*local_1bf8 - iVar15;
                                  iVar15 += 2;
                                  local_1be0 -= 1;
                                  *(undefined2 *)(DAT_0047e2c4 + 0x18 + (iVar20 + uVar43) * 0x1c) =
                                       2;
                                } while (local_1be0 != 0);
                              }
                            }
LAB_00406f99:
                            if ((2 < *local_1c28) && (*local_1c0c == 1)) {
                              iVar15 = DAT_0047e2c4 + (*local_1bf8 + uVar43) * 0x1c;
                              uVar53 = FUN_0045db50(local_1bf4,DAT_0047e2c4);
                              if (*(int *)(iVar15 + -0x18) - *(int *)(iVar15 + -0x34) < (int)uVar53 )
                              {
                                if (*(short *)(iVar15 + -0x1a) == 0) {
                                  *(undefined2 *)(iVar15 + -4) = 1;
                                }
                                else if (*(short *)(iVar15 + -0x1a) == 1) {
                                  *(undefined2 *)(iVar15 + -4) = 4;
                                }
                              }
                            }
                            *local_1c28 = 1;
                            *local_1c0c = 0;
                          }
                        }
                        switch(local_854[local_1bf0]) {
                        case '1':
                          *(undefined2 *)
                           (DAT_0047e2c4 + 0x18 +
                           ((ushort)(&DAT_0047cefe)[(int)local_1be4 * 0x1e3] + uVar43) * 0x1c) = 0 ;
                          break;
                        case '2':
                          *(undefined2 *)
                           (DAT_0047e2c4 + 0x18 +
                           ((ushort)(&DAT_0047cefe)[(int)local_1be4 * 0x1e3] + uVar43) * 0x1c) = 3 ;
                          break;
                        case '3':
                          *(undefined2 *)
                           (DAT_0047e2c4 + 0x18 +
                           ((ushort)(&DAT_0047cefe)[(int)local_1be4 * 0x1e3] + uVar43) * 0x1c) = 5 ;
                          break;
                        case '4':
                          *(undefined2 *)
                           (DAT_0047e2c4 + 0x18 +
                           ((ushort)(&DAT_0047cefe)[(int)local_1be4 * 0x1e3] + uVar43) * 0x1c) = 6 ;
                        }
                        *local_1c14 = *local_1c14 + 1;
                        if ((ushort)local_40 < 100) {
                          uVar43 = (local_40 & 0xffff) / 10;
                          if ((char)local_854[local_1bf0] < '3') {
                            iVar15 = uVar43 * 7 + 0x1e;
                          }
                          else {
                            iVar15 = uVar43 * 0xe + 0x3c;
                          }
                          local_1bec = CONCAT44(iVar15,(int)local_1bec);
                          local_16b4 = (double)iVar15 + local_16b4;
                        }
                        (&DAT_0047c78c)[(int)local_1be4 * 0x78] =
                             (&DAT_0047c78c)[(int)local_1be4 * 0x78] + 1;
                        (&DAT_0047c7a4)[(int)local_1be4 * 0xf0] =
                             (&DAT_0047c7a4)[(int)local_1be4 * 0xf0] + 1;
                        local_40 = CONCAT22(local_40._2_2_,(ushort)local_40 + 1);
                      }
                      else if (((((uVar40 == '5') || (uVar40 == '6')) || (uVar40 == '7')) ||
                               (uVar40 == '9')) && (local_1684[(int)local_1be4 * 3 + 6] == 0)) {
                        local_1684[(int)local_1be4 * 3 + 6] = 1;
                        psVar38 = (short *)((int)&local_1c + (int)local_1be4 * 6);
                        iVar15 = DAT_0047e2c4 +
                                 (uint)*(ushort *)((int)&local_1c + (int)local_1be4 * 6) * 0x1c;
                        *(short *)(iVar15 + 2) = (char)uVar40 + -0x31;
                        *(ushort **)(iVar15 + 4) = local_1c18;
                        if ((local_854[local_1bf0] == '7') || (local_854[local_1bf0] == '9')) {
                          psVar25 = (short *)((int)local_1c70 + (local_1c34 & 0xffff) * 2);
                          *(short *)(iVar15 + 0x10) = *psVar25;
                          if (*psVar25 == 0) {
                            *(undefined2 *)(iVar15 + 0x10) = 5;
                          }
                          local_1c34 = local_1c34 + 1;
                          if (*(ushort *)(iVar15 + 0x10) < 0x1f5) {
                            (&DAT_0047c7b8)[(int)local_1be4 * 0x7b] =
                                 (&DAT_0047c7b8)[(int)local_1be4 * 0x7b] +
                                 (uint)*(ushort *)(iVar15 + 0x10);
                            *psVar38 = *psVar38 + 1;
                          }
                          else {
                            (&DAT_0047e2a4)[(int)local_1be4 * 3] =
                                 (&DAT_0047e2a4)[(int)local_1be4 * 3] + 1;
                            *psVar38 = *psVar38 + 1;
                          }
                        }
                        else {
                          *(undefined2 *)(iVar15 + 0x10) = 0;
                          *psVar38 = *psVar38 + 1;
                        }
                      }
                      if (local_854[local_1bf0] == '#') {
LAB_004071f5:
                        uVar43 = 1;
                        if (1 < *(ushort *)((int)&DAT_0047cf0a + iVar10)) {
                          psVar38 = (short *)(*(int *)((int)&DAT_0047cecc + iVar10) + 0x34);
                          do {
                            if (*psVar38 == 0) {
                              iVar15 = uVar43 * 0x20;
                              *(short *)(iVar15 + 0x14 + *(int *)((int)&DAT_0047cecc + iVar10)) =
                                   (short)local_1c20;
                              *(ushort *)(iVar15 + 0x12 + *(int *)((int)&DAT_0047cecc + iVar10)) =
                                   (ushort)local_1c38;
                              *(short *)(iVar15 + 0x10 + *(int *)((int)&DAT_0047cecc + iVar10)) =
                                   (short)_DAT_0047c764;
                              *(ushort **)(iVar15 + *(int *)((int)&DAT_0047cecc + iVar10)) =
                                   local_1c18;
                              local_1c40 = uVar43 & 0xffff;
                              break;
                            }
                            uVar43 += 1;
                            psVar38 = psVar38 + 0x10;
                          } while ((int)uVar43 < (int)(uint)*(ushort *)((int)&DAT_0047cf0a + iVar1 0)
                                  );
                        }
                      }
                      else if (local_854[local_1bf0] == 'S') {
                        if (false) goto LAB_004071f5;
                      }
                      else {
                        local_1c38 = local_1c38 + 1;
                      }
                      local_1bf0 += 1;
                    } while ((int)local_1bf0 < 0x200);
                  }
                }
              }
              else {
                iVar20 = strncmp((char *)&local_10,".tja",4);
                if (iVar20 == 0) {
                  if (((char)local_244[0] < '0') || ('9' < (char)local_244[1])) {
                    if (local_244[0] == '#') {
                      if ((byte)(local_244[1] - 0x30) < 10) {
LAB_004072c4:
                        local_1be0 = CONCAT31(local_1be0._1_3_,local_244[iVar15]);
                        strcpy_s((char *)local_1154,0x200,"");
                        iVar15 = FUN_004385b0((char *)local_1154,(undefined1)local_1be0);
                        if ((iVar15 != 0) || (*(short *)((int)&DAT_0047cec8 + iVar10) == 0))
                        goto LAB_0040a222;
                      }
                    }
                    else if (local_244[0] != ',') goto LAB_004072c4;
                  }
                  if (local_1c44 == 1) {
                    local_1c44 = 0;
                    memset(local_854,0,0x200);
                    local_1c84 = local_1c20 & 0xffff;
                    local_1c20 = 0;
                  }
                  uVar22 = (ushort)local_1bfc;
                  if ((((((ushort)local_1bfc != 0) && ((ushort)local_1bfc < local_1bfc._2_2_)) &&
                       ('/' < (char)local_244[0])) && ((char)local_244[0] < ':')) ||
                     (((iVar15 = strncmp((char *)local_244,"#BRANCHSTART",0xc), iVar15 == 0 ||
                       (iVar15 = strncmp((char *)local_244,"#END",4), puVar30 = local_1be4,
                       iVar15 == 0)) && (puVar30 = local_1be4, (ushort)local_1c08 < 3)))) {
                    puVar30 = local_1be4;
                    local_1c08 = 0xff;
                    local_1c30 = 0;
                    local_1c1c = 0;
                    if (uVar22 == 0) {
                      local_1bfc = CONCAT22(local_1bfc._2_2_,local_1bfc._2_2_);
                    }
                    sVar33 = (short)local_1bfc + (short)local_1c74;
                    _DAT_0047c764 = CONCAT22(DAT_0047c764_2,sVar33);
                    local_1bfc &= 0xffff0000;
                    puVar39 = (ushort *)(&DAT_0047c8b2 + (int)local_1be4 * 0x1e0);
                    *(short *)(*(int *)((int)&DAT_0047cee0 + iVar10) + 2 + (uint)*puVar39 * 0x28) =
                         sVar33;
                    *puVar39 = *puVar39 + 1;
                    strcpy_s((char *)local_854,0x200,local_1354);
                    strcpy_s(local_1354,0x200,"");
                    local_1c60 = 0;
                  }
                  iVar15 = strncmp((char *)local_244,"#BPMCHANGE",10);
                  if (iVar15 == 0) {
                    if ((ushort)local_1c1c < 2) {
                      iVar15 = 1;
                      if (1 < *(ushort *)((int)&DAT_0047cf0a + iVar10)) {
                        pdVar27 = (double *)(*(int *)((int)&DAT_0047cecc + iVar10) + 0x28);
                        do {
                          if (NAN(*pdVar27) != (*pdVar27 == 0.0)) {
                            _mbsnbcpy_s(local_454,0x100,local_244 + 10,8);
                            sscanf_s((char *)local_454,"%lf",&local_1c6c);
                            *(double *)(iVar15 * 0x20 + 8 + *(int *)((int)&DAT_0047cecc + iVar10))  =
                                 local_1c6c;
                            *(short *)(iVar15 * 0x20 + 0x10 + *(int *)((int)&DAT_0047cecc + iVar10 ))
                                 = (short)_DAT_0047c764 + 1;
                            strncat_s((char *)local_854,0x200,"#",1);
                            break;
                          }
                          iVar15 += 1;
                          pdVar27 = pdVar27 + 4;
                        } while (iVar15 < (int)(uint)*(ushort *)((int)&DAT_0047cf0a + iVar10));
                      }
                    }
                  }
                  else {
                    iVar15 = strncmp((char *)local_244,"#SCROLL",7);
                    if (iVar15 == 0) {
                      uVar43 = 0;
                      if (0 < *local_1c24) {
                        do {
                          if ((2 < (ushort)local_1c08) || (uVar43 == (local_1c08 & 0xffff))) {
                            iVar15 = (int)local_1be4 * 0x1e0 + uVar43;
                            uVar18 = (ushort)(&DAT_0047cf26)[iVar15] + 1;
                            uVar31 = (uint)(ushort)(&DAT_0047cf20)[iVar15] +
                                     (uint)(ushort)(&DAT_0047cf26)[iVar15];
                            if (uVar18 < uVar31) {
                              pdVar27 = (double *)
                                        (*(int *)((int)&DAT_0047ced8 + iVar10) + 8 + uVar18 * 0x18) ;
                              do {
                                if (NAN(*pdVar27) != (*pdVar27 == 0.0)) {
                                  _mbsnbcpy_s(local_454,0x100,local_244 + 7,8);
                                  sscanf_s((char *)local_454,"%lf",&local_1c6c);
                                  iVar15 = uVar18 * 0x18;
                                  *(double *)(iVar15 + 8 + *(int *)((int)&DAT_0047ced8 + iVar10)) =
                                       local_1c6c;
                                  *(undefined4 *)(iVar15 + *(int *)((int)&DAT_0047ced8 + iVar10)) =
                                       1;
                                  *(uint *)(iVar15 + 0x10 + *(int *)((int)&DAT_0047ced8 + iVar10))  =
                                       _DAT_0047c764 & 0xffff;
                                  if ((short)local_1c20 == 0) {
                                    *(undefined4 *)
                                     (iVar15 + 0x14 + *(int *)((int)&DAT_0047ced8 + iVar10)) = 1;
                                  }
                                  strncat_s((char *)local_854,0x200,"S",1);
                                  break;
                                }
                                uVar18 += 1;
                                pdVar27 = pdVar27 + 3;
                              } while ((int)uVar18 < (int)uVar31);
                            }
                          }
                          uVar43 += 1;
                        } while ((int)uVar43 < *local_1c24);
                      }
                    }
                    else {
                      iVar15 = strncmp((char *)local_244,"#MEASURE",8);
                      if (iVar15 == 0) {
                        if ((ushort)local_1c1c < 2) {
                          iVar15 = 1;
                          if (1 < *(ushort *)(&DAT_0047cf0e + iVar10)) {
                            psVar38 = *(short **)((int)&DAT_0047ced0 + iVar10);
                            do {
                              psVar38 = psVar38 + 8;
                              if (*psVar38 == 0) {
                                _mbsnbcpy_s(local_454,0x100,local_244 + 8,10);
                                sscanf_s((char *)local_454,"%lf/%d",&local_1c6c,&local_1c00);
                                dVar3 = (double)(int)local_1c00;
                                if ((int)local_1c00 < 0) {
                                  dVar3 = dVar3 + 4294967296.0;
                                }
                                *(double *)
                                 (*(int *)((int)&DAT_0047ced0 + iVar10) + 8 + iVar15 * 0x10) =
                                     local_1c6c / dVar3;
                                *(short *)(*(int *)((int)&DAT_0047ced0 + iVar10) + iVar15 * 0x10) =
                                     (short)_DAT_0047c764 + 1;
                                local_1c5c = *(double *)
                                              (*(int *)((int)&DAT_0047ced0 + iVar10) + 8 +
                                              iVar15 * 0x10);
                                break;
                              }
                              iVar15 += 1;
                            } while (iVar15 < (int)(uint)*(ushort *)(&DAT_0047cf0e + iVar10));
                          }
                        }
                        else {
                          iVar15 = 1;
                          if (1 < *(ushort *)(&DAT_0047cf0e + iVar10)) {
                            puVar30 = *(ushort **)((int)&DAT_0047ced0 + iVar10);
                            do {
                              puVar30 = puVar30 + 8;
                              if ((uint)*puVar30 == (_DAT_0047c764 & 0xffff) + 1) {
                                local_1c5c = *(double *)
                                              (iVar15 * 0x10 + 8 +
                                              *(int *)((int)&DAT_0047ced0 + iVar10));
                                break;
                              }
                              iVar15 += 1;
                            } while (iVar15 < (int)(uint)*(ushort *)(&DAT_0047cf0e + iVar10));
                          }
                        }
                      }
                      else {
                        iVar15 = strncmp((char *)local_244,"#GOGOSTART",10);
                        if (iVar15 == 0) {
                          strncat_s((char *)local_854,0x200,"G",1);
                          uVar43 = 0;
                          if (0 < *local_1c24) {
                            do {
                              if ((2 < (ushort)local_1c08) || (uVar43 == (local_1c08 & 0xffff))) {
                                uVar22 = (&DAT_0047c8c0)[(int)local_1be4 * 0xf0 + uVar43];
                                if (((ushort)(&DAT_0047cf32)[(int)local_1be4 * 0x1e0 + uVar43] <
                                     uVar22) &&
                                   (puVar44 = (uint *)(*(int *)((int)&DAT_0047cedc + iVar10) +
                                                      (uint)uVar22 * 0x18), puVar44[1] < *puVar44))
                                {
                                  (&DAT_0047c8c0)[(int)local_1be4 * 0xf0 + uVar43] = uVar22 + 1;
                                }
                              }
                              if ((2 < (ushort)local_1c08) || (uVar43 == (local_1c08 & 0xffff))) {
                                puVar30 = &DAT_0047c8c0 + (int)local_1be4 * 0xf0 + uVar43;
                                iVar15 = (int)local_1be4 * 0x1e0 + uVar43;
                                *(undefined4 *)
                                 (*(int *)((int)&DAT_0047cedc + iVar10) +
                                 ((uint)*puVar30 + (uint)(ushort)(&DAT_0047cf32)[iVar15]) * 0x18) =
                                     1;
                                local_1bec = CONCAT44(puVar30,(int)local_1bec);
                                *(uint *)(*(int *)((int)&DAT_0047cedc + iVar10) + 0x14 +
                                         ((uint)*puVar30 + (uint)(ushort)(&DAT_0047cf32)[iVar15]) *
                                         0x18) = _DAT_0047c764 & 0xffff;
                                (&DAT_0047c7d8)[uVar43 + (int)local_1be4 * 0x78] = 1;
                                if ((short)local_1c20 == 0) {
                                  *(undefined4 *)
                                   (*(int *)((int)&DAT_0047cedc + iVar10) + 0x10 +
                                   ((uint)*puVar30 + (uint)(ushort)(&DAT_0047cf32)[iVar15]) * 0x18 )
                                       = 1;
                                }
                              }
                              uVar43 += 1;
                            } while ((int)uVar43 < *local_1c24);
                          }
                          DAT_0047e294 = 1;
                        }
                        else {
                          iVar15 = strncmp((char *)local_244,"#GOGOEND",8);
                          if (iVar15 == 0) {
                            strncat_s((char *)local_854,0x200,"H",1);
                            local_1be0 = 0;
                            if (0 < *local_1c24) {
                              do {
                                if ((2 < (ushort)local_1c08) ||
                                   (local_1be0 == (local_1c08 & 0xffff))) {
                                  iVar15 = local_1be0 + (int)puVar30 * 0x78;
                                  local_1bec = CONCAT44(iVar15,(int)local_1bec);
                                  if ((&DAT_0047c7d8)[iVar15] == 1) {
                                    iVar37 = (int)puVar30 * 0x1e0 + local_1be0;
                                    iVar20 = (int)puVar30 * 0xf0 + local_1be0;
                                    puVar30 = &DAT_0047c8c0 + iVar20;
                                    *(undefined4 *)
                                     (*(int *)((int)&DAT_0047cedc + iVar10) + 4 +
                                     ((uint)(ushort)(&DAT_0047c8c0)[iVar20] +
                                     (uint)(ushort)(&DAT_0047cf32)[iVar37]) * 0x18) = 1;
                                    *(uint *)(*(int *)((int)&DAT_0047cedc + iVar10) + 0xc +
                                             ((uint)*puVar30 + (uint)(ushort)(&DAT_0047cf32)[iVar37 ]
                                             ) * 0x18) = _DAT_0047c764 & 0xffff;
                                    if ((short)local_1c20 == 0) {
                                      *(undefined4 *)
                                       (*(int *)((int)&DAT_0047cedc + iVar10) + 8 +
                                       ((uint)*puVar30 + (uint)(ushort)(&DAT_0047cf32)[iVar37]) *
                                       0x18) = 1;
                                    }
                                    *puVar30 = *puVar30 + 1;
                                    (&DAT_0047c7d8)[iVar15] = 0;
                                    puVar30 = local_1be4;
                                  }
                                }
                                local_1be0 += 1;
                              } while ((int)local_1be0 < *local_1c24);
                            }
                            DAT_0047e294 = 0;
                          }
                          else {
                            iVar15 = strncmp((char *)local_244,"#SECTION",8);
                            if (iVar15 == 0) {
                              *(uint *)(*(int *)((int)&DAT_0047ceec + iVar10) +
                                       (uint)(ushort)(&DAT_0047c8c6)[(int)puVar30 * 0xf0] * 4) =
                                   _DAT_0047c764 & 0xffff;
                              (&DAT_0047c8c6)[(int)puVar30 * 0xf0] =
                                   (&DAT_0047c8c6)[(int)puVar30 * 0xf0] + 1;
                            }
                            else {
                              iVar15 = strncmp((char *)local_244,"#BRANCHSTART",0xc);
                              if (iVar15 == 0) {
                                _mbsnbcpy_s(local_454,0x200,local_244 + 0xc,0x32);
                                pcVar13 = strstr((char *)local_454,"r");
                                if ((pcVar13 == NULL) &&
                                   (pcVar13 = strstr((char *)local_454,"R"), pcVar13 == NULL)) {
                                  pcVar13 = strstr((char *)local_454,"s");
                                  if ((pcVar13 == NULL) &&
                                     (pcVar13 = strstr((char *)local_454,"S"), pcVar13 == NULL)) {
                                    puVar39 = (ushort *)(&DAT_0047c8b2 + (int)puVar30 * 0x1e0);
                                    *(undefined2 *)
                                     (*(int *)((int)&DAT_0047cee0 + iVar10) + 0x16 +
                                     (uint)*(ushort *)(&DAT_0047c8b2 + (int)puVar30 * 0x1e0) * 0x28 )
                                         = 0;
                                  }
                                  else {
                                    puVar39 = (ushort *)(&DAT_0047c8b2 + (int)puVar30 * 0x1e0);
                                    *(undefined2 *)
                                     (*(int *)((int)&DAT_0047cee0 + iVar10) + 0x16 +
                                     (uint)*(ushort *)(&DAT_0047c8b2 + (int)puVar30 * 0x1e0) * 0x28 )
                                         = 2;
                                  }
                                }
                                else {
                                  puVar39 = (ushort *)(&DAT_0047c8b2 + (int)puVar30 * 0x1e0);
                                  *(undefined2 *)
                                   (*(int *)((int)&DAT_0047cee0 + iVar10) + 0x16 +
                                   (uint)*puVar39 * 0x28) = 1;
                                }
                                pcVar13 = strchr((char *)local_454,0x2c);
                                iVar15 = *(int *)((int)&DAT_0047cee0 + iVar10) +
                                         (uint)*puVar39 * 0x28;
                                sscanf_s(pcVar13 + 1,"%lf, %lf",iVar15 + 0x18,iVar15 + 0x20);
                                local_1bfc = 0;
                                local_1c8c = local_1c5c;
                                local_1c80 = local_1c4c & 0xffff;
                                local_1c74 = _DAT_0047c764 & 0xffff;
                                *(ushort *)
                                 (*(int *)((int)&DAT_0047cee0 + iVar10) + (uint)*puVar39 * 0x28) =
                                     DAT_0047c764;
                                *(undefined4 *)
                                 (*(int *)((int)&DAT_0047cee0 + iVar10) + 0xc +
                                 (uint)*puVar39 * 0x28) = 0;
                                *(undefined4 *)
                                 (*(int *)((int)&DAT_0047cee0 + iVar10) + 0x10 +
                                 (uint)*puVar39 * 0x28) = 0;
                                iVar15 = *(int *)((int)&DAT_0047cee0 + iVar10) +
                                         (uint)*puVar39 * 0x28;
                                sVar33 = *(short *)(iVar15 + 0x16);
                                local_1c08 = 0;
                                local_1c30 = 0;
                                if (((((sVar33 == 1) && (*(double *)(iVar15 + 0x20) <= 0.0)) ||
                                     ((sVar33 == 2 && (*(double *)(iVar15 + 0x20) <= 0.0)))) ||
                                    ((sVar33 == 0 &&
                                     ((*(double *)(iVar15 + 0x20) <= 0.0 ||
                                      (((true && (100.0 < *(double *)(iVar15 + 0x20) !=
                                                  NAN(*(double *)(iVar15 + 0x20)))) &&
                                       (*(double *)(iVar15 + 0x18) <= 0.0)))))))) ||
                                   (((sVar33 == 0 &&
                                     (100.0 < *(double *)(iVar15 + 0x20) !=
                                      NAN(*(double *)(iVar15 + 0x20)))) &&
                                    (100.0 < *(double *)(iVar15 + 0x18) !=
                                     NAN(*(double *)(iVar15 + 0x18)))))) {
                                  *(undefined4 *)(iVar15 + 0x10) = 1;
                                  local_1c60 = 1;
                                  iVar15 = *(int *)((int)&DAT_0047cee0 + iVar10) +
                                           (uint)*puVar39 * 0x28;
                                  sVar33 = *(short *)(iVar15 + 0x16);
                                  if (((sVar33 == 1) && (*(double *)(iVar15 + 0x20) <= 0.0)) ||
                                     ((sVar33 == 2 && (*(double *)(iVar15 + 0x20) <= 0.0)))) {
                                    *(undefined2 *)(iVar15 + 0x14) = 2;
                                  }
                                  else if ((sVar33 != 0) || (0.0 < *(double *)(iVar15 + 0x20))) {
                                    if ((sVar33 == 0) &&
                                       ((100.0 < *(double *)(iVar15 + 0x20) !=
                                         NAN(*(double *)(iVar15 + 0x20)) &&
                                        (100.0 < *(double *)(iVar15 + 0x18) !=
                                         NAN(*(double *)(iVar15 + 0x18)))))) {
                                      *(undefined2 *)(iVar15 + 0x14) = 0;
                                    }
                                    else {
                                      *(undefined2 *)(iVar15 + 0x14) = 1;
                                    }
                                  }
                                  else {
                                    *(undefined2 *)(iVar15 + 0x14) = 2;
                                  }
                                }
                              }
                              else {
                                uVar43 = strncmp((char *)local_244,"#N",2);
                                if (uVar43 == 0) {
                                  local_1c08 = uVar43;
                                  if (local_1684[0] == 0) {
                                    local_1c30 = local_1c30 + 1;
                                  }
                                  local_1c1c = local_1c1c + 1;
                                  if ((ushort)local_1bfc == 0) {
                                    local_1bfc = CONCAT22(local_1bfc._2_2_,local_1bfc._2_2_);
                                    strcpy_s(local_1354,0x200,(char *)local_854);
                                  }
                                  local_1c5c = local_1c8c;
                                  local_1bfc &= 0xffff;
                                  _DAT_0047c764 = CONCAT22(DAT_0047c764_2,(undefined2)local_1c74);
                                  local_1c4c = local_1c80 & 0xffff;
                                  if (1 < (ushort)local_1c30) {
                                    pcVar13 = "";
LAB_00408063:
                                    local_1c5c = local_1c8c;
                                    strcpy_s((char *)local_854,0x200,pcVar13);
                                  }
                                }
                                else {
                                  iVar15 = strncmp((char *)local_244,"#E",2);
                                  if ((iVar15 == 0) &&
                                     (iVar15 = strncmp((char *)local_244,"#END",4), iVar15 != 0)) {
                                    local_1c08 = 1;
                                    if (local_1684[1] == 0) {
                                      local_1c30 = local_1c30 + 1;
                                    }
                                    local_1c1c = local_1c1c + 1;
                                    if ((ushort)local_1bfc == 0) {
                                      local_1bfc = CONCAT22(local_1bfc._2_2_,local_1bfc._2_2_);
                                      strcpy_s(local_1354,0x200,(char *)local_854);
                                    }
                                    local_1c5c = local_1c8c;
                                    local_1bfc &= 0xffff;
                                    _DAT_0047c764 = CONCAT22(DAT_0047c764_2,(undefined2)local_1c74 );
                                    local_1c4c = local_1c80 & 0xffff;
                                    if (1 < (ushort)local_1c30) {
                                      pcVar13 = "";
                                      goto LAB_00408063;
                                    }
                                  }
                                  else {
                                    iVar15 = strncmp((char *)local_244,"#M",2);
                                    if (iVar15 == 0) {
                                      local_1c08 = 2;
                                      if (local_1684[2] == 0) {
                                        local_1c30 = local_1c30 + 1;
                                      }
                                      local_1c1c = local_1c1c + 1;
                                      if ((ushort)local_1bfc == 0) {
                                        local_1bfc = CONCAT22(local_1bfc._2_2_,local_1bfc._2_2_);
                                        strcpy_s(local_1354,0x200,(char *)local_854);
                                      }
                                      local_1c5c = local_1c8c;
                                      local_1bfc &= 0xffff;
                                      _DAT_0047c764 =
                                           CONCAT22(DAT_0047c764_2,(undefined2)local_1c74);
                                      local_1c4c = local_1c80 & 0xffff;
                                      if (1 < (ushort)local_1c30) {
                                        strcpy_s((char *)local_854,0x200,"");
                                      }
                                    }
                                    else {
                                      uVar18 = strncmp((char *)local_244,"#BRANCHEND",10);
                                      uVar43 = local_1c08;
                                      if ((uVar18 == 0) && ((ushort)local_1c08 < 3)) {
                                        local_1c08 = 0xff;
                                        if ((ushort)local_1bfc == 0) {
                                          local_1bfc = CONCAT22(local_1bfc._2_2_,local_1bfc._2_2_) ;
                                        }
                                        sVar33 = (short)local_1c74 + (short)local_1bfc;
                                        local_1bfc &= 0xffff0000;
                                        puVar30 = (ushort *)
                                                  (&DAT_0047c8b2 + (int)local_1be4 * 0x1e0);
                                        _DAT_0047c764 = CONCAT22(DAT_0047c764_2,sVar33);
                                        *(short *)(*(int *)((int)&DAT_0047cee0 + iVar10) + 2 +
                                                  (uint)*puVar30 * 0x28) = sVar33;
                                        *puVar30 = *puVar30 + 1;
                                        local_1c30 = uVar18;
                                        local_1c1c = uVar18;
                                        strcpy_s((char *)local_854,0x200,"");
                                        pcVar13 = local_1354;
                                        iVar15 = 0;
                                        do {
                                          cVar5 = *pcVar13;
                                          pcVar13 = pcVar13 + 1;
                                        } while (cVar5 != '\0');
                                        if (pcVar13 != local_1354 + 1 &&
                                            -1 < (int)pcVar13 - (int)(local_1354 + 1)) {
                                          do {
                                            if (local_1354[iVar15] == '#') {
                                              strcat_s((char *)local_854,0x200,"#");
                                            }
                                            if (local_1354[iVar15] == 'H') {
                                              strcat_s((char *)local_854,0x200,"H");
                                            }
                                            pcVar13 = local_1354;
                                            iVar15 += 1;
                                            do {
                                              cVar5 = *pcVar13;
                                              pcVar13 = pcVar13 + 1;
                                            } while (cVar5 != '\0');
                                          } while (iVar15 < (int)pcVar13 - (int)(local_1354 + 1));
                                        }
                                        strcpy_s(local_1354,0x200,"");
                                        local_1c60 = 0;
                                      }
                                      else {
                                        iVar15 = strncmp((char *)local_244,"#DELAY",6);
                                        if (iVar15 == 0) {
                                          if ((ushort)local_1c1c < 2) {
                                            _mbsnbcpy_s(local_454,0x100,local_244 + 6,10);
                                            sscanf_s((char *)local_454,"%lf",&local_1c6c);
                                            uVar53 = FUN_0045db50(extraout_ECX_02,extraout_EDX_01) ;
                                            if ((int)uVar53 != 0) {
                                              strncat_s((char *)local_854,0x200,"D",1);
                                              iVar15 = 0;
                                              if (*(ushort *)(&DAT_0047cf44 + iVar10) != 0) {
                                                piVar28 = *(int **)((int)&DAT_0047cee8 + iVar10);
                                                piVar29 = piVar28;
                                                do {
                                                  if (*piVar29 == 0) {
                                                    uVar53 = FUN_0045db50(piVar29,extraout_EDX_02);
                                                    piVar28[iVar15 * 4] = (int)uVar53;
                                                    break;
                                                  }
                                                  iVar15 += 1;
                                                  piVar29 = piVar29 + 4;
                                                } while (iVar15 < (int)(uint)*(ushort *)
                                                                              (&DAT_0047cf44 +
                                                                              iVar10));
                                              }
                                            }
                                          }
                                        }
                                        else {
                                          iVar15 = strncmp((char *)local_244,"#LEVELHOLD",10);
                                          if (iVar15 == 0) {
                                            uVar18 = 0;
                                            if (0 < *local_1c24) {
                                              do {
                                                if ((2 < (ushort)uVar43) ||
                                                   (uVar18 == (uVar43 & 0xffff))) {
                                                  iVar15 = local_16e4[uVar18];
                                                  *(ushort *)
                                                   (*(int *)((int)&DAT_0047cee4 + iVar10) +
                                                   ((uint)(ushort)(&DAT_0047cf3e)
                                                                  [(int)puVar30 * 0x1e0 + uVar18] +
                                                   iVar15) * 8) = DAT_0047c764;
                                                  local_1684[uVar18] = 1;
                                                  local_16e4[uVar18] = iVar15 + 1;
                                                  puVar30 = local_1be4;
                                                  uVar43 = local_1c08;
                                                }
                                                uVar18 += 1;
                                              } while ((int)uVar18 < *local_1c24);
                                            }
                                          }
                                          else {
                                            iVar15 = strncmp((char *)local_244,"#BARLINEON",10);
                                            if (((iVar15 == 0) ||
                                                (iVar15 = strncmp((char *)local_244,"#BARLINEOFF",
                                                                  0xb), iVar15 == 0)) &&
                                               (uVar43 = 0, 0 < *local_1c24)) {
                                              do {
                                                if ((2 < (ushort)local_1c08) ||
                                                   (uVar43 == (local_1c08 & 0xffff))) {
                                                  iVar15 = (int)local_1be4 * 0xf0 + uVar43;
                                                  (&DAT_0047c8ba)[iVar15] =
                                                       (&DAT_0047c8ba)[iVar15] + 1;
                                                  puVar30 = &DAT_0047c8ba + iVar15;
                                                  iVar15 = strncmp((char *)local_244,"#BARLINEON",1 0
                                                                  );
                                                  if (iVar15 == 0) {
                                                    iVar15 = (int)local_1be4 * 0x1e0 + uVar43;
                                                    local_1c14 = (ushort *)
                                                                 (&DAT_0047cf16 + iVar15 * 2);
                                                    *(ushort *)
                                                     (*(int *)((int)&DAT_0047ced4 + iVar10) +
                                                     ((uint)*(ushort *)(&DAT_0047cf16 + iVar15 * 2)
                                                     + (uint)*puVar30) * 8) = DAT_0047c764;
                                                    *(undefined4 *)
                                                     (*(int *)((int)&DAT_0047ced4 + iVar10) + 4 +
                                                     ((uint)*(ushort *)(&DAT_0047cf16 + iVar15 * 2)
                                                     + (uint)*puVar30) * 8) = 1;
                                                  }
                                                  else {
                                                    local_1c14 = (ushort *)
                                                                 (&DAT_0047cf16 +
                                                                 ((int)local_1be4 * 0x1e0 + uVar43)
                                                                 * 2);
                                                    *(ushort *)
                                                     (*(int *)((int)&DAT_0047ced4 + iVar10) +
                                                     ((uint)*local_1c14 + (uint)*puVar30) * 8) =
                                                         DAT_0047c764;
                                                    *(undefined4 *)
                                                     (*(int *)((int)&DAT_0047ced4 + iVar10) + 4 +
                                                     ((uint)*local_1c14 + (uint)*puVar30) * 8) = 0;
                                                  }
                                                }
                                                uVar43 += 1;
                                              } while ((int)uVar43 < *local_1c24);
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                  local_1bf0 = 0;
                  do {
                    uVar43 = local_1bf0;
                    uVar40 = local_244[local_1bf0];
                    puVar14 = local_244 + local_1bf0;
                    local_1be0 = CONCAT13(uVar40,(undefined3)local_1be0);
                    if ((((char)uVar40 < '0') || ('9' < (char)uVar40)) ||
                       (sVar33 = *(short *)((int)&DAT_0047cec8 + iVar10), sVar33 != 0)) {
                      strcpy_s((char *)local_1154,0x200,"");
                      iVar15 = FUN_004385b0((char *)local_1154,local_1be0._3_1_);
                      if ((iVar15 == 0) &&
                         (sVar33 = *(short *)((int)&DAT_0047cec8 + iVar10), sVar33 != 0))
                      goto LAB_00407df1;
LAB_004085b4:
                      if ((*puVar14 == ',') && (local_1c44 == 0)) {
                        local_1c20 &= 0xffff;
                        if (local_1c20 == 0) {
                          local_1c20 = 1;
                        }
                        if (*(short *)((int)&DAT_0047cec8 + iVar10) != 0) {
                          local_1c20 >>= 2;
                        }
                        strcat_s((char *)local_854,0x200,"");
                        dVar7 = 0.0;
                        local_1c6c = local_1c5c;
                        local_655 = 0;
                        local_1bf8 = NULL;
                        dVar3 = local_1c5c;
                        dVar1 = dVar7;
                        if (*(short *)(&DAT_0047cf0e + iVar10) != 0) {
                          local_1c28 = (ushort *)0x1;
                          pdVar27 = (double *)(*(int *)((int)&DAT_0047ced0 + iVar10) + 8);
                          do {
                            if (NAN(*pdVar27) == (*pdVar27 == 0.0)) {
                              local_1bf4 = (ushort *)
                                           (*(int *)((int)&DAT_0047cecc + iVar10) + 0x10 +
                                           (local_1c40 & 0xffff) * 0x20);
                              uVar22 = *(ushort *)(pdVar27 + -1);
                              uVar16 = (int)local_1bec;
                              if (uVar22 <= *local_1bf4) {
                                local_1c14 = (ushort *)(_DAT_0047c764 & 0xffff);
                                if ((uint)uVar22 < (int)local_1c14 + 1U) {
                                  dVar3 = *pdVar27;
                                  puVar39 = (ushort *)(*(ushort *)(&DAT_0047cf0e + iVar10) - 1);
                                  puVar30 = local_1c28;
                                  if ((int)puVar39 < (int)local_1c28) {
                                    puVar30 = puVar39;
                                  }
                                  if ((uint)*(ushort *)
                                             (*(int *)((int)&DAT_0047ced0 + iVar10) +
                                             (int)puVar30 * 0x10) < (int)local_1c14 + 1U) {
                                    puVar30 = local_1c28;
                                    if ((int)puVar39 < (int)local_1c28) {
                                      puVar30 = puVar39;
                                    }
                                    dVar1 = *(double *)
                                             (*(int *)((int)&DAT_0047ced0 + iVar10) + 8 +
                                             (int)puVar30 * 0x10);
                                    if ((NAN(dVar1) != (dVar1 == 0.0)) || (local_1bf8 == puVar39))
                                    goto LAB_00408755;
                                    iVar15 = ((uint)*(ushort *)(pdVar27 + 1) - (uint)*local_1bf4) +
                                             -1;
                                  }
                                  else {
LAB_00408755:
                                    iVar15 = (int)local_1c14 - (uint)*local_1bf4;
                                  }
                                  local_1bec = CONCAT44(iVar15,(int)local_1bec);
                                  dVar1 = *pdVar27 * 4.0 * (double)iVar15 + 0.0;
                                  local_1c6c = dVar3;
                                  goto LAB_00408731;
                                }
                              }
                              uVar43 = (_DAT_0047c764 & 0xffff) + 1;
                              local_1bec = (ulonglong)CONCAT24(uVar22,(int)local_1bec);
                              if (uVar22 < uVar43) {
                                puVar39 = (ushort *)(*(ushort *)(&DAT_0047cf0e + iVar10) - 1);
                                puVar30 = local_1c28;
                                if ((int)puVar39 < (int)local_1c28) {
                                  puVar30 = puVar39;
                                }
                                if (*(ushort *)
                                     (*(int *)((int)&DAT_0047ced0 + iVar10) + (int)puVar30 * 0x10)  <
                                    uVar43) {
                                  puVar30 = local_1c28;
                                  if ((int)puVar39 < (int)local_1c28) {
                                    puVar30 = puVar39;
                                  }
                                  dVar2 = *(double *)
                                           (*(int *)((int)&DAT_0047ced0 + iVar10) + 8 +
                                           (int)puVar30 * 0x10);
                                  if ((NAN(dVar2) == (dVar2 == 0.0)) && (local_1bf8 != puVar39)) {
                                    local_1bec._4_4_ = (uint)uVar22;
                                    iVar15 = *(ushort *)(pdVar27 + 1) - local_1bec._4_4_;
                                    local_1bec = CONCAT44(iVar15,uVar16);
                                    dVar1 = *pdVar27 * 4.0 * (double)iVar15 + dVar1;
                                    goto LAB_00408731;
                                  }
                                }
                                puVar30 = (ushort *)
                                          ((int)local_1bf8 * 0x10 +
                                          *(int *)((int)&DAT_0047ced0 + iVar10));
                                iVar15 = ((_DAT_0047c764 & 0xffff) - (uint)*puVar30) + 1;
                                local_1bec = CONCAT44(iVar15,uVar16);
                                dVar1 = *(double *)(puVar30 + 4) * 4.0 * (double)iVar15 + dVar1;
                                break;
                              }
                            }
LAB_00408731:
                            local_1c28 = (ushort *)((int)local_1c28 + 1);
                            local_1bf8 = (ushort *)((int)local_1bf8 + 1);
                            pdVar27 = pdVar27 + 2;
                          } while ((int)local_1bf8 < (int)(uint)*(ushort *)(&DAT_0047cf0e + iVar10 ))
                          ;
                        }
                        if ((ushort)local_1c08 < 3) {
                          local_1bfc = CONCAT22(local_1bfc._2_2_ + 1,(ushort)local_1bfc);
                        }
                        if (DAT_0047c764 == 0) {
                          local_1c6c = 0.0;
                          dVar3 = dVar7;
                        }
                        if ((ushort)local_1c1c < 2) {
                          piVar28 = (int *)((local_1c40 & 0xffff) * 0x20 +
                                           *(int *)((int)&DAT_0047cecc + iVar10));
                          dVar7 = (60.0 / *(double *)(piVar28 + 2)) * 1000.0;
                          local_1bec._4_4_ = (uint)*(ushort *)((int)piVar28 + 0x12);
                          dVar2 = (double)local_1bec._4_4_;
                          local_1bec._4_4_ = (uint)*(ushort *)(piVar28 + 5);
                          local_1bec._0_4_ =
                               (int)(longlong)
                                    ROUND((1.0 - dVar2 / (double)local_1bec._4_4_) * 4.0 * dVar3 *
                                          dVar7);
                          iVar15 = (int)local_1bec + local_1c64;
                          local_1be0 = CONCAT22(in_FPUControlWord,(undefined2)local_1be0);
                          local_1bec = (ulonglong)ROUND(dVar7 * dVar1);
                          uVar53 = local_1bec;
                          uVar43 = (int)local_1bec + iVar15 + *piVar28;
                          *(uint *)(DAT_0047b154 + (_DAT_0047c764 & 0xffff) * 4) =
                               uVar43 & ((int)uVar43 < 0) - 1;
                          local_1bec = uVar53;
                        }
                        DAT_0047c764 += 1;
                        local_1c44 = 1;
                        local_1c50 = 0;
                        uVar43 = local_1bf0;
                      }
                      else {
                        if ((*puVar14 == '\0') ||
                           (iVar15 = strncmp((char *)puVar14,"//",2), iVar15 == 0)) break;
                        if (local_1c44 == 1) goto LAB_004089cb;
                        if ((local_244[0] == '#') && (9 < (byte)(local_244[1] - 0x30))) break;
                      }
                    }
                    else {
LAB_00407df1:
                      if (local_1c44 != 0) goto LAB_004085b4;
                      local_1c20 = local_1c20 + 1;
                      if (sVar33 == 0) {
                        _mbsnbcat_s(local_854,0x200,puVar14,1);
                      }
                      else if (sVar33 != 0) {
                        _mbsnbcat_s(local_854,0x200,local_1154,4);
                      }
                    }
                    local_1bf0 = uVar43 + 1;
                  } while ((int)(uVar43 + 1) < 0x100);
                  if (local_1c44 == 1) {
LAB_004089cb:
                    fVar46 = (float10)4.0;
                    fVar47 = (float10)5.0;
                    fVar48 = (float10)0.5;
                    local_1c38 = 0;
                    fVar49 = (float10)60000.0;
                    local_1bf0 = 0;
                    fVar50 = (float10)0.2;
                    do {
                      uVar40 = local_854[local_1bf0];
                      local_1be0 = CONCAT13(uVar40,(undefined3)local_1be0);
                      if (uVar40 == '\0') break;
                      if (1 < (ushort)local_1c1c) {
                        uVar43 = 0;
                        if (*(ushort *)((int)&DAT_0047cf0a + iVar10) != 0) {
                          puVar30 = (ushort *)(*(int *)((int)&DAT_0047cecc + iVar10) + 0x10);
                          do {
                            if (puVar30[2] != 0) {
                              if (*puVar30 < DAT_0047c764) {
LAB_00408a96:
                                local_1c40 = uVar43 & 0xffff;
                              }
                              else if (*puVar30 == DAT_0047c764) {
                                local_1bf8 = (ushort *)(local_1c20 & 0xffff);
                                local_1bec._4_4_ = (uint)puVar30[1];
                                fVar51 = (float10)local_1bec._4_4_;
                                local_1bec._4_4_ = (uint)puVar30[2];
                                fVar52 = (float10)local_1bec._4_4_;
                                local_1bec = CONCAT44(local_1c38,(int)local_1bec) & 0xffffffffffff ;
                                if (fVar51 / fVar52 <=
                                    (float10)local_1bec._4_4_ / (float10)(int)(local_1c20 & 0xffff ))
                                goto LAB_00408a96;
                              }
                            }
                            uVar43 += 1;
                            puVar30 = puVar30 + 0x10;
                          } while ((int)uVar43 < (int)(uint)*(ushort *)((int)&DAT_0047cf0a + iVar1 0)
                                  );
                        }
                      }
                      iVar15 = 0;
                      puVar30 = (ushort *)((int)&DAT_0047cefe + iVar10);
                      do {
                        iVar20 = (uint)*(ushort *)((int)&local_1c + iVar15 * 2) + (uint)*puVar30;
                        if (iVar20 == 0) {
                          local_16e4[iVar15 + 6] = 0;
                        }
                        else {
                          local_16e4[iVar15 + 6] = *(int *)(DAT_0047e2c4 + -0x18 + iVar20 * 0x1c);
                        }
                        iVar15 += 1;
                        puVar30 = puVar30 + 1;
                      } while (iVar15 < 3);
                      iVar15 = *(ushort *)((int)&DAT_0047cf0a + iVar10) - 1;
                      if (0 < iVar15) {
                        puVar30 = (ushort *)
                                  (iVar15 * 0x20 + 0x12 + *(int *)((int)&DAT_0047cecc + iVar10));
                        do {
                          if ((puVar30[-1] == DAT_0047c764) && (*puVar30 != 0)) {
                            local_1bec._4_4_ = (uint)*puVar30;
                            fVar51 = (float10)local_1bec._4_4_;
                            local_1bec._4_4_ = (uint)puVar30[1];
                            fVar52 = (float10)local_1bec._4_4_;
                            local_1bec = CONCAT44(local_1c38,(int)local_1bec) & 0xffffffffffff;
                            local_1bf8 = (ushort *)(local_1c20 & 0xffff);
                            if (fVar51 / fVar52 <=
                                (float10)local_1bec._4_4_ / (float10)(int)(local_1c20 & 0xffff)) {
                              local_1c0c = (ushort *)
                                           CONCAT22(in_FPUControlWord,(undefined2)local_1c0c);
                              piVar28 = (int *)(iVar15 * 0x20 +
                                               *(int *)((int)&DAT_0047cecc + iVar10));
                              local_1bf8 = (ushort *)(local_1c20 & 0xffff);
                              fVar50 = (float10)(int)(local_1c20 & 0xffff);
                              local_1bec._4_4_ = (uint)*(ushort *)((int)piVar28 + 0x12);
                              fVar51 = (float10)local_1bec._4_4_;
                              local_1bec._4_4_ = (uint)*(ushort *)(piVar28 + 5);
                              local_1bec = (ulonglong)
                                           ROUND(((float10)60.0 / (float10)*(double *)(piVar28 + 2) )
                                                 * (float10)1000.0 *
                                                 ((((float10)(local_1c38 & 0xffff) -
                                                   (fVar51 / (float10)local_1bec._4_4_) * fVar50) *
                                                  fVar46) / fVar50) * (float10)local_1c5c);
                              uVar53 = local_1bec;
                              uVar43 = (int)local_1bec + *piVar28 + local_1c50;
                              fVar50 = (float10)0.2;
                              local_1c18 = (ushort *)(((int)uVar43 < 0) - 1 & uVar43);
                              local_1bec = uVar53;
                              break;
                            }
                          }
                          iVar15 += -1;
                          puVar30 = puVar30 + -0x10;
                        } while (0 < iVar15);
                      }
                      if (iVar15 == 0) {
                        local_1c0c = (ushort *)CONCAT22(in_FPUControlWord,(undefined2)local_1c0c);
                        local_1bf8 = (ushort *)(local_1c20 & 0xffff);
                        local_1bec = (ulonglong)
                                     ROUND((((float10)(local_1c38 & 0xffff) * fVar46) /
                                           (float10)(int)(local_1c20 & 0xffff)) *
                                           ((float10)60.0 /
                                           (float10)*(double *)
                                                     (*(int *)((int)&DAT_0047cecc + iVar10) + 8 +
                                                     (local_1c40 & 0xffff) * 0x20)) *
                                           (float10)1000.0 * (float10)local_1c5c);
                        uVar53 = local_1bec;
                        uVar43 = (int)local_1bec +
                                 *(int *)(DAT_0047b154 + -4 + (_DAT_0047c764 & 0xffff) * 4) +
                                 local_1c50;
                        local_1c18 = (ushort *)(((int)uVar43 < 0) - 1 & uVar43);
                        local_1bec = uVar53;
                      }
                      iVar15 = *local_1c24;
                      iVar20 = 0;
                      if (0 < iVar15) {
                        do {
                          if ((local_1c18 <= (ushort *)local_16e4[iVar20 + 6]) &&
                             ((ushort *)local_16e4[iVar20 + 6] == NULL)) {
                            local_1c18 = (ushort *)0x5;
                          }
                          iVar20 += 1;
                        } while (iVar20 < iVar15);
                      }
                      puVar30 = local_1be4;
                      puVar39 = local_1c18;
                      if (*(short *)((int)&DAT_0047cec8 + iVar10) == 0) {
                        if (((uVar40 == '8') || (('0' < (char)uVar40 && ((char)uVar40 < '5')))) &&
                           (local_1be0 = 0, 0 < iVar15)) {
                          do {
                            if ((local_1684[local_1be0 + 6] == 1) &&
                               ((2 < (ushort)local_1c08 || (local_1be0 == (local_1c08 & 0xffff)))) )
                            {
                              uVar22 = *(ushort *)((int)&local_1c + local_1be0 * 2);
                              uVar43 = (uint)uVar22;
                              local_1684[local_1be0 + 6] = 0;
                              if (uVar22 != 0) {
                                iVar15 = DAT_0047e2c4 +
                                         ((ushort)(&DAT_0047cefe)
                                                  [(int)local_1be4 * 0x1e0 + local_1be0] + uVar43) *
                                         0x1c;
                                if ((*(short *)(iVar15 + -0x1a) == 6) ||
                                   (*(short *)(iVar15 + -0x1a) == 8)) {
                                  local_1bf4 = (ushort *)(uint)*(ushort *)(iVar15 + -0xc);
                                  iVar20 = (int)local_1c18 - *(int *)(iVar15 + -0x18);
                                  local_1bec = CONCAT44(iVar20,(int)local_1bec);
                                  if (120.0 <= (double)(int)local_1bf4 / ((double)iVar20 / 1000.0) )
                                  {
                                    (&DAT_0047e2a4)[local_1be0] = (&DAT_0047e2a4)[local_1be0] + 1;
                                    iVar20 = local_1be0 + (int)local_1be4 * 0x78;
                                    (&DAT_0047c7b8)[iVar20] =
                                         (&DAT_0047c7b8)[iVar20] - (int)local_1bf4;
                                    if (DAT_0047e294 == 1) {
                                      (&DAT_0047c7c4)[iVar20] =
                                           (&DAT_0047c7c4)[iVar20] -
                                           (uint)*(ushort *)(iVar15 + -0xc);
                                      (&DAT_0047c7d0)[(int)local_1be4 * 0xf0 + local_1be0] =
                                           (&DAT_0047c7d0)[(int)local_1be4 * 0xf0 + local_1be0] + -1
                                      ;
                                    }
                                  }
                                }
                              }
                              iVar15 = DAT_0047e2c4;
                              iVar20 = (int)local_1be4 * 0x1e0 + local_1be0;
                              puVar26 = &DAT_0047cefe + iVar20;
                              *(undefined2 *)
                               (DAT_0047e2c4 + 2 + ((ushort)(&DAT_0047cefe)[iVar20] + uVar43) * 0x1 c
                               ) = 7;
                              *(ushort **)(iVar15 + 4 + (*puVar26 + uVar43) * 0x1c) = local_1c18;
                              *(undefined4 *)(iVar15 + 0x14 + (*puVar26 + uVar43) * 0x1c) = 0;
                              *(undefined2 *)(iVar15 + 0x18 + (*puVar26 + uVar43) * 0x1c) = 0xff;
                              iVar15 += (*puVar26 + uVar43) * 0x1c;
                              sVar33 = *(short *)(iVar15 + -0x1a);
                              if ((sVar33 == 4) || (sVar33 == 5)) {
                                fVar51 = (float10)1;
                                if (sVar33 == 5) {
                                  fVar51 = (float10)1.2;
                                }
                                if ((&DAT_0047c7d8)[local_1be0 + (int)local_1be4 * 0x78] == 1) {
                                  fVar51 = fVar51 + fVar50;
                                }
                                local_1bf4 = (ushort *)
                                             (&DAT_0047cf48 +
                                             ((int)local_1be4 * 0xf0 + local_1be0) * 4);
                                iVar15 = (*(int *)(iVar15 + 4) - *(int *)(iVar15 + -0x18)) + 0x32;
                                fVar52 = (float10)iVar15;
                                if (iVar15 < 0) {
                                  fVar52 = fVar52 + (float10)4294967296.0;
                                }
                                local_1c0c = (ushort *)
                                             CONCAT22(in_FPUControlWord,(undefined2)local_1c0c);
                                local_1bec = (longlong)ROUND(fVar52 * fVar51);
                                uVar53 = local_1bec;
                                local_1bec._0_4_ = (int)(longlong)ROUND(fVar52 * fVar51);
                                *(int *)local_1bf4 = *(int *)local_1bf4 + (int)local_1bec;
                                local_1bec = uVar53;
                              }
                              local_1c28 = (ushort *)(DAT_0047e2c4 + (*puVar26 + uVar43) * 0x1c);
                              if ((*(short *)(DAT_0047e2c4 + -0x1a + (*puVar26 + uVar43) * 0x1c) ==
                                   8) && (*(int *)(local_1c28 + -4) == 0)) {
                                iVar15 = *(int *)(local_1c28 + -0xc);
                                dVar3 = (double)((int)local_1c18 - iVar15);
                                if ((int)local_1c18 - iVar15 < 0) {
                                  dVar3 = dVar3 + 4294967296.0;
                                }
                                dVar1 = (double)iVar15;
                                if (iVar15 < 0) {
                                  dVar1 = dVar1 + 4294967296.0;
                                }
                                local_1c0c = (ushort *)
                                             CONCAT22(in_FPUControlWord,(undefined2)local_1c0c);
                                local_1bec = (ulonglong)ROUND(dVar1 + dVar3 * 0.6);
                                uVar53 = local_1bec;
                                *(int *)(local_1c28 + -4) = (int)local_1bec;
                                local_1bec = uVar53;
                              }
                              if (((local_854[local_1bf0] != '8') &&
                                  (sVar33 = *(short *)(DAT_0047e2c4 + -0x1a +
                                                      (*puVar26 + uVar43) * 0x1c), sVar33 != 6)) &&
                                 (sVar33 != 8)) {
                                piVar28 = (int *)(DAT_0047e2c4 + 4 + uVar43 * 0x1c);
                                *piVar28 = *piVar28 + -0x32;
                              }
                              *(short *)((int)&local_1c + local_1be0 * 2) =
                                   *(short *)((int)&local_1c + local_1be0 * 2) + 1;
                            }
                            local_1be0 += 1;
                          } while ((int)local_1be0 < *local_1c24);
                        }
                        uVar40 = local_854[local_1bf0];
                        if (((uVar40 == '1') || (uVar40 == '2')) ||
                           ((uVar40 == '3' || (uVar40 == '4')))) {
                          local_1be0 = 0;
                          local_1bf4 = (ushort *)*local_1c24;
                          if (0 < *local_1c24) {
                            do {
                              iVar10 = DAT_0047e2c4;
                              if ((2 < (ushort)local_1c08) || (local_1be0 == (local_1c08 & 0xffff) ))
                              {
                                uVar43 = (uint)*(ushort *)((int)&local_1c + local_1be0 * 2);
                                uVar40 = local_854[local_1bf0];
                                local_1bf8 = (ushort *)((int)local_1be4 * 0x1e0);
                                iVar15 = (int)local_1be4 * 0x1e0 + local_1be0;
                                uVar22 = (&DAT_0047cefe)[iVar15];
                                psVar38 = (short *)((int)&local_28 + local_1be0 * 2);
                                *psVar38 = *psVar38 + 1;
                                *(short *)(DAT_0047e2c4 + 2 + (uVar22 + uVar43) * 0x1c) =
                                     (char)uVar40 + -0x31;
                                *(ushort **)
                                 (iVar10 + 4 + ((ushort)(&DAT_0047cefe)[iVar15] + uVar43) * 0x1c) =
                                     local_1c18;
                                uVar22 = *(ushort *)((int)&local_28 + local_1be0 * 2);
                                *(undefined4 *)
                                 (iVar10 + 0x14 + ((ushort)(&DAT_0047cefe)[iVar15] + uVar43) * 0x1c )
                                     = 0;
                                if (1 < uVar22) {
                                  iVar20 = (int)local_1c18 -
                                           *(int *)(iVar10 + -0x18 +
                                                   ((ushort)(&DAT_0047cefe)[iVar15] + uVar43) * 0x1 c
                                                   );
                                  local_1c28 = (ushort *)
                                               (iVar10 + ((ushort)(&DAT_0047cefe)[iVar15] + uVar43)
                                                         * 0x1c);
                                  local_1bf4 = (ushort *)((local_1c40 & 0xffff) << 5);
                                  local_1bec = CONCAT44((uint)(&local_34)[local_1be0] * 10,
                                                        (int)local_1bec);
                                  fVar51 = fVar49;
                                  fVar52 = fVar48;
                                  fVar46 = fVar47;
                                  uVar53 = FUN_0045db50((uint)(&local_34)[local_1be0] * 10,
                                                        *(undefined4 *)
                                                         ((int)&DAT_0047cecc + local_1c04));
                                  fVar49 = fVar50;
                                  if (iVar20 < (int)uVar53) {
                                    fVar48 = fVar49;
                                    uVar53 = FUN_0045db50(extraout_ECX_03,(int)(uVar53 >> 0x20));
                                    if ((iVar20 < (int)uVar53) && ((&local_34)[local_1be0] == 0)) {
                                      uVar22 = *(ushort *)((int)&local_28 + local_1be0 * 2);
                                      if (uVar22 < 4) {
                                        iVar10 = 1;
                                        if (1 < uVar22) {
                                          do {
                                            iVar20 = DAT_0047e2c4 +
                                                     (((uint)(ushort)(&DAT_0047cefe)[iVar15] -
                                                      iVar10) + uVar43) * 0x1c;
                                            uVar6 = *(ushort *)(iVar20 + 2);
                                            if (uVar6 < 2) {
                                              *(ushort *)(iVar20 + 0x18) = uVar6 * 3;
                                            }
                                            iVar10 += 1;
                                          } while (iVar10 < (int)(uint)uVar22);
                                        }
                                      }
                                      *(undefined2 *)((int)&local_28 + local_1be0 * 2) = 2;
                                      (&local_34)[local_1be0] = 1;
                                    }
                                    sVar33 = *(short *)(DAT_0047e2c4 + -0x1a +
                                                       ((ushort)(&DAT_0047cefe)[iVar15] + uVar43) *
                                                       0x1c);
                                    iVar10 = DAT_0047e2c4 +
                                             ((ushort)(&DAT_0047cefe)[iVar15] + uVar43) * 0x1c;
                                    fVar50 = extraout_ST0_00;
                                    fVar49 = extraout_ST1_01;
                                    fVar47 = fVar51;
                                    fVar46 = fVar52;
                                    if (sVar33 == 0) {
                                      *(undefined2 *)(iVar10 + -4) = 1;
                                    }
                                    else if (sVar33 == 1) {
                                      *(undefined2 *)(iVar10 + -4) = 4;
                                    }
                                  }
                                  else {
                                    uVar22 = *(ushort *)((int)&local_28 + local_1be0 * 2);
                                    uVar18 = (uint)uVar22;
                                    bVar45 = (uVar22 & 1) == 0;
                                    if (false) {
                                      bVar45 = ((uVar18 & 0x80000001) - 1 | 0xfffffffe) ==
                                               0xffffffff;
                                    }
                                    if ((bVar45) && ((uVar22 == 4 || (0xf < uVar22)))) {
                                      iVar10 = 1;
                                      DAT_0047e2b0 = 0;
                                      if (1 < uVar18) {
                                        puVar30 = local_1c28 + -0xd;
                                        do {
                                          if (*puVar30 != 0) {
                                            DAT_0047e2b0 = 2;
                                            goto LAB_00409867;
                                          }
                                          iVar10 += 1;
                                          puVar30 = puVar30 + -0xe;
                                        } while (iVar10 < (int)uVar18);
                                      }
                                      if (1 < uVar22 >> 1) {
                                        local_1c14 = (ushort *)((uVar22 >> 1) - 1);
                                        iVar10 = 2;
                                        do {
                                          iVar20 = (uint)(ushort)(&DAT_0047cefe)[iVar15] - iVar10;
                                          iVar10 += 2;
                                          local_1c14 = (ushort *)((int)local_1c14 + -1);
                                          *(undefined2 *)
                                           (DAT_0047e2c4 + 0x18 + (iVar20 + uVar43) * 0x1c) = 2;
                                        } while (local_1c14 != NULL);
                                      }
                                    }
LAB_00409867:
                                    fVar50 = extraout_ST1_00;
                                    fVar48 = fVar51;
                                    fVar47 = fVar52;
                                    if ((2 < *(ushort *)((int)&local_28 + local_1be0 * 2)) &&
                                       ((&local_34)[local_1be0] == 1)) {
                                      iVar10 = DAT_0047e2c4 +
                                               ((ushort)(&DAT_0047cefe)[iVar15] + uVar43) * 0x1c;
                                      fVar48 = fVar49;
                                      uVar53 = FUN_0045db50(*(undefined4 *)
                                                             ((int)&DAT_0047cecc + local_1c04),
                                                            local_1bf4);
                                      fVar50 = extraout_ST0_01;
                                      fVar49 = extraout_ST1_02;
                                      fVar47 = fVar51;
                                      fVar46 = fVar52;
                                      if (*(int *)(iVar10 + -0x18) - *(int *)(iVar10 + -0x34) <
                                          (int)uVar53) {
                                        if (*(short *)(iVar10 + -0x1a) == 0) {
                                          *(undefined2 *)(iVar10 + -4) = 1;
                                        }
                                        else if (*(short *)(iVar10 + -0x1a) == 1) {
                                          *(undefined2 *)(iVar10 + -4) = 4;
                                        }
                                      }
                                    }
                                    *(undefined2 *)((int)&local_28 + local_1be0 * 2) = 1;
                                    (&local_34)[local_1be0] = 0;
                                  }
                                }
                                switch(local_854[local_1bf0]) {
                                case '1':
                                  uVar22 = (&DAT_0047cefe)[iVar15];
                                  uVar34 = 0;
                                  goto LAB_00409970;
                                case '2':
                                  uVar34 = 3;
                                  break;
                                case '3':
                                  uVar34 = 5;
                                  break;
                                case '4':
                                  uVar34 = 6;
                                  break;
                                default:
                                  goto switchD_0040992c_default;
                                }
                                uVar22 = (&DAT_0047cefe)[iVar15];
LAB_00409970:
                                *(undefined2 *)(DAT_0047e2c4 + 0x18 + (uVar22 + uVar43) * 0x1c) =
                                     uVar34;
switchD_0040992c_default:
                                *(short *)((int)&local_1c + local_1be0 * 2) =
                                     *(short *)((int)&local_1c + local_1be0 * 2) + 1;
                                local_1bf4 = (ushort *)*local_1c24;
                                uVar43 = 0;
                                if (0 < (int)local_1bf4) {
                                  do {
                                    if ((((2 < (ushort)local_1c08) && (local_1be0 == uVar43)) ||
                                        ((uVar43 == (local_1c08 & 0xffff) &&
                                         ((local_1c60 == 0 || (local_1684[uVar43] == 1)))))) ||
                                       ((local_1c60 == 1 &&
                                        ((local_1684[uVar43] == 0 &&
                                         (*(ushort *)
                                           (*(int *)((int)&DAT_0047cee0 + local_1c04) + 0x14 +
                                           (uint)local_1bf8[0x23e459] * 0x28) == local_1be0)))))) {
                                      uVar22 = *(ushort *)((int)&local_40 + uVar43 * 2);
                                      if (uVar22 < 99) {
                                        uVar40 = local_854[local_1bf0];
                                        *(ushort *)((int)&local_40 + uVar43 * 2) = uVar22 + 1;
                                        uVar18 = (ushort)(uVar22 + 1) / 10;
                                        if ((char)uVar40 < '3') {
                                          iVar10 = uVar18 * 7 + 0x1e;
                                        }
                                        else {
                                          iVar10 = uVar18 * 0xe + 0x3c;
                                        }
                                        local_1bec = CONCAT44(iVar10,(int)local_1bec);
                                        (&local_16b4)[uVar43] =
                                             (double)iVar10 + (&local_16b4)[uVar43];
                                        iVar10 = local_1be0 + (int)local_1be4 * 0x78;
                                        piVar28 = &DAT_0047c7d8 + iVar10;
                                        if ((&DAT_0047c7d8)[iVar10] == 1) {
                                          iVar10 = uVar18 * 7 + 0x1e;
                                          if ((char)uVar40 < '3') {
                                            local_1bec = CONCAT44(iVar10,(int)local_1bec);
                                            (&local_16b4)[uVar43] =
                                                 (double)((float10)iVar10 * fVar50 +
                                                         (float10)(&local_16b4)[uVar43]);
                                          }
                                          else {
                                            local_1bec = CONCAT44(iVar10,(int)local_1bec);
                                            (&local_16b4)[uVar43] =
                                                 (double)iVar10 * 0.4 + (&local_16b4)[uVar43];
                                          }
                                        }
                                      }
                                      else {
                                        *(ushort *)((int)&local_40 + uVar43 * 2) = uVar22 + 1;
                                        uVar40 = local_854[local_1bf0];
                                        iVar10 = (int)local_1be4 * 0x78 + uVar43;
                                        iVar15 = (int)local_1be4 * 0x78 + local_1be0;
                                        (&DAT_0047c78c)[iVar10] = (&DAT_0047c78c)[iVar10] + 1;
                                        piVar28 = &DAT_0047c7d8 + iVar15;
                                        if ((&DAT_0047c7d8)[iVar15] == 1) {
                                          (&DAT_0047c798)[iVar10] = (&DAT_0047c798)[iVar10] + 1;
                                        }
                                      }
                                      iVar10 = (int)local_1be4 * 0xf0 + uVar43;
                                      if ((char)uVar40 < '3') {
                                        (&DAT_0047c7a4)[iVar10] = (&DAT_0047c7a4)[iVar10] + 1;
                                      }
                                      else {
                                        (&DAT_0047c7a4)[iVar10] = (&DAT_0047c7a4)[iVar10] + 1;
                                      }
                                      if (*piVar28 == 1) {
                                        *(short *)(&DAT_0047c7aa + iVar10 * 2) =
                                             *(short *)(&DAT_0047c7aa + iVar10 * 2) + 1;
                                      }
                                    }
                                    uVar43 += 1;
                                  } while ((int)uVar43 < (int)local_1bf4);
                                }
                              }
                              local_1be0 += 1;
                              iVar10 = local_1c04;
                              puVar30 = local_1be4;
                              puVar39 = local_1c18;
                            } while ((int)local_1be0 < (int)local_1bf4);
                          }
                        }
                        else if (((((uVar40 == '5') || (uVar40 == '6')) || (uVar40 == '7')) ||
                                 (uVar40 == '9')) && (local_1be0 = 0, 0 < *local_1c24)) {
                          do {
                            iVar15 = DAT_0047e2c4;
                            if (local_1684[local_1be0 + 6] == 0) {
                              if ((2 < (ushort)local_1c08) || (local_1be0 == (local_1c08 & 0xffff) ))
                              {
                                uVar40 = local_854[local_1bf0];
                                local_1684[local_1be0 + 6] = 1;
                                uVar43 = (uint)*(ushort *)((int)&local_1c + local_1be0 * 2);
                                iVar20 = (int)local_1be4 * 0x1e0 + local_1be0;
                                puVar30 = &DAT_0047cefe + iVar20;
                                *(short *)(DAT_0047e2c4 + 2 +
                                          ((ushort)(&DAT_0047cefe)[iVar20] + uVar43) * 0x1c) =
                                     (char)uVar40 + -0x31;
                                *(ushort **)(iVar15 + 4 + (*puVar30 + uVar43) * 0x1c) = local_1c18;
                                fVar51 = fVar48;
                                if (*(short *)((int)&local_28 + local_1be0 * 2) != 0) {
                                  local_1c28 = (ushort *)(DAT_0047e2c4 + (*puVar30 + uVar43) * 0x1c )
                                  ;
                                  local_1bec = CONCAT44((uint)(&local_34)[local_1be0] * 10,
                                                        (int)local_1bec);
                                  fVar51 = fVar49;
                                  fVar46 = fVar47;
                                  uVar53 = FUN_0045db50(local_1be0,
                                                        (uint)(&local_34)[local_1be0] * 10);
                                  fVar50 = extraout_ST0;
                                  fVar49 = extraout_ST1;
                                  fVar47 = fVar48;
                                  if ((int)local_1c18 - *(int *)(local_1c28 + -0xc) < (int)uVar53)  {
                                    if (local_1c28[-2] == 0) {
                                      local_1c28[-2] = 1;
                                    }
                                    else if (local_1c28[-2] == 3) {
                                      local_1c28[-2] = 4;
                                    }
                                  }
                                }
                                puVar39 = local_1be4;
                                iVar15 = DAT_0047e2c4;
                                if (false) {
switchD_00409299_caseD_38:
                                }
                                else {
                                  switch(local_854[local_1bf0]) {
                                  case '5':
                                    *(undefined2 *)
                                     (DAT_0047e2c4 + 0x18 + (*puVar30 + uVar43) * 0x1c) = 7;
                                    break;
                                  case '6':
                                    *(undefined2 *)
                                     (DAT_0047e2c4 + 0x18 + (*puVar30 + uVar43) * 0x1c) = 8;
                                    break;
                                  case '7':
                                    *(undefined2 *)
                                     (DAT_0047e2c4 + 0x18 + (*puVar30 + uVar43) * 0x1c) = 10;
                                    break;
                                  default:
                                    goto switchD_00409299_caseD_38;
                                  case '9':
                                    if (DAT_0047e502 == 0xd) {
                                      *(undefined2 *)
                                       (DAT_0047e2c4 + 0x18 + (*puVar30 + uVar43) * 0x1c) = 7;
                                    }
                                    else {
                                      *(undefined2 *)
                                       (DAT_0047e2c4 + 0x18 + (*puVar30 + uVar43) * 0x1c) = 0xb;
                                    }
                                  }
                                }
                                if ((local_854[local_1bf0] == '7') || (local_854[local_1bf0] == '9 ')
                                   ) {
                                  if ((local_1be4 == NULL) &&
                                     ((ushort)local_1c34 == (short)local_24a)) {
                                  }
                                  psVar38 = (short *)((int)local_1c70 + (local_1c34 & 0xffff) * 2) ;
                                  local_1c14 = &DAT_0047cefe + (int)puVar39 * 0x1e0 + local_1be0;
                                  *(short *)(iVar15 + 0x10 + (*local_1c14 + uVar43) * 0x1c) =
                                       *psVar38;
                                  if (*psVar38 == 0) {
                                    *(undefined2 *)(iVar15 + 0x10 + (*local_1c14 + uVar43) * 0x1c)  =
                                         5;
                                  }
                                  uVar22 = (ushort)local_1c08;
                                  if (((uVar22 < 3) && (local_1be0 == (local_1c08 & 0xffff))) ||
                                     ((2 < uVar22 &&
                                      (local_1be0 == (&DAT_0047cf64)[(int)puVar39 * 0xf0] - 1U)))) {
                                    local_1c34 = local_1c34 + 1;
                                  }
                                  iVar10 = (int)puVar39 * 0x3c0;
                                  local_1c24 = &DAT_0047cf64 + (int)puVar39 * 0xf0;
                                  iVar15 = (&DAT_0047cf64)[(int)puVar39 * 0xf0];
                                  uVar18 = 0;
                                  local_1bec = CONCAT44(iVar15,(int)local_1bec);
                                  if (0 < iVar15) {
                                    do {
                                      if ((((2 < uVar22) && (local_1be0 == uVar18)) ||
                                          (uVar18 == (local_1c08 & 0xffff))) ||
                                         ((local_1c60 == 1 && (local_1684[uVar18] == 0)))) {
                                        iVar20 = uVar18 + (int)local_1be4 * 0x78;
                                        (&DAT_0047c7b8)[iVar20] =
                                             (&DAT_0047c7b8)[iVar20] +
                                             (uint)*(ushort *)
                                                    (DAT_0047e2c4 + 0x10 +
                                                    ((uint)*(ushort *)((int)&local_1c + uVar18 * 2)
                                                    + (uint)*local_1c14) * 0x1c);
                                        if (DAT_0047e294 == 1) {
                                          (&DAT_0047c7c4)[iVar20] =
                                               (&DAT_0047c7c4)[iVar20] +
                                               (uint)*(ushort *)
                                                      (DAT_0047e2c4 + 0x10 +
                                                      (*local_1c14 + uVar43) * 0x1c);
                                          (&DAT_0047c7d0)[(int)local_1be4 * 0xf0 + uVar18] =
                                               (&DAT_0047c7d0)[(int)local_1be4 * 0xf0 + uVar18] + 1 ;
                                        }
                                      }
                                      uVar18 += 1;
                                    } while ((int)uVar18 < iVar15);
                                  }
                                }
                                else {
                                  *(undefined2 *)(iVar15 + 0x10 + (*puVar30 + uVar43) * 0x1c) = 0;
                                }
                                *(short *)((int)&local_1c + local_1be0 * 2) =
                                     *(short *)((int)&local_1c + local_1be0 * 2) + 1;
                                puVar30 = local_1be4;
                                puVar39 = local_1c18;
                                fVar48 = fVar51;
                              }
                            }
                            else if (local_854[local_1bf0] == '9') {
                              *(ushort **)
                               (DAT_0047e2c4 + -8 +
                               ((uint)(ushort)(&DAT_0047cefe)[(int)puVar30 * 0x1e0 + local_1be0] +
                               (uint)*(ushort *)((int)&local_1c + local_1be0 * 2)) * 0x1c) = puVar 39
                              ;
                            }
                            local_1be0 += 1;
                          } while ((int)local_1be0 < *local_1c24);
                          local_1c04 = iVar10;
                        }
                      }
                      else if ((*(short *)((int)&DAT_0047cec8 + iVar10) != 0) &&
                              ((uVar40 == '0' || (uVar40 == '1')))) {
                        iVar15 = 0;
                        uVar22 = (ushort)local_1c;
                        do {
                          iVar20 = DAT_0047e2c4;
                          if ((local_854[iVar15 + local_1bf0] == '\0') ||
                             (*(ushort *)((int)&DAT_0047cef8 + iVar10) <= uVar22)) break;
                          if (local_854[iVar15 + local_1bf0] == '1') {
                            *(short *)(DAT_0047e2c4 + 2 +
                                      ((uint)*(ushort *)((int)&DAT_0047cefe + iVar10) + (uint)uVar2 2
                                      ) * 0x1c) = (short)iVar15;
                            *(ushort **)
                             (iVar20 + 4 +
                             ((uint)*(ushort *)((int)&DAT_0047cefe + iVar10) + (uint)uVar22) * 0x1 c)
                                 = local_1c18;
                            (&DAT_0047c78c)[(int)local_1be4 * 0x78] =
                                 (&DAT_0047c78c)[(int)local_1be4 * 0x78] + 1;
                            (&DAT_0047c7a4)[(int)local_1be4 * 0xf0] =
                                 (&DAT_0047c7a4)[(int)local_1be4 * 0xf0] + 1;
                            uVar22 = (ushort)local_1c + 1;
                            local_1c = CONCAT22(local_1c._2_2_,uVar22);
                          }
                          iVar15 += 1;
                        } while (iVar15 < 0x10);
                        local_1c38 = local_1c38 + 1;
                      }
                      puVar26 = local_1be4;
                      uVar43 = local_1c4c;
                      uVar40 = local_854[local_1bf0];
                      if (((char)uVar40 < '0') || ('9' < (char)uVar40)) {
                        if (uVar40 == '#') {
                          iVar10 = (int)local_1be4 * 0x3c0;
                          uVar43 = 1;
                          local_1c04 = iVar10;
                          if (1 < (ushort)(&DAT_0047cf0a)[(int)local_1be4 * 0x1e0]) {
                            psVar38 = (short *)((&DAT_0047cecc)[(int)local_1be4 * 0xf0] + 0x34);
                            do {
                              if (*psVar38 == 0) {
                                iVar15 = uVar43 * 0x20;
                                *(short *)(iVar15 + 0x14 + (&DAT_0047cecc)[(int)local_1be4 * 0xf0] )
                                     = (short)local_1c20;
                                *(ushort *)(iVar15 + 0x12 + (&DAT_0047cecc)[(int)local_1be4 * 0xf0 ])
                                     = (ushort)local_1c38;
                                *(short *)(iVar15 + 0x10 + (&DAT_0047cecc)[(int)local_1be4 * 0xf0] )
                                     = (short)_DAT_0047c764;
                                *(ushort **)(iVar15 + (&DAT_0047cecc)[(int)local_1be4 * 0xf0]) =
                                     puVar39;
                                local_1c40 = uVar43 & 0xffff;
                                local_1c50 = 0;
                                local_1c64 = 0;
                                break;
                              }
                              uVar43 += 1;
                              psVar38 = psVar38 + 0x10;
                            } while ((int)uVar43 <
                                     (int)(uint)(ushort)(&DAT_0047cf0a)[(int)local_1be4 * 0x1e0]);
                          }
                        }
                        else {
                          uVar22 = (ushort)local_1c08;
                          if (uVar40 == 'S') {
                            iVar10 = (int)puVar30 * 0x3c0;
                            local_1be0 = 0;
                            local_1c04 = iVar10;
                            local_1c24 = &DAT_0047cf64 + (int)puVar30 * 0xf0;
                            if (0 < (&DAT_0047cf64)[(int)puVar30 * 0xf0]) {
                              do {
                                if ((2 < uVar22) || (local_1be0 == (local_1c08 & 0xffff))) {
                                  iVar15 = (int)local_1be4 * 0x1e0 + local_1be0;
                                  uVar43 = (ushort)(&DAT_0047cf26)[iVar15] + 1;
                                  uVar18 = (uint)(ushort)(&DAT_0047cf20)[iVar15] +
                                           (uint)(ushort)(&DAT_0047cf26)[iVar15];
                                  if (uVar43 < uVar18) {
                                    piVar28 = (int *)((&DAT_0047ced8)[(int)puVar30 * 0xf0] +
                                                     uVar43 * 0x18);
                                    do {
                                      if (*piVar28 == 1) {
                                        *(ushort **)
                                         ((&DAT_0047ced8)[(int)puVar30 * 0xf0] + uVar43 * 0x18) =
                                             puVar39;
                                        if (puVar39 == (ushort *)0x5) {
                                          *(undefined4 *)
                                           (uVar43 * 0x18 + (&DAT_0047ced8)[(int)puVar30 * 0xf0]) =
                                               0;
                                        }
                                        break;
                                      }
                                      uVar43 += 1;
                                      piVar28 = piVar28 + 6;
                                    } while ((int)uVar43 < (int)uVar18);
                                  }
                                }
                                local_1be0 += 1;
                              } while ((int)local_1be0 < (&DAT_0047cf64)[(int)puVar30 * 0xf0]);
                            }
                          }
                          else if (uVar40 == 'G') {
                            iVar10 = (int)puVar30 * 0x3c0;
                            local_1c24 = &DAT_0047cf64 + (int)puVar30 * 0xf0;
                            local_1be0 = 0;
                            local_1c04 = iVar10;
                            if (0 < *local_1c24) {
                              do {
                                if ((2 < uVar22) || (local_1be0 == (local_1c08 & 0xffff))) {
                                  iVar15 = (int)local_1be4 * 0x1e0 + local_1be0;
                                  uVar43 = (uint)(ushort)(&DAT_0047cf32)[iVar15];
                                  if (uVar43 < (ushort)(&DAT_0047cf2c)[iVar15] + uVar43) {
                                    iVar20 = (&DAT_0047cedc)[(int)puVar30 * 0xf0];
                                    piVar28 = (int *)(iVar20 + uVar43 * 0x18);
                                    uVar18 = uVar43;
                                    do {
                                      if (*piVar28 == 1) {
                                        if (((int)uVar43 < (int)uVar18) &&
                                           (*(uint *)(iVar20 + -0x14 + uVar18 * 0x18) < 2)) {
                                          *(ushort **)(iVar20 + -0x14 + uVar18 * 0x18) =
                                               local_1c18 + -0x32;
                                        }
                                        iVar15 = uVar18 * 0x18;
                                        *(ushort **)(iVar15 + (&DAT_0047cedc)[(int)puVar30 * 0xf0])
                                             = local_1c18;
                                        (&DAT_0047c7d8)[local_1be0 + (int)local_1be4 * 0x78] = 1;
                                        if (*(int *)(iVar15 + (&DAT_0047cedc)[(int)puVar30 * 0xf0])
                                            == 1) {
                                          *(undefined4 *)
                                           (iVar15 + (&DAT_0047cedc)[(int)puVar30 * 0xf0]) = 0;
                                        }
                                        break;
                                      }
                                      uVar18 += 1;
                                      piVar28 = piVar28 + 6;
                                    } while ((int)uVar18 <
                                             (int)((ushort)(&DAT_0047cf2c)[iVar15] + uVar43));
                                  }
                                }
                                local_1be0 += 1;
                              } while ((int)local_1be0 < *local_1c24);
                            }
                          }
                          else if (uVar40 == 'H') {
                            iVar10 = (int)local_1be4 * 0x3c0;
                            local_1c24 = &DAT_0047cf64 + (int)local_1be4 * 0xf0;
                            uVar43 = 0;
                            local_1c04 = iVar10;
                            if (0 < *local_1c24) {
                              do {
                                if ((2 < uVar22) || (uVar43 == (local_1c08 & 0xffff))) {
                                  iVar15 = (int)local_1be4 * 0x1e0 + uVar43;
                                  uVar18 = (uint)(ushort)(&DAT_0047cf32)[iVar15];
                                  uVar31 = (ushort)(&DAT_0047cf2c)[iVar15] + uVar18;
                                  if (uVar18 < uVar31) {
                                    piVar28 = (int *)((&DAT_0047cedc)[(int)local_1be4 * 0xf0] + 4 +
                                                     uVar18 * 0x18);
                                    do {
                                      if (*piVar28 == 1) {
                                        iVar15 = uVar18 * 0x18;
                                        *(ushort **)
                                         ((&DAT_0047cedc)[(int)local_1be4 * 0xf0] + 4 + iVar15) =
                                             local_1c18;
                                        if (*(int *)(iVar15 + 4 +
                                                    (&DAT_0047cedc)[(int)local_1be4 * 0xf0]) == 1) {
                                          *(undefined4 *)
                                           (iVar15 + 4 + (&DAT_0047cedc)[(int)local_1be4 * 0xf0]) =
                                               2;
                                        }
                                        (&DAT_0047c7d8)[uVar43 + (int)local_1be4 * 0x78] = 0;
                                        break;
                                      }
                                      uVar18 += 1;
                                      piVar28 = piVar28 + 6;
                                    } while ((int)uVar18 < (int)uVar31);
                                  }
                                }
                                uVar43 += 1;
                              } while ((int)uVar43 < *local_1c24);
                            }
                          }
                          else if (uVar40 == 'D') {
                            iVar10 = (int)local_1be4 * 0x3c0;
                            fVar51 = fVar49;
                            fVar46 = fVar47;
                            local_1c04 = iVar10;
                            if ((ushort)local_1c38 == 0) {
                              uVar53 = FUN_0045db50((local_1c40 & 0xffff) << 5,
                                                    (&DAT_0047cecc)[(int)local_1be4 * 0xf0]);
                              iVar15 = DAT_0047b154;
                              local_1c0c = (ushort *)
                                           CONCAT22(in_FPUControlWord,(undefined2)local_1c0c);
                              local_1bec = (ulonglong)
                                           ROUND((((float10)local_1c5c * fVar46) /
                                                 (float10)(local_1c84 & 0xffff)) *
                                                 (float10)(int)uVar53);
                              uVar53 = local_1bec;
                              *(int *)((&DAT_0047cee8)[(int)puVar26 * 0xf0] + 4 + uVar43 * 0x10) =
                                   (int)puVar39 + (5 - (int)local_1bec);
                              piVar28 = (int *)(iVar15 + -4 + (_DAT_0047c764 & 0xffff) * 4);
                              *piVar28 = *piVar28 +
                                         *(int *)((&DAT_0047cee8)[(int)puVar26 * 0xf0] +
                                                 uVar43 * 0x10);
                              local_1c64 += *(int *)((&DAT_0047cee8)[(int)puVar26 * 0xf0] +
                                                    uVar43 * 0x10);
                              fVar50 = extraout_ST0_02;
                              fVar49 = extraout_ST1_03;
                              fVar47 = fVar48;
                              local_1bec = uVar53;
                            }
                            else {
                              local_1bf8 = (ushort *)(local_1c20 & 0xffff);
                              uVar53 = FUN_0045db50(local_1bf8,(local_1c40 & 0xffff) << 5);
                              local_1c0c = (ushort *)
                                           CONCAT22(in_FPUControlWord,(undefined2)local_1c0c);
                              local_1bec = (ulonglong)
                                           ROUND((((float10)local_1c5c * fVar46) /
                                                 (float10)(int)local_1bf8) * (float10)(int)uVar53);
                              uVar53 = local_1bec;
                              *(int *)((&DAT_0047cee8)[(int)puVar26 * 0xf0] + 4 + uVar43 * 0x10) =
                                   (int)puVar39 + (5 - (int)local_1bec);
                              iVar15 = *(int *)((&DAT_0047cee8)[(int)puVar26 * 0xf0] + uVar43 * 0x10
                                               );
                              local_1c64 += iVar15;
                              local_1c50 = local_1c50 + iVar15;
                              fVar50 = extraout_ST0_03;
                              fVar49 = extraout_ST1_04;
                              fVar47 = fVar48;
                              local_1bec = uVar53;
                            }
                            local_1c4c = local_1c4c + 1;
                            fVar48 = fVar51;
                          }
                        }
                      }
                      else {
                        iVar10 = (int)puVar30 * 0x3c0;
                        local_1c04 = iVar10;
                        if ((&DAT_0047cec8)[(int)puVar30 * 0x1e0] == 0) {
                          local_1c38 = local_1c38 + 1;
                        }
                        else {
                          local_1bf0 += 0xf;
                        }
                      }
                      local_1bf0 += 1;
                    } while ((int)local_1bf0 < 0x200);
                  }
                }
              }
LAB_0040a222:
              iVar15 = strncmp((char *)local_244,"#END",4);
              if (iVar15 == 0) {
                local_1c2c = 1;
                local_1c54 = 0;
              }
            }
            else {
              iVar20 = strncmp((char *)local_244,"#START",6);
              if (((iVar20 == 0) && (local_1c2c == 0)) &&
                 ((*(ushort *)((int)&DAT_0047cf56 + iVar10) == (ushort)local_1c10 ||
                  (200 < (ushort)local_1c10)))) {
                local_1c00 = NULL;
                pcVar13 = strchr((char *)(local_244 + 6),0x50);
                if (pcVar13 == NULL) {
                  pcVar13 = strchr((char *)(local_244 + 6),0x70);
                  if (pcVar13 == NULL) {
                    local_1c00 = (ushort *)0x1;
                  }
                  else {
                    pcVar13 = strchr((char *)(local_244 + 6),0x70);
                    iVar15 = strncmp(pcVar13,"p1",2);
                    if (iVar15 != 0) {
                      pcVar13 = strchr((char *)(local_244 + 6),0x70);
                      pcVar54 = "p2";
                      goto LAB_0040a34f;
                    }
                    local_1c00 = (ushort *)0x2;
                  }
                }
                else {
                  pcVar13 = strchr((char *)(local_244 + 6),0x50);
                  iVar15 = strncmp(pcVar13,"P1",2);
                  if (iVar15 == 0) {
                    local_1c00 = (ushort *)0x2;
                  }
                  else {
                    pcVar13 = strchr((char *)(local_244 + 6),0x50);
                    pcVar54 = "P2";
LAB_0040a34f:
                    iVar15 = strncmp(pcVar13,pcVar54,2);
                    if (iVar15 == 0) {
                      local_1c00 = (ushort *)0x3;
                    }
                  }
                }
                if ((((((short)local_1c3c == 0) || (DAT_0047cf56 != DAT_0047d316)) ||
                     (((int)local_1be4 * 2 + 2U &
                      (uint)auStack_172e[*(ushort *)((int)&DAT_0047cf56 + iVar10)]) == 0)) ||
                    ((((short)local_1c3c == 1 && (local_1c00 == (ushort *)0x1)) &&
                     (DAT_0047e2c8 == 1)))) ||
                   ((((local_1c3c ^ _DAT_0047e2c8) & 0xfffe) == 0 && (local_1c00 == local_1be4 + 1 ))
                   )) {
                  local_1c54 = 1;
                }
              }
              else {
                iVar20 = strncmp((char *)local_244,"COURSE:",7);
                if (((iVar20 == 0) && (iVar15 == 0)) && (local_1c2c == 0)) {
                  local_1c00 = (ushort *)0xff;
                  local_1c10 = 0xff;
                  _mbsnbcpy_s(local_454,0x100,local_244 + 7,0xfa);
                  sscanf_s((char *)local_454,"%hu",&local_1c10);
                  puVar14 = _mbschr(local_454,0x45);
                  if (puVar14 == NULL) {
                    puVar14 = _mbschr(local_454,0x65);
                    pcVar41 = _mbsnbcmp_exref;
                    if (puVar14 != NULL) {
                      puVar14 = _mbschr(local_454,0x65);
                      strcpy_s((char *)&local_654,0x200,(char *)puVar14);
                      pcVar41 = _mbsnbcmp_exref;
                      iVar15 = _mbsnbcmp(&local_654,(uchar *)"easy",4);
                      if (iVar15 == 0) goto LAB_0040a56c;
                      iVar15 = _mbsnbcmp(&local_654,(uchar *)"edit",4);
                      if (iVar15 == 0) {
                        local_1c10 = 4;
                      }
                    }
                  }
                  else {
                    puVar14 = _mbschr(local_454,0x45);
                    strcpy_s((char *)&local_654,0x200,(char *)puVar14);
                    pcVar41 = _mbsnbcmp_exref;
                    iVar15 = _mbsnbcmp(&local_654,(uchar *)"Easy",4);
                    if ((iVar15 == 0) ||
                       (iVar15 = _mbsnbcmp(&local_654,(uchar *)"EASY",4), iVar15 == 0)) {
LAB_0040a56c:
                      local_1c10 = 0;
                    }
                    else {
                      iVar15 = _mbsnbcmp(&local_654,(uchar *)"Edit",4);
                      if ((iVar15 == 0) ||
                         (iVar15 = _mbsnbcmp(&local_654,(uchar *)"EDIT",4), iVar15 == 0)) {
                        local_1c10 = 4;
                      }
                    }
                  }
                  puVar14 = _mbschr(local_454,0x4e);
                  if (puVar14 == NULL) {
                    puVar14 = _mbschr(local_454,0x6e);
                    if (puVar14 != NULL) {
                      puVar14 = _mbschr(local_454,0x6e);
                      strcpy_s((char *)&local_654,0x200,(char *)puVar14);
                      pcVar13 = "normal";
                      goto LAB_0040a63c;
                    }
                  }
                  else {
                    puVar14 = _mbschr(local_454,0x4e);
                    strcpy_s((char *)&local_654,0x200,(char *)puVar14);
                    iVar15 = (*pcVar41)(&local_654,"Normal",6);
                    if (iVar15 != 0) {
                      pcVar13 = "NORMAL";
LAB_0040a63c:
                      iVar15 = (*pcVar41)(&local_654,pcVar13,6);
                      if (iVar15 != 0) goto LAB_0040a64f;
                    }
                    local_1c10 = 1;
                  }
LAB_0040a64f:
                  puVar14 = _mbschr(local_454,0x48);
                  if (puVar14 == NULL) {
                    puVar14 = _mbschr(local_454,0x68);
                    if (puVar14 != NULL) {
                      puVar14 = _mbschr(local_454,0x68);
                      strcpy_s((char *)&local_654,0x200,(char *)puVar14);
                      pcVar13 = "hard";
                      goto LAB_0040a6ea;
                    }
                  }
                  else {
                    puVar14 = _mbschr(local_454,0x48);
                    strcpy_s((char *)&local_654,0x200,(char *)puVar14);
                    iVar15 = (*pcVar41)(&local_654,"Hard",4);
                    if (iVar15 != 0) {
                      pcVar13 = "HARD";
LAB_0040a6ea:
                      iVar15 = (*pcVar41)(&local_654,pcVar13,4);
                      if (iVar15 != 0) goto LAB_0040a6fd;
                    }
                    local_1c10 = 2;
                  }
LAB_0040a6fd:
                  puVar14 = _mbschr(local_454,0x4f);
                  if (puVar14 == NULL) {
                    puVar14 = _mbschr(local_454,0x6f);
                    if (puVar14 != NULL) {
                      puVar14 = _mbschr(local_454,0x6f);
                      strcpy_s((char *)&local_654,0x200,(char *)puVar14);
                      pcVar13 = "oni";
                      goto LAB_0040a798;
                    }
                  }
                  else {
                    puVar14 = _mbschr(local_454,0x4f);
                    strcpy_s((char *)&local_654,0x200,(char *)puVar14);
                    iVar15 = (*pcVar41)(&local_654,"Oni",3);
                    if (iVar15 != 0) {
                      pcVar13 = "ONI";
LAB_0040a798:
                      iVar15 = (*pcVar41)(&local_654,pcVar13,3);
                      if (iVar15 != 0) goto LAB_0040a7ab;
                    }
                    local_1c10 = 3;
                  }
LAB_0040a7ab:
                  puVar14 = _mbschr(local_454,0x74);
                  if (puVar14 == NULL) {
                    puVar14 = _mbschr(local_454,0x54);
                    if (puVar14 != NULL) {
                      puVar14 = _mbschr(local_454,0x54);
                      strcpy_s((char *)&local_654,0x200,(char *)puVar14);
                      iVar15 = (*pcVar41)(&local_654,"Tower",5);
                      if (iVar15 != 0) {
                        pcVar13 = "TOWER";
                        goto LAB_0040a7ec;
                      }
                      goto LAB_0040a7f5;
                    }
                  }
                  else {
                    puVar14 = _mbschr(local_454,0x74);
                    strcpy_s((char *)&local_654,0x200,(char *)puVar14);
                    pcVar13 = "tower";
LAB_0040a7ec:
                    iVar15 = (*pcVar41)(&local_654,pcVar13,5);
                    if (iVar15 == 0) {
LAB_0040a7f5:
                      local_1c10 = 5;
                    }
                  }
                  if (200 < *(ushort *)((int)&DAT_0047cf56 + iVar10)) {
                    uVar34 = (undefined2)local_1c10;
                    if (5 < (local_1c10 & 0xffff)) {
                      uVar34 = 5;
                    }
                    *(undefined2 *)((int)&DAT_0047cf56 + iVar10) = uVar34;
                  }
                  local_1c10 &= 0xffff;
                  if (5 < local_1c10) {
                    local_1c10 = 5;
                  }
                }
                else {
                  iVar15 = strncmp((char *)local_244,"STYLE:",6);
                  if ((iVar15 == 0) && (local_1c2c == 0)) {
                    local_1c00 = (ushort *)0xff;
                    _mbsnbcpy_s(local_454,0x100,local_244 + 6,0xfa);
                    sscanf_s((char *)local_454,"%u",&local_1c00);
                    puVar14 = _mbschr(local_244 + 6,0x73);
                    if (puVar14 == NULL) {
                      puVar14 = _mbschr(local_244 + 6,0x53);
                      pcVar41 = _mbsnbcmp_exref;
                      if (puVar14 != NULL) {
                        puVar14 = _mbschr(local_244 + 6,0x53);
                        strcpy_s((char *)&local_654,0x200,(char *)puVar14);
                        pcVar41 = _mbsnbcmp_exref;
                        iVar15 = _mbsnbcmp(&local_654,(uchar *)"Single",6);
                        if ((iVar15 == 0) ||
                           (iVar15 = _mbsnbcmp(&local_654,(uchar *)"SINGLE",6), iVar15 == 0)) {
                          local_1c3c = 1;
                        }
                      }
                    }
                    else {
                      puVar14 = _mbschr(local_244 + 6,0x73);
                      strcpy_s((char *)&local_654,0x200,(char *)puVar14);
                      pcVar41 = _mbsnbcmp_exref;
                      iVar15 = _mbsnbcmp(&local_654,(uchar *)"single",6);
                      if (iVar15 == 0) {
                        local_1c3c = 1;
                      }
                    }
                    puVar14 = _mbschr(local_244 + 6,100);
                    if (puVar14 == NULL) {
                      puVar14 = _mbschr(local_244 + 6,0x44);
                      if (puVar14 != NULL) {
                        puVar14 = _mbschr(local_244 + 6,0x44);
                        strcpy_s((char *)&local_654,0x200,(char *)puVar14);
                        iVar15 = (*pcVar41)(&local_654,"Double",6);
                        if (iVar15 != 0) {
                          pcVar13 = "DOUBLE";
                          goto LAB_0040aa68;
                        }
                        goto LAB_0040aa71;
                      }
                    }
                    else {
                      puVar14 = _mbschr(local_244 + 6,100);
                      strcpy_s((char *)&local_654,0x200,(char *)puVar14);
                      pcVar13 = "double";
LAB_0040aa68:
                      iVar15 = (*pcVar41)(&local_654,pcVar13,6);
                      if (iVar15 == 0) {
LAB_0040aa71:
                        local_1c3c = 2;
                      }
                    }
                    puVar14 = _mbschr(local_244 + 6,99);
                    if (puVar14 == NULL) {
                      puVar14 = _mbschr(local_244 + 6,0x43);
                      if (puVar14 != NULL) {
                        puVar14 = _mbschr(local_244 + 6,0x43);
                        strcpy_s((char *)&local_654,0x200,(char *)puVar14);
                        iVar15 = (*pcVar41)(&local_654,"Couple",6);
                        if (iVar15 != 0) {
                          pcVar13 = "COUPLE";
                          goto LAB_0040ab10;
                        }
                        goto LAB_0040ab19;
                      }
                    }
                    else {
                      puVar14 = _mbschr(local_244 + 6,99);
                      strcpy_s((char *)&local_654,0x200,(char *)puVar14);
                      pcVar13 = "couple";
LAB_0040ab10:
                      iVar15 = (*pcVar41)(&local_654,pcVar13,6);
                      if (iVar15 == 0) {
LAB_0040ab19:
                        local_1c3c = 2;
                      }
                    }
                    if ((int)local_1c00 - 1U < 2) {
                      local_1c3c = (uint)local_1c00 & 0xffff;
                    }
                  }
                }
              }
            }
            pcVar13 = fgets((char *)local_244,0x200,local_1c48);
            iVar15 = local_1c54;
          }
          fclose(local_1c48);
          puVar30 = local_1be4;
          iVar10 = DAT_0047e2c4;
          iVar15 = (int)local_1be4 * 0x3c0;
          local_1bf0 = 0;
          if (0 < (&DAT_0047cf64)[(int)local_1be4 * 0xf0]) {
            do {
              if (local_1684[local_1bf0 + 6] == 1) {
                uVar22 = *(ushort *)((int)&local_1c + local_1bf0 * 2);
                uVar43 = (uint)uVar22;
                local_1684[local_1bf0 + 6] = 0;
                *(undefined2 *)
                 (iVar10 + 2 + ((ushort)(&DAT_0047cefe)[(int)local_1be4 * 0x1e0] + uVar43) * 0x1c)  =
                     7;
                *(ushort **)
                 (iVar10 + 4 + ((ushort)(&DAT_0047cefe)[(int)local_1be4 * 0x1e0] + uVar43) * 0x1c)  =
                     local_1c18;
                *(undefined2 *)
                 (iVar10 + 0x18 + ((ushort)(&DAT_0047cefe)[(int)local_1be4 * 0x1e0] + uVar43) * 0x1c
                 ) = 0xff;
                *(ushort *)((int)&local_1c + local_1bf0 * 2) = uVar22 + 1;
              }
              local_1bf0 += 1;
            } while ((int)local_1bf0 < (&DAT_0047cf64)[(int)local_1be4 * 0xf0]);
          }
          local_1bf0 = 0;
          if (0 < (&DAT_0047cf64)[(int)local_1be4 * 0xf0]) {
            puVar39 = &DAT_0047cefe + (int)local_1be4 * 0x1e0;
            do {
              uVar43 = (uint)*(ushort *)((int)&local_1c + local_1bf0 * 2);
              if (uVar43 < (uint)*puVar39 + (uint)puVar39[-3]) {
                puVar35 = (undefined2 *)(iVar10 + uVar43 * 0x1c);
                do {
                  if (*(int *)(puVar35 + 2) == 0) {
                    *puVar35 = 1;
                  }
                  puVar35 = puVar35 + 0xe;
                  local_1bec = CONCAT44(puVar35,(int)local_1bec);
                  uVar43 += 1;
                } while ((int)uVar43 < (int)((uint)*puVar39 + (uint)puVar39[-3]));
              }
              local_1bf0 += 1;
              puVar39 = puVar39 + 1;
            } while ((int)local_1bf0 < (&DAT_0047cf64)[(int)local_1be4 * 0xf0]);
          }
          iVar10 = DAT_0047b154;
          iVar20 = 0;
          iVar37 = 0;
          if ((&DAT_0047cf1c)[(int)local_1be4 * 0x1e0] != 0) {
            do {
              *(undefined4 *)((&DAT_0047cee0)[(int)local_1be4 * 0xf0] + 4 + iVar20) =
                   *(undefined4 *)
                    (iVar10 + (uint)*(ushort *)((&DAT_0047cee0)[(int)local_1be4 * 0xf0] + iVar20) *
                              4);
              *(undefined4 *)((&DAT_0047cee0)[(int)local_1be4 * 0xf0] + 8 + iVar20) =
                   *(undefined4 *)
                    (iVar10 + (uint)*(ushort *)
                                     ((&DAT_0047cee0)[(int)local_1be4 * 0xf0] + 2 + iVar20) * 4);
              if ((iVar37 == (ushort)(&DAT_0047cf1c)[(int)local_1be4 * 0x1e0] - 1) &&
                 (*(int *)(iVar20 + 8 + (&DAT_0047cee0)[(int)local_1be4 * 0xf0]) == 0)) {
                *(int *)(iVar20 + 8 + (&DAT_0047cee0)[(int)local_1be4 * 0xf0]) = (int)local_1c18 +  1
                ;
              }
              iVar37 += 1;
              iVar20 += 0x28;
            } while (iVar37 < (int)(uint)(ushort)(&DAT_0047cf1c)[(int)local_1be4 * 0x1e0]);
          }
          local_1be0 = 0;
          if (0 < (&DAT_0047cf64)[(int)local_1be4 * 0xf0]) {
            puVar39 = &DAT_0047cf3e + (int)local_1be4 * 0x1e0;
            do {
              uVar43 = (uint)*puVar39;
              if (uVar43 < puVar39[-3] + uVar43) {
                do {
                  *(undefined4 *)((&DAT_0047cee4)[(int)local_1be4 * 0xf0] + uVar43 * 8 + 4) =
                       *(undefined4 *)
                        (iVar10 + (uint)*(ushort *)
                                         ((&DAT_0047cee4)[(int)local_1be4 * 0xf0] + uVar43 * 8) * 4 )
                  ;
                  uVar43 += 1;
                } while ((int)uVar43 < (int)((uint)*puVar39 + (uint)puVar39[-3]));
              }
              local_1bf8 = (ushort *)(uint)puVar39[-6];
              if (local_1bf8 < (uint)puVar39[-9] + (int)local_1bf8) {
                iVar20 = (int)local_1bf8 * 0x18;
                do {
                  iVar37 = (&DAT_0047cedc)[(int)local_1be4 * 0xf0];
                  if (*(int *)(iVar37 + 0x10 + iVar20) == 1) {
                    *(undefined4 *)(iVar37 + iVar20) =
                         *(undefined4 *)(iVar10 + *(int *)(iVar37 + 0x14 + iVar20) * 4);
                  }
                  iVar36 = DAT_0047b154;
                  iVar37 = (&DAT_0047cedc)[(int)local_1be4 * 0xf0];
                  if ((*(int *)(iVar37 + 8 + iVar20) == 1) &&
                     (uVar43 = *(uint *)(iVar37 + 0xc + iVar20), iVar10 = iVar36,
                     uVar43 < (&DAT_0047cf0c)[(int)local_1be4 * 0x1e0])) {
                    *(undefined4 *)(iVar37 + 4 + iVar20) =
                         *(undefined4 *)(DAT_0047b154 + uVar43 * 4);
                  }
                  local_1bf8 = (ushort *)((int)local_1bf8 + 1);
                  iVar20 += 0x18;
                } while ((int)local_1bf8 < (int)((uint)puVar39[-6] + (uint)puVar39[-9]));
              }
              local_1be0 += 1;
              puVar39 = puVar39 + 1;
            } while ((int)local_1be0 < (&DAT_0047cf64)[(int)local_1be4 * 0xf0]);
          }
          *(undefined4 *)((&DAT_0047cecc)[(int)local_1be4 * 0xf0] + 0x18) = 0;
          *(undefined4 *)((&DAT_0047cecc)[(int)local_1be4 * 0xf0] + 0x1c) = 0;
          local_1bf8 = (ushort *)0x1;
          if (1 < (ushort)(&DAT_0047cf0a)[(int)local_1be4 * 0x1e0]) {
            iVar20 = 0x20;
            do {
              iVar37 = (&DAT_0047cecc)[(int)local_1be4 * 0xf0];
              if (*(int *)(iVar37 + iVar20) == 0) {
                *(undefined4 *)(iVar37 + iVar20) =
                     *(undefined4 *)(iVar10 + (uint)*(ushort *)(iVar37 + 0x10 + iVar20) * 4);
              }
              dVar3 = *(double *)((&DAT_0047cecc)[(int)local_1be4 * 0xf0] + -0x18 + iVar20);
              piVar28 = (int *)((&DAT_0047cecc)[(int)local_1be4 * 0xf0] + iVar20);
              if (NAN(dVar3) == (dVar3 == 0.0)) {
                local_1c5c._0_4_ =
                     (uint)(longlong)ROUND((60000.0 / *(double *)(piVar28 + -6)) * 2.0);
                iVar10 = (uint)(*piVar28 - piVar28[-8]) % local_1c5c._0_4_ + piVar28[-2];
                dVar3 = (double)iVar10;
                if (iVar10 < 0) {
                  dVar3 = dVar3 + 4294967296.0;
                }
                local_1c5c._0_4_ =
                     (uint)(longlong)
                           ROUND((*(double *)(piVar28 + -6) / *(double *)(piVar28 + 2)) * dVar3);
                piVar28[6] = local_1c5c._0_4_;
                iVar10 = DAT_0047b154;
                piVar28 = (int *)((&DAT_0047cecc)[(int)local_1be4 * 0xf0] + iVar20);
                local_1c5c._0_4_ =
                     (uint)(longlong)
                           ROUND((60000.0 / *(double *)(piVar28 + -6)) * (double)DAT_0047df40);
                iVar37 = (uint)(*piVar28 - piVar28[-8]) % local_1c5c._0_4_ + piVar28[-1];
                dVar3 = (double)iVar37;
                if (iVar37 < 0) {
                  dVar3 = dVar3 + 4294967296.0;
                }
                local_1c0c = (ushort *)CONCAT22(in_FPUControlWord,(undefined2)local_1c0c);
                local_1bec = (ulonglong)CONCAT24(in_FPUControlWord,(int)local_1bec) | 0xc000000000 0;
                local_1c5c = (double)(longlong)
                                     ROUND((*(double *)(piVar28 + -6) / *(double *)(piVar28 + 2)) *
                                           dVar3);
                piVar28[7] = local_1c5c._0_4_;
              }
              local_1bf8 = (ushort *)((int)local_1bf8 + 1);
              iVar20 += 0x20;
            } while ((int)local_1bf8 < (int)(uint)(ushort)(&DAT_0047cf0a)[(int)local_1be4 * 0x1e0] );
          }
          iVar37 = 0;
          iVar20 = 0;
          if ((&DAT_0047cf0a)[(int)local_1be4 * 0x1e0] != 0) {
            do {
              local_1c0c = (ushort *)CONCAT22(in_FPUControlWord,(undefined2)local_1c0c);
              local_1bec = (ulonglong)CONCAT24(in_FPUControlWord,(int)local_1bec) | 0xc0000000000 ;
              dVar3 = (double)(longlong)
                              ROUND(60000.0 / *(double *)
                                               ((&DAT_0047cecc)[(int)local_1be4 * 0xf0] + 8 + iVar3 7
                                               ));
              local_1c5c._0_4_ = SUB84(dVar3,0);
              if ((int)local_1c5c._0_4_ < 1) {
                local_1c5c._0_4_ = 1;
              }
              *(uint *)((&DAT_0047cef0)[(int)local_1be4 * 0xf0] + iVar20 * 4) = local_1c5c._0_4_;
              iVar20 += 1;
              iVar37 += 0x20;
              local_1c5c = dVar3;
            } while (iVar20 < (int)(uint)(ushort)(&DAT_0047cf0a)[(int)local_1be4 * 0x1e0]);
          }
          iVar20 = 0;
          if (*(short *)(&DAT_0047cf1e + iVar15) != 0) {
            do {
              puVar9 = (undefined4 *)((&DAT_0047ceec)[(int)local_1be4 * 0xf0] + iVar20 * 4);
              local_1c00 = (ushort *)*puVar9;
              *puVar9 = *(undefined4 *)(iVar10 + (int)local_1c00 * 4);
              iVar20 += 1;
            } while (iVar20 < (int)(uint)*(ushort *)(&DAT_0047cf1e + iVar15));
          }
          iVar20 = 0;
          if ((uint)*(ushort *)(&DAT_0047cf24 + iVar15) + (uint)*(ushort *)(&DAT_0047cf2a + iVar15 )
              != 0) {
            iVar37 = 0;
            do {
              iVar36 = (&DAT_0047ced8)[(int)local_1be4 * 0xf0];
              if (*(int *)(iVar36 + 0x14 + iVar37) == 1) {
                *(undefined4 *)(iVar36 + iVar37) =
                     *(undefined4 *)(iVar10 + *(int *)(iVar36 + 0x10 + iVar37) * 4);
              }
              iVar20 += 1;
              iVar37 += 0x18;
            } while (iVar20 < (int)((uint)*(ushort *)(&DAT_0047cf24 + iVar15) +
                                   (uint)*(ushort *)(&DAT_0047cf2a + iVar15)));
          }
          local_1bf0 = 0;
          if (*(short *)(&DAT_0047cf44 + iVar15) != 0) {
            do {
              local_1bf8 = NULL;
              if ((&DAT_0047cf0a)[(int)local_1be4 * 0x1e0] != 0) {
                local_1bf4 = (ushort *)(local_1bf0 * 0x10);
                iVar10 = 0;
                do {
                  iVar20 = *(int *)((&DAT_0047cee8)[(int)local_1be4 * 0xf0] + 4 + (int)local_1bf4) ;
                  iVar37 = *(int *)(iVar10 + (&DAT_0047cecc)[(int)local_1be4 * 0xf0]);
                  piVar28 = (int *)((&DAT_0047cee8)[(int)local_1be4 * 0xf0] + (int)local_1bf4);
                  if ((iVar20 <= iVar37) && (iVar37 <= *piVar28 + iVar20)) {
                    piVar28[1] = iVar37;
                  }
                  if (*(int *)((&DAT_0047cecc)[(int)local_1be4 * 0xf0] + iVar10) <=
                      *(int *)((int)local_1bf4 + (&DAT_0047cee8)[(int)local_1be4 * 0xf0] + 4)) {
                    *(undefined8 *)((int)local_1bf4 + (&DAT_0047cee8)[(int)local_1be4 * 0xf0] + 8)  =
                         *(undefined8 *)((&DAT_0047cecc)[(int)local_1be4 * 0xf0] + 8 + iVar10);
                  }
                  local_1bf8 = (ushort *)((int)local_1bf8 + 1);
                  iVar10 += 0x20;
                } while ((int)local_1bf8 <
                         (int)(uint)(ushort)(&DAT_0047cf0a)[(int)local_1be4 * 0x1e0]);
              }
              local_1bf0 += 1;
            } while ((int)local_1bf0 < (int)(uint)*(ushort *)(&DAT_0047cf44 + iVar15));
          }
          puVar39 = (ushort *)(_DAT_0047e298 >> 0x10);
          if ((((int)puVar39 +
                (_DAT_0047e298 & 0xffff) +
                (_DAT_0047e2a0 >> 0x10) + (_DAT_0047e2a0 & 0xffff) + (_DAT_0047e29c >> 0x10) +
                (_DAT_0047e29c & 0xffff) != 0) &&
              (puVar39 = (ushort *)((_DAT_0047e2c8 & 0xffff) - 1), local_1be4 == puVar39)) &&
             (local_1c70 != NULL)) {
            free(local_1c70);
            local_1c70 = NULL;
            puVar39 = extraout_EDX_03;
          }
          local_1be0 = 0;
          puVar26 = puVar30;
          if (0 < (&DAT_0047cf64)[(int)puVar30 * 0xf0]) {
            puVar32 = &DAT_0047cf2c + (int)puVar30 * 0x1e0;
            psVar38 = &DAT_0047c7a4 + (int)puVar30 * 0xf0;
            local_1bf4 = (ushort *)(&DAT_0047c7d8 + (int)puVar30 * 0x78);
            do {
              uVar53 = local_1bec;
              if (*puVar32 != 0) {
                iVar10 = 1;
                if (1 < *puVar32) {
                  do {
                    puVar44 = (uint *)((&DAT_0047cedc)[(int)puVar30 * 0xf0] +
                                      ((uint)puVar32[3] + iVar10) * 0x18);
                    if (*puVar44 <= puVar44[-5]) {
                      *puVar44 = puVar44[-5] + 1;
                    }
                    iVar10 += 1;
                  } while (iVar10 < (int)(uint)*puVar32);
                }
                if (*(uint *)((&DAT_0047cedc)[(int)puVar30 * 0xf0] + -0x14 +
                             ((uint)puVar32[3] + (uint)*puVar32) * 0x18) < 6) {
                  puVar39 = local_1c18;
                  if (local_854[0] != 'H') {
                    puVar39 = local_1c18 + 30000;
                  }
                  *(ushort **)
                   ((&DAT_0047cedc)[(int)puVar30 * 0xf0] + -0x14 +
                   ((uint)puVar32[3] + (uint)*puVar32) * 0x18) = puVar39;
                }
              }
              local_1c0c = (ushort *)CONCAT22(in_FPUControlWord,(undefined2)local_1c0c);
              local_1bf4[0] = 0;
              local_1bf4[1] = 0;
              local_1bec._4_4_ = (uint)(ushort)psVar38[3];
              puVar39 = local_1bf4 + 2;
              puVar32 = puVar32 + 1;
              uVar53 = CONCAT44((int)ROUND((double)local_1bec._4_4_ * 0.2),(int)uVar53);
              local_1bec._4_2_ = (short)(int)ROUND((double)local_1bec._4_4_ * 0.2);
              psVar38[6] = local_1bec._4_2_ + *psVar38;
              local_1be0 += 1;
              psVar38 = psVar38 + 1;
              puVar26 = local_1be4;
              local_1bf4 = puVar39;
              local_1bec = uVar53;
            } while ((int)local_1be0 < (&DAT_0047cf64)[(int)puVar30 * 0xf0]);
          }
          iVar10 = 0;
          uVar43 = 1;
          DAT_0047e628 = (uint)((&DAT_0047cf56)[(int)puVar30 * 0x1e0] == 5);
          iVar15 = (int)puVar26 * 0x1e0;
          local_1be0 = 0;
          if ((&DAT_0047c78c)[(int)puVar26 * 0x78] == 0) {
            (&DAT_0047c78c)[(int)puVar26 * 0x78] = 1;
          }
          if (1 < (&DAT_0047cf64)[(int)puVar30 * 0xf0]) {
            local_1c14 = (ushort *)(&DAT_0047c790 + iVar15);
            do {
              puVar39 = *(ushort **)local_1c14;
              if (*(ushort **)((int)&DAT_0047c78c + iVar15 + iVar10) < puVar39) {
                iVar10 = uVar43 * 4;
                local_1be0 = uVar43;
              }
              if (puVar39 == NULL) {
                local_1c14[0] = 1;
                local_1c14[1] = 0;
                puVar39 = local_1c14;
              }
              local_1c14 = local_1c14 + 2;
              uVar43 += 1;
            } while ((int)uVar43 < (&DAT_0047cf64)[(int)puVar30 * 0xf0]);
          }
          switch((&DAT_0047cf56)[(int)puVar30 * 0x1e0]) {
          case 0:
            uVar22 = (&DAT_0047cf54)[(int)puVar30 * 0x1e0];
            (&DAT_0047acb0)[(int)puVar26] = 0x3fe4cccccccccccd;
            if (3 < uVar22) {
              (&DAT_0047acb0)[(int)puVar26] = 0x3fe6b851eb851eb8;
            }
            (&DAT_0047acc0)[(int)puVar26] = 0x3fe3333333333333;
            uVar8 = 0x3fe4000000000000;
            break;
          case 1:
            uVar22 = (&DAT_0047cf54)[(int)puVar30 * 0x1e0];
            (&DAT_0047acb0)[(int)puVar26] = 0x3fe6666666666666;
            if (4 < uVar22) {
              (&DAT_0047acb0)[(int)puVar26] = 0x3fe851eb851eb852;
            }
            (&DAT_0047acc0)[(int)puVar26] = 0x3fe6666666666666;
            uVar8 = 0x3fe6000000000000;
            break;
          case 2:
            uVar22 = (&DAT_0047cf54)[(int)puVar30 * 0x1e0];
            (&DAT_0047acb0)[(int)puVar26] = 0x3fe6666666666666;
            (&DAT_0047acc0)[(int)puVar26] = 0x3fe6666666666666;
            if (6 < uVar22) {
              (&DAT_0047acb0)[(int)puVar26] = 0x3fe851eb851eb852;
            }
            goto LAB_0040b492;
          case 3:
          case 4:
          case 5:
            uVar22 = (&DAT_0047cf54)[(int)puVar30 * 0x1e0];
            (&DAT_0047acb0)[(int)puVar26] = 0x3fe6666666666666;
            if (8 < uVar22) {
              (&DAT_0047acb0)[(int)puVar26] = 0x3fe851eb851eb852;
            }
            (&DAT_0047acc0)[(int)puVar26] = 0x3fe999999999999a;
LAB_0040b492:
            uVar8 = 0x3fe8000000000000;
            break;
          default:
            goto switchD_0040b3be_default;
          }
          (&DAT_0047acd0)[(int)puVar26] = uVar8;
switchD_0040b3be_default:
          if (0.0 < (float)local_1c78) {
            (&DAT_0047acb0)[(int)puVar26] = (double)(100.0 / (float)local_1c78);
          }
          iVar10 = DAT_0047dea8;
          (&DAT_0047ad6c)[(int)puVar26 * 5] = DAT_0047dea8;
          uVar53 = FUN_0045db50(iVar15,puVar39);
          iVar15 = (int)uVar53;
          (&DAT_0047ad70)[(int)puVar26 * 5] = iVar15 - iVar10;
          (&DAT_0047ad74)[(int)puVar26 * 5] = iVar15;
          iVar20 = DAT_0047aca4 - iVar10;
          (&DAT_0047ad78)[(int)puVar26 * 5] = iVar10 + iVar15;
          (&DAT_0047ad7c)[(int)puVar26 * 5] = iVar20;
          FUN_0040b6d0((int)puVar26);
          uVar22 = DAT_0047e2c8;
          uVar43 = _DAT_0047e2c8 & 0xffff;
          local_1be4 = (ushort *)((int)puVar26 + 1);
          (&DAT_0047c7d8)[local_1be0 + (int)puVar26 * 0x78] = 0;
        } while ((int)local_1be4 < (int)uVar43);
      }
      if ((1 < uVar22) && (iVar10 = 0, DAT_0047d2ca != 0)) {
        iVar15 = 0;
        do {
          puVar9 = (undefined4 *)(DAT_0047cecc + iVar15);
          puVar23 = (undefined4 *)(DAT_0047d28c + iVar15);
          for (iVar20 = 8; iVar20 != 0; iVar20 += -1) {
            *puVar23 = *puVar9;
            puVar9 = puVar9 + 1;
            puVar23 = puVar23 + 1;
          }
          iVar10 += 1;
          iVar15 += 0x20;
        } while (iVar10 < (int)(uint)DAT_0047d2ca);
        uVar22 = DAT_0047e2c8;
      }
      if (uVar22 != 0) {
        local_1c78 = &DAT_0047cefe;
        puVar44 = &DAT_0047c7ec;
        local_1c7c = (uint)uVar22;
        do {
          iVar10 = *(int *)(local_1c78 + 0x33);
          if (0 < iVar10) {
            puVar35 = (undefined2 *)((int)puVar44 + 0xce);
            puVar21 = puVar44;
            puVar30 = local_1c78;
            do {
              *puVar21 = (uint)*puVar30;
              *puVar35 = 0;
              puVar21 = puVar21 + 1;
              puVar30 = puVar30 + 1;
              puVar35 = puVar35 + 1;
              iVar10 += -1;
            } while (iVar10 != 0);
          }
          local_1c78 = local_1c78 + 0x1e0;
          puVar44 = puVar44 + 0x78;
          local_1c7c -= 1;
        } while (local_1c7c != 0);
      }
      _DAT_0047ca72 = 2;
      DAT_0047c890 = 2;
      __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
      return;
    }
    MessageBoxA(NULL,".tja.tjf",
                (LPCSTR)local_b54,0);
  }
  DAT_0047e5bc = 0;
LAB_00403147:
  __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __fastcall FUN_0040b6d0(int param_1)

{
  short sVar1;
  ushort uVar2;
  ushort uVar3;
  ushort uVar4;
  int iVar5;
  int iVar6;
  double dVar7;
  double dVar8;
  int iVar9;
  int iVar10;
  uint uVar11;
  ushort *puVar12;
  uint uVar13;
  uint *puVar14;
  ushort *puVar15;
  int iVar16;
  uint uVar17;
  int iVar18;
  uint uVar19;
  uint uVar20;
  int *piVar21;
  uint uVar22;
  int iVar23;
  uint uVar24;
  int iVar25;
  bool bVar26;
  float10 fVar27;
  float10 fVar28;
  float10 fVar29;
  float10 fVar30;
  float10 fVar31;
  float10 fVar32;
  float10 extraout_ST0;
  float10 extraout_ST0_00;
  float10 extraout_ST1;
  float10 extraout_ST1_00;
  ulonglong uVar33;
  int local_5c;
  int local_54;
  int local_4c;
  uint local_40;
  uint local_3c;
  ushort *local_38;
  int local_34;
  uint uStack_30;
  uint local_2c;
  ushort *local_28;
  int local_24;
  int local_18;
  uint local_14 [4];
  
  local_14[3] = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  iVar23 = param_1 * 0x1e0;
  uVar24 = *(uint *)(&DAT_0047c758 + iVar23);
  sVar1 = (&DAT_0047c752)[param_1 * 0xf0];
  local_38 = NULL;
  bVar26 = false;
  (&DAT_0047c784)[param_1 * 0x78] = *(undefined4 *)(&DAT_0047c754 + iVar23);
  (&DAT_0047c788)[param_1 * 0x78] = uVar24;
  if (sVar1 != 2) {
    (&DAT_0047c788)[param_1 * 0x78] = (uVar24 / 10) * 10;
  }
  iVar16 = (&DAT_0047cf64)[param_1 * 0xf0];
  uVar24 = 0;
  if (0 < iVar16) {
    local_28 = &DAT_0047cf3e + param_1 * 0x1e0;
    bVar26 = false;
    do {
      uVar17 = (uint)*local_28;
      if (uVar17 < local_28[-3] + uVar17) {
        iVar9 = (local_28[-3] + uVar17) - uVar17;
        do {
          if (!bVar26) {
            local_38 = (ushort *)(uVar24 & 0xffff);
          }
          bVar26 = !bVar26;
          iVar9 += -1;
        } while (iVar9 != 0);
      }
      local_28 = local_28 + 1;
      uVar24 += 1;
    } while ((int)uVar24 < iVar16);
  }
  uVar24 = 0;
  if ((&DAT_0047c78c)[param_1 * 0x78] == 0) {
    (&DAT_0047c78c)[param_1 * 0x78] = 1;
  }
  uVar17 = 1;
  if (1 < iVar16) {
    do {
      if ((!bVar26) || ((ushort *)uVar17 != local_38)) {
        iVar9 = param_1 * 0x78 + uVar17;
        if ((uint)(&DAT_0047c78c)[param_1 * 0x78 + uVar24] < (uint)(&DAT_0047c78c)[iVar9]) {
          uVar24 = uVar17;
        }
        if ((&DAT_0047c78c)[iVar9] == 0) {
          (&DAT_0047c78c)[iVar9] = 1;
        }
      }
      uVar17 += 1;
    } while ((int)uVar17 < iVar16);
  }
  uVar2 = (&DAT_0047cf56)[param_1 * 0x1e0];
  switch(uVar2) {
  case 0:
    iVar9 = ((ushort)(&DAT_0047cf54)[param_1 * 0x1e0] + 0xe) * 20000;
    goto LAB_0040b87d;
  case 1:
    (&DAT_0047c768)[param_1 * 0x78] = ((ushort)(&DAT_0047cf54)[param_1 * 0x1e0] + 7) * 50000;
    break;
  case 2:
    iVar9 = (ushort)(&DAT_0047cf54)[param_1 * 0x1e0] + 10;
LAB_0040b877:
    iVar9 *= 50000;
LAB_0040b87d:
    (&DAT_0047c768)[param_1 * 0x78] = iVar9;
    break;
  case 3:
  case 4:
  case 5:
    uVar17 = (uint)(ushort)(&DAT_0047cf54)[param_1 * 0x1e0];
    if (uVar17 < 10) {
      iVar9 = uVar17 + 0xd;
      goto LAB_0040b877;
    }
    (&DAT_0047c768)[param_1 * 0x78] = (uVar17 + 2) * 100000;
  }
  if (((&DAT_0047c752)[param_1 * 0xf0] == 2) && (DAT_0047e2d8 == 1)) {
    (&DAT_0047c768)[param_1 * 0x78] = 1000000;
  }
  iVar10 = param_1 * 0xf0;
  iVar9 = iVar10 + uVar24;
  iVar6 = param_1 * 0x78;
  iVar25 = iVar6 + uVar24;
  iVar18 = (((uint)(ushort)(&DAT_0047e2a4)[uVar24] - (uint)(ushort)(&DAT_0047e298)[uVar24]) * 5 -
           (uint)(ushort)(&DAT_0047c7d0)[iVar9]) * 1000 +
           ((&DAT_0047c7b8)[iVar25] * 5 + (&DAT_0047c7c4)[iVar25]) * -0x3c +
           (&DAT_0047c768)[param_1 * 0x78];
  fVar27 = (float10)iVar18;
  if (iVar18 < 0) {
    fVar27 = fVar27 + (float10)4294967296.0;
  }
  iVar18 = (&DAT_0047c798)[iVar25];
  fVar28 = (float10)(int)((uint)*(ushort *)(&DAT_0047c7aa + iVar9 * 2) - iVar18);
  if ((int)((uint)*(ushort *)(&DAT_0047c7aa + iVar9 * 2) - iVar18) < 0) {
    fVar28 = fVar28 + (float10)4294967296.0;
  }
  fVar29 = (float10)0.2;
  iVar5 = (&DAT_0047c78c)[iVar25];
  fVar30 = (float10)(int)((uint)(ushort)(&DAT_0047c7a4)[iVar9] - iVar5);
  if ((int)((uint)(ushort)(&DAT_0047c7a4)[iVar9] - iVar5) < 0) {
    fVar30 = fVar30 + (float10)4294967296.0;
  }
  fVar31 = (float10)iVar18;
  if (iVar18 < 0) {
    fVar31 = fVar31 + (float10)4294967296.0;
  }
  fVar32 = (float10)iVar5;
  if (iVar5 < 0) {
    fVar32 = fVar32 + (float10)4294967296.0;
  }
  local_4c = (int)(longlong)
                  ROUND(fVar27 / (fVar32 + fVar31 * fVar29 +
                                 (fVar30 + fVar28 * fVar29) * (float10)0.612));
  fVar28 = (float10)5.0;
  fVar27 = (float10)10.0;
  iVar18 = (&DAT_0047c788)[param_1 * 0x78];
  iVar5 = ((local_4c + 5U) / 10) * 10;
  *(int *)(&DAT_0047c780 + iVar23) = iVar5;
  if (iVar18 == 0) {
    if (((&DAT_0047c752)[param_1 * 0xf0] == 1) && (DAT_0047e2b4 == 0)) {
      fVar30 = (float10)iVar5;
      if (iVar5 < 0) {
        fVar30 = fVar30 + (float10)4294967296.0;
      }
      local_4c = (int)(longlong)ROUND((fVar30 * (float10)0.07 + fVar28) / fVar27);
      (&DAT_0047c788)[param_1 * 0x78] = local_4c * 10;
      goto LAB_0040ba97;
    }
    if (((true) && ((&DAT_0047c752)[param_1 * 0xf0] == 2)) && (DAT_0047e2b4 == 0)) {
      dVar7 = (double)iVar5;
      if (iVar5 < 0) {
        dVar7 = dVar7 + 4294967296.0;
      }
      local_4c = (int)(longlong)ROUND(dVar7 * 0.084);
      (&DAT_0047c788)[param_1 * 0x78] = local_4c;
      goto LAB_0040ba97;
    }
  }
  (&DAT_0047c788)[param_1 * 0x78] = *(undefined4 *)(&DAT_0047c758 + iVar23);
LAB_0040ba97:
  DAT_0047e2b0 = *(int *)(&DAT_0047c780 + iVar23) + (&DAT_0047c788)[param_1 * 0x78] * -10;
  if (((*(int *)(&DAT_0047c754 + iVar23) == 0) && (*(int *)(&DAT_0047c758 + iVar23) == 0)) &&
     ((DAT_0047e2b4 == 0 && ((int)DAT_0047e2b0 < (&DAT_0047c788)[param_1 * 0x78] * 3)))) {
    do {
      if ((3 < uVar2) && (DAT_0047e2d8 != 1)) break;
      (&DAT_0047c788)[param_1 * 0x78] = (&DAT_0047c788)[param_1 * 0x78] + -10;
      DAT_0047e2b0 += 100;
    } while ((int)DAT_0047e2b0 < (&DAT_0047c788)[param_1 * 0x78] * 3);
  }
  uVar17 = uVar24;
  if (DAT_0047e2d8 == 0) {
    uVar19 = (uint)(ushort)(&DAT_0047c752)[param_1 * 0xf0];
    if ((&DAT_0047c752)[param_1 * 0xf0] != 0) {
      if ((&DAT_0047c784)[param_1 * 0x78] != 0) {
        DAT_0047e2b0 = *(uint *)(&DAT_0047c754 + iVar23);
      }
      (&DAT_0047c784)[param_1 * 0x78] = DAT_0047e2b0;
      if ((DAT_0047e2d4 == 0) || (DAT_0047e2d6 == 0)) {
        uVar19 = 0;
        *(undefined4 *)(&DAT_0047c8e8 + param_1 * 0xf0) = 0;
        (&DAT_0047c8ec)[param_1 * 0xf0] = 0;
      }
      DAT_0047e294 = 0;
      DAT_0047e2b0 = 0;
      if (uVar2 < 4) {
        if ((*(int *)(&DAT_0047c758 + iVar23) == 0) && (DAT_0047e2b4 == 0)) {
          fVar29 = fVar28;
          uVar33 = FUN_0045db50((&DAT_0047c78c)[iVar25],uVar19);
          iVar9 = (int)uVar33 * 10;
          if ((int)(&DAT_0047c788)[param_1 * 0x78] <= iVar9) {
            iVar9 = (&DAT_0047c788)[param_1 * 0x78];
          }
          if (iVar9 < 10) {
            iVar9 = 10;
          }
          (&DAT_0047c788)[param_1 * 0x78] = iVar9;
          fVar27 = extraout_ST0;
          fVar28 = extraout_ST1;
        }
        if (*(int *)(&DAT_0047c754 + iVar23) == 0) {
          fVar29 = fVar28;
          uVar33 = FUN_0045db50(0,(&DAT_0047c768)[param_1 * 0x78]);
          iVar9 = (int)uVar33 * 10;
          if ((int)(&DAT_0047c784)[param_1 * 0x78] <= iVar9) {
            iVar9 = (&DAT_0047c784)[param_1 * 0x78];
          }
          if (iVar9 < 10) {
            iVar9 = 10;
          }
          (&DAT_0047c784)[param_1 * 0x78] = iVar9;
          fVar27 = extraout_ST0_00;
          fVar28 = extraout_ST1_00;
        }
      }
      uVar19 = (uint)(ushort)(&DAT_0047cefe)[param_1 * 0x1e0];
      fVar30 = (float10)1;
      uVar3 = (&DAT_0047cef8)[param_1 * 0x1e0];
      do {
        DAT_0047e2b0 += 1;
        (&DAT_0047c7d8)[iVar25] = 0;
        uVar17 = 0;
        iVar9 = 0;
        local_5c = 0;
        (&DAT_0047c770)[param_1 * 0x78] = 0;
        DAT_0047e2b8 = 0;
        local_40 = 0;
        if (0 < iVar16) {
          puVar15 = &DAT_0047cefe + param_1 * 0x1e0;
          do {
            local_14[iVar9] = (uint)*puVar15;
            iVar9 += 1;
            puVar15 = puVar15 + 1;
          } while (iVar9 < iVar16);
        }
        if (uVar19 < uVar3 + uVar19) {
          uVar13 = (uint)(ushort)(&DAT_0047cf1c)[param_1 * 0x1e0];
          local_3c = uVar19;
          do {
            uVar11 = 0;
            if (0 < iVar16) {
              do {
                if (uVar11 == uVar17) {
                  local_14[uVar11] = local_3c;
                }
                uVar11 += 1;
              } while ((int)uVar11 < iVar16);
            }
            local_18 = *(int *)(DAT_0047e2c4 + 4 + local_3c * 0x1c);
            if (local_5c < (int)uVar13) {
              iVar9 = local_5c;
              do {
                iVar18 = (&DAT_0047cee0)[param_1 * 0xf0] + iVar9 * 0x28;
                iVar25 = *(int *)(iVar18 + 4);
                if (local_18 < iVar25) {
                  if ((local_3c ==
                       ((ushort)(&DAT_0047cef8)[iVar23 + uVar17] - 1) +
                       (uint)(ushort)(&DAT_0047cefe)[iVar23 + uVar17]) || (iVar9 == uVar13 - 1))
                  break;
                  if (iVar9 == 0) {
                    uVar17 = 0;
                    local_3c = local_14[0];
                  }
                  if (*(uint *)(DAT_0047e2c4 + 0x20 + local_14[uVar17] * 0x1c) <
                      *(uint *)(iVar18 + 0x2c)) break;
                }
                else {
                  local_5c = iVar9 + 1;
                  if (*(int *)(iVar18 + 0x10) == 0) {
                    uVar17 = uVar24 & 0xffff;
                    local_3c = local_14[uVar17];
                    local_18 = iVar25;
                  }
                  else {
                    if (iVar9 < (int)(uVar13 - 1)) {
                      if (*(uint *)(iVar18 + 0x2c) <=
                          *(uint *)(DAT_0047e2c4 + 0x20 +
                                   local_14[*(ushort *)(iVar18 + 0x14)] * 0x1c)) goto LAB_0040bdf6;
                      iVar25 = *(int *)(iVar18 + 4);
                    }
                    uVar17 = (uint)*(ushort *)(iVar18 + 0x14);
                    local_3c = local_14[uVar17];
                    local_18 = iVar25;
                  }
                }
LAB_0040bdf6:
                iVar9 += 1;
              } while (iVar9 < (int)uVar13);
            }
            if ((*(int *)(DAT_0047e2c4 + 4 + local_3c * 0x1c) < local_18) &&
               ((int)local_3c <
                (int)((uint)(ushort)(&DAT_0047cef8)[iVar23 + uVar17] +
                     (uint)(ushort)(&DAT_0047cefe)[iVar23 + uVar17]))) {
              local_3c += 1;
              local_14[uVar17] = local_3c;
            }
            local_2c = 0;
            if (0 < iVar16) {
              puVar15 = &DAT_0047cefe + param_1 * 0x1e0;
              puVar14 = local_14;
              do {
                if (local_2c != uVar17) {
                  uVar20 = (uint)*puVar15;
                  uVar11 = *puVar14 - 1;
                  if ((int)(*puVar14 - 1) < (int)uVar20) {
                    uVar11 = uVar20;
                  }
                  uVar4 = puVar15[-3];
                  if ((int)uVar11 < (int)(uVar4 + uVar20)) {
                    piVar21 = (int *)(DAT_0047e2c4 + 4 + uVar11 * 0x1c);
                    do {
                      if (local_18 < *piVar21) break;
                      *puVar14 = uVar11;
                      uVar11 += 1;
                      piVar21 = piVar21 + 7;
                    } while ((int)uVar11 < (int)(uVar4 + uVar20));
                  }
                }
                local_2c += 1;
                puVar15 = puVar15 + 1;
                puVar14 = puVar14 + 1;
              } while ((int)local_2c < iVar16);
            }
            iVar9 = iVar23 + uVar17;
            uVar11 = (uint)(ushort)(&DAT_0047cf32)[iVar9];
            uVar20 = (ushort)(&DAT_0047cf2c)[iVar9] + uVar11;
            if (uVar11 < uVar20) {
              uVar22 = *(uint *)(DAT_0047e2c4 + 4 + local_3c * 0x1c);
              puVar14 = (uint *)((&DAT_0047cedc)[param_1 * 0xf0] + uVar11 * 0x18);
              do {
                if ((*puVar14 <= uVar22) && (uVar22 <= puVar14[1])) {
                  (&DAT_0047c7d8)[iVar6 + uVar17] = 1;
                  break;
                }
                uVar11 += 1;
                puVar14 = puVar14 + 6;
                (&DAT_0047c7d8)[iVar6 + uVar17] = 0;
              } while ((int)uVar11 < (int)uVar20);
            }
            iVar18 = 0;
            if ((&DAT_0047c752)[param_1 * 0xf0] == 1) {
              iVar18 = (&DAT_0047c770)[param_1 * 0x78];
              if (100 < iVar18) {
                iVar18 = 100;
              }
              iVar18 /= 10;
            }
            else if ((&DAT_0047c752)[param_1 * 0xf0] == 2) {
              uVar11 = (&DAT_0047c770)[param_1 * 0x78];
              if (uVar11 < 10) {
                iVar18 = 0;
              }
              else if (uVar11 < 0x1e) {
                iVar18 = 1;
              }
              else if (uVar11 < 0x32) {
                iVar18 = 2;
              }
              else {
                iVar18 = (-(uint)(uVar11 < 100) & 0xfffffffc) + 8;
              }
            }
            uVar11 = (uint)*(ushort *)(DAT_0047e2c4 + 2 + local_3c * 0x1c);
            if (uVar11 < 2) {
              (&DAT_0047c770)[param_1 * 0x78] = (&DAT_0047c770)[param_1 * 0x78] + 1;
              iVar18 = (&DAT_0047c788)[param_1 * 0x78] * iVar18 + (&DAT_0047c784)[param_1 * 0x78];
              fVar31 = (float10)iVar18;
              if (iVar18 < 0) {
                fVar31 = fVar31 + (float10)4294967296.0;
              }
              local_24 = (int)(longlong)
                              ROUND((fVar31 * ((float10)(int)(&DAT_0047c7d8)[iVar6 + uVar17] *
                                               fVar29 + fVar30)) / fVar27);
              DAT_0047e2b8 += local_24 * 10;
            }
            else if (uVar11 < 4) {
              (&DAT_0047c770)[param_1 * 0x78] = (&DAT_0047c770)[param_1 * 0x78] + 1;
              iVar18 = (&DAT_0047c788)[param_1 * 0x78] * iVar18 + (&DAT_0047c784)[param_1 * 0x78];
              fVar31 = (float10)iVar18;
              if (iVar18 < 0) {
                fVar31 = fVar31 + (float10)4294967296.0;
              }
              local_24 = (int)(longlong)
                              ROUND((fVar31 * ((float10)(int)(&DAT_0047c7d8)[iVar6 + uVar17] *
                                               fVar29 + fVar30)) / fVar27);
              DAT_0047e2b8 += local_24 * 0x14;
            }
            else if ((uVar11 == 4) || (uVar11 == 5)) {
              if ((&DAT_0047c7d8)[iVar6 + uVar17] == 0) {
                iVar18 = DAT_0047e2c4 + local_14[uVar17] * 0x1c;
                iVar18 = (*(int *)(iVar18 + 0x20) - *(int *)(iVar18 + 4)) + 0x32;
                fVar31 = (float10)iVar18;
                if (iVar18 < 0) {
                  fVar31 = fVar31 + (float10)4294967296.0;
                }
                local_24 = (int)(longlong)
                                ROUND(((float10)(int)(uVar11 - 4) * fVar29 + fVar30) * fVar31);
              }
              else {
                if ((&DAT_0047c752)[param_1 * 0xf0] == 2) {
                  fVar31 = (float10)2.0;
                }
                else {
                  fVar31 = (float10)1.2;
                }
                iVar18 = DAT_0047e2c4 + local_14[uVar17] * 0x1c;
                iVar18 = (*(int *)(iVar18 + 0x20) - *(int *)(iVar18 + 4)) + 0x32;
                fVar32 = (float10)iVar18;
                if (iVar18 < 0) {
                  fVar32 = fVar32 + (float10)4294967296.0;
                }
                local_24 = (int)(longlong)
                                ROUND(((float10)(int)(uVar11 - 4) * fVar29 + fVar30) * fVar32 *
                                      fVar31);
              }
              local_40 += local_24;
            }
            if ((local_3c ==
                 ((ushort)(&DAT_0047cef8)[iVar9] - 1) + (uint)(ushort)(&DAT_0047cefe)[iVar9]) &&
               (uVar11 = 0, 0 < iVar16)) {
              puVar15 = &DAT_0047cefe + param_1 * 0x1e0;
              do {
                if ((int)local_14[uVar11] < (int)((puVar15[-3] - 1) + (uint)*puVar15)) {
                  local_3c = local_14[uVar11];
                  uVar17 = uVar11;
                  break;
                }
                uVar11 += 1;
                puVar15 = puVar15 + 1;
              } while ((int)uVar11 < iVar16);
            }
            local_3c += 1;
          } while ((int)local_3c <
                   (int)((uint)(ushort)(&DAT_0047cef8)[iVar23 + uVar17] +
                        (uint)(ushort)(&DAT_0047cefe)[iVar23 + uVar17]));
        }
        fVar31 = (float10)(int)local_40;
        iVar25 = iVar6 + uVar17;
        iVar9 = uVar17 + param_1 * 3;
        if ((&DAT_0047c752)[param_1 * 0xf0] == 2) {
          if ((int)local_40 < 0) {
            fVar31 = fVar31 + (float10)4294967296.0;
          }
          local_24 = (int)(longlong)
                          ROUND(((fVar31 / (float10)83.33333333333333) * (float10)100.0 + fVar28) /
                                fVar27);
          local_24 = ((((uint)(ushort)(&DAT_0047e298)[iVar9] - (uint)(ushort)(&DAT_0047e2a4)[uVar17]
                       ) + ((uint)(&DAT_0047c770)[param_1 * 0x78] / 100) * 2) * 5 +
                     (uint)(ushort)(&DAT_0047c7d0)[iVar10 + uVar17]) * 100 +
                     ((&DAT_0047c7b8)[iVar25] * 5 + (&DAT_0047c7c4)[iVar25]) * 6 + local_24;
        }
        else {
          if ((int)local_40 < 0) {
            fVar31 = fVar31 + (float10)4294967296.0;
          }
          local_24 = (int)(longlong)
                          ROUND(((fVar31 / (float10)83.33333333333333) * (float10)300.0 + fVar28) /
                                fVar27);
          local_24 = (((uint)(ushort)(&DAT_0047e298)[iVar9] - (uint)(ushort)(&DAT_0047e2a4)[uVar17])
                      * 5 + (uint)(ushort)(&DAT_0047c7d0)[iVar10 + uVar17]) * 100 +
                     ((&DAT_0047c7b8)[iVar25] * 5 + (&DAT_0047c7c4)[iVar25]) * 6 + local_24;
        }
        DAT_0047e2b8 += local_24 * 10;
        if ((0x1c1 < (int)DAT_0047e2b0) &&
           (uVar13 = (int)((&DAT_0047c768)[param_1 * 0x78] - DAT_0047e2b8) >> 0x1f,
           (int)(((&DAT_0047c768)[param_1 * 0x78] - DAT_0047e2b8 ^ uVar13) - uVar13) < 25000))
        goto LAB_0040c9c8;
        if ((DAT_0047e2b8 < (&DAT_0047c768)[param_1 * 0x78] - 9000) && (uVar2 < 4)) {
          uVar13 = DAT_0047e2b0 & 0x80000001;
          bVar26 = uVar13 == 0;
          if ((int)uVar13 < 0) {
            bVar26 = (uVar13 - 1 | 0xfffffffe) == 0xffffffff;
          }
          if (bVar26) {
            iVar9 = (&DAT_0047c784)[param_1 * 0x78];
            dVar7 = (double)iVar9;
            if (iVar9 < 0) {
              dVar7 = dVar7 + 4294967296.0;
            }
            iVar18 = iVar9 + (&DAT_0047c788)[param_1 * 0x78] * 10;
            dVar8 = (double)iVar18;
            if (iVar18 < 0) {
              dVar8 = dVar8 + 4294967296.0;
            }
            if ((dVar7 / dVar8 < 0.25 != NAN(dVar7 / dVar8)) &&
               (*(int *)(&DAT_0047c754 + iVar23) == 0)) {
              iVar9 += 10;
LAB_0040c59a:
              (&DAT_0047c784)[param_1 * 0x78] = iVar9;
              goto LAB_0040c5a0;
            }
          }
          iVar9 = (&DAT_0047c788)[param_1 * 0x78];
          uVar13 = (&DAT_0047c784)[param_1 * 0x78];
          dVar7 = (double)iVar9;
          if (iVar9 < 0) {
            dVar7 = dVar7 + 4294967296.0;
          }
          iVar18 = uVar13 + iVar9 * 10;
          dVar8 = (double)iVar18;
          if (iVar18 < 0) {
            dVar8 = dVar8 + 4294967296.0;
          }
          dVar7 = dVar7 / dVar8;
          if ((((dVar7 < 0.065 == NAN(dVar7)) && (*(int *)(&DAT_0047c754 + iVar23) == 0)) ||
              (*(int *)(&DAT_0047c758 + iVar23) != 0)) || (DAT_0047e2b4 != 0)) {
            if (((dVar7 <= 0.075) || (uVar13 < 0x65)) ||
               ((*(int *)(&DAT_0047c758 + iVar23) != 0 || (DAT_0047e2b4 != 0)))) {
              if (*(int *)(&DAT_0047c754 + iVar23) == 0) {
                (&DAT_0047c784)[param_1 * 0x78] = uVar13 + 10;
              }
            }
            else {
              (&DAT_0047c788)[param_1 * 0x78] = iVar9 + -10;
            }
          }
          else {
            (&DAT_0047c788)[param_1 * 0x78] = iVar9 + 10;
          }
        }
        else if (((&DAT_0047c768)[param_1 * 0x78] + 9000 < DAT_0047e2b8) && (uVar2 < 4)) {
          uVar13 = DAT_0047e2b0 & 0x80000001;
          bVar26 = uVar13 == 0;
          if ((int)uVar13 < 0) {
            bVar26 = (uVar13 - 1 | 0xfffffffe) == 0xffffffff;
          }
          if (bVar26) {
            iVar9 = (&DAT_0047c784)[param_1 * 0x78];
            dVar7 = (double)iVar9;
            if (iVar9 < 0) {
              dVar7 = dVar7 + 4294967296.0;
            }
            iVar18 = iVar9 + (&DAT_0047c788)[param_1 * 0x78] * 10;
            dVar8 = (double)iVar18;
            if (iVar18 < 0) {
              dVar8 = dVar8 + 4294967296.0;
            }
            if ((dVar7 / dVar8 <= 0.35) || (*(int *)(&DAT_0047c754 + iVar23) != 0))
            goto LAB_0040c4fd;
LAB_0040c597:
            iVar9 += -10;
            goto LAB_0040c59a;
          }
LAB_0040c4fd:
          iVar18 = (&DAT_0047c788)[param_1 * 0x78];
          iVar9 = (&DAT_0047c784)[param_1 * 0x78];
          dVar7 = (double)iVar18;
          if (iVar18 < 0) {
            dVar7 = dVar7 + 4294967296.0;
          }
          iVar5 = iVar9 + iVar18 * 10;
          dVar8 = (double)iVar5;
          if (iVar5 < 0) {
            dVar8 = dVar8 + 4294967296.0;
          }
          dVar7 = dVar7 / dVar8;
          if (((dVar7 < 0.065 == NAN(dVar7)) || (*(int *)(&DAT_0047c758 + iVar23) != 0)) ||
             (DAT_0047e2b4 != 0)) {
            if ((0.075 < dVar7) || (bVar26 = *(int *)(&DAT_0047c754 + iVar23) == 0, !bVar26)) {
              if ((*(int *)(&DAT_0047c758 + iVar23) == 0) && (DAT_0047e2b4 == 0)) {
                (&DAT_0047c788)[param_1 * 0x78] = iVar18 + -10;
                goto LAB_0040c5a0;
              }
              bVar26 = *(int *)(&DAT_0047c754 + iVar23) == 0;
            }
            if (bVar26) goto LAB_0040c597;
          }
          else {
            (&DAT_0047c788)[param_1 * 0x78] = iVar18 + 10;
          }
        }
LAB_0040c5a0:
        if (499 < (int)DAT_0047e2b0) {
          if ((*(int *)(&DAT_0047c758 + iVar23) == 0) && (DAT_0047e2b4 == 0)) {
            fVar28 = (float10)*(int *)(&DAT_0047c780 + iVar23);
            if (*(int *)(&DAT_0047c780 + iVar23) < 0) {
              fVar28 = fVar28 + (float10)4294967296.0;
            }
            local_34 = (int)(longlong)ROUND((fVar28 * (float10)0.07) / fVar27);
            (&DAT_0047c788)[param_1 * 0x78] = local_34 * 10;
          }
          if (*(int *)(&DAT_0047c754 + iVar23) == 0) {
            fVar28 = (float10)*(int *)(&DAT_0047c780 + iVar23);
            if (*(int *)(&DAT_0047c780 + iVar23) < 0) {
              fVar28 = fVar28 + (float10)4294967296.0;
            }
            local_34 = (int)(longlong)ROUND((fVar28 * (float10)0.3) / fVar27);
            (&DAT_0047c784)[param_1 * 0x78] = local_34 * 10;
          }
          goto LAB_0040c9c8;
        }
        uVar13 = (int)((&DAT_0047c768)[param_1 * 0x78] - DAT_0047e2b8) >> 0x1f;
        if ((((int)(((&DAT_0047c768)[param_1 * 0x78] - DAT_0047e2b8 ^ uVar13) - uVar13) < 0x2329) ||
            (999 < (int)DAT_0047e2b0)) || (3 < uVar2)) goto LAB_0040c9c8;
      } while( true );
    }
    if ((&DAT_0047c784)[param_1 * 0x78] == 0) {
      (&DAT_0047c784)[param_1 * 0x78] = 1000;
    }
    if ((&DAT_0047c788)[param_1 * 0x78] == 0) {
      (&DAT_0047c788)[param_1 * 0x78] = 1000;
    }
  }
  else {
    local_40 = 0;
    local_2c = 0;
    (&DAT_0047c788)[param_1 * 0x78] = 0;
    if ((DAT_0047e2d4 == 0) || (DAT_0047e2d6 == 0)) {
      *(undefined4 *)(&DAT_0047c8e8 + param_1 * 0xf0) = 0;
      (&DAT_0047c8ec)[param_1 * 0xf0] = 0;
    }
    DAT_0047e294 = 0;
    DAT_0047e2b0 = 0;
    if (*(int *)(&DAT_0047c75c + iVar23) == 0) {
      fVar28 = (float10)(int)(&DAT_0047c768)[param_1 * 0x78];
      if ((int)(&DAT_0047c768)[param_1 * 0x78] < 0) {
        fVar28 = fVar28 + (float10)4294967296.0;
      }
      uStack_30 = (uint)(ushort)(&DAT_0047c7a4)[iVar9];
      local_34 = (int)(longlong)ROUND((fVar28 / (float10)uStack_30) / fVar27);
      (&DAT_0047c784)[param_1 * 0x78] = local_34 * 10;
    }
    else {
      (&DAT_0047c784)[param_1 * 0x78] = *(int *)(&DAT_0047c75c + iVar23);
    }
    while (*(int *)(&DAT_0047c75c + iVar23) == 0) {
      DAT_0047e2b0 += 1;
      uVar2 = (&DAT_0047cefe)[iVar23 + uVar24];
      local_28 = (ushort *)(uint)uVar2;
      uVar3 = (&DAT_0047cef8)[iVar23 + uVar24];
      iVar16 = 0;
      (&DAT_0047c7d8)[iVar25] = 0;
      (&DAT_0047c770)[param_1 * 0x78] = 0;
      if (local_28 < (uint)uVar3 + (int)local_28) {
        uStack_30 = (uint)uVar2;
        local_54 = ((uint)uVar3 + (int)local_28) - uStack_30;
        local_38 = (ushort *)(DAT_0047e2c4 + 2 + (int)local_28 * 0x1c);
        iVar16 = 0;
        do {
          local_28 = (ushort *)((int)local_28 + 1);
          uVar2 = *local_38;
          if (uVar2 < 2) {
            (&DAT_0047c770)[param_1 * 0x78] = (&DAT_0047c770)[param_1 * 0x78] + 1;
            iVar16 += ((uint)(&DAT_0047c784)[param_1 * 0x78] / 10) * 10;
          }
          else if (uVar2 < 4) {
            (&DAT_0047c770)[param_1 * 0x78] = (&DAT_0047c770)[param_1 * 0x78] + 1;
            iVar16 += ((uint)(&DAT_0047c784)[param_1 * 0x78] / 10) * 0x14;
          }
          else {
            if (uVar2 == 4) {
              puVar15 = local_38 + 0xe;
              uVar2 = *puVar15;
              puVar12 = local_28;
              while (uVar2 == 4) {
                puVar15 = puVar15 + 0xe;
                puVar12 = (ushort *)((int)puVar12 + 1);
                uVar2 = *puVar15;
              }
              uVar19 = *(int *)(DAT_0047e2c4 + 4 + (int)puVar12 * 0x1c) - *(int *)(local_38 + 1);
              local_34 = (int)(longlong)ROUND((double)(int)(((int)uVar19 < 0) - 1 & uVar19) / 83.0);
              local_34 *= 100;
            }
            else {
              if (uVar2 != 5) goto LAB_0040c8dd;
              puVar15 = local_38 + 0xe;
              uVar2 = *puVar15;
              puVar12 = local_28;
              while (uVar2 == 5) {
                puVar15 = puVar15 + 0xe;
                puVar12 = (ushort *)((int)puVar12 + 1);
                uVar2 = *puVar15;
              }
              uVar19 = *(int *)(DAT_0047e2c4 + 4 + (int)puVar12 * 0x1c) - *(int *)(local_38 + 1);
              local_34 = (int)(longlong)ROUND((double)(int)(((int)uVar19 < 0) - 1 & uVar19) / 83.0);
              local_34 *= 0x96;
            }
            iVar16 += local_34;
          }
LAB_0040c8dd:
          local_38 = local_38 + 0xe;
          local_54 += -1;
        } while (local_54 != 0);
      }
      uVar19 = ((uint)(ushort)(&DAT_0047e298)[param_1 * 3 + uVar24] -
               (uint)(ushort)(&DAT_0047e2a4)[uVar24]) * 5000 +
               ((&DAT_0047c7b8)[iVar25] + -1) * 300 + iVar16;
      DAT_0047e2b8 = uVar19;
      if (uVar19 == local_40) {
        (&DAT_0047c784)[param_1 * 0x78] = local_2c;
        break;
      }
      uVar13 = uVar19 - (&DAT_0047c768)[param_1 * 0x78];
      uVar20 = (int)uVar13 >> 0x1f;
      uVar11 = local_40 - (&DAT_0047c768)[param_1 * 0x78];
      uVar22 = (int)uVar11 >> 0x1f;
      if (((int)((uVar13 ^ uVar20) - uVar20) < (int)((uVar11 ^ uVar22) - uVar22)) &&
         (((&DAT_0047c752)[param_1 * 0xf0] != 2 ||
          ((int)(&DAT_0047c768)[param_1 * 0x78] <= (int)uVar19)))) {
        local_2c = (&DAT_0047c784)[param_1 * 0x78];
        local_40 = uVar19;
      }
      uVar13 = (&DAT_0047c768)[param_1 * 0x78];
      if (uVar19 < uVar13) {
        (&DAT_0047c784)[param_1 * 0x78] = (&DAT_0047c784)[param_1 * 0x78] + 10;
      }
      else if (uVar13 < uVar19) {
        (&DAT_0047c784)[param_1 * 0x78] = (&DAT_0047c784)[param_1 * 0x78] + -10;
      }
      if ((DAT_0047e2b0 == 500) ||
         (uVar11 = (int)(uVar13 - uVar19) >> 0x1f, (int)((uVar13 - uVar19 ^ uVar11) - uVar11) < 0x33
         )) break;
    }
  }
LAB_0040c9c8:
  (&DAT_0047c768)[param_1 * 0x78] = 0;
  (&DAT_0047c770)[param_1 * 0x78] = 0;
  (&DAT_0047c7d8)[iVar6 + uVar17] = 0;
  __security_check_cookie(local_14[3] ^ (uint)&stack0xfffffffc);
  return;
}



void __fastcall FUN_0040ca20(short *param_1)

{
  uchar uVar1;
  short sVar2;
  short *psVar3;
  char *pcVar4;
  uchar *puVar5;
  uchar *puVar6;
  short *psVar7;
  uchar *puVar8;
  uint uVar9;
  int iVar10;
  size_t sVar11;
  char *_Str2;
  double local_43c;
  longlong local_434;
  FILE *local_42c [2];
  undefined1 *local_424;
  uint local_420;
  short *local_41c;
  uint local_418;
  uchar local_414 [511];
  undefined1 local_215;
  uchar local_214 [5];
  char local_20f;
  char local_20e;
  uchar local_20d;
  uchar local_20c;
  char local_20b;
  uchar local_20a;
  char local_209 [505];
  uchar local_10 [8];
  uint local_8;
  
  local_8 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  local_418 = 0xff;
  local_41c = param_1;
  fopen_s(local_42c,(char *)(param_1 + 1),"r");
  psVar7 = param_1 + 599;
  psVar3 = param_1 + 0x184;
  iVar10 = 6;
  do {
    psVar3[0] = 0;
    psVar3[1] = 0;
    psVar3[2] = 0;
    psVar3[3] = 0;
    *psVar7 = 0;
    psVar3 = psVar3 + 4;
    psVar7 = psVar7 + 1;
    iVar10 += -1;
  } while (iVar10 != 0);
  param_1[0x21d] = 100;
  param_1[0x25d] = 3;
  param_1[0x24e] = 0xff;
  param_1[0x24f] = 0;
  param_1[0x250] = 0;
  param_1[0x251] = 0;
  param_1[0x220] = 0;
  param_1[0x19c] = 0;
  param_1[0x21e] = 0;
  param_1[0x21f] = 0;
  strcpy_s((char *)(param_1 + 0x101),0x100,"");
  if (local_42c[0] == NULL) {
    strcpy_s((char *)(param_1 + 0x81),0x100,"untitled");
  }
  else {
    if (*param_1 == 2) {
      pcVar4 = fgets((char *)local_214,0x200,local_42c[0]);
      if (pcVar4 != NULL) {
        local_424 = &local_215;
        do {
          puVar5 = local_214;
          do {
            uVar1 = *puVar5;
            puVar5 = puVar5 + 1;
          } while (uVar1 != '\0');
          if (local_424[(int)puVar5 - (int)(local_214 + 1)] == '\n') {
            local_424[(int)puVar5 - (int)(local_214 + 1)] = 0;
          }
          puVar5 = local_214;
          do {
            uVar1 = *puVar5;
            puVar5 = puVar5 + 1;
          } while (uVar1 != '\0');
          if (local_424[(int)puVar5 - (int)(local_214 + 1)] == '\r') {
            local_424[(int)puVar5 - (int)(local_214 + 1)] = 0;
          }
          iVar10 = strncmp((char *)local_214,"TITLE:",6);
          if (iVar10 == 0) {
            strcpy_s((char *)(param_1 + 0x81),0x100,&local_20e);
          }
          else {
            iVar10 = strncmp((char *)local_214,"SUBTITLE:",9);
            if (iVar10 == 0) {
              if (local_20b == '-') {
                if (local_20a == '-') {
                  pcVar4 = local_209;
                }
                else {
LAB_0040cc02:
                  pcVar4 = &local_20b;
                }
              }
              else {
                if ((local_20b != '+') || (local_20a != '+')) goto LAB_0040cc02;
                pcVar4 = local_209;
              }
              strcpy_s((char *)(param_1 + 0x101),0x100,pcVar4);
            }
            else {
              iVar10 = strncmp((char *)local_214,"LEVEL:",6);
              if (iVar10 == 0) {
                strcpy_s((char *)local_414,0x200,&local_20e);
                if (local_418 == 0xff) {
                  psVar7 = param_1 + 0x184;
                  sscanf_s((char *)local_414,"%lf",psVar7);
                  *(undefined8 *)(param_1 + 0x188) = *(undefined8 *)psVar7;
                  *(undefined8 *)(param_1 + 0x18c) = *(undefined8 *)psVar7;
                  *(undefined8 *)(param_1 + 400) = *(undefined8 *)psVar7;
                  *(undefined8 *)(param_1 + 0x194) = *(undefined8 *)psVar7;
                  *(undefined8 *)(param_1 + 0x198) = *(undefined8 *)psVar7;
                }
                else if (local_418 < 6) {
                  sscanf_s((char *)local_414,"%lf",param_1 + local_418 * 4 + 0x184);
                }
              }
              else {
                iVar10 = strncmp((char *)local_214,"WAVE:",5);
                if (iVar10 == 0) {
                  puVar5 = _mbsrchr(local_214,0x2e);
                  if (puVar5 != NULL) {
                    puVar5 = local_214;
                    do {
                      uVar1 = *puVar5;
                      puVar5 = puVar5 + 1;
                    } while (uVar1 != '\0');
                    puVar6 = _mbsrchr(local_214,0x2e);
                    puVar8 = puVar6 + 1;
                    do {
                      uVar1 = *puVar6;
                      puVar6 = puVar6 + 1;
                    } while (uVar1 != '\0');
                    _mbsnbcpy_s(local_10,5,puVar5 + (-1 - ((int)puVar6 - (int)puVar8)),4);
                    iVar10 = strncmp((char *)local_10,".wav",4);
                    if (iVar10 == 0) {
                      param_1[0x19c] = 1;
                    }
                    else {
                      iVar10 = strncmp((char *)local_10,".ogg",4);
                      if (iVar10 == 0) {
                        param_1[0x19c] = 2;
                      }
                      else {
                        iVar10 = strncmp((char *)local_10,".mp3",4);
                        if (iVar10 == 0) {
                          param_1[0x19c] = 3;
                        }
                        else if (param_1[0x19c] == 0) goto LAB_0040d8be;
                      }
                    }
                    psVar7 = param_1 + 1;
                    do {
                      sVar2 = *psVar7;
                      psVar7 = (short *)((int)psVar7 + 1);
                    } while ((char)sVar2 != '\0');
                    puVar8 = _mbsrchr((uchar *)(local_41c + 1),0x5c);
                    puVar5 = puVar8 + 1;
                    do {
                      uVar1 = *puVar8;
                      puVar8 = puVar8 + 1;
                    } while (uVar1 != '\0');
                    psVar3 = local_41c + 0x19d;
                    _mbsnbcpy_s((uchar *)psVar3,0x100,(uchar *)(local_41c + 1),
                                (size_t)((int)psVar7 +
                                        (-((int)puVar8 - (int)puVar5) - ((int)param_1 + 3))));
                    strcat_s((char *)psVar3,0x100,"\\");
                    strcat_s((char *)psVar3,0x100,&local_20f);
                    param_1 = local_41c;
                  }
                }
                else {
                  iVar10 = strncmp((char *)local_214,"COURSE:",7);
                  if (iVar10 == 0) {
                    local_420 = 0xff;
                    _mbsnbcpy_s(local_214,0x100,&local_20d,0xfa);
                    sscanf_s((char *)local_214,"%hu",&local_420);
                    puVar5 = _mbschr(local_214,0x45);
                    if (puVar5 == NULL) {
                      puVar5 = _mbschr(local_214,0x65);
                      if (puVar5 != NULL) {
                        puVar5 = _mbschr(local_214,0x65);
                        strcpy_s((char *)local_414,0x200,(char *)puVar5);
                        iVar10 = _mbsnbcmp(local_414,(uchar *)"easy",4);
                        if (iVar10 != 0) {
                          pcVar4 = "edit";
                          goto LAB_0040cfab;
                        }
                        goto LAB_0040cf91;
                      }
                    }
                    else {
                      puVar5 = _mbschr(local_214,0x45);
                      strcpy_s((char *)local_414,0x200,(char *)puVar5);
                      iVar10 = _mbsnbcmp(local_414,(uchar *)"Easy",4);
                      if ((iVar10 == 0) ||
                         (iVar10 = _mbsnbcmp(local_414,(uchar *)"EASY",4), iVar10 == 0)) {
LAB_0040cf91:
                        local_418 = 0;
                      }
                      else {
                        iVar10 = _mbsnbcmp(local_414,(uchar *)"Edit",4);
                        if (iVar10 != 0) {
                          pcVar4 = "EDIT";
LAB_0040cfab:
                          iVar10 = _mbsnbcmp(local_414,(uchar *)pcVar4,4);
                          if (iVar10 != 0) goto LAB_0040cfbe;
                        }
                        local_418 = 4;
                      }
                    }
LAB_0040cfbe:
                    puVar5 = _mbschr(local_214,0x4e);
                    if (puVar5 == NULL) {
                      puVar5 = _mbschr(local_214,0x6e);
                      if (puVar5 != NULL) {
                        puVar5 = _mbschr(local_214,0x6e);
                        strcpy_s((char *)local_414,0x200,(char *)puVar5);
                        iVar10 = _mbsnbcmp(local_414,(uchar *)"normal",6);
                        goto LAB_0040d05d;
                      }
                    }
                    else {
                      puVar5 = _mbschr(local_214,0x4e);
                      strcpy_s((char *)local_414,0x200,(char *)puVar5);
                      iVar10 = _mbsnbcmp(local_414,(uchar *)"Normal",6);
                      if (iVar10 != 0) {
                        iVar10 = _mbsnbcmp(local_414,(uchar *)"NORMAL",6);
LAB_0040d05d:
                        if (iVar10 != 0) goto LAB_0040d06b;
                      }
                      local_418 = 1;
                    }
LAB_0040d06b:
                    puVar5 = _mbschr(local_214,0x48);
                    if (puVar5 == NULL) {
                      puVar5 = _mbschr(local_214,0x68);
                      if (puVar5 != NULL) {
                        puVar5 = _mbschr(local_214,0x68);
                        strcpy_s((char *)local_414,0x200,(char *)puVar5);
                        sVar11 = 4;
                        pcVar4 = "hard";
                        goto LAB_0040d0e3;
                      }
                    }
                    else {
                      puVar5 = _mbschr(local_214,0x48);
                      strcpy_s((char *)local_414,0x200,(char *)puVar5);
                      sVar11 = 1;
                      pcVar4 = "Hard";
LAB_0040d0e3:
                      iVar10 = _mbsnbcmp(local_414,(uchar *)pcVar4,sVar11);
                      if (iVar10 == 0) {
                        local_418 = 2;
                      }
                    }
                    puVar5 = _mbschr(local_214,0x4f);
                    if (puVar5 == NULL) {
                      puVar5 = _mbschr(local_214,0x6f);
                      if (puVar5 != NULL) {
                        puVar5 = _mbschr(local_214,0x6f);
                        strcpy_s((char *)local_414,0x200,(char *)puVar5);
                        iVar10 = _mbsnbcmp(local_414,(uchar *)"oni",3);
                        goto LAB_0040d195;
                      }
                    }
                    else {
                      puVar5 = _mbschr(local_214,0x4f);
                      strcpy_s((char *)local_414,0x200,(char *)puVar5);
                      iVar10 = _mbsnbcmp(local_414,(uchar *)"Oni",3);
                      if (iVar10 != 0) {
                        iVar10 = _mbsnbcmp(local_414,(uchar *)"ONI",3);
LAB_0040d195:
                        if (iVar10 != 0) goto LAB_0040d1a3;
                      }
                      local_418 = 3;
                    }
LAB_0040d1a3:
                    puVar5 = _mbschr(local_214,0x74);
                    if (puVar5 == NULL) {
                      puVar5 = _mbschr(local_214,0x54);
                      if (puVar5 != NULL) {
                        puVar5 = _mbschr(local_214,0x54);
                        strcpy_s((char *)local_414,0x200,(char *)puVar5);
                        iVar10 = _mbsnbcmp(local_414,(uchar *)"Tower",5);
                        if ((iVar10 == 0) ||
                           (iVar10 = _mbsnbcmp(local_414,(uchar *)"TOWER",5), iVar10 == 0)) {
                          local_418 = 5;
                        }
                      }
                    }
                    else {
                      puVar5 = _mbschr(local_214,0x74);
                      strcpy_s((char *)local_414,0x200,(char *)puVar5);
                      iVar10 = _mbsnbcmp(local_414,(uchar *)"tower",5);
                      if (iVar10 == 0) {
                        local_418 = 5;
                      }
                    }
                    if ((ushort)local_420 < 6) {
                      local_418 = local_420 & 0xffff;
LAB_0040d217:
                      uVar9 = 5;
                      if ((int)local_418 < 6) goto LAB_0040d221;
                    }
                    else {
                      if (local_418 != 0xff) goto LAB_0040d217;
                      local_418 = 3;
LAB_0040d221:
                      uVar9 = local_418;
                    }
                    if (((uint)(ushort)param_1[0x256] & 1 << ((byte)uVar9 & 0x1f)) == 0) {
                      uVar9 = 5;
                      if ((int)local_418 < 6) {
                        uVar9 = local_418;
                      }
                      param_1[0x256] = (1 << ((byte)uVar9 & 0x1f)) + param_1[0x256];
                    }
                    if (*(int *)(param_1 + 0x24e) == 0xff) {
                      *(uint *)(param_1 + 0x24e) = local_418;
                    }
                  }
                  else {
                    iVar10 = strncmp((char *)local_214,"SONGVOL:",8);
                    if (iVar10 == 0) {
                      _mbsnbcpy_s(local_414,0x100,&local_20c,0xfa);
                      sscanf_s((char *)local_414,"%hu",param_1 + 0x21d);
                    }
                    else {
                      iVar10 = strncmp((char *)local_214,"DEMOSTART:",10);
                      if (iVar10 == 0) {
                        _mbsnbcpy_s(local_414,0x100,&local_20a,0xfa);
                        sscanf_s((char *)local_414,"%lf",&local_43c);
                        local_434 = (longlong)ROUND(local_43c * 1000.0);
                        *(undefined4 *)(param_1 + 0x21e) = (undefined4)local_434;
                      }
                      else {
                        iVar10 = strncmp((char *)local_214,"SIDE:",5);
                        if (iVar10 == 0) {
                          local_420 = 0xff;
                          param_1[0x25d] = 3;
                          strcpy_s((char *)local_214,0x200,&local_20f);
                          sscanf_s((char *)local_214,"%hu",&local_420);
                          puVar5 = _mbschr(local_214,0x4e);
                          if (puVar5 == NULL) {
                            puVar5 = _mbschr(local_214,0x6e);
                            if (puVar5 != NULL) {
                              puVar5 = _mbschr(local_214,0x6e);
                              strcpy_s((char *)local_414,0x200,(char *)puVar5);
                              iVar10 = _mbsnbcmp(local_414,(uchar *)"n",1);
                              if (iVar10 != 0) {
                                pcVar4 = "normal";
                                goto LAB_0040d50a;
                              }
                              goto LAB_0040d51e;
                            }
                            puVar5 = _mbschr(local_214,0x45);
                            if (puVar5 == NULL) {
                              puVar5 = _mbschr(local_214,0x65);
                              if (puVar5 == NULL) {
                                puVar5 = _mbschr(local_214,0x42);
                                if (puVar5 == NULL) {
                                  puVar5 = _mbschr(local_214,0x62);
                                  if (puVar5 == NULL) goto LAB_0040d73a;
                                  puVar5 = _mbschr(local_214,0x62);
                                  strcpy_s((char *)local_414,0x200,(char *)puVar5);
                                  iVar10 = _mbsnbcmp(local_414,(uchar *)"b",1);
                                  if (iVar10 != 0) {
                                    pcVar4 = "both";
                                    goto LAB_0040d71e;
                                  }
                                }
                                else {
                                  puVar5 = _mbschr(local_214,0x42);
                                  strcpy_s((char *)local_414,0x200,(char *)puVar5);
                                  iVar10 = _mbsnbcmp(local_414,(uchar *)"B",1);
                                  if ((iVar10 != 0) &&
                                     (iVar10 = _mbsnbcmp(local_414,(uchar *)"Both",4), iVar10 != 0))
                                  {
                                    pcVar4 = "BOTH";
LAB_0040d71e:
                                    iVar10 = _mbsnbcmp(local_414,(uchar *)pcVar4,4);
                                    if (iVar10 != 0) goto LAB_0040d73a;
                                  }
                                }
                                param_1[0x25d] = 3;
                              }
                              else {
                                puVar5 = _mbschr(local_214,0x65);
                                strcpy_s((char *)local_414,0x200,(char *)puVar5);
                                iVar10 = _mbsnbcmp(local_414,(uchar *)"e",1);
                                if (((iVar10 == 0) ||
                                    (iVar10 = _mbsnbcmp(local_414,(uchar *)"ex",2), iVar10 == 0)) ||
                                   (iVar10 = _mbsnbcmp(local_414,(uchar *)"extra",5), iVar10 == 0))
                                {
                                  param_1[0x25d] = 2;
                                }
                              }
                            }
                            else {
                              puVar5 = _mbschr(local_214,0x45);
                              strcpy_s((char *)local_414,0x200,(char *)puVar5);
                              iVar10 = _mbsnbcmp(local_414,(uchar *)"E",1);
                              if (((iVar10 == 0) ||
                                  (iVar10 = _mbsnbcmp(local_414,(uchar *)"Ex",2), iVar10 == 0)) ||
                                 ((iVar10 = _mbsnbcmp(local_414,(uchar *)"Extra",5), iVar10 == 0 ||
                                  ((iVar10 = _mbsnbcmp(local_414,(uchar *)"EX",2), iVar10 == 0 ||
                                   (iVar10 = _mbsnbcmp(local_414,(uchar *)"EXTRA",5), iVar10 == 0)))
                                  ))) {
                                param_1[0x25d] = 2;
                              }
                            }
                          }
                          else {
                            puVar5 = _mbschr(local_214,0x4e);
                            strcpy_s((char *)local_414,0x200,(char *)puVar5);
                            iVar10 = _mbsnbcmp(local_414,(uchar *)"N",1);
                            if ((iVar10 != 0) &&
                               (iVar10 = _mbsnbcmp(local_414,(uchar *)"Normal",5), iVar10 != 0)) {
                              pcVar4 = "NORMAL";
LAB_0040d50a:
                              iVar10 = _mbsnbcmp(local_414,(uchar *)pcVar4,5);
                              if (iVar10 != 0) goto LAB_0040d73a;
                            }
LAB_0040d51e:
                            param_1[0x25d] = 1;
                          }
LAB_0040d73a:
                          if ((ushort)((short)local_420 - 1U) < 3) {
                            param_1[0x25d] = (short)local_420;
                          }
                        }
                        else {
                          iVar10 = strncmp((char *)local_214,"#START",6);
                          if (iVar10 == 0) {
                            uVar9 = local_418;
                            if (6 < (int)local_418) {
                              uVar9 = 3;
                            }
                            pcVar4 = strchr(&local_20e,0x50);
                            if (pcVar4 == NULL) {
                              pcVar4 = strchr(&local_20e,0x70);
                              if (pcVar4 == NULL) {
                                if ((param_1[uVar9 + 599] & 1U) == 0) {
                                  param_1[uVar9 + 599] = param_1[uVar9 + 599] + 1;
                                }
                              }
                              else {
                                pcVar4 = strchr(&local_20e,0x70);
                                iVar10 = strncmp(pcVar4,"p1",2);
                                if ((iVar10 != 0) || ((param_1[uVar9 + 599] & 2U) != 0)) {
                                  pcVar4 = strchr(&local_20e,0x70);
                                  _Str2 = "p2";
                                  goto LAB_0040d85f;
                                }
                                param_1[uVar9 + 599] = param_1[uVar9 + 599] + 2;
                              }
                            }
                            else {
                              pcVar4 = strchr(&local_20e,0x50);
                              iVar10 = strncmp(pcVar4,"P1",2);
                              if ((iVar10 == 0) && ((param_1[uVar9 + 599] & 2U) == 0)) {
                                param_1[uVar9 + 599] = param_1[uVar9 + 599] + 2;
                              }
                              else {
                                pcVar4 = strchr(&local_20e,0x50);
                                _Str2 = "P2";
LAB_0040d85f:
                                iVar10 = strncmp(pcVar4,_Str2,2);
                                if ((iVar10 == 0) && ((param_1[uVar9 + 599] & 4U) == 0)) {
                                  param_1[uVar9 + 599] = param_1[uVar9 + 599] + 4;
                                }
                              }
                            }
                          }
                          else {
                            iVar10 = strncmp((char *)local_214,"#BRANCHSTART",0xc);
                            if (iVar10 == 0) {
                              param_1[0x250] = 1;
                              param_1[0x251] = 0;
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
LAB_0040d8be:
          pcVar4 = fgets((char *)local_214,0x200,local_42c[0]);
        } while (pcVar4 != NULL);
        fclose(local_42c[0]);
        goto LAB_0040dea5;
      }
    }
    else if ((*param_1 == 4) &&
            (pcVar4 = fgets((char *)local_214,0x200,local_42c[0]), pcVar4 != NULL)) {
      local_424 = &local_215;
      do {
        puVar5 = local_214;
        do {
          uVar1 = *puVar5;
          puVar5 = puVar5 + 1;
        } while (uVar1 != '\0');
        if (local_424[(int)puVar5 - (int)(local_214 + 1)] == '\n') {
          local_424[(int)puVar5 - (int)(local_214 + 1)] = 0;
        }
        puVar5 = local_214;
        do {
          uVar1 = *puVar5;
          puVar5 = puVar5 + 1;
        } while (uVar1 != '\0');
        if (local_424[(int)puVar5 - (int)(local_214 + 1)] == '\r') {
          local_424[(int)puVar5 - (int)(local_214 + 1)] = 0;
        }
        iVar10 = strncmp((char *)local_214,"TITLE:",6);
        if (iVar10 == 0) {
          strcpy_s((char *)(local_41c + 0x81),0x100,&local_20e);
        }
        else {
          iVar10 = strncmp((char *)local_214,"COURSE:",7);
          if (iVar10 == 0) {
            local_420 = 0xff;
            _mbsnbcpy_s(local_214,0x100,&local_20d,0xfa);
            sscanf_s((char *)local_214,"%hu",&local_420);
            puVar5 = _mbschr(local_214,0x45);
            if (puVar5 == NULL) {
              puVar5 = _mbschr(local_214,0x65);
              if (puVar5 != NULL) {
                puVar5 = _mbschr(local_214,0x65);
                strcpy_s((char *)local_414,0x200,(char *)puVar5);
                iVar10 = _mbsnbcmp(local_414,(uchar *)"easy",4);
                if (iVar10 != 0) {
                  pcVar4 = "edit";
                  goto LAB_0040db01;
                }
                goto LAB_0040dae7;
              }
            }
            else {
              puVar5 = _mbschr(local_214,0x45);
              strcpy_s((char *)local_414,0x200,(char *)puVar5);
              iVar10 = _mbsnbcmp(local_414,(uchar *)"Easy",4);
              if ((iVar10 == 0) || (iVar10 = _mbsnbcmp(local_414,(uchar *)"EASY",4), iVar10 == 0)) {
LAB_0040dae7:
                local_418 = 0;
              }
              else {
                iVar10 = _mbsnbcmp(local_414,(uchar *)"Edit",4);
                if (iVar10 != 0) {
                  pcVar4 = "EDIT";
LAB_0040db01:
                  iVar10 = _mbsnbcmp(local_414,(uchar *)pcVar4,4);
                  if (iVar10 != 0) goto LAB_0040db14;
                }
                local_418 = 4;
              }
            }
LAB_0040db14:
            puVar5 = _mbschr(local_214,0x4e);
            if (puVar5 == NULL) {
              puVar5 = _mbschr(local_214,0x6e);
              if (puVar5 != NULL) {
                puVar5 = _mbschr(local_214,0x6e);
                strcpy_s((char *)local_414,0x200,(char *)puVar5);
                iVar10 = _mbsnbcmp(local_414,(uchar *)"normal",6);
                goto LAB_0040dbab;
              }
            }
            else {
              puVar5 = _mbschr(local_214,0x4e);
              strcpy_s((char *)local_414,0x200,(char *)puVar5);
              iVar10 = _mbsnbcmp(local_414,(uchar *)"Normal",6);
              if (iVar10 != 0) {
                iVar10 = _mbsnbcmp(local_414,(uchar *)"NORMAL",6);
LAB_0040dbab:
                if (iVar10 != 0) goto LAB_0040dbb9;
              }
              local_418 = 1;
            }
LAB_0040dbb9:
            puVar5 = _mbschr(local_214,0x48);
            if (puVar5 == NULL) {
              puVar5 = _mbschr(local_214,0x68);
              if (puVar5 != NULL) {
                puVar5 = _mbschr(local_214,0x68);
                strcpy_s((char *)local_414,0x200,(char *)puVar5);
                sVar11 = 4;
                pcVar4 = "hard";
                goto LAB_0040dc29;
              }
            }
            else {
              puVar5 = _mbschr(local_214,0x48);
              strcpy_s((char *)local_414,0x200,(char *)puVar5);
              sVar11 = 1;
              pcVar4 = "Hard";
LAB_0040dc29:
              iVar10 = _mbsnbcmp(local_414,(uchar *)pcVar4,sVar11);
              if (iVar10 == 0) {
                local_418 = 2;
              }
            }
            puVar5 = _mbschr(local_214,0x4f);
            if (puVar5 == NULL) {
              puVar5 = _mbschr(local_214,0x6f);
              if (puVar5 != NULL) {
                puVar5 = _mbschr(local_214,0x6f);
                strcpy_s((char *)local_414,0x200,(char *)puVar5);
                iVar10 = _mbsnbcmp(local_414,(uchar *)"oni",3);
                goto LAB_0040dcd3;
              }
            }
            else {
              puVar5 = _mbschr(local_214,0x4f);
              strcpy_s((char *)local_414,0x200,(char *)puVar5);
              iVar10 = _mbsnbcmp(local_414,(uchar *)"Oni",3);
              if (iVar10 != 0) {
                iVar10 = _mbsnbcmp(local_414,(uchar *)"ONI",3);
LAB_0040dcd3:
                if (iVar10 != 0) goto LAB_0040dce1;
              }
              local_418 = 3;
            }
LAB_0040dce1:
            puVar5 = _mbschr(local_214,0x74);
            if (puVar5 == NULL) {
              puVar5 = _mbschr(local_214,0x54);
              if (puVar5 != NULL) {
                puVar5 = _mbschr(local_214,0x54);
                strcpy_s((char *)local_414,0x200,(char *)puVar5);
                iVar10 = _mbsnbcmp(local_414,(uchar *)"Tower",5);
                if ((iVar10 == 0) || (iVar10 = _mbsnbcmp(local_414,(uchar *)"TOWER",5), iVar10 == 0)
                   ) {
                  local_418 = 5;
                }
              }
            }
            else {
              puVar5 = _mbschr(local_214,0x74);
              strcpy_s((char *)local_414,0x200,(char *)puVar5);
              iVar10 = _mbsnbcmp(local_414,(uchar *)"tower",5);
              if (iVar10 == 0) {
                local_418 = 5;
              }
            }
            if ((ushort)local_420 < 6) {
              local_418 = local_420 & 0xffff;
LAB_0040ddaa:
              uVar9 = local_418;
              if (5 < (int)local_418) {
                uVar9 = 5;
              }
            }
            else {
              if (local_418 != 0xff) goto LAB_0040ddaa;
              uVar9 = 3;
              local_418 = 3;
            }
            if (((uint)(ushort)local_41c[0x256] & 1 << ((byte)uVar9 & 0x1f)) == 0) {
              uVar9 = local_418;
              if (5 < (int)local_418) {
                uVar9 = 5;
              }
              local_41c[0x256] = (1 << ((byte)uVar9 & 0x1f)) + local_41c[0x256];
            }
            if (*(int *)(local_41c + 0x24e) == 0xff) {
              *(uint *)(local_41c + 0x24e) = local_418;
            }
          }
          else {
            iVar10 = strncmp((char *)local_214,"SONG:",5);
            if (iVar10 == 0) {
              local_41c[0x220] = local_41c[0x220] + 1;
            }
          }
        }
        pcVar4 = fgets((char *)local_214,0x200,local_42c[0]);
        param_1 = local_41c;
      } while (pcVar4 != NULL);
    }
    fclose(local_42c[0]);
  }
LAB_0040dea5:
  if (*(int *)(param_1 + 0x24e) == 0xff) {
    param_1[0x24e] = 3;
    param_1[0x24f] = 0;
    param_1[0x256] = 8;
  }
  __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_0040def0(void)

{
  uchar *puVar1;
  uchar uVar2;
  uchar *puVar3;
  uchar *puVar4;
  int iVar5;
  UINT UVar6;
  UINT UVar7;
  UINT UVar8;
  UINT UVar9;
  UINT UVar10;
  ushort uVar11;
  ushort uVar12;
  ushort uVar13;
  bool bVar14;
  bool bVar15;
  short local_428;
  short local_424;
  short local_420;
  FILE *local_418;
  uchar local_414 [512];
  char local_214;
  undefined1 local_213 [255];
  uchar local_114;
  undefined1 local_113 [255];
  char local_14 [12];
  uint local_8;
  
  local_8 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  local_418 = NULL;
  local_114 = '\0';
  memset(local_113,0,0xff);
  local_14[0] = '0';
  local_14[1] = '\0';
  local_14[2] = '\0';
  local_14[3] = '\0';
  local_14[4] = '\0';
  local_14[5] = '\0';
  local_14[6] = '\0';
  local_14[7] = '\0';
  local_14[8] = '\0';
  local_14[9] = 0;
  local_214 = '\0';
  memset(local_213,0,0xff);
  strcpy_s((char *)&_Dst_0047dc6c,0x100,"");
  GetModuleFileNameA(NULL,(LPSTR)local_414,0x200);
  puVar3 = local_414;
  do {
    uVar2 = *puVar3;
    puVar3 = puVar3 + 1;
  } while (uVar2 != '\0');
  puVar4 = _mbsrchr(local_414,0x5c);
  puVar1 = puVar4 + 1;
  do {
    uVar2 = *puVar4;
    puVar4 = puVar4 + 1;
  } while (uVar2 != '\0');
  _mbsnbcpy_s(&local_114,0x100,local_414,
              (size_t)(puVar3 + (-((int)puVar4 - (int)puVar1) - (int)(local_414 + 1))));
  strcat_s((char *)&local_114,0x100,"\\config.ini");
  fopen_s(&local_418,(char *)&local_114,"r");
  if (local_418 == NULL) {
    DAT_0047ac70 = 2000;
    bVar14 = true;
  }
  else {
    fgets(&local_214,0x100,local_418);
    fclose(local_418);
    iVar5 = strncmp(&local_214,"[options]",9);
    bVar14 = iVar5 != 0;
    if (bVar14) {
      remove((char *)&local_114);
    }
    strcpy_s(&local_214,0x100,"");
    DAT_0047ac90 = GetPrivateProfileIntA("options","Framerate",0x78,(LPCSTR)&local_114);
    UVar6 = GetPrivateProfileIntA("options","Playmode",0,(LPCSTR)&local_114);
    uVar13 = (ushort)UVar6;
    UVar6 = GetPrivateProfileIntA("options","Autostart",0,(LPCSTR)&local_114);
    uVar11 = (ushort)UVar6;
    UVar6 = GetPrivateProfileIntA("options","Windowmode",100,(LPCSTR)&local_114);
    DAT_0047f114 = (ushort)UVar6;
    DAT_0047e744 = GetPrivateProfileIntA("options","Showscore",0,(LPCSTR)&local_114);
    UVar6 = GetPrivateProfileIntA("options","Notedist",5,(LPCSTR)&local_114);
    DAT_0047e740 = (ushort)UVar6;
    DAT_0047f118 = GetPrivateProfileIntA("options","JudgeLevel",100,(LPCSTR)&local_114);
    UVar6 = GetPrivateProfileIntA("options","ShowResult",100,(LPCSTR)&local_114);
    DAT_0047e748 = (ushort)UVar6;
    DAT_0047ac7c = GetPrivateProfileIntA("options","WindowWidth",0,(LPCSTR)&local_114);
    DAT_0047ac70 = GetPrivateProfileIntA("options","WavBufferSize",0,(LPCSTR)&local_114);
    UVar6 = GetPrivateProfileIntA("options","Keyaction",5,(LPCSTR)&local_114);
    uVar12 = (ushort)UVar6;
    GetPrivateProfileStringA("options","Playspeed","",&local_214,0x100,(LPCSTR)&local_114);
    sscanf_s(&local_214,"%lf");
    _DAT_0047ac88 = 1.0 / _DAT_0047ac88;
    INT_0047e630 = GetPrivateProfileIntA("options","SongSelect",100,(LPCSTR)&local_114);
    UVar6 = GetPrivateProfileIntA("options","SearchAllDirectory",100,(LPCSTR)&local_114);
    UVar7 = GetPrivateProfileIntA("options","JudgeRangeGreat",5000,(LPCSTR)&local_114);
    DAT_0047cf76 = (ushort)UVar7;
    UVar7 = GetPrivateProfileIntA("options","JudgeRangeGood",5000,(LPCSTR)&local_114);
    _DAT_0047cf78 = CONCAT22(DAT_0047cf7a,(short)UVar7);
    UVar7 = GetPrivateProfileIntA("options","JudgeRangeBad",5000,(LPCSTR)&local_114);
    _DAT_0047cf78 = CONCAT22((short)UVar7,DAT_0047cf78);
    GetPrivateProfileStringA
              ("options","SelectFontName","",(LPSTR)&_Dst_0047dc6c,0x100,(LPCSTR)&local_114);
    GetPrivateProfileStringA("options","Language","",_Dst_0047dfa0,0x100,(LPCSTR)&local_114);
    UVar7 = GetPrivateProfileIntA("options","UseOpenGL",100,(LPCSTR)&local_114);
    UVar8 = GetPrivateProfileIntA("options","PlaySongDemo",100,(LPCSTR)&local_114);
    UVar9 = GetPrivateProfileIntA("options","FullScreen",100,(LPCSTR)&local_114);
    UVar10 = GetPrivateProfileIntA("options","NoteBound",100,(LPCSTR)&local_114);
    DAT_0047ac84 = (ushort)UVar10;
    UVar10 = GetPrivateProfileIntA("options","SortMode",100,(LPCSTR)&local_114);
    UINT_0047f11c._0_2_ = (ushort)UVar10;
    local_424 = (short)UVar6;
    local_420 = (short)UVar8;
    local_428 = (short)UVar9;
    if (((((((DAT_0047e740 == 5) || (DAT_0047f114 == 100)) || (DAT_0047f118 == 100)) ||
          ((DAT_0047e748 == 100 || (DAT_0047ac7c == 0)))) ||
         (((DAT_0047ac70 == 0 || ((uVar12 == 5 || (local_214 == '\0')))) || (INT_0047e630 == 100))))
        || ((((local_424 == 100 || (DAT_0047cf76 == 5000)) || (DAT_0047cf78 == 5000)) ||
            (((_Dst_0047dfa0[0] == '\0' || ((short)UVar7 == 100)) ||
             ((local_420 == 100 || ((local_428 == 100 || (DAT_0047ac84 == 100)))))))))) ||
       ((ushort)UINT_0047f11c == 100)) {
      fopen_s(&local_418,(char *)&local_114,"w");
      fclose(local_418);
      bVar14 = true;
    }
    if (2 < DAT_0047f114) {
      DAT_0047f114 = 0;
    }
    if (1 < uVar13) {
      uVar13 = 0;
    }
    if (1 < uVar11) {
      uVar11 = 0;
    }
    if (1 < (int)DAT_0047e744) {
      DAT_0047e744 = 0;
    }
    if (2 < DAT_0047e740) {
      DAT_0047e740 = 0;
    }
    if (2 < DAT_0047e748) {
      DAT_0047e748 = 0;
    }
    if (1 < uVar12) {
      uVar12 = 0;
    }
    if ((9 < (int)DAT_0047f118) || ((int)DAT_0047f118 < 0)) {
      DAT_0047f118 = 0;
    }
    if (DAT_0047ac7c == 0) {
      DAT_0047ac7c = 0x200;
    }
    else if ((int)DAT_0047ac7c < 0x100) {
      DAT_0047ac7c = 0x100;
    }
    if (NAN(_DAT_0047ac88) == (_DAT_0047ac88 == 0.0)) {
      if (0.25 <= _DAT_0047ac88) {
        if (4.0 < _DAT_0047ac88 != NAN(_DAT_0047ac88)) {
          _DAT_0047ac88 = 4.0;
        }
      }
      else {
        _DAT_0047ac88 = 0.25;
      }
    }
    else {
      _DAT_0047ac88 = 1.0;
    }
    DAT_0047e58c = 0;
    bVar15 = uVar13 == 0;
    DAT_0047cae8 = (uint)bVar15;
    DAT_0047c908 = (uint)bVar15;
    DAT_0047ac94 = (uint)bVar15;
    DAT_0047e590 = (uint)(uVar11 != 0);
    DAT_0047e618 = (uint)(uVar12 != 0);
    if ((2 < INT_0047e630) || (INT_0047e630 < 0)) {
      INT_0047e630 = 0;
    }
    DAT_0047e594 = (uint)(local_424 == 1);
    if ((ushort)(DAT_0047cf76 - 0x3e9) < 3999) {
      DAT_0047cf76 = 1000;
    }
    if ((ushort)((short)_DAT_0047cf78 - 0x3e9U) < 3999) {
      _DAT_0047cf78 = CONCAT22(DAT_0047cf7a,1000);
    }
    if ((ushort)(DAT_0047cf7a - 0x3e9) < 3999) {
      _DAT_0047cf78 = CONCAT22(1000,DAT_0047cf78);
    }
    if (_Dst_0047dfa0[0] == '\0') {
      strcpy_s(_Dst_0047dfa0,0x100,"japanese");
    }
    DAT_0047e634 = 0;
    DAT_0047e638 = (uint)(local_420 == 1);
    DAT_0047ac6c = (uint)(local_428 == 1);
    DAT_0047ac84 = (ushort)(DAT_0047ac84 != 0);
    if (2 < (ushort)UINT_0047f11c) {
      UINT_0047f11c._0_2_ = 0;
    }
  }
  sprintf_s(local_14,10,"%lu");
  WritePrivateProfileStringA("options","Framerate",local_14,(LPCSTR)&local_114);
  sprintf_s(local_14,10,"%hu");
  WritePrivateProfileStringA("options","Playmode",local_14,(LPCSTR)&local_114);
  sprintf_s(local_14,10,"%hu");
  WritePrivateProfileStringA("options","Autostart",local_14,(LPCSTR)&local_114);
  sprintf_s(local_14,10,"%hu");
  WritePrivateProfileStringA("options","Windowmode",local_14,(LPCSTR)&local_114);
  sprintf_s(local_14,10,"%hu");
  WritePrivateProfileStringA("options","Showscore",local_14,(LPCSTR)&local_114);
  sprintf_s(local_14,10,"%hu");
  WritePrivateProfileStringA("options","Notedist",local_14,(LPCSTR)&local_114);
  sprintf_s(local_14,10,"%d");
  WritePrivateProfileStringA("options","JudgeLevel",local_14,(LPCSTR)&local_114);
  sprintf_s(local_14,10,"%hu");
  WritePrivateProfileStringA("options","ShowResult",local_14,(LPCSTR)&local_114);
  sprintf_s(local_14,10,"%d");
  WritePrivateProfileStringA("options","WindowWidth",local_14,(LPCSTR)&local_114);
  sprintf_s(local_14,10,"%ld");
  WritePrivateProfileStringA("options","WavBufferSize",local_14,(LPCSTR)&local_114);
  sprintf_s(local_14,10,"%hu");
  WritePrivateProfileStringA("options","KeyAction",local_14,(LPCSTR)&local_114);
  sprintf_s(local_14,10,"%lf",1.0 / _DAT_0047ac88);
  WritePrivateProfileStringA("options","Playspeed",local_14,(LPCSTR)&local_114);
  sprintf_s(local_14,10,"%d");
  WritePrivateProfileStringA("options","SongSelect",local_14,(LPCSTR)&local_114);
  sprintf_s(local_14,10,"%d");
  WritePrivateProfileStringA("options","SearchAllDirectory",local_14,(LPCSTR)&local_114);
  if (DAT_0047cf76 < 5000) {
    sprintf_s(local_14,10,"%hu");
  }
  else {
    strcpy_s(local_14,10,"");
  }
  WritePrivateProfileStringA("options","JudgeRangeGreat",local_14,(LPCSTR)&local_114);
  if (DAT_0047cf78 < 5000) {
    sprintf_s(local_14,10,"%hu");
  }
  else {
    strcpy_s(local_14,10,"");
  }
  WritePrivateProfileStringA("options","JudgeRangeGood",local_14,(LPCSTR)&local_114);
  if (DAT_0047cf7a < 5000) {
    sprintf_s(local_14,10,"%hu");
  }
  else {
    strcpy_s(local_14,10,"");
  }
  WritePrivateProfileStringA("options","JudgeRangeBad",local_14,(LPCSTR)&local_114);
  WritePrivateProfileStringA("options","SelectFontName",(LPCSTR)&_Dst_0047dc6c,(LPCSTR)&local_114);
  WritePrivateProfileStringA("options","Language",_Dst_0047dfa0,(LPCSTR)&local_114);
  sprintf_s(local_14,10,"%d");
  WritePrivateProfileStringA("options","PlaySongDemo",local_14,(LPCSTR)&local_114);
  sprintf_s(local_14,10,"%d");
  WritePrivateProfileStringA("options","FullScreen",local_14,(LPCSTR)&local_114);
  sprintf_s(local_14,10,"%hu");
  WritePrivateProfileStringA("options","NoteBound",local_14,(LPCSTR)&local_114);
  sprintf_s(local_14,10,"%hu");
  WritePrivateProfileStringA("options","SortMode",local_14,(LPCSTR)&local_114);
  if (bVar14) {
    fopen_s(&local_418,(char *)&local_114,"a");
    fprintf(local_418,
            "\n;Framerate=3060F1"
           );
    fprintf(local_418,
            "\n;Playmode=1FJ, DK"
           );
    fprintf(local_418,
            "\n;Autostart=1");
    fprintf(local_418,
            "\n;Windowmode=1Esc2512*384ShowScore=1"
           );
    fprintf(local_418,
            "\n;Showscore=1"
           );
    fprintf(local_418,
            "\n;Notedist=1AC162AC"
           );
    fprintf(local_418,
            "\n;JudgeLevel=09JudgeRange"
           );
    fprintf(local_418,
            "\n;ShowResult=12Windowmode=2"
           );
    fprintf(local_418,
            "\n;WindowWidth=512"
           );
    fprintf(local_418,
            "\n;WavBufferSize=OggKB0"
           );
    fprintf(local_418,
            "\n;KeyAction=1F2"
           );
    fprintf(local_418,
            "\n;PlaySpeed=10.254")
    ;
    fprintf(local_418,
            "\n;SongSelect=12"
           );
    fprintf(local_418,
            "\n;SearchAllDirectory=10genre.ini2"
           );
    fprintf(local_418,
            "\n;JudgeRangeGreat=JudgeLevel"
           );
    fprintf(local_418,
            "\n;JudgeRangeGood=JudgeLevel"
           );
    fprintf(local_418,
            "\n;JudgeRangeBad=JudgeLevel"
           );
    fprintf(local_418,
            "\n;SelectFontName="
           );
    fprintf(local_418,
            "\n;Language="
           );
    fprintf(local_418,
            "\n;PlaySongDemo=1SongSelect=1wavogg"
           );
    fprintf(local_418,
            "\n;FullScreen=1640*480"
           );
    fprintf(local_418,
            "\n;NoteBound=1");
    fprintf(local_418,
            "\n;SortMode=0:1:2:"
           );
    fclose(local_418);
  }
  if (DAT_0047f114 < 2) {
    if (DAT_0047e748 == 2) {
      DAT_0047e748 = 1;
    }
    if (INT_0047e630 == 2) {
      INT_0047e630 = 1;
    }
  }
  UINT_0047d6c8 = 0x460044;
  _USHORT_0047d6cc = 0x4b004a;
  ram0x0047d6d0 = 0x560043;
  _USHORT_0047d6d4 = 0xbc004d;
  GetModuleFileNameA(NULL,(LPSTR)local_414,0x200);
  puVar3 = local_414;
  do {
    uVar2 = *puVar3;
    puVar3 = puVar3 + 1;
  } while (uVar2 != '\0');
  puVar4 = _mbsrchr(local_414,0x5c);
  puVar1 = puVar4 + 1;
  do {
    uVar2 = *puVar4;
    puVar4 = puVar4 + 1;
  } while (uVar2 != '\0');
  _mbsnbcpy_s(&local_114,0x100,local_414,
              (size_t)(puVar3 + (-((int)puVar4 - (int)puVar1) - (int)(local_414 + 1))));
  strcat_s((char *)&local_114,0x100,"\\keyconf.ini");
  fopen_s(&local_418,(char *)&local_114,"r");
  if (local_418 != NULL) {
    fclose(local_418);
    UVar6 = GetPrivateProfileIntA("KeyAssignment","L_KaP1",0x44,(LPCSTR)&local_114);
    UINT_0047d6c8 = CONCAT22(UINT_0047d6c8._2_2_,(short)UVar6);
    UVar6 = GetPrivateProfileIntA("KeyAssignment","L_DongP1",0x46,(LPCSTR)&local_114);
    UINT_0047d6c8 = CONCAT22((short)UVar6,(undefined2)UINT_0047d6c8);
    UVar6 = GetPrivateProfileIntA("KeyAssignment","R_DongP1",0x4a,(LPCSTR)&local_114);
    _USHORT_0047d6cc = CONCAT22((undefined2)UINT_0047d6ce,(short)UVar6);
    UVar6 = GetPrivateProfileIntA("KeyAssignment","R_KaP1",0x4b,(LPCSTR)&local_114);
    _USHORT_0047d6cc = CONCAT22((short)UVar6,USHORT_0047d6cc);
    UVar6 = GetPrivateProfileIntA("KeyAssignment","L_KaP2",0x43,(LPCSTR)&local_114);
    ram0x0047d6d0 = CONCAT22(USHORT_0047d6d2,(short)UVar6);
    UVar6 = GetPrivateProfileIntA("KeyAssignment","L_DongP2",0x56,(LPCSTR)&local_114);
    ram0x0047d6d0 = CONCAT22((short)UVar6,UINT_0047d6ce._2_2_);
    UVar6 = GetPrivateProfileIntA("KeyAssignment","R_DongP2",0x4d,(LPCSTR)&local_114);
    _USHORT_0047d6d4 = CONCAT22(USHORT_0047d6d6,(short)UVar6);
    UVar6 = GetPrivateProfileIntA("KeyAssignment","R_KaP2",0xbc,(LPCSTR)&local_114);
    _USHORT_0047d6d4 = CONCAT22((short)UVar6,USHORT_0047d6d4);
  }
  sprintf_s(local_14,10,"%hu");
  WritePrivateProfileStringA("KeyAssignment","L_KaP1",local_14,(LPCSTR)&local_114);
  sprintf_s(local_14,10,"%hu");
  WritePrivateProfileStringA("KeyAssignment","L_DongP1",local_14,(LPCSTR)&local_114);
  sprintf_s(local_14,10,"%hu");
  WritePrivateProfileStringA("KeyAssignment","R_DongP1",local_14,(LPCSTR)&local_114);
  sprintf_s(local_14,10,"%hu");
  WritePrivateProfileStringA("KeyAssignment","R_KaP1",local_14,(LPCSTR)&local_114);
  sprintf_s(local_14,10,"%hu");
  WritePrivateProfileStringA("KeyAssignment","L_KaP2",local_14,(LPCSTR)&local_114);
  sprintf_s(local_14,10,"%hu");
  WritePrivateProfileStringA("KeyAssignment","L_DongP2",local_14,(LPCSTR)&local_114);
  sprintf_s(local_14,10,"%hu");
  WritePrivateProfileStringA("KeyAssignment","R_DongP2",local_14,(LPCSTR)&local_114);
  sprintf_s(local_14,10,"%hu");
  WritePrivateProfileStringA("KeyAssignment","R_KaP2",local_14,(LPCSTR)&local_114);
  __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void FUN_0040f150(void)

{
  UINT UVar1;
  UINT *pUVar2;
  UINT *pUVar3;
  UINT UVar4;
  UINT UVar5;
  code *pcVar6;
  char *pcVar7;
  char *pcVar8;
  int iVar9;
  FILE *local_250;
  int local_24c;
  uchar local_248;
  undefined1 local_247 [511];
  char local_48 [64];
  uint local_8;
  
  local_8 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  local_248 = '\0';
  memset(local_247,0,0x1ff);
  DAT_0047ac74 = 0x200;
  DAT_0047ac78 = 0x180;
  do {
    local_24c = FUN_00438d60((void *)0x200,&local_248);
    strcat_s((char *)&local_248,0x200,"\\dispconf.ini");
    fopen_s(&local_250,(char *)&local_248,"r");
    if (local_250 == NULL) {
      DAT_0047db78 = 0x400;
      pUVar2 = &DAT_0047db68;
      pUVar3 = &DAT_0047db84;
      do {
        pUVar3[-2] = 0x400;
        *pUVar3 = 0x400;
        DAT_0047db74 = 0x400;
        pUVar2[-1] = 0x400;
        *pUVar2 = 0x400;
        pUVar2[10] = 0x400;
        pUVar2[0xb] = 0x400;
        pUVar2[0xe] = 0x400;
        pUVar2[0xf] = 0x400;
        pUVar2[0x12] = 0x400;
        pUVar2[0x13] = 0x400;
        pUVar2[0x16] = 0x400;
        pUVar2[0x17] = 0x400;
        pUVar2[0x1a] = 0x400;
        pUVar2[0x1b] = 0x400;
        pUVar2[0x1e] = 0x400;
        pUVar2[0x1f] = 0x400;
        pUVar2[0x26] = 0x400;
        pUVar2[0x27] = 0x400;
        pUVar2[0x2a] = 0x400;
        pUVar2[0x2b] = 0x400;
        pUVar2[0x2e] = 0x400;
        pUVar2[0x2f] = 0x400;
        pUVar2[0x32] = 0x400;
        pUVar2[0x33] = 0x400;
        pUVar2[0x36] = 0x400;
        pUVar2[0x37] = 0x400;
        pUVar2[0x3a] = 0x400;
        pUVar2[0x3b] = 0x400;
        pUVar2[0x81] = 0x400;
        pUVar2[0x82] = 0x400;
        pUVar2[0x85] = 0x400;
        pUVar2[0x86] = 0x400;
        pUVar2[0x89] = 0x400;
        pUVar2[0x8a] = 0x400;
        pUVar2[0x8d] = 0x400;
        pUVar2[0x8e] = 0x400;
        pUVar2[0x99] = 0x400;
        pUVar2[0x9a] = 0x400;
        pUVar2[0x9d] = 0x400;
        pUVar2[0x9e] = 0x400;
        pUVar2[0xa1] = 0x400;
        pUVar2[0xa2] = 0x400;
        pUVar2[0xa5] = 0x400;
        pUVar2[0xa6] = 0x400;
        pUVar2[0x91] = 0x400;
        pUVar2[0x92] = 0x400;
        pUVar2[0x95] = 0x400;
        pUVar2[0x96] = 0x400;
        pUVar2[0xa9] = 0x400;
        pUVar2[0xaa] = 0x400;
        pUVar3 = pUVar3 + 1;
        pUVar2 = pUVar2 + 2;
        DAT_0047de20 = 0x400;
        DAT_0047de24 = 0x400;
        DAT_0047de28 = 0x400;
        DAT_0047de2c = 0x400;
      } while ((int)pUVar3 < 0x47db8c);
      DAT_0047dbf0 = 0x400;
      DAT_0047dbf4 = 0x400;
      DAT_0047dbf8 = 0x400;
      DAT_0047dbfc = 0x400;
      DAT_0047dc60 = 0x400;
      DAT_0047dc64 = 0x400;
      DAT_0047dc68 = 0x138;
      DAT_0047de1c = 0xa0;
      if (DAT_0047e2c8 < 2) {
        DAT_0047db8c = 0x400;
      }
      else {
        DAT_0047db8c = (int)DAT_0047ac78 >> 1;
      }
    }
    else {
      fclose(local_250);
      local_24c = 2;
      if (DAT_0047e2c8 < 2) {
        DAT_0047db78 = GetPrivateProfileIntA
                                 ("SingleLayout","ScrollFieldHeight",0x400,(LPCSTR)&local_248);
        DAT_0047db7c = GetPrivateProfileIntA("SingleLayout","ScrollFieldY",0x400,(LPCSTR)&local_24 8)
        ;
        DAT_0047db84 = GetPrivateProfileIntA("SingleLayout","SENotesY",0xe6,(LPCSTR)&local_248);
        DAT_0047db74 = GetPrivateProfileIntA
                                 ("SingleLayout","NormaGaugeWidth",0x400,(LPCSTR)&local_248);
        DAT_0047db64 = GetPrivateProfileIntA("SingleLayout","NormaGaugeX",0x400,(LPCSTR)&local_248 );
        DAT_0047db68 = GetPrivateProfileIntA("SingleLayout","NormaGaugeY",0x400,(LPCSTR)&local_248 );
        DAT_0047db90 = GetPrivateProfileIntA("SingleLayout","ScoreX",0x400,(LPCSTR)&local_248);
        DAT_0047db94 = GetPrivateProfileIntA("SingleLayout","ScoreY",0x400,(LPCSTR)&local_248);
        DAT_0047dba0 = GetPrivateProfileIntA("SingleLayout","AddScoreX",0x400,(LPCSTR)&local_248) ;
        DAT_0047dba4 = GetPrivateProfileIntA("SingleLayout","AddScoreY",0x400,(LPCSTR)&local_248) ;
        DAT_0047dbb0 = GetPrivateProfileIntA("SingleLayout","RollBalloonX",0x400,(LPCSTR)&local_24 8)
        ;
        DAT_0047dbb4 = GetPrivateProfileIntA("SingleLayout","RollBalloonY",0x400,(LPCSTR)&local_24 8)
        ;
        DAT_0047dbc0 = GetPrivateProfileIntA("SingleLayout","RollNumberX",0x400,(LPCSTR)&local_248 );
        DAT_0047dbc4 = GetPrivateProfileIntA("SingleLayout","RollNumberY",0x400,(LPCSTR)&local_248 );
        DAT_0047dbd0 = GetPrivateProfileIntA
                                 ("SingleLayout","BurstBalloonX",0x400,(LPCSTR)&local_248);
        DAT_0047dbd4 = GetPrivateProfileIntA
                                 ("SingleLayout","BurstBalloonY",0x400,(LPCSTR)&local_248);
        DAT_0047dbe0 = GetPrivateProfileIntA("SingleLayout","BurstNumberX",0x400,(LPCSTR)&local_24 8)
        ;
        DAT_0047dbe4 = GetPrivateProfileIntA("SingleLayout","BurstNumberY",0x400,(LPCSTR)&local_24 8)
        ;
        DAT_0047dbf0 = GetPrivateProfileIntA
                                 ("SingleLayout","PotatoBalloonX",0x400,(LPCSTR)&local_248);
        DAT_0047dbf4 = GetPrivateProfileIntA
                                 ("SingleLayout","PotatoBalloonY",0x400,(LPCSTR)&local_248);
        DAT_0047dbf8 = GetPrivateProfileIntA
                                 ("SingleLayout","PotatoNumberX",0x400,(LPCSTR)&local_248);
        DAT_0047dbfc = GetPrivateProfileIntA
                                 ("SingleLayout","PotatoNumberY",0x400,(LPCSTR)&local_248);
        DAT_0047dc00 = GetPrivateProfileIntA
                                 ("SingleLayout","ComboBalloonX",0x400,(LPCSTR)&local_248);
        DAT_0047dc04 = GetPrivateProfileIntA
                                 ("SingleLayout","ComboBalloonY",0x400,(LPCSTR)&local_248);
        DAT_0047dc10 = GetPrivateProfileIntA("SingleLayout","ComboNumberX",0x400,(LPCSTR)&local_24 8)
        ;
        DAT_0047dc14 = GetPrivateProfileIntA("SingleLayout","ComboNumberY",0x400,(LPCSTR)&local_24 8)
        ;
        DAT_0047dc20 = GetPrivateProfileIntA
                                 ("SingleLayout","BranchBalloonX",0x400,(LPCSTR)&local_248);
        DAT_0047dc24 = GetPrivateProfileIntA
                                 ("SingleLayout","BranchBalloonY",0x400,(LPCSTR)&local_248);
        DAT_0047dc30 = GetPrivateProfileIntA
                                 ("SingleLayout","CourseSymbolX",0x400,(LPCSTR)&local_248);
        DAT_0047dc34 = GetPrivateProfileIntA
                                 ("SingleLayout","CourseSymbolY",0x400,(LPCSTR)&local_248);
        DAT_0047dc40 = GetPrivateProfileIntA
                                 ("SingleLayout","PlayerCharacterX",0x400,(LPCSTR)&local_248);
        DAT_0047dc44 = GetPrivateProfileIntA
                                 ("SingleLayout","PlayerCharacterY",0x400,(LPCSTR)&local_248);
        DAT_0047dc50 = GetPrivateProfileIntA
                                 ("SingleLayout","PlayerCharacterBalloonX",0x400,(LPCSTR)&local_24 8)
        ;
        DAT_0047dc54 = GetPrivateProfileIntA
                                 ("SingleLayout","PlayerCharacterBalloonY",0x400,(LPCSTR)&local_24 8)
        ;
        DAT_0047dc60 = GetPrivateProfileIntA
                                 ("SingleLayout","PlayerCharacterPotatoX",0x400,(LPCSTR)&local_248 );
        DAT_0047dc64 = GetPrivateProfileIntA
                                 ("SingleLayout","PlayerCharacterPotatoY",0x400,(LPCSTR)&local_248 );
        DAT_0047dc68 = GetPrivateProfileIntA("SingleLayout","DancerY",0x138,(LPCSTR)&local_248);
        iVar9 = 0x400;
        pcVar8 = "SongTitleY";
        pcVar7 = "SingleLayout";
      }
      else {
        DAT_0047db78 = GetPrivateProfileIntA
                                 ("DoubleLayout","ScrollFieldHeight",0x400,(LPCSTR)&local_248);
        DAT_0047db7c = GetPrivateProfileIntA
                                 ("DoubleLayout","ScrollFieldP1Y",0x400,(LPCSTR)&local_248);
        DAT_0047db80 = GetPrivateProfileIntA
                                 ("DoubleLayout","ScrollFieldP2Y",0x400,(LPCSTR)&local_248);
        DAT_0047db84 = GetPrivateProfileIntA("DoubleLayout","SENotesP1Y",0x400,(LPCSTR)&local_248 );
        DAT_0047db88 = GetPrivateProfileIntA("DoubleLayout","SENotesP2Y",0x400,(LPCSTR)&local_248 );
        DAT_0047db74 = GetPrivateProfileIntA
                                 ("DoubleLayout","NormaGaugeWidth",0x400,(LPCSTR)&local_248);
        DAT_0047db64 = GetPrivateProfileIntA
                                 ("DoubleLayout","NormaGaugeP1X",0x400,(LPCSTR)&local_248);
        DAT_0047db6c = GetPrivateProfileIntA
                                 ("DoubleLayout","NormaGaugeP2X",0x400,(LPCSTR)&local_248);
        DAT_0047db68 = GetPrivateProfileIntA
                                 ("DoubleLayout","NormaGaugeP1Y",0x400,(LPCSTR)&local_248);
        DAT_0047db70 = GetPrivateProfileIntA
                                 ("DoubleLayout","NormaGaugeP2Y",0x400,(LPCSTR)&local_248);
        DAT_0047db90 = GetPrivateProfileIntA("DoubleLayout","ScoreP1X",0x400,(LPCSTR)&local_248);
        DAT_0047db98 = GetPrivateProfileIntA("DoubleLayout","ScoreP2X",0x400,(LPCSTR)&local_248);
        DAT_0047db94 = GetPrivateProfileIntA("DoubleLayout","ScoreP1Y",0x400,(LPCSTR)&local_248);
        DAT_0047db9c = GetPrivateProfileIntA("DoubleLayout","ScoreP2Y",0x400,(LPCSTR)&local_248);
        DAT_0047dba0 = GetPrivateProfileIntA("DoubleLayout","AddScoreP1X",0x400,(LPCSTR)&local_248 );
        DAT_0047dba8 = GetPrivateProfileIntA("DoubleLayout","AddScoreP2X",0x400,(LPCSTR)&local_248 );
        DAT_0047dba4 = GetPrivateProfileIntA("DoubleLayout","AddScoreP1Y",0x400,(LPCSTR)&local_248 );
        DAT_0047dbac = GetPrivateProfileIntA("DoubleLayout","AddScoreP2Y",0x400,(LPCSTR)&local_248 );
        DAT_0047dbb0 = GetPrivateProfileIntA
                                 ("DoubleLayout","RollBalloonP1X",0x400,(LPCSTR)&local_248);
        DAT_0047dbb8 = GetPrivateProfileIntA
                                 ("DoubleLayout","RollBalloonP2X",0x400,(LPCSTR)&local_248);
        DAT_0047dbb4 = GetPrivateProfileIntA
                                 ("DoubleLayout","RollBalloonP1Y",0x400,(LPCSTR)&local_248);
        DAT_0047dbbc = GetPrivateProfileIntA
                                 ("DoubleLayout","RollBalloonP2Y",0x400,(LPCSTR)&local_248);
        DAT_0047dbc0 = GetPrivateProfileIntA
                                 ("DoubleLayout","RollNumberP1X",0x400,(LPCSTR)&local_248);
        DAT_0047dbc8 = GetPrivateProfileIntA
                                 ("DoubleLayout","RollNumberP2X",0x400,(LPCSTR)&local_248);
        DAT_0047dbc4 = GetPrivateProfileIntA
                                 ("DoubleLayout","RollNumberP1Y",0x400,(LPCSTR)&local_248);
        DAT_0047dbcc = GetPrivateProfileIntA
                                 ("DoubleLayout","RollNumberP2Y",0x400,(LPCSTR)&local_248);
        DAT_0047dbd0 = GetPrivateProfileIntA
                                 ("DoubleLayout","BurstBalloonP1X",0x400,(LPCSTR)&local_248);
        DAT_0047dbd8 = GetPrivateProfileIntA
                                 ("DoubleLayout","BurstBalloonP2X",0x400,(LPCSTR)&local_248);
        DAT_0047dbd4 = GetPrivateProfileIntA
                                 ("DoubleLayout","BurstBalloonP1Y",0x400,(LPCSTR)&local_248);
        DAT_0047dbdc = GetPrivateProfileIntA
                                 ("DoubleLayout","BurstBalloonP2Y",0x400,(LPCSTR)&local_248);
        DAT_0047dbe0 = GetPrivateProfileIntA
                                 ("DoubleLayout","BurstNumberP1X",0x400,(LPCSTR)&local_248);
        DAT_0047dbe8 = GetPrivateProfileIntA
                                 ("DoubleLayout","BurstNumberP2X",0x400,(LPCSTR)&local_248);
        DAT_0047dbe4 = GetPrivateProfileIntA
                                 ("DoubleLayout","BurstNumberP1Y",0x400,(LPCSTR)&local_248);
        DAT_0047dbec = GetPrivateProfileIntA
                                 ("DoubleLayout","BurstNumberP2Y",0x400,(LPCSTR)&local_248);
        DAT_0047dbf0 = GetPrivateProfileIntA
                                 ("DoubleLayout","PotatoBalloonX",0x400,(LPCSTR)&local_248);
        DAT_0047dbf4 = GetPrivateProfileIntA
                                 ("DoubleLayout","PotatoBalloonY",0x400,(LPCSTR)&local_248);
        DAT_0047dbf8 = GetPrivateProfileIntA
                                 ("DoubleLayout","PotatoNumberX",0x400,(LPCSTR)&local_248);
        DAT_0047dbfc = GetPrivateProfileIntA
                                 ("DoubleLayout","PotatoNumberY",0x400,(LPCSTR)&local_248);
        DAT_0047dc00 = GetPrivateProfileIntA
                                 ("DoubleLayout","ComboBalloonP1X",0x400,(LPCSTR)&local_248);
        DAT_0047dc08 = GetPrivateProfileIntA
                                 ("DoubleLayout","ComboBalloonP2X",0x400,(LPCSTR)&local_248);
        DAT_0047dc04 = GetPrivateProfileIntA
                                 ("DoubleLayout","ComboBalloonP1Y",0x400,(LPCSTR)&local_248);
        DAT_0047dc0c = GetPrivateProfileIntA
                                 ("DoubleLayout","ComboBalloonP2Y",0x400,(LPCSTR)&local_248);
        DAT_0047dc10 = GetPrivateProfileIntA
                                 ("DoubleLayout","ComboNumberP1X",0x400,(LPCSTR)&local_248);
        DAT_0047dc18 = GetPrivateProfileIntA
                                 ("DoubleLayout","ComboNumberP2X",0x400,(LPCSTR)&local_248);
        DAT_0047dc14 = GetPrivateProfileIntA
                                 ("DoubleLayout","ComboNumberP1Y",0x400,(LPCSTR)&local_248);
        DAT_0047dc1c = GetPrivateProfileIntA
                                 ("DoubleLayout","ComboNumberP2Y",0x400,(LPCSTR)&local_248);
        DAT_0047dc20 = GetPrivateProfileIntA
                                 ("DoubleLayout","BranchBalloonP1X",0x400,(LPCSTR)&local_248);
        DAT_0047dc28 = GetPrivateProfileIntA
                                 ("DoubleLayout","BranchBalloonP2X",0x400,(LPCSTR)&local_248);
        DAT_0047dc24 = GetPrivateProfileIntA
                                 ("DoubleLayout","BranchBalloonP1Y",0x400,(LPCSTR)&local_248);
        DAT_0047dc2c = GetPrivateProfileIntA
                                 ("DoubleLayout","BranchBalloonP2Y",0x400,(LPCSTR)&local_248);
        DAT_0047dc30 = GetPrivateProfileIntA
                                 ("DoubleLayout","CourseSymbolP1X",0x400,(LPCSTR)&local_248);
        DAT_0047dc38 = GetPrivateProfileIntA
                                 ("DoubleLayout","CourseSymbolP2X",0x400,(LPCSTR)&local_248);
        DAT_0047dc34 = GetPrivateProfileIntA
                                 ("DoubleLayout","CourseSymbolP1Y",0x400,(LPCSTR)&local_248);
        DAT_0047dc3c = GetPrivateProfileIntA
                                 ("DoubleLayout","CourseSymbolP2Y",0x400,(LPCSTR)&local_248);
        DAT_0047dc40 = GetPrivateProfileIntA
                                 ("DoubleLayout","PlayerCharacterP1X",0x400,(LPCSTR)&local_248);
        DAT_0047dc48 = GetPrivateProfileIntA
                                 ("DoubleLayout","PlayerCharacterP2X",0x400,(LPCSTR)&local_248);
        DAT_0047dc44 = GetPrivateProfileIntA
                                 ("DoubleLayout","PlayerCharacterP1Y",0x400,(LPCSTR)&local_248);
        DAT_0047dc4c = GetPrivateProfileIntA
                                 ("DoubleLayout","PlayerCharacterP2Y",0x400,(LPCSTR)&local_248);
        DAT_0047dc50 = GetPrivateProfileIntA
                                 ("DoubleLayout","PlayerCharacterBalloonP1X",0x400,
                                  (LPCSTR)&local_248);
        DAT_0047dc58 = GetPrivateProfileIntA
                                 ("DoubleLayout","PlayerCharacterBalloonP2X",0x400,
                                  (LPCSTR)&local_248);
        DAT_0047dc54 = GetPrivateProfileIntA
                                 ("DoubleLayout","PlayerCharacterBalloonP1Y",0x400,
                                  (LPCSTR)&local_248);
        DAT_0047dc5c = GetPrivateProfileIntA
                                 ("DoubleLayout","PlayerCharacterBalloonP2Y",0x400,
                                  (LPCSTR)&local_248);
        DAT_0047dc60 = GetPrivateProfileIntA
                                 ("DoubleLayout","PlayerCharacterPotatoX",0x400,(LPCSTR)&local_248 );
        DAT_0047dc64 = GetPrivateProfileIntA
                                 ("DoubleLayout","PlayerCharacterPotatoY",0x400,(LPCSTR)&local_248 );
        iVar9 = (int)DAT_0047ac78 >> 1;
        pcVar8 = "SongTitleY";
        pcVar7 = "DoubleLayout";
      }
      DAT_0047db8c = GetPrivateProfileIntA(pcVar7,pcVar8,iVar9,(LPCSTR)&local_248);
      if (((int)DAT_0047ac78 < (int)DAT_0047db78) && (DAT_0047db78 != 0x400)) {
        DAT_0047db78 = DAT_0047ac78;
      }
      UVar4 = (int)DAT_0047db78 >> 1;
      if (DAT_0047db7c != 0x400) {
        if ((int)DAT_0047ac78 < (int)(UVar4 + DAT_0047db7c)) {
          DAT_0047db7c = DAT_0047ac78 - UVar4;
        }
        if ((int)(DAT_0047db7c - UVar4) < 0) {
          DAT_0047db7c = UVar4;
        }
      }
      if (DAT_0047db80 != 0x400) {
        if ((int)DAT_0047ac78 < (int)(UVar4 + DAT_0047db80)) {
          DAT_0047db80 = DAT_0047ac78 - UVar4;
        }
        if ((int)(DAT_0047db80 - UVar4) < 0) {
          DAT_0047db80 = UVar4;
        }
      }
      DAT_0047dd6c = GetPrivateProfileIntA("ResultLayout","ResultBoardP1X",0x400,(LPCSTR)&local_24 8)
      ;
      DAT_0047dd74 = GetPrivateProfileIntA("ResultLayout","ResultBoardP2X",0x400,(LPCSTR)&local_24 8)
      ;
      DAT_0047dd70 = GetPrivateProfileIntA("ResultLayout","ResultBoardP1Y",0x400,(LPCSTR)&local_24 8)
      ;
      DAT_0047dd78 = GetPrivateProfileIntA("ResultLayout","ResultBoardP2Y",0x400,(LPCSTR)&local_24 8)
      ;
      DAT_0047dd7c = GetPrivateProfileIntA("ResultLayout","ResultScoreP1X",0x400,(LPCSTR)&local_24 8)
      ;
      DAT_0047dd84 = GetPrivateProfileIntA("ResultLayout","ResultScoreP2X",0x400,(LPCSTR)&local_24 8)
      ;
      DAT_0047dd80 = GetPrivateProfileIntA("ResultLayout","ResultScoreP1Y",0x400,(LPCSTR)&local_24 8)
      ;
      DAT_0047dd88 = GetPrivateProfileIntA("ResultLayout","ResultScoreP2Y",0x400,(LPCSTR)&local_24 8)
      ;
      DAT_0047dd8c = GetPrivateProfileIntA
                               ("ResultLayout","ResultMaxComboP1X",0x400,(LPCSTR)&local_248);
      DAT_0047dd94 = GetPrivateProfileIntA
                               ("ResultLayout","ResultMaxComboP2X",0x400,(LPCSTR)&local_248);
      DAT_0047dd90 = GetPrivateProfileIntA
                               ("ResultLayout","ResultMaxComboP1Y",0x400,(LPCSTR)&local_248);
      DAT_0047dd98 = GetPrivateProfileIntA
                               ("ResultLayout","ResultMaxComboP2Y",0x400,(LPCSTR)&local_248);
      DAT_0047dd9c = GetPrivateProfileIntA("ResultLayout","ResultGreatP1X",0x400,(LPCSTR)&local_24 8)
      ;
      DAT_0047dda4 = GetPrivateProfileIntA("ResultLayout","ResultGreatP2X",0x400,(LPCSTR)&local_24 8)
      ;
      DAT_0047dda0 = GetPrivateProfileIntA("ResultLayout","ResultGreatP1Y",0x400,(LPCSTR)&local_24 8)
      ;
      DAT_0047dda8 = GetPrivateProfileIntA("ResultLayout","ResultGreatP2Y",0x400,(LPCSTR)&local_24 8)
      ;
      DAT_0047ddac = GetPrivateProfileIntA("ResultLayout","ResultGoodP1X",0x400,(LPCSTR)&local_248 );
      DAT_0047ddb4 = GetPrivateProfileIntA("ResultLayout","ResultGoodP2X",0x400,(LPCSTR)&local_248 );
      DAT_0047ddb0 = GetPrivateProfileIntA("ResultLayout","ResultGoodP1Y",0x400,(LPCSTR)&local_248 );
      DAT_0047ddb8 = GetPrivateProfileIntA("ResultLayout","ResultGoodP2Y",0x400,(LPCSTR)&local_248 );
      DAT_0047ddbc = GetPrivateProfileIntA("ResultLayout","ResultBadP1X",0x400,(LPCSTR)&local_248 );
      DAT_0047ddc4 = GetPrivateProfileIntA("ResultLayout","ResultBadP2X",0x400,(LPCSTR)&local_248 );
      DAT_0047ddc0 = GetPrivateProfileIntA("ResultLayout","ResultBadP1Y",0x400,(LPCSTR)&local_248 );
      DAT_0047ddc8 = GetPrivateProfileIntA("ResultLayout","ResultBadP2Y",0x400,(LPCSTR)&local_248 );
      DAT_0047ddcc = GetPrivateProfileIntA("ResultLayout","ResultRollP1X",0x400,(LPCSTR)&local_248 );
      DAT_0047ddd4 = GetPrivateProfileIntA("ResultLayout","ResultRollP2X",0x400,(LPCSTR)&local_248 );
      DAT_0047ddd0 = GetPrivateProfileIntA("ResultLayout","ResultRollP1Y",0x400,(LPCSTR)&local_248 );
      DAT_0047ddd8 = GetPrivateProfileIntA("ResultLayout","ResultRollP2Y",0x400,(LPCSTR)&local_248 );
      DAT_0047dddc = GetPrivateProfileIntA("ResultLayout","ResultRateP1X",0x400,(LPCSTR)&local_248 );
      DAT_0047dde4 = GetPrivateProfileIntA("ResultLayout","ResultRateP2X",0x400,(LPCSTR)&local_248 );
      DAT_0047dde0 = GetPrivateProfileIntA("ResultLayout","ResultRateP1Y",0x400,(LPCSTR)&local_248 );
      DAT_0047dde8 = GetPrivateProfileIntA("ResultLayout","ResultRateP2Y",0x400,(LPCSTR)&local_248 );
      DAT_0047ddec = GetPrivateProfileIntA
                               ("ResultLayout","ResultFullComboP1X",0x400,(LPCSTR)&local_248);
      DAT_0047ddf4 = GetPrivateProfileIntA
                               ("ResultLayout","ResultFullComboP2X",0x400,(LPCSTR)&local_248);
      DAT_0047ddf0 = GetPrivateProfileIntA
                               ("ResultLayout","ResultFullComboP1Y",0x400,(LPCSTR)&local_248);
      DAT_0047ddf8 = GetPrivateProfileIntA
                               ("ResultLayout","ResultFullComboP2Y",0x400,(LPCSTR)&local_248);
      DAT_0047ddfc = GetPrivateProfileIntA
                               ("ResultLayout","ResultNewRecordP1X",0x400,(LPCSTR)&local_248);
      DAT_0047de04 = GetPrivateProfileIntA
                               ("ResultLayout","ResultNewRecordP2X",0x400,(LPCSTR)&local_248);
      DAT_0047de00 = GetPrivateProfileIntA
                               ("ResultLayout","ResultNewRecordP1Y",0x400,(LPCSTR)&local_248);
      DAT_0047de08 = GetPrivateProfileIntA
                               ("ResultLayout","ResultNewRecordP2Y",0x400,(LPCSTR)&local_248);
      DAT_0047de1c = GetPrivateProfileIntA
                               ("ResultLayout","ResultGaugeWidth",0x400,(LPCSTR)&local_248);
      DAT_0047de0c = GetPrivateProfileIntA("ResultLayout","ResultGaugeP1X",0x400,(LPCSTR)&local_24 8)
      ;
      DAT_0047de14 = GetPrivateProfileIntA("ResultLayout","ResultGaugeP2X",0x400,(LPCSTR)&local_24 8)
      ;
      DAT_0047de10 = GetPrivateProfileIntA("ResultLayout","ResultGaugeP1Y",0x400,(LPCSTR)&local_24 8)
      ;
      DAT_0047de18 = GetPrivateProfileIntA("ResultLayout","ResultGaugeP2Y",0x400,(LPCSTR)&local_24 8)
      ;
      DAT_0047de20 = GetPrivateProfileIntA
                               ("ResultLayout","ResultSongTitleX",0x400,(LPCSTR)&local_248);
      DAT_0047de24 = GetPrivateProfileIntA
                               ("ResultLayout","ResultSongTitleY",0x400,(LPCSTR)&local_248);
      DAT_0047de28 = GetPrivateProfileIntA
                               ("ResultLayout","ResultSongSubTitleX",0x400,(LPCSTR)&local_248);
      DAT_0047de2c = GetPrivateProfileIntA
                               ("ResultLayout","ResultSongSubTitleY",0x400,(LPCSTR)&local_248);
    }
    UVar4 = (int)DAT_0047ac78 >> 1;
    if (DAT_0047e2c8 < 2) {
      if (DAT_0047db78 == 0x400) {
        DAT_0047db78 = 0x38;
      }
      if (DAT_0047db7c == 0x400) {
        DAT_0047db7c = 0xc0;
      }
      if (DAT_0047db74 == 0x400) {
        DAT_0047db74 = 0x100;
      }
      if (DAT_0047db64 == 0x400) {
        DAT_0047db64 = ((int)DAT_0047db74 >> 1) + 0xdc;
      }
      if (DAT_0047db68 == 0x400) {
        DAT_0047db68 = 0x75;
      }
      if (DAT_0047db90 == 0x400) {
        DAT_0047db90 = 0x1c2;
      }
      if (DAT_0047db94 == 0x400) {
        DAT_0047db94 = 0x96;
      }
      if (DAT_0047dba0 == 0x400) {
        DAT_0047dba0 = 0x1c2;
      }
      if (DAT_0047dba4 == 0x400) {
        DAT_0047dba4 = 0x87;
      }
      if (DAT_0047dbb0 == 0x400) {
        DAT_0047dbb0 = 0x50;
      }
      iVar9 = (int)DAT_0047db78 >> 1;
      if (DAT_0047dbb4 == 0x400) {
        DAT_0047dbb4 = (DAT_0047db7c - iVar9) - 0x14;
      }
      if (DAT_0047dbc0 == 0x400) {
        DAT_0047dbc0 = 0x50;
      }
      if (DAT_0047dbc4 == 0x400) {
        DAT_0047dbc4 = (DAT_0047db7c - iVar9) - 0x14;
      }
      if (DAT_0047dbd0 == 0x400) {
        DAT_0047dbd0 = 0xaf;
      }
      if (DAT_0047dbd4 == 0x400) {
        DAT_0047dbd4 = (DAT_0047db7c - iVar9) - 0x14;
      }
      if (DAT_0047dbe0 == 0x400) {
        DAT_0047dbe0 = 0xaf;
      }
      if (DAT_0047dbe4 == 0x400) {
        DAT_0047dbe4 = (DAT_0047db7c - iVar9) - 0x14;
      }
      if (DAT_0047dc20 == 0x400) {
        DAT_0047dc20 = 0xaf;
      }
      if (DAT_0047dc24 == 0x400) {
        DAT_0047dc24 = (DAT_0047db7c - iVar9) - 0x3c;
      }
      if (DAT_0047dc00 == 0x400) {
        DAT_0047dc00 = 0xbc;
      }
      if (DAT_0047dc04 == 0x400) {
        DAT_0047dc04 = (DAT_0047db7c - iVar9) - 10;
      }
      if (DAT_0047dc10 == 0x400) {
        DAT_0047dc10 = 0xb4;
      }
      if (DAT_0047dc14 == 0x400) {
        DAT_0047dc14 = (DAT_0047db7c - iVar9) - 10;
      }
      if (DAT_0047dc30 == 0x400) {
        DAT_0047dc30 = 0x78;
      }
      if (DAT_0047dc34 == 0x400) {
        DAT_0047dc34 = (DAT_0047db7c - iVar9) - 0x14;
      }
      if (DAT_0047dc40 == 0x400) {
        DAT_0047dc40 = 0x3c;
      }
      if (DAT_0047dc44 == 0x400) {
        DAT_0047dc44 = (DAT_0047db7c - iVar9) - 0x14;
      }
      if (DAT_0047dc50 == 0x400) {
        DAT_0047dc50 = 0x5a;
      }
      if (DAT_0047dc54 == 0x400) {
        DAT_0047dc54 = DAT_0047db7c - 10;
      }
      if (DAT_0047db84 == 0x400) {
        DAT_0047db84 = iVar9 + 10 + DAT_0047db7c;
      }
      if (DAT_0047db8c == 0x400) {
        DAT_0047db8c = iVar9 + 0x22 + DAT_0047db7c;
      }
    }
    else {
      if (DAT_0047db78 == 0x400) {
        DAT_0047db78 = 0x38;
      }
      iVar9 = (int)DAT_0047db78 >> 1;
      if (DAT_0047db7c == 0x400) {
        DAT_0047db7c = (UVar4 - iVar9) - 0x22;
      }
      if (DAT_0047db80 == 0x400) {
        DAT_0047db80 = iVar9 + 0xe + UVar4;
      }
      if (DAT_0047db84 == 0x400) {
        DAT_0047db84 = iVar9 + 10 + DAT_0047db7c;
      }
      if (DAT_0047db88 == 0x400) {
        DAT_0047db88 = iVar9 + 10 + DAT_0047db80;
      }
      if (DAT_0047db74 == 0x400) {
        DAT_0047db74 = 0x100;
      }
      if (DAT_0047db64 == 0x400) {
        DAT_0047db64 = ((int)DAT_0047db74 >> 1) + 0xdc;
      }
      if (DAT_0047db6c == 0x400) {
        DAT_0047db6c = ((int)DAT_0047db74 >> 1) + 0xdc;
      }
      if (DAT_0047db68 == 0x400) {
        DAT_0047db68 = 0x39;
      }
      if (DAT_0047db70 == 0x400) {
        DAT_0047db70 = 0x147;
      }
      if (DAT_0047db90 == 0x400) {
        DAT_0047db90 = 0x1c2;
      }
      if (DAT_0047db98 == 0x400) {
        DAT_0047db98 = 0x1c2;
      }
      if (DAT_0047db94 == 0x400) {
        DAT_0047db94 = 0x5a;
      }
      if (DAT_0047db9c == 0x400) {
        DAT_0047db9c = 0x126;
      }
      if (DAT_0047dba0 == 0x400) {
        DAT_0047dba0 = 0x1c2;
      }
      if (DAT_0047dba8 == 0x400) {
        DAT_0047dba8 = 0x1c2;
      }
      if (DAT_0047dba4 == 0x400) {
        DAT_0047dba4 = 0x4b;
      }
      if (DAT_0047dbac == 0x400) {
        DAT_0047dbac = 0x135;
      }
      if (DAT_0047dbb0 == 0x400) {
        DAT_0047dbb0 = 0x50;
      }
      if (DAT_0047dbb8 == 0x400) {
        DAT_0047dbb8 = 0x50;
      }
      if (DAT_0047dbb4 == 0x400) {
        DAT_0047dbb4 = (DAT_0047db7c - iVar9) - 0x14;
      }
      if (DAT_0047dbbc == 0x400) {
        DAT_0047dbbc = iVar9 + 0x28 + DAT_0047db80;
      }
      if (DAT_0047dbc0 == 0x400) {
        DAT_0047dbc0 = 0x50;
      }
      if (DAT_0047dbc8 == 0x400) {
        DAT_0047dbc8 = 0x50;
      }
      if (DAT_0047dbc4 == 0x400) {
        DAT_0047dbc4 = (DAT_0047db7c - iVar9) - 0x14;
      }
      if (DAT_0047dbcc == 0x400) {
        DAT_0047dbcc = iVar9 + 0x28 + DAT_0047db80;
      }
      if (DAT_0047dbd0 == 0x400) {
        DAT_0047dbd0 = 0xaf;
      }
      if (DAT_0047dbd8 == 0x400) {
        DAT_0047dbd8 = 0xaf;
      }
      if (DAT_0047dbd4 == 0x400) {
        DAT_0047dbd4 = (DAT_0047db7c - iVar9) - 0x14;
      }
      if (DAT_0047dbdc == 0x400) {
        DAT_0047dbdc = (DAT_0047db80 - iVar9) - 0x14;
      }
      if (DAT_0047dbe0 == 0x400) {
        DAT_0047dbe0 = 0xaf;
      }
      if (DAT_0047dbe8 == 0x400) {
        DAT_0047dbe8 = 0xaf;
      }
      if (DAT_0047dbe4 == 0x400) {
        DAT_0047dbe4 = (DAT_0047db7c - iVar9) - 0x14;
      }
      if (DAT_0047dbec == 0x400) {
        DAT_0047dbec = (DAT_0047db80 - iVar9) - 0x14;
      }
      if (DAT_0047dc00 == 0x400) {
        DAT_0047dc00 = 0xbc;
      }
      if (DAT_0047dc08 == 0x400) {
        DAT_0047dc08 = 0xbc;
      }
      if (DAT_0047dc04 == 0x400) {
        DAT_0047dc04 = (DAT_0047db7c - iVar9) - 10;
      }
      if (DAT_0047dc0c == 0x400) {
        DAT_0047dc0c = iVar9 + 0x1e + DAT_0047db80;
      }
      if (DAT_0047dc10 == 0x400) {
        DAT_0047dc10 = 0xb4;
      }
      if (DAT_0047dc18 == 0x400) {
        DAT_0047dc18 = 0xb4;
      }
      if (DAT_0047dc14 == 0x400) {
        DAT_0047dc14 = (DAT_0047db7c - iVar9) - 10;
      }
      if (DAT_0047dc1c == 0x400) {
        DAT_0047dc1c = iVar9 + 0x1e + DAT_0047db80;
      }
      if (DAT_0047dc20 == 0x400) {
        DAT_0047dc20 = 0xaf;
      }
      if (DAT_0047dc28 == 0x400) {
        DAT_0047dc28 = 0xaf;
      }
      if (DAT_0047dc24 == 0x400) {
        DAT_0047dc24 = (DAT_0047db7c - iVar9) - 0x14;
      }
      if (DAT_0047dc2c == 0x400) {
        DAT_0047dc2c = (DAT_0047db80 - iVar9) - 0x14;
      }
      if (DAT_0047dc30 == 0x400) {
        DAT_0047dc30 = 0x78;
      }
      if (DAT_0047dc38 == 0x400) {
        DAT_0047dc38 = 0x78;
      }
      if (DAT_0047dc34 == 0x400) {
        DAT_0047dc34 = (DAT_0047db7c - iVar9) - 0x14;
      }
      if (DAT_0047dc3c == 0x400) {
        DAT_0047dc3c = iVar9 + 0x28 + DAT_0047db80;
      }
      if (DAT_0047dc40 == 0x400) {
        DAT_0047dc40 = 0x3c;
      }
      if (DAT_0047dc48 == 0x400) {
        DAT_0047dc48 = 0x3c;
      }
      if (DAT_0047dc44 == 0x400) {
        DAT_0047dc44 = (DAT_0047db7c - iVar9) - 0x14;
      }
      if (DAT_0047dc4c == 0x400) {
        DAT_0047dc4c = iVar9 + 0x28 + DAT_0047db80;
      }
      if (DAT_0047dc50 == 0x400) {
        DAT_0047dc50 = 0x5a;
      }
      if (DAT_0047dc58 == 0x400) {
        DAT_0047dc58 = 0x5a;
      }
      if (DAT_0047dc54 == 0x400) {
        DAT_0047dc54 = DAT_0047db7c - 10;
      }
      if (DAT_0047dc5c == 0x400) {
        DAT_0047dc5c = DAT_0047db80 - 10;
      }
    }
    UVar5 = DAT_0047ac74 >> 1;
    if (DAT_0047dbf0 == 0x400) {
      DAT_0047dbf0 = UVar5;
    }
    if (DAT_0047dbf4 == 0x400) {
      DAT_0047dbf4 = UVar4;
    }
    if (DAT_0047dbf8 == 0x400) {
      DAT_0047dbf8 = UVar5;
    }
    if (DAT_0047dbfc == 0x400) {
      DAT_0047dbfc = UVar4;
    }
    if (DAT_0047dc60 == 0x400) {
      DAT_0047dc60 = UVar5;
    }
    if (DAT_0047dc64 == 0x400) {
      DAT_0047dc64 = UVar4;
    }
    UVar1 = DAT_0047ac74 >> 2;
    if (DAT_0047dd6c == 0x400) {
      DAT_0047dd6c = UVar1;
    }
    if (DAT_0047dd74 == 0x400) {
      DAT_0047dd74 = UVar1 * 3;
    }
    if (DAT_0047dd70 == 0x400) {
      DAT_0047dd70 = UVar4 + 0xc;
    }
    if (DAT_0047dd78 == 0x400) {
      DAT_0047dd78 = UVar4 + 0xc;
    }
    if (DAT_0047dd7c == 0x400) {
      DAT_0047dd7c = 0xa0;
    }
    if (DAT_0047dd84 == 0x400) {
      DAT_0047dd84 = UVar5 + 0xa0;
    }
    if (DAT_0047dd80 == 0x400) {
      DAT_0047dd80 = 0x85;
    }
    if (DAT_0047dd88 == 0x400) {
      DAT_0047dd88 = 0x85;
    }
    if (DAT_0047dd8c == 0x400) {
      DAT_0047dd8c = 0xb5;
    }
    if (DAT_0047dd94 == 0x400) {
      DAT_0047dd94 = UVar5 + 0xb5;
    }
    if (DAT_0047dd90 == 0x400) {
      DAT_0047dd90 = 0xb8;
    }
    if (DAT_0047dd98 == 0x400) {
      DAT_0047dd98 = 0xb8;
    }
    UVar4 = 0xce;
    pUVar2 = &DAT_0047dda4;
    do {
      if (pUVar2[-2] == 0x400) {
        pUVar2[-2] = 0xb5;
      }
      if (*pUVar2 == 0x400) {
        *pUVar2 = UVar5 + 0xb5;
      }
      if (pUVar2[-1] == 0x400) {
        pUVar2[-1] = UVar4;
      }
      if (pUVar2[1] == 0x400) {
        pUVar2[1] = UVar4;
      }
      UVar4 += 0x12;
      pUVar2 = pUVar2 + 4;
    } while ((int)UVar4 < 0x104);
    if (DAT_0047ddcc == 0x400) {
      DAT_0047ddcc = 0xb5;
    }
    if (DAT_0047ddd4 == 0x400) {
      DAT_0047ddd4 = UVar5 + 0xb5;
    }
    if (DAT_0047ddd0 == 0x400) {
      DAT_0047ddd0 = 0x104;
    }
    if (DAT_0047ddd8 == 0x400) {
      DAT_0047ddd8 = 0x104;
    }
    if (DAT_0047dddc == 0x400) {
      DAT_0047dddc = 0xb5;
    }
    if (DAT_0047dde4 == 0x400) {
      DAT_0047dde4 = UVar5 + 0xb5;
    }
    if (DAT_0047dde0 == 0x400) {
      DAT_0047dde0 = 0x11a;
    }
    if (DAT_0047dde8 == 0x400) {
      DAT_0047dde8 = 0x11a;
    }
    if (DAT_0047ddec == 0x400) {
      DAT_0047ddec = 0xe1;
    }
    if (DAT_0047ddf4 == 0x400) {
      DAT_0047ddf4 = UVar5 + 0xe1;
    }
    if (DAT_0047ddf0 == 0x400) {
      DAT_0047ddf0 = 0xb7;
    }
    if (DAT_0047ddf8 == 0x400) {
      DAT_0047ddf8 = 0xb7;
    }
    if (DAT_0047ddfc == 0x400) {
      DAT_0047ddfc = 0xbd;
    }
    if (DAT_0047de04 == 0x400) {
      DAT_0047de04 = UVar5 + 0xbd;
    }
    if (DAT_0047de00 == 0x400) {
      DAT_0047de00 = 0x69;
    }
    if (DAT_0047de08 == 0x400) {
      DAT_0047de08 = 0x69;
    }
    if (DAT_0047de1c == 0x400) {
      DAT_0047de1c = 0xa0;
    }
    if (DAT_0047de0c == 0x400) {
      DAT_0047de0c = UVar1;
    }
    if (DAT_0047de14 == 0x400) {
      DAT_0047de14 = UVar1 * 3;
    }
    if (DAT_0047de10 == 0x400) {
      DAT_0047de10 = 0xa0;
    }
    if (DAT_0047de18 == 0x400) {
      DAT_0047de18 = 0xa0;
    }
    if (DAT_0047de20 == 0x400) {
      DAT_0047de20 = UVar5;
    }
    if (DAT_0047de24 == 0x400) {
      DAT_0047de24 = 0x46;
    }
    if (DAT_0047de28 == 0x400) {
      DAT_0047de28 = UVar5;
    }
    if (DAT_0047de2c == 0x400) {
      DAT_0047de2c = 0x5a;
    }
  } while ((local_24c != 2) && (local_24c + 1 < 3));
  if (DAT_0047e2c8 < 2) {
    sprintf_s(local_48,0x40,"%d",DAT_0047db78);
    pcVar6 = WritePrivateProfileStringA_exref;
    WritePrivateProfileStringA("SingleLayout","ScrollFieldHeight",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047db7c);
    WritePrivateProfileStringA("SingleLayout","ScrollFieldY",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047db84);
    WritePrivateProfileStringA("SingleLayout","SENotesY",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%d",DAT_0047db74);
    WritePrivateProfileStringA("SingleLayout","NormaGaugeWidth",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047db64);
    WritePrivateProfileStringA("SingleLayout","NormaGaugeX",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047db68);
    WritePrivateProfileStringA("SingleLayout","NormaGaugeY",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047db90);
    WritePrivateProfileStringA("SingleLayout","ScoreX",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047db94);
    WritePrivateProfileStringA("SingleLayout","ScoreY",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dba0);
    WritePrivateProfileStringA("SingleLayout","AddScoreX",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dba4);
    WritePrivateProfileStringA("SingleLayout","AddScoreY",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dbb0);
    WritePrivateProfileStringA("SingleLayout","RollBalloonX",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dbb4);
    WritePrivateProfileStringA("SingleLayout","RollBalloonY",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dbc0);
    WritePrivateProfileStringA("SingleLayout","RollNumberX",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dbc4);
    WritePrivateProfileStringA("SingleLayout","RollNumberY",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dbd0);
    WritePrivateProfileStringA("SingleLayout","BurstBalloonX",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dbd4);
    WritePrivateProfileStringA("SingleLayout","BurstBalloonY",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dbe0);
    WritePrivateProfileStringA("SingleLayout","BurstNumberX",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dbe4);
    WritePrivateProfileStringA("SingleLayout","BurstNumberY",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dbf0);
    WritePrivateProfileStringA("SingleLayout","PotatoBalloonX",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dbf4);
    WritePrivateProfileStringA("SingleLayout","PotatoBalloonY",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dbf8);
    WritePrivateProfileStringA("SingleLayout","PotatoNumberX",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dbfc);
    WritePrivateProfileStringA("SingleLayout","PotatoNumberY",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dc00);
    WritePrivateProfileStringA("SingleLayout","ComboBalloonX",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dc04);
    WritePrivateProfileStringA("SingleLayout","ComboBalloonY",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dc10);
    WritePrivateProfileStringA("SingleLayout","ComboNumberX",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dc14);
    WritePrivateProfileStringA("SingleLayout","ComboNumberY",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dc20);
    WritePrivateProfileStringA("SingleLayout","BranchBalloonX",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dc24);
    WritePrivateProfileStringA("SingleLayout","BranchBalloonY",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dc30);
    WritePrivateProfileStringA("SingleLayout","CourseSymbolX",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dc34);
    WritePrivateProfileStringA("SingleLayout","CourseSymbolY",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dc40);
    WritePrivateProfileStringA("SingleLayout","PlayerCharacterX",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dc44);
    WritePrivateProfileStringA("SingleLayout","PlayerCharacterY",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dc50);
    WritePrivateProfileStringA("SingleLayout","PlayerCharacterBalloonX",local_48,(LPCSTR)&local_2 48)
    ;
    sprintf_s(local_48,0x40,"%ld",DAT_0047dc54);
    WritePrivateProfileStringA("SingleLayout","PlayerCharacterBalloonY",local_48,(LPCSTR)&local_2 48)
    ;
    sprintf_s(local_48,0x40,"%ld",DAT_0047dc60);
    WritePrivateProfileStringA("SingleLayout","PlayerCharacterPotatoX",local_48,(LPCSTR)&local_24 8);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dc64);
    WritePrivateProfileStringA("SingleLayout","PlayerCharacterPotatoY",local_48,(LPCSTR)&local_24 8);
    sprintf_s(local_48,0x40,"%d",DAT_0047dc68);
    WritePrivateProfileStringA("SingleLayout","DancerY",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%d",DAT_0047db8c);
    pcVar8 = "SongTitleY";
    pcVar7 = "SingleLayout";
  }
  else {
    sprintf_s(local_48,0x40,"%d",DAT_0047db78);
    pcVar6 = WritePrivateProfileStringA_exref;
    WritePrivateProfileStringA("DoubleLayout","ScrollFieldHeight",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047db7c);
    WritePrivateProfileStringA("DoubleLayout","ScrollFieldP1Y",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047db80);
    WritePrivateProfileStringA("DoubleLayout","ScrollFieldP2Y",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047db84);
    WritePrivateProfileStringA("DoubleLayout","SENotesP1Y",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047db88);
    WritePrivateProfileStringA("DoubleLayout","SENotesP2Y",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%d",DAT_0047db74);
    WritePrivateProfileStringA("DoubleLayout","NormaGaugeWidth",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047db64);
    WritePrivateProfileStringA("DoubleLayout","NormaGaugeP1X",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047db6c);
    WritePrivateProfileStringA("DoubleLayout","NormaGaugeP2X",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047db68);
    WritePrivateProfileStringA("DoubleLayout","NormaGaugeP1Y",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047db70);
    WritePrivateProfileStringA("DoubleLayout","NormaGaugeP2Y",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047db90);
    WritePrivateProfileStringA("DoubleLayout","ScoreP1X",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047db98);
    WritePrivateProfileStringA("DoubleLayout","ScoreP2X",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047db94);
    WritePrivateProfileStringA("DoubleLayout","ScoreP1Y",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047db9c);
    WritePrivateProfileStringA("DoubleLayout","ScoreP2Y",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dba0);
    WritePrivateProfileStringA("DoubleLayout","AddScoreP1X",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dba8);
    WritePrivateProfileStringA("DoubleLayout","AddScoreP2X",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dba4);
    WritePrivateProfileStringA("DoubleLayout","AddScoreP1Y",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dbac);
    WritePrivateProfileStringA("DoubleLayout","AddScoreP2Y",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dbb0);
    WritePrivateProfileStringA("DoubleLayout","RollBalloonP1X",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dbb8);
    WritePrivateProfileStringA("DoubleLayout","RollBalloonP2X",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dbb4);
    WritePrivateProfileStringA("DoubleLayout","RollBalloonP1Y",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dbbc);
    WritePrivateProfileStringA("DoubleLayout","RollBalloonP2Y",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dbc0);
    WritePrivateProfileStringA("DoubleLayout","RollNumberP1X",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dbc8);
    WritePrivateProfileStringA("DoubleLayout","RollNumberP2X",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dbc4);
    WritePrivateProfileStringA("DoubleLayout","RollNumberP1Y",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dbcc);
    WritePrivateProfileStringA("DoubleLayout","RollNumberP2Y",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dbd0);
    WritePrivateProfileStringA("DoubleLayout","BurstBalloonP1X",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dbd8);
    WritePrivateProfileStringA("DoubleLayout","BurstBalloonP2X",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dbd4);
    WritePrivateProfileStringA("DoubleLayout","BurstBalloonP1Y",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dbdc);
    WritePrivateProfileStringA("DoubleLayout","BurstBalloonP2Y",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dbe0);
    WritePrivateProfileStringA("DoubleLayout","BurstNumberP1X",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dbe8);
    WritePrivateProfileStringA("DoubleLayout","BurstNumberP2X",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dbe4);
    WritePrivateProfileStringA("DoubleLayout","BurstNumberP1Y",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dbec);
    WritePrivateProfileStringA("DoubleLayout","BurstNumberP2Y",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dbf0);
    WritePrivateProfileStringA("DoubleLayout","PotatoBalloonX",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dbf4);
    WritePrivateProfileStringA("DoubleLayout","PotatoBalloonY",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dbf8);
    WritePrivateProfileStringA("DoubleLayout","PotatoNumberX",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dbfc);
    WritePrivateProfileStringA("DoubleLayout","PotatoNumberY",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dc00);
    WritePrivateProfileStringA("DoubleLayout","ComboBalloonP1X",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dc08);
    WritePrivateProfileStringA("DoubleLayout","ComboBalloonP2X",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dc04);
    WritePrivateProfileStringA("DoubleLayout","ComboBalloonP1Y",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dc0c);
    WritePrivateProfileStringA("DoubleLayout","ComboBalloonP2Y",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dc10);
    WritePrivateProfileStringA("DoubleLayout","ComboNumberP1X",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dc18);
    WritePrivateProfileStringA("DoubleLayout","ComboNumberP2X",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dc14);
    WritePrivateProfileStringA("DoubleLayout","ComboNumberP1Y",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dc1c);
    WritePrivateProfileStringA("DoubleLayout","ComboNumberP2Y",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dc20);
    WritePrivateProfileStringA("DoubleLayout","BranchBalloonP1X",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dc28);
    WritePrivateProfileStringA("DoubleLayout","BranchBalloonP2X",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dc24);
    WritePrivateProfileStringA("DoubleLayout","BranchBalloonP1Y",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dc2c);
    WritePrivateProfileStringA("DoubleLayout","BranchBalloonP2Y",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dc30);
    WritePrivateProfileStringA("DoubleLayout","CourseSymbolP1X",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dc38);
    WritePrivateProfileStringA("DoubleLayout","CourseSymbolP2X",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dc34);
    WritePrivateProfileStringA("DoubleLayout","CourseSymbolP1Y",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dc3c);
    WritePrivateProfileStringA("DoubleLayout","CourseSymbolP2Y",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dc40);
    WritePrivateProfileStringA("DoubleLayout","PlayerCharacterP1X",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dc48);
    WritePrivateProfileStringA("DoubleLayout","PlayerCharacterP2X",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dc44);
    WritePrivateProfileStringA("DoubleLayout","PlayerCharacterP1Y",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dc4c);
    WritePrivateProfileStringA("DoubleLayout","PlayerCharacterP2Y",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dc50);
    WritePrivateProfileStringA
              ("DoubleLayout","PlayerCharacterBalloonP1X",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dc58);
    WritePrivateProfileStringA
              ("DoubleLayout","PlayerCharacterBalloonP2X",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dc54);
    WritePrivateProfileStringA
              ("DoubleLayout","PlayerCharacterBalloonP1Y",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dc5c);
    WritePrivateProfileStringA
              ("DoubleLayout","PlayerCharacterBalloonP2Y",local_48,(LPCSTR)&local_248);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dc60);
    WritePrivateProfileStringA("DoubleLayout","PlayerCharacterPotatoX",local_48,(LPCSTR)&local_24 8);
    sprintf_s(local_48,0x40,"%ld",DAT_0047dc64);
    WritePrivateProfileStringA("DoubleLayout","PlayerCharacterPotatoY",local_48,(LPCSTR)&local_24 8);
    sprintf_s(local_48,0x40,"%d",DAT_0047db8c);
    pcVar8 = "SongTitleY";
    pcVar7 = "DoubleLayout";
  }
  (*pcVar6)(pcVar7,pcVar8,local_48,&local_248);
  sprintf_s(local_48,0x40,"%d",DAT_0047dd6c);
  (*pcVar6)("ResultLayout","ResultBoardP1X ",local_48,&local_248);
  sprintf_s(local_48,0x40,"%d",DAT_0047dd74);
  (*pcVar6)("ResultLayout","ResultBoardP2X ",local_48,&local_248);
  sprintf_s(local_48,0x40,"%d",DAT_0047dd70);
  (*pcVar6)("ResultLayout","ResultBoardP1Y ",local_48,&local_248);
  sprintf_s(local_48,0x40,"%d",DAT_0047dd78);
  (*pcVar6)("ResultLayout","ResultBoardP2Y ",local_48,&local_248);
  sprintf_s(local_48,0x40,"%d",DAT_0047dd7c);
  (*pcVar6)("ResultLayout","ResultScoreP1X ",local_48,&local_248);
  sprintf_s(local_48,0x40,"%d",DAT_0047dd84);
  (*pcVar6)("ResultLayout","ResultScoreP2X ",local_48,&local_248);
  sprintf_s(local_48,0x40,"%d",DAT_0047dd80);
  (*pcVar6)("ResultLayout","ResultScoreP1Y ",local_48,&local_248);
  sprintf_s(local_48,0x40,"%d",DAT_0047dd88);
  (*pcVar6)("ResultLayout","ResultScoreP2Y ",local_48,&local_248);
  sprintf_s(local_48,0x40,"%d",DAT_0047dd8c);
  (*pcVar6)("ResultLayout","ResultMaxComboP1X ",local_48,&local_248);
  sprintf_s(local_48,0x40,"%d",DAT_0047dd94);
  (*pcVar6)("ResultLayout","ResultMaxComboP2X ",local_48,&local_248);
  sprintf_s(local_48,0x40,"%d",DAT_0047dd90);
  (*pcVar6)("ResultLayout","ResultMaxComboP1Y ",local_48,&local_248);
  sprintf_s(local_48,0x40,"%d",DAT_0047dd98);
  (*pcVar6)("ResultLayout","ResultMaxComboP2Y ",local_48,&local_248);
  sprintf_s(local_48,0x40,"%d",DAT_0047dd9c);
  (*pcVar6)("ResultLayout","ResultGreatP1X ",local_48,&local_248);
  sprintf_s(local_48,0x40,"%d",DAT_0047dda4);
  (*pcVar6)("ResultLayout","ResultGreatP2X ",local_48,&local_248);
  sprintf_s(local_48,0x40,"%d",DAT_0047dda0);
  (*pcVar6)("ResultLayout","ResultGreatP1Y ",local_48,&local_248);
  sprintf_s(local_48,0x40,"%d",DAT_0047dda8);
  (*pcVar6)("ResultLayout","ResultGreatP2Y ",local_48,&local_248);
  sprintf_s(local_48,0x40,"%d",DAT_0047ddac);
  (*pcVar6)("ResultLayout","ResultGoodP1X ",local_48,&local_248);
  sprintf_s(local_48,0x40,"%d",DAT_0047ddb4);
  (*pcVar6)("ResultLayout","ResultGoodP2X ",local_48,&local_248);
  sprintf_s(local_48,0x40,"%d",DAT_0047ddb0);
  (*pcVar6)("ResultLayout","ResultGoodP1Y ",local_48,&local_248);
  sprintf_s(local_48,0x40,"%d",DAT_0047ddb8);
  (*pcVar6)("ResultLayout","ResultGoodP2Y ",local_48,&local_248);
  sprintf_s(local_48,0x40,"%d",DAT_0047ddbc);
  (*pcVar6)("ResultLayout","ResultBadP1X ",local_48,&local_248);
  sprintf_s(local_48,0x40,"%d",DAT_0047ddc4);
  (*pcVar6)("ResultLayout","ResultBadP2X ",local_48,&local_248);
  sprintf_s(local_48,0x40,"%d",DAT_0047ddc0);
  (*pcVar6)("ResultLayout","ResultBadP1Y ",local_48,&local_248);
  sprintf_s(local_48,0x40,"%d",DAT_0047ddc8);
  (*pcVar6)("ResultLayout","ResultBadP2Y ",local_48,&local_248);
  sprintf_s(local_48,0x40,"%d",DAT_0047ddcc);
  (*pcVar6)("ResultLayout","ResultRollP1X ",local_48,&local_248);
  sprintf_s(local_48,0x40,"%d",DAT_0047ddd4);
  (*pcVar6)("ResultLayout","ResultRollP2X ",local_48,&local_248);
  sprintf_s(local_48,0x40,"%d",DAT_0047ddd0);
  (*pcVar6)("ResultLayout","ResultRollP1Y ",local_48,&local_248);
  sprintf_s(local_48,0x40,"%d",DAT_0047ddd8);
  (*pcVar6)("ResultLayout","ResultRollP2Y ",local_48,&local_248);
  sprintf_s(local_48,0x40,"%d",DAT_0047dddc);
  (*pcVar6)("ResultLayout","ResultRateP1X ",local_48,&local_248);
  sprintf_s(local_48,0x40,"%d",DAT_0047dde4);
  (*pcVar6)("ResultLayout","ResultRateP2X ",local_48,&local_248);
  sprintf_s(local_48,0x40,"%d",DAT_0047dde0);
  (*pcVar6)("ResultLayout","ResultRateP1Y ",local_48,&local_248);
  sprintf_s(local_48,0x40,"%d",DAT_0047dde8);
  (*pcVar6)("ResultLayout","ResultRateP2Y ",local_48,&local_248);
  sprintf_s(local_48,0x40,"%d",DAT_0047ddec);
  (*pcVar6)("ResultLayout","ResultFullComboP1X ",local_48,&local_248);
  sprintf_s(local_48,0x40,"%d",DAT_0047ddf4);
  (*pcVar6)("ResultLayout","ResultFullComboP2X ",local_48,&local_248);
  sprintf_s(local_48,0x40,"%d",DAT_0047ddf0);
  (*pcVar6)("ResultLayout","ResultFullComboP1Y ",local_48,&local_248);
  sprintf_s(local_48,0x40,"%d",DAT_0047ddf8);
  (*pcVar6)("ResultLayout","ResultFullComboP2Y ",local_48,&local_248);
  sprintf_s(local_48,0x40,"%d",DAT_0047ddfc);
  (*pcVar6)("ResultLayout","ResultNewRecordP1X ",local_48,&local_248);
  sprintf_s(local_48,0x40,"%d",DAT_0047de04);
  (*pcVar6)("ResultLayout","ResultNewRecordP2X ",local_48,&local_248);
  sprintf_s(local_48,0x40,"%d",DAT_0047de00);
  (*pcVar6)("ResultLayout","ResultNewRecordP1Y ",local_48,&local_248);
  sprintf_s(local_48,0x40,"%d",DAT_0047de08);
  (*pcVar6)("ResultLayout","ResultNewRecordP2Y ",local_48,&local_248);
  sprintf_s(local_48,0x40,"%d",DAT_0047de1c);
  (*pcVar6)("ResultLayout","ResultGaugeWidth",local_48,&local_248);
  sprintf_s(local_48,0x40,"%d",DAT_0047de0c);
  (*pcVar6)("ResultLayout","ResultGaugeP1X ",local_48,&local_248);
  sprintf_s(local_48,0x40,"%d",DAT_0047de14);
  (*pcVar6)("ResultLayout","ResultGaugeP2X ",local_48,&local_248);
  sprintf_s(local_48,0x40,"%d",DAT_0047de10);
  (*pcVar6)("ResultLayout","ResultGaugeP1Y ",local_48,&local_248);
  sprintf_s(local_48,0x40,"%d",DAT_0047de18);
  (*pcVar6)("ResultLayout","ResultGaugeP2Y ",local_48,&local_248);
  sprintf_s(local_48,0x40,"%d",DAT_0047de20);
  (*pcVar6)("ResultLayout","ResultSongTitleX ",local_48,&local_248);
  sprintf_s(local_48,0x40,"%d",DAT_0047de24);
  (*pcVar6)("ResultLayout","ResultSongTitleY ",local_48,&local_248);
  sprintf_s(local_48,0x40,"%d",DAT_0047de28);
  (*pcVar6)("ResultLayout","ResultSongSubTitleX ",local_48,&local_248);
  sprintf_s(local_48,0x40,"%d",DAT_0047de2c);
  (*pcVar6)("ResultLayout","ResultSongSubTitleY ",local_48,&local_248);
  _DAT_0047e1e4 = DAT_0047db78;
  if (DAT_0047f114 != 2) {
    _DAT_0047e1b4 = DAT_0047e744 * 0x20;
    DAT_0047db68 = _DAT_0047e1b4 - 0xd;
    DAT_0047db90 = 0x1de;
    DAT_0047dba0 = 0x1de;
    DAT_0047dba4 = _DAT_0047e1b4 - 0x14;
    DAT_0047db94 = _DAT_0047e1b4 - 8;
    DAT_0047dc34 = _DAT_0047e1b4 - 0x10;
    _DAT_0047e1e4 = 0x30;
    DAT_0047db74 = 0xc0;
    DAT_0047db64 = 0x138;
    DAT_0047dc04 = 0x16;
    DAT_0047dc14 = 0x16;
    DAT_0047dc44 = DAT_0047dc34;
  }
  _DAT_0047e1cc = (int)_DAT_0047e1e4 >> 1;
  DAT_0047db78 = _DAT_0047e1e4;
  _DAT_0047e1c4 = _DAT_0047e1e4;
  _DAT_0047e1ec = _DAT_0047e1cc;
  __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
  return;
}


// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00412a10(void)

{
  int iVar1;
  UINT UVar2;
  FILE *local_450;
  CHAR local_44c [512];
  uchar local_24c;
  undefined1 local_24b [511];
  char local_4c [68];
  uint local_8;
  
  local_8 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  local_24c = '\0';
  memset(local_24b,0,0x1ff);
  do {
    iVar1 = FUN_00438d60((void *)0x200,&local_24c);
    strcat_s((char *)&local_24c,0x200,"\\img\\imgdet.ini");
    fopen_s(&local_450,(char *)&local_24c,"r");
    if (local_450 != NULL) {
      fclose(local_450);
      DAT_0047de58 = GetPrivateProfileIntA("ImageSettings","NoteFrames",1,(LPCSTR)&local_24c);
      GetPrivateProfileStringA
                ("ImageSettings","BarLineColor","1.0,1.0,1.0",local_44c,0x200,(LPCSTR)&local_24c);
      sscanf_s(local_44c,"%lf,%lf,%lf");
      GetPrivateProfileStringA
                ("ImageSettings","ComboStretchRate","1.20",local_44c,0x200,(LPCSTR)&local_24c);
      sscanf_s(local_44c,"%lf");
      GetPrivateProfileStringA
                ("ImageSettings","ComboNumberSpacing","1.00",local_44c,0x200,(LPCSTR)&local_24c);
      sscanf_s(local_44c,"%lf");
      sprintf_s(local_4c,0x40,"%3.2lf",_DAT_0047de80);
      GetPrivateProfileStringA
                ("ImageSettings","ComboNumberSpacing_l",local_4c,local_44c,0x200,(LPCSTR)&local_24c)
      ;
      sscanf_s(local_44c,"%lf");
      DAT_0047de98 = GetPrivateProfileIntA("ImageSettings","FireFrames",4,(LPCSTR)&local_24c);
      DAT_0047de9c = GetPrivateProfileIntA("ImageSettings","FireInterval",0x32,(LPCSTR)&local_24c);
      DAT_0047dea0 = GetPrivateProfileIntA("ImageSettings","SoulFrames",4,(LPCSTR)&local_24c);
      DAT_0047dea4 = GetPrivateProfileIntA("ImageSettings","SoulInterval",0x32,(LPCSTR)&local_24c);
      DAT_0047dea8 = GetPrivateProfileIntA
                               ("ImageSettings","NormaGaugeUnitWidth",0x10,(LPCSTR)&local_24c);
      DAT_0047deac = GetPrivateProfileIntA
                               ("ImageSettings","NormaGaugeInterval",100,(LPCSTR)&local_24c);
      DAT_0047deb0 = GetPrivateProfileIntA
                               ("ImageSettings","NormaGaugeGlowWidth",1,(LPCSTR)&local_24c);
      GetPrivateProfileStringA
                ("ImageSettings","AddScoreColor","1.0,0.5,0.4",local_44c,0x200,(LPCSTR)&local_24c);
      sscanf_s(local_44c,"%lf,%lf,%lf");
      GetPrivateProfileStringA
                ("ImageSettings","AddScoreColorP1","1.0,0.5,0.4",local_44c,0x200,(LPCSTR)&local_24c)
      ;
      sscanf_s(local_44c,"%lf,%lf,%lf");
      GetPrivateProfileStringA
                ("ImageSettings","AddScoreColorP2","0.4,0.5,1.0",local_44c,0x200,(LPCSTR)&local_24c)
      ;
      sscanf_s(local_44c,"%lf,%lf,%lf");
      GetPrivateProfileStringA
                ("ImageSettings","ExplosionColorGreat","1.0,0.92,0.22",local_44c,0x200,
                 (LPCSTR)&local_24c);
      sscanf_s(local_44c,"%lf,%lf,%lf");
      GetPrivateProfileStringA
                ("ImageSettings","ExplosionColorGood","1.0,1.0,1.0",local_44c,0x200,
                 (LPCSTR)&local_24c);
      sscanf_s(local_44c,"%lf,%lf,%lf");
      DAT_0047def0 = GetPrivateProfileIntA("ImageSettings","ExplosionFrames",0,(LPCSTR)&local_24c);
      DAT_0047def4 = GetPrivateProfileIntA
                               ("ImageSettings","ExplosionFramesLower",DAT_0047def0,
                                (LPCSTR)&local_24c);
      DAT_0047def8 = GetPrivateProfileIntA
                               ("ImageSettings","ExplosionInterval",200,(LPCSTR)&local_24c);
      DAT_0047df30 = GetPrivateProfileIntA("ImageSettings","GoGoSplashFrames",8,(LPCSTR)&local_24c);
      DAT_0047df34 = GetPrivateProfileIntA
                               ("ImageSettings","GoGoSplashInterval",0x32,(LPCSTR)&local_24c);
      DAT_0047df38 = GetPrivateProfileIntA
                               ("ImageSettings","PlayerCharacterJumpHeight",0x10,(LPCSTR)&local_24c)
      ;
      DAT_0047df3c = GetPrivateProfileIntA("ImageSettings","DancerFrames",8,(LPCSTR)&local_24c);
      DAT_0047df40 = GetPrivateProfileIntA("ImageSettings","DancerLoopBeats",2,(LPCSTR)&local_24c);
      DAT_0047df44 = GetPrivateProfileIntA("ImageSettings","MobFrames",1,(LPCSTR)&local_24c);
      DAT_0047df48 = GetPrivateProfileIntA("ImageSettings","MobJumpHeight",0x3c,(LPCSTR)&local_24c);
      GetPrivateProfileStringA
                ("ImageSettings","ComboBalloonNumberColorP1","2.0,1.2,1.0",local_44c,0x200,
                 (LPCSTR)&local_24c);
      sscanf_s(local_44c,"%lf,%lf,%lf");
      GetPrivateProfileStringA
                ("ImageSettings","ComboBalloonNumberColorP2","1.0,1.2,2.0",local_44c,0x200,
                 (LPCSTR)&local_24c);
      sscanf_s(local_44c,"%lf,%lf,%lf");
      DAT_0047df80 = GetPrivateProfileIntA
                               ("ImageSettings","BackGroundScrollSpeed",0,(LPCSTR)&local_24c);
      DAT_0047df84 = GetPrivateProfileIntA("ImageSettings","SongTitleSize",0x18,(LPCSTR)&local_24c);
      DAT_0047df88 = GetPrivateProfileIntA
                               ("ImageSettings","BackGroundLoopWidth",0x200,(LPCSTR)&local_24c);
      GetPrivateProfileStringA
                ("ImageSettings","RollNumberSpacing","1.00",local_44c,0x200,(LPCSTR)&local_24c);
      sscanf_s(local_44c,"%lf");
      DAT_0047df8c = GetPrivateProfileIntA
                               ("ImageSettings","NoteBoundHeight",0x14,(LPCSTR)&local_24c);
      DAT_0047df90 = GetPrivateProfileIntA
                               ("ImageSettings","SoulExplosionFrames",6,(LPCSTR)&local_24c);
      DAT_0047df94 = GetPrivateProfileIntA
                               ("ImageSettings","SoulExplosionInterval",0x32,(LPCSTR)&local_24c);
      DAT_0047df98 = GetPrivateProfileIntA
                               ("ImageSettings","ResultSongTitleSize",0x1c,(LPCSTR)&local_24c);
      UVar2 = DAT_0047df88;
      break;
    }
    _DAT_0047de60 = 0x3ff0000000000000;
    _DAT_0047de68 = 0x3ff0000000000000;
    DAT_0047de98 = 4;
    _DAT_0047de70 = 0x3ff0000000000000;
    DAT_0047dea0 = 4;
    _DAT_0047de78 = 1.2;
    DAT_0047dea8 = 0x10;
    _DAT_0047de80 = 0x3ff0000000000000;
    _DAT_0047de88 = 0x3ff0000000000000;
    DAT_0047df38 = 0x10;
    _DAT_0047df00 = 0x3ff0000000000000;
    UVar2 = 0x200;
    _DAT_0047df08 = 0x3fe0000000000000;
    DAT_0047de58 = 1;
    DAT_0047de9c = 0x32;
    _DAT_0047df10 = 0x3fd999999999999a;
    DAT_0047dea4 = 0x32;
    _DAT_0047df18 = 0x3fd999999999999a;
    DAT_0047deac = 100;
    DAT_0047deb0 = 1;
    DAT_0047def0 = 0;
    _DAT_0047df20 = 0x3fe0000000000000;
    DAT_0047def4 = 0;
    DAT_0047def8 = 200;
    _DAT_0047df28 = 0x3ff0000000000000;
    DAT_0047df30 = 6;
    _DAT_0047dec0 = 0x3ff0000000000000;
    DAT_0047df34 = 0x32;
    DAT_0047df3c = 8;
    _DAT_0047dec8 = 0x3fed70a3d70a3d71;
    DAT_0047df40 = 2;
    DAT_0047df44 = 1;
    _DAT_0047ded0 = 0x3fcc28f5c28f5c29;
    DAT_0047df48 = 0x3c;
    DAT_0047df80 = 1;
    _DAT_0047ded8 = 0x3ff0000000000000;
    DAT_0047df88 = 0x200;
    _DAT_0047dee0 = 0x3ff0000000000000;
    DAT_0047df8c = 0x32;
    _DAT_0047dee8 = 0x3ff0000000000000;
    DAT_0047df90 = 6;
    DAT_0047df94 = 0x32;
    _DAT_0047df50 = 0x4000000000000000;
    DAT_0047df84 = 0x1c;
    _DAT_0047df78 = 0x4000000000000000;
    _DAT_0047df58 = 0x3ff3333333333333;
    _DAT_0047df70 = 0x3ff3333333333333;
    _DAT_0047df60 = 0x3ff0000000000000;
    _DAT_0047df68 = 0x3ff0000000000000;
    _DAT_0047de90 = 0x3ff0000000000000;
  } while (iVar1 + 1 < 3);
  if ((int)DAT_0047ac74 < (int)UVar2) {
    UVar2 = DAT_0047ac74;
  }
  DAT_0047df88 = (int)DAT_0047ac74 >> 1;
  if ((int)DAT_0047ac74 >> 1 <= (int)UVar2) {
    DAT_0047df88 = UVar2;
  }
  sprintf_s(local_4c,0x40,"%d");
  WritePrivateProfileStringA("ImageSettings","NoteFrames",local_4c,(LPCSTR)&local_24c);
  sprintf_s(local_4c,0x40,"%4.3lf,%4.3lf,%4.3lf",_DAT_0047de60,_DAT_0047de68,_DAT_0047de70);
  WritePrivateProfileStringA("ImageSettings","BarLineColor",local_4c,(LPCSTR)&local_24c);
  sprintf_s(local_4c,0x40,"%3.2lf",_DAT_0047de78);
  WritePrivateProfileStringA("ImageSettings","ComboStretchRate",local_4c,(LPCSTR)&local_24c);
  sprintf_s(local_4c,0x40,"%3.2lf",_DAT_0047de80);
  WritePrivateProfileStringA("ImageSettings","ComboNumberSpacing",local_4c,(LPCSTR)&local_24c);
  sprintf_s(local_4c,0x40,"%3.2lf",_DAT_0047de88);
  WritePrivateProfileStringA("ImageSettings","ComboNumberSpacing_l",local_4c,(LPCSTR)&local_24c);
  sprintf_s(local_4c,0x40,"%d");
  WritePrivateProfileStringA("ImageSettings","FireFrames",local_4c,(LPCSTR)&local_24c);
  sprintf_s(local_4c,0x40,"%d");
  WritePrivateProfileStringA("ImageSettings","FireInterval",local_4c,(LPCSTR)&local_24c);
  sprintf_s(local_4c,0x40,"%d");
  WritePrivateProfileStringA("ImageSettings","SoulFrames",local_4c,(LPCSTR)&local_24c);
  sprintf_s(local_4c,0x40,"%d");
  WritePrivateProfileStringA("ImageSettings","SoulInterval",local_4c,(LPCSTR)&local_24c);
  sprintf_s(local_4c,0x40,"%d");
  WritePrivateProfileStringA("ImageSettings","NormaGaugeUnitWidth",local_4c,(LPCSTR)&local_24c);
  sprintf_s(local_4c,0x40,"%d");
  WritePrivateProfileStringA("ImageSettings","NormaGaugeInterval",local_4c,(LPCSTR)&local_24c);
  sprintf_s(local_4c,0x40,"%d");
  WritePrivateProfileStringA("ImageSettings","NormaGaugeGlowWidth",local_4c,(LPCSTR)&local_24c);
  sprintf_s(local_4c,0x40,"%4.3lf,%4.3lf,%4.3lf",_DAT_0047df00,_DAT_0047df08,_DAT_0047df10);
  WritePrivateProfileStringA("ImageSettings","AddScoreColorP1",local_4c,(LPCSTR)&local_24c);
  sprintf_s(local_4c,0x40,"%4.3lf,%4.3lf,%4.3lf",_DAT_0047df18,_DAT_0047df20,_DAT_0047df28);
  WritePrivateProfileStringA("ImageSettings","AddScoreColorP2",local_4c,(LPCSTR)&local_24c);
  sprintf_s(local_4c,0x40,"%4.3lf,%4.3lf,%4.3lf",_DAT_0047dec0,_DAT_0047dec8,_DAT_0047ded0);
  WritePrivateProfileStringA("ImageSettings","ExplosionColorGreat",local_4c,(LPCSTR)&local_24c);
  sprintf_s(local_4c,0x40,"%4.3lf,%4.3lf,%4.3lf",_DAT_0047ded8,_DAT_0047dee0,_DAT_0047dee8);
  WritePrivateProfileStringA("ImageSettings","ExplosionColorGood",local_4c,(LPCSTR)&local_24c);
  sprintf_s(local_4c,0x40,"%d");
  WritePrivateProfileStringA("ImageSettings","ExplosionFrames",local_4c,(LPCSTR)&local_24c);
  sprintf_s(local_4c,0x40,"%d");
  WritePrivateProfileStringA("ImageSettings","ExplosionFramesLower",local_4c,(LPCSTR)&local_24c);
  sprintf_s(local_4c,0x40,"%d");
  WritePrivateProfileStringA("ImageSettings","ExplosionInterval",local_4c,(LPCSTR)&local_24c);
  sprintf_s(local_4c,0x40,"%d");
  WritePrivateProfileStringA("ImageSettings","GoGoSplashFrames",local_4c,(LPCSTR)&local_24c);
  sprintf_s(local_4c,0x40,"%d");
  WritePrivateProfileStringA("ImageSettings","GoGoSplashInterval",local_4c,(LPCSTR)&local_24c);
  sprintf_s(local_4c,0x40,"%d");
  WritePrivateProfileStringA
            ("ImageSettings","PlayerCharacterJumpHeight",local_4c,(LPCSTR)&local_24c);
  sprintf_s(local_4c,0x40,"%d");
  WritePrivateProfileStringA("ImageSettings","DancerFrames",local_4c,(LPCSTR)&local_24c);
  sprintf_s(local_4c,0x40,"%d");
  WritePrivateProfileStringA("ImageSettings","DancerLoopBeats",local_4c,(LPCSTR)&local_24c);
  sprintf_s(local_4c,0x40,"%d");
  WritePrivateProfileStringA("ImageSettings","MobFrames",local_4c,(LPCSTR)&local_24c);
  sprintf_s(local_4c,0x40,"%d");
  WritePrivateProfileStringA("ImageSettings","MobJumpHeight",local_4c,(LPCSTR)&local_24c);
  sprintf_s(local_4c,0x40,"%4.3lf,%4.3lf,%4.3lf",_DAT_0047df50,_DAT_0047df58,_DAT_0047df60);
  WritePrivateProfileStringA
            ("ImageSettings","ComboBalloonNumberColorP1",local_4c,(LPCSTR)&local_24c);
  sprintf_s(local_4c,0x40,"%4.3lf,%4.3lf,%4.3lf",_DAT_0047df68,_DAT_0047df70,_DAT_0047df78);
  WritePrivateProfileStringA
            ("ImageSettings","ComboBalloonNumberColorP2",local_4c,(LPCSTR)&local_24c);
  sprintf_s(local_4c,0x40,"%d");
  WritePrivateProfileStringA("ImageSettings","BackGroundScrollSpeed",local_4c,(LPCSTR)&local_24c);
  sprintf_s(local_4c,0x40,"%d");
  WritePrivateProfileStringA("ImageSettings","SongTitleSize",local_4c,(LPCSTR)&local_24c);
  sprintf_s(local_4c,0x40,"%d");
  WritePrivateProfileStringA("ImageSettings","BackGroundLoopWidth",local_4c,(LPCSTR)&local_24c);
  sprintf_s(local_4c,0x40,"%3.2lf",_DAT_0047de90);
  WritePrivateProfileStringA("ImageSettings","RollNumberSpacing",local_4c,(LPCSTR)&local_24c);
  sprintf_s(local_4c,0x40,"%d");
  WritePrivateProfileStringA("ImageSettings","NoteBoundHeight",local_4c,(LPCSTR)&local_24c);
  sprintf_s(local_4c,0x40,"%d");
  WritePrivateProfileStringA("ImageSettings","SoulExplosionFrames",local_4c,(LPCSTR)&local_24c);
  sprintf_s(local_4c,0x40,"%d");
  WritePrivateProfileStringA("ImageSettings","SoulExplosionInterval",local_4c,(LPCSTR)&local_24c);
  sprintf_s(local_4c,0x40,"%d");
  WritePrivateProfileStringA("ImageSettings","ResultSongTitleSize",local_4c,(LPCSTR)&local_24c);
  _DAT_0047de78 = _DAT_0047de78 - 1.0;
  if (_DAT_0047de78 < 0.0) {
    _DAT_0047de78 = 0.0;
  }
  __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __fastcall FUN_004139a0(short *param_1)

{
  uchar *puVar1;
  char cVar2;
  uchar uVar3;
  short *psVar4;
  short *psVar5;
  int iVar6;
  int *piVar7;
  void *pvVar8;
  char *pcVar9;
  uchar *puVar10;
  uchar *puVar11;
  uchar *puVar12;
  int iVar13;
  undefined4 *puVar14;
  FILE *local_418;
  uchar local_414 [512];
  char local_214 [5];
  char local_20f [511];
  uchar local_10 [8];
  uint local_8;
  
  local_8 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  local_10[0] = '\0';
  local_10[1] = '\0';
  local_10[2] = '\0';
  local_10[3] = '\0';
  local_10[4] = '\0';
  psVar4 = param_1 + 1;
  do {
    psVar5 = psVar4;
    psVar4 = (short *)((int)psVar5 + 1);
  } while ((char)*psVar5 != '\0');
  _mbsnbcpy_s(local_10,5,(uchar *)(psVar5 + -2),5);
  iVar6 = strncmp((char *)local_10,".tjc",4);
  if ((iVar6 == 0) && (fopen_s(&local_418,(char *)(param_1 + 1),"r"), local_418 != NULL)) {
    FUN_0040ca20(param_1);
    DAT_0047e4e0 = param_1[0x220];
    if (DAT_0047e4dc != NULL) {
      if ((void *)*DAT_0047e4dc != NULL) {
        free((void *)*DAT_0047e4dc);
      }
      *DAT_0047e4dc = 0;
      free(DAT_0047e4dc);
    }
    DAT_0047e4dc = NULL;
    piVar7 = (int *)calloc((uint)(ushort)param_1[0x220],4);
    DAT_0047e4dc = piVar7;
    pvVar8 = calloc((uint)(ushort)param_1[0x220],0x200);
    *piVar7 = (int)pvVar8;
    iVar6 = 1;
    if (1 < DAT_0047e4e0) {
      iVar13 = 0x200;
      do {
        DAT_0047e4dc[iVar6] = *DAT_0047e4dc + iVar13;
        iVar6 += 1;
        iVar13 += 0x200;
      } while (iVar6 < (int)(uint)DAT_0047e4e0);
    }
    pcVar9 = fgets(local_214,0x200,local_418);
    if (pcVar9 != NULL) {
      iVar6 = 0;
      do {
        iVar13 = strncmp(local_214,"SONG:",5);
        if (iVar13 == 0) {
          pcVar9 = local_214;
          iVar13 = 0;
          do {
            cVar2 = *pcVar9;
            pcVar9 = pcVar9 + 1;
          } while (cVar2 != '\0');
          if (pcVar9 != local_214 + 1 && -1 < (int)pcVar9 - (int)(local_214 + 1)) {
            do {
              if (local_214[iVar13] == '/') {
                local_214[iVar13] = '\\';
              }
              pcVar9 = local_214;
              iVar13 += 1;
              do {
                cVar2 = *pcVar9;
                pcVar9 = pcVar9 + 1;
              } while (cVar2 != '\0');
            } while (iVar13 < (int)pcVar9 - (int)(local_214 + 1));
          }
          puVar12 = *(uchar **)(iVar6 + (int)DAT_0047e4dc);
          GetModuleFileNameA(NULL,(LPSTR)local_414,0x200);
          puVar10 = local_414;
          do {
            uVar3 = *puVar10;
            puVar10 = puVar10 + 1;
          } while (uVar3 != '\0');
          puVar11 = _mbsrchr(local_414,0x5c);
          puVar1 = puVar11 + 1;
          do {
            uVar3 = *puVar11;
            puVar11 = puVar11 + 1;
          } while (uVar3 != '\0');
          _mbsnbcpy_s(puVar12,0x200,local_414,
                      (size_t)(puVar10 + (-((int)puVar11 - (int)puVar1) - (int)(local_414 + 1))));
          strcat_s(*(char **)(iVar6 + (int)DAT_0047e4dc),0x200,"\\");
          strcat_s(*(char **)(iVar6 + (int)DAT_0047e4dc),0x200,local_20f);
          puVar10 = *(uchar **)(iVar6 + (int)DAT_0047e4dc);
          puVar12 = puVar10;
          do {
            uVar3 = *puVar12;
            puVar12 = puVar12 + 1;
          } while (uVar3 != '\0');
          puVar11 = _mbsrchr(puVar10,0x2e);
          puVar1 = puVar11 + 1;
          do {
            uVar3 = *puVar11;
            puVar11 = puVar11 + 1;
          } while (uVar3 != '\0');
          puVar12[((*(int *)(iVar6 + (int)DAT_0047e4dc) - ((int)puVar11 - (int)puVar1)) + 4) -
                  (int)(puVar10 + 1)] = '\0';
          iVar6 += 4;
        }
        pcVar9 = fgets(local_214,0x200,local_418);
      } while (pcVar9 != NULL);
    }
    if (PTR_0047e74c == NULL) {
      puVar14 = (undefined4 *)&DAT_0047ec40;
      for (iVar6 = 0x134; iVar6 != 0; iVar6 += -1) {
        *puVar14 = *(undefined4 *)param_1;
        param_1 = param_1 + 2;
        puVar14 = puVar14 + 1;
      }
      FUN_00435730(0,&DAT_0047ec40);
    }
    fclose(local_418);
    __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
    return;
  }
  __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __fastcall FUN_00413cd0(int *param_1,int *param_2,int *param_3,char *param_4)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  undefined4 *unaff_EBX;
  FILE *local_110;
  uchar local_10c [260];
  uint local_8;
  
  local_8 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  if ((void *)*param_3 != NULL) {
    free((void *)*param_3);
    *param_3 = 0;
  }
  do {
    iVar2 = FUN_00438d60((void *)0x100,local_10c);
    strcat_s((char *)local_10c,0x100,"\\img\\");
    strcat_s((char *)local_10c,0x100,param_4);
    fopen_s(&local_110,(char *)local_10c,"r");
    if (local_110 != NULL) {
      fclose(local_110);
      break;
    }
    strcat_s((char *)local_10c,0x100,".png");
    fopen_s(&local_110,(char *)local_10c,"r");
    if (local_110 != NULL) {
      fclose(local_110);
      FUN_00413f80((char *)local_10c,param_3,param_1,param_2);
      *unaff_EBX = 0x28;
      if (param_1 != NULL) {
        unaff_EBX[1] = *param_1;
      }
      if (param_2 != NULL) {
        unaff_EBX[2] = -*param_2;
      }
      unaff_EBX[3] = 0x200001;
      unaff_EBX[4] = 0;
      __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
      return;
    }
    FUN_00438d60((void *)0x100,local_10c);
    strcat_s((char *)local_10c,0x100,"\\img\\");
    strcat_s((char *)local_10c,0x100,param_4);
    strcat_s((char *)local_10c,0x100,".bmp");
    fopen_s(&local_110,(char *)local_10c,"r");
    if (local_110 != NULL) {
      fclose(local_110);
      FUN_0043a740((LPCSTR)local_10c,param_3,unaff_EBX,param_1,param_2);
      iVar2 = 0;
      if (0 < (int)unaff_EBX[2]) {
        do {
          iVar4 = 0;
          if (0 < (int)unaff_EBX[1]) {
            do {
              iVar3 = unaff_EBX[1] * iVar2 + iVar4;
              piVar1 = (int *)(*param_3 + iVar3 * 4);
              if (*(int *)(*param_3 + iVar3 * 4) != 0) {
                *piVar1 = *piVar1 + -0x1000000;
              }
              iVar4 += 1;
            } while (iVar4 < (int)unaff_EBX[1]);
          }
          iVar2 += 1;
        } while (iVar2 < (int)unaff_EBX[2]);
      }
      __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
      return;
    }
  } while (iVar2 + 1 < 3);
  if (param_1 != NULL) {
    *param_1 = 0;
  }
  if (param_2 != NULL) {
    *param_2 = 0;
  }
  __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



undefined4 __cdecl FUN_00413f80(char *param_1,int *param_2,int *param_3,int *param_4)

{
  uint uVar1;
  int *piVar2;
  int *piVar3;
  int iVar4;
  void *pvVar5;
  size_t sVar6;
  int iVar7;
  int local_28;
  int *local_24;
  int local_20;
  int *local_1c;
  int local_18;
  size_t local_14;
  int *local_10;
  FILE *local_c;
  int local_8;
  
  piVar2 = (int *)fopen_s(&local_c,param_1,"rb");
  iVar7 = 0;
  if (local_c == NULL) {
    return 0xffffffff;
  }
  FUN_0043ab90();
  local_10 = piVar2;
  if (piVar2 == NULL) {
    fclose(local_c);
    return 0xffffffff;
  }
  piVar3 = piVar2;
  FUN_0043c2d0((int)piVar2);
  local_24 = piVar3;
  if (piVar3 == NULL) {
    fclose(local_c);
    FUN_0043baa0(NULL,&local_10);
    return 0xffffffff;
  }
  piVar2[0x10] = (int)longjmp_exref;
  iVar4 = setjmp3(piVar2,0);
  piVar3 = local_10;
  piVar2 = local_24;
  if (iVar4 != 0) {
    FUN_0043baa0(&local_24,&local_10);
    fclose(local_c);
    return 0xffffffff;
  }
  if (local_10 != NULL) {
    local_10[0x16] = (int)local_c;
    FUN_0043be00((int)local_10);
    if (piVar2 != NULL) {
      local_8 = piVar2[1];
      goto LAB_0041406b;
    }
  }
  local_8 = 0;
LAB_0041406b:
  if ((piVar3 != NULL) && (piVar2 != NULL)) {
    iVar7 = *piVar2;
  }
  if ((piVar3 == NULL) || (piVar2 == NULL)) {
    local_1c = NULL;
  }
  else {
    local_1c = (int *)piVar2[0x3a];
  }
  if ((piVar3 == NULL) || (piVar2 == NULL)) {
    local_14 = 0;
  }
  else {
    local_14 = piVar2[3];
  }
  local_20 = iVar7;
  if (param_2 != NULL) {
    pvVar5 = calloc(1,iVar7 * local_8 * 4);
    *param_2 = (int)pvVar5;
    if (local_14 == iVar7 * 4) {
      iVar4 = 0;
      if (0 < local_8) {
        local_18 = 0;
        do {
          memcpy((void *)(*param_2 + local_18),(void *)local_1c[iVar4],local_14);
          local_18 += iVar7 * 4;
          iVar4 += 1;
        } while (iVar4 < local_8);
      }
    }
    else if (0 < local_8) {
      local_14 = 0;
      local_28 = local_8;
      do {
        if (0 < iVar7) {
          iVar4 = 0;
          sVar6 = local_14;
          local_18 = iVar7;
          do {
            iVar7 = *local_1c;
            *(uint *)(sVar6 + *param_2) =
                 ((*(byte *)(iVar7 + 2 + iVar4) + 0xff00) * 0x100 +
                 (uint)*(byte *)(iVar7 + 1 + iVar4)) * 0x100 + (uint)*(byte *)(iVar7 + iVar4);
            sVar6 += 4;
            iVar4 += 3;
            local_18 += -1;
          } while (local_18 != 0);
          local_18 = 0;
          iVar7 = local_20;
        }
        local_1c = local_1c + 1;
        local_14 += iVar7 * 4;
        local_28 += -1;
      } while (local_28 != 0);
    }
  }
  if (0 < local_8) {
    local_1c = NULL;
    local_18 = local_8;
    do {
      piVar2 = local_1c;
      local_28 = iVar7;
      if (0 < iVar7) {
        do {
          uVar1 = *(uint *)(*param_2 + (int)piVar2);
          *(uint *)(*param_2 + (int)piVar2) =
               (uVar1 >> 0x10 & 0xff) + (uVar1 & 0xff) * 0x10000 + (uVar1 & 0xff00ff00);
          local_28 += -1;
          piVar2 = piVar2 + 1;
          iVar7 = local_20;
        } while (local_28 != 0);
      }
      local_1c = local_1c + iVar7;
      local_18 += -1;
    } while (local_18 != 0);
    local_18 = 0;
  }
  if (param_4 != NULL) {
    *param_4 = local_8;
  }
  if (param_3 != NULL) {
    *param_3 = iVar7;
  }
  FUN_0043baa0(&local_24,&local_10);
  fclose(local_c);
  return 0;
}



// dwCallback parameter of waveOutOpen
// 

void dwCallback_00414210(undefined4 param_1,int param_2,int param_3)

{
  if (((param_2 == 0x3bd) && (*(int *)(param_3 + 0x30) == 2)) &&
     (*(short *)(param_3 + 0x28) = *(short *)(param_3 + 0x28) + 1,
     *(short *)(param_3 + 0x28) == *(short *)(param_3 + 4))) {
    *(undefined4 *)(param_3 + 0x30) = 3;
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 __cdecl FUN_00414240(int param_1,uint param_2,undefined4 *param_3)

{
  ushort uVar1;
  int iVar2;
  double dVar3;
  double dVar4;
  double dVar5;
  double dVar6;
  HANDLE hHeap;
  LPCWAVEFORMATEX in_EAX;
  int iVar7;
  LPVOID pvVar8;
  MMRESULT MVar9;
  short *psVar10;
  int iVar11;
  uint uVar12;
  uint *unaff_ESI;
  undefined2 in_FPUControlWord;
  longlong lVar13;
  ulonglong uVar14;
  uint local_30;
  DWORD local_28;
  uint local_20;
  undefined4 local_14;
  DWORD *local_10;
  undefined4 local_c;
  
  local_14 = 0;
  iVar7 = FUN_0044c570((int)(unaff_ESI + 0xe),-1);
  lVar13 = FUN_0044b6a0((int)(unaff_ESI + 0xe),-1);
  in_EAX->wFormatTag = 1;
  uVar1 = *(ushort *)(iVar7 + 4);
  in_EAX->nChannels = uVar1;
  in_EAX->wBitsPerSample = 0x10;
  uVar12 = (int)((uint)uVar1 * 0x10) >> 3;
  in_EAX->nBlockAlign = (WORD)uVar12;
  local_10 = &in_EAX->nSamplesPerSec;
  local_28 = (DWORD)(longlong)ROUND((double)*(int *)(iVar7 + 8) / _DAT_0047ac88);
  *local_10 = local_28;
  dVar3 = (double)(int)lVar13;
  in_EAX->nAvgBytesPerSec = (uVar12 & 0xffff) * local_28;
  *unaff_ESI = param_2;
  unaff_ESI[1] = 2;
  unaff_ESI[2] = 0;
  unaff_ESI[0xc] = 0;
  *(undefined2 *)(unaff_ESI + 10) = 0;
  unaff_ESI[6] = 0;
  hHeap = DAT_0047e614;
  dVar4 = (double)(int)*local_10;
  if ((int)*local_10 < 0) {
    dVar4 = dVar4 + 4294967296.0;
  }
  local_28 = (DWORD)(longlong)ROUND((dVar3 / dVar4) * 1000.0);
  unaff_ESI[5] = local_28;
  pvVar8 = HeapAlloc(hHeap,8,param_2);
  unaff_ESI[0xb] = (uint)pvVar8;
  MVar9 = waveOutOpen((LPHWAVEOUT)&phwo_0047ce90,0xffffffff,in_EAX,0x414210,(DWORD_PTR)unaff_ESI,
                      0x30000);
  if (MVar9 == 7) {
    MessageBoxA(NULL,"WAVE",NULL,0);
  }
  uVar12 = in_EAX->nAvgBytesPerSec;
  dVar4 = (double)(int)uVar12;
  if ((int)uVar12 < 0) {
    dVar4 = dVar4 + 4294967296.0;
  }
  dVar6 = (double)(int)param_3;
  if ((int)param_3 < 0) {
    dVar6 = dVar6 + 4294967296.0;
  }
  local_c = CONCAT22(in_FPUControlWord,(undefined2)local_c);
  local_20 = (uint)(longlong)ROUND((dVar6 / 1000.0) * dVar4);
  local_30 = (local_20 / in_EAX->nBlockAlign) * (uint)in_EAX->nBlockAlign;
  dVar6 = (double)(int)*local_10;
  if ((int)*local_10 < 0) {
    dVar6 = dVar6 + 4294967296.0;
  }
  dVar5 = (double)(int)local_30;
  if ((int)local_30 < 0) {
    dVar5 = dVar5 + 4294967296.0;
  }
  dVar5 = (dVar5 / dVar4) * dVar6;
  if (dVar3 < dVar5 != (NAN(dVar3) || NAN(dVar5))) {
    local_30 = (uint)(longlong)ROUND((dVar3 / dVar6) * dVar4);
    param_3 = (undefined4 *)((local_30 / uVar12) * 1000);
  }
  if (local_30 != 0) {
    dVar3 = (double)(int)param_3;
    if ((int)param_3 < 0) {
      dVar3 = dVar3 + 4294967296.0;
    }
    FUN_0044c480((int)(unaff_ESI + 0xe),dVar3 / 1000.0);
  }
  param_3 = (undefined4 *)(param_1 + 0x14);
  unaff_ESI[4] = local_30;
  unaff_ESI[2] = local_30;
  local_10 = NULL;
  do {
    pvVar8 = HeapAlloc(DAT_0047e614,8,param_2);
    param_3[-5] = pvVar8;
    uVar12 = 0;
    do {
      if (param_2 - uVar12 < 0x1000) {
        psVar10 = (short *)unaff_ESI[0xb];
        iVar7 = param_2 - uVar12;
      }
      else {
        psVar10 = (short *)unaff_ESI[0xb];
        iVar7 = 0x1000;
      }
      psVar10 = FUN_0044c5b0((int)(unaff_ESI + 0xe),psVar10,iVar7,0,2,1,&local_14);
      memcpy((void *)(param_3[-5] + uVar12),(void *)unaff_ESI[0xb],(size_t)psVar10);
      uVar12 += (int)psVar10;
    } while ((uVar12 < param_2) && (psVar10 != NULL));
    param_3[-2] = 0;
    local_c = 0;
    param_3[-4] = uVar12;
    param_3[-1] = 0xc;
    *param_3 = 1;
    if (uVar12 >> 1 != 0) {
      do {
        iVar2 = param_3[-5];
        iVar7 = local_c * 2;
        uVar14 = FUN_0045db50((int)*(short *)(iVar2 + local_c * 2),iVar2);
        iVar11 = (int)uVar14;
        if (iVar11 < -0x8000) {
          iVar11 = -0x8000;
        }
        else if (0x7fff < iVar11) {
          iVar11 = 0x7fff;
        }
        *(short *)(iVar2 + iVar7) = (short)iVar11;
        local_c += 1;
      } while (local_c < (int)((uint)param_3[-4] >> 1));
    }
    if ((psVar10 == NULL) && (uVar12 != 0)) {
      *(short *)(unaff_ESI + 10) = 1 - (short)local_10;
    }
    waveOutPrepareHeader((HWAVEOUT)phwo_0047ce90,(LPWAVEHDR)(param_3 + -5),0x20);
    param_3 = param_3 + 8;
    local_10 = (DWORD *)((int)local_10 + 1);
  } while ((int)local_10 < 2);
  waveOutReset((HWAVEOUT)phwo_0047ce90);
  return 0;
}



void FUN_004145d0(void)

{
  LPSTR pCVar1;
  double dVar2;
  double dVar3;
  double dVar4;
  uint uVar5;
  uint uVar6;
  short *_Size;
  int iVar7;
  uint *unaff_ESI;
  LPWAVEHDR pwh;
  undefined2 in_FPUControlWord;
  ulonglong uVar8;
  undefined4 local_2c;
  LPWAVEHDR local_28;
  LPSTR local_24;
  undefined8 local_20;
  undefined4 local_18;
  mmtime_tag local_14;
  uint local_8;
  
  pwh = DAT_0047e5bc;
  local_8 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  iVar7 = 0;
  local_28 = DAT_0047e5bc;
  local_2c = 0;
  local_24 = NULL;
  local_14.wType = 2;
  if (DAT_0047e5bc == NULL) goto LAB_004145fe;
  waveOutGetPosition((HWAVEOUT)phwo_0047ce90,&local_14,0xc);
  if (local_14.wType == 1) {
    dVar2 = (double)(int)local_14.u.ms;
    if ((int)local_14.u.ms < 0) {
      dVar2 = dVar2 + 4294967296.0;
    }
    dVar3 = (double)DAT_0047b160;
    if (DAT_0047b160 < 0) {
      dVar3 = dVar3 + 4294967296.0;
    }
    local_20 = (longlong)ROUND(dVar3 * (dVar2 / 1000.0) + 0.5);
LAB_00414701:
    local_18 = CONCAT22(in_FPUControlWord,(undefined2)local_18);
    unaff_ESI[3] = (uint)local_20;
  }
  else {
    if (local_14.wType == 2) {
      dVar2 = (double)(int)local_14.u.ms;
      if ((int)local_14.u.ms < 0) {
        dVar2 = dVar2 + 4294967296.0;
      }
      dVar3 = (double)DAT_0047b15c;
      if (DAT_0047b15c < 0) {
        dVar3 = dVar3 + 4294967296.0;
      }
      dVar4 = (double)DAT_0047b160;
      if (DAT_0047b160 < 0) {
        dVar4 = dVar4 + 4294967296.0;
      }
      local_20 = (longlong)ROUND(dVar4 * (dVar2 / dVar3) + 0.5);
      goto LAB_00414701;
    }
    if (local_14.wType == 4) {
      unaff_ESI[3] = local_14.u.ms;
    }
    else {
      unaff_ESI[3] = 0xffffffff;
    }
  }
  uVar6 = unaff_ESI[0xc];
  if (uVar6 == 0) {
    if ((short)unaff_ESI[1] != 0) {
      do {
        waveOutWrite((HWAVEOUT)phwo_0047ce90,pwh,0x20);
        iVar7 += 1;
        pwh = pwh + 1;
      } while (iVar7 < (int)(uint)(ushort)unaff_ESI[1]);
    }
    unaff_ESI[0xc] = 1;
    __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
    return;
  }
  if ((int)uVar6 < 3) {
    if (uVar6 == 1) {
      uVar5 = (unaff_ESI[4] - unaff_ESI[2]) + unaff_ESI[3];
      uVar6 = pwh[*(ushort *)((int)unaff_ESI + 6)].dwBufferLength;
      if (uVar6 <= uVar5) {
        dVar2 = (double)(int)uVar5;
        if ((int)uVar5 < 0) {
          dVar2 = dVar2 + 4294967296.0;
        }
        local_20 = CONCAT44(uVar6,(uint)local_20);
        dVar3 = (double)(int)uVar6;
        if ((int)uVar6 < 0) {
          dVar3 = dVar3 + 4294967296.0;
        }
        if (dVar3 * 1.75 < dVar2 != (dVar3 * 1.75 == dVar2)) {
          local_24 = (LPSTR)0x1;
        }
        iVar7 = 0;
        do {
          uVar6 = (*unaff_ESI - iVar7) - unaff_ESI[6];
          if (0xfff < uVar6) {
            uVar6 = 0x1000;
          }
          _Size = FUN_0044c5b0((int)(unaff_ESI + 0xe),(short *)unaff_ESI[0xb],uVar6,0,2,1,&local_2c)
          ;
          memcpy(local_28[*(ushort *)((int)unaff_ESI + 6)].lpData + unaff_ESI[6] + iVar7,
                 (void *)unaff_ESI[0xb],(size_t)_Size);
          iVar7 += (int)_Size;
        } while (((local_24 != NULL) && (_Size != NULL)) && (unaff_ESI[6] + iVar7 < *unaff_ESI));
        uVar6 = unaff_ESI[6] >> 1;
        local_18 = iVar7;
        if (uVar6 < unaff_ESI[6] + iVar7 >> 1) {
          do {
            pCVar1 = local_28[*(ushort *)((int)unaff_ESI + 6)].lpData;
            local_24 = pCVar1 + uVar6 * 2;
            local_20 = CONCAT44((int)*(short *)(pCVar1 + uVar6 * 2),(uint)local_20);
            uVar8 = FUN_0045db50(pCVar1,(int)*(short *)(pCVar1 + uVar6 * 2));
            iVar7 = (int)uVar8;
            if (iVar7 < -0x8000) {
              iVar7 = -0x8000;
            }
            else if (0x7fff < iVar7) {
              iVar7 = 0x7fff;
            }
            *(short *)local_24 = (short)iVar7;
            uVar6 += 1;
          } while ((int)uVar6 < (int)(unaff_ESI[6] + local_18 >> 1));
        }
        unaff_ESI[6] = unaff_ESI[6] + local_18;
        if ((_Size == NULL) || (*unaff_ESI <= unaff_ESI[6])) {
          local_28[*(ushort *)((int)unaff_ESI + 6)].dwBufferLength = unaff_ESI[6];
          waveOutWrite((HWAVEOUT)phwo_0047ce90,local_28 + *(ushort *)((int)unaff_ESI + 6),0x20);
          unaff_ESI[2] = unaff_ESI[2] + unaff_ESI[6];
          unaff_ESI[6] = 0;
          *(short *)((int)unaff_ESI + 6) =
               (short)((ulonglong)(*(ushort *)((int)unaff_ESI + 6) + 1) %
                      (ulonglong)(longlong)(int)(uint)(ushort)unaff_ESI[1]);
          if (_Size == NULL) {
            unaff_ESI[0xc] = 2;
          }
        }
      }
    }
    __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
    return;
  }
LAB_004145fe:
  __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



undefined4 FUN_00414900(void)

{
  HANDLE hHeap;
  int in_EAX;
  int iVar1;
  LPWAVEHDR pwh;
  LPWAVEHDR pwVar2;
  int local_8;
  
  pwh = DAT_0047e5bc;
  waveOutReset((HWAVEOUT)phwo_0047ce90);
  iVar1 = 0;
  if (*(LPVOID *)(in_EAX + 0x2c) != NULL) {
    HeapFree(DAT_0047e614,0,*(LPVOID *)(in_EAX + 0x2c));
  }
  *(undefined4 *)(in_EAX + 0x2c) = 0;
  pwVar2 = pwh;
  if (*(short *)(in_EAX + 4) != 0) {
    do {
      hHeap = DAT_0047e614;
      if ((pwVar2->lpData != NULL) && (pwVar2->dwUser != 1)) {
        pwVar2->dwUser = 1;
        HeapFree(hHeap,0,pwVar2->lpData);
        pwVar2->lpData = NULL;
      }
      iVar1 += 1;
      pwVar2 = pwVar2 + 1;
    } while (iVar1 < (int)(uint)*(ushort *)(in_EAX + 4));
  }
  local_8 = 0;
  if (*(short *)(in_EAX + 4) != 0) {
    do {
      if (pwh->dwUser != 1) {
        waveOutReset((HWAVEOUT)phwo_0047ce90);
        waveOutUnprepareHeader((HWAVEOUT)phwo_0047ce90,pwh,0x20);
        if (pwh->dwUser == 0) {
          waveOutClose((HWAVEOUT)phwo_0047ce90);
          phwo_0047ce90 = NULL;
        }
        pwh->dwUser = 1;
      }
      if (pwh->lpData != NULL) {
        HeapFree(DAT_0047e614,0,pwh->lpData);
        pwh->lpData = NULL;
      }
      local_8 += 1;
      pwh = pwh + 1;
    } while (local_8 < (int)(uint)*(ushort *)(in_EAX + 4));
  }
  FUN_0044b590((int *)(in_EAX + 0x38));
  return 0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 __cdecl FUN_00414a20(char *param_1)

{
  int *piVar1;
  FILE *pFVar2;
  int iVar3;
  short *_Src;
  SIZE_T dwBytes;
  LPVOID pvVar4;
  short *_Size;
  uint uVar5;
  longlong lVar6;
  ulonglong uVar7;
  int local_18;
  undefined4 local_10;
  int local_c;
  
  piVar1 = DAT_0047e5bc;
  local_10 = 0;
  if (param_1 != NULL) {
    pFVar2 = FUN_0044cca0(param_1,&DAT_0047cb48);
    if (pFVar2 != NULL) {
      return 0xffffffff;
    }
    iVar3 = FUN_0044c570(0x47cb48,-1);
    _Src = (short *)HeapAlloc(DAT_0047e614,8,0x1000);
    lVar6 = FUN_0044b6a0(0x47cb48,-1);
    local_c = (int)lVar6;
    pwfx_0047bc90._0_2_ = 1;
    pwfx_0047bc90._2_2_ = *(ushort *)(iVar3 + 4);
    _DAT_0047bc9e = 0x10;
    uVar5 = (int)((uint)pwfx_0047bc90._2_2_ * 0x10) >> 3;
    _DAT_0047bc9c = (undefined2)uVar5;
    local_18 = (int)(longlong)ROUND((double)*(int *)(iVar3 + 8) / _DAT_0047ac88);
    DAT_0047bc94 = local_18;
    DAT_0047bc98 = (uVar5 & 0xffff) * local_18;
    uVar7 = FUN_0045db50(local_18,uVar5);
    dwBytes = (SIZE_T)uVar7;
    DAT_0047cb10 = dwBytes;
    pvVar4 = HeapAlloc(DAT_0047e614,8,dwBytes);
    *piVar1 = (int)pvVar4;
    piVar1[1] = dwBytes;
    if (pvVar4 == NULL) {
      MessageBoxA(NULL,"",param_1,0);
      return 0xfffffffe;
    }
    local_c = 0;
    _Size = FUN_0044c5b0(0x47cb48,_Src,0x1000,0,2,1,&local_10);
    while (_Size != NULL) {
      memcpy((void *)(*piVar1 + local_c),_Src,(size_t)_Size);
      local_c += (int)_Size;
      _Size = FUN_0044c5b0(0x47cb48,_Src,0x1000,0,2,1,&local_10);
    }
    FUN_0044b590((int *)&DAT_0047cb48);
    DAT_0047cb28 = 0;
    HeapFree(DAT_0047e614,0,_Src);
    piVar1[4] = 0xc;
    piVar1[5] = 1;
    piVar1[3] = 0;
  }
  return 0;
}


/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void FUN_00414c40(void)

{
  uint *puVar1;
  short sVar2;
  longlong lVar3;
  ushort *puVar4;
  BOOL BVar5;
  uint uVar6;
  uint uVar7;
  HFONT pHVar8;
  char *pcVar9;
  void **ppvVar10;
  void *pvVar11;
  undefined4 extraout_ECX;
  undefined4 extraout_ECX_00;
  undefined4 extraout_ECX_01;
  undefined4 extraout_ECX_02;
  undefined4 extraout_ECX_03;
  undefined4 extraout_ECX_04;
  undefined4 extraout_ECX_05;
  undefined4 extraout_ECX_06;
  undefined4 extraout_ECX_07;
  undefined4 extraout_ECX_08;
  undefined4 extraout_ECX_09;
  undefined4 extraout_ECX_10;
  undefined4 uVar12;
  undefined4 extraout_ECX_11;
  undefined4 extraout_ECX_12;
  undefined4 extraout_ECX_13;
  undefined4 extraout_ECX_14;
  undefined4 extraout_ECX_15;
  undefined4 extraout_ECX_16;
  undefined4 extraout_ECX_17;
  undefined4 extraout_ECX_18;
  undefined4 extraout_ECX_19;
  undefined4 extraout_ECX_20;
  undefined4 extraout_ECX_21;
  undefined4 extraout_ECX_22;
  undefined4 extraout_ECX_23;
  int iVar13;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  undefined4 extraout_EDX_01;
  undefined4 extraout_EDX_02;
  undefined4 extraout_EDX_03;
  undefined4 extraout_EDX_04;
  undefined4 extraout_EDX_05;
  undefined4 extraout_EDX_06;
  undefined4 extraout_EDX_07;
  undefined4 extraout_EDX_08;
  undefined4 uVar14;
  undefined4 extraout_EDX_09;
  ushort *puVar15;
  undefined4 extraout_EDX_10;
  int iVar16;
  ushort uVar17;
  HBRUSH *ppHVar18;
  int iVar19;
  undefined4 *puVar20;
  ushort uVar21;
  undefined4 *puVar22;
  int *piVar23;
  code *pcVar24;
  int *piVar25;
  bool bVar26;
  undefined2 in_FPUControlWord;
  float10 fVar27;
  float10 fVar28;
  float10 fVar29;
  float10 extraout_ST0;
  ulonglong uVar30;
  ulonglong uVar31;
  int iVar32;
  int iVar33;
  int iVar34;
  DWORD DVar35;
  DWORD bUnderline;
  DWORD bStrikeOut;
  DWORD iCharSet;
  DWORD iOutPrecision;
  DWORD iClipPrecision;
  DWORD iQuality;
  DWORD iPitchAndFamily;
  LPSTR *pszFaceName;
  char *pcVar36;
  size_t sVar37;
  int local_6e8 [8];
  int local_6c8 [11];
  uint local_69c;
  FILE *local_698;
  int local_694 [11];
  int local_668;
  int local_664;
  undefined4 *local_660;
  void *local_65c;
  undefined4 local_658;
  longlong local_654;
  uint local_648;
  int local_644;
  void *local_640;
  uint local_63c;
  int *local_638;
  int local_634;
  uint local_630;
  uint local_62c;
  int local_628;
  int local_624;
  int local_620;
  ushort *local_61c;
  undefined4 local_618;
  void *local_614;
  void *local_610;
  char local_60c [512];
  char local_40c [512];
  uchar local_20c [516];
  uint local_8;
  
  local_8 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  local_610 = NULL;
  local_614 = NULL;
  FUN_0040f150();
  FUN_00412a10();
  FUN_0041cde0(0);
  DAT_0047e610 = HeapCreate(4,0x18000,0);
  if (ppvBits_0047c2bc == NULL) {
    _DAT_0047b698 = DAT_0047ac74;
    lpbmi_0047b694 = (BITMAPINFO *)0x28;
    puVar4 = DAT_0047ac78;
    if ((int)DAT_0047ac78 < 0x50) {
      puVar4 = (ushort *)0x50;
    }
    _DAT_0047b69c = -(int)puVar4;
    _DAT_0047b6a4 = 0;
    _DAT_0047b6a0 = 0x200001;
    DAT_0047b150 = CreateDIBSection(DAT_0047de50,(BITMAPINFO *)&lpbmi_0047b694,0,&ppvBits_0047c2bc ,
                                    NULL,0);
    HDC_0047b6c0 = CreateCompatibleDC(DAT_0047de50);
    SelectObject(HDC_0047b6c0,DAT_0047b150);
    lpbmi_0047bcbc = (BITMAPINFO *)0x28;
    _DAT_0047bcc0 = 4;
    puVar4 = DAT_0047ac78;
    if ((int)DAT_0047ac78 < 0x50) {
      puVar4 = (ushort *)0x50;
    }
    _DAT_0047bcc4 = -(int)puVar4;
    _DAT_0047bcc8 = 0x200001;
    _DAT_0047bccc = 0;
    DAT_0047b12c = CreateDIBSection(DAT_0047de50,(BITMAPINFO *)&lpbmi_0047bcbc,0,&ppvBits_0047c2b8 ,
                                    NULL,0);
    DAT_0047bb7c = CreateCompatibleDC(DAT_0047de50);
    SelectObject(DAT_0047bb7c,DAT_0047b12c);
    if (DAT_0047ce38 == NULL) {
      DAT_0047ce38 = CreatePen(5,1,0);
    }
    if (DAT_0047bca4 == NULL) {
      DAT_0047bca4 = CreatePen(0,1,0x505050);
    }
    if (DAT_0047b184 == NULL) {
      DAT_0047b184 = CreateSolidBrush(0x232323);
    }
    if (HGDIOBJ_0047bae4 == NULL) {
LAB_00414df3:
      HGDIOBJ_0047bae4 = CreateFontA(0x10,0,0,0,100,0,0,0,1,0,0,0,0,(LPCSTR)&_Dst_0047dc6c);
    }
    else {
      BVar5 = DeleteObject(HGDIOBJ_0047bae4);
      if (BVar5 != 0) {
        HGDIOBJ_0047bae4 = NULL;
        goto LAB_00414df3;
      }
      if (HGDIOBJ_0047bae4 == NULL) goto LAB_00414df3;
    }
    if (DAT_0047b6c4 != NULL) {
      BVar5 = DeleteObject(DAT_0047b6c4);
      if (BVar5 == 0) {
        if (DAT_0047b6c4 != NULL) goto LAB_00414e5d;
      }
      else {
        DAT_0047b6c4 = NULL;
      }
    }
    DAT_0047b6c4 = CreateFontA(0x10,0,0xa8c,0,100,0,0,0,1,0,0,0,0,(LPCSTR)&_Dst_0047dc6c);
  }
LAB_00414e5d:
  ppHVar18 = &DAT_0047bb80;
  do {
    if ((*ppHVar18 != NULL) && (BVar5 = DeleteObject(*ppHVar18), BVar5 != 0)) {
      *ppHVar18 = NULL;
    }
    ppHVar18 = ppHVar18 + 1;
  } while ((int)ppHVar18 < 0x47bb8c);
  if (DAT_0047bb80 == NULL) {
    DAT_0047bb80 = CreateSolidBrush(0x1e64fa);
  }
  if (DAT_0047bb84 == NULL) {
    DAT_0047bb84 = CreateSolidBrush(0xfab464);
  }
  if (DAT_0047bb88 == NULL) {
    DAT_0047bb88 = CreateSolidBrush(0x3cc8fa);
  }
  if (DAT_0047b178 == NULL) {
LAB_00414ef0:
    DAT_0047b178 = CreateSolidBrush(0x141414);
    uVar12 = extraout_ECX_00;
    uVar14 = extraout_EDX_00;
  }
  else {
    BVar5 = DeleteObject(DAT_0047b178);
    if (BVar5 != 0) {
      DAT_0047b178 = NULL;
      goto LAB_00414ef0;
    }
    uVar12 = extraout_ECX;
    uVar14 = extraout_EDX;
    if (DAT_0047b178 == NULL) goto LAB_00414ef0;
  }
  ppHVar18 = &DAT_0047d6b0;
  do {
    if (*ppHVar18 != NULL) {
      DeleteObject(*ppHVar18);
      *ppHVar18 = NULL;
      uVar12 = extraout_ECX_01;
      uVar14 = extraout_EDX_01;
    }
    ppHVar18 = ppHVar18 + 1;
  } while ((int)ppHVar18 < 0x47d6c4);
  if (DAT_0047d6b0 == NULL) {
    DAT_0047d6b0 = CreateSolidBrush(0x501414);
    uVar12 = extraout_ECX_02;
    uVar14 = extraout_EDX_02;
  }
  if (DAT_0047d6b4 == NULL) {
    DAT_0047d6b4 = CreateSolidBrush(0x501414);
    uVar12 = extraout_ECX_03;
    uVar14 = extraout_EDX_03;
  }
  if (DAT_0047d6b8 == NULL) {
    DAT_0047d6b8 = CreateSolidBrush(0xfaa028);
    uVar12 = extraout_ECX_04;
    uVar14 = extraout_EDX_04;
  }
  if (DAT_0047d6bc == NULL) {
    DAT_0047d6bc = CreateSolidBrush(0x32c8dc);
    uVar12 = extraout_ECX_05;
    uVar14 = extraout_EDX_05;
  }
  if (DAT_0047d6c0 == NULL) {
    DAT_0047d6c0 = CreateSolidBrush(0x1e64f0);
    uVar12 = extraout_ECX_06;
    uVar14 = extraout_EDX_06;
  }
  if (DAT_0047bae0 == NULL) {
LAB_00414fb3:
    uVar30 = FUN_0045db50(uVar12,uVar14);
    uVar6 = (uint)uVar30;
    if ((int)uVar6 < 0x100) {
      local_630 = 0;
      if (-1 < (int)uVar6) goto LAB_00414fe0;
    }
    else {
      uVar6 = 0xff;
LAB_00414fe0:
      local_630 = uVar6;
    }
    uVar30 = FUN_0045db50(extraout_ECX_08,(int)(uVar30 >> 0x20));
    uVar6 = (uint)uVar30;
    if ((int)uVar6 < 0x100) {
      if ((int)uVar6 < 0) {
        uVar6 = 0;
      }
    }
    else {
      uVar6 = 0xff;
    }
    uVar30 = FUN_0045db50(extraout_ECX_09,(int)(uVar30 >> 0x20));
    uVar7 = (uint)uVar30;
    if ((int)uVar7 < 0x100) {
      if ((int)uVar7 < 0) {
        uVar7 = 0;
      }
    }
    else {
      uVar7 = 0xff;
    }
    DAT_0047bae0 = CreatePen(0,1,((uVar7 & 0xff) << 8 | uVar6 & 0xff) << 8 | local_630 & 0xff);
    SelectObject(DAT_0047bb7c,DAT_0047bae0);
    MoveToEx(DAT_0047bb7c,0,0,NULL);
    LineTo(DAT_0047bb7c,0,(int)DAT_0047ac78 + 1);
    uVar12 = extraout_ECX_10;
    uVar14 = extraout_EDX_08;
  }
  else {
    BVar5 = DeleteObject(DAT_0047bae0);
    uVar12 = extraout_ECX_07;
    uVar14 = extraout_EDX_07;
    if (BVar5 != 0) {
      DAT_0047bae0 = NULL;
      goto LAB_00414fb3;
    }
    if (DAT_0047bae0 == NULL) goto LAB_00414fb3;
  }
  if (DAT_0047ce7c == NULL) {
LAB_004150a8:
    uVar30 = FUN_0045db50(uVar12,uVar14);
    uVar6 = (uint)uVar30;
    if ((int)uVar6 < 0x100) {
      local_630 = 0;
      if (-1 < (int)uVar6) goto LAB_004150d1;
    }
    else {
      uVar6 = 0xff;
LAB_004150d1:
      local_630 = uVar6;
    }
    uVar30 = FUN_0045db50(extraout_ECX_12,(int)(uVar30 >> 0x20));
    uVar6 = (uint)uVar30;
    if ((int)uVar6 < 0x100) {
      if ((int)uVar6 < 0) {
        uVar6 = 0;
      }
    }
    else {
      uVar6 = 0xff;
    }
    uVar30 = FUN_0045db50(extraout_ECX_13,(int)(uVar30 >> 0x20));
    uVar7 = (uint)uVar30;
    if ((int)uVar7 < 0x100) {
      if ((int)uVar7 < 0) {
        uVar7 = 0;
      }
    }
    else {
      uVar7 = 0xff;
    }
    DAT_0047ce7c = CreatePen(0,3,((uVar7 & 0xff) << 8 | uVar6 & 0xff) << 8 | local_630 & 0xff);
    SelectObject(DAT_0047bb7c,DAT_0047ce7c);
    MoveToEx(DAT_0047bb7c,2,0,NULL);
    LineTo(DAT_0047bb7c,2,(int)DAT_0047ac78 + 1);
  }
  else {
    BVar5 = DeleteObject(DAT_0047ce7c);
    uVar12 = extraout_ECX_11;
    uVar14 = extraout_EDX_09;
    if (BVar5 != 0) {
      DAT_0047ce7c = NULL;
      goto LAB_004150a8;
    }
    if (DAT_0047ce7c == NULL) goto LAB_004150a8;
  }
  puVar4 = DAT_0047ac78;
  iVar19 = 0;
  ppvVar10 = ppvBits_0047c2b8;
  do {
    iVar32 = iVar19;
    puVar15 = puVar4;
    if (0 < (int)puVar4) {
      do {
        if ((*(uint *)(iVar32 + (int)ppvVar10) & 0xff000000) == 0) {
          *(int *)(iVar32 + (int)ppvVar10) = *(int *)(iVar32 + (int)ppvVar10) + -0x1000000;
          ppvVar10 = ppvBits_0047c2b8;
        }
        puVar15 = (ushort *)((int)puVar15 + -1);
        iVar32 = iVar32 + 0x10;
      } while (puVar15 != NULL);
    }
    iVar19 += 4;
  } while (iVar19 < 0x10);
  if (DAT_0047bb74 == NULL) {
LAB_004151db:
    DAT_0047bb74 = CreateFontA(DAT_0047df84,0,0,0,100,0,0,0,1,0,0,0,0,(LPCSTR)&_Dst_0047dc6c);
  }
  else {
    BVar5 = DeleteObject(DAT_0047bb74);
    if (BVar5 != 0) {
      DAT_0047bb74 = NULL;
      goto LAB_004151db;
    }
    if (DAT_0047bb74 == NULL) goto LAB_004151db;
  }
  SelectObject(HDC_0047b6c0,DAT_0047bb74);
  if ((DAT_0047e5cc != NULL) && (DeleteDC(DAT_0047e5d0), DAT_0047e5cc != NULL)) {
    DeleteObject(DAT_0047e5cc);
  }
  DAT_0047e5d0 = NULL;
  DAT_0047e5cc = NULL;
  if ((DAT_0047bb8c != NULL) && (DeleteDC(DAT_0047b124), DAT_0047bb8c != NULL)) {
    DeleteObject(DAT_0047bb8c);
  }
  DAT_0047b124 = NULL;
  DAT_0047bb8c = NULL;
  if ((DAT_0047bb70 != NULL) && (DeleteDC(DAT_0047ce94), DAT_0047bb70 != NULL)) {
    DeleteObject(DAT_0047bb70);
  }
  DAT_0047ce94 = NULL;
  DAT_0047bb70 = NULL;
  _DAT_0047d6e8 = 0;
  if (DAT_0047e2d4 == 0) {
    pHVar8 = CreateFontA(DAT_0047df98,0,0,0,100,0,0,0,1,0,0,0,0,(LPCSTR)&_Dst_0047dc6c);
    FUN_00438780((int *)&DAT_0047bb8c,(void **)&DAT_0047d6e8,&BITMAPINFO_0047b664,
                 (int *)&DAT_0047b124,(LPCSTR)&_Src_0047cf7e,pHVar8,3);
    DeleteObject(pHVar8);
    pszFaceName = &_Dst_0047dc6c;
    iPitchAndFamily = 0;
    iQuality = 0;
    iClipPrecision = 0;
    iOutPrecision = 0;
    iCharSet = 1;
    bStrikeOut = 0;
    bUnderline = 0;
    DVar35 = 0;
    iVar34 = 100;
    iVar33 = 0;
    iVar32 = 0;
    iVar19 = 0;
    uVar30 = FUN_0045db50(extraout_ECX_14,extraout_EDX_10);
    pHVar8 = CreateFontA((int)uVar30,iVar19,iVar32,iVar33,iVar34,DVar35,bUnderline,bStrikeOut,
                         iCharSet,iOutPrecision,iClipPrecision,iQuality,iPitchAndFamily,
                         (LPCSTR)pszFaceName);
    FUN_00438780((int *)&DAT_0047bb70,(void **)&DAT_0047ce98,&BITMAPINFO_0047c724,
                 (int *)&DAT_0047ce94,(LPCSTR)&_Src_0047d07e,pHVar8,3);
    DeleteObject(pHVar8);
  }
  else {
    pHVar8 = CreateFontA(DAT_0047df98,0,0,0,100,0,0,0,1,0,0,0,0,(LPCSTR)&_Dst_0047dc6c);
    FUN_00438780((int *)&DAT_0047bb8c,(void **)&DAT_0047d6e8,&BITMAPINFO_0047b664,
                 (int *)&DAT_0047b124,(LPCSTR)&_Dst_0047e3da,pHVar8,3);
    DeleteObject(pHVar8);
  }
  if (DAT_0047d180 == 0) {
    strcpy_s(_Dst_0047d184,0x100,(char *)&_Src_0047cf7e);
  }
  else {
    strcpy_s(_Dst_0047d184,0x100,(char *)&_Src_0047cf7e);
    strcat_s(_Dst_0047d184,0x100," ");
    strcat_s(_Dst_0047d184,0x100,(char *)&_Src_0047d07e);
  }
  if (DAT_0047e634 == 1) {
    FUN_00438780((int *)&DAT_0047e5cc,(void **)&DAT_0047e600,&BITMAPINFO_0047e5d4,
                 (int *)&DAT_0047e5d0,_Dst_0047d184,DAT_0047bb74,0);
  }
  else {
    pcVar36 = _Dst_0047d184;
    do {
      pcVar9 = pcVar36;
      pcVar36 = pcVar9 + 1;
    } while (*pcVar9 != '\0');
    GetTextExtentPoint32A
              (HDC_0047b6c0,_Dst_0047d184,(int)(pcVar9 + -0x47d184),(LPSIZE)&psizl_0047b16c);
  }
  FUN_00413cd0(&DAT_00482788,&DAT_0048278c,&DAT_00482758,"songselectbg");
  if (DAT_00482788 == 0x200) {
    bVar26 = DAT_0048278c == 0x180;
  }
  else {
    bVar26 = DAT_00482788 == 0;
  }
  if ((!bVar26) &&
     (MessageBoxA(HWND_0047de30,
                  "512*384",
                  NULL,0), DAT_00482758 != 0)) {
    free((void *)DAT_00482758);
    DAT_00482758 = 0;
  }
  FUN_00413cd0(&DAT_004829f0,&DAT_004829f4,&DAT_004829c0,"notes");
  DAT_004829f4 /= DAT_0047de58;
  DAT_0047e502 = (short)(DAT_004829f0 / DAT_004829f4);
  DAT_004829f0 /= (int)(DAT_004829f0 / DAT_004829f4 & 0xffffU);
  if (DAT_004829c0 == 0) {
    MessageBoxA(HWND_0047de30,"",NULL,0);
    DAT_0047e604 = 0xffff;
    __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
    return;
  }
  if (DAT_0047f114 == 2) {
    FUN_00413cd0(&DAT_00482948,&DAT_0048294c,&DAT_00482918,"senotes");
    if (DAT_0047e502 == 0xd) {
      DAT_00482948 /= 0xb;
    }
    else {
      DAT_00482948 /= 0xc;
    }
    FUN_00413cd0(&DAT_00482130,&DAT_00482134,&DAT_00482100,"hr_senotes");
    FUN_00413cd0(&DAT_00482590,&DAT_00482594,&DAT_00482560,"hr_songtitle");
  }
  else {
    DAT_00482948 = 0;
    DAT_00482130 = 0;
    DAT_00482590 = 0;
  }
  FUN_00413cd0(&DAT_00482750,&DAT_00482754,&DAT_00482720,"marker");
  DAT_00482750 /= 0xd;
  iVar19 = DAT_00482754 / 2;
  DAT_00482754 = iVar19;
  FUN_00413cd0((int *)&DAT_00482408,&DAT_0048240c,&DAT_004823d8,"bmnotes");
  FUN_00413cd0(&DAT_00481e90,&DAT_00481e94,&DAT_00481e60,"bmlane");
  FUN_00413cd0(&DAT_00482088,&DAT_0048208c,&DAT_00482058,"bmexplosion");
  FUN_00413cd0((int *)&DAT_004825c8,(int *)&DAT_004825cc,&DAT_00482598,"font");
  if (iVar19 != 0) {
    DAT_0047acf0 = 0;
  }
  FUN_00413cd0(&DAT_00482398,&DAT_0048239c,&DAT_00482368,"font_m");
  DAT_00482398 /= 0xc;
  DAT_0048239c /= 7;
  if ((DAT_00482398 == 0) || (DAT_0047f114 < 2)) {
    DAT_00482368 = DAT_00482598;
    puVar20 = &DAT_0048259c;
    puVar22 = &DAT_0048236c;
    for (iVar19 = 0xb; iVar19 != 0; iVar19 += -1) {
      *puVar22 = *puVar20;
      puVar20 = puVar20 + 1;
      puVar22 = puVar22 + 1;
    }
    DAT_00482398 = 8;
    DAT_0048239c = 0xc;
  }
  FUN_00413cd0((int *)&DAT_00481d40,(int *)&DAT_00481d44,&DAT_00481d10,"font_m");
  FUN_00413cd0((int *)&DAT_00481c58,(int *)&DAT_00481c5c,&DAT_00481c28,"font_m");
  iVar19 = DAT_00482598;
  if (((DAT_00482398 == 0) || (DAT_0047f114 < 2)) || (DAT_00482368 == DAT_00482598)) {
    DAT_00481d10 = DAT_00482598;
    puVar20 = &DAT_0048259c;
    puVar22 = &DAT_00481d14;
    for (iVar32 = 0xb; iVar32 != 0; iVar32 += -1) {
      *puVar22 = *puVar20;
      puVar20 = puVar20 + 1;
      puVar22 = puVar22 + 1;
    }
    DAT_00481c28 = iVar19;
    puVar20 = &DAT_0048259c;
    puVar22 = &DAT_00481c2c;
    for (iVar19 = 0xb; iVar19 != 0; iVar19 += -1) {
      *puVar22 = *puVar20;
      puVar20 = puVar20 + 1;
      puVar22 = puVar22 + 1;
    }
  }
  else {
    local_618 = NULL;
    iVar19 = DAT_0048239c;
    iVar32 = DAT_00482398;
    if (0 < DAT_0048239c * 7) {
      do {
        iVar34 = 0;
        iVar33 = (int)local_618;
        if (0 < iVar32 * 0xc) {
          do {
            iVar19 = iVar34 + iVar32 * iVar33 * 0xc;
            uVar6 = *(uint *)(DAT_00481d10 + iVar19 * 4);
            piVar23 = (int *)(DAT_00481d10 + iVar19 * 4);
            if ((uVar6 & 0xff000000) != 0) {
              local_61c = (ushort *)(uVar6 >> 0x10 & 0xff);
              uVar30 = FUN_0045db50(uVar6 >> 0x10,local_61c);
              iVar19 = (int)uVar30;
              if (iVar19 < 0) {
                iVar19 = 0;
LAB_0041587f:
                local_630 = iVar19;
              }
              else {
                local_630 = 0xff;
                if (iVar19 < 0x100) goto LAB_0041587f;
              }
              local_61c = (ushort *)(uVar6 >> 8 & 0xff);
              uVar30 = FUN_0045db50(extraout_ECX_15,(int)(uVar30 >> 0x20));
              iVar19 = (int)uVar30;
              if (iVar19 < 0) {
                iVar19 = 0;
LAB_004158b8:
                local_62c = iVar19;
              }
              else {
                local_62c = 0xff;
                if (iVar19 < 0x100) goto LAB_004158b8;
              }
              local_61c = (ushort *)(uVar6 & 0xff);
              uVar30 = FUN_0045db50(local_61c,(int)(uVar30 >> 0x20));
              uVar7 = (uint)uVar30;
              if ((int)uVar7 < 0) {
                uVar7 = 0;
              }
              else if (0xff < (int)uVar7) {
                uVar7 = 0xff;
              }
              *piVar23 = (uint)CONCAT11((undefined1)local_630,(undefined1)local_62c) * 0x100 +
                         (uVar6 & 0xff000000) + (uVar7 & 0xff);
              iVar19 = iVar34 + DAT_00482398 * (int)local_618 * 0xc;
              uVar6 = *(uint *)(DAT_00481c28 + iVar19 * 4);
              piVar23 = (int *)(DAT_00481c28 + iVar19 * 4);
              local_61c = (ushort *)(uVar6 >> 0x10 & 0xff);
              uVar30 = FUN_0045db50(uVar6 >> 0x10,local_61c);
              uVar7 = (uint)uVar30;
              if ((int)uVar7 < 0) {
                uVar7 = 0;
LAB_00415968:
                local_630 = uVar7;
              }
              else {
                local_630 = 0xff;
                if ((int)uVar7 < 0x100) goto LAB_00415968;
              }
              local_61c = (ushort *)(uVar6 >> 8 & 0xff);
              uVar30 = FUN_0045db50(extraout_ECX_16,(int)(uVar30 >> 0x20));
              uVar7 = (uint)uVar30;
              if ((int)uVar7 < 0) {
                uVar7 = 0;
LAB_004159a1:
                local_62c = uVar7;
              }
              else {
                local_62c = 0xff;
                if ((int)uVar7 < 0x100) goto LAB_004159a1;
              }
              local_61c = (ushort *)(uVar6 & 0xff);
              uVar30 = FUN_0045db50(local_61c,(int)(uVar30 >> 0x20));
              uVar7 = (uint)uVar30;
              if ((int)uVar7 < 0) {
                uVar7 = 0;
              }
              else if (0xff < (int)uVar7) {
                uVar7 = 0xff;
              }
              *piVar23 = (uint)CONCAT11((undefined1)local_630,(undefined1)local_62c) * 0x100 +
                         (uVar6 & 0xff000000) + (uVar7 & 0xff);
              iVar32 = DAT_00482398;
              iVar33 = (int)local_618;
            }
            iVar34 += 1;
            iVar19 = DAT_0048239c;
          } while (iVar34 < iVar32 * 0xc);
        }
        local_618 = (int *)(iVar33 + 1);
      } while ((int)local_618 < iVar19 * 7);
    }
  }
  FUN_00413cd0(&DAT_00481fe0,&DAT_00481fe4,(int *)&DAT_00481fb0,"combonumber");
  DAT_00481fe0 /= 10;
  FUN_00413cd0(&DAT_00481f38,&DAT_00481f3c,&DAT_00481f08,"combonumber_l");
  DAT_00481f38 /= 10;
  FUN_00413cd0(&DAT_00482a60,&DAT_00482a64,(int *)&DAT_00482a30,"rollnumber");
  DAT_00482a60 /= 10;
  if (DAT_00482a60 == 0) {
    DAT_00482a30 = DAT_00481fb0;
    DAT_00482a60 = DAT_00481fe0;
    DAT_00482a64 = DAT_00481fe4;
    puVar20 = &DAT_00481fb4;
    puVar22 = &DAT_00482a34;
    for (iVar19 = 0xb; iVar19 != 0; iVar19 += -1) {
      *puVar22 = *puVar20;
      puVar20 = puVar20 + 1;
      puVar22 = puVar22 + 1;
    }
  }
  FUN_00413cd0(&DAT_00481e58,&DAT_00481e5c,&DAT_00481e28,"rollballoon");
  FUN_00413cd0(&DAT_00482600,&DAT_00482604,&DAT_004825d0,"burstballoon");
  FUN_00413cd0(&DAT_00482360,&DAT_00482364,&DAT_00482330,"potatoballoon");
  if (DAT_00482360 == 0) {
    FUN_00413cd0(&DAT_00482360,&DAT_00482364,&DAT_00482330,"rollballoon");
  }
  FUN_00413cd0(&DAT_004821d8,&DAT_004821dc,(int *)&DAT_004821a8,"potatonumber");
  iVar19 = DAT_00482a60;
  pvVar11 = DAT_00482a30;
  if (DAT_004821d8 == 0) {
    puVar20 = &DAT_00482a34;
    puVar22 = &DAT_004821ac;
    for (iVar32 = 0xb; iVar32 != 0; iVar32 += -1) {
      *puVar22 = *puVar20;
      puVar20 = puVar20 + 1;
      puVar22 = puVar22 + 1;
    }
    DAT_004821a8 = pvVar11;
    DAT_004821dc = DAT_00482a64;
  }
  else {
    iVar19 = DAT_004821d8 / 10;
  }
  DAT_004821d8 = iVar19;
  FUN_00413cd0(&DAT_00482018,&DAT_0048201c,&DAT_00481fe8,"branchballoon");
  DAT_0048201c >>= 1;
  FUN_00413cd0(&DAT_00481de8,&DAT_00481dec,(int *)&local_610,"comboballoon_p1");
  if ((DAT_00481de8 != 0) ||
     (FUN_00413cd0(&DAT_00481de8,&DAT_00481dec,(int *)&local_610,"comboballoon"), DAT_00481de8 != 0)
     ) {
    iVar19 = DAT_00481dec * DAT_00481de8;
    DAT_00481db8 = calloc(1,iVar19 * 8);
    memcpy(DAT_00481db8,local_610,iVar19 * 4);
  }
  if (local_610 != NULL) {
    free(local_610);
    local_610 = NULL;
  }
  if ((DAT_00481de8 != 0) &&
     ((FUN_00413cd0(&local_624,&local_620,(int *)&local_610,"comboballoon_p2"), local_624 != 0 ||
      (FUN_00413cd0(&local_624,&local_620,(int *)&local_610,"comboballoon"), local_624 != 0)))) {
    if ((local_624 < DAT_00481de8) || (local_620 < DAT_00481dec)) {
      DAT_00481dec = local_620;
      DAT_00481de8 = local_624;
    }
    sVar37 = DAT_00481dec * DAT_00481de8 * 4;
    memcpy((void *)((int)DAT_00481db8 + sVar37),local_610,sVar37);
    if (DAT_0047e634 == 1) {
      DAT_00481dc4 *= 2;
    }
  }
  FUN_00413cd0(&DAT_00481cd0,&DAT_00481cd4,(int *)&local_610,"combonumber_balloon_p1");
  iVar19 = 0;
  if (DAT_00481cd0 == 0) {
    local_628 = 1;
    FUN_00413cd0(&DAT_00481cd0,&DAT_00481cd4,(int *)&local_610,"combonumber_balloon");
    iVar19 = local_628;
    if (DAT_00481cd0 != 0) goto LAB_00415ec5;
    iVar32 = DAT_00481cd0;
    if (DAT_00481fe0 != 0) {
      sVar37 = DAT_00481fe4 * DAT_00481fe0 * 0x28;
      local_610 = calloc(1,sVar37);
      memcpy(local_610,DAT_00481fb0,sVar37);
      DAT_00481cd0 = DAT_00481fe0 * 10;
      bVar26 = DAT_00481fb0 == NULL;
      DAT_00481cd4 = DAT_00481fe4;
      puVar20 = &DAT_00481fb4;
      puVar22 = &DAT_00481ca4;
      for (iVar19 = 0xb; iVar19 != 0; iVar19 += -1) {
        *puVar22 = *puVar20;
        puVar20 = puVar20 + 1;
        puVar22 = puVar22 + 1;
      }
      if (bVar26) {
        DAT_00481de8 = 0;
        iVar32 = 0;
      }
      else {
        iVar19 = local_628;
        iVar32 = DAT_00481cd0;
        if (DAT_00481cd0 != 0) goto LAB_00415ec5;
      }
    }
  }
  else {
LAB_00415ec5:
    iVar32 = DAT_00481cd0;
    iVar33 = DAT_00481cd4 * DAT_00481cd0;
    DAT_00481ca0 = calloc(1,iVar33 * 8);
    if (iVar19 == 1) {
      local_618 = NULL;
      if (0 < DAT_00481cd4) {
        do {
          local_628 = 0;
          if (0 < iVar32) {
            do {
              iVar19 = (iVar32 * (int)local_618 + local_628) * 4;
              uVar6 = *(uint *)(iVar19 + (int)local_610);
              if ((uVar6 & 0xff000000) != 0) {
                local_61c = (ushort *)(uVar6 >> 0x10 & 0xff);
                uVar30 = FUN_0045db50(local_61c,local_610);
                uVar7 = (uint)uVar30;
                if ((int)uVar7 < 0) {
                  uVar7 = 0;
LAB_00415f8c:
                  local_630 = uVar7;
                }
                else {
                  local_630 = 0xff;
                  if ((int)uVar7 < 0x100) goto LAB_00415f8c;
                }
                local_61c = (ushort *)(uVar6 >> 8 & 0xff);
                uVar30 = FUN_0045db50(extraout_ECX_17,local_61c);
                uVar7 = (uint)uVar30;
                if ((int)uVar7 < 0) {
                  uVar7 = 0;
LAB_00415fc5:
                  local_62c = uVar7;
                }
                else {
                  local_62c = 0xff;
                  if ((int)uVar7 < 0x100) goto LAB_00415fc5;
                }
                local_61c = (ushort *)(uVar6 & 0xff);
                uVar30 = FUN_0045db50(extraout_ECX_18,(int)(uVar30 >> 0x20));
                uVar7 = (uint)uVar30;
                if ((int)uVar7 < 0) {
                  uVar7 = 0;
                }
                else if (0xff < (int)uVar7) {
                  uVar7 = 0xff;
                }
                *(uint *)((int)DAT_00481ca0 + iVar19) =
                     (uint)CONCAT11((undefined1)local_630,(undefined1)local_62c) * 0x100 +
                     (uVar6 & 0xff000000) + (uVar7 & 0xff);
                iVar32 = DAT_00481cd0;
              }
              local_628 += 1;
            } while (local_628 < iVar32);
          }
          local_618 = (int *)((int)local_618 + 1);
        } while ((int)local_618 < DAT_00481cd4);
      }
      local_618 = NULL;
      if (0 < DAT_00481cd4) {
        do {
          iVar33 = 0;
          iVar19 = (int)local_618;
          if (0 < iVar32) {
            do {
              uVar6 = *(uint *)((int)local_610 + (iVar32 * iVar19 + iVar33) * 4);
              if ((uVar6 & 0xff000000) != 0) {
                local_61c = (ushort *)(uVar6 >> 0x10 & 0xff);
                uVar30 = FUN_0045db50(local_61c,local_610);
                uVar7 = (uint)uVar30;
                if ((int)uVar7 < 0) {
                  uVar7 = 0;
LAB_00416321:
                  local_630 = uVar7;
                }
                else {
                  local_630 = 0xff;
                  if ((int)uVar7 < 0x100) goto LAB_00416321;
                }
                local_61c = (ushort *)(uVar6 >> 8 & 0xff);
                uVar30 = FUN_0045db50(extraout_ECX_19,local_61c);
                uVar7 = (uint)uVar30;
                if ((int)uVar7 < 0) {
                  uVar7 = 0;
LAB_0041635a:
                  local_62c = uVar7;
                }
                else {
                  local_62c = 0xff;
                  if ((int)uVar7 < 0x100) goto LAB_0041635a;
                }
                local_61c = (ushort *)(uVar6 & 0xff);
                uVar30 = FUN_0045db50(extraout_ECX_20,(int)(uVar30 >> 0x20));
                uVar7 = (uint)uVar30;
                if ((int)uVar7 < 0) {
                  uVar7 = 0;
                }
                else if (0xff < (int)uVar7) {
                  uVar7 = 0xff;
                }
                *(uint *)((int)DAT_00481ca0 +
                         ((DAT_00481cd4 + (int)local_618) * iVar32 + iVar33) * 4) =
                     (uint)CONCAT11((undefined1)local_630,(undefined1)local_62c) * 0x100 +
                     (uVar6 & 0xff000000) + (uVar7 & 0xff);
                iVar19 = (int)local_618;
                iVar32 = DAT_00481cd0;
              }
              iVar33 += 1;
            } while (iVar33 < iVar32);
          }
          local_618 = (int *)(iVar19 + 1);
        } while ((int)local_618 < DAT_00481cd4);
      }
    }
    else {
      memcpy(DAT_00481ca0,local_610,iVar33 * 4);
      if (iVar19 == 0) {
        if (local_610 != NULL) {
          free(local_610);
          local_610 = NULL;
        }
        FUN_00413cd0(NULL,NULL,(int *)&local_610,"combonumber_balloon_p2");
      }
      sVar37 = DAT_00481cd4 * DAT_00481cd0 * 4;
      memcpy((void *)((int)DAT_00481ca0 + sVar37),local_610,sVar37);
      iVar32 = DAT_00481cd0;
    }
    if (DAT_0047e634 == 1) {
      DAT_00481cac *= 2;
    }
    if (local_610 != NULL) {
      free(local_610);
      local_610 = NULL;
      iVar32 = DAT_00481cd0;
    }
  }
  DAT_00481cd0 = iVar32 / 10;
  iVar19 = DAT_00481cd0;
  if (DAT_0047f114 < 2) {
    iVar19 = 0;
    DAT_00481e58 = 0;
    DAT_00482600 = 0;
  }
  FUN_00413cd0(&DAT_004829b8,&DAT_004829bc,&DAT_00482988,"judgement");
  if (iVar19 != 0) {
    DAT_0047acf4 = 0;
  }
  DAT_004829bc /= 3;
  DAT_00481ec8 = 0;
  if ((DAT_0047cf62 == 0) ||
     (FUN_00413cd0(&DAT_00481ec8,&DAT_00481ecc,(int *)&local_614,"normagauge_hard"),
     DAT_00481ec8 == 0)) {
    ppvVar10 = &local_614;
    FUN_00413cd0(&DAT_00481ec8,&DAT_00481ecc,(int *)ppvVar10,"normagauge");
    if (ppvVar10 != NULL) {
      DAT_0047acf8 = 0;
    }
  }
  local_624 = 0;
  if ((((DAT_0047d322 == 0) ||
       (FUN_00413cd0(&local_624,&local_620,(int *)&local_610,"normagauge_hard_p2"), local_624 == 0))
      && (FUN_00413cd0(&local_624,&local_620,(int *)&local_610,"normagauge_p2"), local_624 == 0)) ||
     ((local_624 != DAT_00481ec8 || (local_620 != DAT_00481ecc)))) {
    DAT_0047deb4 = 1;
  }
  else {
    DAT_0047deb4 = 2;
  }
  iVar32 = DAT_00481ecc;
  iVar19 = DAT_00481ec8;
  if (DAT_00481ec8 != 0) {
    DAT_00481e98 = calloc(1,DAT_0047deb4 * DAT_00481ecc * DAT_00481ec8 * 4);
    memcpy(DAT_00481e98,local_614,iVar32 * iVar19 * 4);
    piVar23 = local_694;
    piVar25 = &DAT_00481e9c;
    for (iVar19 = 0xb; iVar19 != 0; iVar19 += -1) {
      *piVar25 = *piVar23;
      piVar23 = piVar23 + 1;
      piVar25 = piVar25 + 1;
    }
    if (local_614 != NULL) {
      free(local_614);
      local_614 = NULL;
    }
  }
  if ((DAT_0047deb4 == 2) &&
     (sVar37 = DAT_00481ecc * DAT_00481ec8 * 4,
     memcpy((void *)((int)DAT_00481e98 + sVar37),local_610,sVar37), DAT_0047e634 == 1)) {
    DAT_00481ea4 *= 2;
  }
  if ((local_624 != 0) && (local_610 != NULL)) {
    free(local_610);
    local_610 = NULL;
  }
  iVar32 = DAT_0047dea8;
  iVar19 = (DAT_00481ecc >> 0x1f & 3U) + DAT_00481ecc;
  DAT_00481ecc = iVar19 >> 2;
  iVar33 = 0;
  DAT_0047ce3c = (undefined2)(DAT_00481ec8 / (DAT_0047dea8 * 6));
  DAT_0047be28 = 0;
  if (DAT_0047e2c8 != 0) {
    local_61c = (ushort *)(DAT_0047db74 >> 1);
    local_648 = iVar19 >> 3;
    piVar23 = &DAT_0047ad70;
    do {
      iVar19 = (&DAT_0047db64)[iVar33 * 2];
      iVar34 = (&DAT_0047db68)[iVar33 * 2];
      (&DAT_0047aca4)[iVar33] = DAT_0047db74;
      (&DAT_0047ac9c)[iVar33] = iVar19 - (int)local_61c;
      (&DAT_0047e598)[iVar33] = iVar34 - local_648;
      piVar23[-1] = iVar32;
      uVar30 = FUN_0045db50(iVar19 - (int)local_61c,iVar34 - local_648);
      iVar19 = (int)uVar30;
      piVar23[1] = iVar19;
      piVar23[3] = DAT_0047aca4 - iVar32;
      uVar6 = (uint)DAT_0047e2c8;
      *piVar23 = iVar19 - iVar32;
      piVar23[2] = iVar32 + iVar19;
      iVar33 += 1;
      piVar23 = piVar23 + 5;
    } while (iVar33 < (int)uVar6);
  }
  FUN_00413cd0(&DAT_00482440,&DAT_00482444,(int *)&local_614,"mtaiko");
  FUN_00413cd0(&local_624,&local_620,(int *)&local_610,"mtaiko_p2");
  iVar32 = DAT_00482444;
  iVar19 = DAT_00482440;
  if (((local_624 == 0) || (local_624 != DAT_00482440)) ||
     (DAT_0047deb8 = 2, local_620 != DAT_00482444)) {
    DAT_0047deb8 = 1;
  }
  if (DAT_00482440 != 0) {
    DAT_00482410 = calloc(1,DAT_0047deb8 * DAT_00482444 * DAT_00482440 * 4);
    memcpy(DAT_00482410,local_614,iVar32 * iVar19 * 4);
    piVar23 = local_694;
    piVar25 = &DAT_00482414;
    for (iVar19 = 0xb; iVar19 != 0; iVar19 += -1) {
      *piVar25 = *piVar23;
      piVar23 = piVar23 + 1;
      piVar25 = piVar25 + 1;
    }
    if (local_614 != NULL) {
      free(local_614);
      local_614 = NULL;
    }
  }
  if ((DAT_0047deb8 == 2) &&
     (sVar37 = DAT_00482444 * DAT_00482440 * 4,
     memcpy((void *)((int)DAT_00482410 + sVar37),local_610,sVar37), DAT_0047e634 == 1)) {
    DAT_0048241c *= 2;
  }
  if ((local_624 != 0) && (local_610 != NULL)) {
    free(local_610);
    local_610 = NULL;
  }
  FUN_00413cd0(&DAT_004824b0,&DAT_004824b4,&DAT_00482480,"mtaikoflash_red");
  FUN_00413cd0(&DAT_00482830,&DAT_00482834,&DAT_00482800,"mtaikoflash_blue");
  FUN_00413cd0(&DAT_00481f70,&DAT_00481f74,&DAT_00481f40,"mtaikoflower");
  FUN_00413cd0(&DAT_00481c98,&DAT_00481c9c,&DAT_00481c68,"explosion_upper");
  local_618 = NULL;
  iVar19 = DAT_00481c98;
  iVar32 = DAT_00481c9c;
  if (0 < DAT_00481c9c) {
    do {
      iVar33 = 0;
      if (0 < iVar19) {
        do {
          puVar1 = (uint *)(DAT_00481c68 + (iVar19 * (int)local_618 + iVar33) * 4);
          if ((*puVar1 & 0xff000000) != 0) {
            uVar6 = *puVar1 >> 0x10;
            local_61c = (ushort *)(uVar6 & 0xff);
            uVar30 = FUN_0045db50(uVar6,DAT_00481c68);
            local_61c = (ushort *)(uint)*(byte *)((int)puVar1 + 1);
            uVar31 = FUN_0045db50(local_61c,(int)(uVar30 >> 0x20));
            local_61c = (ushort *)(uint)(byte)*puVar1;
            local_648 = ((int)(uint)uVar31 < 0) - 1 & (uint)uVar31;
            uVar31 = FUN_0045db50(local_648,local_61c);
            *puVar1 = ((((int)(uint)uVar30 < 0) - 1 & (uint)uVar30 & 0xff) * 0x100 +
                      (local_648 & 0xff)) * 0x100 + (*puVar1 & 0xff000000) +
                      (((int)(uint)uVar31 < 0) - 1 & (uint)uVar31 & 0xff);
            iVar19 = DAT_00481c98;
          }
          iVar33 += 1;
          iVar32 = DAT_00481c9c;
        } while (iVar33 < iVar19);
      }
      local_618 = (int *)((int)local_618 + 1);
    } while ((int)local_618 < iVar32);
  }
  if (0 < DAT_0047def0) {
    DAT_00481c98 = iVar19 / DAT_0047def0;
    DAT_00481c9c = (int)(iVar32 + (iVar32 >> 0x1f & 3U)) >> 2;
  }
  FUN_00413cd0(&DAT_00482478,&DAT_0048247c,&DAT_00482448,"explosion_lower");
  local_618 = NULL;
  iVar19 = DAT_00482478;
  iVar32 = DAT_0048247c;
  if (0 < DAT_0048247c) {
    do {
      if (0 < iVar19) {
        iVar33 = 0;
        do {
          puVar1 = (uint *)(DAT_00482448 + (iVar19 * (int)local_618 + iVar33) * 4);
          if ((*puVar1 & 0xff000000) != 0) {
            uVar6 = *puVar1 >> 0x10;
            local_61c = (ushort *)(uVar6 & 0xff);
            uVar30 = FUN_0045db50(uVar6,local_61c);
            local_61c = (ushort *)(uint)*(byte *)((int)puVar1 + 1);
            uVar31 = FUN_0045db50(extraout_ECX_21,(int)(uVar30 >> 0x20));
            local_648 = ((int)(uint)uVar31 < 0) - 1 & (uint)uVar31;
            local_61c = (ushort *)(uint)(byte)*puVar1;
            uVar31 = FUN_0045db50(local_61c,(int)(uVar31 >> 0x20));
            *puVar1 = ((((int)(uint)uVar30 < 0) - 1 & (uint)uVar30 & 0xff) * 0x100 +
                      (local_648 & 0xff)) * 0x100 + (*puVar1 & 0xff000000) +
                      (((int)(uint)uVar31 < 0) - 1 & (uint)uVar31 & 0xff);
            iVar19 = DAT_00482478;
          }
          iVar33 += 1;
          iVar32 = DAT_0048247c;
        } while (iVar33 < iVar19);
      }
      local_618 = (int *)((int)local_618 + 1);
    } while ((int)local_618 < iVar32);
  }
  if (0 < DAT_0047def4) {
    DAT_00482478 = iVar19 / DAT_0047def4;
    DAT_0048247c = (int)(iVar32 + (iVar32 >> 0x1f & 3U)) >> 2;
  }
  FUN_00413cd0(&DAT_00482248,&DAT_0048224c,&DAT_00482218,"explosion_soul");
  if (0 < DAT_0047df90) {
    DAT_00482248 /= DAT_0047df90;
    DAT_0048224c /= 2;
  }
  FUN_00413cd0(&DAT_004827c0,&DAT_004827c4,&DAT_00482790,"fire");
  DAT_004827c0 /= DAT_0047de98;
  FUN_00413cd0(&DAT_00482a28,&DAT_00482a2c,&DAT_004829f8,"soul");
  DAT_00482a28 /= DAT_0047dea0 + 1;
  if (DAT_0047def0 == 0) {
    FUN_00413cd0((int *)&DAT_00482210,(int *)&DAT_00482214,&DAT_004821e0,"explosion_upper");
    local_618 = NULL;
    iVar19 = DAT_00481c98;
    if (0 < DAT_00481c9c) {
      do {
        iVar32 = 0;
        piVar23 = local_618;
        if (0 < iVar19) {
          do {
            puVar1 = (uint *)(DAT_004821e0 + (iVar19 * (int)piVar23 + iVar32) * 4);
            if ((*puVar1 & 0xff000000) != 0) {
              local_61c = (ushort *)(*puVar1 >> 0x10 & 0xff);
              uVar30 = FUN_0045db50(local_61c,piVar23);
              local_61c = (ushort *)(uint)*(byte *)((int)puVar1 + 1);
              uVar31 = FUN_0045db50(extraout_ECX_22,local_61c);
              local_648 = ((int)(uint)uVar31 < 0) - 1 & (uint)uVar31;
              local_61c = (ushort *)(uint)(byte)*puVar1;
              uVar31 = FUN_0045db50(local_648,(int)(uVar31 >> 0x20));
              *puVar1 = ((((int)(uint)uVar30 < 0) - 1 & (uint)uVar30 & 0xff) * 0x100 +
                        (local_648 & 0xff)) * 0x100 + (*puVar1 & 0xff000000) +
                        (((int)(uint)uVar31 < 0) - 1 & (uint)uVar31 & 0xff);
              iVar19 = DAT_00481c98;
              piVar23 = local_618;
            }
            iVar32 += 1;
          } while (iVar32 < iVar19);
        }
        local_618 = (int *)((int)piVar23 + 1);
      } while ((int)local_618 < DAT_00481c9c);
    }
  }
  if (DAT_0047def4 == 0) {
    FUN_00413cd0((int *)&DAT_004827f8,(int *)&DAT_004827fc,&DAT_004827c8,"explosion_lower");
    local_618 = NULL;
    iVar19 = DAT_00482478;
    if (0 < DAT_0048247c) {
      do {
        iVar32 = 0;
        piVar23 = local_618;
        if (0 < iVar19) {
          do {
            puVar1 = (uint *)(DAT_004827c8 + (iVar19 * (int)piVar23 + iVar32) * 4);
            if ((*puVar1 & 0xff000000) != 0) {
              local_61c = (ushort *)(*puVar1 >> 0x10 & 0xff);
              uVar30 = FUN_0045db50(local_61c,piVar23);
              local_61c = (ushort *)(uint)*(byte *)((int)puVar1 + 1);
              uVar31 = FUN_0045db50(extraout_ECX_23,local_61c);
              local_648 = ((int)(uint)uVar31 < 0) - 1 & (uint)uVar31;
              local_61c = (ushort *)(uint)(byte)*puVar1;
              uVar31 = FUN_0045db50(local_648,(int)(uVar31 >> 0x20));
              *puVar1 = ((((int)(uint)uVar30 < 0) - 1 & (uint)uVar30 & 0xff) * 0x100 +
                        (local_648 & 0xff)) * 0x100 + (*puVar1 & 0xff000000) +
                        (((int)(uint)uVar31 < 0) - 1 & (uint)uVar31 & 0xff);
              iVar19 = DAT_00482478;
              piVar23 = local_618;
            }
            iVar32 += 1;
          } while (iVar32 < iVar19);
        }
        local_618 = (int *)((int)piVar23 + 1);
      } while ((int)local_618 < DAT_0048247c);
    }
  }
  FUN_00413cd0(&DAT_00481e20,&DAT_00481e24,&DAT_00481df0,"gogosplash");
  uVar17 = DAT_0047e2c8;
  DAT_00481e20 /= DAT_0047df30;
  DAT_00481cd8 = (int)calloc((uint)DAT_0047e2c8 * 7,_DAT_0047e1c4 << 0xb);
  uVar21 = 0;
  if (uVar17 != 0) {
    do {
      iVar19 = 0;
      do {
        if (iVar19 == 0) {
          pcVar36 = "normallayer";
LAB_00416dcd:
          FUN_00413cd0(&DAT_00481d08,&DAT_00481d0c,(int *)&local_610,pcVar36);
        }
        else {
          if (iVar19 == 1) {
            pcVar36 = "expertlayer";
            goto LAB_00416dcd;
          }
          if (iVar19 == 2) {
            pcVar36 = "masterlayer";
            goto LAB_00416dcd;
          }
        }
        if (DAT_00481d08 != 0x200) {
          if (DAT_00481d08 != 0) {
            MessageBoxA(HWND_0047de30,
                        "512",NULL,0)
            ;
          }
          DAT_00481d08 = 0;
          if (local_610 != NULL) {
            free(local_610);
            local_610 = NULL;
          }
          break;
        }
        if (_DAT_0047e1c4 < DAT_00481d0c) {
          DAT_00481d0c = _DAT_0047e1c4;
        }
        memcpy((void *)((((_DAT_0047e1c4 >> 1) - (DAT_00481d0c >> 1) & 0xffffU) +
                        ((uint)uVar21 * 7 + iVar19) * _DAT_0047e1c4) * 0x800 + DAT_00481cd8),
               local_610,DAT_00481d0c << 0xb);
        if (local_610 != NULL) {
          free(local_610);
          local_610 = NULL;
        }
        iVar19 += 1;
      } while (iVar19 < 3);
      uVar21 += 1;
      uVar17 = DAT_0047e2c8;
    } while (uVar21 < DAT_0047e2c8);
  }
  if (DAT_0047e634 == 1) {
    _DAT_00481ce4 = (uint)uVar17 * _DAT_0047e1c4 * -7;
  }
  DAT_00482718 = 0;
  DAT_0048271c = 0;
  if ((uVar17 < 2) ||
     (FUN_00413cd0(&DAT_00482718,&DAT_0048271c,&DAT_004826e8,"bglayer_gogo_p2"), DAT_00482718 == 0 ))
  {
    FUN_00413cd0(&DAT_00482718,&DAT_0048271c,&DAT_004826e8,"bglayer_gogo");
  }
  if (DAT_00482718 != 0x200) {
    if (DAT_00482718 != 0) {
      MessageBoxA(HWND_0047de30,
                  "512",NULL,0)
      ;
    }
    DAT_00482718 = 0;
    if (DAT_004826e8 != 0) {
      free((void *)DAT_004826e8);
      DAT_004826e8 = 0;
    }
  }
  DAT_00482050 = 0;
  if (DAT_0047e2c8 < 2) {
LAB_00416fc3:
    FUN_00413cd0(&DAT_00482050,(int *)&DAT_00482054,(int *)&local_610,"bg");
    local_638 = NULL;
  }
  else {
    FUN_00413cd0(&DAT_00482050,(int *)&DAT_00482054,(int *)&local_610,"bg_p2");
    local_638 = (int *)0x1;
    if (DAT_00482050 == 0) goto LAB_00416fc3;
  }
  if (DAT_00482050 == 0x200) {
    piVar23 = &DAT_00482024;
    piVar25 = local_6c8;
    for (iVar19 = 0xb; iVar19 != 0; iVar19 += -1) {
      *piVar25 = *piVar23;
      piVar23 = piVar23 + 1;
      piVar25 = piVar25 + 1;
    }
    if (DAT_00482718 == 0) {
      DAT_00482020 = calloc(1,(int)DAT_00482054 << 0xb);
      FUN_00401000(0,0x200,(int *)&DAT_00482020,0x482024,(int *)&local_610,(int)local_6c8,0,0);
    }
    else {
      DAT_0048202c *= 2;
      DAT_00482020 = calloc(1,(int)DAT_00482054 << 0xc);
      FUN_00401000(0,0x200,(int *)&DAT_00482020,0x482024,(int *)&local_610,(int)local_6c8,0,0);
      FUN_00401000((int)DAT_00482054,DAT_00482050,(int *)&DAT_00482020,0x482024,(int *)&local_610 ,
                   (int)local_6c8,0,0);
      FUN_00401000((int)DAT_00482054,DAT_00482050,(int *)&DAT_00482020,0x482024,&DAT_004826e8,
                   0x4826ec,0,0);
    }
  }
  else {
    if (DAT_00482050 != 0) {
      MessageBoxA(HWND_0047de30,"512",NULL,
                  0);
    }
    DAT_00482050 = 0;
  }
  if (local_610 != NULL) {
    free(local_610);
    local_610 = NULL;
  }
  DAT_00481db0 = 0;
  if ((short)local_638 == 1) {
    pcVar36 = "bg_clear_p2";
  }
  else {
    pcVar36 = "bg_clear";
  }
  FUN_00413cd0(&DAT_00481db0,(int *)&DAT_00481db4,(int *)&local_610,pcVar36);
  iVar19 = DAT_00482050;
  pcVar24 = calloc_exref;
  if ((DAT_00481db0 == DAT_00482050) && (DAT_00481db4 == DAT_00482054)) {
    if (DAT_00481db0 == 0) goto LAB_004172e3;
    if (DAT_00482718 == 0) {
      sVar37 = (int)DAT_00482054 * DAT_00482050 * 4;
      calloc(1,sVar37);
      DAT_00481d80 = calloc(1,sVar37);
      FUN_00401000(0,iVar19,(int *)&DAT_00481d80,0x481d84,(int *)&local_610,0x481d84,0,0);
    }
    else {
      DAT_00481d8c *= 2;
      DAT_00481d80 = calloc(1,(int)DAT_00482054 * DAT_00482050 * 8);
      FUN_00401000(0,iVar19,(int *)&DAT_00481d80,0x481d84,(int *)&local_610,0x481d84,0,0);
      FUN_00401000((int)DAT_00482054,DAT_00482050,(int *)&DAT_00481d80,0x481d84,(int *)&local_610 ,
                   0x481d84,0,0);
      FUN_00401000((int)DAT_00482054,DAT_00482050,(int *)&DAT_00481d80,0x481d84,&DAT_004826e8,
                   0x4826ec,0,0);
    }
    if (local_610 != NULL) {
      free(local_610);
      local_610 = NULL;
    }
  }
  else {
    if (DAT_00481db0 != 0) {
      MessageBoxA(HWND_0047de30,"bg_clearbg",NULL
                  ,0);
    }
LAB_004172e3:
    DAT_00481db0 = 0;
    pcVar24 = calloc_exref;
    if (local_610 != NULL) {
      free(local_610);
      local_610 = NULL;
      pcVar24 = calloc_exref;
    }
  }
  DAT_00481fa8 = 0;
  if ((short)local_638 == 1) {
    pcVar36 = "bg_hot_p2";
  }
  else {
    pcVar36 = "bg_hot";
  }
  FUN_00413cd0(&DAT_00481fa8,(int *)&DAT_00481fac,(int *)&local_610,pcVar36);
  iVar19 = DAT_00482050;
  if ((DAT_00481fa8 == DAT_00481db0) && (DAT_00481fac == DAT_00481db4)) {
    if (DAT_00481fa8 == 0) goto LAB_004174ba;
    if (DAT_00482718 == 0) {
      DAT_00481f78 = (void *)(*pcVar24)(1,(int)DAT_00482054 * DAT_00482050 * 4);
      FUN_00401000(0,iVar19,(int *)&DAT_00481f78,0x481f7c,(int *)&local_610,0x481f7c,0,0);
    }
    else {
      DAT_00481f84 *= 2;
      DAT_00481f78 = (void *)(*pcVar24)(1,(int)DAT_00482054 * DAT_00482050 * 8);
      FUN_00401000(0,iVar19,(int *)&DAT_00481f78,0x481f7c,(int *)&local_610,0x481f7c,0,0);
      FUN_00401000((int)DAT_00482054,DAT_00482050,(int *)&DAT_00481f78,0x481f7c,(int *)&local_610 ,
                   0x481f7c,0,0);
      FUN_00401000((int)DAT_00482054,DAT_00482050,(int *)&DAT_00481f78,0x481f7c,&DAT_004826e8,
                   0x4826ec,0,0);
    }
    if (local_610 != NULL) {
      free(local_610);
      goto LAB_004174d9;
    }
  }
  else {
    if (DAT_00481fa8 != 0) {
      MessageBoxA(HWND_0047de30,"bg_hotbg",NULL,0
                 );
    }
LAB_004174ba:
    DAT_00481fa8 = 0;
    if (local_610 != NULL) {
      free(local_610);
LAB_004174d9:
      local_610 = NULL;
    }
  }
  DAT_004822f0 = 0;
  if ((short)local_638 == 1) {
    pcVar36 = "bg_miss_p2";
  }
  else {
    pcVar36 = "bg_miss";
  }
  FUN_00413cd0(&DAT_004822f0,(int *)&DAT_004822f4,(int *)&local_610,pcVar36);
  iVar19 = DAT_00482050;
  if ((DAT_004822f0 == DAT_00482050) && (DAT_004822f4 == DAT_00482054)) {
    if (DAT_004822f0 == 0) goto LAB_00417667;
    if (DAT_00482718 == 0) {
      DAT_004822c0 = (void *)(*pcVar24)(1,(int)DAT_00482054 * DAT_00482050 * 4);
      FUN_00401000(0,iVar19,(int *)&DAT_004822c0,0x4822c4,(int *)&local_610,0x4822c4,0,0);
    }
    else {
      DAT_004822cc *= 2;
      DAT_004822c0 = (void *)(*pcVar24)(1,(int)DAT_00482054 * DAT_00482050 * 8);
      FUN_00401000(0,iVar19,(int *)&DAT_004822c0,0x4822c4,(int *)&local_610,0x4822c4,0,0);
      FUN_00401000((int)DAT_00482054,DAT_00482050,(int *)&DAT_004822c0,0x4822c4,(int *)&local_610 ,
                   0x4822c4,0,0);
      FUN_00401000((int)DAT_00482054,DAT_00482050,(int *)&DAT_004822c0,0x4822c4,&DAT_004826e8,
                   0x4826ec,0,0);
    }
    if (local_610 != NULL) {
      free(local_610);
      goto LAB_00417686;
    }
  }
  else {
    if (DAT_004822f0 != 0) {
      MessageBoxA(HWND_0047de30,"bg_missbg",NULL,
                  0);
    }
LAB_00417667:
    DAT_004822f0 = 0;
    if (local_610 != NULL) {
      free(local_610);
LAB_00417686:
      local_610 = NULL;
    }
  }
  DAT_00481f00 = 0;
  if ((short)local_638 == 1) {
    pcVar36 = "bg_miss_clear_p2";
  }
  else {
    pcVar36 = "bg_miss_clear";
  }
  FUN_00413cd0(&DAT_00481f00,(int *)&DAT_00481f04,(int *)&local_610,pcVar36);
  iVar19 = DAT_00482050;
  if ((DAT_00481f00 == DAT_00482050) && (DAT_00481f04 == DAT_00482054)) {
    if (DAT_00481f00 != 0) {
      if (DAT_00482718 == 0) {
        DAT_00481ed0 = (*pcVar24)(1,(int)DAT_00482054 * DAT_00482050 * 4);
        FUN_00401000(0,iVar19,&DAT_00481ed0,0x481ed4,(int *)&local_610,0x481ed4,0,0);
      }
      else {
        DAT_00481edc *= 2;
        DAT_00481ed0 = (*pcVar24)(1,(int)DAT_00482054 * DAT_00482050 * 8);
        FUN_00401000(0,iVar19,&DAT_00481ed0,0x481ed4,(int *)&local_610,0x481ed4,0,0);
        FUN_00401000((int)DAT_00482054,DAT_00482050,&DAT_00481ed0,0x481ed4,(int *)&local_610,
                     0x481ed4,0,0);
        FUN_00401000((int)DAT_00482054,DAT_00482050,&DAT_00481ed0,0x481ed4,&DAT_004826e8,0x4826ec ,0,
                     0);
      }
      goto joined_r0x0041781c;
    }
  }
  else if (DAT_00481f00 != 0) {
    MessageBoxA(HWND_0047de30,"bg_miss_clearbg",
                NULL,0);
  }
  DAT_00481f00 = 0;
joined_r0x0041781c:
  if (local_610 != NULL) {
    free(local_610);
    local_610 = NULL;
  }
  puVar4 = DAT_00482054;
  iVar19 = 0;
  _DAT_0047db58 = 0;
  DAT_0047db5c = (int)DAT_0047ac78 >> 1 & ((int)DAT_0047ac78 >> 1 < 0) - 1;
  if (DAT_0047e2c8 != 0) {
    piVar23 = (int *)&DAT_0047e1c0;
    do {
      iVar32 = (int)(&DAT_0047db7c)[iVar19] - (piVar23[1] >> 1);
      piVar23[-3] = iVar32;
      bVar26 = DAT_0047f114 != 2;
      piVar23[-2] = piVar23[-4] + *piVar23;
      piVar23[-1] = iVar32 + piVar23[1];
      if ((bVar26) && ((int)puVar4 < (int)((&DAT_0047db7c)[iVar19] + 0x14))) {
        (&DAT_0047db7c)[iVar19] = (ushort *)0x38;
      }
      iVar19 += 1;
      piVar23 = piVar23 + 8;
    } while (iVar19 < (int)(uint)DAT_0047e2c8);
  }
  iVar19 = DAT_0047ac74;
  DAT_0047ac78 = (ushort *)0x180;
  if ((((uint)puVar4 & 0xfffffffe) == 0) || (DAT_0047e744 == 0)) {
    iVar32 = 0;
  }
  else {
    iVar32 = 1;
  }
  if (0x180 < (int)(iVar32 + DAT_0047db5c)) {
    puVar4 = (ushort *)((0x180 - DAT_0047db5c) * 2);
    DAT_00482054 = puVar4;
  }
  if ((DAT_0047e744 == 0) || (DAT_0047f114 != 2)) {
    local_61c = (ushort *)(DAT_0047e744 * 0x20);
    DAT_0047ac78 = local_61c + 0x18;
    DAT_0047db5c = (int)DAT_0047ac78 / 2;
    if ((int)puVar4 < (int)(DAT_0047db7c + 0xc)) {
      DAT_0047db7c = puVar4 + -0xc;
    }
    if (DAT_00482050 != 0) {
      iVar32 = 0;
      DAT_00482054 = (ushort *)0x50;
      DAT_0048271c = 0x50;
      sVar37 = DAT_0047ac74 * 4;
      local_634 = 0;
      do {
        memcpy((void *)((int)DAT_00482020 + local_634),
               (void *)((int)DAT_00482020 + ((int)DAT_0047db7c + iVar32 + -0x38) * iVar19 * 4),
               sVar37);
        if (DAT_00481db0 != 0) {
          memcpy((void *)(local_634 + (int)DAT_00481d80),
                 (void *)((int)DAT_00481d80 + ((int)DAT_0047db7c + iVar32 + -0x38) * iVar19 * 4),
                 sVar37);
        }
        if (DAT_00481fa8 != 0) {
          memcpy((void *)(local_634 + (int)DAT_00481f78),
                 (void *)((int)DAT_00481f78 + ((int)DAT_0047db7c + iVar32 + -0x38) * iVar19 * 4),
                 sVar37);
        }
        if (DAT_004822f0 != 0) {
          memcpy((void *)(local_634 + (int)DAT_004822c0),
                 (void *)((int)DAT_004822c0 + ((int)DAT_0047db7c + iVar32 + -0x38) * iVar19 * 4),
                 sVar37);
        }
        if (DAT_00481f00 != 0) {
          memcpy((void *)(local_634 + DAT_00481ed0),
                 (void *)(DAT_00481ed0 + ((int)DAT_0047db7c + iVar32 + -0x38) * iVar19 * 4),sVar37 );
        }
        if (DAT_00482718 != 0) {
          memcpy((void *)((int)DAT_00482020 + ((int)DAT_00482054 + iVar32) * iVar19 * 4),
                 (void *)((int)DAT_00482020 +
                         ((int)DAT_0047db7c + iVar32 + DAT_0048271c + -0x38) * iVar19 * 4),sVar37) ;
          if (DAT_00481db0 != 0) {
            memcpy((void *)((int)DAT_00481d80 + ((int)DAT_00482054 + iVar32) * iVar19 * 4),
                   (void *)((int)DAT_00481d80 +
                           ((int)DAT_0047db7c + iVar32 + DAT_0048271c + -0x38) * iVar19 * 4),sVar3 7)
            ;
          }
          if (DAT_00481fa8 != 0) {
            memcpy((void *)((int)DAT_00481f78 + ((int)DAT_00482054 + iVar32) * iVar19 * 4),
                   (void *)((int)DAT_00481f78 +
                           ((int)DAT_0047db7c + iVar32 + DAT_0048271c + -0x38) * iVar19 * 4),sVar3 7)
            ;
          }
          if (DAT_004822f0 != 0) {
            memcpy((void *)((int)DAT_004822c0 + ((int)DAT_00482054 + iVar32) * iVar19 * 4),
                   (void *)((int)DAT_004822c0 +
                           ((int)DAT_0047db7c + iVar32 + DAT_0048271c + -0x38) * iVar19 * 4),sVar3 7)
            ;
          }
          if (DAT_00481f00 != 0) {
            memcpy((void *)(DAT_00481ed0 + ((int)DAT_00482054 + iVar32) * iVar19 * 4),
                   (void *)(DAT_00481ed0 +
                           ((int)DAT_0047db7c + iVar32 + DAT_0048271c + -0x38) * iVar19 * 4),sVar3 7)
            ;
          }
        }
        local_634 += sVar37;
        iVar32 += 1;
      } while (iVar32 < (int)DAT_00482054);
    }
    DAT_0047db7c = local_61c + 0xc;
    _DAT_0047e1b4 = (int)DAT_0047db7c - (_DAT_0047e1c4 >> 1);
    puVar4 = DAT_00482054;
  }
  DAT_0047db60 = ppvBits_0047c2bc +
                 (((DAT_0047db5c - ((int)puVar4 >> 1)) + -0x20) * DAT_0047e744 + 0x20) * iVar19;
  PatBlt(HDC_0047b6c0,0,0,iVar19,(int)DAT_0047ac78,0x42);
  if (DAT_00482050 != 0) {
    if (DAT_0047e744 == 1) {
      ppvVar10 = ppvBits_0047c2bc + (DAT_0047db5c - ((int)DAT_00482054 >> 1)) * DAT_0047ac74;
      pvVar11 = DAT_00482020;
      puVar4 = DAT_00482054;
    }
    else {
      pvVar11 = (void *)(DAT_0047ac74 * 0x80 + (int)DAT_00482020);
      ppvVar10 = ppvBits_0047c2bc;
      puVar4 = DAT_0047ac78;
    }
    memcpy(ppvVar10,pvVar11,(int)puVar4 * DAT_0047ac74 * 4);
  }
  local_63c = 0;
  if (DAT_0047e2c8 != 0) {
    do {
      if ((short)local_63c == 0) {
        DAT_0047e2bc = &DAT_00482838;
        DAT_0047e2c0 = &DAT_0048283c;
      }
      else {
        DAT_0047e2bc = &DAT_00482870;
        DAT_0047e2c0 = &DAT_00482874;
      }
      uVar6 = local_63c & 0xffff;
      sVar2 = (&DAT_0047cf56)[uVar6 * 0x1e0];
      if (sVar2 == 0) {
        pcVar36 = "coursesymbol_easy";
      }
      else if (sVar2 == 1) {
        pcVar36 = "coursesymbol_normal";
      }
      else if (sVar2 == 2) {
        pcVar36 = "coursesymbol_hard";
      }
      else {
        pcVar36 = "coursesymbol_oni";
      }
      piVar23 = &DAT_00482868 + uVar6 * 0xe;
      FUN_00413cd0(piVar23,(int *)(&DAT_0048286c + uVar6 * 0x38),DAT_0047e2bc,pcVar36);
      *piVar23 = *piVar23 / 2;
      local_63c += 1;
    } while ((ushort)local_63c < DAT_0047e2c8);
  }
  FUN_00413cd0(&DAT_004828d8,&DAT_004828dc,&DAT_004828a8,"playerchar_p1");
  DAT_004828d8 = (int)(DAT_004828d8 + (DAT_004828d8 >> 0x1f & 3U)) >> 2;
  DAT_004828dc /= 5;
  FUN_00413cd0(&DAT_00482910,&DAT_00482914,&DAT_004828e0,"playerchar_p2");
  DAT_00482910 = (int)(DAT_00482910 + (DAT_00482910 >> 0x1f & 3U)) >> 2;
  DAT_00482914 /= 5;
  FUN_00413cd0(&DAT_00482168,&DAT_0048216c,&DAT_00482138,"playercharballoon_p1");
  DAT_00482168 /= 3;
  FUN_00413cd0(&DAT_004821a0,(int *)&DAT_004821a4,&DAT_00482170,"playercharballoon_p2");
  DAT_004821a0 /= 3;
  FUN_00413cd0(&DAT_00482558,(int *)&DAT_0048255c,(int *)&DAT_00482528,"playercharpotato");
  DAT_00482558 /= 3;
  FUN_00413cd0(&DAT_004824e8,&DAT_004824ec,&DAT_004824b8,"playercharpotato_p1");
  DAT_004824e8 /= 3;
  FUN_00413cd0(&DAT_00482520,(int *)&DAT_00482524,&DAT_004824f0,"playercharpotato_p2");
  DAT_00482520 /= 3;
  DAT_0047bca8 = 0;
  local_628 = 0;
LAB_00417ef9:
  do {
    iVar32 = FUN_00438d60((void *)0x200,local_20c);
    local_624 = 0;
    strcat_s((char *)local_20c,0x200,"\\img\\dancer");
    DVar35 = GetFileAttributesA((LPCSTR)local_20c);
    fopen_s(&local_698,(char *)local_20c,"r");
    iVar19 = local_628;
    if (local_698 == NULL) {
      if (((DVar35 & 0x10) == 0) || (DVar35 == 0xffffffff)) {
        switch(local_628) {
        case 0:
          pcVar36 = "dancer_1";
          break;
        case 1:
          pcVar36 = "dancer_2";
          break;
        case 2:
          pcVar36 = "dancer_3";
          break;
        case 3:
          pcVar36 = "dancer_4";
          break;
        case 4:
          pcVar36 = "dancer_5";
          break;
        default:
          goto switchD_004181ec_default;
        }
        FUN_00413cd0(&local_624,&local_620,(int *)&local_614,pcVar36);
switchD_004181ec_default:
        if ((local_624 != 0) ||
           (FUN_00413cd0(&local_624,&local_620,(int *)&local_614,"dancer"), iVar33 = local_624,
           local_624 != 0)) {
          iVar32 = local_620;
          iVar33 = local_624;
          iVar19 = local_628;
          piVar23 = local_694;
          piVar25 = (int *)(&DAT_0047b588 + local_628 * 0x2c);
          for (iVar34 = 0xb; iVar34 != 0; iVar34 += -1) {
            *piVar25 = *piVar23;
            piVar23 = piVar23 + 1;
            piVar25 = piVar25 + 1;
          }
          if (local_628 == 4) {
            DAT_0047d64c = (int)calloc(1,(local_620 * local_624 + DAT_0047bcb8) * 4);
          }
          else {
            *(int *)(&DAT_0047bcac + local_628 * 4) =
                 local_620 * local_624 + (&DAT_0047bca8)[local_628];
          }
          (&DAT_0047ce54)[iVar19 * 2] = iVar33 / DAT_0047df3c;
          (&DAT_0047ce58)[iVar19 * 2] = iVar32 / 3;
          iVar32 = 2;
          iVar19 = local_628;
        }
        if (local_614 != NULL) {
          free(local_614);
          local_614 = NULL;
          iVar33 = local_624;
        }
        if (((iVar19 == 0) && (iVar33 == 0)) && (iVar32 == 2)) {
          DAT_0047ce54 = 0;
          goto LAB_00418ac1;
        }
      }
      else {
        switch(local_628) {
        case 0:
          FUN_00413cd0(&local_624,&local_620,(int *)&local_614,"dancer\\dancer_1n1");
          pcVar36 = "dancer\\dancer_1n";
          break;
        case 1:
          FUN_00413cd0(&local_624,&local_620,(int *)&local_614,"dancer\\dancer_2n1");
          pcVar36 = "dancer\\dancer_2n";
          break;
        case 2:
          FUN_00413cd0(&local_624,&local_620,(int *)&local_614,"dancer\\dancer_3n1");
          pcVar36 = "dancer\\dancer_3n";
          break;
        case 3:
          FUN_00413cd0(&local_624,&local_620,(int *)&local_614,"dancer\\dancer_4n1");
          pcVar36 = "dancer\\dancer_4n";
          break;
        case 4:
          FUN_00413cd0(&local_624,&local_620,(int *)&local_614,"dancer\\dancer_5n1");
          pcVar36 = "dancer\\dancer_5n";
          break;
        default:
          goto switchD_00417f8d_default;
        }
        strcpy_s((char *)local_20c,0x200,pcVar36);
switchD_00417f8d_default:
        if (local_624 == 0) {
          FUN_00413cd0(&local_624,&local_620,(int *)&local_614,"dancer\\dancer_n1");
          strcpy_s((char *)local_20c,0x200,"dancer\\dancer_n1");
          iVar19 = local_624;
          if (local_624 != 0) goto LAB_004180fb;
        }
        else {
LAB_004180fb:
          iVar34 = local_620;
          iVar19 = local_624;
          iVar33 = local_628;
          iVar32 = DAT_0047df3c;
          iVar16 = local_628 * 0x2c;
          piVar23 = local_694;
          piVar25 = (int *)(&DAT_0047b588 + iVar16);
          for (iVar13 = 0xb; iVar13 != 0; iVar13 += -1) {
            *piVar25 = *piVar23;
            piVar23 = piVar23 + 1;
            piVar25 = piVar25 + 1;
          }
          *(int *)(&DAT_0047b58c + iVar16) = *(int *)(&DAT_0047b58c + iVar16) * iVar32;
          iVar32 = iVar32 * local_620 * local_624;
          *(int *)(&DAT_0047b590 + iVar16) = *(int *)(&DAT_0047b590 + iVar16) * 3;
          if (local_628 == 4) {
            DAT_0047d64c = (int)calloc(1,(DAT_0047bcb8 + iVar32 * 3) * 4);
          }
          else {
            *(int *)(&DAT_0047bcac + local_628 * 4) = iVar32 * 3 + (&DAT_0047bca8)[local_628];
          }
          (&DAT_0047ce54)[iVar33 * 2] = iVar19;
          (&DAT_0047ce58)[iVar33 * 2] = iVar34;
          iVar32 = 2;
        }
        if (local_614 != NULL) {
          free(local_614);
          local_614 = NULL;
          iVar19 = local_624;
        }
        if (((local_628 == 0) && (iVar19 == 0)) && (iVar32 == 2)) {
          DAT_0047ce54 = 0;
          goto LAB_00418ac1;
        }
      }
      if (iVar32 + 1 < 3) goto LAB_00417ef9;
    }
    else {
      DAT_0047ce54 = 0;
      fclose(local_698);
    }
    if (DAT_0047ce54 == 0) goto LAB_00418ac1;
    local_628 += 1;
  } while (local_628 < 5);
  local_628 = 0;
  iVar19 = local_628;
  do {
    iVar32 = FUN_00438d60((void *)0x200,local_20c);
    strcat_s((char *)local_20c,0x200,"\\img\\dancer");
    DVar35 = GetFileAttributesA((LPCSTR)local_20c);
    if (((DVar35 & 0x10) == 0) || (DVar35 == 0xffffffff)) {
      local_624 = 0;
      switch(iVar19) {
      case 0:
        pcVar36 = "dancer_1";
        break;
      case 1:
        pcVar36 = "dancer_2";
        break;
      case 2:
        pcVar36 = "dancer_3";
        break;
      case 3:
        pcVar36 = "dancer_4";
        break;
      case 4:
        pcVar36 = "dancer_5";
        break;
      default:
        goto switchD_004189b7_default;
      }
      FUN_00413cd0(&local_624,&local_620,(int *)&local_614,pcVar36);
      if (local_624 != 0) {
LAB_00418a4f:
        pvVar11 = (void *)(DAT_0047d64c + (&DAT_0047bca8)[iVar19] * 4);
        (&DAT_0047ce40)[iVar19] = pvVar11;
        memcpy(pvVar11,local_614,local_620 * local_624 * 4);
        goto LAB_00418a84;
      }
switchD_004189b7_default:
      FUN_00413cd0(&local_624,&local_620,(int *)&local_614,"dancer");
      if (local_624 != 0) goto LAB_00418a4f;
    }
    else {
      switch(iVar19) {
      case 0:
        FUN_00413cd0(&local_624,&local_620,(int *)&local_614,"dancer\\dancer_1n1");
        pcVar36 = "dancer\\dancer_1";
        break;
      case 1:
        FUN_00413cd0(&local_624,&local_620,(int *)&local_614,"dancer\\dancer_2n1");
        pcVar36 = "dancer\\dancer_2";
        break;
      case 2:
        FUN_00413cd0(&local_624,&local_620,(int *)&local_614,"dancer\\dancer_3n1");
        pcVar36 = "dancer\\dancer_3";
        break;
      case 3:
        FUN_00413cd0(&local_624,&local_620,(int *)&local_614,"dancer\\dancer_4n1");
        pcVar36 = "dancer\\dancer_4";
        break;
      case 4:
        FUN_00413cd0(&local_624,&local_620,(int *)&local_614,"dancer\\dancer_5n1");
        pcVar36 = "dancer\\dancer_5";
        break;
      default:
        goto switchD_004183f9_default;
      }
      strcpy_s((char *)local_20c,0x200,pcVar36);
switchD_004183f9_default:
      if (local_624 == 0) {
        FUN_00413cd0(&local_624,&local_620,(int *)&local_614,"dancer\\dancer_n1");
        strcpy_s((char *)local_20c,0x200,"dancer\\dancer_");
        if (local_624 == 0) goto LAB_00418a89;
      }
      local_618 = NULL;
      if (0 < DAT_0047df3c) {
        do {
          local_638 = (int *)((int)local_618 + 1);
          sprintf_s(local_60c,0x200,"n%hu",local_638);
          strcpy_s(local_40c,0x200,(char *)local_20c);
          strcat_s(local_40c,0x200,local_60c);
          FUN_00413cd0(&local_644,NULL,(int *)&local_614,local_40c);
          iVar32 = local_620;
          iVar19 = local_624;
          if ((local_644 == 0) || (local_644 < local_624)) {
            local_614 = calloc(1,local_620 * local_624 * 4);
          }
          iVar33 = 0;
          if (0 < iVar32) {
            piVar23 = &DAT_0047bca8 + local_628;
            local_660 = &DAT_0047ce40 + local_628;
            do {
              pvVar11 = (void *)(DAT_0047d64c +
                                ((int)(DAT_0047df3c * iVar33 + (int)local_618) * iVar19 + *piVar23 )
                                * 4);
              *local_660 = pvVar11;
              memcpy(pvVar11,(void *)((int)local_614 + iVar33 * iVar19 * 4),iVar19 * 4);
              iVar33 += 1;
              iVar19 = local_624;
            } while (iVar33 < local_620);
          }
          if (local_614 != NULL) {
            free(local_614);
            local_614 = NULL;
          }
          sprintf_s(local_60c,0x200,"a%hu",local_638);
          strcpy_s(local_40c,0x200,(char *)local_20c);
          strcat_s(local_40c,0x200,local_60c);
          FUN_00413cd0(&local_644,NULL,(int *)&local_614,local_40c);
          iVar32 = local_620;
          iVar19 = local_624;
          if ((local_644 == 0) || (local_644 < local_624)) {
            local_614 = calloc(1,local_620 * local_624 * 4);
          }
          iVar33 = 0;
          if (0 < iVar32) {
            local_61c = (ushort *)(&DAT_0047bca8 + local_628);
            local_660 = &DAT_0047ce40 + local_628;
            do {
              pvVar11 = (void *)(DAT_0047d64c +
                                ((int)((iVar33 + iVar32) * DAT_0047df3c + (int)local_618) * iVar19  +
                                *(int *)local_61c) * 4);
              *local_660 = pvVar11;
              memcpy(pvVar11,(void *)((int)local_614 + iVar33 * iVar19 * 4),iVar19 * 4);
              iVar33 += 1;
              iVar19 = local_624;
              iVar32 = local_620;
            } while (iVar33 < local_620);
          }
          if (local_614 != NULL) {
            free(local_614);
            local_614 = NULL;
          }
          sprintf_s(local_60c,0x200,"d%hu",local_638);
          strcpy_s(local_40c,0x200,(char *)local_20c);
          strcat_s(local_40c,0x200,local_60c);
          FUN_00413cd0(&local_644,NULL,(int *)&local_614,local_40c);
          iVar32 = local_620;
          iVar19 = local_624;
          if ((local_644 == 0) || (local_644 < local_624)) {
            local_614 = calloc(1,local_620 * local_624 * 4);
          }
          iVar33 = 0;
          if (0 < iVar32) {
            do {
              pvVar11 = (void *)(DAT_0047d64c +
                                ((int)((iVar33 + iVar32 * 2) * DAT_0047df3c + (int)local_618) *
                                 iVar19 + (&DAT_0047bca8)[local_628]) * 4);
              (&DAT_0047ce40)[local_628] = pvVar11;
              memcpy(pvVar11,(void *)((int)local_614 + iVar33 * iVar19 * 4),iVar19 * 4);
              iVar33 += 1;
              iVar19 = local_624;
              iVar32 = local_620;
            } while (iVar33 < local_620);
          }
          if (local_614 != NULL) {
            free(local_614);
            local_614 = NULL;
          }
          local_618 = local_638;
          iVar19 = local_628;
        } while ((int)local_638 < DAT_0047df3c);
      }
      (&DAT_0047ce40)[iVar19] = DAT_0047d64c + (&DAT_0047bca8)[iVar19] * 4;
LAB_00418a84:
      iVar32 = 2;
    }
LAB_00418a89:
    if (local_614 != NULL) {
      free(local_614);
      local_614 = NULL;
    }
    if ((2 < iVar32 + 1) && (iVar19 += 1, local_628 = iVar19, 4 < iVar19)) {
LAB_00418ac1:
      FUN_00413cd0(&DAT_00482980,&DAT_00482984,&DAT_00482950,"mob");
      DAT_00482984 /= DAT_0047df44;
      FUN_00413cd0(&DAT_004820f8,&DAT_004820fc,&DAT_004820c8,"clearmark");
      iVar32 = _DAT_0047e1c4;
      iVar19 = _DAT_0047e1c0;
      DAT_004820f8 /= 5;
      iVar33 = 1;
      if (DAT_00481db0 != 0) {
        iVar33 = 2;
      }
      if (DAT_00481fa8 != 0) {
        iVar33 = 3;
      }
      if (DAT_004822f0 != 0) {
        iVar33 += 1;
      }
      uVar6 = (uint)DAT_0047e2c8;
      DAT_0047cf74 = (ushort)iVar33;
      if (uVar6 == 0) {
        uVar6 = 1;
      }
      _DAT_0047d334 = DAT_0047cf74;
      DAT_0047e2c8 = (ushort)uVar6;
      DAT_0047c720 = (void **)calloc(uVar6 * iVar33 * 8,_DAT_0047e1c4 * _DAT_0047e1c0 * 4);
      _DAT_0047ce9c = 0x28;
      _DAT_0047cea0 = iVar19;
      DAT_0047cea4 = iVar32;
      _DAT_0047cea8 = 0x200001;
      _DAT_0047ceac = 0;
      local_640 = NULL;
      local_648 = 0;
      local_63c = 0;
      if ((ushort)uVar6 != 0) {
        fVar27 = (float10)255.0;
        do {
          local_660 = (undefined4 *)(local_63c & 0xffff);
          uVar6 = (uint)(&DAT_0047cf74)[(int)local_660 * 0x1e0];
          local_644 = 0;
          local_61c = &DAT_0047cf74 + (int)local_660 * 0x1e0;
          if (uVar6 != 0) {
            do {
              puVar20 = local_660;
              if (((DAT_004822f0 != 0) && (local_644 != uVar6 - 1)) &&
                 (((DAT_00481db0 == 0 && (local_644 == 1)) ||
                  ((DAT_00481fa8 == 0 && (local_644 == 2)))))) break;
              if (DAT_00482050 == 0) {
                if (0x180 < (int)DAT_00482054) {
                  DAT_00482054 = (ushort *)0x180;
                }
                ppvVar10 = ppvBits_0047c2bc;
                puVar4 = DAT_0047ac78;
                if (DAT_0047e744 == 1) {
                  ppvVar10 = ppvBits_0047c2bc +
                             (DAT_0047db5c - ((int)DAT_00482054 >> 1)) * DAT_0047ac74;
                  puVar4 = DAT_00482054;
                }
                memset(ppvVar10,0,(int)puVar4 * DAT_0047ac74 * 4);
LAB_00418e8a:
                fVar27 = (float10)255.0;
              }
              else {
                if (0x180 < (int)DAT_00482054) {
                  DAT_00482054 = (ushort *)0x180;
                }
                if ((local_644 == uVar6 - 1) && (DAT_004822f0 != 0)) {
                  if (DAT_0047e744 == 1) {
                    sVar37 = (int)DAT_00482054 * DAT_0047ac74 * 4;
                    pvVar11 = DAT_004822c0;
LAB_00418cd0:
                    memcpy(ppvBits_0047c2bc +
                           (DAT_0047db5c - ((int)DAT_00482054 >> 1)) * DAT_0047ac74,pvVar11,sVar37 );
                  }
                  else {
                    memcpy(ppvBits_0047c2bc,(void *)(DAT_0047ac74 * 0x80 + (int)DAT_004822c0),
                           (int)DAT_0047ac78 * DAT_0047ac74 * 4);
                  }
                  goto LAB_00418e8a;
                }
                if (local_644 == 0) {
                  if (DAT_0047e744 == 1) {
                    sVar37 = (int)DAT_00482054 * DAT_0047ac74 * 4;
                    pvVar11 = DAT_00482020;
                    goto LAB_00418cd0;
                  }
                  memcpy(ppvBits_0047c2bc,(void *)(DAT_0047ac74 * 0x80 + (int)DAT_00482020),
                         (int)DAT_0047ac78 * DAT_0047ac74 * 4);
                  goto LAB_00418e8a;
                }
                if (local_644 == 1) {
                  if (DAT_0047e744 == 1) {
                    sVar37 = (int)DAT_00482054 * DAT_0047ac74 * 4;
                    pvVar11 = DAT_00481d80;
                    goto LAB_00418cd0;
                  }
                  memcpy(ppvBits_0047c2bc,(void *)(DAT_0047ac74 * 0x80 + (int)DAT_00481d80),
                         (int)DAT_0047ac78 * DAT_0047ac74 * 4);
                  goto LAB_00418e8a;
                }
                if (local_644 == 2) {
                  if (DAT_0047e744 == 1) {
                    sVar37 = (int)DAT_00482054 * DAT_0047ac74 * 4;
                    pvVar11 = DAT_00481f78;
                    goto LAB_00418cd0;
                  }
                  memcpy(ppvBits_0047c2bc,(void *)(DAT_0047ac74 * 0x80 + (int)DAT_00481f78),
                         (int)DAT_0047ac78 * DAT_0047ac74 * 4);
                  goto LAB_00418e8a;
                }
              }
              local_628 = 0;
              local_634 = (int)puVar20 * 0x20;
              local_638 = (int *)(&DAT_0047e1b0 + (int)puVar20 * 0x20);
              do {
                iVar19 = local_634;
                switch(local_628) {
                case 0:
                  pcVar36 = "sfieldbg";
                  break;
                case 1:
                case 5:
                  pcVar36 = "sfieldflash_red";
                  break;
                case 2:
                case 6:
                  pcVar36 = "sfieldflash_blue";
                  break;
                case 3:
                case 7:
                  pcVar36 = "sfieldflash_yellow";
                  break;
                case 4:
                  pcVar36 = "sfieldbg_gogo";
                  break;
                default:
                  goto switchD_00418ec3_default;
                }
                FUN_00413cd0(&local_668,&local_664,(int *)&local_640,pcVar36);
                fVar27 = (float10)255.0;
switchD_00418ec3_default:
                if (((local_668 != 0) && (local_668 != 0x200)) && (local_648 == 0)) {
                  MessageBoxA(HWND_0047de30,
                              "512"
                              ,NULL,0);
                  fVar27 = (float10)255.0;
                  local_648 = 1;
                }
                iVar19 = *(int *)(&DAT_0047e1c4 + iVar19);
                if (iVar19 < local_664) {
                  local_664 = iVar19;
                }
                uVar6 = (iVar19 >> 1) - (local_664 >> 1);
                local_69c = ((int)uVar6 < 0) - 1 & uVar6;
                piVar23 = local_638;
                piVar25 = local_6e8;
                for (iVar32 = 8; iVar33 = local_628, iVar32 != 0; iVar32 += -1) {
                  *piVar25 = *piVar23;
                  piVar23 = piVar23 + 1;
                  piVar25 = piVar25 + 1;
                }
                if (DAT_0047e580 == 1) {
                  iVar34 = DAT_0047ac74 - *local_638;
                  iVar32 = *(int *)(&DAT_0047e1c8 + local_634);
                  *local_638 = 0;
                  *(int *)(&DAT_0047e1c8 + local_634) = iVar34 - iVar32;
                }
                iVar32 = 0;
                if (0 < iVar19) {
                  do {
                    iVar19 = 0;
                    if (0 < *(int *)(&DAT_0047e1c0 + local_634)) {
                      local_62c = 0xff;
                      do {
                        iVar16 = (uint)DAT_0047cf74 * (int)local_660 + local_644;
                        iVar13 = *(int *)(&DAT_0047e1c0 + local_634);
                        iVar34 = *(int *)(&DAT_0047e1c4 + local_634);
                        local_630 = (local_628 + iVar16 * 8) * iVar13 * iVar34;
                        if (local_628 == 0) {
                          iVar34 = DAT_0047ac74 + -1;
                          if (*local_638 + iVar19 <= DAT_0047ac74 + -1) {
                            iVar34 = *local_638 + iVar19;
                          }
                          iVar16 = *(int *)(&DAT_0047e1b4 + local_634) + iVar32;
                          if ((int)DAT_0047ac78 + -1 < *(int *)(&DAT_0047e1b4 + local_634) + iVar3 2)
                          {
                            iVar16 = (int)DAT_0047ac78 + -1;
                          }
                          iVar34 = iVar16 * DAT_0047ac74 + iVar34;
                          ppvVar10 = ppvBits_0047c2bc;
                        }
                        else {
                          if (local_628 < 5) {
                            iVar34 = iVar16 * iVar34 * 8;
                          }
                          else {
                            iVar34 = (iVar16 * 8 + 4) * iVar34;
                          }
                          iVar34 = (iVar32 + iVar34) * iVar13 + iVar19;
                          ppvVar10 = DAT_0047c720;
                        }
                        local_65c = ppvVar10[iVar34];
                        if (local_668 == 0x200) {
                          uVar6 = local_69c & 0xffff;
                          if ((iVar32 < (int)uVar6) || ((int)(local_664 + uVar6) <= iVar32)) {
                            fVar28 = (float10)0;
                          }
                          else {
                            iVar34 = (iVar32 - uVar6) * 0x200;
                            if (DAT_0047e580 == 0) {
                              local_658 = *(uint *)((int)local_640 + (iVar34 + iVar19) * 4);
                            }
                            else {
                              local_658 = *(uint *)((int)local_640 +
                                                   ((iVar34 - iVar19) + iVar13) * 4);
                            }
                            fVar28 = (float10)(local_658 >> 0x18);
                            if (false) {
                              fVar28 = fVar28 + (float10)4294967296.0;
                            }
                            fVar28 = fVar28 / fVar27;
                          }
                          goto switchD_004193fb_default;
                        }
                        uVar6 = local_62c;
                        if (DAT_0047e580 != 0) {
                          uVar6 = (iVar19 - iVar13) + 0xff;
                        }
                        fVar28 = (float10)(int)(((int)uVar6 < 0) - 1 & uVar6) / fVar27;
                        switch(local_628) {
                        case 0:
                          local_658 = CONCAT13(local_658._3_1_,0x141400);
                          local_658 = CONCAT31(local_658._1_3_,0x14);
                          fVar28 = (float10)1;
                          goto LAB_00419158;
                        case 1:
                        case 5:
                          local_658 = CONCAT13(local_658._3_1_,0xfa1400);
                          local_658 = CONCAT31(local_658._1_3_,0x14);
                          break;
                        case 2:
                        case 6:
                          local_658 = CONCAT13(local_658._3_1_,0x141400);
                          local_658 = CONCAT31(local_658._1_3_,0xfa);
                          break;
                        case 3:
                        case 7:
                          local_658 = CONCAT13(local_658._3_1_,0xfac800);
                          local_658 = CONCAT31(local_658._1_3_,0x14);
                          break;
                        case 4:
                          uVar6 = 0xff - iVar19 / 2;
                          local_658 = CONCAT13(local_658._3_1_,0x963200);
                          local_658 = CONCAT31(local_658._1_3_,0x96);
                          fVar28 = (float10)(int)(((int)uVar6 < 0) - 1 & uVar6) / fVar27;
                          goto LAB_00419158;
                        }
switchD_004193fb_default:
                        if (4 < local_628) {
                          fVar28 = fVar28 * (float10)0.5;
                        }
LAB_00419158:
                        fVar29 = (float10)1 - fVar28;
                        local_62c = local_62c - 1;
                        iVar16 = iVar13 * iVar32 + local_630 + iVar19;
                        iVar19 += 1;
                        local_654._0_4_ =
                             (int)(longlong)
                                  ROUND((float10)local_658._2_1_ * fVar28 +
                                        (float10)((uint)local_65c >> 0x10 & 0xff) * fVar29);
                        iVar34 = (int)local_654;
                        local_654._0_4_ = (int)(longlong)ROUND(fVar28 * fVar27);
                        iVar13 = (int)local_654 * 0x100;
                        local_654._0_4_ =
                             (int)(longlong)
                                  ROUND((float10)(local_658 >> 8 & 0xff) * fVar28 +
                                        (float10)((uint)local_65c >> 8 & 0xff) * fVar29);
                        iVar34 = (iVar34 + iVar13) * 0x100 + (int)local_654;
                        local_618 = (int *)CONCAT22(in_FPUControlWord,(ushort)local_658._2_1_);
                        local_654 = (longlong)
                                    ROUND((float10)((uint)local_65c & 0xff) * fVar29 +
                                          (float10)(local_658 & 0xff) * fVar28);
                        lVar3 = local_654;
                        DAT_0047c720[iVar16] = (void *)(iVar34 * 0x100 + (int)local_654);
                        local_654 = lVar3;
                      } while (iVar19 < *(int *)(&DAT_0047e1c0 + local_634));
                    }
                    iVar32 += 1;
                  } while (iVar32 < *(int *)(&DAT_0047e1c4 + local_634));
                }
                if ((3 < local_628) && (DAT_00482718 != 0)) {
                  iVar19 = *(int *)(&DAT_0047e1c0 + local_634);
                  if (iVar19 < local_6c8[1]) {
                    local_6c8[1] = iVar19;
                  }
                  iVar32 = *(int *)(&DAT_0047e1c4 + local_634);
                  local_6c8[2] = (uint)DAT_0047e2c8 * (uint)*local_61c * iVar32 * -8;
                  if (DAT_0047e744 == 1) {
                    puVar4 = (ushort *)((int)(&DAT_0047db7c)[(int)local_660] - (iVar32 >> 1));
                    iVar34 = *local_638;
                  }
                  else {
                    puVar4 = (&DAT_0047db7c)[(int)local_660] + -0xc;
                    iVar34 = *local_638;
                  }
                  FUN_00401000((local_628 + ((uint)DAT_0047cf74 * (int)local_660 + local_644) * 8)  *
                               iVar32,iVar19,(int *)&DAT_0047c720,(int)local_6c8,&DAT_004826e8,
                               0x4826ec,iVar34,(int)puVar4);
                  fVar27 = extraout_ST0;
                }
                piVar23 = local_6e8;
                piVar25 = local_638;
                for (iVar19 = 8; iVar19 != 0; iVar19 += -1) {
                  *piVar25 = *piVar23;
                  piVar23 = piVar23 + 1;
                  piVar25 = piVar25 + 1;
                }
                if (local_640 != NULL) {
                  free(local_640);
                  fVar27 = (float10)255.0;
                  local_640 = NULL;
                }
                local_628 = iVar33 + 1;
              } while (iVar33 + 1 < 8);
              uVar6 = (uint)*local_61c;
              local_644 += 1;
            } while (local_644 < (int)uVar6);
          }
          local_63c += 1;
        } while ((ushort)local_63c < DAT_0047e2c8);
      }
      if (DAT_0047e634 == 1) {
        DAT_0047cea4 = (uint)DAT_0047e2c8 * (uint)DAT_0047cf74 * DAT_0047cea4 * -8;
      }
      FUN_00413cd0(&DAT_0047bad8,&DAT_0047badc,(int *)&local_640,"sfieldflash_hit");
      uVar17 = DAT_0047e2c8;
      iVar19 = DAT_0047bad8;
      DAT_0047d6f4 = DAT_0047d6f4 * (uint)DAT_0047e2c8 * 4;
      if (_DAT_0047e1c4 < DAT_0047badc) {
        DAT_0047badc = _DAT_0047e1c4;
      }
      iVar32 = DAT_0047badc;
      DAT_0047b690 = (int)calloc(1,DAT_0047bad8 * DAT_0047badc * (uint)DAT_0047e2c8 * 0x10);
      local_63c = 0;
      if (uVar17 != 0) {
        do {
          if (DAT_0047e580 == 0) {
            iVar33 = 0;
            if (0 < iVar32) {
              do {
                memcpy((void *)(DAT_0047b690 +
                               (iVar33 + iVar32 * (local_63c & 0xffff) * 4) * iVar19 * 4),
                       (void *)((int)local_640 + iVar19 * iVar33 * 4),iVar19 * 4);
                iVar33 += 1;
                iVar32 = DAT_0047badc;
                iVar19 = DAT_0047bad8;
              } while (iVar33 < DAT_0047badc);
            }
          }
          else {
            local_628 = 0;
            if (0 < iVar32) {
              local_62c = 4;
              do {
                iVar33 = 0;
                if (0 < iVar19) {
                  iVar34 = 0;
                  do {
                    *(undefined4 *)
                     (DAT_0047b690 +
                     ((local_628 + iVar32 * (local_63c & 0xffff) * 4) * iVar19 + iVar33) * 4) =
                         *(undefined4 *)((iVar19 * local_62c - iVar34) + (int)local_640);
                    iVar33 += 1;
                    iVar34 += 4;
                    iVar32 = DAT_0047badc;
                    iVar19 = DAT_0047bad8;
                  } while (iVar33 < DAT_0047bad8);
                }
                local_62c += 4;
                local_628 += 1;
              } while (local_628 < iVar32);
            }
          }
          local_62c = (local_63c & 0xffff) * 4 + 1;
          local_618 = (int *)0x1;
          do {
            local_630 = iVar19 * iVar32 * local_62c;
            iVar33 = 0;
            if (0 < iVar32) {
              local_634 = (local_63c & 0xffff) << 5;
              do {
                uVar6 = *(int *)(&DAT_0047e1c4 + local_634) - iVar32;
                memcpy((void *)(DAT_0047b690 + (iVar19 * iVar33 + local_630) * 4),
                       DAT_0047c720 +
                       (((int)(uVar6 & ((int)uVar6 < 0) - 1) >> 1) +
                       (int)(local_618 + (uint)DAT_0047cf74 * (local_63c & 0xffff) * 2) *
                       *(int *)(&DAT_0047e1c4 + local_634) + iVar33) *
                       *(int *)(&DAT_0047e1c0 + local_634),iVar19 * 4);
                iVar33 += 1;
                iVar32 = DAT_0047badc;
                iVar19 = DAT_0047bad8;
              } while (iVar33 < DAT_0047badc);
            }
            uVar6 = local_62c;
            FUN_00401000(iVar32 * local_62c,iVar19,&DAT_0047b690,0x47d6ec,&DAT_0047b690,0x47d6ec,0 ,
                         iVar32 * (local_63c & 0xffff) * 4);
            local_618 = (int *)((int)local_618 + 1);
            local_62c = uVar6 + 1;
            iVar32 = DAT_0047badc;
            iVar19 = DAT_0047bad8;
          } while ((int)local_618 < 4);
          local_63c += 1;
        } while ((ushort)local_63c < DAT_0047e2c8);
      }
      if (local_640 != NULL) {
        free(local_640);
        local_640 = NULL;
      }
      FUN_00413cd0(&DAT_004826a8,&DAT_004826ac,&DAT_00482678,"resultbg_clear");
      FUN_00413cd0(&DAT_00481d78,&DAT_00481d7c,&DAT_00481d48,"resultbg_failure");
      if ((((DAT_00481d78 != DAT_004826a8) || (DAT_00481d7c != DAT_004826ac)) && (DAT_00481d78 != 0)
          ) && (MessageBoxA(HWND_0047de30,
                            "resultbg_failueresultbg_clear"
                            ,NULL,0), DAT_00481d48 != 0)) {
        free((void *)DAT_00481d48);
        DAT_00481d48 = 0;
      }
      FUN_00413cd0(&local_624,&local_620,(int *)&local_614,"resultboard");
      if (local_624 == 0) {
        if (local_614 != NULL) {
          free(local_614);
          local_614 = NULL;
        }
        FUN_00413cd0(&DAT_00482280,&DAT_00482284,&DAT_00482250,"resultboard_p1");
        FUN_00413cd0(&local_624,&local_620,&DAT_00482288,"resultboard_p2");
        if (((local_624 != DAT_00482280) || (local_620 != DAT_00482284)) &&
           ((local_624 != 0 &&
            (MessageBoxA(HWND_0047de30,
                         "resultboard_p2resultboard_p1"
                         ,NULL,0), DAT_00482288 != 0)))) {
          free((void *)DAT_00482288);
          DAT_00482288 = 0;
        }
      }
      else {
        iVar19 = local_624 / 2;
        sVar37 = local_620 * iVar19 * 4;
        local_694[1] /= 2;
        local_624 = iVar19;
        DAT_00482250 = (int)calloc(1,sVar37);
        DAT_00482288 = (int)calloc(1,sVar37);
        piVar23 = local_694;
        piVar25 = &DAT_00482254;
        for (iVar32 = 0xb; iVar32 != 0; iVar32 += -1) {
          *piVar25 = *piVar23;
          piVar23 = piVar23 + 1;
          piVar25 = piVar25 + 1;
        }
        piVar23 = local_694;
        piVar25 = &DAT_0048228c;
        for (iVar32 = 0xb; iVar32 != 0; iVar32 += -1) {
          *piVar25 = *piVar23;
          piVar23 = piVar23 + 1;
          piVar25 = piVar25 + 1;
        }
        iVar32 = 0;
        DAT_00482284 = local_620;
        DAT_00482280 = iVar19;
        if (0 < local_620) {
          iVar33 = 4;
          do {
            memcpy((void *)(DAT_00482250 + iVar19 * iVar32 * 4),
                   (void *)((int)local_614 + iVar19 * iVar32 * 8),iVar19 * 4);
            memcpy((void *)(DAT_00482288 + local_624 * iVar32 * 4),
                   (void *)(iVar33 * local_624 + (int)local_614),local_624 * 4);
            iVar32 += 1;
            iVar33 += 8;
            iVar19 = local_624;
          } while (iVar32 < local_620);
        }
        if (local_614 != NULL) {
          free(local_614);
          local_614 = NULL;
        }
      }
      FUN_00413cd0(&DAT_00482328,&DAT_0048232c,&DAT_004822f8,"resultmark_fullcombo");
      FUN_00413cd0(&DAT_00482670,&DAT_00482674,&DAT_00482640,"resultmark_newrecord");
      FUN_00413cd0(&DAT_004820c0,&DAT_004820c4,&DAT_00482090,"resultnumber_l");
      if (DAT_004820c0 == 0) {
        DAT_00482090 = DAT_00482368;
      }
      DAT_004820c0 /= 10;
      FUN_00413cd0(&DAT_004826e0,&DAT_004826e4,&DAT_004826b0,"resultnumber");
      FUN_00413cd0(&DAT_004826e0,&DAT_004826e4,&DAT_004826b0,"resultnumber");
      if (DAT_004826e0 == 0) {
        DAT_004826b0 = DAT_00482598;
      }
      DAT_004826e0 /= 10;
      FUN_00413cd0(&DAT_004823d0,&DAT_004823d4,&DAT_004823a0,"resultgauge");
      DAT_004823d4 /= 2;
      FUN_00413cd0(&DAT_00482638,&DAT_0048263c,&DAT_00482608,"resultmsg");
      DAT_0048263c /= 2;
      if (DAT_0047e634 == 1) {
        if (DAT_004829c0 != 0) {
          free((void *)DAT_004829c0);
          DAT_004829c0 = 0;
        }
        if (DAT_00481e28 != 0) {
          free((void *)DAT_00481e28);
          DAT_00481e28 = 0;
        }
        if (DAT_004825d0 != 0) {
          free((void *)DAT_004825d0);
          DAT_004825d0 = 0;
        }
        if (DAT_00481db8 != NULL) {
          free(DAT_00481db8);
          DAT_00481db8 = NULL;
        }
        if (DAT_00482988 != 0) {
          free((void *)DAT_00482988);
          DAT_00482988 = 0;
        }
        if (DAT_00482410 != NULL) {
          free(DAT_00482410);
          DAT_00482410 = NULL;
        }
        if (DAT_00482480 != 0) {
          free((void *)DAT_00482480);
          DAT_00482480 = 0;
        }
        if (DAT_00482800 != 0) {
          free((void *)DAT_00482800);
          DAT_00482800 = 0;
        }
        if (DAT_00481f40 != 0) {
          free((void *)DAT_00481f40);
          DAT_00481f40 = 0;
        }
        if (DAT_00481e98 != NULL) {
          free(DAT_00481e98);
          DAT_00481e98 = NULL;
        }
        if (DAT_004829f8 != 0) {
          free((void *)DAT_004829f8);
          DAT_004829f8 = 0;
        }
        if (DAT_00481c68 != 0) {
          free((void *)DAT_00481c68);
          DAT_00481c68 = 0;
        }
        if (DAT_00482448 != 0) {
          free((void *)DAT_00482448);
          DAT_00482448 = 0;
        }
        if (DAT_004821e0 != 0) {
          free((void *)DAT_004821e0);
          DAT_004821e0 = 0;
        }
        if (DAT_004827c8 != 0) {
          free((void *)DAT_004827c8);
          DAT_004827c8 = 0;
        }
        if (DAT_00481df0 != 0) {
          free((void *)DAT_00481df0);
          DAT_00481df0 = 0;
        }
        if (DAT_00482838 != 0) {
          free((void *)DAT_00482838);
          DAT_00482838 = 0;
        }
        if (DAT_00482870 != 0) {
          free((void *)DAT_00482870);
          DAT_00482870 = 0;
        }
        if (DAT_00482918 != 0) {
          free((void *)DAT_00482918);
          DAT_00482918 = 0;
        }
        if (DAT_004828a8 != 0) {
          free((void *)DAT_004828a8);
          DAT_004828a8 = 0;
        }
        if (DAT_004828e0 != 0) {
          free((void *)DAT_004828e0);
          DAT_004828e0 = 0;
        }
        if (DAT_0047d64c != 0) {
          free((void *)DAT_0047d64c);
          DAT_0047d64c = 0;
        }
        if (DAT_00482950 != 0) {
          free((void *)DAT_00482950);
          DAT_00482950 = 0;
        }
        if (DAT_00482100 != 0) {
          free((void *)DAT_00482100);
          DAT_00482100 = 0;
        }
        if (DAT_00482560 != 0) {
          free((void *)DAT_00482560);
          DAT_00482560 = 0;
        }
        if (DAT_004826e8 != 0) {
          free((void *)DAT_004826e8);
          DAT_004826e8 = 0;
        }
        if (DAT_00482678 != 0) {
          free((void *)DAT_00482678);
          DAT_00482678 = 0;
        }
        if (DAT_00481d48 != 0) {
          free((void *)DAT_00481d48);
          DAT_00481d48 = 0;
        }
        if (DAT_00482250 != 0) {
          free((void *)DAT_00482250);
          DAT_00482250 = 0;
        }
        if (DAT_004822f8 != 0) {
          free((void *)DAT_004822f8);
          DAT_004822f8 = 0;
        }
        if (DAT_00482640 != 0) {
          free((void *)DAT_00482640);
          DAT_00482640 = 0;
        }
        if (DAT_004823a0 != 0) {
          free((void *)DAT_004823a0);
          DAT_004823a0 = 0;
        }
        if (DAT_00482608 != 0) {
          free((void *)DAT_00482608);
          DAT_00482608 = 0;
        }
      }
      __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
      return;
    }
  } while( true );
}


/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void FUN_00419ff0(void)

{
  DWORD_PTR *pDVar1;
  LPWAVEHDR pwVar2;
  int iVar3;
  double dVar4;
  uchar uVar5;
  ushort uVar6;
  LPSTR lpMem;
  HGDIOBJ ho;
  double dVar7;
  double dVar8;
  short sVar9;
  char *pcVar10;
  short sVar11;
  ushort uVar12;
  SHORT SVar13;
  int iVar14;
  undefined2 *puVar15;
  DWORD DVar16;
  BOOL BVar17;
  DWORD DVar18;
  errno_t eVar19;
  undefined4 *puVar20;
  undefined4 *puVar21;
  double *pdVar22;
  ushort *puVar23;
  uchar *puVar24;
  char *pcVar25;
  uchar *puVar26;
  uchar *puVar27;
  undefined2 uVar28;
  uint uVar29;
  uint uVar30;
  undefined4 extraout_ECX;
  uint *puVar31;
  LPWAVEHDR pwVar32;
  int iVar33;
  undefined4 extraout_EDX;
  uint uVar34;
  code *pcVar35;
  HDC pHVar36;
  uint uVar37;
  short *psVar38;
  code *pcVar39;
  int *piVar40;
  HANDLE pvVar41;
  bool bVar42;
  undefined2 in_FPUControlWord;
  ulonglong uVar43;
  __time64_t _Var44;
  timecaps_tag local_674;
  tagMSG local_66c;
  FILE *local_650;
  DWORD local_64c;
  uint local_648;
  undefined8 local_644;
  uint local_638;
  undefined8 local_634;
  uint local_628;
  undefined4 local_624;
  uint local_620 [3];
  uchar local_614 [512];
  uchar local_414 [512];
  uchar local_214 [516];
  ushort auStack_10 [4];
  uint local_8;
  
  pcVar35 = timeGetTime_exref;
  local_8 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  local_638 = 0;
  local_628 = 0;
  local_64c = timeGetTime();
  timeGetDevCaps(&local_674,8);
  timeBeginPeriod(local_674.wPeriodMin);
  if (4999 < DAT_0047cf76) {
    local_624 = CONCAT22(in_FPUControlWord,(short)local_624);
    local_644._4_2_ = (ushort)(int)ROUND(((double)(int)DAT_0047f118 * 0.2 + 1.0) * 50.0);
    DAT_0047cf76 = local_644._4_2_;
  }
  if (4999 < DAT_0047cf78) {
    local_624 = CONCAT22(in_FPUControlWord,(short)local_624);
    local_644._4_2_ = (ushort)(int)ROUND(((double)(int)DAT_0047f118 * 0.2 + 1.0) * 50.0 * 2.0);
    DAT_0047cf78 = local_644._4_2_;
  }
  if (4999 < DAT_0047cf7a) {
    local_624 = CONCAT22(in_FPUControlWord,(short)local_624);
    local_644._4_2_ = (ushort)(int)ROUND(((double)(int)DAT_0047f118 * 0.2 + 1.0) * 50.0 * 4.0);
    DAT_0047cf7a = local_644._4_2_;
  }
  if (DAT_0047cf78 < DAT_0047cf76) {
    DAT_0047cf78 = DAT_0047cf76;
  }
  if (DAT_0047cf7a < DAT_0047cf78) {
    DAT_0047cf7a = DAT_0047cf78;
  }
  local_644._4_4_ = (uint)DAT_0047cf76;
  dVar4 = (double)local_644._4_4_;
  local_644 = (double)(ulonglong)CONCAT24(DAT_0047cf78,(undefined4)local_644);
  dVar8 = local_644;
  DAT_0047f118 = 0;
  local_644._4_4_ = (uint)DAT_0047cf78;
  local_648 = 0;
  iVar33 = 10;
  do {
    dVar7 = ((double)(int)local_648 * 0.2 + 1.0) * 50.0;
    if (dVar7 < dVar4 != (dVar7 == dVar4)) {
      DAT_0047f118 = local_648;
    }
    if (dVar7 * 2.0 < (double)local_644._4_4_ != (dVar7 * 2.0 == (double)local_644._4_4_)) {
      DAT_0047f118 = local_648;
    }
    local_648 += 1;
    iVar33 += -1;
  } while (iVar33 != 0);
  iVar14 = 0;
  iVar33 = 3;
  do {
    uVar28 = *(undefined2 *)((int)&DAT_0047cf76 + iVar14);
    *(undefined2 *)((int)auStack_10 + iVar14) = uVar28;
    *(undefined2 *)((int)&DAT_0047d336 + iVar14) = uVar28;
    iVar14 += 2;
    iVar33 += -1;
  } while (iVar33 != 0);
  DAT_0047b108 = FUN_004018a0;
  if (DAT_0047e634 == 0) {
    DAT_0047b110 = FUN_004011e0;
    DAT_0047b118 = FUN_004013c0;
    DAT_0047b114 = FUN_00401b90;
    DAT_0047b11c = FUN_00401da0;
    DAT_0047b120 = FUN_00402170;
    DAT_0047b10c = FUN_004023a0;
  }
  else {
    DAT_0047b110 = FUN_00402800;
    DAT_0047b118 = (code *)&LAB_00402940;
    DAT_0047b114 = FUN_00402820;
    DAT_0047b11c = FUN_00402800;
    DAT_0047b120 = FUN_004028b0;
    DAT_0047b10c = FUN_004028c0;
  }
  DAT_0047d648 = DAT_0047ac90;
  local_644 = dVar8;
  PatBlt(DAT_0047de50,0,0,DAT_0047ac7c,DAT_0047ac80,0x42);
  if (DAT_0047e624 == 0) {
    FUN_00414c40();
  }
  sVar9 = DAT_0047e2d6;
  sVar11 = DAT_0047e2d4;
  pcVar39 = Sleep_exref;
  if (-1 < DAT_0047e604) {
    DAT_0047e624 = 0;
    DAT_0047e5c8 = 0;
    DAT_0047e620 = 0;
    DAT_0047e604 = 0;
    puVar15 = &DAT_0047c7a4;
    iVar33 = 2;
    do {
      *(undefined8 *)(puVar15 + -0x16) = 0;
      *(undefined4 *)(puVar15 + -0xc) = 1;
      *puVar15 = 1;
      puVar15[6] = 1;
      if ((sVar11 == 0) || (sVar9 == 0)) {
        puVar15[0xa8] = 0;
        puVar15[0xa9] = 0;
        puVar15[0xb9] = 0;
      }
      *(undefined4 *)(puVar15 + 0xaa) = 0;
      puVar15 = puVar15 + 0xf0;
      iVar33 += -1;
    } while (iVar33 != 0);
    SetBkMode(HDC_0047b6c0,1);
    PatBlt(DAT_0047de50,0,0,DAT_0047ac74,DAT_0047ac78,0x42);
    UpdateWindow(HWND_0047de30);
    sVar11 = GetAsyncKeyState(0x51);
    pcVar39 = Sleep_exref;
    while ((sVar11 != 0 && (DAT_0047e61c == 0))) {
      DVar16 = timeGetTime();
      do {
        BVar17 = PeekMessageA(&local_66c,NULL,0,0,1);
        if (BVar17 != 0) {
          TranslateMessage(&local_66c);
          DispatchMessageA(&local_66c);
        }
        Sleep(1);
        DVar18 = timeGetTime();
      } while (DVar18 < DVar16 + 1);
      sVar11 = GetAsyncKeyState(0x51);
    }
    uVar29 = DAT_0047e63c & 0x80000001;
    if ((int)uVar29 < 0) {
      uVar29 = (uVar29 - 1 | 0xfffffffe) + 1;
    }
    if (uVar29 == 1) {
      eVar19 = strcpy_s((char *)&_Src_0047e640,0x100,&_Dst_0047bb90);
      sVar11 = (short)eVar19;
    }
    FUN_004029b0();
    DAT_0047e604 = sVar11;
    if (((DAT_0047cec8 == 1) || (DAT_0047d288 == 1)) && (DAT_00482750 == 0)) {
      MessageBoxA(HWND_0047de30,"",NULL,0);
    }
    DAT_0047e580 = 0;
    strcpy_s((char *)&_Src_0047e640,0x100,"");
    uVar29 = DAT_0047e63c & 0x80000001;
    if ((int)uVar29 < 0) {
      uVar29 = (uVar29 - 1 | 0xfffffffe) + 1;
    }
    if ((uVar29 == 0) || (DAT_0047e63c == 3)) {
      FUN_00414c40();
    }
    DAT_0047d6c4 = -2000;
    DAT_0047cf6c = 0;
    if (DAT_0047e500 == 0) {
      DAT_0047e500 = 1;
      DAT_0047e4f0 = (HANDLE)_beginthreadex(NULL,0,_StartAddress_00437410,NULL,0,
                                            (uint *)&_ThrdAddr_0047e4f8);
      DAT_0047e500 = 2;
    }
    sVar9 = DAT_0047e2d6;
    sVar11 = DAT_0047e2d4;
    DAT_0047e57c = 0;
    if (DAT_0047e2c8 != 0) {
      puVar20 = &DAT_0047c770;
      uVar29 = (uint)DAT_0047e2c8;
      do {
        if ((sVar11 == 0) || (sVar9 == 0)) {
          puVar20[-2] = 0;
          *puVar20 = 0;
          puVar20[-1] = 0;
          puVar20[1] = 0;
        }
        else {
          puVar20[-2] = puVar20[-1];
          *puVar20 = puVar20[1];
          pcVar39 = Sleep_exref;
        }
        puVar20 = puVar20 + 0x78;
        uVar29 -= 1;
      } while (uVar29 != 0);
    }
    if (DAT_0047e61c == 0) {
      uVar29 = DAT_0047e63c & 0x80000001;
      bVar42 = uVar29 == 0;
      if ((int)uVar29 < 0) {
        bVar42 = (uVar29 - 1 | 0xfffffffe) == 0xffffffff;
      }
      if (bVar42) {
        PatBlt(DAT_0047de50,0,0,DAT_0047ac74,DAT_0047ac78,0x42);
        DAT_0047e2cc = timeGetTime();
        DAT_0047e2d0 = 1;
        DVar16 = timeGetTime();
        iVar33 = DVar16 - DAT_0047e2cc;
        local_644 = (double)CONCAT44(iVar33,(undefined4)local_644);
        dVar4 = (double)iVar33;
        if (iVar33 < 0) {
          dVar4 = dVar4 + 4294967296.0;
        }
        if (dVar4 < _DAT_0047ac88 * 150.0) {
          do {
            FUN_00422090();
            DVar16 = timeGetTime();
            if (DVar16 - local_64c < (uint)(1000 / (ulonglong)DAT_0047ac90)) {
              FUN_0043a6e0();
              pcVar39 = Sleep_exref;
            }
            else {
              DVar16 = timeGetTime();
              do {
                BVar17 = PeekMessageA(&local_66c,NULL,0,0,1);
                if (BVar17 != 0) {
                  TranslateMessage(&local_66c);
                  DispatchMessageA(&local_66c);
                }
                DVar18 = timeGetTime();
              } while (DVar18 < DVar16);
            }
            if ((_DAT_00482ad4 & 1) == 0) {
              _DAT_00482ad4 |= 1;
              _DAT_00482ad0 = timeGetTime();
            }
            DVar16 = timeGetTime();
            if (999 < DVar16 - _DAT_00482ad0) {
              DAT_0047d648 = DAT_00482acc;
              DAT_00482acc = 0;
              _DAT_00482ad0 = DVar16;
            }
            DAT_00482acc += 1;
            DVar16 = timeGetTime();
            iVar33 = DVar16 - DAT_0047e2cc;
            local_644 = (double)CONCAT44(iVar33,(undefined4)local_644);
            dVar4 = (double)iVar33;
            if (iVar33 < 0) {
              dVar4 = dVar4 + 4294967296.0;
            }
          } while (dVar4 < _DAT_0047ac88 * 150.0);
        }
      }
    }
    DVar16 = timeGetTime();
    do {
      BVar17 = PeekMessageA(&local_66c,NULL,0,0,1);
      if (BVar17 != 0) {
        TranslateMessage(&local_66c);
        DispatchMessageA(&local_66c);
      }
      (*pcVar39)(1);
      DVar18 = timeGetTime();
    } while (DVar18 < DVar16 + 0x11);
    DAT_0047e2cc = 0;
    if (DAT_0047e604 == 0) {
      uVar29 = DAT_0047e63c & 0x80000001;
      bVar42 = uVar29 == 0;
      if ((int)uVar29 < 0) {
        bVar42 = (uVar29 - 1 | 0xfffffffe) == 0xffffffff;
      }
      if (((bVar42) || (DAT_0047e63c == 3)) || ((DAT_0047ceca == 1 && (0 < DAT_0047ac70)))) {
        FUN_00422090();
        BVar17 = UpdateWindow(HWND_0047de30);
        sVar11 = (short)BVar17;
        FUN_004359e0(0);
        DAT_0047e604 = sVar11;
        goto LAB_0041a795;
      }
    }
    else {
LAB_0041a795:
      if ((DAT_0047ceca == 1) && (0 < DAT_0047ac70)) goto LAB_0041a7fd;
    }
    uVar29 = DAT_0047e63c & 0x80000001;
    if ((int)uVar29 < 0) {
      uVar29 = (uVar29 - 1 | 0xfffffffe) + 1;
    }
    if ((uVar29 == 0) && (DAT_0047ceca == 0)) {
      FUN_00437120();
    }
    uVar29 = DAT_0047e63c & 0x80000001;
    if ((int)uVar29 < 0) {
      uVar29 = (uVar29 - 1 | 0xfffffffe) + 1;
    }
    if ((uVar29 != 0) || (DAT_0047ceca == 0)) {
      FUN_00437230();
      pcVar39 = Sleep_exref;
    }
  }
LAB_0041a7fd:
  uVar12 = DAT_0047e2c8;
  if (DAT_0047e604 == -1) {
    DAT_0047e61c = 1;
  }
  else {
    DAT_0047e4e2 = 0;
    if (DAT_0047e2c8 != 0) {
      puVar23 = &DAT_0047cf76;
      uVar29 = (uint)DAT_0047e2c8;
      do {
        if (puVar23[-0x57] != 0) {
          puVar23[1] = *puVar23;
        }
        puVar23 = puVar23 + 0x1e0;
        uVar29 -= 1;
      } while (uVar29 != 0);
    }
    uVar29 = DAT_0047e63c & 0x80000001;
    bVar42 = uVar29 == 0;
    if ((int)uVar29 < 0) {
      bVar42 = (uVar29 - 1 | 0xfffffffe) == 0xffffffff;
    }
    if (((bVar42) || (DAT_0047e590 == 1)) || (DAT_0047e2d4 == 1)) {
      DAT_0047d6c4 = *DAT_0047b154 + -2000;
      DAT_0047cf68 = -1;
      _DAT_0047e608 = 0;
    }
    if (uVar12 != 0) {
      puVar20 = &DAT_0047c768;
      piVar40 = &DAT_0047cf70;
      uVar29 = (uint)uVar12;
      do {
        uVar43 = FUN_0045db50(0,piVar40[-0x29]);
        *piVar40 = (int)uVar43 * 0x14;
        if ((DAT_0047e2d4 == 0) || (DAT_0047e2d6 == 0)) {
          *puVar20 = 0;
          puVar20[2] = 0;
        }
        else {
          *puVar20 = puVar20[1];
          puVar20[2] = puVar20[3];
        }
        puVar21 = puVar20 + 0x32;
        iVar33 = 8;
        do {
          puVar21[-8] = 0;
          *puVar21 = 0;
          puVar21 = puVar21 + 1;
          iVar33 += -1;
        } while (iVar33 != 0);
        piVar40 = piVar40 + 0xf0;
        puVar20 = puVar20 + 0x78;
        uVar29 -= 1;
      } while (uVar29 != 0);
    }
    DAT_0047e5c4 = 0;
    DAT_0047e620 = 0;
    if ((((DAT_0047ceca == 0) || ((DAT_0047ceca == 1 && (0 < DAT_0047ac70)))) || (DAT_0047e63c == 1)
        ) || ((DAT_0047e63c == 3 && (DAT_0047ceca != 2)))) {
      DAT_0047e604 = 1;
    }
    else {
      DAT_0047e604 = 0;
    }
    if ((DAT_0047e2d4 == 0) || (DAT_0047e2d6 == 0)) {
      puVar15 = &DAT_0047cac8;
      iVar33 = 3;
      do {
        puVar15[-0xf0] = 0;
        *puVar15 = 0;
        puVar15 = puVar15 + 1;
        iVar33 += -1;
      } while (iVar33 != 0);
    }
    DAT_0047e500 = 2;
    FUN_00422090();
    UpdateWindow(HWND_0047de30);
    SelectObject(HDC_0047b6c0,DAT_0047bb74);
    SetTextColor(HDC_0047b6c0,0xfafafa);
    local_624 = CONCAT22(local_624._2_2_,DAT_0047cf62);
    sVar11 = GetAsyncKeyState(0x51);
    while ((sVar11 != 0 && (DAT_0047e61c == 0))) {
      DVar16 = timeGetTime();
      do {
        BVar17 = PeekMessageA(&local_66c,NULL,0,0,1);
        if (BVar17 != 0) {
          TranslateMessage(&local_66c);
          DispatchMessageA(&local_66c);
        }
        Sleep(1);
        DVar18 = timeGetTime();
      } while (DVar18 < DVar16 + 1);
      sVar11 = GetAsyncKeyState(0x51);
    }
    if ((DAT_0047e590 == 0) && (DAT_0047e2d4 == 0)) {
      while (((SVar13 = GetAsyncKeyState(0x20), SVar13 != 0 ||
              (SVar13 = GetAsyncKeyState(0x1b), SVar13 != 0)) && (DAT_0047e61c == 0))) {
        DVar16 = timeGetTime();
        do {
          BVar17 = PeekMessageA(&local_66c,NULL,0,0,1);
          if (BVar17 != 0) {
            TranslateMessage(&local_66c);
            DispatchMessageA(&local_66c);
          }
          Sleep(1);
          DVar18 = timeGetTime();
        } while (DVar18 < DVar16 + 1);
      }
      if (DAT_0047cf68 < 0) {
        DAT_0047d6c4 = *DAT_0047b154 + -2000;
      }
      else {
        DAT_0047d6c4 = DAT_0047b154[DAT_0047cf68];
      }
      local_644 = (double)DAT_0047d6c4;
      DAT_0047e2cc = 0;
      uVar29 = local_638;
      while (((((uVar34 = local_638, SVar13 = GetAsyncKeyState(0x20), SVar13 == 0 ||
                (DAT_0047e604 == 0)) || ((DAT_0047ac98 == 0 && (DAT_0047e618 == 0)))) ||
              (DAT_0047e5bc == NULL)) && (DAT_0047e61c == 0))) {
        local_64c = timeGetTime();
        if (DAT_0047e604 == 0) {
          if (DAT_0047ceca == 1) {
            if (DAT_0047ac70 == 0) {
LAB_0041abb8:
              DVar16 = WaitForSingleObject(DAT_0047d6d8,0);
              if (DVar16 == 0) {
                CloseHandle(DAT_0047d6d8);
                DAT_0047d6d8 = NULL;
                DAT_0047e604 = 1;
                FUN_004359e0(0);
                FUN_00437120();
                FUN_00437230();
                uVar34 = local_638;
              }
            }
          }
          else if (DAT_0047ceca == 2) goto LAB_0041abb8;
        }
        DAT_0047e620 = 0;
        FUN_00422090();
        if (DAT_0047e624 != 0) {
          DVar16 = timeGetTime();
          iVar33 = DVar16 - DAT_0047e2cc;
          local_634 = CONCAT44(iVar33,(int)local_634);
          dVar4 = (double)iVar33;
          if (iVar33 < 0) {
            dVar4 = dVar4 + 4294967296.0;
          }
          if (_DAT_0047ac88 * 150.0 < dVar4 != (NAN(_DAT_0047ac88 * 150.0) || NAN(dVar4))) {
            DAT_0047e61c = 1;
          }
        }
        if ((INT_0047e630 == 1) && (DAT_0047e624 == 1)) {
          DVar16 = timeGetTime();
          iVar33 = DVar16 - DAT_0047e2cc;
          local_634 = CONCAT44(iVar33,(int)local_634);
          dVar4 = (double)iVar33;
          if (iVar33 < 0) {
            dVar4 = dVar4 + 4294967296.0;
          }
          if (_DAT_0047ac88 * 150.0 < dVar4 != (NAN(_DAT_0047ac88 * 150.0) || NAN(dVar4))) {
            DAT_0047e61c = 1;
            DAT_0047e2d0 = 1;
            DAT_0047e2cc = timeGetTime();
            PatBlt(DAT_0047de50,0,0,DAT_0047ac74,DAT_0047ac78,0x42);
          }
        }
        if ((DAT_0047ac98 == 1) || (DAT_0047e618 == 1)) {
          SVar13 = GetAsyncKeyState(0x1b);
          if ((SVar13 != 0) && ((DAT_0047e604 == 1 && (DAT_0047e61c = 1, 0 < INT_0047e630)))) {
            DAT_0047e61c = 0;
            DAT_0047e63c = 0;
            DAT_0047e624 = 1;
            DAT_0047e2d0 = 0;
            DAT_0047e2cc = timeGetTime();
          }
          SVar13 = GetAsyncKeyState(0x21);
          if ((((SVar13 == 0) && (SVar13 = GetAsyncKeyState(0x22), SVar13 == 0)) &&
              (SVar13 = GetAsyncKeyState(0x23), SVar13 == 0)) &&
             (SVar13 = GetAsyncKeyState(0x24), SVar13 == 0)) {
            uVar29 = 0;
            uVar34 = 0;
            local_638 = 0;
          }
          SVar13 = GetAsyncKeyState(0x21);
          if (((SVar13 != 0) || (SVar13 = GetAsyncKeyState(0x22), SVar13 != 0)) &&
             ((DVar16 = timeGetTime(), 499 < DVar16 - local_628 && (uVar29 != 0)))) {
            uVar29 = 2;
          }
          SVar13 = GetAsyncKeyState(0x21);
          if (SVar13 != 0) {
            uVar30 = uVar29 & 0x80000001;
            bVar42 = uVar30 == 0;
            if ((int)uVar30 < 0) {
              bVar42 = (uVar30 - 1 | 0xfffffffe) == 0xffffffff;
            }
            if (bVar42) {
              DVar16 = timeGetTime();
              local_628 = DVar16 + uVar29 * -200;
              iVar33 = DAT_0047cf68 + 1;
              DAT_0047cf68 = DAT_0047cf0c - 1;
              if (iVar33 <= (int)(DAT_0047cf0c - 1)) {
                DAT_0047cf68 = iVar33;
              }
              uVar34 += 1;
              uVar29 = 1;
              if (8 < (int)uVar34) {
                local_628 -= 0x32;
              }
              if (0x20 < (int)uVar34) {
                local_628 -= 0x19;
              }
              local_638 = uVar34;
              if (0x40 < (int)uVar34) {
                local_628 -= 0xf;
              }
            }
          }
          SVar13 = GetAsyncKeyState(0x22);
          if (SVar13 != 0) {
            uVar30 = uVar29 & 0x80000001;
            bVar42 = uVar30 == 0;
            if ((int)uVar30 < 0) {
              bVar42 = (uVar30 - 1 | 0xfffffffe) == 0xffffffff;
            }
            if (bVar42) {
              DVar16 = timeGetTime();
              local_628 = DVar16 + uVar29 * -200;
              iVar33 = DAT_0047cf68 + -1;
              DAT_0047cf68 = -1;
              if (-2 < iVar33) {
                DAT_0047cf68 = iVar33;
              }
              local_638 = uVar34 + 1;
              uVar29 = 1;
              if (8 < (int)local_638) {
                local_628 -= 0x32;
              }
              if (0x20 < (int)local_638) {
                local_628 -= 0x19;
              }
              if (0x40 < (int)local_638) {
                local_628 -= 0xf;
              }
            }
          }
          SVar13 = GetAsyncKeyState(0x23);
          if ((SVar13 != 0) && (uVar29 == 0)) {
            DAT_0047cf68 = DAT_0047cf0c - 1;
            uVar29 = 1;
          }
          SVar13 = GetAsyncKeyState(0x24);
          if ((SVar13 == 0) || (uVar29 != 0)) goto LAB_0041af61;
          DAT_0047cf68 = -1;
          uVar29 = 1;
LAB_0041aefc:
          uVar34 = *DAT_0047b154 - 2000;
        }
        else {
LAB_0041af61:
          if (DAT_0047cf68 < 0) goto LAB_0041aefc;
          uVar34 = DAT_0047b154[DAT_0047cf68];
        }
        dVar4 = (double)(int)uVar34;
        if (local_644 < dVar4 == (NAN(local_644) || NAN(dVar4))) {
          if (dVar4 < local_644) {
            dVar8 = (double)(int)DAT_0047d648;
            if ((int)DAT_0047d648 < 0) {
              dVar8 = dVar8 + 4294967296.0;
            }
            local_644 = (local_644 - ((local_644 - dVar4) * 10.0) / dVar8) - 0.1;
            if (local_644 < dVar4 != (NAN(local_644) || NAN(dVar4))) {
              local_644 = (double)(int)uVar34;
            }
          }
        }
        else {
          dVar8 = (double)(int)DAT_0047d648;
          if ((int)DAT_0047d648 < 0) {
            dVar8 = dVar8 + 4294967296.0;
          }
          local_644 = ((dVar4 - local_644) * 10.0) / dVar8 + local_644 + 0.1;
          if (dVar4 < local_644) {
            local_644 = (double)(int)uVar34;
          }
        }
        local_648 = uVar34;
        ResumeThread(DAT_0047e4f0);
        uVar43 = FUN_0045db50(extraout_ECX,extraout_EDX);
        pcVar35 = timeGetTime_exref;
        DAT_0047d6c4 = (int)uVar43;
        DAT_0047cf6c = ((int)uVar34 < 0) - 1 & uVar34;
        DVar16 = timeGetTime();
        if (DVar16 - local_64c < (uint)(1000 / (ulonglong)DAT_0047ac90)) {
          FUN_0043a6e0();
          pcVar35 = timeGetTime_exref;
        }
        else {
          DVar16 = timeGetTime();
          do {
            BVar17 = PeekMessageA(&local_66c,NULL,0,0,1);
            if (BVar17 != 0) {
              TranslateMessage(&local_66c);
              DispatchMessageA(&local_66c);
            }
            DVar18 = timeGetTime();
          } while (DVar18 < DVar16);
        }
        if ((_DAT_00482ad4 & 1) == 0) {
          _DAT_00482ad4 |= 1;
          _DAT_00482ad0 = (*pcVar35)();
        }
        DVar16 = (*pcVar35)();
        if (999 < DVar16 - _DAT_00482ad0) {
          DAT_0047d648 = DAT_00482acc;
          DAT_00482acc = 0;
          _DAT_00482ad0 = DVar16;
        }
        DAT_00482acc += 1;
      }
    }
    else if (DAT_0047e604 == 0) {
      WaitForSingleObject(DAT_0047d6d8,0xffffffff);
      CloseHandle(DAT_0047d6d8);
      DAT_0047d6d8 = NULL;
      DAT_0047e604 = 1;
      FUN_004359e0(0);
      FUN_00437120();
      FUN_00437230();
    }
    DAT_0047e4e8 = 0;
    DAT_0047e578 = 0;
    DAT_0047e57c = 0;
    if (DAT_0047cf62 != (short)local_624) {
      FUN_00414c40();
    }
    if (DAT_0047cf68 < 0) {
      DAT_0047d6c4 = *DAT_0047b154 + -2000;
    }
    else {
      DAT_0047d6c4 = DAT_0047b154[DAT_0047cf68];
    }
    _DAT_0047d328 = DAT_0047cf68;
    DAT_0047cf5c = 0;
    _DAT_0047d31c = 0;
    if (((DAT_0047ceca != 1) || (DAT_0047ac70 < 1)) && (DAT_0047e61c == 0)) {
      dVar4 = (double)(int)DAT_0047e5bc->dwBufferLength;
      if ((int)DAT_0047e5bc->dwBufferLength < 0) {
        dVar4 = dVar4 + 4294967296.0;
      }
      dVar8 = (double)DAT_0047bc98;
      if (DAT_0047bc98 < 0) {
        dVar8 = dVar8 + 4294967296.0;
      }
      local_624 = CONCAT22(in_FPUControlWord,(short)local_624);
      local_634 = (longlong)ROUND((dVar4 / dVar8) * 1000.0);
      DAT_0047e4e4 = (int)local_634;
      FUN_00437330();
    }
    if ((-1 < DAT_0047cf68) && ((int)DAT_0047cf6c < DAT_0047cf58 + DAT_0047cf5c)) {
      DAT_0047cf68 = -1;
    }
    local_638 = 0;
    if (DAT_0047e2c8 != 0) {
      do {
        uVar29 = local_638 & 0xffff;
        if (((&DAT_0047cf60)[uVar29 * 0x1e0] == 1) ||
           ((DAT_0047e62c == 1 && ((&DAT_0047cf60)[uVar29 * 0x1e0] != 2)))) {
          iVar33 = (&DAT_0047cf64)[uVar29 * 0xf0] + uVar29 * 0x1e0;
          uVar34 = 0;
          if ((uint)*(ushort *)(&DAT_0047cf24 + iVar33 * 2) +
              (uint)*(ushort *)(&DAT_0047cf1e + iVar33 * 2) != 0) {
            uVar30 = 0;
            do {
              *(undefined8 *)((&DAT_0047ced8)[uVar29 * 0xf0] + 8 + uVar30 * 0x18) =
                   0x3ff0000000000000;
              iVar33 = (&DAT_0047cf64)[uVar29 * 0xf0] + uVar29 * 0x1e0;
              uVar34 += 1;
              uVar30 = uVar34 & 0xffff;
            } while (uVar30 < (uint)*(ushort *)(&DAT_0047cf24 + iVar33 * 2) +
                              (uint)*(ushort *)(&DAT_0047cf1e + iVar33 * 2));
          }
        }
        iVar33 = DAT_0047e2c4;
        uVar34 = local_638 & 0xffff;
        iVar14 = (int)(short)(&DAT_0047e608)[uVar34];
        if (iVar14 < 0x41) {
          if (iVar14 == 0x40) {
            DVar16 = timeGetTime();
            srand(DVar16);
            puVar31 = local_620;
            puVar23 = &DAT_0047cefe + uVar29 * 0x1e0;
            iVar33 = 3;
            do {
              *puVar31 = (uint)*puVar23;
              puVar23 = puVar23 + 1;
              puVar31 = puVar31 + 1;
              iVar33 += -1;
            } while (iVar33 != 0);
            do {
              uVar34 = 0;
              local_648 = 0xffffffff;
              if (0 < (int)(&DAT_0047cf64)[uVar29 * 0xf0]) {
                uVar37 = local_638 & 0xffff;
                uVar30 = 0;
                do {
                  iVar33 = uVar37 * 0x1e0 + uVar30;
                  if (((int)local_620[uVar30] <
                       (int)((uint)(ushort)(&DAT_0047cef8)[iVar33] +
                            (uint)(ushort)(&DAT_0047cefe)[iVar33])) &&
                     ((uVar30 = *(uint *)(DAT_0047e2c4 + 4 + local_620[uVar30] * 0x1c),
                      uVar30 <= local_648 || (local_648 == 0)))) {
                    local_648 = uVar30;
                    iVar33 = rand();
                    local_644 = (double)CONCAT44((int)(iVar33 + (iVar33 >> 0x1f & 0x3fffU)) >> 0xe ,
                                                 (undefined4)local_644);
                  }
                  uVar34 += 1;
                  uVar30 = uVar34 & 0xffff;
                } while ((int)uVar30 < (int)(&DAT_0047cf64)[uVar29 * 0xf0]);
              }
              uVar34 = 0;
              local_624 = 0;
              local_628 = 0;
              if ((int)(&DAT_0047cf64)[uVar29 * 0xf0] < 1) break;
              local_64c = (local_638 & 0xffff) * 0x1e0;
              do {
                iVar33 = (uint)(ushort)(&DAT_0047cef8)[local_64c + uVar34] +
                         (uint)(ushort)(&DAT_0047cefe)[local_64c + uVar34];
                uVar30 = local_620[uVar34];
                puVar31 = local_620 + uVar34;
                local_634 = CONCAT44(iVar33,(int)local_634);
                if (((int)uVar30 < iVar33) &&
                   (iVar14 = DAT_0047e2c4 + uVar30 * 0x1c,
                   *(uint *)(DAT_0047e2c4 + 4 + uVar30 * 0x1c) == local_648)) {
                  local_624 += 1;
                  uVar12 = *(ushort *)(iVar14 + 2) >> 1;
                  if (uVar12 == 0) {
                    *(ushort *)(iVar14 + 2) = local_644._4_2_;
                  }
                  else if (uVar12 == 1) {
                    *(ushort *)(iVar14 + 2) = local_644._4_2_ + 2;
                  }
                  switch(*(undefined2 *)(iVar14 + 2)) {
                  case 0:
                    uVar43 = (ulonglong)*(ushort *)(iVar14 + 0x18) % 3;
                    if ((int)uVar43 != 0) {
                      uVar28 = 1;
                      goto LAB_0041b66f;
                    }
                    *(short *)(iVar14 + 0x18) = (short)uVar43;
                    break;
                  case 1:
                    if ((uint)*(ushort *)(iVar14 + 0x18) % 3 != 0) {
                      uVar28 = 4;
                      goto LAB_0041b66f;
                    }
                    *(undefined2 *)(iVar14 + 0x18) = 3;
                    break;
                  case 2:
                    *(undefined2 *)(iVar14 + 0x18) = 5;
                    break;
                  case 3:
                    uVar28 = 6;
LAB_0041b66f:
                    *(undefined2 *)(iVar14 + 0x18) = uVar28;
                  }
                  do {
                    *puVar31 = *puVar31 + 1;
                    if (iVar33 <= (int)*puVar31) break;
                  } while (3 < *(ushort *)(DAT_0047e2c4 + 2 + *puVar31 * 0x1c));
                }
                local_628 += 1;
                uVar34 = local_628 & 0xffff;
              } while ((int)uVar34 < (int)(&DAT_0047cf64)[uVar29 * 0xf0]);
            } while ((short)local_624 != 0);
          }
          else if (true) {
            switch(iVar14) {
            case 1:
            case 2:
            case 4:
              iVar33 = (&DAT_0047cf64)[uVar29 * 0xf0] + uVar34 * 0x1e0;
              uVar30 = 0;
              if ((uint)*(ushort *)(&DAT_0047cf24 + iVar33 * 2) +
                  (uint)*(ushort *)(&DAT_0047cf1e + iVar33 * 2) != 0) {
                uVar37 = 0;
                do {
                  sVar11 = (&DAT_0047e608)[local_638 & 0xffff];
                  if (sVar11 == 1) {
                    dVar4 = *(double *)((&DAT_0047ced8)[uVar29 * 0xf0] + 8 + uVar37 * 0x18);
                    pdVar22 = (double *)((&DAT_0047ced8)[uVar29 * 0xf0] + 8 + uVar37 * 0x18);
                    dVar4 = dVar4 + dVar4;
LAB_0041b390:
                    *pdVar22 = dVar4;
                  }
                  else {
                    if (sVar11 == 2) {
                      pdVar22 = (double *)((&DAT_0047ced8)[uVar29 * 0xf0] + 8 + uVar37 * 0x18);
                      dVar4 = *(double *)((&DAT_0047ced8)[uVar29 * 0xf0] + 8 + uVar37 * 0x18) * 3. 0;
                      goto LAB_0041b390;
                    }
                    if (sVar11 == 4) {
                      pdVar22 = (double *)((&DAT_0047ced8)[uVar29 * 0xf0] + 8 + uVar37 * 0x18);
                      dVar4 = *(double *)((&DAT_0047ced8)[uVar29 * 0xf0] + 8 + uVar37 * 0x18) * 4. 0;
                      goto LAB_0041b390;
                    }
                  }
                  iVar33 = (&DAT_0047cf64)[uVar29 * 0xf0] + uVar34 * 0x1e0;
                  uVar30 += 1;
                  uVar37 = uVar30 & 0xffff;
                } while (uVar37 < (uint)*(ushort *)(&DAT_0047cf24 + iVar33 * 2) +
                                  (uint)*(ushort *)(&DAT_0047cf1e + iVar33 * 2));
              }
              break;
            case 0x20:
              uVar30 = (uint)(ushort)(&DAT_0047cefe)[uVar29 * 0x1e0];
              iVar14 = (&DAT_0047cf64)[uVar29 * 0xf0] + uVar34 * 0x1e0;
              if (uVar30 < (uint)(ushort)(&DAT_0047cefc)[iVar14] +
                           (uint)(ushort)(&DAT_0047cef6)[iVar14]) {
                iVar14 = (&DAT_0047cf64)[uVar29 * 0xf0] + uVar34 * 0x1e0;
                uVar12 = (&DAT_0047cefc)[iVar14];
                uVar6 = (&DAT_0047cef6)[iVar14];
                uVar29 = uVar30;
                do {
                  iVar14 = iVar33 + uVar30 * 0x1c;
                  switch(*(undefined2 *)(iVar14 + 2)) {
                  case 0:
                    *(undefined2 *)(iVar14 + 2) = 1;
                    if (*(short *)(iVar14 + 0x18) == 0) {
                      uVar28 = 3;
                    }
                    else {
                      uVar28 = 4;
                    }
                    break;
                  case 1:
                    uVar28 = 0;
                    *(undefined2 *)(iVar14 + 2) = 0;
                    if (*(short *)(iVar14 + 0x18) != 3) {
                      uVar28 = 1;
                    }
                    break;
                  case 2:
                    *(undefined2 *)(iVar14 + 2) = 3;
                    uVar28 = 6;
                    break;
                  case 3:
                    *(undefined2 *)(iVar14 + 2) = 2;
                    uVar28 = 5;
                    break;
                  default:
                    goto switchD_0041b434_default;
                  }
                  *(undefined2 *)(iVar14 + 0x18) = uVar28;
switchD_0041b434_default:
                  uVar29 += 1;
                  uVar30 = uVar29 & 0xffff;
                } while (uVar30 < (uint)uVar12 + (uint)uVar6);
              }
            }
          }
        }
        else if (iVar14 == 0x80) {
          uVar12 = 0;
          if ((&DAT_0047cf0a)[uVar29 * 0x1e0] != 0) {
            do {
              uVar34 = (uint)uVar12;
              uVar12 += 1;
              *(double *)(uVar34 * 0x20 + 8 + (&DAT_0047cecc)[uVar29 * 0xf0]) =
                   (double)(int)(&DAT_0047cf70)[uVar29 * 0xf0];
            } while (uVar12 < (ushort)(&DAT_0047cf0a)[uVar29 * 0x1e0]);
          }
          uVar34 = local_638 & 0xffff;
          iVar33 = (&DAT_0047cf64)[uVar29 * 0xf0] + uVar34 * 0x1e0;
          uVar30 = 0;
          if ((uint)(ushort)(&DAT_0047cf26)[iVar33] + (uint)(ushort)(&DAT_0047cf20)[iVar33] != 0) {
            uVar37 = 0;
            do {
              *(undefined8 *)((&DAT_0047ced8)[uVar29 * 0xf0] + 8 + uVar37 * 0x18) =
                   0x3ff0000000000000;
              iVar33 = (&DAT_0047cf64)[uVar29 * 0xf0] + uVar34 * 0x1e0;
              uVar30 += 1;
              uVar37 = uVar30 & 0xffff;
            } while (uVar37 < (uint)(ushort)(&DAT_0047cf26)[iVar33] +
                              (uint)(ushort)(&DAT_0047cf20)[iVar33]);
          }
          dVar4 = (double)(int)(&DAT_0047c784)[uVar34 * 0x78];
          if ((int)(&DAT_0047c784)[uVar34 * 0x78] < 0) {
            dVar4 = dVar4 + 4294967296.0;
          }
          local_634._0_4_ = (int)(longlong)ROUND(dVar4 / 20.0);
          (&DAT_0047c784)[uVar34 * 0x78] = (int)local_634 * 10;
          dVar4 = (double)(int)(&DAT_0047c788)[uVar34 * 0x78];
          if ((int)(&DAT_0047c788)[uVar34 * 0x78] < 0) {
            dVar4 = dVar4 + 4294967296.0;
          }
          local_624 = CONCAT22(in_FPUControlWord,(short)local_624);
          local_634 = (longlong)ROUND(dVar4 / 30.0);
          (&DAT_0047c788)[uVar34 * 0x78] = (int)local_634 * 0x14;
        }
        else if (iVar14 == 0x100) {
          _Var44 = _time64(NULL);
          srand((uint)_Var44);
          local_624 = 0;
          if (0 < (int)(&DAT_0047cf64)[uVar29 * 0xf0]) {
            local_628 = (&DAT_0047cf64)[uVar29 * 0xf0];
            local_64c = uVar34 * 0x1e0;
            uVar29 = 0;
            do {
              iVar33 = DAT_0047e2c4;
              iVar14 = local_64c + uVar29;
              uVar34 = (uint)(ushort)(&DAT_0047cefe)[iVar14];
              if (uVar34 < (ushort)(&DAT_0047cef8)[iVar14] + uVar34) {
                local_648 = (uint)(ushort)(&DAT_0047cefe)[iVar14] +
                            (uint)(ushort)(&DAT_0047cef8)[iVar14];
                uVar30 = uVar34;
                do {
                  puVar15 = (undefined2 *)(iVar33 + uVar34 * 0x1c);
                  if (puVar15[1] == 1) {
                    *puVar15 = 1;
                    sVar11 = -1;
LAB_0041b8c1:
                    (&DAT_0047c7b0)[(local_638 & 0xffff) * 0xf0 + uVar29] =
                         (&DAT_0047c7b0)[(local_638 & 0xffff) * 0xf0 + uVar29] + sVar11;
                  }
                  else if (puVar15[1] == 3) {
                    *puVar15 = 1;
                    sVar11 = -2;
                    goto LAB_0041b8c1;
                  }
                  uVar30 += 1;
                  uVar34 = uVar30 & 0xffff;
                } while (uVar34 < local_648);
              }
              local_624 += 1;
              uVar29 = local_624 & 0xffff;
            } while ((int)uVar29 < (int)local_628);
          }
        }
        else if (iVar14 == 0x200) {
          _Var44 = _time64(NULL);
          srand((uint)_Var44);
          local_624 = 0;
          if (0 < (int)(&DAT_0047cf64)[uVar29 * 0xf0]) {
            local_628 = (&DAT_0047cf64)[uVar29 * 0xf0];
            local_64c = uVar34 * 0x1e0;
            uVar29 = 0;
            do {
              iVar33 = DAT_0047e2c4;
              iVar14 = local_64c + uVar29;
              uVar34 = (uint)(ushort)(&DAT_0047cefe)[iVar14];
              if (uVar34 < (ushort)(&DAT_0047cef8)[iVar14] + uVar34) {
                local_648 = (uint)(ushort)(&DAT_0047cefe)[iVar14] +
                            (uint)(ushort)(&DAT_0047cef8)[iVar14];
                uVar30 = uVar34;
                do {
                  puVar15 = (undefined2 *)(iVar33 + uVar34 * 0x1c);
                  if (puVar15[1] == 0) {
                    *puVar15 = 1;
                    sVar11 = -1;
LAB_0041b7b6:
                    (&DAT_0047c7b0)[(local_638 & 0xffff) * 0xf0 + uVar29] =
                         (&DAT_0047c7b0)[(local_638 & 0xffff) * 0xf0 + uVar29] + sVar11;
                  }
                  else if (puVar15[1] == 2) {
                    *puVar15 = 1;
                    sVar11 = -2;
                    goto LAB_0041b7b6;
                  }
                  uVar30 += 1;
                  uVar34 = uVar30 & 0xffff;
                } while (uVar34 < local_648);
              }
              local_624 += 1;
              uVar29 = local_624 & 0xffff;
            } while ((int)uVar29 < (int)local_628);
          }
        }
        local_638 += 1;
      } while ((ushort)local_638 < DAT_0047e2c8);
    }
    DAT_0047c904 = (uint)(DAT_0047c908 == 0);
    DAT_0047e604 = 2;
    _DAT_0047c8e0 = 0;
    DAT_0047c8e4 = 0;
    DAT_0047c8c6 = 0;
    uVar29 = DAT_0047cf58 + DAT_0047cf5c;
    DVar16 = timeGetTime();
    local_624 = CONCAT22(in_FPUControlWord,(short)local_624);
    local_634 = (longlong)
                ROUND((double)(int)(((((int)uVar29 < 0) - 1 & uVar29) - DAT_0047cf6c) + 2000) *
                      _DAT_0047ac88);
    DAT_0047e5c4 = DVar16 + (int)local_634;
    if (-1 < DAT_0047cf68) {
      DAT_0047e5c4 += -2000;
      DAT_0047c904 = 0;
    }
    DVar16 = timeGetTime();
    DAT_0047d6c4 = DVar16 - DAT_0047e5c4;
    DAT_0047e5c8 = 0;
    DAT_0047e620 = 0;
    local_628 = 0;
    if (DAT_0047e2c8 != 0) {
      do {
        uVar29 = local_628 & 0xffff;
        DVar16 = timeGetTime();
        dVar4 = (double)(int)DVar16;
        if ((int)DVar16 < 0) {
          dVar4 = dVar4 + 4294967296.0;
        }
        local_624 = CONCAT22(in_FPUControlWord,(short)local_624);
        local_634 = (longlong)ROUND(dVar4 - _DAT_0047ac88 * 100.0);
        *(int *)(&DAT_0047bb68 + uVar29 * 4) = (int)local_634;
        DVar16 = timeGetTime();
        dVar4 = (double)(int)DVar16;
        if ((int)DVar16 < 0) {
          dVar4 = dVar4 + 4294967296.0;
        }
        local_624 = CONCAT22(in_FPUControlWord,(short)local_624);
        local_634 = (longlong)ROUND(dVar4 - _DAT_0047ac88 * 1000.0);
        *(int *)(&DAT_0047b6d0 + uVar29 * 4) = (int)local_634;
        iVar33 = 4;
        puVar20 = (undefined4 *)(&DAT_0047bdec + uVar29 * 0x20);
        do {
          iVar14 = iVar33;
          DVar16 = timeGetTime();
          dVar4 = (double)(int)DVar16;
          if ((int)DVar16 < 0) {
            dVar4 = dVar4 + 4294967296.0;
          }
          local_624 = CONCAT22(in_FPUControlWord,(short)local_624);
          iVar33 = iVar14 + -1;
          local_634 = (longlong)ROUND(dVar4 - _DAT_0047ac88 * 1000.0);
          *puVar20 = (int)local_634;
          puVar20 = puVar20 + 2;
        } while (iVar33 != 0);
        iVar33 = uVar29 * 0x1e0;
        (&DAT_0047c750)[uVar29 * 0xf0] = 0;
        puVar20 = &DAT_0047c830 + uVar29 * 0x78;
        iVar14 += 7;
        do {
          puVar20[-8] = 0;
          *puVar20 = 0;
          puVar20 = puVar20 + 1;
          iVar14 += -1;
        } while (iVar14 != 0);
        iVar14 = (&DAT_0047c808)[uVar29 * 0x78];
        *(undefined2 *)(&DAT_0047c90c + iVar33) = 0;
        uVar12 = (&DAT_0047cefe)[iVar33 + iVar14];
        *(undefined4 *)(&DAT_0047c8dc + iVar33) = 0;
        *(undefined4 *)(&DAT_0047c8e0 + iVar33) = 0;
        (&DAT_0047c8e4)[uVar29 * 0x78] = 0;
        (&DAT_0047c7ec)[iVar14 + uVar29 * 0x78] = (uint)uVar12;
        if ((DAT_0047e2d4 == 0) || (DAT_0047e2d6 == 0)) {
          sVar11 = (&DAT_0047cf62)[uVar29 * 0x1e0];
          (&DAT_0047c916)[uVar29 * 0xf0] = (&DAT_0047c914)[uVar29 * 0xf0];
          if ((sVar11 == 1) || (sVar11 == 2)) {
            (&DAT_0047c914)[uVar29 * 0xf0] = 10000;
          }
        }
        (&DAT_0047c918)[uVar29 * 0x78] = 0;
        local_628 += 1;
      } while ((ushort)local_628 < DAT_0047e2c8);
    }
    _DAT_0047d650 = 0;
    _DAT_0047d654 = 0;
    _DAT_0047d658 = 0;
    _DAT_0047d65c = 0;
    _DAT_0047d660 = 0;
    _DAT_0047d664 = 0;
    _DAT_0047d668 = 0;
    _DAT_0047d66c = 0;
    pmmt_0047be2c = (LPMMTIME)0x1;
    pcVar35 = timeGetTime_exref;
    pcVar39 = Sleep_exref;
  }
  if ((DAT_0047e2d4 == 0) || (DAT_0047e2d6 == 0)) {
    DAT_0047c778 = 0;
    _DAT_0047c8f4 = 0;
  }
  DAT_0047e60c = 1;
  sVar11 = GetAsyncKeyState(0x51);
  while (sVar11 != 0) {
    if (DAT_0047e61c != 0) goto LAB_0041bfbc;
    iVar33 = (*pcVar35)();
    do {
      BVar17 = PeekMessageA(&local_66c,NULL,0,0,1);
      if (BVar17 != 0) {
        TranslateMessage(&local_66c);
        DispatchMessageA(&local_66c);
      }
      (*pcVar39)(1);
      uVar29 = (*pcVar35)();
    } while (uVar29 < iVar33 + 1U);
    sVar11 = GetAsyncKeyState(0x51);
  }
  while (DAT_0047e61c == 0) {
    iVar33 = (*pcVar35)();
    if (DAT_0047e604 == 2) {
      FUN_00422090();
    }
    SVar13 = GetAsyncKeyState(0x1b);
    if ((SVar13 == 0) || (DAT_0047e624 != 0)) {
LAB_0041beb0:
      if (DAT_0047e624 == 1) {
        iVar14 = (*pcVar35)();
        iVar14 -= DAT_0047e2cc;
        local_634 = CONCAT44(iVar14,(int)local_634);
        dVar4 = (double)iVar14;
        if (iVar14 < 0) {
          dVar4 = dVar4 + 4294967296.0;
        }
        if (_DAT_0047ac88 * 350.0 < dVar4 != (NAN(_DAT_0047ac88 * 350.0) || NAN(dVar4))) {
          DAT_0047e61c = 1;
          FUN_00422090();
        }
      }
    }
    else {
      DAT_0047c904 = 0;
      DAT_0047e61c = 1;
      DAT_0047e63c = 0;
      DAT_0047e2d4 = 0;
      if (0 < INT_0047e630) {
        DAT_0047e61c = 0;
        DAT_0047e63c = 2;
        DAT_0047e624 = 1;
        DAT_0047e2d0 = 0;
        DAT_0047e2cc = (*pcVar35)();
        goto LAB_0041beb0;
      }
    }
    ResumeThread(DAT_0047e4f0);
    iVar14 = (*pcVar35)();
    if ((uint)(iVar14 - iVar33) < (uint)(1000 / (ulonglong)DAT_0047ac90)) {
      FUN_0043a6e0();
    }
    else {
      uVar29 = (*pcVar35)();
      do {
        BVar17 = PeekMessageA(&local_66c,NULL,0,0,1);
        if (BVar17 != 0) {
          TranslateMessage(&local_66c);
          DispatchMessageA(&local_66c);
        }
        uVar34 = (*pcVar35)();
      } while (uVar34 < uVar29);
    }
    if ((_DAT_00482ad4 & 1) == 0) {
      _DAT_00482ad4 |= 1;
      _DAT_00482ad0 = (*pcVar35)();
    }
    DVar16 = (*pcVar35)();
    if (999 < DVar16 - _DAT_00482ad0) {
      DAT_0047d648 = DAT_00482acc;
      DAT_00482acc = 0;
      _DAT_00482ad0 = DVar16;
    }
    DAT_00482acc += 1;
  }
LAB_0041bfbc:
  if ((DAT_0047cf62 == 2) && (DAT_0047e2d4 == 0)) {
    DAT_0047cf62 = 0;
    DAT_0047d322 = 0;
  }
  DAT_0047cb40 = 3;
  WaitForSingleObject(DAT_0047d6d8,0xffffffff);
  _DAT_0047e534 = 0;
  DAT_0047e500 = 0;
  DAT_0047e540 = 0;
  _DAT_0047c7e4 = 0;
  ResumeThread(DAT_0047e4f0);
  WaitForSingleObject(DAT_0047e4f0,0xffffffff);
  CloseHandle(DAT_0047e4f0);
  DAT_0047e4f0 = NULL;
  if (DAT_0047e2c8 != 0) {
    puVar23 = &DAT_0047cf78;
    uVar29 = (uint)DAT_0047e2c8;
    do {
      if ((puVar23[-0x58] != 0) || (DAT_0047cf7c != 0)) {
        *puVar23 = auStack_10[1];
      }
      puVar23 = puVar23 + 0x1e0;
      uVar29 -= 1;
    } while (uVar29 != 0);
  }
  iVar33 = 0;
  iVar14 = 0;
  local_644 = (double)CONCAT44(0x20,(undefined4)local_644);
  do {
    pwVar2 = (LPWAVEHDR)((int)&DAT_0047c2c0 + iVar33);
    if (*(int *)((int)&DAT_0047c2c0 + iVar33) != 0) {
      waveOutReset(*(HWAVEOUT *)((int)&DAT_0047bae8 + iVar14));
    }
    if (*(int *)((int)&DAT_0047b6d8 + iVar33) != 0) {
      waveOutReset(*(HWAVEOUT *)((int)&DAT_0047be38 + iVar14));
    }
    if (DAT_0047e624 == 0) {
LAB_0041c0fa:
      if (*(int *)((int)&DAT_0047d72c + iVar33) != 1) {
        waveOutReset(*(HWAVEOUT *)((int)&DAT_0047bae8 + iVar14));
        waveOutUnprepareHeader
                  (*(HWAVEOUT *)((int)&DAT_0047bae8 + iVar14),
                   (LPWAVEHDR)((int)&DAT_0047d720 + iVar33),0x20);
        if (*(int *)((int)&DAT_0047d72c + iVar33) == 0) {
          waveOutClose(*(HWAVEOUT *)((int)&DAT_0047bae8 + iVar14));
          *(undefined4 *)((int)&DAT_0047bae8 + iVar14) = 0;
        }
        *(undefined4 *)((int)&DAT_0047d72c + iVar33) = 1;
      }
      if (*(LPVOID *)((int)&DAT_0047d720 + iVar33) != NULL) {
        HeapFree(DAT_0047e614,0,*(LPVOID *)((int)&DAT_0047d720 + iVar33));
        *(undefined4 *)((int)&DAT_0047d720 + iVar33) = 0;
      }
      if (*(int *)((int)&DAT_0047c2cc + iVar33) != 1) {
        waveOutReset(*(HWAVEOUT *)((int)&DAT_0047bae8 + iVar14));
        waveOutUnprepareHeader(*(HWAVEOUT *)((int)&DAT_0047bae8 + iVar14),pwVar2,0x20);
        if (*(int *)((int)&DAT_0047c2cc + iVar33) == 0) {
          waveOutClose(*(HWAVEOUT *)((int)&DAT_0047bae8 + iVar14));
          *(undefined4 *)((int)&DAT_0047bae8 + iVar14) = 0;
        }
        *(undefined4 *)((int)&DAT_0047c2cc + iVar33) = 1;
      }
      if (pwVar2->lpData != NULL) {
        HeapFree(DAT_0047e614,0,pwVar2->lpData);
        pwVar2->lpData = NULL;
      }
      if (*(int *)((int)&DAT_0047bec4 + iVar33) != 1) {
        waveOutReset(*(HWAVEOUT *)((int)&DAT_0047be38 + iVar14));
        waveOutUnprepareHeader
                  (*(HWAVEOUT *)((int)&DAT_0047be38 + iVar14),
                   (LPWAVEHDR)((int)&DAT_0047beb8 + iVar33),0x20);
        if (*(int *)((int)&DAT_0047bec4 + iVar33) == 0) {
          waveOutClose(*(HWAVEOUT *)((int)&DAT_0047be38 + iVar14));
          *(undefined4 *)((int)&DAT_0047be38 + iVar14) = 0;
        }
        *(undefined4 *)((int)&DAT_0047bec4 + iVar33) = 1;
      }
      if (*(LPVOID *)((int)&DAT_0047beb8 + iVar33) != NULL) {
        HeapFree(DAT_0047e614,0,*(LPVOID *)((int)&DAT_0047beb8 + iVar33));
        *(undefined4 *)((int)&DAT_0047beb8 + iVar33) = 0;
      }
      if (*(int *)((int)&DAT_0047b6e4 + iVar33) != 1) {
        waveOutReset(*(HWAVEOUT *)((int)&DAT_0047be38 + iVar14));
        waveOutUnprepareHeader
                  (*(HWAVEOUT *)((int)&DAT_0047be38 + iVar14),
                   (LPWAVEHDR)((int)&DAT_0047b6d8 + iVar33),0x20);
        if (*(int *)((int)&DAT_0047b6e4 + iVar33) == 0) {
          waveOutClose(*(HWAVEOUT *)((int)&DAT_0047be38 + iVar14));
          *(undefined4 *)((int)&DAT_0047be38 + iVar14) = 0;
        }
        *(undefined4 *)((int)&DAT_0047b6e4 + iVar33) = 1;
      }
      if (*(LPVOID *)((int)&DAT_0047b6d8 + iVar33) != NULL) {
        HeapFree(DAT_0047e614,0,*(LPVOID *)((int)&DAT_0047b6d8 + iVar33));
        *(undefined4 *)((int)&DAT_0047b6d8 + iVar33) = 0;
      }
    }
    else {
      uVar29 = DAT_0047e63c & 0x80000001;
      bVar42 = uVar29 == 0;
      if ((int)uVar29 < 0) {
        bVar42 = (uVar29 - 1 | 0xfffffffe) == 0xffffffff;
      }
      if ((bVar42) || (DAT_0047e63c == 3)) goto LAB_0041c0fa;
    }
    iVar33 += 0x20;
    iVar14 += 4;
    iVar3 = local_644._4_4_ + -1;
    local_644 = (double)CONCAT44(iVar3,(undefined4)local_644);
  } while (iVar3 != 0);
  if (pwh_0047c700 != NULL) {
    waveOutReset((HWAVEOUT)phwo_0047b128);
  }
  if (DAT_0047e624 == 0) {
LAB_0041c322:
    if (DAT_0047c70c != 1) {
      waveOutReset((HWAVEOUT)phwo_0047b128);
      waveOutUnprepareHeader((HWAVEOUT)phwo_0047b128,(LPWAVEHDR)&pwh_0047c700,0x20);
      if (DAT_0047c70c == 0) {
        waveOutClose((HWAVEOUT)phwo_0047b128);
        phwo_0047b128 = NULL;
      }
      DAT_0047c70c = 1;
    }
    if (pwh_0047c700 != NULL) {
      HeapFree(DAT_0047e614,0,pwh_0047c700);
      pwh_0047c700 = NULL;
    }
    if (DAT_0047b13c != 1) {
      waveOutReset((HWAVEOUT)phwo_0047b128);
      waveOutUnprepareHeader((HWAVEOUT)phwo_0047b128,(LPWAVEHDR)&pwh_0047b130,0x20);
      if (DAT_0047b13c == 0) {
        waveOutClose((HWAVEOUT)phwo_0047b128);
        phwo_0047b128 = NULL;
      }
      DAT_0047b13c = 1;
    }
    if (pwh_0047b130 != NULL) {
      HeapFree(DAT_0047e614,0,pwh_0047b130);
      pwh_0047b130 = NULL;
    }
  }
  else {
    uVar29 = DAT_0047e63c & 0x80000001;
    bVar42 = uVar29 == 0;
    if ((int)uVar29 < 0) {
      bVar42 = (uVar29 - 1 | 0xfffffffe) == 0xffffffff;
    }
    if ((bVar42) || (DAT_0047e63c == 3)) goto LAB_0041c322;
  }
  if (((phwo_0047ce90 != NULL) && (DAT_0047e5bc != NULL)) && (DAT_0047e5bc->lpData != NULL)) {
    waveOutReset((HWAVEOUT)phwo_0047ce90);
  }
  pwVar2 = DAT_0047e5bc;
  if (DAT_0047e624 == 0) {
LAB_0041c45a:
    if (DAT_0047e5bc != NULL) {
      pDVar1 = &DAT_0047e5bc->dwUser;
      pwVar32 = DAT_0047e5bc;
      if (DAT_0047e5bc->dwUser != 1) {
        waveOutReset((HWAVEOUT)phwo_0047ce90);
        waveOutUnprepareHeader((HWAVEOUT)phwo_0047ce90,pwVar2,0x20);
        if (*pDVar1 == 0) {
          waveOutClose((HWAVEOUT)phwo_0047ce90);
          phwo_0047ce90 = NULL;
        }
        pwVar32 = DAT_0047e5bc;
        *pDVar1 = 1;
      }
      if (pwVar2->lpData != NULL) {
        HeapFree(DAT_0047e614,0,pwVar2->lpData);
        pwVar32 = DAT_0047e5bc;
        pwVar2->lpData = NULL;
      }
      if ((DAT_0047ceca == 1) && (0 < DAT_0047ac70)) {
        pwVar2 = pwVar32 + 1;
        if (pwVar32[1].dwUser != 1) {
          waveOutReset((HWAVEOUT)phwo_0047ce90);
          waveOutUnprepareHeader((HWAVEOUT)phwo_0047ce90,pwVar2,0x20);
          if (pwVar32[1].dwUser == 0) {
            waveOutClose((HWAVEOUT)phwo_0047ce90);
            phwo_0047ce90 = NULL;
          }
          pwVar32[1].dwUser = 1;
        }
        if (pwVar2->lpData != NULL) {
          HeapFree(DAT_0047e614,0,pwVar2->lpData);
          pwVar2->lpData = NULL;
        }
      }
    }
  }
  else {
    uVar29 = DAT_0047e63c & 0x80000001;
    bVar42 = uVar29 == 0;
    if ((int)uVar29 < 0) {
      bVar42 = (uVar29 - 1 | 0xfffffffe) == 0xffffffff;
    }
    if ((bVar42) || (DAT_0047e63c == 3)) goto LAB_0041c45a;
  }
  local_628 = 0;
  if ((uint)DAT_0047cafc + (uint)DAT_0047c91c != 0) {
    uVar29 = 0;
    do {
      if (DAT_0047e624 == 0) {
LAB_0041c59c:
        if (DAT_0047e5c0 != NULL) {
          pwVar2 = (LPWAVEHDR)(uVar29 * 0x20 + (int)DAT_0047e5c0);
          if ((ushort)local_628 < DAT_0047c91c) {
            if (pwVar2->dwUser != 1) {
              waveOutReset(DAT_0047b17c);
              waveOutUnprepareHeader(DAT_0047b17c,pwVar2,0x20);
              if (pwVar2->dwUser == 0) {
                waveOutClose(DAT_0047b17c);
                DAT_0047b17c = NULL;
              }
              pwVar2->dwUser = 1;
            }
            lpMem = pwVar2->lpData;
          }
          else {
            if (pwVar2->dwUser != 1) {
              waveOutReset(DAT_0047b180);
              waveOutUnprepareHeader(DAT_0047b180,pwVar2,0x20);
              if (pwVar2->dwUser == 0) {
                waveOutClose(DAT_0047b180);
                DAT_0047b180 = NULL;
              }
              pwVar2->dwUser = 1;
            }
            lpMem = pwVar2->lpData;
          }
          if (lpMem != NULL) {
            HeapFree(DAT_0047e614,0,lpMem);
            pwVar2->lpData = NULL;
          }
          if ((ushort)local_628 < DAT_0047e2c8) {
            pwVar2 = (LPWAVEHDR)(&DAT_0047c6c0 + uVar29 * 8);
            if ((&DAT_0047c6cc)[uVar29 * 8] != 1) {
              waveOutReset((&DAT_0047b17c)[uVar29]);
              waveOutUnprepareHeader((&DAT_0047b17c)[uVar29],pwVar2,0x20);
              if ((&DAT_0047c6cc)[uVar29 * 8] == 0) {
                waveOutClose((&DAT_0047b17c)[uVar29]);
                (&DAT_0047b17c)[uVar29] = NULL;
              }
              (&DAT_0047c6cc)[uVar29 * 8] = 1;
            }
            if (pwVar2->lpData != NULL) {
              HeapFree(DAT_0047e614,0,pwVar2->lpData);
              pwVar2->lpData = NULL;
            }
          }
        }
      }
      else {
        uVar34 = DAT_0047e63c & 0x80000001;
        bVar42 = uVar34 == 0;
        if ((int)uVar34 < 0) {
          bVar42 = (uVar34 - 1 | 0xfffffffe) == 0xffffffff;
        }
        if ((bVar42) || (DAT_0047e63c == 3)) goto LAB_0041c59c;
      }
      local_628 += 1;
      uVar29 = local_628 & 0xffff;
    } while (uVar29 < (uint)DAT_0047cafc + (uint)DAT_0047c91c);
  }
  if (DAT_0047e5c0 == NULL) {
    DAT_0047c91c = 0;
    DAT_0047cafc = 0;
  }
  if (DAT_0047e624 == 0) {
LAB_0041c75d:
    if (DAT_0047e5c0 != NULL) {
      HeapFree(DAT_0047e614,0,DAT_0047e5c0);
      DAT_0047e5c0 = NULL;
    }
  }
  else {
    uVar29 = DAT_0047e63c & 0x80000001;
    bVar42 = uVar29 == 0;
    if ((int)uVar29 < 0) {
      bVar42 = (uVar29 - 1 | 0xfffffffe) == 0xffffffff;
    }
    if ((bVar42) || (DAT_0047e63c == 3)) goto LAB_0041c75d;
  }
  if (((DAT_0047ceca == 1) && (0 < DAT_0047ac70)) && (-1 < DAT_0047e604)) {
    FUN_00414900();
  }
  if (DAT_0047e604 != -1) {
    FUN_00420e40();
  }
  timeEndPeriod(local_674.wPeriodMin);
  if (DAT_0047e624 == 0) {
    if (DAT_0047e4dc != NULL) {
      if ((void *)*DAT_0047e4dc != NULL) {
        free((void *)*DAT_0047e4dc);
      }
      *DAT_0047e4dc = 0;
      free(DAT_0047e4dc);
    }
    DAT_0047e4dc = NULL;
    psVar38 = (short *)&_Memory_0047e750;
    do {
      if ((*psVar38 == 4) && (*(void **)(psVar38 + 0x222) != NULL)) {
        free(*(void **)(psVar38 + 0x222));
        psVar38[0x222] = 0;
        psVar38[0x223] = 0;
      }
      psVar38 = *(short **)(psVar38 + 0x26a);
    } while (psVar38 != NULL);
    if (DAT_0047e5bc != NULL) {
      HeapFree(DAT_0047e614,0,DAT_0047e5bc);
    }
    DAT_0047e5bc = NULL;
    if (DAT_0047e5c0 != NULL) {
      HeapFree(DAT_0047e614,0,DAT_0047e5c0);
    }
    DAT_0047e5c0 = NULL;
    puVar20 = &DAT_0047c920;
    pvVar41 = (HANDLE)0x2;
    do {
      if ((LPVOID)*puVar20 != NULL) {
        HeapFree(DAT_0047e614,0,(LPVOID)*puVar20);
        *puVar20 = 0;
      }
      puVar20 = puVar20 + 0x78;
      pvVar41 = (HANDLE)((int)pvVar41 + -1);
    } while (pvVar41 != NULL);
    HeapDestroy(DAT_0047e614);
    pcVar10 = &_Dst_0047bb90;
    do {
      pcVar25 = pcVar10;
      pcVar10 = pcVar25 + 1;
    } while (*pcVar25 != '\0');
    DAT_0047e614 = pvVar41;
    if (pcVar25 + -0x47bb90 != NULL) {
      puVar24 = _mbsrchr(&_Dst_0047bb90,0x5c);
      puVar26 = puVar24 + 1;
      do {
        uVar5 = *puVar24;
        puVar24 = puVar24 + 1;
      } while (uVar5 != '\0');
      _mbsnbcpy_s(local_214,0x200,&_Dst_0047bb90,
                  (int)(pcVar25 + -0x47bb90) - ((int)puVar24 - (int)puVar26));
      strcat_s((char *)local_214,0x200,"\\tmpsng");
      fopen_s(&local_650,(char *)local_214,"r");
      if (local_650 != NULL) {
        fclose(local_650);
        remove((char *)local_214);
      }
    }
    GetModuleFileNameA(NULL,(LPSTR)local_414,0x200);
    puVar26 = local_414;
    do {
      uVar5 = *puVar26;
      puVar26 = puVar26 + 1;
    } while (uVar5 != '\0');
    puVar27 = _mbsrchr(local_414,0x5c);
    puVar24 = puVar27 + 1;
    do {
      uVar5 = *puVar27;
      puVar27 = puVar27 + 1;
    } while (uVar5 != '\0');
    _mbsnbcpy_s(local_614,0x200,local_414,
                (size_t)(puVar26 + (-((int)puVar27 - (int)puVar24) - (int)(local_414 + 1))));
    strcat_s((char *)local_614,0x200,"\\config.ini");
    sprintf_s((char *)local_214,0x200,"%hu",DAT_0047e5a8);
    WritePrivateProfileStringA("options","SortMode",(LPCSTR)local_214,(LPCSTR)local_614);
    DeleteObject(DAT_0047b178);
    puVar20 = &DAT_0047bb80;
    iVar33 = 3;
    do {
      DeleteObject((HGDIOBJ)*puVar20);
      puVar20 = puVar20 + 1;
      iVar33 += -1;
    } while (iVar33 != 0);
    puVar20 = &DAT_0047d6b0;
    pHVar36 = (HDC)0x5;
    do {
      DeleteObject((HGDIOBJ)*puVar20);
      puVar20 = puVar20 + 1;
      pHVar36 = (HDC)((int)&pHVar36[-1].unused + 3);
    } while (pHVar36 != NULL);
    DeleteObject(DAT_0047bae0);
    DeleteObject(DAT_0047ce7c);
    DeleteObject(DAT_0047ce38);
    DeleteObject(DAT_0047bca4);
    DeleteObject(DAT_0047b184);
    DeleteObject(HGDIOBJ_0047bae4);
    DeleteObject(DAT_0047b6c4);
    DeleteObject(DAT_0047bb74);
    uVar29 = 0;
    if (0 < DAT_0047e584) {
      uVar34 = 0;
      do {
        ho = *(HGDIOBJ *)(DAT_0047e5ac + uVar34 * 4);
        if (ho != NULL) {
          DeleteObject(ho);
        }
        uVar29 += 1;
        uVar34 = uVar29 & 0xffff;
      } while ((int)uVar34 < DAT_0047e584);
    }
    if (DAT_0047e5ac != 0) {
      free((void *)DAT_0047e5ac);
    }
    if (DAT_0047e5b0 != 0) {
      free((void *)DAT_0047e5b0);
    }
    if (DAT_0047e5b4 != 0) {
      free((void *)DAT_0047e5b4);
    }
    if (DAT_0047e5b8 != 0) {
      free((void *)DAT_0047e5b8);
    }
    DeleteDC(HDC_0047b6c0);
    DeleteObject(DAT_0047b150);
    DeleteDC(DAT_0047bb7c);
    DeleteObject(DAT_0047b12c);
    FUN_0041cde0(0);
    if ((DAT_0047e5cc != NULL) && (DeleteDC(DAT_0047e5d0), DAT_0047e5cc != NULL)) {
      DeleteObject(DAT_0047e5cc);
    }
    DAT_0047e5cc = pHVar36;
    DAT_0047e5d0 = pHVar36;
    __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
    return;
  }
  if (DAT_0047e63c == 3) {
    uVar12 = DAT_0047e2c8 & 1;
    if (false) {
      uVar12 = (uVar12 - 1 | 0xfffe) + 1;
    }
    DAT_0047d316 = DAT_0047cf56;
    DAT_0047e2c8 = uVar12 + 1;
    if (DAT_0047e5bc != NULL) {
      HeapFree(DAT_0047e614,0,DAT_0047e5bc);
    }
    DAT_0047e5bc = NULL;
  }
  else {
    uVar29 = DAT_0047e63c & 0x80000001;
    bVar42 = uVar29 == 0;
    if ((int)uVar29 < 0) {
      bVar42 = (uVar29 - 1 | 0xfffffffe) == 0xffffffff;
    }
    if ((bVar42) || ((DAT_0047ceca == 1 && (0 < DAT_0047ac70)))) {
      if (DAT_0047e5bc != NULL) {
        HeapFree(DAT_0047e614,0,DAT_0047e5bc);
      }
      DAT_0047e5bc = NULL;
      pcVar10 = &_Dst_0047bb90;
      do {
        pcVar25 = pcVar10;
        pcVar10 = pcVar25 + 1;
      } while (*pcVar25 != '\0');
      if (pcVar25 + -0x47bb90 != NULL) {
        puVar24 = _mbsrchr(&_Dst_0047bb90,0x5c);
        puVar26 = puVar24 + 1;
        do {
          uVar5 = *puVar24;
          puVar24 = puVar24 + 1;
        } while (uVar5 != '\0');
        _mbsnbcpy_s(local_214,0x200,&_Dst_0047bb90,
                    (int)(pcVar25 + -0x47bb90) - ((int)puVar24 - (int)puVar26));
        strcat_s((char *)local_214,0x200,"\\tmpsng");
        fopen_s(&local_650,(char *)local_214,"r");
        if (local_650 != NULL) {
          fclose(local_650);
          remove((char *)local_214);
        }
      }
      uVar29 = DAT_0047e63c & 0x80000001;
      bVar42 = uVar29 == 0;
      if ((int)uVar29 < 0) {
        bVar42 = (uVar29 - 1 | 0xfffffffe) == 0xffffffff;
      }
      if (bVar42) {
        if ((DAT_0047e5cc != NULL) && (DeleteDC(DAT_0047e5d0), DAT_0047e5cc != NULL)) {
          DeleteObject(DAT_0047e5cc);
        }
        DAT_0047e5d0 = NULL;
        DAT_0047e5cc = NULL;
      }
    }
  }
  if (DAT_0047e624 != 0) {
    uVar29 = DAT_0047e63c & 0x80000001;
    bVar42 = uVar29 == 0;
    if ((int)uVar29 < 0) {
      bVar42 = (uVar29 - 1 | 0xfffffffe) == 0xffffffff;
    }
    if ((!bVar42) && (DAT_0047e63c != 3)) goto LAB_0041c9df;
  }
  if (DAT_0047e5c0 != NULL) {
    HeapFree(DAT_0047e614,0,DAT_0047e5c0);
  }
  DAT_0047e5c0 = NULL;
  puVar20 = &DAT_0047c920;
  iVar33 = 2;
  do {
    if ((LPVOID)*puVar20 != NULL) {
      HeapFree(DAT_0047e614,0,(LPVOID)*puVar20);
      *puVar20 = 0;
    }
    puVar20 = puVar20 + 0x78;
    iVar33 += -1;
  } while (iVar33 != 0);
  HeapDestroy(DAT_0047e614);
  DAT_0047e614 = NULL;
  FUN_0041cde0(1);
LAB_0041c9df:
  DAT_0047e61c = 0;
  DAT_0047e5c4 = 0;
  __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
  return;
}


// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl FUN_0041cde0(int param_1)

{
  undefined4 *puVar1;
  
  if (DAT_0047c720 != 0) {
    free((void *)DAT_0047c720);
  }
  DAT_0047c720 = 0;
  if (DAT_0047b690 != 0) {
    free((void *)DAT_0047b690);
    DAT_0047b690 = 0;
  }
  if (DAT_00482090 == DAT_00482368) {
LAB_0041ce2f:
    DAT_00482090 = 0;
  }
  else if (DAT_00482090 != 0) {
    free((void *)DAT_00482090);
    goto LAB_0041ce2f;
  }
  if (DAT_004826b0 == DAT_00482598) {
LAB_0041ce53:
    DAT_004826b0 = 0;
  }
  else if (DAT_004826b0 != 0) {
    free((void *)DAT_004826b0);
    goto LAB_0041ce53;
  }
  if (DAT_004829c0 != 0) {
    free((void *)DAT_004829c0);
    DAT_004829c0 = 0;
  }
  if (DAT_00482918 != 0) {
    free((void *)DAT_00482918);
    DAT_00482918 = 0;
  }
  if (DAT_00482598 == DAT_00482368) {
    if ((param_1 == 0) && (DAT_00482598 != 0)) {
      free((void *)DAT_00482598);
      DAT_00482598 = 0;
    }
    DAT_00482368 = 0;
    DAT_00481d10 = 0;
LAB_0041cf08:
    DAT_00481c28 = 0;
  }
  else {
    if ((param_1 == 0) && (DAT_00482598 != 0)) {
      free((void *)DAT_00482598);
      DAT_00482598 = 0;
    }
    if (DAT_00482368 != 0) {
      free((void *)DAT_00482368);
      DAT_00482368 = 0;
    }
    if (DAT_00481d10 != 0) {
      free((void *)DAT_00481d10);
      DAT_00481d10 = 0;
    }
    if (DAT_00481c28 != 0) {
      free((void *)DAT_00481c28);
      goto LAB_0041cf08;
    }
  }
  DAT_00482398 = 0;
  if (DAT_004821a8 == DAT_00482a30) {
LAB_0041cf32:
    DAT_004821a8 = 0;
  }
  else if (DAT_004821a8 != 0) {
    free((void *)DAT_004821a8);
    goto LAB_0041cf32;
  }
  DAT_004821d8 = 0;
  if (DAT_00481fb0 == DAT_00482a30) {
LAB_0041cf58:
    DAT_00482a30 = 0;
  }
  else if (DAT_00482a30 != 0) {
    free((void *)DAT_00482a30);
    goto LAB_0041cf58;
  }
  DAT_00482a60 = 0;
  if (DAT_00481fb0 != 0) {
    free((void *)DAT_00481fb0);
    DAT_00481fb0 = 0;
  }
  if (DAT_00481f08 != 0) {
    free((void *)DAT_00481f08);
    DAT_00481f08 = 0;
  }
  if (DAT_00482330 == DAT_00481e28) {
    DAT_00482360 = 0;
  }
  else {
    if (DAT_00482330 == 0) goto LAB_0041cfb6;
    free((void *)DAT_00482330);
  }
  DAT_00482330 = 0;
LAB_0041cfb6:
  if (DAT_00481e28 != 0) {
    free((void *)DAT_00481e28);
    DAT_00481e28 = 0;
  }
  if (DAT_004825d0 != 0) {
    free((void *)DAT_004825d0);
    DAT_004825d0 = 0;
  }
  if (DAT_00481db8 != 0) {
    free((void *)DAT_00481db8);
    DAT_00481db8 = 0;
  }
  if (DAT_00481ca0 != 0) {
    free((void *)DAT_00481ca0);
    DAT_00481ca0 = 0;
  }
  if (DAT_00481fe8 != 0) {
    free((void *)DAT_00481fe8);
    DAT_00481fe8 = 0;
  }
  if (DAT_00482988 != 0) {
    free((void *)DAT_00482988);
    DAT_00482988 = 0;
  }
  if (DAT_00482410 != 0) {
    free((void *)DAT_00482410);
    DAT_00482410 = 0;
  }
  if (DAT_00482480 != 0) {
    free((void *)DAT_00482480);
    DAT_00482480 = 0;
  }
  if (DAT_00482800 != 0) {
    free((void *)DAT_00482800);
    DAT_00482800 = 0;
  }
  if (DAT_00481f40 != 0) {
    free((void *)DAT_00481f40);
    DAT_00481f40 = 0;
  }
  if (DAT_00481e98 != 0) {
    free((void *)DAT_00481e98);
    DAT_00481e98 = 0;
  }
  if (DAT_00481c68 != 0) {
    free((void *)DAT_00481c68);
    DAT_00481c68 = 0;
  }
  if (DAT_00482448 != 0) {
    free((void *)DAT_00482448);
    DAT_00482448 = 0;
  }
  if (DAT_004821e0 != 0) {
    free((void *)DAT_004821e0);
    DAT_004821e0 = 0;
  }
  if (DAT_004827c8 != 0) {
    free((void *)DAT_004827c8);
    DAT_004827c8 = 0;
  }
  if (DAT_00482218 != 0) {
    free((void *)DAT_00482218);
    DAT_00482218 = 0;
  }
  if (DAT_00482790 != 0) {
    free((void *)DAT_00482790);
    DAT_00482790 = 0;
  }
  if (DAT_004829f8 != 0) {
    free((void *)DAT_004829f8);
    DAT_004829f8 = 0;
  }
  if (DAT_00482020 != 0) {
    free((void *)DAT_00482020);
    DAT_00482020 = 0;
  }
  if (DAT_00481d80 != 0) {
    free((void *)DAT_00481d80);
    DAT_00481d80 = 0;
  }
  if (DAT_00481f78 != 0) {
    free((void *)DAT_00481f78);
    DAT_00481f78 = 0;
  }
  if (DAT_004826e8 != 0) {
    free((void *)DAT_004826e8);
    DAT_004826e8 = 0;
  }
  if (DAT_004822c0 != 0) {
    free((void *)DAT_004822c0);
    DAT_004822c0 = 0;
  }
  if (DAT_00481ed0 != 0) {
    free((void *)DAT_00481ed0);
    DAT_00481ed0 = 0;
  }
  if (DAT_00481cd8 != 0) {
    free((void *)DAT_00481cd8);
  }
  DAT_00481cd8 = 0;
  if (DAT_00481df0 != 0) {
    free((void *)DAT_00481df0);
    DAT_00481df0 = 0;
  }
  if (DAT_00482838 != 0) {
    free((void *)DAT_00482838);
    DAT_00482838 = 0;
  }
  if (DAT_004828a8 != 0) {
    free((void *)DAT_004828a8);
    DAT_004828a8 = 0;
  }
  if (DAT_00482138 != 0) {
    free((void *)DAT_00482138);
    DAT_00482138 = 0;
  }
  if (DAT_00482870 != 0) {
    free((void *)DAT_00482870);
    DAT_00482870 = 0;
  }
  if (DAT_004828e0 != 0) {
    free((void *)DAT_004828e0);
    DAT_004828e0 = 0;
  }
  if (DAT_00482170 != 0) {
    free((void *)DAT_00482170);
    DAT_00482170 = 0;
  }
  puVar1 = &DAT_004824b8;
  do {
    if ((void *)*puVar1 != NULL) {
      free((void *)*puVar1);
      *puVar1 = 0;
    }
    puVar1 = puVar1 + 0xe;
  } while ((int)puVar1 < 0x482560);
  if (DAT_0047d64c != 0) {
    free((void *)DAT_0047d64c);
    DAT_0047d64c = 0;
  }
  if (DAT_00482950 != 0) {
    free((void *)DAT_00482950);
    DAT_00482950 = 0;
  }
  if (DAT_00482100 != 0) {
    free((void *)DAT_00482100);
    DAT_00482100 = 0;
  }
  if (DAT_00482560 != 0) {
    free((void *)DAT_00482560);
    DAT_00482560 = 0;
  }
  if (param_1 == 0) {
    if (DAT_004820c8 != 0) {
      free((void *)DAT_004820c8);
      DAT_004820c8 = 0;
    }
    if (DAT_00482758 != 0) {
      free((void *)DAT_00482758);
      DAT_00482758 = 0;
    }
  }
  if (DAT_00482720 != 0) {
    free((void *)DAT_00482720);
    DAT_00482720 = 0;
  }
  if (DAT_004823d8 != 0) {
    free((void *)DAT_004823d8);
    DAT_004823d8 = 0;
  }
  if (DAT_00481e60 != 0) {
    free((void *)DAT_00481e60);
    DAT_00481e60 = 0;
  }
  if (DAT_00482058 != 0) {
    free((void *)DAT_00482058);
    DAT_00482058 = 0;
  }
  if (DAT_00482678 != 0) {
    free((void *)DAT_00482678);
    DAT_00482678 = 0;
  }
  if (DAT_00481d48 != 0) {
    free((void *)DAT_00481d48);
    DAT_00481d48 = 0;
  }
  if (DAT_00482250 != 0) {
    free((void *)DAT_00482250);
    DAT_00482250 = 0;
  }
  if (DAT_00482288 != 0) {
    free((void *)DAT_00482288);
    DAT_00482288 = 0;
  }
  if (DAT_004822f8 != 0) {
    free((void *)DAT_004822f8);
    DAT_004822f8 = 0;
  }
  if (DAT_00482640 != 0) {
    free((void *)DAT_00482640);
    DAT_00482640 = 0;
  }
  if (DAT_004823a0 != 0) {
    free((void *)DAT_004823a0);
    DAT_004823a0 = 0;
  }
  if (DAT_00482608 != 0) {
    free((void *)DAT_00482608);
    DAT_00482608 = 0;
  }
  if (DAT_0047e5cc != NULL) {
    DeleteDC(DAT_0047e5d0);
    if (DAT_0047e5cc != NULL) {
      DeleteObject(DAT_0047e5cc);
    }
  }
  DAT_0047e5d0 = NULL;
  DAT_0047e5cc = NULL;
  if (DAT_0047bb8c != NULL) {
    DeleteDC(DAT_0047b124);
    if (DAT_0047bb8c != NULL) {
      DeleteObject(DAT_0047bb8c);
    }
  }
  DAT_0047b124 = NULL;
  DAT_0047bb8c = NULL;
  if (DAT_0047bb70 != NULL) {
    DeleteDC(DAT_0047ce94);
    if (DAT_0047bb70 != NULL) {
      DeleteObject(DAT_0047bb70);
    }
  }
  DAT_0047ce94 = NULL;
  DAT_0047bb70 = NULL;
  _DAT_0047d6e8 = 0;
  _DAT_0047ce98 = 0;
  if (param_1 == 0) {
    HeapDestroy(DAT_0047e610);
  }
  return;
}


/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void FUN_0041d4a0(char *param_1)

{
  char cVar1;
  double dVar2;
  LPSIZE ptVar3;
  SHORT SVar4;
  ushort uVar5;
  uint uVar6;
  char *pcVar7;
  DWORD DVar8;
  BOOL BVar9;
  DWORD DVar10;
  short *psVar11;
  FILE *pFVar12;
  ushort *puVar13;
  uint uVar14;
  ushort *puVar15;
  ushort *puVar16;
  int iVar17;
  undefined4 extraout_ECX;
  int iVar18;
  uint extraout_ECX_00;
  char *pcVar19;
  int iVar20;
  uint uVar21;
  ushort *extraout_EDX;
  int iVar22;
  int iVar23;
  uint uVar24;
  short *psVar25;
  undefined4 *puVar26;
  code *pcVar27;
  int iVar28;
  undefined4 *puVar29;
  bool bVar30;
  ulonglong uVar31;
  HWAVEOUT hwo;
  LPWAVEHDR pwVar32;
  COLORREF color;
  HGDIOBJ h;
  undefined8 uVar33;
  tagMSG local_20c;
  undefined8 local_1f0;
  int local_1e4;
  FILE *local_1e0;
  DWORD local_1dc;
  DWORD local_1d8;
  char *local_1d4;
  uint local_1d0;
  uint local_1cc;
  int local_1c8;
  uint local_1c4;
  undefined4 local_1c0;
  int local_1bc;
  ushort *local_1b8;
  ushort *local_1b4;
  uint local_1b0;
  int local_1ac;
  uint local_1a8;
  int local_1a4;
  int local_1a0;
  int local_19c;
  uint local_198;
  ushort *local_194;
  int aiStack_190 [12];
  DWORD local_160 [14];
  int local_128 [6];
  char local_110 [256];
  
  uVar6 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  local_1d4 = param_1;
  local_128[2] = 0;
  local_128[3] = 0;
  local_128[4] = 0;
  local_128[5] = 0;
  local_160[0xb] = 0;
  local_160[0xc] = 0;
  local_160[0xd] = 0;
  local_128[0] = 0;
  local_160[1] = 0;
  local_160[2] = 0;
  local_160[3] = 0;
  local_160[4] = 0;
  local_1a0 = INT_0047e630 * 0x1e + -8;
  DAT_0047e5a8 = (uint)(ushort)UINT_0047f11c;
  local_1e4 = INT_0047e630 * 8 + -8;
  local_194 = NULL;
  local_1ac = 0;
  local_1a4 = 0;
  local_1bc = 0;
  local_1c8 = 0;
  local_128[1] = 1;
  local_160[5] = 0x25;
  local_160[6] = 0x26;
  local_160[7] = 0x27;
  local_160[8] = 0x28;
  local_160[9] = 0x20;
  local_160[10] = 0;
  local_160[0] = 0;
  local_19c = 0;
  local_1d0 = 0;
  local_1cc = 0;
  local_1c0 = 0;
  DAT_0047e50c = 0;
  sprintf_s(local_110,0x100,"%s Ver.%04.2lf",_Src_0047e0a0,4613757674255978332);
  SetWindowTextA(HWND_0047de30,local_110);
  SelectObject(HDC_0047b6c0,HGDIOBJ_0047bae4);
  strcpy_s(local_110,0x100,_Src_0047e184);
  strcat_s(local_110,0x100," x 10");
  pcVar7 = local_110;
  do {
    cVar1 = *pcVar7;
    pcVar7 = pcVar7 + 1;
  } while (cVar1 != '\0');
  GetTextExtentPoint32A
            (HDC_0047b6c0,local_110,(int)pcVar7 - (int)(local_110 + 1),(LPSIZE)&psizl_0047ce80);
  if (DAT_0047e2c8 == 0) {
    DAT_0047e2c8 = 1;
  }
  if (PTR_0047e74c == NULL) {
    PTR_0047e74c = (ushort *)&_Memory_0047e750;
    uVar5 = __Memory_0047e750;
    while (uVar5 < 2) {
      PTR_0047e74c = *(ushort **)(PTR_0047e74c + 0x26a);
      uVar5 = *PTR_0047e74c;
    }
  }
  else if (DAT_0047ec40 != 0) {
    DAT_0047e2d0 = 1;
    DAT_0047e2cc = timeGetTime();
    FUN_00435730(extraout_ECX,(short *)PTR_0047e74c);
  }
  if (DAT_0047e638 == 1) {
    DAT_0047cef6 = 0x50;
    FUN_004359e0(1);
    DAT_0047e5bc = (LPWAVEHDR)HeapAlloc(DAT_0047e614,8,0x40);
  }
  DAT_0047e2d0 = 1;
  PatBlt(DAT_0047de50,0,0,DAT_0047ac7c,DAT_0047ac80,0x42);
  UpdateWindow(HWND_0047de30);
  ptVar3 = psizl_0047ce80;
  DAT_0047b110 = FUN_004011e0;
  DAT_0047b118 = FUN_004013c0;
  DAT_0047b114 = FUN_00401b90;
  DAT_0047b11c = FUN_00401da0;
  DAT_0047b120 = FUN_00402170;
  DAT_0047b10c = FUN_004023a0;
  if (INT_0047e630 == 1) {
    DAT_0047bb78 = FUN_00438e80;
  }
  else {
    psizl_0047ce80 = DAT_0047ce84;
    DAT_0047ce84 = ptVar3;
    DAT_0047bb78 = FUN_00438ea0;
    local_160[5] = 0x26;
    local_160[6] = 0x25;
    local_160[7] = 0x28;
    local_160[8] = 0x27;
  }
  while ((((SVar4 = GetAsyncKeyState((uint)UINT_0047d6c8._2_2_), SVar4 != 0 ||
           (SVar4 = GetAsyncKeyState((uint)USHORT_0047d6cc), SVar4 != 0)) ||
          (SVar4 = GetAsyncKeyState(0x1b), SVar4 != 0)) && (DAT_0047e61c == 0))) {
    DVar8 = timeGetTime();
    do {
      BVar9 = PeekMessageA(&local_20c,NULL,0,0,1);
      if (BVar9 != 0) {
        TranslateMessage(&local_20c);
        DispatchMessageA(&local_20c);
      }
      Sleep(1);
      DVar10 = timeGetTime();
    } while (DVar10 < DVar8 + 1);
  }
  local_1dc = timeGetTime();
  do {
    if (DAT_0047e61c != 0) goto LAB_0042095e;
    local_1d8 = timeGetTime();
    if ((DAT_0047ac98 == 1) || (DAT_0047e618 == 1)) {
      iVar28 = 0;
      do {
        DVar8 = local_160[iVar28 + 5];
        uVar5 = GetAsyncKeyState(DVar8);
        if ((((((uVar5 & 0x8000) != 0) ||
              ((SVar4 = GetAsyncKeyState((uint)(ushort)UINT_0047d6c8), SVar4 != 0 && (iVar28 == 1) ))
              ) || ((SVar4 = GetAsyncKeyState((uint)(ushort)UINT_0047d6ce), SVar4 != 0 &&
                    (iVar28 == 3)))) ||
            (((uVar5 = GetAsyncKeyState((uint)UINT_0047d6c8._2_2_), (uVar5 & 0x8000) != 0 ||
              (uVar5 = GetAsyncKeyState((uint)USHORT_0047d6cc), (uVar5 & 0x8000) != 0)) &&
             (iVar28 == 4)))) && (local_160[iVar28 + 0xf] == 0)) {
          local_160[iVar28 + 0xf] = 1;
          local_160[iVar28] = local_160[iVar28 + 10];
          DVar10 = timeGetTime();
          local_160[iVar28 + 10] = DVar10;
        }
        SVar4 = GetAsyncKeyState(DVar8);
        if ((SVar4 == 0) &&
           (((((SVar4 = GetAsyncKeyState((uint)(ushort)UINT_0047d6c8), SVar4 == 0 && (iVar28 == 1) )
              || ((SVar4 = GetAsyncKeyState((uint)(ushort)UINT_0047d6ce), SVar4 == 0 &&
                  (iVar28 == 3)))) ||
             (((SVar4 = GetAsyncKeyState((uint)UINT_0047d6c8._2_2_), SVar4 == 0 &&
               (SVar4 = GetAsyncKeyState((uint)USHORT_0047d6cc), SVar4 == 0)) && (iVar28 == 4)))) ||
            ((iVar28 == 0 || (iVar28 == 2)))))) {
          local_160[iVar28 + 0xf] = 0;
        }
        if ((((local_160[iVar28 + 0xf] == 2) &&
             (DVar8 = timeGetTime(), 400 < DVar8 - local_160[iVar28 + 10])) && (iVar28 != 0)) &&
           ((iVar28 != 2 && (iVar28 != 4)))) {
          local_160[iVar28 + 0xf] = 1;
          DVar8 = timeGetTime();
          local_160[iVar28 + 10] = DVar8 - 300;
        }
        iVar18 = local_128[4];
        iVar22 = local_128[2];
        puVar13 = PTR_0047e74c;
        iVar23 = INT_0047e630;
        iVar28 += 1;
      } while (iVar28 < 5);
      if (local_1a4 == 0) {
        if (((local_128[2] != 0) || (local_128[4] != 0)) && (local_1dc = timeGetTime(), iVar22 == 1)
           ) {
          if (DAT_00482a88 == 1) {
            DAT_00482a8c += 1;
          }
          else {
            DAT_00482a8c = 0;
          }
          DAT_00482a88 = 0;
          puVar13 = PTR_0047e74c;
          do {
            PTR_0047e74c = *(ushort **)(puVar13 + 0x26c);
            if ((PTR_0047e74c == puVar13) || (PTR_0047e74c == NULL)) {
              puVar13 = (ushort *)&DAT_0047ec2c;
              do {
                PTR_0047e74c = *(ushort **)puVar13;
                puVar13 = PTR_0047e74c + 0x26e;
              } while (*(int *)(PTR_0047e74c + 0x26e) != 0);
              while ((*PTR_0047e74c < 2 ||
                     (((PTR_0047e74c[0x25e] != 0 &&
                       (((*PTR_0047e74c != 3 || ((PTR_0047e74c[0x25d] & DAT_0047e2d2) == 0)) ||
                        ((PTR_0047e74c[0x252] != 0 &&
                         (*(int *)(*(int *)(PTR_0047e74c + 0x270) + 0x4c0) != 1)))))) &&
                      (*(int *)(*(int *)(PTR_0047e74c + 0x272) + 0x4c0) != 1))))) {
                PTR_0047e74c = *(ushort **)(PTR_0047e74c + 0x26c);
              }
            }
            uVar5 = *PTR_0047e74c;
            puVar13 = PTR_0047e74c;
          } while (((uVar5 < 2) || ((PTR_0047e74c[0x25d] & DAT_0047e2d2) == 0)) ||
                  (((uVar5 != 3 || (*(int *)(*(int *)(PTR_0047e74c + 0x270) + 0x4e0) != 0)) &&
                   (((((uVar5 != 2 && (uVar5 != 4)) || (PTR_0047e74c[0x25e] != 0)) &&
                     ((uVar5 != 3 || (*(int *)(*(int *)(PTR_0047e74c + 0x270) + 0x4c0) == 0)))) &&
                    (*(int *)(*(int *)(PTR_0047e74c + 0x272) + 0x4c0) != 1))))));
          if (*PTR_0047e74c == 4) {
            FUN_004139a0((short *)PTR_0047e74c);
          }
          iVar22 = 2;
          local_128[2] = 2;
          if (DAT_0047e638 == 1) {
            uVar24 = local_1d0 & 0xffff;
            waveOutWrite((HWAVEOUT)(&DAT_0047be38)[uVar24],(LPWAVEHDR)(&DAT_0047b6d8 + uVar24 * 8) ,
                         0x20);
            local_1d0 = uVar24 + 1 & 0x8000000f;
            if (false) {
              local_1d0 = (local_1d0 - 1 | 0xfffffff0) + 1;
            }
            local_1d0 &= 0xffff;
            if ((short)local_1c0 != 0) {
              waveOutReset((HWAVEOUT)phwo_0047ce90);
              DAT_0047e620 = 0;
              DAT_0047cb40 = 4;
              WaitForSingleObject(DAT_0047d6d8,1000);
              FUN_00414900();
              pwVar32 = DAT_0047e5bc;
              DAT_0047e5bc->dwUser = 0;
              waveOutReset((HWAVEOUT)phwo_0047ce90);
              waveOutUnprepareHeader((HWAVEOUT)phwo_0047ce90,pwVar32,0x20);
              if (pwVar32->dwUser == 0) {
                waveOutClose((HWAVEOUT)phwo_0047ce90);
                phwo_0047ce90 = NULL;
              }
              pwVar32->dwUser = 1;
              if (pwVar32->lpData != NULL) {
                HeapFree(DAT_0047e614,0,pwVar32->lpData);
                pwVar32->lpData = NULL;
              }
            }
            local_1c0 = 0;
            iVar18 = local_128[4];
          }
        }
        if (iVar18 == 1) {
          if (DAT_00482a88 == 0) {
            DAT_00482a8c += 1;
          }
          else {
            DAT_00482a8c = 0;
          }
          DAT_00482a88 = 1;
          do {
            PTR_0047e74c = *(ushort **)(PTR_0047e74c + 0x26e);
            if (PTR_0047e74c == NULL) {
              PTR_0047e74c = (ushort *)&_Memory_0047e750;
              do {
                do {
                  PTR_0047e74c = *(ushort **)(PTR_0047e74c + 0x26e);
                } while (*PTR_0047e74c < 2);
              } while ((PTR_0047e74c[0x25e] != 0) &&
                      ((((*PTR_0047e74c != 3 || ((PTR_0047e74c[0x25d] & DAT_0047e2d2) == 0)) ||
                        ((PTR_0047e74c[0x252] != 0 &&
                         (*(int *)(*(int *)(PTR_0047e74c + 0x270) + 0x4c0) != 1)))) &&
                       (*(int *)(*(int *)(PTR_0047e74c + 0x272) + 0x4c0) != 1))));
            }
            uVar5 = *PTR_0047e74c;
          } while (((uVar5 < 2) || ((PTR_0047e74c[0x25d] & DAT_0047e2d2) == 0)) ||
                  (((uVar5 != 3 || (*(int *)(*(int *)(PTR_0047e74c + 0x270) + 0x4e0) != 0)) &&
                   ((((uVar5 != 2 && (uVar5 != 4)) || (PTR_0047e74c[0x25e] != 0)) &&
                    (((uVar5 != 3 || (*(int *)(*(int *)(PTR_0047e74c + 0x270) + 0x4c0) == 0)) &&
                     (*(int *)(*(int *)(PTR_0047e74c + 0x272) + 0x4c0) != 1))))))));
          if (*PTR_0047e74c == 4) {
            FUN_004139a0((short *)PTR_0047e74c);
          }
          local_128[4] = 2;
          iVar18 = 2;
          if (DAT_0047e638 == 1) {
            uVar24 = local_1d0 & 0xffff;
            waveOutWrite((HWAVEOUT)(&DAT_0047be38)[uVar24],(LPWAVEHDR)(&DAT_0047b6d8 + uVar24 * 8) ,
                         0x20);
            local_1d0 = uVar24 + 1 & 0x8000000f;
            if (false) {
              local_1d0 = (local_1d0 - 1 | 0xfffffff0) + 1;
            }
            local_1d0 &= 0xffff;
            if ((short)local_1c0 != 0) {
              waveOutReset((HWAVEOUT)phwo_0047ce90);
              DAT_0047e620 = 0;
              DAT_0047cb40 = 4;
              WaitForSingleObject(DAT_0047d6d8,1000);
              FUN_00414900();
              pwVar32 = DAT_0047e5bc;
              DAT_0047e5bc->dwUser = 0;
              waveOutReset((HWAVEOUT)phwo_0047ce90);
              waveOutUnprepareHeader((HWAVEOUT)phwo_0047ce90,pwVar32,0x20);
              if (pwVar32->dwUser == 0) {
                waveOutClose((HWAVEOUT)phwo_0047ce90);
                phwo_0047ce90 = NULL;
              }
              pwVar32->dwUser = 1;
              if (pwVar32->lpData != NULL) {
                HeapFree(DAT_0047e614,0,pwVar32->lpData);
                pwVar32->lpData = NULL;
              }
            }
            local_1c0 = 0;
            iVar18 = local_128[4];
          }
        }
        puVar13 = PTR_0047e74c;
        if (((iVar22 != 0) && (iVar18 != 0)) &&
           ((iVar22 < 3 &&
            (((iVar18 < 3 &&
              (iVar28 = *(int *)(PTR_0047e74c + 0x272), *(short *)(iVar28 + 0x4bc) != 0)) &&
             (*(int *)(iVar28 + 0x4c0) == 1)))))) {
          *(undefined4 *)(iVar28 + 0x4c0) = 0;
          psVar11 = *(short **)(*(int *)(PTR_0047e74c + 0x272) + 0x4dc);
          do {
            if ((psVar11[0x25e] != PTR_0047e74c[0x25e]) &&
               (psVar11[0x252] == *(short *)(*(int *)(PTR_0047e74c + 0x272) + 0x4a4))) break;
            if (*psVar11 == 3) {
              psVar11[0x260] = 0;
              psVar11[0x261] = 0;
            }
            psVar11 = *(short **)(psVar11 + 0x26e);
          } while (psVar11 != NULL);
          puVar13 = *(ushort **)(PTR_0047e74c + 0x272);
          local_128[2] = 2;
          local_128[4] = 2;
          PTR_0047e74c = puVar13;
        }
      }
      else if (local_1a4 == 1) {
        local_198 = INT_0047e630 * 8;
        pcVar7 = local_110 + (local_198 - 0x18);
        if (*(int *)(local_110 + (local_198 - 0x18)) == 1) {
          uVar5 = (&DAT_0047cf56)[local_1bc * 0x1e0];
          do {
            uVar31 = (ulonglong)(uVar5 + 5) % 6;
            local_1a8 = 1;
            uVar5 = (ushort)uVar31;
            (&DAT_0047cf56)[local_1bc * 0x1e0] = uVar5;
          } while (((uint)puVar13[0x256] & 1 << (sbyte)uVar31) == 0);
          uVar24 = (uint)puVar13[0x256];
          uVar14 = uVar24 & 0x80000001;
          if (false) {
            uVar14 = (uVar14 - 1 | 0xfffffffe) + 1;
          }
          uVar21 = uVar24 & 0x80000001;
          if (false) {
            uVar21 = (uVar21 - 1 | 0xfffffffe) + 1;
          }
          local_1c8 = (int)((uVar14 - 1) +
                           ((int)uVar24 >> 1 & 1U) + local_1c8 +
                           ((int)uVar24 >> 5 & 1U) + ((int)uVar24 >> 4 & 1U) +
                           ((int)uVar24 >> 3 & 1U) + ((int)uVar24 >> 2 & 1U)) %
                      (int)(((int)uVar24 >> 5 & 1U) + ((int)uVar24 >> 4 & 1U) +
                            ((int)uVar24 >> 3 & 1U) + ((int)uVar24 >> 2 & 1U) +
                            ((int)uVar24 >> 1 & 1U) + uVar21);
          pcVar7[0] = '\x02';
          pcVar7[1] = '\0';
          pcVar7[2] = '\0';
          pcVar7[3] = '\0';
        }
        if (*(int *)(local_110 + iVar23 * -8) == 1) {
          uVar5 = (&DAT_0047cf56)[local_1bc * 0x1e0];
          do {
            uVar31 = (ulonglong)(uVar5 + 1) % 6;
            local_1a8 = 1;
            uVar5 = (ushort)uVar31;
            (&DAT_0047cf56)[local_1bc * 0x1e0] = uVar5;
          } while (((uint)puVar13[0x256] & 1 << (sbyte)uVar31) == 0);
          uVar24 = (uint)puVar13[0x256];
          uVar14 = uVar24 & 0x80000001;
          if (false) {
            uVar14 = (uVar14 - 1 | 0xfffffffe) + 1;
          }
          local_1c8 = (local_1c8 + 1) %
                      (int)(((int)uVar24 >> 5 & 1U) + ((int)uVar24 >> 4 & 1U) +
                            ((int)uVar24 >> 3 & 1U) + ((int)uVar24 >> 2 & 1U) +
                            ((int)uVar24 >> 1 & 1U) + uVar14);
          *(int *)(local_110 + iVar23 * -8) = 2;
        }
        if ((local_128[2] != 0) && (local_128[4] != 0)) {
          local_1a4 = 0;
          local_1c8 = 0;
          local_128[2] = 3;
          local_128[4] = 3;
        }
      }
      if ((local_128[1] == 1) && (local_160[10] - local_160[0] < 500)) {
        DAT_0047e5a8 = (int)(DAT_0047e5a8 + 2) % 3;
        FUN_00421cb0((short *)&_Memory_0047e750);
        local_128[1] = 2;
        _DAT_0047e5a0 = timeGetTime();
        DAT_0047e5a4 = 5;
        puVar13 = PTR_0047e74c;
      }
      if ((local_128[3] == 1) && (local_160[0xc] - local_160[2] < 500)) {
        DAT_0047e5a8 = (int)(DAT_0047e5a8 + 1) % 3;
        FUN_00421cb0((short *)&_Memory_0047e750);
        local_128[3] = 2;
        _DAT_0047e5a0 = timeGetTime();
        DAT_0047e5a4 = 5;
        puVar13 = PTR_0047e74c;
      }
      if ((local_128[5] == 1) && (local_1a4 < 2)) {
        if (DAT_0047e638 == 1) {
          uVar24 = local_1cc & 0xffff;
          waveOutWrite((HWAVEOUT)(&DAT_0047bae8)[uVar24],(LPWAVEHDR)(&DAT_0047c2c0 + uVar24 * 8),
                       0x20);
          local_1cc = uVar24 + 1 & 0x8000000f;
          if (false) {
            local_1cc = (local_1cc - 1 | 0xfffffff0) + 1;
          }
          local_1cc &= 0xffff;
          puVar13 = PTR_0047e74c;
        }
        uVar5 = *puVar13;
        if ((uVar5 == 2) || (uVar5 == 4)) {
          if (local_1a4 == 0) {
            (&DAT_0047cf56)[local_1bc * 0x1e0] = 0;
            if ((puVar13[0x256] & 1) == 0) {
              iVar28 = 0;
              do {
                uVar31 = (ulonglong)(iVar28 + 1) % 6;
                iVar28 = (int)uVar31;
                (&DAT_0047cf56)[local_1bc * 0x1e0] = (ushort)uVar31;
              } while (((uint)puVar13[0x256] & 1 << (sbyte)uVar31) == 0);
            }
LAB_0041e4a6:
            _DAT_0047e2d4 &= 0xffff0000;
            if (*puVar13 == 4) {
              _DAT_0047e2d4 = 1;
            }
            local_1a4 += 1;
            local_1bc = 0;
          }
          else {
            if ((local_1bc == DAT_0047e2c8 - 1) || (uVar5 == 4)) goto LAB_0041e4a6;
            local_1bc += 1;
            puVar15 = &DAT_0047cf56 + local_1bc * 0x1e0;
            *puVar15 = 0;
            if ((puVar13[0x256] & 1) == 0) {
              iVar28 = 0;
              do {
                uVar31 = (ulonglong)(iVar28 + 1) % 6;
                iVar28 = (int)uVar31;
                *puVar15 = (ushort)uVar31;
              } while (((uint)puVar13[0x256] & 1 << (sbyte)uVar31) == 0);
            }
            uVar24 = (uint)puVar13[0x256];
            uVar14 = uVar24 & 0x80000001;
            if (false) {
              uVar14 = (uVar14 - 1 | 0xfffffffe) + 1;
            }
            if (((int)uVar24 >> 5 & 1U) + ((int)uVar24 >> 4 & 1U) + ((int)uVar24 >> 3 & 1U) +
                ((int)uVar24 >> 2 & 1U) + ((int)uVar24 >> 1 & 1U) + uVar14 == 1) {
              local_1a4 = 2;
              *puVar15 = DAT_0047cf56;
            }
          }
          uVar24 = (uint)puVar13[0x256];
          uVar14 = uVar24 & 0x80000001;
          if (false) {
            uVar14 = (uVar14 - 1 | 0xfffffffe) + 1;
          }
          if (((int)uVar24 >> 5 & 1U) + ((int)uVar24 >> 4 & 1U) + ((int)uVar24 >> 3 & 1U) +
              ((int)uVar24 >> 2 & 1U) + ((int)uVar24 >> 1 & 1U) + uVar14 == 1) {
            local_1a4 = 2;
            DAT_0047d316 = DAT_0047cf56;
          }
          else if (local_1a4 != 2) {
            local_1c8 = 0;
            goto LAB_0041e556;
          }
          DAT_0047e2cc = timeGetTime();
          DAT_0047e2d0 = 0;
        }
        else if (uVar5 == 3) {
          *(uint *)(puVar13 + 0x260) = (uint)(*(int *)(puVar13 + 0x260) == 0);
          psVar11 = *(short **)(*(int *)(puVar13 + 0x272) + 0x4dc);
          do {
            if ((psVar11[0x25e] != puVar13[0x25e]) &&
               (psVar11[0x252] == *(short *)(*(int *)(puVar13 + 0x272) + 0x4a4))) break;
            if (*psVar11 == 3) {
              psVar11[0x260] = 0;
              psVar11[0x261] = 0;
            }
            psVar11 = *(short **)(psVar11 + 0x26e);
          } while (psVar11 != NULL);
        }
LAB_0041e556:
        local_128[5] = 2;
      }
      if (local_1a4 == 2) {
        DVar8 = timeGetTime();
        local_1c4 = DVar8 - DAT_0047e2cc;
        dVar2 = (double)(int)local_1c4;
        if ((int)local_1c4 < 0) {
          dVar2 = dVar2 + 4294967296.0;
        }
        if (_DAT_0047ac88 * 150.0 < dVar2 != (NAN(_DAT_0047ac88 * 150.0) || NAN(dVar2))) {
          PatBlt(DAT_0047de50,0,0,DAT_0047ac74,DAT_0047ac78,0x42);
          puVar13 = PTR_0047e74c;
          psVar11 = &DAT_0047ec40;
          for (iVar28 = 0x134; iVar28 != 0; iVar28 += -1) {
            *(undefined4 *)psVar11 = *(undefined4 *)puVar13;
            puVar13 = puVar13 + 2;
            psVar11 = psVar11 + 2;
          }
          FUN_00435730(0,&DAT_0047ec40);
          if (local_1d4 != NULL) {
            puVar13 = PTR_0047e74c + 1;
LAB_0042094d:
            strcpy_s(local_1d4,0x200,(char *)puVar13);
          }
LAB_0042095e:
          if (DAT_0047e634 == 0) {
            DAT_0047b110 = FUN_004011e0;
            DAT_0047b118 = FUN_004013c0;
            DAT_0047b114 = FUN_00401b90;
            DAT_0047b11c = FUN_00401da0;
            DAT_0047b120 = FUN_00402170;
            DAT_0047b10c = FUN_004023a0;
          }
          else {
            DAT_0047b110 = FUN_00402800;
            DAT_0047b118 = (code *)&LAB_00402940;
            DAT_0047b114 = FUN_00402820;
            DAT_0047b11c = FUN_00402800;
            DAT_0047b120 = FUN_004028b0;
            DAT_0047b10c = FUN_004028c0;
          }
          if (DAT_0047e638 != 1) goto LAB_00420dde;
          if ((short)local_1c0 == 1) {
            DAT_0047cb40 = 4;
            WaitForSingleObject(DAT_0047d6d8,0xffffffff);
            FUN_00414900();
            pwVar32 = DAT_0047e5bc;
            DAT_0047e5bc->dwUser = 0;
            waveOutReset((HWAVEOUT)phwo_0047ce90);
            waveOutUnprepareHeader((HWAVEOUT)phwo_0047ce90,pwVar32,0x20);
            if (pwVar32->dwUser == 0) {
              waveOutClose((HWAVEOUT)phwo_0047ce90);
              phwo_0047ce90 = NULL;
            }
            pwVar32->dwUser = 1;
            if (pwVar32->lpData != NULL) {
              HeapFree(DAT_0047e614,0,pwVar32->lpData);
              pwVar32->lpData = NULL;
            }
          }
          if (DAT_0047e5bc != NULL) {
            HeapFree(DAT_0047e614,0,DAT_0047e5bc);
          }
          iVar28 = 0;
          DAT_0047e5bc = NULL;
          iVar23 = 0;
          do {
            if (*(int *)((int)&DAT_0047c2c0 + iVar28) != 0) {
              waveOutReset(*(HWAVEOUT *)((int)&DAT_0047bae8 + iVar23));
            }
            if (*(int *)((int)&DAT_0047b6d8 + iVar28) != 0) {
              waveOutReset(*(HWAVEOUT *)((int)&DAT_0047be38 + iVar23));
            }
            if (DAT_0047e624 == 0) {
LAB_00420aee:
              if (*(int *)((int)&DAT_0047d72c + iVar28) != 1) {
                waveOutReset(*(HWAVEOUT *)((int)&DAT_0047bae8 + iVar23));
                waveOutUnprepareHeader
                          (*(HWAVEOUT *)((int)&DAT_0047bae8 + iVar23),
                           (LPWAVEHDR)((int)&DAT_0047d720 + iVar28),0x20);
                if (*(int *)((int)&DAT_0047d72c + iVar28) == 0) {
                  waveOutClose(*(HWAVEOUT *)((int)&DAT_0047bae8 + iVar23));
                  *(undefined4 *)((int)&DAT_0047bae8 + iVar23) = 0;
                }
                *(undefined4 *)((int)&DAT_0047d72c + iVar28) = 1;
              }
              if (*(LPVOID *)((int)&DAT_0047d720 + iVar28) != NULL) {
                HeapFree(DAT_0047e614,0,*(LPVOID *)((int)&DAT_0047d720 + iVar28));
                *(undefined4 *)((int)&DAT_0047d720 + iVar28) = 0;
              }
              if (*(int *)((int)&DAT_0047c2cc + iVar28) != 1) {
                waveOutReset(*(HWAVEOUT *)((int)&DAT_0047bae8 + iVar23));
                waveOutUnprepareHeader
                          (*(HWAVEOUT *)((int)&DAT_0047bae8 + iVar23),
                           (LPWAVEHDR)((int)&DAT_0047c2c0 + iVar28),0x20);
                if (*(int *)((int)&DAT_0047c2cc + iVar28) == 0) {
                  waveOutClose(*(HWAVEOUT *)((int)&DAT_0047bae8 + iVar23));
                  *(undefined4 *)((int)&DAT_0047bae8 + iVar23) = 0;
                }
                *(undefined4 *)((int)&DAT_0047c2cc + iVar28) = 1;
              }
              if (*(LPVOID *)((int)&DAT_0047c2c0 + iVar28) != NULL) {
                HeapFree(DAT_0047e614,0,*(LPVOID *)((int)&DAT_0047c2c0 + iVar28));
                *(undefined4 *)((int)&DAT_0047c2c0 + iVar28) = 0;
              }
              if (*(int *)((int)&DAT_0047bec4 + iVar28) != 1) {
                waveOutReset(*(HWAVEOUT *)((int)&DAT_0047be38 + iVar23));
                waveOutUnprepareHeader
                          (*(HWAVEOUT *)((int)&DAT_0047be38 + iVar23),
                           (LPWAVEHDR)((int)&DAT_0047beb8 + iVar28),0x20);
                if (*(int *)((int)&DAT_0047bec4 + iVar28) == 0) {
                  waveOutClose(*(HWAVEOUT *)((int)&DAT_0047be38 + iVar23));
                  *(undefined4 *)((int)&DAT_0047be38 + iVar23) = 0;
                }
                *(undefined4 *)((int)&DAT_0047bec4 + iVar28) = 1;
              }
              if (*(LPVOID *)((int)&DAT_0047beb8 + iVar28) != NULL) {
                HeapFree(DAT_0047e614,0,*(LPVOID *)((int)&DAT_0047beb8 + iVar28));
                *(undefined4 *)((int)&DAT_0047beb8 + iVar28) = 0;
              }
              if (*(int *)((int)&DAT_0047b6e4 + iVar28) != 1) {
                waveOutReset(*(HWAVEOUT *)((int)&DAT_0047be38 + iVar23));
                waveOutUnprepareHeader
                          (*(HWAVEOUT *)((int)&DAT_0047be38 + iVar23),
                           (LPWAVEHDR)((int)&DAT_0047b6d8 + iVar28),0x20);
                if (*(int *)((int)&DAT_0047b6e4 + iVar28) == 0) {
                  waveOutClose(*(HWAVEOUT *)((int)&DAT_0047be38 + iVar23));
                  *(undefined4 *)((int)&DAT_0047be38 + iVar23) = 0;
                }
                *(undefined4 *)((int)&DAT_0047b6e4 + iVar28) = 1;
              }
              if (*(LPVOID *)((int)&DAT_0047b6d8 + iVar28) != NULL) {
                HeapFree(DAT_0047e614,0,*(LPVOID *)((int)&DAT_0047b6d8 + iVar28));
                *(undefined4 *)((int)&DAT_0047b6d8 + iVar28) = 0;
              }
            }
            else {
              uVar24 = DAT_0047e63c & 0x80000001;
              if ((int)uVar24 < 0) {
                uVar24 = (uVar24 - 1 | 0xfffffffe) + 1;
              }
              if ((uVar24 == 0) || (uVar24 == 3)) goto LAB_00420aee;
            }
            iVar28 += 0x20;
            iVar23 += 4;
          } while (iVar28 < 0x400);
          if (pwh_0047c700 != NULL) {
            waveOutReset((HWAVEOUT)phwo_0047b128);
          }
          if (DAT_0047e624 == 0) {
LAB_00420cf2:
            if (DAT_0047c70c != 1) {
              waveOutReset((HWAVEOUT)phwo_0047b128);
              waveOutUnprepareHeader((HWAVEOUT)phwo_0047b128,(LPWAVEHDR)&pwh_0047c700,0x20);
              if (DAT_0047c70c == 0) {
                waveOutClose((HWAVEOUT)phwo_0047b128);
                phwo_0047b128 = NULL;
              }
              DAT_0047c70c = 1;
            }
            if (pwh_0047c700 != NULL) {
              HeapFree(DAT_0047e614,0,pwh_0047c700);
              pwh_0047c700 = NULL;
            }
            if (DAT_0047b13c != 1) {
              waveOutReset((HWAVEOUT)phwo_0047b128);
              waveOutUnprepareHeader((HWAVEOUT)phwo_0047b128,(LPWAVEHDR)&pwh_0047b130,0x20);
              if (DAT_0047b13c == 0) {
                waveOutClose((HWAVEOUT)phwo_0047b128);
                phwo_0047b128 = NULL;
              }
              DAT_0047b13c = 1;
            }
            if (pwh_0047b130 != NULL) {
              HeapFree(DAT_0047e614,0,pwh_0047b130);
              pwh_0047b130 = NULL;
            }
          }
          else {
            uVar24 = DAT_0047e63c & 0x80000001;
            if ((int)uVar24 < 0) {
              uVar24 = (uVar24 - 1 | 0xfffffffe) + 1;
            }
            if (uVar24 == 0) goto LAB_00420cf2;
          }
          DAT_0047e620 = 0;
          DAT_0047e4e2 = 0;
          DAT_0047cb40 = 0;
LAB_00420dde:
          __security_check_cookie(uVar6 ^ (uint)&stack0xfffffffc);
          return;
        }
      }
      iVar28 = 0;
      do {
        SVar4 = GetAsyncKeyState(iVar28 + 0x70);
        if ((SVar4 == 0) || (aiStack_190[iVar28] != 0)) {
          SVar4 = GetAsyncKeyState(iVar28 + 0x70);
          if ((SVar4 == 0) && (aiStack_190[iVar28] != 0)) {
            aiStack_190[iVar28] = 0;
          }
        }
        else {
          aiStack_190[iVar28] = 1;
          if (iVar28 == 0) {
            if (DAT_0047ac94 == 0) {
              DAT_0047c908 = 1;
              DAT_0047cae8 = 1;
              DAT_0047e58c = 0;
LAB_0041e66b:
              DAT_0047ac94 = 1;
            }
            else if (DAT_0047e2c8 == 1) {
              DAT_0047ac94 = 0;
              DAT_0047c908 = 0;
              DAT_0047cae8 = 0;
            }
            else {
              uVar31 = (ulonglong)(DAT_0047e58c + 1) % 3;
              iVar23 = (int)uVar31;
              DAT_0047e58c = (ushort)uVar31;
              if (DAT_0047e58c != 0) {
                *(undefined4 *)((int)&BITMAPINFO_0047c724 + iVar23 * 0x1e0 + 4) = 1;
                *(undefined4 *)(&DAT_0047ccc8 + iVar23 * -0x1e0) = 0;
                goto LAB_0041e66b;
              }
              DAT_0047ac94 = 0;
              DAT_0047c908 = 0;
              DAT_0047cae8 = 0;
            }
            _DAT_0047e5a0 = timeGetTime();
            DAT_0047e5a4 = 1;
          }
          else if (iVar28 == 1) {
            DAT_0047e618 = (uint)(DAT_0047e618 == 0);
            _DAT_0047e5a0 = timeGetTime();
            DAT_0047e5a4 = 2;
          }
          else if (iVar28 != 2) {
            if (iVar28 == 3) {
              uVar5 = DAT_0047cf62 & 1;
              if (false) {
                uVar5 = (uVar5 - 1 | 0xfffe) + 1;
              }
              DAT_0047cf62 = 1 - uVar5;
              if (((DAT_0047cf62 == 0) && (DAT_0047e2d4 == 1)) && (DAT_0047c914 == 0)) {
                DAT_0047cf62 = 2;
              }
              DAT_0047d322 = DAT_0047cf62;
              _DAT_0047e5a0 = timeGetTime();
              DAT_0047e5a4 = 4;
            }
            else if (iVar28 == 4) {
              if ((local_1a4 == 0) && (DAT_0047f114 == 2)) {
                uVar5 = DAT_0047e2c8 & 1;
                if (false) {
                  uVar5 = (uVar5 - 1 | 0xfffe) + 1;
                }
                DAT_0047e2c8 = uVar5 + 1;
                _DAT_0047e5a0 = timeGetTime();
                DAT_0047e5a4 = 3;
              }
            }
            else if (iVar28 == 5) {
              DAT_0047e2d8 = DAT_0047e2d8 + 1 & 1;
              if (false) {
                DAT_0047e2d8 = (DAT_0047e2d8 - 1 | 0xfffe) + 1;
              }
              _DAT_0047e5a0 = timeGetTime();
              DAT_0047e5a4 = 7;
            }
          }
        }
        iVar28 += 1;
      } while (iVar28 < 0xc);
      local_1ac = iVar28;
      if ((char)_Src_0047e640 != '\0') {
        strcpy_s(local_1d4,0x200,(char *)&_Src_0047e640);
        DAT_0047e624 = 0;
        goto LAB_0042095e;
      }
      SVar4 = GetAsyncKeyState(0x1b);
      if (SVar4 != 0) {
        DAT_0047e61c = 1;
        DAT_0047e63c = 0;
        if (local_1d4 != NULL) {
          puVar13 = (ushort *)0x45fa07;
          goto LAB_0042094d;
        }
        goto LAB_0042095e;
      }
    }
    pcVar27 = timeGetTime_exref;
    if (0x13 < DAT_00482a8c) {
      uVar5 = DAT_0047e2d2 & 1;
      DAT_00482a8c = 0;
      if (false) {
        uVar5 = (uVar5 - 1 | 0xfffe) + 1;
      }
      DAT_0047e2d2 = uVar5 + 1;
      if (DAT_0047e638 == 1) {
        uVar24 = local_1cc & 0xffff;
        if (DAT_0047d720 == 0) {
          hwo = (HWAVEOUT)(&DAT_0047bae8)[uVar24];
          pwVar32 = (LPWAVEHDR)(&DAT_0047c2c0 + uVar24 * 8);
        }
        else {
          hwo = (HWAVEOUT)(&DAT_0047bae8)[uVar24];
          pwVar32 = (LPWAVEHDR)(&DAT_0047d720 + uVar24 * 8);
        }
        waveOutWrite(hwo,pwVar32,0x20);
        local_1cc = uVar24 + 1 & 0x8000000f;
        if (false) {
          local_1cc = (local_1cc - 1 | 0xfffffff0) + 1;
        }
        local_1cc &= 0xffff;
      }
      pcVar27 = timeGetTime_exref;
      _DAT_0047e5a0 = timeGetTime();
      DAT_0047e5a4 = 6;
    }
    if (DAT_0047e638 == 1) {
      if (((short)local_1c0 == 0) && ((PTR_0047e74c[0x19c] == 1 || (PTR_0047e74c[0x19c] == 2)))) {
        iVar28 = (*pcVar27)();
        local_1c4 = iVar28 - local_1dc;
        dVar2 = (double)(int)local_1c4;
        if ((int)local_1c4 < 0) {
          dVar2 = dVar2 + 4294967296.0;
        }
        if (_DAT_0047ac88 * 200.0 < dVar2 != (NAN(_DAT_0047ac88 * 200.0) || NAN(dVar2))) {
          if (DAT_0047cb40 != 5) {
            waveOutReset((HWAVEOUT)phwo_0047ce90);
          }
          pwVar32 = DAT_0047e5bc;
          if (PTR_0047e74c[0x19c] == 1) {
            fopen_s(&local_1e0,(char *)(PTR_0047e74c + 0x19d),"r");
            if (local_1e0 == NULL) {
              local_1ac = 1;
            }
            else {
              fclose(local_1e0);
              local_1ac = FUN_00439840((LPCSTR)(PTR_0047e74c + 0x19d),*(int *)(PTR_0047e74c + 0x21 e)
                                      );
              DAT_0047cef4 = PTR_0047e74c[0x21d];
              FUN_00436fc0(1,0x47b158,0);
              pcVar27 = timeGetTime_exref;
LAB_0041e9de:
              if (local_1ac == 0) {
                DAT_0047e620 = 0;
                waveOutOpen((LPHWAVEOUT)&phwo_0047ce90,0xffffffff,(LPCWAVEFORMATEX)&_Dst_0047b158 ,
                            (DWORD_PTR)HWND_0047de30,0,0x10000);
                waveOutPrepareHeader((HWAVEOUT)phwo_0047ce90,DAT_0047e5bc,0x20);
                waveOutWrite((HWAVEOUT)phwo_0047ce90,DAT_0047e5bc,0x20);
                local_1c0 = 1;
              }
            }
          }
          else {
            if (PTR_0047e74c[0x19c] != 2) goto LAB_0041e9de;
            local_1a8 = (uint)PTR_0047e74c[0x21d];
            _DAT_0047cb30 = (double)local_1a8 / 100.0;
            puVar26 = *(undefined4 **)(PTR_0047e74c + 0x21e);
            pFVar12 = FUN_0044cca0((char *)(PTR_0047e74c + 0x19d),&DAT_0047cb48);
            if ((pFVar12 == NULL) &&
               (iVar28 = FUN_00414240((int)pwVar32,0x3e800,puVar26), iVar28 == 0)) {
              DAT_0047d6d8 = (HANDLE)_beginthreadex(NULL,0,_StartAddress_004378e0,NULL,0,
                                                    (uint *)&_ThrdAddr_0047d6e0);
              local_1c0 = 1;
            }
            local_1ac = 1;
            pcVar27 = timeGetTime_exref;
          }
        }
      }
      if ((DAT_0047e620 == 1) && (PTR_0047e74c[0x19c] == 1)) {
        DAT_0047e620 = 0;
        waveOutWrite((HWAVEOUT)phwo_0047ce90,DAT_0047e5bc,0x20);
      }
    }
    DAT_0047e508 = (*pcVar27)();
    DAT_0047f110 = *(int *)(PTR_0047e74c + 0x274);
    if (((*PTR_0047e74c == 2) && (local_1a4 == 0)) &&
       (((uint)PTR_0047e74c[0x256] & 1 << ((byte)DAT_0047cf56 & 0x1f)) == 0)) {
      DAT_0047cf56 = PTR_0047e74c[0x24e];
      DAT_0047d316 = PTR_0047e74c[0x24e];
    }
    iVar28 = (*pcVar27)();
    local_1a8 = iVar28 - DAT_0047e2cc;
    if ((double)(int)local_1a8 < _DAT_0047ac88 * 150.0) {
      (*pcVar27)();
    }
    if ((DAT_0047e508 - DAT_0047e50c < 8) && (DAT_0047e50c != 0)) goto LAB_004207ec;
    DAT_0047e50c = DAT_0047e508;
    if (DAT_00482758 == NULL) {
      PatBlt(HDC_0047b6c0,0,0,DAT_0047ac7c,DAT_0047ac80,0x42);
    }
    else {
      memcpy(ppvBits_0047c2bc,DAT_00482758,DAT_0047ac78 << 0xb);
    }
    puVar13 = (ushort *)&_Memory_0047e750;
    local_1a8 = 0;
    do {
      if (((*puVar13 == 3) && (*(int *)(puVar13 + 0x260) == 0)) &&
         (*(int *)(puVar13 + 0x274) < DAT_0047f110)) {
        local_1a8 += *(int *)(puVar13 + 0x254);
        if (((*(short *)(*(int *)(puVar13 + 0x270) + 0x4bc) != 0) &&
            (*(int *)(*(int *)(puVar13 + 0x270) + 0x4c0) == 0)) &&
           ((puVar13[0x25d] & DAT_0047e2d2) != 0)) {
          local_1a8 += 1;
        }
      }
      if (((1 < *puVar13) && ((puVar13[0x25d] & DAT_0047e2d2) == 0)) &&
         (*(int *)(*(int *)(puVar13 + 0x272) + 0x4c0) == 1)) {
        local_1a8 += 1;
      }
      puVar13 = *(ushort **)(puVar13 + 0x26e);
    } while ((puVar13 != PTR_0047e74c) && (puVar13 != NULL));
    local_1b4 = (ushort *)&_Memory_0047e750;
    local_1ac = 0;
    do {
      puVar13 = local_1b4;
      uVar5 = *local_1b4;
      if (1 < uVar5) {
        if (local_1b4[0x25e] == 0) {
          iVar28 = 0;
        }
        else {
          uVar24 = uVar5 & 0x80000001;
          if (false) {
            uVar24 = (uVar24 - 1 | 0xfffffffe) + 1;
          }
          iVar28 = (*(ushort *)(*(int *)(local_1b4 + 0x272) + 0x4a4) - uVar24) + 1;
        }
        uVar24 = (uint)PTR_0047e74c[0x256];
        uVar14 = uVar24 & 0x80000001;
        if (false) {
          uVar14 = (uVar14 - 1 | 0xfffffffe) + 1;
        }
        iVar23 = (((local_1a8 - DAT_0047f110) + local_1ac) * (local_1e4 + local_1a0) -
                 (int)((((int)uVar24 >> 5 & 1U) + ((int)uVar24 >> 4 & 1U) + ((int)uVar24 >> 3 & 1U)
                        + ((int)uVar24 >> 2 & 1U) + ((int)uVar24 >> 1 & 1U) + -1 + uVar14) *
                       (INT_0047e630 + -1) * local_1a0) / 2) + -0x10 + (DAT_0047ac78 >> 1);
        if (DAT_0047e744 == 0) {
          iVar23 += 0x10;
        }
        else {
          if (*(int *)(PTR_0047e74c + 0x274) < *(int *)(local_1b4 + 0x274)) {
            iVar23 += local_1a0;
            if (*PTR_0047e74c == 2) {
              uVar5 = PTR_0047e74c[0x256];
              uVar24 = (uVar5 >> 5 & 1) + (uVar5 >> 4 & 1) + (uVar5 >> 3 & 1) + (uVar5 >> 2 & 1) +
                       (uVar5 >> 1 & 1) + -1 + (uVar5 & 1);
              iVar23 += (uVar24 & ((int)uVar24 < 0) - 1) * local_1a0;
            }
            else if (*PTR_0047e74c == 4) {
              iVar23 += (uint)DAT_0047e4e0 * local_1a0;
            }
          }
          if (INT_0047e630 == 1) {
            iVar23 -= local_1a0 * local_1c8;
          }
        }
        local_19c = 0;
        if ((PTR_0047e74c == local_1b4) && (DAT_0047e744 != 0)) {
          local_19c = local_1a0;
          if (*PTR_0047e74c == 2) {
            uVar5 = PTR_0047e74c[0x256];
            uVar24 = (uVar5 >> 5 & 1) + (uVar5 >> 4 & 1) + (uVar5 >> 3 & 1) + (uVar5 >> 2 & 1) +
                     (uVar5 >> 1 & 1) + -1 + (uVar5 & 1);
            uVar24 &= ((int)uVar24 < 0) - 1;
          }
          else {
            if (*PTR_0047e74c != 4) goto LAB_0041eec0;
            uVar24 = (uint)DAT_0047e4e0;
          }
          local_19c = (uVar24 + 1) * local_1a0;
        }
LAB_0041eec0:
        if ((((local_1b4[0x25e] == 0) ||
             ((uVar5 = *local_1b4, uVar5 == 3 &&
              ((local_1b4[0x252] == 0 ||
               (*(int *)(*(int *)(*(int *)(local_1b4 + 0x272) + 0x4e0) + 0x4c0) == 1)))))) ||
            (((uVar5 == 2 || (uVar5 == 4)) && (*(int *)(*(int *)(local_1b4 + 0x272) + 0x4c0) == 1) ))
            ) && ((local_1b4[0x25d] & DAT_0047e2d2) != 0)) {
          if (local_1b4[0x25e] == 0) {
            color = 0xc8c8c8;
          }
          else {
            color = *(COLORREF *)(*(int *)(local_1b4 + 0x272) + 0x4c8);
          }
          SetTextColor(HDC_0047b6c0,color);
          if (*puVar13 == 3) {
            SelectObject(HDC_0047b6c0,*(HGDIOBJ *)(DAT_0047e5b8 + -4 + (uint)puVar13[0x25e] * 4));
            SelectObject(HDC_0047b6c0,*(HGDIOBJ *)(DAT_0047e5ac + -4 + (uint)puVar13[0x25e] * 4));
            if (INT_0047e630 == 1) {
              iVar17 = local_1a0 / 2 + iVar23 + -1 + local_19c;
              iVar20 = DAT_0047ac74 + -2;
              iVar18 = (iVar23 - local_1a0 / 2) + 1;
              iVar22 = iVar28 * 10 + 2;
            }
            else {
              iVar22 = (DAT_0047ac74 >> 1) - (DAT_0047ac78 >> 1);
              local_198 = local_1a0 / 2;
              iVar17 = DAT_0047ac78 + -2;
              iVar20 = local_198 + iVar22 + iVar23 + -1 + local_19c;
              iVar18 = iVar28 * 10 + 2;
              iVar22 = (iVar22 - local_198) + 1 + iVar23;
            }
            Rectangle(HDC_0047b6c0,iVar22,iVar18,iVar20,iVar17);
            pcVar7 = _Dst_0047e180;
            if (INT_0047e630 == 1) {
              do {
                cVar1 = *pcVar7;
                pcVar7 = pcVar7 + 1;
              } while (cVar1 != '\0');
              local_198 = iVar28 * 0xf;
              (*DAT_0047bb78)(HDC_0047b6c0,local_198 + 5,iVar23 + -8,_Dst_0047e180);
              local_194 = (ushort *)((int)puVar13 + 0x103);
              puVar15 = puVar13 + 0x81;
              do {
                uVar5 = *puVar15;
                puVar15 = (ushort *)((int)puVar15 + 1);
              } while ((char)uVar5 != '\0');
              (*DAT_0047bb78)(HDC_0047b6c0,local_198 + 0x1a,iVar23 + -8,puVar13 + 0x81);
            }
            else {
              do {
                cVar1 = *pcVar7;
                pcVar7 = pcVar7 + 1;
              } while (cVar1 != '\0');
              local_198 = iVar28 * 0xf;
              (*DAT_0047bb78)(HDC_0047b6c0,local_198 + 5,iVar23 + -8 + local_19c,_Dst_0047e180);
              local_194 = (ushort *)((int)puVar13 + 0x103);
              puVar15 = puVar13 + 0x81;
              do {
                uVar5 = *puVar15;
                puVar15 = (ushort *)((int)puVar15 + 1);
              } while ((char)uVar5 != '\0');
              (*DAT_0047bb78)(HDC_0047b6c0,local_198 + 0x1a,iVar23 + -8 + local_19c,puVar13 + 0x81 );
            }
          }
          else if (puVar13[0x25e] != 0) {
            h = DAT_0047ce38;
            if (PTR_0047e74c == puVar13) {
              h = *(HGDIOBJ *)(DAT_0047e5b8 + -4 + (uint)puVar13[0x25e] * 4);
            }
            SelectObject(HDC_0047b6c0,h);
            SelectObject(HDC_0047b6c0,*(HGDIOBJ *)(DAT_0047e5ac + -4 + (uint)puVar13[0x25e] * 4));
            if (INT_0047e630 == 1) {
              iVar17 = local_1a0 / 2 + iVar23 + -1 + local_19c;
              iVar20 = DAT_0047ac74 + -2;
              iVar18 = (iVar23 - local_1a0 / 2) + 1;
              iVar22 = iVar28 * 10 + 2;
            }
            else {
              iVar22 = (DAT_0047ac74 >> 1) - (DAT_0047ac78 >> 1);
              local_198 = local_1a0 / 2;
              iVar17 = DAT_0047ac78 + -2;
              iVar20 = local_198 + iVar22 + iVar23 + -1 + local_19c;
              iVar18 = iVar28 * 10 + 2;
              iVar22 = (iVar22 - local_198) + 1 + iVar23;
            }
            Rectangle(HDC_0047b6c0,iVar22,iVar18,iVar20,iVar17);
          }
          if (INT_0047e630 == 1) {
            if (((char)puVar13[0x101] == '\0') || (puVar13 != PTR_0047e74c)) {
              strcpy_s(local_110,0x100,(char *)(puVar13 + 0x81));
            }
            else {
              strcpy_s(local_110,0x100,(char *)(puVar13 + 0x81));
              strcat_s(local_110,0x100," ");
              strcat_s(local_110,0x100,(char *)(puVar13 + 0x101));
            }
            pcVar7 = local_110;
            do {
              cVar1 = *pcVar7;
              pcVar7 = pcVar7 + 1;
            } while (cVar1 != '\0');
            (*DAT_0047bb78)(HDC_0047b6c0,iVar28 * 0xf + 0x19,iVar23 + -8,local_110);
          }
          else {
            puVar15 = puVar13 + 0x81;
            do {
              uVar5 = *puVar15;
              puVar15 = (ushort *)((int)puVar15 + 1);
            } while ((char)uVar5 != '\0');
            local_198 = iVar28 * 0xf;
            local_194 = (ushort *)(local_198 + 0x19);
            (*DAT_0047bb78)(HDC_0047b6c0,local_194,iVar23 + -8 + local_19c,puVar13 + 0x81);
            puVar15 = puVar13 + 0x101;
            if (((char)*puVar15 != '\0') && (puVar13 == PTR_0047e74c)) {
              puVar16 = puVar15;
              do {
                uVar5 = *puVar16;
                puVar16 = (ushort *)((int)puVar16 + 1);
              } while ((char)uVar5 != '\0');
              uVar24 = (int)puVar16 - (int)((int)puVar13 + 0x203);
              FUN_00439220(puVar15,uVar24);
              if ((int)((DAT_0047ac78 - local_198) + -0x29) < (int)uVar24) {
                puVar16 = puVar15;
                do {
                  uVar5 = *puVar16;
                  puVar16 = (ushort *)((int)puVar16 + 1);
                } while ((char)uVar5 != '\0');
                iVar28 = (int)puVar16 - (int)((int)puVar13 + 0x203);
                puVar16 = local_194;
              }
              else {
                local_194 = (ushort *)((int)puVar13 + 0x203);
                puVar16 = puVar15;
                do {
                  uVar5 = *puVar16;
                  puVar16 = (ushort *)((int)puVar16 + 1);
                } while ((char)uVar5 != '\0');
                iVar28 = (int)puVar16 - (int)local_194;
                puVar16 = (ushort *)((DAT_0047ac78 - uVar24) + -0x10);
              }
              local_1b0 = uVar24;
              (*DAT_0047bb78)(HDC_0047b6c0,puVar16,iVar23 + -0x18 + local_19c,
                              CONCAT44(iVar28,puVar15));
            }
            if (puVar13[0x25e] != 0) {
              SelectObject(HDC_0047b6c0,DAT_0047ce38);
              SelectObject(HDC_0047b6c0,*(HGDIOBJ *)(DAT_0047e5ac + -4 + (uint)puVar13[0x25e] * 4) );
              iVar28 = (DAT_0047ac74 >> 1) - (DAT_0047ac78 >> 1);
              Rectangle(HDC_0047b6c0,(iVar28 - local_1a0 / 2) + 2 + iVar23,
                        (DAT_0047ac78 - (int)psizl_0047ce80) + -2,
                        iVar28 + local_1a0 / 2 + -2 + iVar23,DAT_0047ac78 + -2);
            }
          }
          if (*puVar13 == 2) {
            if (puVar13 == PTR_0047e74c) {
              if (puVar13[0x25e] != 0) {
                SelectObject(HDC_0047b6c0,DAT_0047ce38);
                SelectObject(HDC_0047b6c0,*(HGDIOBJ *)(DAT_0047e5ac + -4 + (uint)puVar13[0x25e] * 4)
                            );
                if (INT_0047e630 == 1) {
                  if ((DAT_0047e744 == 0) && (1 < local_1a4)) {
                    Rectangle(HDC_0047b6c0,100,iVar23 + -9 + local_19c,0x1c6,
                              local_1a0 / 2 + iVar23 + -1 + local_19c);
                  }
                  else {
                    Rectangle(HDC_0047b6c0,0xf5,iVar23 + -9 + local_19c,0x1c6,
                              local_1a0 / 2 + iVar23 + -1 + local_19c);
                  }
                }
              }
              if ((DAT_0047e744 != 0) || (0 < local_1a4)) {
                uVar24 = 1 - INT_0047e630;
                local_198 = 0;
                do {
                  local_1b0 = local_198;
                  if (INT_0047e630 != 1) {
                    local_1b0 = 5 - local_198;
                  }
                  uVar14 = (uint)local_1b4[local_1b0 + 599];
                  uVar21 = uVar14 & 0x80000001;
                  if (false) {
                    uVar21 = (uVar21 - 1 | 0xfffffffe) + 1;
                  }
                  if (uVar21 == 1) {
LAB_0041f626:
                    if (DAT_0047e744 == 0) {
                      local_198 = (uint)DAT_0047cf56;
                      uVar24 = 0xffffffff;
                    }
                    if ((1 << ((byte)local_1b0 & 0x1f) & (uint)local_1b4[0x256]) != 0) {
                      switch(local_1b0) {
                      case 0:
                        pcVar7 = _Dst_0047e120;
                        break;
                      case 1:
                        pcVar7 = _Dst_0047e130;
                        break;
                      case 2:
                        pcVar7 = _Dst_0047e140;
                        break;
                      case 3:
                        pcVar7 = _Dst_0047e150;
                        break;
                      case 4:
                        pcVar7 = _Dst_0047e160;
                        break;
                      default:
                        pcVar7 = _Dst_0047e170;
                      }
                      strcpy_s(local_110,0x100,pcVar7);
                      pcVar7 = local_110;
                      do {
                        cVar1 = *pcVar7;
                        pcVar7 = pcVar7 + 1;
                      } while (cVar1 != '\0');
                      local_1c4 = uVar24 + 1;
                      iVar22 = local_1c4 * local_1a0;
                      iVar28 = iVar22 + -8 + iVar23;
                      (*DAT_0047bb78)(HDC_0047b6c0,INT_0047e630 * -0x10 + 0x8d,iVar28,local_110);
                      if (((&DAT_0047cf56)[local_1bc * 0x1e0] == local_1b0) && (0 < local_1a4)) {
                        (*DAT_0047bb78)(HDC_0047b6c0,INT_0047e630 * -0x10 + 0x79,iVar28,">>");
                        (*DAT_0047bb78)(HDC_0047b6c0,INT_0047e630 * -0x10 + 0x7a,iVar28,">>");
                      }
                      if (1 < DAT_0047e2c8) {
                        if ((DAT_0047cf56 == local_1b0) && (0 < local_1a4)) {
                          if (INT_0047e630 == 1) {
                            iVar28 = iVar22 + -6 + iVar23;
                            pcVar7 = "P1";
                          }
                          else {
                            iVar28 = 0x40;
                            pcVar7 = "P1";
                          }
                          FUN_00437c50(iVar28,pcVar7);
                        }
                        if (((DAT_0047d316 == local_1b0) && (0 < local_1a4)) && (local_1bc == 1)) {
                          if (INT_0047e630 == 1) {
                            iVar28 = iVar22 + -6 + iVar23;
                            pcVar7 = "P2";
                          }
                          else {
                            iVar28 = 0x2c;
                            pcVar7 = "P2";
                          }
                          FUN_00437c50(iVar28,pcVar7);
                        }
                      }
                      puVar13 = local_1b4 + local_1b0 * 4 + 0x184;
                      local_1b8 = NULL;
                      local_1f0 = (double)CONCAT44(puVar13,(undefined4)local_1f0);
                      local_194 = (ushort *)0x9;
                      uVar24 = local_1b0;
                      do {
                        puVar15 = local_1b8;
                        if (INT_0047e630 != 1) {
                          puVar15 = local_194;
                        }
                        uVar31 = FUN_0045db50(uVar24,puVar13);
                        if ((int)local_1b8 < (int)uVar31) {
                          pcVar7 = _Src_0047e184;
                          do {
                            pcVar19 = pcVar7;
                            pcVar7 = pcVar19 + 1;
                          } while (*pcVar19 != '\0');
                          uVar33 = CONCAT44(pcVar19 + -0x47e184,_Src_0047e184);
LAB_0041f90f:
                          (*DAT_0047bb78)(HDC_0047b6c0,
                                          ((int)puVar15 * 0x12 -
                                          ((DAT_0047ac74 - DAT_0047ac78) * (INT_0047e630 + -1)) / 2 )
                                          + 0xf5,iVar22 + -8 + iVar23,uVar33);
                          uVar24 = extraout_ECX_00;
                          puVar13 = extraout_EDX;
                        }
                        else {
                          uVar24 = local_1b0;
                          puVar13 = local_1b8;
                          if ((int)local_1b8 < (int)UINT_ARRAY_00462b74[local_1b0]) {
                            pcVar7 = _Src_0047e188;
                            do {
                              pcVar19 = pcVar7;
                              pcVar7 = pcVar19 + 1;
                            } while (*pcVar19 != '\0');
                            uVar33 = CONCAT44(pcVar19 + -0x47e188,_Src_0047e188);
                            goto LAB_0041f90f;
                          }
                        }
                        local_1b8 = (ushort *)((int)local_1b8 + 1);
                        local_194 = (ushort *)((int)local_194 + -1);
                      } while (local_194 < &Y_80000000);
                      FUN_0045db50(local_1b4,local_198);
                      sprintf_s(local_110,0x100,"%s x %d",_Src_0047e184);
                      pcVar7 = local_110;
                      do {
                        cVar1 = *pcVar7;
                        pcVar7 = pcVar7 + 1;
                      } while (cVar1 != '\0');
                      (*DAT_0047bb78)(HDC_0047b6c0,(DAT_0047ac74 - (int)psizl_0047ce80) + -8,
                                      iVar22 + -8 + iVar23,local_110);
                      if ((DAT_004820f8 != 0) && (DAT_0047e2c8 == 1)) {
                        if (INT_0047e630 == 1) {
                          uVar5 = PTR_0047e74c[local_1b0 + 0x248];
                          iVar18 = (iVar22 - (DAT_004820fc >> 1)) + iVar23;
                          iVar28 = 0x50;
                        }
                        else {
                          uVar5 = PTR_0047e74c[local_1b0 + 0x248];
                          iVar18 = 0x40;
                          iVar28 = (((DAT_0047ac74 >> 1) - (DAT_004820fc >> 1)) -
                                   (DAT_0047ac78 >> 1)) + iVar22 + iVar23;
                        }
                        (*DAT_0047b110)(&DAT_004820c8,&DAT_004820cc,iVar28,iVar18,DAT_004820f8,
                                        DAT_004820fc,(uint)uVar5 * DAT_004820f8);
                      }
                      uVar24 = local_1c4;
                      if (DAT_0047e744 == 0) break;
                    }
                  }
                  else {
                    if (3 < uVar14) {
                      uVar14 = 3;
                    }
                    if ((int)uVar14 >> 1 == DAT_0047e2c8 - 1) goto LAB_0041f626;
                  }
                  local_198 += 1;
                } while ((int)local_198 < 6);
                if ((*(int *)(PTR_0047e74c + 0x250) != 0) && (DAT_0047e744 != 0)) {
                  if (PTR_0047e74c[0x25e] != 0) {
                    SelectObject(HDC_0047b6c0,DAT_0047ce38);
                    SelectObject(HDC_0047b6c0,
                                 *(HGDIOBJ *)(DAT_0047e5ac + -4 + (uint)local_1b4[0x25e] * 4));
                    if (INT_0047e630 == 1) {
                      iVar18 = local_1a0 / 2 + -1 + iVar23;
                      iVar28 = DAT_0047ac74 + -2;
                      iVar22 = iVar23 + -9;
                      iVar17 = DAT_0047ac74 + -0x69;
                    }
                    else {
                      iVar17 = (DAT_0047ac74 >> 1) - (DAT_0047ac78 >> 1);
                      iVar18 = DAT_0047ac78 + -2;
                      iVar28 = (int)psizl_0047ce80 / 2 + iVar17 + iVar23 + local_19c;
                      iVar22 = DAT_0047ac78 + -0x69;
                      iVar17 = (iVar17 - (int)psizl_0047ce80 / 2) + iVar23 + local_19c;
                    }
                    Rectangle(HDC_0047b6c0,iVar17,iVar22,iVar28,iVar18);
                  }
                  pcVar7 = _Dst_0047e18c;
                  if (INT_0047e630 == 1) {
                    do {
                      pcVar19 = pcVar7;
                      pcVar7 = pcVar19 + 1;
                    } while (*pcVar19 != '\0');
                    iVar28 = iVar23 + -8;
                    iVar22 = DAT_0047ac74;
                  }
                  else {
                    do {
                      pcVar19 = pcVar7;
                      pcVar7 = pcVar19 + 1;
                    } while (*pcVar19 != '\0');
                    iVar28 = iVar23 + -8 + local_19c;
                    iVar22 = DAT_0047ac78;
                  }
                  (*DAT_0047bb78)(HDC_0047b6c0,iVar22 + -100,iVar28,
                                  CONCAT44(pcVar19 + -0x47e18c,_Dst_0047e18c));
                }
              }
              puVar13 = local_1b4;
              if ((local_1b4 == PTR_0047e74c) && (DAT_0047e744 != 0)) goto LAB_0042010f;
            }
            if ((1 << ((byte)DAT_0047cf56 & 0x1f) & (uint)puVar13[0x256]) != 0) {
              FUN_0045db50((uint)DAT_0047cf56,(uint)puVar13[0x256]);
              sprintf_s(local_110,0x100,"%s x %d",_Src_0047e184);
              pcVar7 = local_110;
              if (INT_0047e630 == 1) {
                do {
                  cVar1 = *pcVar7;
                  pcVar7 = pcVar7 + 1;
                } while (cVar1 != '\0');
                (*DAT_0047bb78)(HDC_0047b6c0,(DAT_0047ac74 - (int)psizl_0047ce80) + -8,
                                iVar23 + -8 + local_19c,local_110);
              }
              else {
                do {
                  cVar1 = *pcVar7;
                  pcVar7 = pcVar7 + 1;
                } while (cVar1 != '\0');
                TextOutA(HDC_0047b6c0,
                         (((DAT_0047ac74 >> 1) - (DAT_0047ac78 >> 1)) - local_1a0 / 2) + iVar23 + 2
                         + local_19c,(DAT_0047ac78 - (int)psizl_0047ce80) + -8,local_110,
                         (int)pcVar7 - (int)(local_110 + 1));
              }
            }
          }
          else if ((*puVar13 == 4) && (puVar13 == PTR_0047e74c)) {
            iVar28 = 0;
            local_194 = NULL;
            if (puVar13[0x220] != 0) {
              do {
                iVar22 = *(int *)(*(int *)(puVar13 + 0x222) + iVar28 * 4);
                pcVar19 = (char *)(iVar22 + 0x102);
                local_1c4 = iVar22 + 0x103;
                pcVar7 = pcVar19;
                do {
                  cVar1 = *pcVar7;
                  pcVar7 = pcVar7 + 1;
                } while (cVar1 != '\0');
                (*DAT_0047bb78)(HDC_0047b6c0,INT_0047e630 * -0x10 + 0x8d,
                                ((iVar28 - INT_0047e630) + 3) * local_1a0 + -8 + iVar23,pcVar19);
                uVar31 = FUN_0045db50(*(int *)(puVar13 + 0x222),
                                      *(undefined4 *)(*(int *)(puVar13 + 0x222) + iVar28 * 4));
                local_194 = (ushort *)((int)local_194 + (int)uVar31);
                sprintf_s(local_110,0x100,"%s x %d",_Src_0047e184);
                pcVar7 = local_110;
                do {
                  cVar1 = *pcVar7;
                  pcVar7 = pcVar7 + 1;
                } while (cVar1 != '\0');
                (*DAT_0047bb78)(HDC_0047b6c0,(DAT_0047ac74 - (int)psizl_0047ce80) + -8,
                                ((iVar28 - INT_0047e630) + 3) * local_1a0 + -8 + iVar23,local_110) ;
                if (((iVar28 == 0) && (DAT_004820f8 != 0)) && (DAT_0047e2c8 == 1)) {
                  if (INT_0047e630 == 1) {
                    uVar5 = PTR_0047e74c[*(int *)(puVar13 + 0x24e) + 0x248];
                    iVar22 = (iVar23 - (DAT_004820fc >> 1)) + local_1a0;
                    iVar18 = 0x50;
                  }
                  else {
                    uVar5 = PTR_0047e74c[*(int *)(puVar13 + 0x24e) + 0x248];
                    iVar22 = 0x40;
                    iVar18 = (((DAT_0047ac74 >> 1) - (DAT_004820fc >> 1)) - (DAT_0047ac78 >> 1)) +
                             iVar23;
                  }
                  (*DAT_0047b110)(&DAT_004820c8,&DAT_004820cc,iVar18,iVar22,DAT_004820f8,
                                  DAT_004820fc,(uint)uVar5 * DAT_004820f8);
                }
                iVar28 += 1;
              } while (iVar28 < (int)(uint)puVar13[0x220]);
            }
            switch(*(undefined4 *)(puVar13 + 0x24e)) {
            case 0:
              pcVar7 = _Dst_0047e120;
              break;
            case 1:
              pcVar7 = _Dst_0047e130;
              break;
            case 2:
              pcVar7 = _Dst_0047e140;
              break;
            case 3:
              pcVar7 = _Dst_0047e150;
              break;
            case 4:
              pcVar7 = _Dst_0047e160;
              break;
            default:
              pcVar7 = _Dst_0047e170;
            }
            strcpy_s(local_110,0x100,pcVar7);
            pcVar7 = local_110;
            do {
              cVar1 = *pcVar7;
              pcVar7 = pcVar7 + 1;
            } while (cVar1 != '\0');
            (*DAT_0047bb78)(HDC_0047b6c0,INT_0047e630 * -0x10 + 0x8d,
                            (2 - INT_0047e630) * local_1a0 + -8 + iVar23,local_110);
            local_1f0 = (double)(int)local_194;
            local_1b8 = NULL;
            local_194 = (ushort *)0x9;
            iVar28 = INT_0047e630;
            do {
              puVar13 = local_1b8;
              if (iVar28 != 1) {
                puVar13 = local_194;
              }
              local_1c4 = (uint)local_1b4[0x220];
              uVar31 = FUN_0045db50(local_1b4,local_1c4);
              if ((int)local_1b8 < (int)uVar31) {
                pcVar7 = _Src_0047e184;
                do {
                  pcVar19 = pcVar7;
                  pcVar7 = pcVar19 + 1;
                } while (*pcVar19 != '\0');
                uVar33 = CONCAT44(pcVar19 + -0x47e184,_Src_0047e184);
                iVar22 = (int)puVar13 * 0x12 - ((DAT_0047ac74 - DAT_0047ac78) * (iVar28 + -1)) / 2 ;
LAB_004200de:
                (*DAT_0047bb78)(HDC_0047b6c0,iVar22 + 0xf5,(2 - iVar28) * local_1a0 + -8 + iVar23,
                                uVar33);
                iVar28 = INT_0047e630;
              }
              else if ((int)local_1b8 < (int)UINT_ARRAY_00462b74[*(int *)(local_1b4 + 0x24e)]) {
                pcVar7 = _Src_0047e188;
                do {
                  pcVar19 = pcVar7;
                  pcVar7 = pcVar19 + 1;
                } while (*pcVar19 != '\0');
                uVar33 = CONCAT44(pcVar19 + -0x47e188,_Src_0047e188);
                iVar22 = (int)puVar13 * 0x12 - ((DAT_0047ac74 - DAT_0047ac78) * (iVar28 + -1)) / 2 ;
                goto LAB_004200de;
              }
              local_1b8 = (ushort *)((int)local_1b8 + 1);
              local_194 = (ushort *)((int)local_194 + -1);
              puVar13 = local_1b4;
            } while (local_194 < &Y_80000000);
          }
        }
LAB_0042010f:
        uVar5 = *puVar13;
        if ((uVar5 == 3) && (*(int *)(puVar13 + 0x260) == 0)) {
          local_1a8 -= *(int *)(puVar13 + 0x254);
          if ((*(short *)(*(int *)(puVar13 + 0x270) + 0x4bc) != 0) &&
             (*(int *)(*(int *)(puVar13 + 0x270) + 0x4c0) == 0)) {
            local_1a8 -= 1;
          }
        }
        local_1ac += 1;
        if (((puVar13[0x25d] & DAT_0047e2d2) == 0) &&
           (*(int *)(*(int *)(puVar13 + 0x272) + 0x4c0) == 1)) {
          local_1a8 -= 1;
        }
      }
      local_1b4 = *(ushort **)(puVar13 + 0x26e);
      if ((((local_1b4 == NULL) || ((puVar13[0x25e] == 0 && (local_1b4 == NULL)))) && (uVar5 == 2) )
         && (puVar13[0x25e] != 0)) {
        psVar25 = *(short **)(puVar13 + 0x272);
        psVar11 = psVar25 + 0x25e;
        iVar28 = 0;
        if (0 < *(int *)(*(int *)(psVar25 + 0x272) + 0x4a8)) {
          do {
            do {
              psVar25 = *(short **)(psVar25 + 0x26e);
            } while (*psVar25 != 2);
          } while ((psVar25[0x25e] != *psVar11) ||
                  (iVar28 += 1, iVar28 < *(int *)(*(int *)(psVar25 + 0x272) + 0x4a8)));
        }
        local_1b4 = *(ushort **)(psVar25 + 0x26e);
      }
    } while (local_1b4 != NULL);
    if (DAT_0047e744 == 0) {
      SelectObject(HDC_0047b6c0,DAT_0047ce7c);
      iVar28 = local_19c;
      MoveToEx(HDC_0047b6c0,0,(DAT_0047ac78 >> 1) + 7 + local_19c,NULL);
      LineTo(HDC_0047b6c0,300,(DAT_0047ac78 >> 1) + 7 + iVar28);
    }
    DVar8 = timeGetTime();
    if (999 < DVar8 - _DAT_0047e5a0) goto switchD_0042029b_default;
    switch(DAT_0047e5a4) {
    case 1:
      sprintf_s(local_110,0x100,"AutoPlay : ");
      if (DAT_0047ac94 == 1) {
        if (DAT_0047e58c == 0) {
          pcVar7 = "ON";
        }
        else if (DAT_0047e58c == 1) {
          pcVar7 = "1P Auto";
        }
        else {
          if (DAT_0047e58c != 2) goto LAB_00420312;
          pcVar7 = "2P Auto";
        }
      }
      else {
LAB_00420312:
        pcVar7 = "OFF";
      }
      goto LAB_0042059a;
    case 2:
      sprintf_s(local_110,0x100,"KeyAction : ");
      if (DAT_0047e618 == 1) {
        strcat_s(local_110,0x100,"Anytime");
      }
      else {
        pcVar7 = "Active";
LAB_0042036a:
        strcat_s(local_110,0x100,pcVar7);
      }
      break;
    case 3:
      sprintf_s(local_110,0x100,"PlayStyle : ");
      if (DAT_0047e2c8 == 1) {
        strcat_s(local_110,0x100,"Single");
      }
      else {
        pcVar7 = "Double";
LAB_004203da:
        strcat_s(local_110,0x100,pcVar7);
      }
      break;
    case 4:
      sprintf_s(local_110,0x100,"NormaGauge : ");
      bVar30 = (DAT_0047cf62 & 1) == 0;
      if (false) {
        bVar30 = ((DAT_0047cf62 & 0x80000001) - 1 | 0xfffffffe) == 0xffffffff;
      }
      if (!bVar30) {
        pcVar7 = "Hard";
        goto LAB_0042036a;
      }
      strcat_s(local_110,0x100,"Normal");
      break;
    case 5:
      sprintf_s(local_110,0x100,"Sort : ");
      if (DAT_0047e5a8 == 0) {
        pcVar7 = "FileName";
      }
      else if (DAT_0047e5a8 == 1) {
        pcVar7 = "Level";
      }
      else {
        if (DAT_0047e5a8 != 2) break;
        pcVar7 = "SongTitle";
      }
      goto LAB_0042059a;
    case 6:
      sprintf_s(local_110,0x100,"SIDE : ");
      if (DAT_0047e2d2 == 1) {
        strcat_s(local_110,0x100,"Normal");
      }
      else if (DAT_0047e2d2 == 2) {
        strcat_s(local_110,0x100,"Ex");
      }
      else if (DAT_0047e2d2 == 3) {
        pcVar7 = "Both";
        goto LAB_004203da;
      }
      break;
    case 7:
      sprintf_s(local_110,0x100,"SCORE : ");
      if (DAT_0047e2d8 == 0) {
        pcVar7 = "Stepwise";
      }
      else {
        if (DAT_0047e2d8 != 1) break;
        pcVar7 = "Stable";
      }
LAB_0042059a:
      strcat_s(local_110,0x100,pcVar7);
      break;
    default:
      goto switchD_0042029b_default;
    }
    FUN_00437c50(2,local_110);
switchD_0042029b_default:
    DVar8 = timeGetTime();
    local_194 = (ushort *)(DVar8 - local_1d8);
    if (*PTR_0047e74c == 4) {
      local_198 = *(uint *)(PTR_0047e74c + 0x24e);
    }
    else {
      local_198 = (uint)DAT_0047cf56;
    }
    if (*(int *)(PTR_0047e74c + local_198 * 2 + 0x224) != 0) {
      if (DAT_00482758 != NULL) {
        if (INT_0047e630 == 1) {
          local_1ac = DAT_0047ac78 + -0x14;
          if (local_1ac < DAT_0047ac78) {
            iVar22 = DAT_0047ac78 - local_1ac;
            iVar23 = (DAT_0047ac78 + -0x13) * DAT_0047ac74 * 4;
            local_1ac += iVar22;
            iVar28 = DAT_0047ac74 * 4;
            do {
              iVar18 = iVar23 + -0x248;
              iVar17 = iVar23 + -0x248;
              iVar23 += iVar28;
              iVar22 += -1;
              puVar26 = (undefined4 *)(iVar18 + (int)DAT_00482758);
              puVar29 = (undefined4 *)(iVar17 + (int)ppvBits_0047c2bc);
              for (iVar20 = 0x90; iVar20 != 0; iVar20 += -1) {
                *puVar29 = *puVar26;
                puVar26 = puVar26 + 1;
                puVar29 = puVar29 + 1;
              }
            } while (iVar22 != 0);
          }
        }
        else {
          iVar28 = DAT_0047ac74 * 4;
          iVar22 = 0x14;
          local_1ac = 0x14;
          iVar23 = iVar28;
          do {
            iVar18 = iVar23 + -0x248;
            iVar17 = iVar23 + -0x248;
            iVar23 += iVar28;
            iVar22 += -1;
            puVar26 = (undefined4 *)(iVar18 + (int)DAT_00482758);
            puVar29 = (undefined4 *)(iVar17 + (int)ppvBits_0047c2bc);
            for (iVar20 = 0x90; iVar20 != 0; iVar20 += -1) {
              *puVar29 = *puVar26;
              puVar26 = puVar26 + 1;
              puVar29 = puVar29 + 1;
            }
          } while (iVar22 != 0);
        }
      }
      sprintf_s(local_110,0x100,"HiScore :%8u");
      if (INT_0047e630 == 1) {
        iVar28 = DAT_0047ac78 + -0x10;
      }
      else {
        iVar28 = 0;
      }
      FUN_00437c50(iVar28,local_110);
    }
    local_1d8 = timeGetTime();
    local_1d8 -= DAT_0047e2cc;
    dVar2 = (double)(int)local_1d8;
    if ((int)local_1d8 < 0) {
      dVar2 = dVar2 + 4294967296.0;
    }
    if ((_DAT_0047ac88 * 150.0 < dVar2 != (NAN(_DAT_0047ac88 * 150.0) || NAN(dVar2))) &&
       (local_1a4 == 2)) {
      PatBlt(HDC_0047b6c0,0,0,DAT_0047ac74,DAT_0047ac78,0x42);
    }
    FUN_00435050();
    if (DAT_0047e634 == 0) {
      if (DAT_0047ac80 == DAT_0047ac78) {
        BitBlt(DAT_0047de50,0,0,DAT_0047ac74,DAT_0047ac78,HDC_0047b6c0,0,0,0xcc0020);
      }
      else {
        StretchDIBits(DAT_0047de50,0,0,DAT_0047ac7c,DAT_0047ac80,0,0,DAT_0047ac74,DAT_0047ac78,
                      ppvBits_0047c2bc,(BITMAPINFO *)&lpbmi_0047b694,0,0xcc0020);
      }
    }
LAB_004207ec:
    pcVar27 = timeGetTime_exref;
    if (local_194 < (ushort *)(1000 / (ulonglong)DAT_0047ac90)) {
      FUN_0043a6e0();
      pcVar27 = timeGetTime_exref;
    }
    else {
      DVar8 = timeGetTime();
      do {
        BVar9 = PeekMessageA(&local_20c,NULL,0,0,1);
        if (BVar9 != 0) {
          TranslateMessage(&local_20c);
          DispatchMessageA(&local_20c);
        }
        DVar10 = timeGetTime();
      } while (DVar10 < DVar8);
    }
    if ((_DAT_00482ad4 & 1) == 0) {
      _DAT_00482ad4 |= 1;
      _DAT_00482ad0 = (*pcVar27)();
    }
    iVar28 = (*pcVar27)();
    if (999 < (uint)(iVar28 - _DAT_00482ad0)) {
      DAT_0047d648 = DAT_00482acc;
      DAT_00482acc = 0;
      _DAT_00482ad0 = iVar28;
    }
    DAT_00482acc += 1;
  } while( true );
}



undefined4 FUN_00420e40(void)

{
  undefined2 *puVar1;
  int iVar2;
  undefined4 *puVar3;
  
  if (DAT_0047e2c4 != 0) {
    free((void *)DAT_0047e2c4);
  }
  DAT_0047e2c4 = 0;
  if (DAT_0047b154 != 0) {
    free((void *)DAT_0047b154);
  }
  DAT_0047b154 = 0;
  puVar3 = &DAT_0047cef0;
  do {
    if ((void *)puVar3[-9] != NULL) {
      free((void *)puVar3[-9]);
    }
    puVar3[-9] = 0;
    if ((void *)*puVar3 != NULL) {
      free((void *)*puVar3);
    }
    *puVar3 = 0;
    if ((void *)puVar3[-8] != NULL) {
      free((void *)puVar3[-8]);
    }
    puVar3[-8] = 0;
    if ((void *)puVar3[-6] != NULL) {
      free((void *)puVar3[-6]);
    }
    puVar3[-6] = 0;
    if ((void *)puVar3[-7] != NULL) {
      free((void *)puVar3[-7]);
    }
    puVar3[-7] = 0;
    if ((void *)puVar3[-2] != NULL) {
      free((void *)puVar3[-2]);
    }
    puVar3[-2] = 0;
    if (*(short *)(puVar3 + 0xb) != 0) {
      free((void *)puVar3[-4]);
    }
    puVar3[-4] = 0;
    if ((uint)*(ushort *)(puVar3 + 0x10) + (uint)*(ushort *)((int)puVar3 + 0x3e) +
        (uint)*(ushort *)(puVar3 + 0xf) != 0) {
      free((void *)puVar3[-5]);
    }
    puVar3[-5] = 0;
    if ((void *)puVar3[-3] != NULL) {
      free((void *)puVar3[-3]);
    }
    puVar3[-3] = 0;
    if ((void *)puVar3[-1] != NULL) {
      free((void *)puVar3[-1]);
    }
    puVar3[-1] = 0;
    puVar1 = (undefined2 *)((int)puVar3 + 0xe);
    iVar2 = 3;
    do {
      puVar1[-3] = 0;
      *puVar1 = 0;
      puVar1[0x11] = 0;
      puVar1[0x14] = 0;
      puVar1[0x1d] = 0;
      puVar1[0x20] = 0;
      puVar1[0x17] = 0;
      puVar1[0x1a] = 0;
      puVar1 = puVar1 + 1;
      iVar2 += -1;
    } while (iVar2 != 0);
    puVar3 = puVar3 + 0xf0;
  } while ((int)puVar3 < 0x47d670);
  DAT_0047c8a0 = 0;
  return 0;
}



void FUN_00420f90(void)

{
  uchar *puVar1;
  uchar uVar2;
  byte bVar3;
  HGDIOBJ ho;
  undefined4 uVar4;
  COLORREF color;
  uint uVar5;
  byte *pbVar6;
  double dVar7;
  uchar *puVar8;
  uchar *puVar9;
  undefined4 *puVar10;
  uint uVar11;
  HBRUSH pHVar12;
  HPEN pHVar13;
  ushort *puVar14;
  void *pvVar15;
  byte *pbVar16;
  byte *pbVar17;
  byte *pbVar18;
  int iVar19;
  short *psVar20;
  undefined *puVar21;
  bool bVar22;
  int *piVar23;
  int *piVar24;
  int local_b00;
  undefined8 local_afc;
  ushort *local_af0;
  undefined8 local_aec;
  undefined2 local_adc;
  char local_ada [1186];
  undefined2 local_638;
  undefined4 local_61c;
  uchar local_60c [512];
  uchar local_40c;
  undefined1 local_40b [511];
  char local_20c;
  undefined1 local_20b [515];
  uint local_8;
  
  local_8 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  local_40c = '0';
  memset(local_40b,0,0x1ff);
  local_af0 = NULL;
  local_adc = 0;
  memset(local_ada,0,0x4ce);
  local_20c = '0';
  memset(local_20b,0,0x1ff);
  iVar19 = 0;
  local_b00 = 0;
  if (0 < DAT_0047e584) {
    do {
      ho = *(HGDIOBJ *)(DAT_0047e5ac + iVar19 * 4);
      if (ho != NULL) {
        DeleteObject(ho);
      }
      iVar19 += 1;
    } while (iVar19 < DAT_0047e584);
  }
  if (DAT_0047e5ac != 0) {
    free((void *)DAT_0047e5ac);
  }
  DAT_0047e5ac = 0;
  if (DAT_0047e5b0 != 0) {
    free((void *)DAT_0047e5b0);
  }
  DAT_0047e5b0 = 0;
  DAT_0047e5b4 = 0;
  GetModuleFileNameA(NULL,(LPSTR)local_60c,0x200);
  puVar8 = local_60c;
  do {
    uVar2 = *puVar8;
    puVar8 = puVar8 + 1;
  } while (uVar2 != '\0');
  puVar9 = _mbsrchr(local_60c,0x5c);
  puVar1 = puVar9 + 1;
  do {
    uVar2 = *puVar9;
    puVar9 = puVar9 + 1;
  } while (uVar2 != '\0');
  _mbsnbcpy_s(&local_40c,0x200,local_60c,
              (size_t)(puVar8 + (-((int)puVar9 - (int)puVar1) - (int)(local_60c + 1))));
  local_638 = 0;
  strcpy_s(local_ada,0x100,(char *)&local_40c);
  DAT_0047e5a8 = (uint)(ushort)UINT_0047f11c;
  piVar24 = &local_b00;
  piVar23 = &DAT_0047e584;
  iVar19 = 0;
  local_61c = 1;
  puVar10 = FUN_0043aa00((undefined4 *)&_Memory_0047e750);
  FUN_00421560((char *)&local_40c,puVar10,iVar19,piVar23,piVar24);
  iVar19 = DAT_0047e584;
  if (puVar10 == (undefined4 *)0xffffffff) {
    MessageBoxA(HWND_0047de30,"",_Src_0047e0a0,0)
    ;
    INT_0047e630 = 0;
    __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
    return;
  }
  if (DAT_0047e61c == 0) {
    DAT_0047e5ac = (int)calloc(DAT_0047e584,4);
    DAT_0047e5b0 = (int)calloc(iVar19,4);
    DAT_0047e5b4 = (int)calloc(iVar19,4);
    DAT_0047e5b8 = (int)calloc(iVar19,4);
    puVar21 = &_Memory_0047e750;
    do {
      if ((puVar21 == *(undefined **)(puVar21 + 0x4e4)) &&
         (uVar11 = (uint)*(ushort *)(puVar21 + 0x4bc), *(ushort *)(puVar21 + 0x4bc) != 0)) {
        uVar4 = *(undefined4 *)(puVar21 + 0x4c8);
        color = *(COLORREF *)(puVar21 + 0x4c4);
        *(COLORREF *)(DAT_0047e5b0 + -4 + uVar11 * 4) = color;
        *(undefined4 *)(DAT_0047e5b4 + -4 + uVar11 * 4) = uVar4;
        pHVar12 = CreateSolidBrush(color);
        *(HBRUSH *)(DAT_0047e5ac + -4 + uVar11 * 4) = pHVar12;
        uVar5 = *(uint *)(DAT_0047e5b4 + -4 + uVar11 * 4);
        dVar7 = (double)(uVar5 >> 0x10);
        if (false) {
          dVar7 = dVar7 + 4294967296.0;
        }
        local_aec._0_4_ = (int)(longlong)ROUND(dVar7 * 0.4);
        iVar19 = (int)local_aec * 0x100;
        local_afc._4_4_ = (uint)*(byte *)(DAT_0047e5b4 + -3 + uVar11 * 4);
        local_afc = (longlong)ROUND((double)local_afc._4_4_ * 0.4);
        local_aec = (longlong)ROUND((double)(uVar5 & 0xff) * 0.4);
        pHVar13 = CreatePen(0,1,(iVar19 + (int)local_afc) * 0x100 + (int)local_aec);
        *(HPEN *)(DAT_0047e5b8 + -4 + uVar11 * 4) = pHVar13;
      }
      puVar21 = *(undefined **)(puVar21 + 0x4d4);
    } while (puVar21 != NULL);
    puVar14 = (ushort *)&_Memory_0047e750;
    do {
      if (1 < *puVar14) {
        if (local_af0 == NULL) {
          DAT_0047ec2c = puVar14;
          local_af0 = puVar14;
          if (puVar14[0x25e] != 0) {
            *(int *)(puVar14 + 0x26c) = *(int *)(puVar14 + 0x272);
            *(ushort **)(*(int *)(puVar14 + 0x272) + 0x4dc) = puVar14;
          }
        }
        else {
          *(ushort **)(local_af0 + 0x26e) = puVar14;
          *(ushort **)(puVar14 + 0x26c) = local_af0;
          local_af0 = puVar14;
        }
      }
      puVar14 = *(ushort **)(puVar14 + 0x26a);
    } while (puVar14 != NULL);
    psVar20 = (short *)&_Memory_0047e750;
    do {
      if (*psVar20 == 4) {
        piVar24 = *(int **)(psVar20 + 0x222);
        if (piVar24 != NULL) {
          if (*piVar24 != 0) {
            free((void *)*piVar24);
          }
          **(undefined4 **)(psVar20 + 0x222) = 0;
          free(*(void **)(psVar20 + 0x222));
        }
        pvVar15 = calloc((uint)(ushort)psVar20[0x220],4);
        *(void **)(psVar20 + 0x222) = pvVar15;
        FUN_004139a0(psVar20);
        uVar11 = 0;
        if (psVar20[0x220] != 0) {
          do {
            pbVar6 = *(byte **)(DAT_0047e4dc + uVar11 * 4);
            pbVar18 = &_Memory_0047e750;
            local_aec = CONCAT44(pbVar6,(int)local_aec);
            pbVar16 = &DAT_0047e752;
            pbVar17 = pbVar6;
            do {
              bVar3 = *pbVar16;
              bVar22 = bVar3 < *pbVar17;
              if (bVar3 != *pbVar17) {
LAB_00421420:
                iVar19 = (1 - (uint)bVar22) - (uint)(bVar22 != 0);
                goto joined_r0x00421427;
              }
              if (bVar3 == 0) break;
              bVar3 = pbVar16[1];
              bVar22 = bVar3 < pbVar17[1];
              if (bVar3 != pbVar17[1]) goto LAB_00421420;
              pbVar16 = pbVar16 + 2;
              pbVar17 = pbVar17 + 2;
            } while (bVar3 != 0);
            iVar19 = 0;
joined_r0x00421427:
            if (iVar19 != 0) {
              pbVar18 = *(byte **)(pbVar18 + 0x4d4);
              pbVar16 = pbVar6;
              pbVar17 = pbVar18;
              if (pbVar18 == NULL) {
                strcpy_s(&local_20c,0x200,"\"");
                strcat_s(&local_20c,0x200,*(char **)(DAT_0047e4dc + uVar11 * 4));
                strcat_s(&local_20c,0x200,"\" is not found");
                MessageBoxA(HWND_0047de30,&local_20c,_Src_0047e0a0,0);
                uVar11 = (uint)(ushort)psVar20[0x220];
                psVar20[0x25d] = 0;
                free(*(void **)(psVar20 + 0x222));
                psVar20[0x222] = 0;
                psVar20[0x223] = 0;
                goto LAB_0042150c;
              }
              do {
                bVar3 = pbVar17[2];
                bVar22 = bVar3 < *pbVar16;
                if (bVar3 != *pbVar16) {
LAB_00421460:
                  iVar19 = (1 - (uint)bVar22) - (uint)(bVar22 != 0);
                  goto joined_r0x00421427;
                }
                if (bVar3 == 0) break;
                bVar3 = pbVar17[3];
                bVar22 = bVar3 < pbVar16[1];
                if (bVar3 != pbVar16[1]) goto LAB_00421460;
                pbVar16 = pbVar16 + 2;
                pbVar17 = pbVar17 + 2;
              } while (bVar3 != 0);
              iVar19 = 0;
              goto joined_r0x00421427;
            }
            *(byte **)(*(int *)(psVar20 + 0x222) + uVar11 * 4) = pbVar18;
LAB_0042150c:
            uVar11 += 1;
          } while ((int)uVar11 < (int)(uint)(ushort)psVar20[0x220]);
        }
      }
      psVar20 = *(short **)(psVar20 + 0x26a);
    } while (psVar20 != NULL);
    DAT_0047cf56 = 3;
    FUN_00421cb0((short *)&_Memory_0047e750);
  }
  __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __cdecl FUN_00421560(char *param_1,undefined4 *param_2,int param_3,int *param_4,int *param_5)

{
  uchar *puVar1;
  uint *puVar2;
  uchar uVar3;
  char cVar4;
  uint uVar5;
  uint uVar6;
  uchar *puVar7;
  char *pcVar8;
  char *pcVar9;
  HANDLE hFindFile;
  BOOL BVar10;
  int iVar11;
  DWORD DVar12;
  CHAR *pCVar13;
  uchar *puVar14;
  CHAR *pCVar15;
  short *psVar16;
  undefined4 extraout_ECX;
  code *pcVar17;
  char *pcVar18;
  uint *puVar19;
  uint *puVar20;
  FILE *local_c34;
  int *local_c30;
  int *local_c2c;
  char *local_c28;
  int local_c24;
  short local_c20;
  char local_c1e [1186];
  undefined2 local_77c;
  undefined2 local_764;
  _WIN32_FIND_DATAA local_750;
  uchar local_610 [512];
  uchar local_410 [512];
  char local_210 [516];
  uint local_c;
  
  local_c = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  local_c28 = param_1;
  local_c30 = param_4;
  local_c2c = param_5;
  local_c20 = 0;
  memset(local_c1e,0,0x4ce);
  local_c24 = 0;
  if (param_3 == 0) {
    *(undefined2 *)param_2 = 0;
    param_2[0x130] = 1;
    *(undefined2 *)(param_2 + 0x12f) = 0;
    param_2[0x139] = param_2;
  }
  else {
    if ((2 < (int)(param_3 - (uint)*(ushort *)(param_2[0x139] + 0x4a4))) && (DAT_0047e594 == 0)) {
LAB_00421c93:
      __security_check_cookie(local_c ^ (uint)&stack0xfffffffc);
      return;
    }
    strcpy_s(local_210,0x200,local_c28);
    strcat_s(local_210,0x200,"\\genre.ini");
    fopen_s(&local_c34,local_210,"r");
    if (local_c34 != NULL) {
      fclose(local_c34);
      *param_4 = *param_4 + 1;
      *(undefined2 *)param_2 = 3;
      param_2[0x130] = 0;
      *(short *)(param_2 + 0x12f) = (short)*param_4;
      pcVar9 = (char *)((int)param_2 + 0x102);
      param_2[0x139] = param_2;
      param_2[0x13a] = *param_5;
      *(undefined2 *)((int)param_2 + 0x4ba) = 3;
      *param_5 = *param_5 + 1;
      local_c24 = 1;
      GetPrivateProfileStringA("Genre","GenreName","",pcVar9,0x100,local_210);
      pcVar18 = pcVar9;
      if (*pcVar9 == '\0') {
        puVar7 = _mbsrchr((uchar *)((int)param_2 + 2),0x5c);
        strcpy_s(pcVar9,0x100,(char *)(puVar7 + 1));
      }
      do {
        pcVar8 = pcVar18;
        pcVar18 = pcVar8 + 1;
      } while (*pcVar8 != '\0');
      pcVar18 = pcVar9;
      if (pcVar8[-1] == '\n') {
        do {
          pcVar8 = pcVar18;
          pcVar18 = pcVar8 + 1;
        } while (*pcVar8 != '\0');
        pcVar8[-1] = '\0';
        pcVar18 = pcVar9;
      }
      do {
        pcVar8 = pcVar18;
        pcVar18 = pcVar8 + 1;
      } while (*pcVar8 != '\0');
      if (pcVar8[-1] == '\r') {
        do {
          pcVar18 = pcVar9;
          pcVar9 = pcVar18 + 1;
        } while (*pcVar18 != '\0');
        pcVar18[-1] = '\0';
      }
      GetPrivateProfileStringA("Genre","GenreColor","",(LPSTR)local_410,0x200,local_210);
      pcVar9 = strchr((char *)local_410,0x23);
      puVar2 = param_2 + 0x131;
      if (pcVar9 == NULL) {
        *puVar2 = 0x222222;
      }
      else {
        pcVar18 = "%6x";
        puVar19 = puVar2;
        pcVar9 = strchr((char *)local_410,0x23);
        sscanf_s(pcVar9 + 1,pcVar18,puVar19);
      }
      GetPrivateProfileStringA("Genre","FontColor","",(LPSTR)local_410,0x200,local_210);
      pcVar9 = strchr((char *)local_410,0x23);
      puVar19 = param_2 + 0x132;
      if (pcVar9 == NULL) {
        *puVar19 = 0xc8c8c8;
      }
      else {
        pcVar18 = "%6x";
        puVar20 = puVar19;
        pcVar9 = strchr((char *)local_410,0x23);
        sscanf_s(pcVar9 + 1,pcVar18,puVar20);
      }
      uVar5 = *puVar2;
      uVar6 = *puVar19;
      *puVar2 = (uVar5 >> 0x10 & 0xff) + (uVar5 & 0xff) * 0x10000 + (uVar5 & 0xff00);
      *puVar19 = (uVar6 >> 0x10 & 0xff) + (uVar6 & 0xff) * 0x10000 + (uVar6 & 0xff00);
    }
  }
  strcpy_s(local_210,0x200,local_c28);
  strcat_s(local_210,0x200,"\\?*");
  hFindFile = FindFirstFileA(local_210,&local_750);
  if (hFindFile == (HANDLE)0xffffffff) {
    __security_check_cookie(local_c ^ (uint)&stack0xfffffffc);
    return;
  }
LAB_004218d8:
  do {
    do {
      BVar10 = FindNextFileA(hFindFile,&local_750);
      if (BVar10 == 0) {
        GetLastError();
        FindClose(hFindFile);
        __security_check_cookie(local_c ^ (uint)&stack0xfffffffc);
        return;
      }
    } while (local_750.cFileName[0] == '.');
    iVar11 = _mbscmp((uchar *)local_750.cFileName,(uchar *)"img");
    if ((iVar11 != 0) &&
       (iVar11 = _mbscmp((uchar *)local_750.cFileName,(uchar *)"snd"), pcVar17 = _mbsnbcmp_exref,
       iVar11 != 0)) break;
    pcVar17 = _mbsnbcmp_exref;
    pCVar15 = local_750.cFileName;
    do {
      pCVar13 = pCVar15;
      pCVar15 = pCVar13 + 1;
    } while (*pCVar13 != '\0');
    iVar11 = _mbsnbcmp((uchar *)(pCVar13 + -4),(uchar *)".tja",4);
    if (iVar11 == 0) break;
    pCVar15 = local_750.cFileName;
    do {
      pCVar13 = pCVar15;
      pCVar15 = pCVar13 + 1;
    } while (*pCVar13 != '\0');
    iVar11 = _mbsnbcmp((uchar *)(pCVar13 + -4),(uchar *)".tjc",4);
    pcVar17 = _mbsnbcmp_exref;
  } while (iVar11 != 0);
  strcpy_s(local_c1e,0x100,local_c28);
  strcat_s(local_c1e,0x100,"\\");
  strcat_s(local_c1e,0x100,local_750.cFileName);
  DVar12 = GetFileAttributesA(local_c1e);
  local_c20 = 0;
  if ((DVar12 & 0x10) == 0) {
    pCVar15 = local_750.cFileName;
    do {
      pCVar13 = pCVar15;
      pCVar15 = pCVar13 + 1;
    } while (*pCVar13 != '\0');
    iVar11 = (*pcVar17)(pCVar13 + -4,".tja",4);
    if (iVar11 == 0) {
      local_c20 = 2;
    }
    else {
      pCVar15 = local_750.cFileName;
      do {
        pCVar13 = pCVar15;
        pCVar15 = pCVar13 + 1;
      } while (*pCVar13 != '\0');
      iVar11 = (*pcVar17)(pCVar13 + -4,".tjc",4);
      if (iVar11 == 0) {
        local_c20 = 4;
      }
      else if (local_c20 == 0) goto LAB_004218d8;
    }
  }
  else {
    local_c20 = 1;
  }
  GetModuleFileNameA(NULL,(LPSTR)local_610,0x200);
  puVar7 = local_610;
  do {
    uVar3 = *puVar7;
    puVar7 = puVar7 + 1;
  } while (uVar3 != '\0');
  puVar14 = _mbsrchr(local_610,0x5c);
  puVar1 = puVar14 + 1;
  do {
    uVar3 = *puVar14;
    puVar14 = puVar14 + 1;
  } while (uVar3 != '\0');
  _mbsnbcpy_s(local_410,0x200,local_610,
              (size_t)(puVar7 + (-((int)puVar14 - (int)puVar1) - (int)(local_610 + 1))));
  PatBlt(HDC_0047b6c0,0,0x14,DAT_0047ac7c,DAT_0047ac80 + -0x14,0x42);
  pCVar15 = local_750.cFileName;
  do {
    cVar4 = *pCVar15;
    pCVar15 = pCVar15 + 1;
  } while (cVar4 != '\0');
  TextOutA(HDC_0047b6c0,2,0x16,local_750.cFileName,(int)pCVar15 - (int)(local_750.cFileName + 1));
  BitBlt(DAT_0047de50,0,0,DAT_0047ac7c,DAT_0047ac80,HDC_0047b6c0,0,0,0xcc0020);
  UpdateWindow(HWND_0047de30);
  local_764 = *(undefined2 *)(param_2 + 0x12f);
  local_77c = (undefined2)param_3;
  psVar16 = (short *)FUN_0043aa00(param_2);
  if (psVar16 == NULL) goto LAB_00421c93;
  *(undefined4 *)(psVar16 + 0x272) = param_2[0x139];
  if (local_c20 == 1) {
    *(undefined4 **)(psVar16 + 0x270) = param_2;
    puVar7 = _mbsrchr((uchar *)(psVar16 + 1),0x5c);
    strcpy_s((char *)(psVar16 + 0x81),0x100,(char *)(puVar7 + 1));
    FUN_00421560(local_c1e,(undefined4 *)psVar16,param_3 + 1,local_c30,local_c2c);
  }
  else if ((local_c20 == 2) || (local_c20 == 4)) {
    *(undefined4 **)(psVar16 + 0x270) = param_2;
    FUN_0040ca20(psVar16);
    FUN_00435730(extraout_ECX,psVar16);
    local_c24 += 1;
    *(int *)(psVar16 + 0x274) = *local_c2c;
    *local_c2c = *local_c2c + 1;
    if (psVar16[0x25e] != 0) {
      *(int *)(*(int *)(psVar16 + 0x272) + 0x4a8) = *(int *)(*(int *)(psVar16 + 0x272) + 0x4a8) + 1;
    }
  }
  goto LAB_004218d8;
}



void __cdecl FUN_00421cb0(short *param_1)

{
  byte bVar1;
  short sVar2;
  int *piVar3;
  short *psVar4;
  byte *pbVar5;
  int iVar6;
  byte *pbVar7;
  short *psVar8;
  undefined4 *puVar9;
  bool bVar10;
  undefined4 local_918 [310];
  int local_440;
  undefined4 local_430;
  short *local_428;
  int local_424;
  int *local_420;
  int local_41c;
  short *local_418;
  short *local_414;
  short *local_410;
  uint local_40c;
  byte local_408 [512];
  byte local_208 [512];
  uint local_8;
  
  local_8 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  local_428 = param_1;
  local_41c = 0;
  local_424 = DAT_0047e5a8;
  local_208[0] = 0;
  memset(local_208 + 1,0,0x1ff);
  local_408[0] = 0;
  memset(local_408 + 1,0,0x1ff);
  local_40c = 1;
  if (DAT_0047e584 < 1) {
    __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
    return;
  }
  do {
    local_418 = local_428;
    do {
      if (((ushort)local_418[0x25e] == local_40c) && ((*local_418 == 2 || (*local_418 == 4)))) {
        local_414 = *(short **)(local_418 + 0x26e);
        local_410 = local_414;
        if ((local_414 != NULL) && ((ushort)local_418[0x252] <= (ushort)local_414[0x252])) {
          local_420 = (int *)(local_414 + 0x26c);
          goto LAB_00421ddc;
        }
        break;
      }
      local_418 = *(short **)(local_418 + 0x26e);
    } while (local_418 != NULL);
LAB_00421d6e:
    local_40c += 1;
    if (DAT_0047e584 < (int)local_40c) {
      __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
      return;
    }
  } while( true );
LAB_00421ddc:
  psVar4 = local_410;
  piVar3 = local_420;
  sVar2 = *(short *)*local_420;
  if ((sVar2 == 2) || (sVar2 == 4)) {
    if (local_424 == 0) {
      FUN_0043ab00((int)local_208);
      FUN_0043ab00((int)local_408);
      pbVar7 = local_408;
      pbVar5 = local_208;
      do {
        bVar1 = *pbVar5;
        bVar10 = bVar1 < *pbVar7;
        if (bVar1 != *pbVar7) goto LAB_00421ed0;
        if (bVar1 == 0) break;
        bVar1 = pbVar5[1];
        bVar10 = bVar1 < pbVar7[1];
        if (bVar1 != pbVar7[1]) goto LAB_00421ed0;
        pbVar5 = pbVar5 + 2;
        pbVar7 = pbVar7 + 2;
      } while (bVar1 != 0);
      iVar6 = 0;
      goto LAB_00421ed5;
    }
    if (local_424 == 1) {
      if (*(double *)((short *)*local_420 + (uint)DAT_0047cf56 * 4 + 0x184) <=
          *(double *)(local_410 + (uint)DAT_0047cf56 * 4 + 0x184)) goto LAB_00421ee8;
      goto LAB_00421ee2;
    }
    if (local_424 == 2) {
      FUN_0043ab00((int)local_208);
      FUN_0043ab00((int)local_408);
      pbVar7 = local_408;
      pbVar5 = local_208;
      do {
        bVar1 = *pbVar5;
        bVar10 = bVar1 < *pbVar7;
        if (bVar1 != *pbVar7) goto LAB_00421ed0;
        if (bVar1 == 0) break;
        bVar1 = pbVar5[1];
        bVar10 = bVar1 < pbVar7[1];
        if (bVar1 != pbVar7[1]) goto LAB_00421ed0;
        pbVar5 = pbVar5 + 2;
        pbVar7 = pbVar7 + 2;
      } while (bVar1 != 0);
      iVar6 = 0;
      goto LAB_00421ed5;
    }
    goto LAB_00421ee8;
  }
  goto LAB_00421ff5;
LAB_00421ed0:
  iVar6 = (1 - (uint)bVar10) - (uint)(bVar10 != 0);
LAB_00421ed5:
  if (iVar6 < 0) {
LAB_00421ee2:
    if (*psVar4 == 3) goto LAB_00421ee8;
  }
  else {
LAB_00421ee8:
    if (((ushort)psVar4[0x25e] == local_40c) || (*(ushort *)(*piVar3 + 0x4bc) != local_40c))
    goto LAB_00421ff5;
  }
  psVar8 = (short *)*piVar3;
  if (*(ushort *)(*(int *)(psVar8 + 0x272) + 0x4a4) <= *(ushort *)(*(int *)(psVar4 + 0x272) + 0x4a4)
     ) {
    local_41c += 1;
    if (local_414 == psVar4) {
      local_414 = psVar8;
    }
    puVar9 = local_918;
    for (iVar6 = 0x13c; iVar6 != 0; iVar6 += -1) {
      *puVar9 = *(undefined4 *)psVar8;
      psVar8 = psVar8 + 2;
      puVar9 = puVar9 + 1;
    }
    if (*(int *)(*local_420 + 0x4d8) != 0) {
      *(short **)(*(int *)(*local_420 + 0x4d8) + 0x4dc) = local_410;
    }
    if (*(int *)(local_410 + 0x26e) != 0) {
      *(int *)(*(int *)(local_410 + 0x26e) + 0x4d8) = *local_420;
    }
    *(short **)(*local_420 + 0x4d8) = local_410;
    *(undefined4 *)(*local_420 + 0x4dc) = *(undefined4 *)(local_410 + 0x26e);
    *(undefined4 *)(*local_420 + 0x4e8) = *(undefined4 *)(local_410 + 0x274);
    *(int *)(local_410 + 0x26e) = *local_420;
    *local_420 = local_440;
    *(undefined4 *)(local_410 + 0x274) = local_430;
    if ((local_440 != *(int *)(local_410 + 0x272)) &&
       ((*(ushort *)(local_440 + 0x4bc) == local_40c || ((ushort)local_410[0x25e] != local_40c))))
    goto LAB_00421ddc;
  }
LAB_00421ff5:
  local_414 = *(short **)(local_414 + 0x26e);
  if ((local_414 == NULL) ||
     ((((ushort)local_414[0x25e] != local_40c &&
       (*(short *)(*(int *)(local_418 + 0x272) + 0x4a4) == local_414[0x252])) ||
      (local_414[0x25e] == 0)))) goto LAB_00421d6e;
  local_420 = (int *)(local_414 + 0x26c);
  local_410 = local_414;
  goto LAB_00421ddc;
}


/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void FUN_00422090(void)

{
  double dVar1;
  double dVar2;
  undefined2 uVar3;
  undefined2 uVar4;
  int iVar5;
  ushort uVar6;
  undefined2 *puVar7;
  SHORT SVar8;
  short sVar9;
  uint uVar10;
  DWORD DVar11;
  int iVar12;
  FILE *pFVar13;
  undefined4 *puVar14;
  ushort *puVar15;
  uint *puVar16;
  int iVar17;
  int iVar18;
  int iVar19;
  short *psVar20;
  int extraout_ECX;
  int extraout_ECX_00;
  int extraout_ECX_01;
  undefined4 *puVar21;
  uint extraout_ECX_02;
  uint extraout_ECX_03;
  char *pcVar22;
  undefined4 extraout_ECX_04;
  uint uVar23;
  undefined4 extraout_ECX_05;
  undefined4 extraout_ECX_06;
  undefined4 extraout_ECX_07;
  LPWAVEHDR pwVar24;
  ushort uVar25;
  undefined4 *puVar26;
  int extraout_EDX;
  int extraout_EDX_00;
  int extraout_EDX_01;
  ushort *extraout_EDX_02;
  ushort *extraout_EDX_03;
  uint *puVar27;
  undefined4 extraout_EDX_04;
  undefined4 extraout_EDX_05;
  undefined4 extraout_EDX_06;
  undefined4 extraout_EDX_07;
  ushort uVar28;
  int iVar29;
  int *piVar30;
  undefined2 *puVar31;
  uint uVar32;
  ushort *puVar33;
  code *pcVar34;
  bool bVar35;
  ushort in_FPUControlWord;
  float10 extraout_ST0;
  float10 fVar36;
  float10 extraout_ST0_00;
  float10 extraout_ST0_01;
  float10 fVar37;
  float10 extraout_ST1;
  ulonglong uVar38;
  HWAVEOUT pHVar39;
  uint local_15c;
  uint local_158;
  undefined8 local_154;
  ushort *local_148;
  double local_144;
  int local_13c;
  ushort *local_138;
  ushort *local_134;
  uint *local_130;
  uint local_12c;
  ushort *local_128;
  int *local_124;
  undefined2 *local_120;
  undefined4 local_11c;
  uint local_118;
  char local_114 [12];
  char local_108 [248];
  short local_10;
  undefined4 local_e;
  undefined2 local_a;
  uint local_8;
  
  local_8 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  local_114[0] = '\0';
  memset(local_114 + 1,0,0xff);
  local_15c = 0;
  local_158 = 0;
  local_10 = 0;
  local_e = 0;
  local_a = 0;
  uVar10 = timeGetTime();
  local_12c = uVar10;
  if ((DAT_0047ac98 == 1) || (DAT_0047e618 == 1)) {
    if (DAT_0047ac94 == 1) {
      SVar8 = GetAsyncKeyState(0x25);
      if (((SVar8 != 0) && (DAT_00482ae4 == 0)) && (0 < DAT_0047ace0)) {
        DAT_0047ace0 += -5;
        _DAT_00482ae4 = CONCAT22(DAT_00482ae6,1);
        DAT_0047e5a4 = 0;
        _DAT_0047e5a0 = uVar10;
        if (DAT_0047ace0 == 0) {
          DAT_0047ace0 = -1;
        }
      }
      SVar8 = GetAsyncKeyState(0x27);
      if (((SVar8 != 0) && (DAT_00482ae6 == 0)) && (DAT_0047ace0 < 100)) {
        if (DAT_0047ace0 < 0) {
          DAT_0047ace0 = 0;
        }
        DAT_0047ace0 += 5;
        _DAT_00482ae4 = CONCAT22(1,DAT_00482ae4);
        DAT_0047e5a4 = 0;
        _DAT_0047e5a0 = uVar10;
      }
      SVar8 = GetAsyncKeyState(0x25);
      if (SVar8 == 0) {
        _DAT_00482ae4 &= 0xffff0000;
      }
      SVar8 = GetAsyncKeyState(0x27);
      if (SVar8 == 0) {
        _DAT_00482ae4 &= 0xffff;
      }
    }
    SVar8 = GetAsyncKeyState(0x51);
    if (((SVar8 == 0) || (DAT_00482ae8 != 0)) || ((char)_Src_0047e640 != '\0')) {
      if (DAT_0047e624 == 1) goto LAB_004222f8;
    }
    else {
      if (DAT_0047e580 == 1) {
        DAT_0047e580 = 0;
        FUN_00414c40();
      }
      DAT_0047e63c = 1;
      DAT_0047e624 = 1;
      DAT_00482abc = 1;
      DAT_00482ae8 = 1;
      if ((DAT_0047e2d4 == 1) && (INT_0047e630 == 1)) {
        DAT_0047e61c = 0;
        DAT_0047e63c = 2;
        DAT_0047e624 = 1;
        DAT_0047e2d0 = 0;
        DAT_0047e2cc = uVar10;
      }
      else {
LAB_004222f8:
        uVar6 = DAT_00482ab8;
        uVar28 = DAT_00482ab6;
        uVar25 = DAT_00482ab4;
        if (DAT_0047e61c == 1) {
          DAT_0047c808 = 0;
          DAT_0047c9e8 = 0;
          DAT_0047c804 = 0;
          _DAT_0047c9e4 = 0;
          _DAT_0047c8fc = 0;
          _DAT_0047cadc = 0;
          DAT_0047c750 = 0;
          DAT_0047c930 = 0;
          DAT_0047c918 = 0;
          _DAT_0047c7e4 = 0;
          DAT_0047c7e8 = 0;
          _DAT_0047c9c8 = 0;
          DAT_0047e5c4 = 0;
          if (DAT_0047e2d4 == 0) {
            DAT_0047e2d6 = 0;
          }
          else if (DAT_00482abc == 1) {
            DAT_0047e63c = 2;
            DAT_0047e2d4 = 0;
          }
          uVar10 = (uint)DAT_0047e2c8;
          DAT_00482abc = 0;
          DAT_0047e4e8 = 0;
          if (uVar10 != 0) {
            puVar33 = &DAT_0047cf76;
            do {
              if (puVar33[-0x57] == 0) {
                *puVar33 = uVar25;
                puVar33[1] = uVar28;
                puVar33[2] = uVar6;
              }
              puVar33 = puVar33 + 0x1e0;
              uVar10 -= 1;
            } while (uVar10 != 0);
            __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
            return;
          }
          goto LAB_00428717;
        }
      }
    }
    SVar8 = GetAsyncKeyState(0x51);
    if (SVar8 == 0) {
      DAT_00482ae8 = 0;
    }
    iVar29 = 0;
    do {
      SVar8 = GetAsyncKeyState(iVar29 + 0x70);
      if ((SVar8 == 0) || (((&DAT_00482aea)[iVar29] != 0 && (iVar29 < 10)))) {
        SVar8 = GetAsyncKeyState(iVar29 + 0x70);
        if ((SVar8 == 0) && ((&DAT_00482aea)[iVar29] != 0)) {
          (&DAT_00482aea)[iVar29] = 0;
        }
      }
      else {
        (&DAT_00482aea)[iVar29] = 1;
        if (iVar29 == 0) {
          if (DAT_0047e4e2 < 2) {
            DAT_0047c904 = 0;
            if (DAT_0047ac94 == 0) {
              DAT_0047c908 = 1;
              DAT_0047cae8 = 1;
              DAT_0047e58c = 0;
LAB_004224b6:
              DAT_0047ac94 = 1;
LAB_004224bc:
              DAT_0047e5a4 = 1;
              _DAT_0047e5a0 = uVar10;
            }
            else if (DAT_0047e2c8 == 1) {
              DAT_0047c908 = 0;
              DAT_0047cae8 = 0;
              DAT_0047ac94 = 0;
              if (((((&DAT_0047c7ec)[DAT_0047c808] != 0) || (DAT_0047c8e4 != 0)) ||
                  (DAT_0047c8c6 != 0)) || ((DAT_0047e2d4 != 0 && (DAT_0047e2d6 != 0))))
              goto LAB_004224bc;
              DAT_0047c904 = 1;
              DAT_0047e5a4 = 1;
              _DAT_0047e5a0 = uVar10;
            }
            else {
              uVar38 = (ulonglong)(DAT_0047e58c + 1) % 3;
              iVar12 = (int)uVar38;
              DAT_0047e58c = (ushort)uVar38;
              if (DAT_0047e58c != 0) {
                *(undefined4 *)((int)&BITMAPINFO_0047c724 + iVar12 * 0x1e0 + 4) = 1;
                *(undefined4 *)(&DAT_0047ccc8 + iVar12 * -0x1e0) = 0;
                goto LAB_004224b6;
              }
              DAT_0047ac94 = 0;
              DAT_0047c908 = 0;
              DAT_0047cae8 = 0;
              DAT_0047e5a4 = 1;
              _DAT_0047e5a0 = uVar10;
            }
          }
        }
        else if (iVar29 == 1) {
          DAT_0047e618 = (uint)(DAT_0047e618 == 0);
          DAT_0047e5a4 = 2;
          _DAT_0047e5a0 = uVar10;
        }
        else if (iVar29 == 2) {
          DAT_0047e62c = (DAT_0047e62c + 1) % 3;
          if (DAT_0047cf60 == 1) {
            if ((DAT_0047d320 == 1) || (DAT_0047e2c8 == 1)) {
              DAT_0047e62c = 1;
            }
          }
          else if ((DAT_0047cf60 == 2) && ((DAT_0047d320 == 2 || (DAT_0047e2c8 == 1)))) {
            DAT_0047e62c = 2;
          }
          DAT_0047e5a4 = 3;
          _DAT_0047e5a0 = uVar10;
        }
        else if (iVar29 == 3) {
          if ((DAT_0047e5c4 == 0) && (DAT_0047e2d4 == 0)) {
            uVar25 = DAT_0047cf62 & 1;
            if (false) {
              uVar25 = (uVar25 - 1 | 0xfffe) + 1;
            }
            DAT_0047cf62 = 1 - uVar25;
            DAT_0047e5a4 = 4;
            DAT_0047d322 = DAT_0047cf62;
            _DAT_0047e5a0 = uVar10;
          }
        }
        else if (iVar29 == 4) {
          if ((DAT_0047e5c4 == 0) && (DAT_0047f114 == 2)) {
            DAT_0047e5a4 = 5;
            DAT_0047e63c = 3;
            DAT_0047e624 = 1;
            _DAT_0047e5a0 = uVar10;
          }
        }
        else if (iVar29 == 5) {
          if ((DAT_0047e5c4 == 0) && (DAT_0047e2d4 == 0)) {
            DAT_0047e2d8 = DAT_0047e2d8 + 1 & 1;
            if (false) {
              DAT_0047e2d8 = (DAT_0047e2d8 - 1 | 0xfffe) + 1;
            }
            _DAT_0047e5a0 = timeGetTime();
            DAT_0047e5a4 = 7;
            FUN_0040b6d0(0);
            if (DAT_0047e2c8 == 2) {
              FUN_0040b6d0(1);
            }
          }
        }
        else if (iVar29 == 10) {
          if (DAT_0047e5c4 != 0) {
            if (DAT_00482ac0 == 0) {
              DAT_0047cf5c += -0x14;
              DAT_00482ac0 = timeGetTime();
              _DAT_00482ac4 = DAT_00482ac0;
            }
            else {
              DVar11 = timeGetTime();
              if (500 < DVar11 - _DAT_00482ac4) {
                DAT_0047cf5c += -0x14;
                _DAT_00482ac4 = timeGetTime();
                _DAT_00482ac4 -= 400;
              }
            }
            _DAT_0047e5a0 = uVar10 - 0x32;
            DAT_0047e5a4 = 8;
          }
        }
        else if ((iVar29 == 0xb) && (DAT_0047e5c4 != 0)) {
          if (DAT_00482ac0 == 0) {
            DAT_0047cf5c += 0x14;
            DAT_00482ac0 = timeGetTime();
            _DAT_00482ac4 = DAT_00482ac0;
          }
          else {
            DVar11 = timeGetTime();
            if (500 < DVar11 - _DAT_00482ac4) {
              DAT_0047cf5c += 0x14;
              _DAT_00482ac4 = timeGetTime();
              _DAT_00482ac4 -= 400;
            }
          }
          _DAT_0047e5a0 = uVar10 - 0x32;
          DAT_0047e5a4 = 8;
        }
      }
      iVar29 += 1;
    } while (iVar29 < 0xc);
    if ((DAT_00482afe == 0) && (DAT_00482b00 == 0)) {
      DAT_00482ac0 = 0;
    }
  }
  dVar1 = _DAT_0047ac88;
  if (DAT_0047e5c4 == 0) {
    iVar29 = 0;
    DAT_0047c764 = 0;
    DAT_00482aa4 = 0;
    if (DAT_0047e2c4 != 0) {
      uVar10 = (uint)DAT_0047cf0c;
      if (uVar10 != 0) {
        do {
          if ((*(int *)(DAT_0047b154 + iVar29 * 4) + 1000 <= DAT_0047d6c4) &&
             ((int)(uint)DAT_0047c764 < (int)(uVar10 - 2))) {
            DAT_0047c764 = (short)iVar29 + 1;
          }
          if ((*(int *)(DAT_0047b154 + iVar29 * 4) <= DAT_0047d6c4) &&
             ((int)(uint)DAT_00482aa4 < (int)(uVar10 - 2))) {
            DAT_00482aa4 = (short)iVar29 + 1;
          }
          iVar29 += 1;
        } while (iVar29 < (int)uVar10);
      }
      if (DAT_0047e2c8 != 0) {
        local_13c = 0;
        local_148 = NULL;
        local_138 = NULL;
        local_120 = &DAT_0047c890;
        local_124 = &DAT_0047c894;
        local_130 = &DAT_0047c7d8;
        local_11c = (uint)DAT_0047e2c8;
        do {
          local_118 = *(uint *)(local_148 + 0x23e7b2);
          puVar33 = local_148 + 0x23e799;
          local_134 = (ushort *)(uint)((&DAT_0047c7d8)[local_130[0xc] + (int)local_138] == 1);
          iVar29 = 0;
          if (0 < (int)local_118) {
            local_154 = (double)CONCAT44(puVar33,(undefined4)local_154);
            puVar27 = local_130;
            do {
              uVar10 = (uint)*puVar33;
              uVar32 = puVar33[-3] + uVar10;
              *puVar27 = 0;
              if (uVar10 < uVar32) {
                piVar30 = (int *)(*(int *)(local_148 + 0x23e76e) + uVar10 * 0x18);
                iVar12 = DAT_0047d6c4;
                do {
                  if ((*piVar30 <= iVar12) && (iVar12 < piVar30[1])) {
                    *puVar27 = 1;
                    (&DAT_0047c8c0)[local_13c + iVar29] = (short)uVar10;
                    local_134 = NULL;
                    iVar12 = DAT_0047d6c4;
                  }
                  uVar10 += 1;
                  piVar30 = piVar30 + 6;
                } while ((int)uVar10 < (int)uVar32);
                puVar33 = local_154._4_4_;
              }
              iVar29 += 1;
              puVar33 = puVar33 + 1;
              puVar27 = puVar27 + 1;
              local_154 = (double)CONCAT44(puVar33,(undefined4)local_154);
            } while (iVar29 < (int)local_118);
          }
          if (local_134 == (ushort *)0x1) {
            local_128 = (ushort *)(local_12c - *local_124);
            dVar2 = (double)(int)local_128;
            if ((int)local_128 < 0) {
              dVar2 = dVar2 + 4294967296.0;
            }
            if (dVar1 * 500.0 < dVar2 != (dVar1 * 500.0 == dVar2)) {
              *local_120 = 2;
            }
          }
          local_138 = local_138 + 0x3c;
          local_130 = local_130 + 0x78;
          local_148 = local_148 + 0x1e0;
          local_13c += 0xf0;
          local_124 = local_124 + 0x79;
          local_120 = local_120 + 0xf1;
          local_11c -= 1;
        } while (local_11c != 0);
        local_11c = 0;
      }
      goto LAB_004238fe;
    }
  }
  else {
    if (DAT_0047e60c != 0) {
      SVar8 = GetAsyncKeyState(0x10);
      if (SVar8 != 0) {
        DAT_0047e580 = 1;
        FUN_00414c40();
      }
      _DAT_00482ad8 = 0x10001;
      _DAT_00482adc = 0x10001;
      _DAT_00482ae0 = 0x10001;
      _DAT_00482ae4 = 0x10001;
      DAT_0047e60c = 0;
      if (DAT_0047e2c8 != 0) {
        local_130 = (uint *)&DAT_0047c8c0;
        piVar30 = &DAT_0047cf64;
        local_154 = (double)(ulonglong)CONCAT24(DAT_0047e2c8,(undefined4)local_154);
        do {
          uVar10 = *piVar30;
          if (0 < (int)uVar10) {
            puVar27 = local_130 + -0x35;
            puVar33 = (ushort *)((int)piVar30 + -0x66);
            uVar32 = uVar10;
            do {
              *puVar27 = (uint)*puVar33;
              puVar33 = puVar33 + 1;
              puVar27 = puVar27 + 1;
              uVar32 -= 1;
            } while (uVar32 != 0);
            if (0 < (int)uVar10) {
              puVar27 = (uint *)((int)piVar30 + -0x32);
              puVar16 = local_130;
              for (uVar32 = uVar10 >> 1; uVar32 != 0; uVar32 -= 1) {
                *puVar16 = *puVar27;
                puVar27 = puVar27 + 1;
                puVar16 = puVar16 + 1;
              }
              for (uVar10 = (uint)((uVar10 & 1) != 0); uVar10 != 0; uVar10 -= 1) {
                *(ushort *)puVar16 = (ushort)*puVar27;
                puVar27 = (uint *)((int)puVar27 + 2);
                puVar16 = (uint *)((int)puVar16 + 2);
              }
            }
          }
          local_130 = local_130 + 0x78;
          piVar30 = (int *)((uint *)piVar30 + 0xf0);
          iVar29 = (int)local_154._4_4_ + -1;
          local_154 = (double)CONCAT44(iVar29,(undefined4)local_154);
        } while (iVar29 != 0);
      }
      DAT_0047be28 = 0;
      uVar10 = (uint)DAT_0047e2c8;
      iVar29 = 0;
      DAT_00482aa8 = 0;
      DAT_0047c764 = 0;
      _DAT_0047e548 = 0;
      if (uVar10 != 0) {
        local_130 = NULL;
        local_148 = &DAT_0047c890;
        psVar20 = &DAT_0047c750;
        puVar33 = &DAT_0047cf76;
        do {
          sVar9 = DAT_0047cf7c;
          psVar20[0xe4] = 0;
          psVar20[0xe5] = 0;
          if ((sVar9 == 0) && (puVar33[3] == 0)) {
            DAT_00482ab4 = *puVar33;
            DAT_00482ab6 = puVar33[1];
            DAT_00482ab8 = puVar33[2];
          }
          if (puVar33[-0x57] == 0) {
            if (sVar9 == 2) {
              *puVar33 = 0x14;
              puVar33[1] = 0x16;
              uVar25 = 200;
            }
            else if (sVar9 == 1) {
              *puVar33 = 0x14;
              puVar33[1] = 0x4b;
              uVar25 = 200;
            }
            else {
              if ((sVar9 != 0) ||
                 ((uint)DAT_00482ab8 + (uint)DAT_00482ab6 + (uint)DAT_00482ab4 == 0))
              goto LAB_00422993;
              *puVar33 = DAT_00482ab4;
              puVar33[1] = DAT_00482ab6;
              uVar25 = DAT_00482ab8;
            }
            puVar33[2] = uVar25;
          }
LAB_00422993:
          *psVar20 = 0;
          psVar20[0x4c] = 0;
          psVar20[0xbb] = 0;
          psVar20[0xbe] = 0;
          psVar20[0xbf] = 0;
          psVar20[0xbc] = 0;
          psVar20[0xbd] = 0;
          psVar20[0xd4] = 0;
          psVar20[0xd5] = 0;
          *local_148 = 2;
          iVar12 = DAT_0047cf64 + -1;
          iVar17 = *(int *)(psVar20 + 0x5c);
          if (iVar12 < *(int *)(psVar20 + 0x5c)) {
            iVar17 = iVar12;
          }
          *(int *)(psVar20 + 0x5c) = iVar17;
          iVar17 = *(int *)(psVar20 + 0x5a);
          if (iVar12 < *(int *)(psVar20 + 0x5a)) {
            iVar17 = iVar12;
          }
          *(int *)(psVar20 + 0x5a) = iVar17;
          if (*(int *)(psVar20 + 0x5e) <= iVar12) {
            iVar12 = *(int *)(psVar20 + 0x5e);
          }
          *(int *)(psVar20 + 0x5e) = iVar12;
          uVar25 = puVar33[0x187];
          psVar20[0xc0] = 0;
          psVar20[0xc1] = 0;
          psVar20[0xa8] = 0;
          psVar20[0xa9] = 0;
          psVar20[0xaa] = 0;
          psVar20[0xab] = 0;
          psVar20[0xae] = 0;
          psVar20[0xaf] = 0;
          psVar20[0xc4] = 0;
          psVar20[0xc5] = 0xff;
          psVar20[0xea] = 0;
          psVar20[0xec] = 0;
          psVar20[0xed] = 0;
          psVar20[0x54] = 0;
          iVar12 = (&DAT_00482a90)[iVar29];
          psVar20[0xd8] = 0;
          psVar20[0xd9] = 0;
          (&DAT_00482a90)[iVar29] = (iVar12 + 1) % (int)(uint)uVar25 + (int)local_130;
          (&DAT_00482a98)[iVar29] =
               ((&DAT_00482a98)[iVar29] + 1) % (int)(uint)uVar25 + (int)local_130;
          if ((DAT_0047e2d4 == 0) || (DAT_0047e2d6 == 0)) {
            if (puVar33[-10] == 0) {
              sVar9 = psVar20[0xe2];
            }
            else {
              sVar9 = 10000;
            }
            psVar20[0xe3] = sVar9;
          }
          else {
            *(undefined4 *)(psVar20 + 0xa8) = *(undefined4 *)(psVar20 + 0x12);
          }
          local_148 = local_148 + 0xf1;
          local_130 = local_130 + 4;
          (&DAT_0047e52c)[iVar29] = 0;
          (&DAT_0047e51c)[iVar29] = 0;
          (&DAT_0047e520)[iVar29] = 4;
          (&DAT_0047e524)[iVar29] = 4;
          uVar10 = (uint)DAT_0047e2c8;
          iVar29 += 1;
          puVar33 = puVar33 + 0x1e0;
          psVar20 = psVar20 + 0xf0;
        } while (iVar29 < (int)uVar10);
      }
      DAT_00482aa4 = 0;
      if ((((DAT_0047c908 == 0) || (DAT_0047cae8 == 0)) ||
          ((DAT_0047e58c != 0 && (-1 < DAT_0047cf68)))) && (local_120 = NULL, uVar10 != 0)) {
        piVar30 = &DAT_0047cf64;
        local_148 = NULL;
        local_154 = (double)CONCAT44(&DAT_0047cf64,(undefined4)local_154);
        local_130 = (uint *)&DAT_0047c908;
        do {
          if ((*local_130 == 0) && (iVar29 = 0, 0 < *piVar30)) {
            puVar33 = (ushort *)((int)piVar30 + -0x66);
            do {
              uVar10 = (uint)*puVar33;
              if (uVar10 < puVar33[-3] + uVar10) {
                puVar15 = (ushort *)(DAT_0047e2c4 + 2 + uVar10 * 0x1c);
                do {
                  uVar10 += 1;
                  if (*(int *)(puVar15 + 1) < (int)DAT_0047cf6c) {
                    if (*puVar15 < 4) {
                      puVar15[-1] = 1;
                    }
                    else if (*puVar15 != 7) goto LAB_00422bef;
                    (&DAT_0047c7ec)[(int)local_148 + iVar29] = uVar10;
                  }
LAB_00422bef:
                  puVar15 = puVar15 + 0xe;
                } while ((int)uVar10 < (int)((uint)puVar33[-3] + (uint)*puVar33));
                piVar30 = (int *)local_154._4_4_;
              }
              iVar29 += 1;
              puVar33 = puVar33 + 1;
            } while (iVar29 < *piVar30);
          }
          local_130 = local_130 + 0x78;
          local_120 = (undefined2 *)((int)local_120 + 1);
          piVar30 = piVar30 + 0xf0;
          local_148 = local_148 + 0x3c;
          local_154 = (double)CONCAT44(piVar30,(undefined4)local_154);
        } while ((int)local_120 < (int)(uint)DAT_0047e2c8);
      }
      local_120 = NULL;
      if (DAT_0047e2c8 != 0) {
        puVar33 = &DAT_0047cf1c;
        do {
          iVar29 = 0;
          if (*puVar33 != 0) {
            iVar12 = 0;
            do {
              puVar15 = (ushort *)(iVar12 + *(int *)(puVar33 + -0x1e));
              iVar29 += 1;
              iVar12 += 0x28;
              *(uint *)(puVar15 + 6) = (uint)((int)(uint)*puVar15 <= *(int *)(puVar33 + 0x26));
            } while (iVar29 < (int)(uint)*puVar33);
          }
          local_120 = (undefined2 *)((int)local_120 + 1);
          puVar33 = puVar33 + 0x1e0;
        } while ((int)local_120 < (int)(uint)DAT_0047e2c8);
      }
      uVar10 = (uint)DAT_0047e2c8;
      if (uVar10 != 0) {
        puVar26 = &DAT_0047c850;
        do {
          puVar21 = puVar26 + -8;
          iVar29 = 8;
          do {
            puVar21[-8] = 0;
            *puVar21 = 0;
            puVar21 = puVar21 + 1;
            iVar29 += -1;
          } while (iVar29 != 0);
          *puVar26 = 0;
          puVar26 = puVar26 + 0x78;
          uVar10 -= 1;
        } while (uVar10 != 0);
      }
      pwVar24 = DAT_0047e5bc;
      uVar10 = local_12c;
      if ((DAT_0047ceca == 1) && (0 < DAT_0047ac70)) {
        iVar29 = DAT_0047ac70 / 2;
        puVar26 = DAT_0047cf6c;
        if (DAT_0047cf68 != -1) {
          puVar26 = (undefined4 *)((int)DAT_0047cf6c + (-DAT_0047cf5c - (int)DAT_0047cf58));
        }
        pFVar13 = FUN_0044cca0(&_Dst_0047bce8,&DAT_0047cb48);
        if (pFVar13 == NULL) {
          FUN_00414240((int)pwVar24,iVar29 << 10,puVar26);
        }
        DAT_0047d6d8 = _beginthreadex(NULL,0,_StartAddress_00437510,NULL,0,
                                      (uint *)&_ThrdAddr_0047d6e0);
        DAT_0047e4e4 = DAT_0047cb24;
        uVar10 = local_12c;
      }
    }
    iVar29 = (int)DAT_0047cf58 + DAT_0047cf5c;
    if (DAT_0047d6c4 < iVar29) {
      iVar12 = uVar10 - DAT_0047e5c4;
LAB_00422fa9:
      uVar38 = CONCAT44(iVar29,iVar12);
    }
    else {
      if (DAT_0047e5c8 == 0) {
        DAT_0047e4e2 = 1;
        DAT_0047d6c4 = (int)DAT_0047cf6c * 2 + 2000;
        iVar29 = DAT_0047e4e4 * 2;
        DAT_0047e5c8 = 1;
        DAT_0047e5c4 = uVar10;
        if (SBORROW4(DAT_0047d6c4,iVar29) != DAT_0047d6c4 + DAT_0047e4e4 * -2 < 0) {
          if ((DAT_0047ceca != 1) || (DAT_0047ac70 < 1)) {
            waveOutWrite((HWAVEOUT)phwo_0047ce90,DAT_0047e5bc,0x20);
          }
          pmmt_0047be2c = (LPMMTIME)0x4;
          waveOutGetPosition((HWAVEOUT)phwo_0047ce90,(LPMMTIME)&pmmt_0047be2c,0xc);
          iVar29 = extraout_EDX;
          goto LAB_00422e35;
        }
        DAT_0047e620 = 1;
LAB_00422e3f:
        DAT_0047d6d8 = 0;
      }
      else {
LAB_00422e35:
        if (DAT_0047e620 == 1) goto LAB_00422e3f;
      }
      if (pmmt_0047be2c == (LPMMTIME)0x1) {
        if (DAT_0047e620 != 0) goto LAB_00422f92;
        waveOutGetPosition((HWAVEOUT)phwo_0047ce90,(LPMMTIME)&pmmt_0047be2c,0xc);
        iVar12 = DAT_0047be30;
        iVar29 = extraout_EDX_00;
        goto LAB_00422fa9;
      }
      if (pmmt_0047be2c == (LPMMTIME)0x4) {
        if (DAT_0047e620 == 0) {
          waveOutGetPosition((HWAVEOUT)phwo_0047ce90,(LPMMTIME)&pmmt_0047be2c,0xc);
          iVar29 = extraout_ECX;
          iVar12 = DAT_0047be30;
          if ((DAT_0047ceca == 1) && (0 < DAT_0047ac70)) {
            iVar29 = DAT_0047b160;
            iVar12 = extraout_EDX_01;
          }
          goto LAB_00422f76;
        }
LAB_00422f92:
        uVar38 = CONCAT44(iVar29,uVar10 - DAT_0047e5c4);
        iVar12 = DAT_0047e620;
      }
      else {
        if ((pmmt_0047be2c != (LPMMTIME)0x2) || (DAT_0047e620 != 0)) goto LAB_00422f92;
        waveOutGetPosition((HWAVEOUT)phwo_0047ce90,(LPMMTIME)&pmmt_0047be2c,0xc);
        iVar29 = DAT_0047be30;
        iVar12 = DAT_0047bc94;
        if ((DAT_0047ceca == 1) && (iVar12 = DAT_0047bc94, 0 < DAT_0047ac70)) {
          iVar29 = extraout_ECX_00;
          iVar12 = DAT_0047be30;
        }
LAB_00422f76:
        uVar38 = FUN_0045db50(iVar29,iVar12);
        iVar12 = extraout_ECX_01;
      }
    }
    DAT_0047d6c4 = (int)uVar38;
    uVar38 = FUN_0045db50(iVar12,(int)(uVar38 >> 0x20));
    puVar26 = DAT_0047cf6c;
    if (DAT_0047cf68 == -1) {
      puVar26 = DAT_0047cf58;
    }
    DAT_0047d6c4 = (int)puVar26 + (int)uVar38 + DAT_0047cf5c;
    iVar29 = *(int *)(DAT_0047b154 + (uint)DAT_0047c764 * 4) + 1000;
    puVar33 = (ushort *)CONCAT22((short)((uint)iVar29 >> 0x10),DAT_0047cf0c);
    if ((iVar29 <= DAT_0047d6c4) && ((int)(uint)DAT_0047c764 < (int)(DAT_0047cf0c - 2))) {
      DAT_0047c764 += 1;
    }
    uVar32 = DAT_0047b154;
    if ((*(int *)(DAT_0047b154 + (uint)DAT_00482aa4 * 4) <= DAT_0047d6c4) &&
       (uVar32 = DAT_0047cf0c - 2, (int)(uint)DAT_00482aa4 < (int)uVar32)) {
      DAT_00482aa4 += 1;
    }
    if (DAT_0047e620 == 1) {
LAB_00423087:
      if (DAT_0047e620 == 0) {
        if (DAT_0047ceca == 1) {
          waveOutReset((HWAVEOUT)phwo_0047ce90);
          DAT_0047cb40 = 3;
          DAT_0047e620 = 1;
        }
        else {
          waveOutReset((HWAVEOUT)phwo_0047ce90);
        }
        puVar33 = (ushort *)(uint)DAT_0047cf0c;
        DAT_0047e5c4 = (uVar10 - *(int *)((DAT_0047b154 - 4) + (int)puVar33 * 4)) + 2000;
        uVar32 = DAT_0047b154;
      }
      if (DAT_0047e748 == 0) {
        DAT_0047e61c = 1;
      }
      else if (((DAT_0047e2d4 == 0) ||
               (puVar33 = (ushort *)CONCAT22((short)((uint)puVar33 >> 0x10),DAT_0047e2d6),
               DAT_0047e2d6 == DAT_0047e4e0)) || (DAT_0047c918 != 0)) {
        uVar10 = (uint)DAT_0047e2c8;
        if (uVar10 != 0) {
          puVar26 = &DAT_0047c7d8;
          do {
            if (0 < DAT_0047cf64) {
              puVar21 = puVar26 + 0x3a;
              puVar14 = puVar26;
              iVar29 = DAT_0047cf64;
              do {
                *puVar14 = 0;
                *(undefined2 *)puVar21 = 0;
                puVar14 = puVar14 + 1;
                puVar21 = (undefined4 *)((int)puVar21 + 2);
                iVar29 += -1;
              } while (iVar29 != 0);
            }
            puVar26 = puVar26 + 0x78;
            uVar10 -= 1;
          } while (uVar10 != 0);
        }
        local_130 = (uint *)(uint)DAT_0047cf56;
        puVar15 = NULL;
        if (DAT_0047ec40 == 4) {
          DAT_0047cf56 = DAT_0047f0dc;
        }
        uVar32 = (uint)DAT_0047cf56;
        puVar33 = (ushort *)(uint)*(ushort *)(&DAT_0047f0d0 + uVar32 * 2);
        if ((*(ushort *)(&DAT_0047f0d0 + uVar32 * 2) == 0) && (DAT_0047c904 == 1)) {
          puVar15 = (ushort *)0x1;
        }
        if ((DAT_0047e608 != 0x100) && (DAT_0047e608 != 0x200)) {
          if (DAT_0047c750 == 0) {
            if ((puVar33 < (ushort *)0x2) && (DAT_0047c7e8 != 0)) {
              if (DAT_0047c916 == 0) {
                bVar35 = (DAT_0047cf62 & 1) == 0;
                if (false) {
                  bVar35 = ((DAT_0047cf62 & 0x80000001) - 1 | 0xfffffffe) == 0xffffffff;
                }
                if (!bVar35) goto LAB_0042321c;
              }
              puVar15 = (ushort *)0x2;
            }
LAB_0042321c:
            if (((puVar33 < (ushort *)0x3) && (DAT_0047cf62 == 1)) && (DAT_0047c916 != 0)) {
              puVar15 = (ushort *)0x3;
            }
            if ((puVar33 < (ushort *)0x4) && (DAT_0047c928 == 1)) {
              puVar15 = (ushort *)0x4;
            }
          }
          if (puVar33 < puVar15) {
            if ((DAT_0047e2c8 != 1) || (DAT_0047c904 != 1)) goto LAB_00423300;
            *(short *)(&DAT_0047f0d0 + uVar32 * 2) = (short)puVar15;
            FUN_00435530();
            uVar32 = extraout_ECX_02;
            puVar33 = extraout_EDX_02;
          }
          uVar3 = DAT_0047c8ea;
          if ((((DAT_0047e2c8 == 1) && (DAT_0047c904 == 1)) && (DAT_0047e2d8 == 0)) &&
             (uVar10 = (uint)DAT_0047cf56, uVar32 = DAT_0047c768,
             *(uint *)(&DAT_0047f088 + uVar10 * 4) < DAT_0047c768)) {
            *(uint *)(&DAT_0047f088 + uVar10 * 4) = DAT_0047c768;
            *(undefined2 *)(&DAT_0047f0a0 + uVar10 * 8) = DAT_0047c8e8;
            uVar4 = DAT_0047c8ec;
            *(undefined2 *)(&DAT_0047f0a2 + uVar10 * 8) = uVar3;
            uVar3 = DAT_0047c8f4;
            *(undefined2 *)(&DAT_0047f0a4 + uVar10 * 8) = uVar4;
            *(undefined2 *)(&DAT_0047f0a6 + uVar10 * 8) = uVar3;
            FUN_00435530();
            uVar32 = extraout_ECX_03;
            puVar33 = extraout_EDX_03;
          }
        }
LAB_00423300:
        DAT_0047cf56 = (ushort)local_130;
        uVar10 = local_12c;
      }
    }
    else {
      puVar33 = (ushort *)(uVar10 - DAT_0047c918);
      fVar36 = (float10)(int)puVar33;
      if ((int)puVar33 < 0) {
        fVar36 = fVar36 + (float10)4294967296.0;
      }
      uVar32 = DAT_0047c918;
      local_128 = puVar33;
      if ((extraout_ST0 * (float10)1000.0 < fVar36 !=
           (NAN(extraout_ST0 * (float10)1000.0) || NAN(fVar36))) && (DAT_0047c918 != 0))
      goto LAB_00423087;
    }
    iVar29 = DAT_0047e620;
    if (DAT_0047e4e2 == 1) {
      local_118 = (DAT_0047d6c4 - (int)DAT_0047cf58) - DAT_0047cf5c;
      uVar38 = FUN_0045db50(uVar32,puVar33);
      local_118 = DAT_0047e4e4 - (int)uVar38;
      if ((((float10)(int)local_118 < extraout_ST0_00 !=
            (NAN((float10)(int)local_118) || NAN(extraout_ST0_00))) ||
          ((local_118 = uVar10 - DAT_0047c918,
           extraout_ST1 * (float10)550.0 < (float10)(int)local_118 !=
           (NAN(extraout_ST1 * (float10)550.0) || NAN((float10)(int)local_118)) &&
           (DAT_0047c918 != 0)))) && (DAT_0047e4e2 = 2, DAT_0047e748 == 2)) {
        DAT_0047e2d0 = 0;
        DAT_0047e2cc = uVar10;
      }
    }
    else if ((DAT_0047e4e2 == 2) && (DAT_0047e620 == 1)) {
      if ((DAT_0047e2d0 == 0) || (DAT_0047e748 == 1)) {
        uVar32 = (uint)DAT_0047e2c8;
        DAT_0047e4e2 = 3;
        uVar10 = 0;
        if (uVar32 != 0) {
          puVar27 = &DAT_0047c768;
          uVar23 = uVar32;
          do {
            puVar16 = puVar27 + 0x2a;
            iVar29 = 8;
            do {
              if ((puVar16[8] != 0) && (*puVar16 != 0)) {
                *puVar27 = *puVar27 + *puVar16;
                *puVar16 = 0;
                puVar16[8] = 0;
              }
              puVar16 = puVar16 + 1;
              iVar29 += -1;
            } while (iVar29 != 0);
            puVar27 = puVar27 + 0x78;
            uVar23 -= 1;
            uVar10 = uVar32;
          } while (uVar23 != 0);
        }
        if ((DAT_0047e748 == 2) &&
           (((DAT_0047e2d4 == 0 || ((uint)DAT_0047e2d6 == DAT_0047e4e0 - 1)) || (DAT_0047c918 != 0 ))
           )) {
          DAT_0047e2cc = local_12c;
          DAT_0047e2d6 = DAT_0047e4e0;
          _DAT_0047ca72 = 2;
          DAT_0047e2d0 = 1;
          DAT_0047c890 = 2;
          if ((((&DAT_0047c8ec)[uVar10 * 0xf0] == 0) &&
              ((uint)(ushort)(&DAT_0047c8e8)[uVar10 * 0xf0] +
               (uint)(ushort)(&DAT_0047c8ea)[uVar10 * 0xf0] != 0)) &&
             ((&DAT_0047c928)[uVar10 * 0x78] == 0)) {
            (&DAT_0047c928)[uVar10 * 0x78] = 1;
          }
        }
        if (((DAT_0047e2d4 == 1) && ((int)(uint)DAT_0047e2d6 < (int)(DAT_0047e4e0 - 1))) &&
           (DAT_0047c918 == 0)) {
          DAT_0047e2d6 += 1;
          DAT_0047e624 = 1;
          DAT_0047e63c = 2;
          if (DAT_0047e2c8 != 0) {
            uVar10 = (uint)DAT_0047e2c8;
            puVar26 = &DAT_0047c76c;
            do {
              *puVar26 = puVar26[-1];
              puVar26[2] = puVar26[1];
              puVar26 = puVar26 + 0x78;
              uVar10 -= 1;
            } while (uVar10 != 0);
          }
        }
      }
      goto LAB_004238fe;
    }
    if ((iVar29 == 0) && (DAT_0047e2c8 != 0)) {
      local_130 = NULL;
      local_134 = NULL;
      local_148 = NULL;
      local_154 = (double)(ulonglong)CONCAT24(DAT_0047e2c8,(undefined4)local_154);
      do {
        local_118 = *(uint *)(local_148 + 0x23e7b2);
        puVar33 = local_148 + 0x23e796;
        iVar29 = 0;
        if (0 < (int)local_118) {
          do {
            if (*puVar33 != 0) {
              if ((uint)(ushort)(&DAT_0047c8c0)[(int)local_134 + iVar29] !=
                  (uint)puVar33[3] + (uint)*puVar33) {
                piVar30 = (int *)(*(int *)(local_148 + 0x23e76e) +
                                 (uint)(ushort)(&DAT_0047c8c0)[(int)local_134 + iVar29] * 0x18);
                if (DAT_0047d6c4 < piVar30[1]) {
                  if (*piVar30 <= DAT_0047d6c4) {
                    if ((&DAT_0047c7d8)[(int)local_130 + iVar29] == 0) {
                      DAT_0047e554 = local_12c;
                    }
                    (&DAT_0047c7d8)[(int)local_130 + iVar29] = 1;
                  }
                }
                else {
                  (&DAT_0047c7d8)[(int)local_130 + iVar29] = 0;
                  (&DAT_0047c8c0)[(int)local_134 + iVar29] =
                       (&DAT_0047c8c0)[(int)local_134 + iVar29] + 1;
                }
              }
            }
            if (DAT_0047e2c8 == 1) {
              (&DAT_0047c9b8)[iVar29] = (&DAT_0047c7d8)[iVar29];
            }
            iVar29 += 1;
            puVar33 = puVar33 + 1;
          } while (iVar29 < (int)local_118);
        }
        local_134 = local_134 + 0x78;
        local_130 = local_130 + 0x1e;
        local_148 = local_148 + 0x1e0;
        iVar29 = (int)local_154._4_4_ + -1;
        local_154 = (double)CONCAT44(iVar29,(undefined4)local_154);
      } while (iVar29 != 0);
    }
LAB_004238fe:
    if ((DAT_0047e2c4 != 0) && (DAT_0047e604 != 0)) {
      if ((((short)_DAT_0047caf4 != 0 || (short)_DAT_0047c914 != 0) ||
          (DAT_0047d322 != 0 || DAT_0047cf62 != 0)) &&
         ((((_DAT_0047caf4 >> 0x10) + (_DAT_0047c914 >> 0x10) == 0 && (DAT_0047e5c4 != 0)) &&
          (DAT_0047c918 == 0)))) {
        DAT_0047c918 = local_12c;
      }
      local_120 = NULL;
      if (DAT_0047e2c8 != 0) {
        psVar20 = &DAT_0047c750;
        piVar30 = &DAT_0047cf64;
        local_154 = (double)CONCAT44(&DAT_0047c750,(undefined4)local_154);
        do {
          if (*psVar20 == 0) {
            if (((psVar20[0xe2] != 0) || (*(short *)((int)piVar30 + -2) != 0)) &&
               ((psVar20[0xe3] == 0 && (DAT_0047e5c4 != 0)))) {
              iVar29 = 0;
              *psVar20 = 1;
              if (0 < *piVar30) {
                puVar33 = (ushort *)((int)piVar30 + -0x66);
                do {
                  iVar12 = (puVar33[-3] - 1) + (uint)*puVar33;
                  if ((int)(uint)*puVar33 <= iVar12) {
                    psVar20 = (short *)(DAT_0047e2c4 + iVar12 * 0x1c);
                    do {
                      if ((*psVar20 != 1) && (DAT_0047ac74 + 0x18 <= *(int *)(psVar20 + 4))) {
                        *psVar20 = 1;
                      }
                      iVar12 += -1;
                      psVar20 = psVar20 + -0xe;
                    } while ((int)(uint)*puVar33 <= iVar12);
                    psVar20 = (short *)local_154._4_4_;
                  }
                  iVar29 += 1;
                  puVar33 = puVar33 + 1;
                } while (iVar29 < *piVar30);
              }
            }
          }
          else {
            psVar20[0xe3] = 0;
          }
          local_120 = (undefined2 *)((int)local_120 + 1);
          psVar20 = psVar20 + 0xf0;
          piVar30 = piVar30 + 0xf0;
          local_154 = (double)CONCAT44(psVar20,(undefined4)local_154);
        } while ((int)local_120 < (int)(uint)DAT_0047e2c8);
      }
      local_120 = NULL;
      if (DAT_0047e2c8 != 0) {
        do {
          puVar7 = local_120;
          iVar29 = (int)local_120 * 0x1e0;
          local_138 = NULL;
          piVar30 = &DAT_0047c830 + (int)local_120 * 0x78;
          do {
            if (*piVar30 != 0) {
              local_128 = (ushort *)(local_12c - *piVar30);
              dVar1 = (double)(int)local_128;
              if ((int)local_128 < 0) {
                dVar1 = dVar1 + 4294967296.0;
              }
              if (_DAT_0047ac88 * 450.0 < dVar1 == (NAN(_DAT_0047ac88 * 450.0) || NAN(dVar1))) {
                iVar12 = (&DAT_0047c850)[(int)puVar7 * 0x78];
                if (((iVar12 <= (int)(local_138 + 1)) || (iVar12 <= (int)local_138)) &&
                   ((iVar12 + 8 <= (int)(local_138 + 1) || ((int)local_138 <= iVar12))))
                goto LAB_00423b73;
              }
              if (piVar30[-8] != 0) {
                uVar10 = (&DAT_0047c768)[(int)puVar7 * 0x78];
                (&DAT_0047c768)[(int)puVar7 * 0x78] = piVar30[-8] + uVar10;
                piVar30[-8] = 0;
                *piVar30 = 0;
                sprintf_s(local_114,0x100,"%012d%012u",uVar10,(&DAT_0047c768)[(int)puVar7 * 0x78]) ;
                iVar12 = 0xb;
                pcVar22 = local_114;
                do {
                  if (*pcVar22 != pcVar22[0xc]) {
                    iVar12 += 2;
                    if (0 < iVar12) {
                      puVar27 = (uint *)(&DAT_0047c854 + iVar29);
                      for (; iVar12 != 0; iVar12 += -1) {
                        *puVar27 = local_12c;
                        puVar27 = puVar27 + 1;
                      }
                    }
                    break;
                  }
                  iVar12 += -1;
                  pcVar22 = pcVar22 + 1;
                } while (0 < iVar12);
              }
            }
LAB_00423b73:
            puVar31 = local_120;
            local_138 = (ushort *)((int)local_138 + 1);
            piVar30 = piVar30 + 1;
          } while ((int)local_138 < 8);
          local_124 = (int *)((int)local_120 * 0x3c0);
          uVar10 = 0;
          if (*(ushort *)((int)local_124 + 0x47cf0a) != 0) {
            piVar30 = (int *)local_124[0x11f3b3];
            do {
              if (*piVar30 <= DAT_0047d6c4) {
                local_15c = uVar10 & 0xffff;
              }
              uVar10 += 1;
              piVar30 = piVar30 + 8;
            } while ((int)uVar10 < (int)(uint)*(ushort *)((int)local_124 + 0x47cf0a));
          }
          *(short *)((int)&local_158 + (int)local_120 * 2) = (short)local_15c;
          iVar12 = local_124[0x11f3d9];
          local_134 = NULL;
          local_154 = (double)CONCAT44(iVar12,(undefined4)local_154);
          if (0 < iVar12) {
            local_130 = (uint *)((int)local_124 + 0x47cf26);
            do {
              uVar10 = (uint)(ushort)*local_130;
              uVar32 = *(ushort *)((int)local_130 + -6) + uVar10;
              if (uVar10 < uVar32) {
                piVar30 = (int *)(local_124[0x11f3b6] + uVar10 * 0x18);
                do {
                  if (*piVar30 <= DAT_0047d6c4) {
                    *(short *)(&DAT_0047c8b4 + ((int)puVar31 * 0xf0 + (int)local_134) * 2) =
                         (short)uVar10;
                  }
                  uVar10 += 1;
                  piVar30 = piVar30 + 6;
                } while ((int)uVar10 < (int)uVar32);
              }
              uVar10 = (uint)(ushort)local_130[-4];
              uVar32 = *(ushort *)((int)local_130 + -0x16) + uVar10;
              if (uVar10 < uVar32) {
                puVar33 = (ushort *)(local_124[0x11f3b5] + uVar10 * 8);
                do {
                  if (*puVar33 <= DAT_00482aa4) {
                    (&DAT_0047c8ba)[(int)puVar31 * 0xf0 + (int)local_134] = (short)uVar10;
                  }
                  uVar10 += 1;
                  puVar33 = puVar33 + 4;
                } while ((int)uVar10 < (int)uVar32);
              }
              local_134 = (ushort *)((int)local_134 + 1);
              local_130 = (uint *)((int)local_130 + 2);
            } while ((int)local_134 < iVar12);
          }
          uVar25 = *(ushort *)(local_124 + 0x11f3c7);
          *(undefined2 *)(&DAT_0047c8b2 + iVar29) = 0;
          iVar17 = 1;
          if (1 < uVar25) {
            piVar30 = (int *)(local_124[0x11f3b8] + 4);
            do {
              if (*piVar30 <= DAT_0047d6c4) {
                *(short *)(&DAT_0047c8b2 + iVar29) = (short)iVar17;
              }
              iVar17 += 1;
              piVar30 = piVar30 + 10;
            } while (iVar17 < (int)(uint)uVar25);
          }
          local_134 = NULL;
          if (0 < iVar12) {
            local_13c = (int)local_120 * 0x78;
            local_138 = &DAT_0047cefe + (int)puVar7 * 0x1e0;
            puVar27 = &DAT_0047c7ec + (int)local_120 * 0x78;
            iVar12 = DAT_0047e2c4;
            do {
              if (local_134 != (ushort *)(&DAT_0047c808)[(int)puVar7 * 0x78]) {
                uVar32 = (uint)*local_138;
                uVar10 = *puVar27 - 1;
                if ((int)(*puVar27 - 1) < (int)uVar32) {
                  uVar10 = uVar32;
                }
                if ((int)uVar10 < (int)(local_138[-3] + uVar32)) {
                  psVar20 = (short *)(iVar12 + uVar10 * 0x1c);
                  do {
                    if (*(int *)(psVar20 + 2) <= DAT_0047d6c4) {
                      if ((((ushort)psVar20[1] < 4) && (DAT_0047e5c4 != 0)) && (*psVar20 == 0)) {
                        *psVar20 = 1;
                      }
                      *puVar27 = uVar10;
                    }
                    uVar10 += 1;
                    psVar20 = psVar20 + 0xe;
                    iVar12 = DAT_0047e2c4;
                  } while ((int)uVar10 < (int)((uint)*local_138 + (uint)local_138[-3]));
                }
                sVar9 = *(short *)(iVar12 + 2 + *puVar27 * 0x1c);
                if (((sVar9 == 6) || (sVar9 == 8)) &&
                   ((iVar17 = iVar12 + (&DAT_0047c7ec)
                                       [(&DAT_0047c808)[(int)puVar7 * 0x78] + local_13c] * 0x1c,
                    *(short *)(iVar12 + 2 +
                              (&DAT_0047c7ec)[(&DAT_0047c808)[(int)puVar7 * 0x78] + local_13c] *
                              0x1c) == 7 &&
                    ((sVar9 = *(short *)(iVar17 + -0x1a), sVar9 == 6 || (sVar9 == 8)))))) {
                  *(undefined2 *)(iVar12 + *puVar27 * 0x1c + 0x10) = *(undefined2 *)(iVar17 + -0xc );
                  if (*(short *)(iVar12 + 0x10 + *puVar27 * 0x1c) == 0) {
                    *(undefined2 *)(iVar12 + *puVar27 * 0x1c) = 1;
                    *puVar27 = *puVar27 + 2;
                  }
                }
              }
              if ((*puVar27 == (uint)*local_138) && (DAT_0047e5c4 != 0)) {
                iVar17 = iVar12 + *puVar27 * 0x1c;
                uVar25 = *(ushort *)(iVar17 + 2);
                if ((3 < uVar25) &&
                   (((uVar25 < 6 && (*(int *)(iVar17 + 4) + -100 <= DAT_0047d6c4)) &&
                    (*(int *)(&DAT_0047c8fc + iVar29) == 0)))) {
                  *(undefined4 *)(&DAT_0047c8fc + iVar29) = 1;
                  (&DAT_0047c7ec)[(&DAT_0047c808)[(int)puVar7 * 0x78] + local_13c] =
                       (&DAT_0047c7ec)[(&DAT_0047c808)[(int)puVar7 * 0x78] + local_13c] + 1;
                }
              }
              local_138 = local_138 + 1;
              local_134 = (ushort *)((int)local_134 + 1);
              puVar27 = puVar27 + 1;
            } while ((int)local_134 < local_124[0x11f3d9]);
          }
          if ((((&DAT_0047c908)[(int)puVar7 * 0x78] == 1) && (DAT_0047e5c4 != 0)) &&
             ((1 < local_124[0x11f3d9] && ((DAT_0047ac98 == 1 || (DAT_0047e618 == 1)))))) {
            SVar8 = GetAsyncKeyState(0x26);
            if ((SVar8 != 0) &&
               ((DAT_00482ae0 == 0 &&
                ((int)(&DAT_0047c80c)[(int)puVar7 * 0x78] < local_124[0x11f3d9] + -1)))) {
              if ((1 < DAT_0047cf64) && (DAT_0047c908 == 1)) {
                uVar10 = DAT_0047c80c + 1;
                DAT_0047c80c = DAT_0047cf64 - 1U;
                if ((int)uVar10 <= (int)(DAT_0047cf64 - 1U)) {
                  DAT_0047c80c = uVar10;
                }
                DAT_0047c8f8 = 1;
              }
              if ((1 < DAT_0047d324) && (DAT_0047cae8 == 1)) {
                uVar10 = DAT_0047c9ec + 1;
                DAT_0047c9ec = DAT_0047d324 - 1U;
                if ((int)uVar10 <= (int)(DAT_0047d324 - 1U)) {
                  DAT_0047c9ec = uVar10;
                }
                _DAT_0047cad8 = 1;
              }
              _DAT_00482ae0 = CONCAT22(DAT_00482ae2,1);
              DAT_00482aa8 = 1;
            }
            SVar8 = GetAsyncKeyState(0x28);
            if (((SVar8 != 0) && (DAT_00482ae2 == 0)) &&
               (0 < (int)(&DAT_0047c80c)[(int)puVar7 * 0x78])) {
              if ((1 < DAT_0047cf64) && ((&DAT_0047c908)[(int)puVar7 * 0x78] == 1)) {
                DAT_0047c8f8 = 1;
                DAT_0047c80c = ((int)(DAT_0047c80c - 1) < 0) - 1 & DAT_0047c80c - 1;
              }
              if ((1 < DAT_0047d324) && ((&DAT_0047c908)[(int)puVar7 * 0x78] == 1)) {
                _DAT_0047cad8 = 1;
                DAT_0047c9ec = ((int)(DAT_0047c9ec - 1) < 0) - 1 & DAT_0047c9ec - 1;
              }
              _DAT_00482ae0 = CONCAT22(1,DAT_00482ae0);
              DAT_00482aa8 = 1;
            }
            SVar8 = GetAsyncKeyState(0x26);
            if (SVar8 == 0) {
              _DAT_00482ae0 &= 0xffff0000;
            }
            SVar8 = GetAsyncKeyState(0x28);
            if (SVar8 == 0) {
              _DAT_00482ae0 &= 0xffff;
            }
            if (DAT_00482aa8 != 0) {
              uVar25 = *(ushort *)(local_124 + 0x11f3c7);
              *(undefined2 *)(&DAT_0047c8b2 + iVar29) = 0;
              iVar12 = DAT_0047d6c4;
              iVar17 = 1;
              if (1 < uVar25) {
                piVar30 = (int *)(local_124[0x11f3b8] + 4);
                do {
                  if (*piVar30 <= iVar12) {
                    *(short *)(&DAT_0047c8b2 + iVar29) = (short)iVar17 + -1;
                  }
                  iVar17 += 1;
                  piVar30 = piVar30 + 10;
                } while (iVar17 < (int)(uint)uVar25);
              }
            }
          }
          if (((1 < local_124[0x11f3d9]) && ((&DAT_0047c8f8)[(int)puVar7 * 0x78] == 0)) &&
             (DAT_0047e5c4 != 0)) {
            iVar19 = local_124[0x11f3b8];
            uVar10 = (uint)*(ushort *)(iVar19 + (uint)*(ushort *)(&DAT_0047c8b2 + iVar29) * 0x28);
            iVar17 = *(int *)((DAT_0047b154 - 4) + uVar10 * 4);
            iVar12 = iVar19 + (uint)*(ushort *)(&DAT_0047c8b2 + iVar29) * 0x28;
            if ((iVar17 + -200 <= DAT_0047d6c4) && (*(int *)(iVar12 + 0xc) == 0)) {
              if (*(short *)(iVar12 + 0x16) == 1) {
                iVar17 = *(int *)(DAT_0047b154 + uVar10 * 4);
              }
              if (iVar17 < DAT_0047d6c4) {
                *(undefined4 *)(iVar12 + 0xc) = 1;
              }
              iVar19 = local_124[0x11f3b8];
              iVar12 = iVar19 + (uint)*(ushort *)(&DAT_0047c8b2 + iVar29) * 0x28;
              if (*(short *)(iVar12 + 0x16) == 0) {
                dVar1 = (double)(&DAT_0047c8e4)[(int)puVar7 * 0x78];
                if ((&DAT_0047c8e4)[(int)puVar7 * 0x78] < 0) {
                  dVar1 = dVar1 + 4294967296.0;
                }
                if (dVar1 < 1.0) {
                  dVar1 = 1.0;
                }
                dVar2 = (double)*(int *)(&DAT_0047c8e0 + iVar29);
                if (*(int *)(&DAT_0047c8e0 + iVar29) < 0) {
                  dVar2 = dVar2 + 4294967296.0;
                }
                dVar1 = (dVar2 / dVar1) * 100.0;
              }
              else {
                if (*(short *)(iVar12 + 0x16) == 1) {
                  uVar32 = *(uint *)(&DAT_0047c8dc + iVar29);
                  uVar10 = *(uint *)(&DAT_0047c8dc + iVar29);
                }
                else {
                  uVar32 = (&DAT_0047c768)[(int)puVar7 * 0x78];
                  uVar10 = (&DAT_0047c768)[(int)puVar7 * 0x78];
                }
                dVar1 = (double)(int)uVar10;
                if ((int)uVar32 < 0) {
                  dVar1 = dVar1 + 4294967296.0;
                }
              }
              if (dVar1 < *(double *)(iVar12 + 0x20)) {
                if (dVar1 < *(double *)(iVar12 + 0x18)) {
                  (&DAT_0047c80c)[(int)puVar7 * 0x78] = 0;
                }
                else {
                  (&DAT_0047c80c)[(int)puVar7 * 0x78] = 1;
                }
              }
              else {
                (&DAT_0047c80c)[(int)puVar7 * 0x78] = 2;
              }
              if ((&DAT_0047c80c)[(int)puVar7 * 0x78] != *(uint *)(&DAT_0047c8d4 + iVar29)) {
                local_128 = (ushort *)(local_12c - (&DAT_0047c8ac)[(int)puVar7 * 0x78]);
                dVar1 = (double)(int)local_128;
                if ((int)local_128 < 0) {
                  dVar1 = dVar1 + 4294967296.0;
                }
                if (_DAT_0047ac88 * 500.0 < dVar1 != (NAN(_DAT_0047ac88 * 500.0) || NAN(dVar1))) {
                  (&DAT_0047c8ac)[(int)puVar7 * 0x78] = local_12c;
                  if (*(int *)(&DAT_0047c8d4 + iVar29) < (int)(&DAT_0047c80c)[(int)puVar7 * 0x78])  {
                    *(undefined2 *)(&DAT_0047c8b0 + iVar29) = 0;
                  }
                  else {
                    *(undefined2 *)(&DAT_0047c8b0 + iVar29) = 1;
                  }
                }
              }
            }
            if (*(int *)(iVar19 + 4 + (uint)*(ushort *)(&DAT_0047c8b2 + iVar29) * 0x28) + -0x32 <
                DAT_0047d6c4) {
              if ((&DAT_0047c808)[(int)puVar7 * 0x78] != (&DAT_0047c80c)[(int)puVar7 * 0x78]) {
                dVar1 = (double)(&DAT_0047c778)[(int)puVar7 * 0x3c] /
                        ((double)(ushort)(&DAT_0047c7b0)
                                         [(&DAT_0047c804)[(int)puVar7 * 0x78] +
                                          (int)local_120 * 0xf0] * 1.6);
                if (1.0 < dVar1 != NAN(dVar1)) {
                  dVar1 = 1.0;
                }
                local_11c = CONCAT22(in_FPUControlWord,(undefined2)local_11c);
                local_118 = in_FPUControlWord | 0xc00;
                local_144 = (double)(longlong)
                                    ROUND((double)(ushort)(&DAT_0047c7b0)
                                                          [(int)local_120 * 0xf0 +
                                                           (&DAT_0047c80c)[(int)puVar7 * 0x78]] *
                                          1.6 * dVar1);
                dVar1 = (double)local_144._0_4_;
                if (local_144._0_4_ < 0) {
                  dVar1 = dVar1 + 4294967296.0;
                }
                (&DAT_0047c778)[(int)puVar7 * 0x3c] = dVar1;
              }
              (&DAT_0047c808)[(int)puVar7 * 0x78] = (&DAT_0047c80c)[(int)puVar7 * 0x78];
            }
          }
          if (*(uint *)(&DAT_0047c8d4 + iVar29) != (&DAT_0047c80c)[(int)puVar7 * 0x78]) {
            if ((&DAT_0047c8d0)[(int)puVar7 * 0x78] == 0) {
              (&DAT_0047c8d0)[(int)puVar7 * 0x78] = local_12c;
            }
            else if ((*(uint *)(&DAT_0047c8d4 + iVar29) != (&DAT_0047c80c)[(int)puVar7 * 0x78]) &&
                    (99 < local_12c - (&DAT_0047c8d0)[(int)puVar7 * 0x78])) {
              (&DAT_0047c8d0)[(int)puVar7 * 0x78] = 0;
              iVar12 = *(int *)(&DAT_0047c8d4 + iVar29);
              if ((int)(&DAT_0047c80c)[(int)puVar7 * 0x78] < iVar12) {
                iVar12 += -1;
              }
              else {
                iVar12 += 1;
              }
              bVar35 = DAT_00482aa8 != 0;
              *(int *)(&DAT_0047c8d4 + iVar29) = iVar12;
              if (bVar35) {
                (&DAT_0047c808)[(int)puVar7 * 0x78] = (&DAT_0047c80c)[(int)puVar7 * 0x78];
              }
            }
          }
          if (((&DAT_0047c804)[(int)puVar7 * 0x78] != (&DAT_0047c808)[(int)puVar7 * 0x78]) &&
             ((&DAT_0047c8f8)[(int)puVar7 * 0x78] == 0)) {
            (&DAT_0047c804)[(int)puVar7 * 0x78] = (&DAT_0047c808)[(int)puVar7 * 0x78];
          }
          pcVar34 = GetAsyncKeyState_exref;
          uVar25 = (&DAT_0047c8c6)[(int)puVar7 * 0xf0];
          if (((int)(uint)uVar25 < (int)(*(ushort *)((int)local_124 + 0x47cf1e) - 1)) &&
             (*(int *)(local_124[0x11f3bb] + 4 + (uint)uVar25 * 4) <= DAT_0047d6c4)) {
            (&DAT_0047c8c6)[(int)puVar7 * 0xf0] = uVar25 + 1;
            *(undefined4 *)(&DAT_0047c8e0 + iVar29) = 0;
            (&DAT_0047c8e4)[(int)puVar7 * 0x78] = 0;
            *(undefined4 *)(&DAT_0047c8dc + iVar29) = 0;
          }
          uVar10 = (&DAT_0047c808)[(int)puVar7 * 0x78];
          uVar32 = (uint)(ushort)(&DAT_0047cf3e)[uVar10 + iVar29];
          if (uVar32 < (ushort)(&DAT_0047cf38)[uVar10 + iVar29] + uVar32) {
            puVar33 = (ushort *)(local_124[0x11f3b9] + uVar32 * 8);
            do {
              if ((DAT_00482aa4 == *puVar33) && ((&DAT_0047c80c)[(int)puVar7 * 0x78] == uVar10)) {
                (&DAT_0047c8f8)[(int)puVar7 * 0x78] = 1;
              }
              uVar10 = (&DAT_0047c808)[(int)puVar7 * 0x78];
              uVar32 += 1;
              puVar33 = puVar33 + 4;
              pcVar34 = GetAsyncKeyState_exref;
            } while ((int)uVar32 <
                     (int)((uint)(ushort)(&DAT_0047cf38)[uVar10 + iVar29] +
                          (uint)(ushort)(&DAT_0047cf3e)[uVar10 + iVar29]));
          }
          if ((DAT_0047e624 == 1) && (DAT_0047e604 == 2)) {
            sVar9 = (*pcVar34)(0x51);
            pcVar34 = GetAsyncKeyState_exref;
            while ((GetAsyncKeyState_exref = pcVar34, sVar9 != 0 && (DAT_0047e61c == 0))) {
              FUN_0043a6e0();
              sVar9 = GetAsyncKeyState(0x51);
              pcVar34 = GetAsyncKeyState_exref;
            }
            if (DAT_0047e63c < 2) {
              DAT_0047e61c = 1;
            }
            DAT_00482a90 = 0;
            DAT_00482a98 = 0;
            _DAT_00482a94 = 4;
            _DAT_00482a9c = 4;
            *(undefined2 *)(&DAT_00482aa0 + (int)local_120 * 2) = 0;
            DAT_0047c764 = 0;
          }
          puVar31 = local_120;
          if ((DAT_0047e5c4 == 0) || (DAT_0047e620 != 0)) {
            if (DAT_0047e604 == 1) {
              DAT_0047c750 = 0;
              DAT_0047c930 = 0;
              (&DAT_0047c8d0)[(int)puVar7 * 0x78] = 1;
              *(int *)(&DAT_0047c8d4 + iVar29) = (&DAT_0047c808)[(int)puVar7 * 0x78];
              if ((DAT_0047ac98 == 1) || (DAT_0047e618 == 1)) {
                if (local_120 == NULL) {
                  sVar9 = (*pcVar34)(UINT_0047d6c8._2_2_);
                  if (sVar9 == 0) {
                    _DAT_00482ad8 &= 0xffff0000;
                  }
                  sVar9 = (*pcVar34)(USHORT_0047d6cc);
                  if (sVar9 == 0) {
                    _DAT_00482ad8 &= 0xffff;
                  }
                  sVar9 = (*pcVar34)((ushort)UINT_0047d6c8);
                  if (sVar9 == 0) {
                    _DAT_00482adc &= 0xffff0000;
                  }
                  sVar9 = (*pcVar34)((ushort)UINT_0047d6ce);
                  if (sVar9 == 0) {
                    _DAT_00482adc &= 0xffff;
                  }
                  sVar9 = (*pcVar34)(UINT_0047d6c8._2_2_);
                  if (sVar9 != 0) {
                    _DAT_00482ad8 = CONCAT22(_DAT_00482ada,1);
                  }
                  sVar9 = (*pcVar34)(USHORT_0047d6cc);
                  if (sVar9 != 0) {
                    _DAT_00482ad8 = CONCAT22(1,_DAT_00482ad8);
                  }
                  sVar9 = (*pcVar34)((ushort)UINT_0047d6c8);
                  if (sVar9 != 0) {
                    _DAT_00482adc = CONCAT22(_DAT_00482ade,1);
                  }
                  sVar9 = (*pcVar34)((ushort)UINT_0047d6ce);
                  if (sVar9 != 0) {
                    _DAT_00482adc = CONCAT22(1,_DAT_00482adc);
                  }
                }
                else {
                  sVar9 = (*pcVar34)(USHORT_0047d6d2);
                  if (sVar9 == 0) {
                    _DAT_00482b02 = 0;
                  }
                  sVar9 = (*pcVar34)(USHORT_0047d6d4);
                  if (sVar9 == 0) {
                    _DAT_00482b04 = 0;
                  }
                  sVar9 = (*pcVar34)(UINT_0047d6ce._2_2_);
                  if (sVar9 == 0) {
                    _DAT_00482b06 = 0;
                  }
                  sVar9 = (*pcVar34)(USHORT_0047d6d6);
                  if (sVar9 == 0) {
                    _DAT_00482b08 = 0;
                  }
                  sVar9 = (*pcVar34)(USHORT_0047d6d2);
                  if (sVar9 != 0) {
                    _DAT_00482b02 = 1;
                  }
                  sVar9 = (*pcVar34)(USHORT_0047d6d4);
                  if (sVar9 != 0) {
                    _DAT_00482b04 = 1;
                  }
                  sVar9 = (*pcVar34)(UINT_0047d6ce._2_2_);
                  if (sVar9 != 0) {
                    _DAT_00482b06 = 1;
                  }
                  sVar9 = (*pcVar34)(USHORT_0047d6d6);
                  if (sVar9 != 0) {
                    _DAT_00482b08 = 1;
                  }
                }
                sVar9 = (*pcVar34)(0x26);
                if (sVar9 == 0) {
                  _DAT_00482ae0 &= 0xffff0000;
                }
                sVar9 = (*pcVar34)(0x28);
                if (sVar9 == 0) {
                  _DAT_00482ae0 &= 0xffff;
                }
                local_134 = NULL;
                sVar9 = (*pcVar34)(0x26);
                if ((sVar9 != 0) && (DAT_00482ae0 == 0)) {
                  local_134 = (ushort *)0x1;
                }
                sVar9 = (*pcVar34)(0x28);
                if ((sVar9 != 0) && (DAT_00482ae2 == 0)) {
                  local_134 = (ushort *)0x2;
                }
                uVar10 = (uint)DAT_0047e2c8;
                local_138 = NULL;
                pcVar34 = GetAsyncKeyState_exref;
                if (uVar10 != 0) {
                  piVar30 = &DAT_0047c808;
                  local_154 = (double)CONCAT44(&DAT_0047cf64,(undefined4)local_154);
                  do {
                    if ((((uint *)piVar30)[0x40] == 1) && (1 < *(int *)local_154._4_4_)) {
                      if (local_134 == (ushort *)0x1) {
                        uVar32 = *(int *)local_154._4_4_ - 1;
                        if (*piVar30 < (int)uVar32) {
                          if ((local_138 == (ushort *)(uVar10 - 1)) ||
                             (*(int *)(&DAT_0047c628 + uVar10 * 0x1e0) <
                              *(int *)(&DAT_0047cba4 + uVar10 * 0x3c0) + -1)) {
                            _DAT_00482ae0 = CONCAT22(DAT_00482ae2,1);
                          }
                          if ((int)(*piVar30 + 1U) <= (int)uVar32) {
                            uVar32 = *piVar30 + 1U;
                          }
LAB_00427fa5:
                          *piVar30 = uVar32;
                          puVar31 = local_120;
                        }
                      }
                      else if ((local_134 == (ushort *)0x2) && (0 < *piVar30)) {
                        if ((local_138 == (ushort *)(uVar10 - 1)) ||
                           (0 < *(int *)(&DAT_0047c628 + uVar10 * 0x1e0))) {
                          _DAT_00482ae0 = CONCAT22(1,DAT_00482ae0);
                        }
                        uVar32 = *piVar30 - 1;
                        uVar32 = uVar32 & ((int)uVar32 < 0) - 1;
                        goto LAB_00427fa5;
                      }
                      ((uint *)piVar30)[1] = *piVar30;
                    }
                    local_154 = (double)CONCAT44((int *)((int)local_154._4_4_ + 0x3c0),
                                                 (undefined4)local_154);
                    local_138 = (ushort *)((int)local_138 + 1);
                    piVar30 = (int *)((uint *)piVar30 + 0x78);
                    pcVar34 = GetAsyncKeyState_exref;
                  } while ((int)local_138 < (int)uVar10);
                }
              }
              sVar9 = (*pcVar34)(0x10);
              if (sVar9 == 0) {
                puVar33 = (ushort *)((int)puVar31 * 0x15);
                local_128 = puVar33 + 2;
                local_138 = puVar33;
                if ((int)puVar33 < (int)local_128) {
                  local_130 = NULL;
                  do {
                    sVar9 = *(short *)(&DAT_00482ad8 + (int)puVar33 * 2);
                    if (sVar9 == 0) {
                      *(undefined4 *)(&DAT_0047d650 + ((int)puVar33 + (int)puVar31 * -0x11) * 4) =  0
                      ;
                    }
                    local_138 = puVar33;
                    if ((((int)local_130 < 2) && (sVar9 != 0)) &&
                       (iVar29 = (int)puVar33 + (int)puVar31 * -0x11,
                       *(int *)(&DAT_0047d650 + iVar29 * 4) == 0)) {
                      if ((&DAT_0047e608)[(int)puVar31] == 0x80) {
                        if (local_130 == NULL) {
                          iVar12 = DAT_0047cf70 + 0xdc;
                          iVar17 = DAT_0047d330 + 0xdc;
                        }
                        else {
                          iVar12 = DAT_0047cf70 + 0x104;
                          iVar17 = DAT_0047d330 + 0x104;
                        }
                        DAT_0047cf70 = iVar12 % 0x118 + 0x28;
                        DAT_0047d330 = iVar17 % 0x118 + 0x28;
                      }
                      iVar12 = (&DAT_00482a90)[(int)puVar31];
                      *(undefined4 *)(&DAT_0047d650 + iVar29 * 4) = 1;
                      iVar29 = (int)puVar31 * 0x10 +
                               (iVar12 + 1) % (int)(uint)*(ushort *)(local_124 + 0x11f4a1);
                      pHVar39 = (HWAVEOUT)(&DAT_0047bae8)[iVar29];
                      (&DAT_00482a90)[(int)puVar31] = iVar29;
                      waveOutWrite(pHVar39,(LPWAVEHDR)(&DAT_0047c2c0 + iVar29 * 8),0x20);
                      *(undefined2 *)(&DAT_0047b174 + (int)puVar31 * 2) = 0;
                      *(uint *)(&DAT_0047bb68 + (int)puVar31 * 4) = local_12c;
                    }
                    if (((1 < (int)local_130) && (*(short *)(&DAT_00482ad8 + (int)puVar33 * 2) != 0)
                        ) && (iVar29 = (int)puVar33 + (int)puVar31 * -0x11,
                             *(int *)(&DAT_0047d650 + iVar29 * 4) == 0)) {
                      uVar10 = (&DAT_0047c810)[(int)puVar7 * 0x78];
                      if (local_130 == (uint *)0x3) {
                        if (uVar10 < 10) {
                          (&DAT_0047c810)[(int)puVar7 * 0x78] = uVar10 + 1;
                        }
                        else {
                          (&DAT_0047c810)[(int)puVar7 * 0x78] = 1;
                        }
                      }
                      else if ((uVar10 < 0xb) && (uVar10 != 0)) {
                        (&DAT_0047c810)[(int)puVar7 * 0x78] = 0xb;
                      }
                      else {
                        (&DAT_0047c810)[(int)puVar7 * 0x78] = uVar10 % 10 + 0xb;
                      }
                      if ((&DAT_0047c810)[(int)puVar7 * 0x78] == 5) {
                        if ((&DAT_0047e608)[(int)puVar31] == 0) {
                          (&DAT_0047e608)[(int)puVar31] = 1;
                        }
                        else {
                          uVar10 = (&DAT_0047e608)[(int)puVar31] * 2 & 0x800000ff;
                          if ((int)uVar10 < 0) {
                            uVar10 = (uVar10 - 1 | 0xffffff00) + 1;
                          }
LAB_0042820b:
                          (&DAT_0047e608)[(int)puVar31] = (short)uVar10;
                        }
LAB_00428213:
                        (&DAT_0047c810)[(int)puVar7 * 0x78] = 0;
                      }
                      else if ((&DAT_0047c810)[(int)puVar7 * 0x78] == 0xf) {
                        if ((&DAT_0047e608)[(int)puVar31] != 0) {
                          uVar10 = (uint)(ushort)((&DAT_0047e608)[(int)puVar31] >> 1);
                          goto LAB_0042820b;
                        }
                        (&DAT_0047e608)[(int)puVar31] = 0x80;
                        goto LAB_00428213;
                      }
                      uVar25 = *(ushort *)(local_124 + 0x11f4a1);
                      iVar12 = (&DAT_00482a98)[(int)puVar31];
                      *(undefined4 *)(&DAT_0047d650 + iVar29 * 4) = 1;
                      iVar29 = (int)puVar31 * 0x10 + (iVar12 + 1) % (int)(uint)uVar25;
                      pHVar39 = (HWAVEOUT)(&DAT_0047be38)[iVar29];
                      (&DAT_00482a98)[(int)puVar31] = iVar29;
                      waveOutWrite(pHVar39,(LPWAVEHDR)(&DAT_0047b6d8 + iVar29 * 8),0x20);
                      *(undefined2 *)(&DAT_0047b174 + (int)puVar31 * 2) = 1;
                      *(uint *)(&DAT_0047bb68 + (int)puVar31 * 4) = local_12c;
                      puVar33 = local_138;
                    }
                    puVar33 = (ushort *)((int)puVar33 + 1);
                    local_130 = (uint *)((int)local_130 + 1);
                    local_138 = puVar33;
                  } while ((int)puVar33 < (int)local_128);
                }
              }
              SVar8 = GetAsyncKeyState(0x10);
              if (SVar8 == 0) {
                __Str1_00482aac &= 0xffffff00;
              }
              else if (_Str1_00482aac == '\0') {
                SVar8 = GetAsyncKeyState(0x47);
                if (SVar8 == 0) {
                  SVar8 = GetAsyncKeyState(0x41);
                  if (SVar8 != 0) {
                    __Str1_00482aac = 0x41;
                  }
                }
                else {
                  __Str1_00482aac = 0x47;
                }
              }
              else if (_Str1_00482aac == 'G') {
                SVar8 = GetAsyncKeyState(0x4a);
                if (SVar8 != 0) {
                  __Str1_00482aac = CONCAT11(0x4a,_Str1_00482aac);
                }
                SVar8 = GetAsyncKeyState(0x41);
                if ((SVar8 != 0) && (DAT_00482aad == 'J')) {
                  __Str1_00482aac = CONCAT12(0x41,__Str1_00482aac);
                }
                SVar8 = GetAsyncKeyState(0x48);
                if ((SVar8 != 0) && (DAT_00482aad == 'J')) {
                  __Str1_00482aac = CONCAT12(0x48,__Str1_00482aac);
                }
                iVar29 = strncmp(&_Str1_00482aac,"GJA",3);
                if (iVar29 == 0) {
                  bVar35 = DAT_0047cf7c != 2;
                  DAT_0047cf7c = 0;
                  if (bVar35) {
                    DAT_0047cf7c = 2;
                  }
                }
                else {
                  iVar29 = strncmp(&_Str1_00482aac,"GJH",3);
                  if (iVar29 != 0) goto LAB_004284f1;
                  bVar35 = DAT_0047cf7c != 1;
                  DAT_0047cf7c = 0;
                  if (bVar35) {
                    DAT_0047cf7c = 1;
                  }
                }
                uVar28 = DAT_00482ab8;
                uVar25 = DAT_00482ab6;
                __Str1_00482aac = 0;
                if ((DAT_0047cf7c == 0) &&
                   ((uint)DAT_00482ab8 + (uint)DAT_00482ab6 + (uint)DAT_00482ab4 != 0)) {
                  *(ushort *)((int)local_124 + 0x47cf76) = DAT_00482ab4;
                  *(ushort *)(local_124 + 0x11f3de) = uVar25;
                  *(ushort *)((int)local_124 + 0x47cf7a) = uVar28;
                }
LAB_004284a0:
                iVar29 = (int)local_120 * 0x10 +
                         ((&DAT_00482a90)[(int)local_120] + 1) %
                         (int)(uint)*(ushort *)(local_124 + 0x11f4a1);
                pHVar39 = (HWAVEOUT)(&DAT_0047bae8)[iVar29];
                (&DAT_00482a90)[(int)local_120] = iVar29;
                waveOutWrite(pHVar39,(LPWAVEHDR)(&DAT_0047c2c0 + iVar29 * 8),0x20);
              }
              else if (_Str1_00482aac == 'A') {
                SVar8 = GetAsyncKeyState(0x53);
                if (SVar8 != 0) {
                  __Str1_00482aac = CONCAT11(0x53,_Str1_00482aac);
                }
                SVar8 = GetAsyncKeyState(0x43);
                if ((SVar8 != 0) && (DAT_00482aad == 'S')) {
                  __Str1_00482aac = CONCAT12(0x43,__Str1_00482aac);
                }
                SVar8 = GetAsyncKeyState(0x52);
                if ((SVar8 != 0) && (DAT_00482aae == 'C')) {
                  __Str1_00482aac = CONCAT13(0x52,__Str1_00482aac);
                }
                iVar29 = strncmp(&_Str1_00482aac,"ASCR",4);
                if (iVar29 == 0) {
                  if (DAT_0047e608 == 0x100) {
                    _DAT_0047e608 = 0x2000200;
                  }
                  else if (DAT_0047e608 == 0x200) {
                    _DAT_0047e608 = 0;
                  }
                  else {
                    _DAT_0047e608 = 0x1000100;
                  }
                  __Str1_00482aac = 0;
                  goto LAB_004284a0;
                }
              }
            }
          }
          else {
            if ((uint)(ushort)(&DAT_0047c8f6)[(int)puVar7 * 0xf0] <
                (uint)(&DAT_0047c770)[(int)puVar7 * 0x78]) {
              (&DAT_0047c8f6)[(int)puVar7 * 0xf0] =
                   *(undefined2 *)(&DAT_0047c770 + (int)puVar7 * 0x78);
            }
            iVar19 = DAT_0047e2c4;
            iVar12 = (&DAT_0047c808)[(int)puVar7 * 0x78] + iVar29;
            iVar17 = (int)local_120 * 0x78;
            local_118 = (uint)(ushort)(&DAT_0047cef8)[iVar12] +
                        (uint)(ushort)(&DAT_0047cefe)[iVar12];
            local_130 = (uint *)(((&DAT_0047c808)[(int)puVar7 * 0x78] + iVar17) * 4);
            uVar10 = local_130[0x11f1fb];
            local_13c = iVar17;
            if ((int)uVar10 < (int)(local_118 - 1)) {
              psVar20 = (short *)(DAT_0047e2c4 + uVar10 * 0x1c);
              if (((int)((uint)(*(ushort *)((int)local_124 + 0x47cf7a) >> 1) + *(int *)(psVar20 + 2)
                        ) < DAT_0047d6c4) ||
                 (((((int)(uVar10 + 1) < (int)local_118 &&
                    ((int)(*(int *)(psVar20 + 2) + (uint)(*(ushort *)(local_124 + 0x11f3de) >> 1))
                     <= DAT_0047d6c4)) &&
                   ((int)(*(int *)(psVar20 + 0x10) - (uint)(*(ushort *)(local_124 + 0x11f3de) >> 1 ))
                    < DAT_0047d6c4)) || ((*psVar20 == 1 || (*psVar20 == 2)))))) {
                local_134 = (ushort *)
                            (((int)(1000 / (ulonglong)DAT_0047ac90) -
                             (uint)*(ushort *)(local_124 + 0x11f3de)) + 0x32 + DAT_0047d6c4);
                do {
                  iVar12 = DAT_0047e2c4;
                  if (((uint)(ushort)psVar20[1] < (uint)*(ushort *)(local_124 + 0x11f3b2) * 100 + 4)
                     && (*psVar20 == 0)) {
                    if ((&DAT_0047c908)[(int)puVar7 * 0x78] == 0) {
                      dVar1 = (double)(&DAT_0047c778)[(int)puVar7 * 0x3c] - 4.0;
                      if (dVar1 < 0.0 != NAN(dVar1)) {
                        dVar1 = 0.0;
                      }
                      (&DAT_0047c778)[(int)puVar7 * 0x3c] = dVar1;
                      *(undefined2 *)
                       (iVar12 + (&DAT_0047c7ec)[(&DAT_0047c808)[(int)puVar7 * 0x78] + iVar17] *
                                 0x1c) = 2;
                      (&DAT_0047c770)[(int)puVar7 * 0x78] = 0;
                      (&DAT_0047c890)[(int)local_120 * 0xf1] = 0;
                      (&DAT_0047c8ec)[(int)puVar7 * 0xf0] = (&DAT_0047c8ec)[(int)puVar7 * 0xf0] + 1;
                      (&DAT_0047c8e4)[(int)puVar7 * 0x78] = (&DAT_0047c8e4)[(int)puVar7 * 0x78] + 2;
                      (&DAT_0047c894)[(int)local_120 * 0x79] = 0;
                      if ((&DAT_0047c914)[(int)puVar7 * 0xf0] != 0) {
                        uVar25 = (&DAT_0047c916)[(int)puVar7 * 0xf0];
                        if (uVar25 != 0) {
                          if (*(short *)((int)local_124 + 0x47cf62) == 0) {
                            (&DAT_0047c916)[(int)puVar7 * 0xf0] = uVar25 - 1;
                          }
                          else if (*(short *)((int)local_124 + 0x47cf62) == 1) {
                            iVar12 = uVar25 - 900;
                            (&DAT_0047c916)[(int)puVar7 * 0xf0] = (ushort)iVar12 & (iVar12 < 0) - 1;
                          }
                          else {
                            iVar12 = uVar25 - 0xfa;
                            (&DAT_0047c916)[(int)puVar7 * 0xf0] = (ushort)iVar12 & (iVar12 < 0) - 1;
                          }
                        }
                      }
                    }
                    else {
                      local_154 = 1.0;
                      local_144 = 1.0;
                      if (((ushort)psVar20[1] & 0xfffe) == 2) {
                        local_154 = 2.0;
                      }
                      puVar33 = &DAT_0047c890 + (int)local_120 * 0xf1;
                      *puVar33 = 2;
                      local_118 = rand();
                      uVar38 = FUN_0045db50(extraout_ECX_04,extraout_EDX_04);
                      uVar25 = DAT_0047e2d8;
                      dVar1 = local_144;
                      if ((DAT_0047ace0 < (int)uVar38) && ((&DAT_0047c908)[(int)puVar7 * 0x78] == 1)
                         ) {
                        dVar1 = 0.5;
                        if (DAT_0047e2d8 == 1) {
                          dVar1 = 0.333;
                        }
                        *puVar33 = *puVar33 >> 1;
                      }
                      iVar12 = DAT_0047e2c4;
                      if (uVar25 == 0) {
                        iVar19 = (&DAT_0047c808)[(int)puVar7 * 0x78] + iVar29;
                        uVar10 = (uint)(ushort)(&DAT_0047cf32)[iVar19];
                        uVar32 = (ushort)(&DAT_0047cf2c)[iVar19] + uVar10;
                        if (uVar10 < uVar32) {
                          local_130 = *(uint **)(DAT_0047e2c4 + 4 +
                                                (&DAT_0047c7ec)
                                                [(&DAT_0047c808)[(int)puVar7 * 0x78] + iVar17] *
                                                0x1c);
                          puVar26 = (undefined4 *)(local_124[0x11f3b7] + uVar10 * 0x18);
                          do {
                            if (((uint *)*puVar26 <= local_130) && (local_130 < (uint *)puVar26[1] ))
                            {
                              dVar1 = dVar1 * 1.2;
                              break;
                            }
                            uVar10 += 1;
                            puVar26 = puVar26 + 6;
                          } while ((int)uVar10 < (int)uVar32);
                        }
                      }
                      (&DAT_0047c778)[(int)puVar7 * 0x3c] =
                           dVar1 * 2.0 + (double)(&DAT_0047c778)[(int)puVar7 * 0x3c];
                      *(undefined2 *)
                       (iVar12 + (&DAT_0047c7ec)[(&DAT_0047c808)[(int)puVar7 * 0x78] + iVar17] *
                                 0x1c) = 1;
                      (&DAT_0047c770)[(int)puVar7 * 0x78] = (&DAT_0047c770)[(int)puVar7 * 0x78] + 1;
                      (&DAT_0047c8e8)[(int)puVar7 * 0xf0] = (&DAT_0047c8e8)[(int)puVar7 * 0xf0] + 1;
                      iVar19 = (&DAT_0047c7ec)[(&DAT_0047c808)[(int)puVar7 * 0x78] + iVar17];
                      if (local_124[0x11f3db] <= *(int *)(iVar12 + 4 + iVar19 * 0x1c)) {
                        uVar25 = *(ushort *)(&DAT_0047c760 + iVar29);
                        iVar18 = ((int)local_120 * 0x20 + (uint)uVar25) * 0x10;
                        *(uint *)(&DAT_0047b18c + iVar18) = local_12c;
                        uVar25 = uVar25 + 1 & 0x1f;
                        *(undefined2 *)(&DAT_0047b188 + iVar18) =
                             *(undefined2 *)(iVar12 + iVar19 * 0x1c + 2);
                        if (false) {
                          uVar25 = (uVar25 - 1 | 0xffe0) + 1;
                        }
                        *(ushort *)(&DAT_0047c760 + iVar29) = uVar25;
                      }
                      sVar9 = (&DAT_0047c752)[(int)puVar7 * 0xf0];
                      uVar10 = 1;
                      if (sVar9 == 1) {
                        uVar10 = (uint)(&DAT_0047c770)[(int)puVar7 * 0x78] / 10;
                        if (10 < uVar10) {
                          uVar10 = 10;
                        }
LAB_00424a60:
                        if (sVar9 != 2) goto LAB_00424a69;
                        iVar12 = (&DAT_0047c788)[(int)puVar7 * 0x78] * uVar10 +
                                 (&DAT_0047c784)[(int)puVar7 * 0x78];
                        dVar2 = (double)iVar12;
                        if (iVar12 < 0) {
                          dVar2 = dVar2 + 4294967296.0;
                        }
                        local_144._0_4_ = (int)(longlong)ROUND(dVar2 / 10.0);
                        local_128 = (ushort *)(local_144._0_4_ * 10);
                        dVar2 = (double)(int)local_128;
                        if ((int)local_128 < 0) {
                          dVar2 = dVar2 + 4294967296.0;
                        }
                        local_144._0_4_ = (int)(longlong)ROUND((dVar2 * dVar1) / 10.0);
                        iVar12 = local_144._0_4_;
                        local_144 = (double)(longlong)ROUND(local_154 + 0.2);
                        iVar12 *= local_144._0_4_;
                      }
                      else {
                        if (sVar9 == 0) {
                          uVar10 = (uint)(&DAT_0047c770)[(int)puVar7 * 0x78] / 200;
                          if (1 < uVar10) {
                            uVar10 = 1;
                          }
                          goto LAB_00424a60;
                        }
                        if (sVar9 == 2) {
                          uVar10 = (&DAT_0047c770)[(int)puVar7 * 0x78];
                          if (uVar10 < 10) {
                            uVar10 = 0;
                          }
                          else if (uVar10 < 0x1e) {
                            uVar10 = 1;
                          }
                          else if (uVar10 < 0x32) {
                            uVar10 = 2;
                          }
                          else {
                            uVar10 = (-(uint)(uVar10 < 100) & 0xfffffffc) + 8;
                          }
                          goto LAB_00424a60;
                        }
LAB_00424a69:
                        iVar12 = (&DAT_0047c788)[(int)puVar7 * 0x78] * uVar10 +
                                 (&DAT_0047c784)[(int)puVar7 * 0x78];
                        dVar2 = (double)iVar12;
                        if (iVar12 < 0) {
                          dVar2 = dVar2 + 4294967296.0;
                        }
                        local_144._0_4_ = (int)(longlong)ROUND(dVar2 / 10.0);
                        local_128 = (ushort *)(local_144._0_4_ * 10);
                        dVar2 = (double)(int)local_128;
                        if ((int)local_128 < 0) {
                          dVar2 = dVar2 + 4294967296.0;
                        }
                        local_144 = (double)(longlong)ROUND((dVar2 * dVar1 * local_154) / 10.0);
                        iVar12 = local_144._0_4_;
                      }
                      local_118 = in_FPUControlWord | 0xc00;
                      local_11c = CONCAT22(in_FPUControlWord,(undefined2)local_11c);
                      (&DAT_0047c810)[(&DAT_0047c850)[(int)puVar7 * 0x78] + iVar17] = iVar12 * 10;
                      (&DAT_0047c768)[(int)puVar7 * 0x78] =
                           (&DAT_0047c768)[(int)puVar7 * 0x78] + (&DAT_0047c810)[(int)puVar7 * 0x7 8]
                      ;
                      if ((((&DAT_0047c752)[(int)puVar7 * 0xf0] == 2) &&
                          ((int)((ulonglong)(uint)(&DAT_0047c770)[(int)puVar7 * 0x78] % 100) == 0) )
                         && (DAT_0047e2d8 ==
                             (ushort)((ulonglong)(uint)(&DAT_0047c770)[(int)puVar7 * 0x78] % 100)) )
                      {
                        (&DAT_0047c768)[(int)puVar7 * 0x78] =
                             (&DAT_0047c768)[(int)puVar7 * 0x78] + 10000;
                      }
                    }
                  }
                  iVar5 = DAT_0047e2c4;
                  iVar19 = (&DAT_0047c808)[(int)puVar7 * 0x78];
                  iVar18 = (&DAT_0047c7ec)[iVar19 + iVar17];
                  iVar12 = DAT_0047e2c4 + iVar18 * 0x1c;
                  if (*(short *)(DAT_0047e2c4 + 2 + iVar18 * 0x1c) == 7) {
                    if ((&DAT_0047c908)[(int)puVar7 * 0x78] == 1) {
                      if (((*(short *)(iVar12 + -0x1a) == 6) || (*(short *)(iVar12 + -0x1a) == 8))
                         && (*(short *)(iVar12 + -0xc) != 0)) {
                        dVar1 = 1.0;
                        if (DAT_0047e2d8 == 0) {
                          uVar10 = (uint)(ushort)(&DAT_0047cf32)[iVar19 + iVar29];
                          uVar32 = (ushort)(&DAT_0047cf2c)[iVar19 + iVar29] + uVar10;
                          dVar1 = 1.0;
                          if (uVar10 < uVar32) {
                            puVar27 = (uint *)(local_124[0x11f3b7] + uVar10 * 0x18);
                            do {
                              iVar17 = local_13c;
                              if ((*puVar27 <= *(uint *)(iVar12 + 4)) &&
                                 (*(uint *)(iVar12 + 4) < puVar27[1])) {
                                dVar1 = 1.2;
                                break;
                              }
                              uVar10 += 1;
                              puVar27 = puVar27 + 6;
                              dVar1 = 1.0;
                            } while ((int)uVar10 < (int)uVar32);
                          }
                        }
                        local_11c = CONCAT22(in_FPUControlWord,(undefined2)local_11c);
                        *(undefined2 *)(iVar12 + -0x1c) = 1;
                        local_118 = in_FPUControlWord | 0xc00;
                        local_144 = (double)(longlong)
                                            ROUND(((double)((uint)*(ushort *)
                                                                   (iVar5 + -0xc +
                                                                   (&DAT_0047c7ec)
                                                                   [(&DAT_0047c808)
                                                                    [(int)puVar7 * 0x78] + iVar17] *
                                                                   0x1c) * 300 + 0x125c) * dVar1) /
                                                  10.0);
                        (&DAT_0047c810)[(int)puVar7 * 0x78] = local_144._0_4_ * 10;
                        (&DAT_0047c768)[(int)puVar7 * 0x78] =
                             (&DAT_0047c768)[(int)puVar7 * 0x78] + local_144._0_4_ * 10;
                        *(undefined2 *)
                         (iVar5 + -0xc +
                         (&DAT_0047c7ec)[(&DAT_0047c808)[(int)puVar7 * 0x78] + iVar17] * 0x1c) = 0 ;
                      }
                    }
                    else if ((((iVar18 != ((ushort)(&DAT_0047cef8)[iVar19 + iVar29] - 1) +
                                          (uint)(ushort)(&DAT_0047cefe)[iVar19 + iVar29]) &&
                              (*(short *)(iVar12 + -0xc) != 0)) &&
                             (*(int *)(iVar12 + 4) == *(int *)(iVar12 + 0x20))) &&
                            (*(ushort *)(iVar12 + 0x1e) < 4)) {
                      dVar1 = (double)(&DAT_0047c778)[(int)puVar7 * 0x3c] - 4.0;
                      if (dVar1 < 0.0) {
                        dVar1 = 0.0;
                      }
                      (&DAT_0047c778)[(int)puVar7 * 0x3c] = dVar1;
                      *(undefined2 *)
                       (iVar5 + ((&DAT_0047c7ec)[(&DAT_0047c808)[(int)puVar7 * 0x78] + iVar17] + 1 )
                                * 0x1c) = 2;
                      (&DAT_0047c770)[(int)puVar7 * 0x78] = 0;
                      (&DAT_0047c890)[(int)local_120 * 0xf1] = 0;
                      (&DAT_0047c8ec)[(int)puVar7 * 0xf0] = (&DAT_0047c8ec)[(int)puVar7 * 0xf0] + 1;
                      (&DAT_0047c8e4)[(int)puVar7 * 0x78] = (&DAT_0047c8e4)[(int)puVar7 * 0x78] + 2;
                      if ((&DAT_0047c914)[(int)puVar7 * 0xf0] != 0) {
                        uVar25 = (&DAT_0047c916)[(int)puVar7 * 0xf0];
                        if (uVar25 != 0) {
                          if (*(short *)((int)local_124 + 0x47cf62) == 0) {
                            uVar25 -= 1;
                          }
                          else if (*(short *)((int)local_124 + 0x47cf62) == 1) {
                            iVar12 = uVar25 - 900;
                            uVar25 = (ushort)iVar12 & (iVar12 < 0) - 1;
                          }
                          else {
                            iVar12 = uVar25 - 0xfa;
                            uVar25 = (ushort)iVar12 & (iVar12 < 0) - 1;
                          }
                          (&DAT_0047c916)[(int)puVar7 * 0xf0] = uVar25;
                        }
                      }
                      (&DAT_0047c7ec)[(&DAT_0047c808)[(int)puVar7 * 0x78] + iVar17] =
                           (&DAT_0047c7ec)[(&DAT_0047c808)[(int)puVar7 * 0x78] + iVar17] + 1;
                    }
                  }
                  (&DAT_0047c7ec)[(&DAT_0047c808)[(int)puVar7 * 0x78] + iVar17] =
                       (&DAT_0047c7ec)[(&DAT_0047c808)[(int)puVar7 * 0x78] + iVar17] + 1;
                  psVar20 = (short *)(iVar5 + (&DAT_0047c7ec)
                                              [(&DAT_0047c808)[(int)puVar7 * 0x78] + iVar17] * 0x1c )
                  ;
                } while (((*(int *)(psVar20 + 2) <= (int)local_134) &&
                         ((&DAT_0047c908)[(int)puVar7 * 0x78] != 0)) &&
                        (iVar12 = (&DAT_0047c808)[(int)puVar7 * 0x78] + iVar29,
                        (int)(&DAT_0047c7ec)[(&DAT_0047c808)[(int)puVar7 * 0x78] + iVar17] <
                        (int)(((ushort)(&DAT_0047cef8)[iVar12] - 1) +
                             (uint)(ushort)(&DAT_0047cefe)[iVar12])));
              }
              if ((short)local_124[0x11f3b2] == 0) {
                iVar12 = DAT_0047e2c4 +
                         (&DAT_0047c7ec)[(&DAT_0047c808)[(int)puVar7 * 0x78] + iVar17] * 0x1c;
                uVar25 = *(ushort *)(iVar12 + 2);
                if ((((uVar25 < 4) || (6 < uVar25)) && (uVar25 != 8)) ||
                   (DAT_0047d6c4 <
                    (int)(*(int *)(iVar12 + 4) - (uint)(*(ushort *)((int)local_124 + 0x47cf76) >> 1)
                         ))) {
                  if (((uVar25 != 7) || (*(int *)(iVar12 + 4) < DAT_0047d6c4)) ||
                     ((*(ushort *)(iVar12 + -0x1a) != 4 && (*(ushort *)(iVar12 + -0x1a) < 5))))
                  goto LAB_00425008;
                  *(undefined4 *)(&DAT_0047c8fc + iVar29) = 1;
                }
                else {
                  *(undefined4 *)(&DAT_0047c8fc + iVar29) = 1;
                  (&DAT_0047c7ec)[(&DAT_0047c808)[(int)puVar7 * 0x78] + iVar17] =
                       (&DAT_0047c7ec)[(&DAT_0047c808)[(int)puVar7 * 0x78] + iVar17] + 1;
                }
              }
              else {
LAB_00425008:
                *(undefined4 *)(&DAT_0047c8fc + iVar29) = 0;
              }
              if ((*(int *)(&DAT_0047c8fc + iVar29) == 1) &&
                 ((&DAT_0047c900)[(int)puVar7 * 0x78] == 0)) {
                if ((DAT_0047e2c8 == 1) ||
                   ((&DAT_0047c900)[(((int)local_120 + 1) % (int)(uint)DAT_0047e2c8) * 0x78] == 0) )
                {
                  DAT_0047e4e8 = 0;
                }
                iVar12 = DAT_0047e2c4 +
                         (&DAT_0047c7ec)[(&DAT_0047c808)[(int)puVar7 * 0x78] + iVar17] * 0x1c;
                if (*(short *)(iVar12 + 2) == 8) {
                  DAT_0047e4e8 += (uint)*(ushort *)(iVar12 + 0x10);
                  (&DAT_0047c900)[(int)puVar7 * 0x78] = 1;
                }
                else if (*(short *)(iVar12 + -0x1a) == 8) {
                  DAT_0047e4e8 += (uint)*(ushort *)(iVar12 + -0xc);
                  (&DAT_0047c900)[(int)puVar7 * 0x78] = 1;
                }
              }
              else if (*(int *)(&DAT_0047c8fc + iVar29) == 0) {
                (&DAT_0047c900)[(int)puVar7 * 0x78] = 0;
              }
            }
            else if (uVar10 == local_118 - 1) {
              uVar32 = (uint)*(ushort *)(DAT_0047e2c4 + 2 + uVar10 * 0x1c);
              psVar20 = (short *)(DAT_0047e2c4 + uVar10 * 0x1c);
              if ((uVar32 == 7) && (*(int *)(psVar20 + 2) < DAT_0047d6c4)) {
                *(undefined4 *)(&DAT_0047c8fc + iVar29) = 0;
              }
              else {
                if (((&DAT_0047c908)[(int)puVar7 * 0x78] != 1) ||
                   ((DAT_0047d6c4 <= *(int *)(psVar20 + 2) || (*psVar20 != 0)))) {
                  if (((&DAT_0047c908)[(int)puVar7 * 0x78] == 0) &&
                     (((int)((uint)*(ushort *)(local_124 + 0x11f3de) + *(int *)(psVar20 + 2)) <
                       DAT_0047d6c4 && (*psVar20 == 0)))) {
                    dVar1 = (double)(&DAT_0047c778)[(int)puVar7 * 0x3c] - 4.0;
                    if (dVar1 < 0.0) {
                      dVar1 = 0.0;
                    }
                    (&DAT_0047c778)[(int)puVar7 * 0x3c] = dVar1;
                    *(undefined2 *)
                     (iVar19 + (&DAT_0047c7ec)[(&DAT_0047c808)[(int)puVar7 * 0x78] + iVar17] * 0x1 c)
                         = 2;
                    (&DAT_0047c770)[(int)puVar7 * 0x78] = 0;
                    (&DAT_0047c890)[(int)local_120 * 0xf1] = 0;
                    (&DAT_0047c8ec)[(int)puVar7 * 0xf0] = (&DAT_0047c8ec)[(int)puVar7 * 0xf0] + 1;
                    (&DAT_0047c8e4)[(int)puVar7 * 0x78] = (&DAT_0047c8e4)[(int)puVar7 * 0x78] + 2;
                    if ((&DAT_0047c914)[(int)puVar7 * 0xf0] != 0) {
                      uVar25 = (&DAT_0047c916)[(int)puVar7 * 0xf0];
                      if (uVar25 != 0) {
                        if (*(short *)((int)local_124 + 0x47cf62) == 0) {
                          uVar25 -= 1;
                        }
                        else if (*(short *)((int)local_124 + 0x47cf62) == 1) {
                          iVar12 = uVar25 - 900;
                          uVar25 = (ushort)iVar12 & (iVar12 < 0) - 1;
                        }
                        else {
                          iVar12 = uVar25 - 0xfa;
                          uVar25 = (ushort)iVar12 & (iVar12 < 0) - 1;
                        }
                        (&DAT_0047c916)[(int)puVar7 * 0xf0] = uVar25;
                      }
                    }
                  }
                  goto LAB_00425578;
                }
                uVar32 &= 0x80000001;
                uVar25 = *(ushort *)(&DAT_00482aa0 + (int)local_120 * 2);
                if (false) {
                  uVar32 = (uVar32 - 1 | 0xfffffffe) + 1;
                }
                *(undefined2 *)
                 (&DAT_00482ad8 + ((int)local_120 * 0x15 + (uint)uVar25 + uVar32 * 2) * 2) = 1;
                uVar25 = uVar25 + 1 & 1;
                if (false) {
                  uVar25 = (uVar25 - 1 | 0xfffe) + 1;
                }
                *(ushort *)(&DAT_00482aa0 + (int)local_120 * 2) = uVar25;
                iVar19 = DAT_0047e2c4;
                if ((psVar20[1] & 0xfffeU) == 2) {
                  dVar1 = 2.0;
                }
                else {
                  dVar1 = 1.0;
                }
                if (local_130[0x11f1f6] == 1) {
                  if (*(uint *)(psVar20 + 2) <
                      *(uint *)(local_124[0x11f3b7] + 4 +
                               (uint)(ushort)(&DAT_0047c8c0)
                                             [(int)local_120 * 0xf0 +
                                              (&DAT_0047c808)[(int)puVar7 * 0x78]] * 0x18)) {
LAB_00425231:
                    dVar1 = dVar1 * 1.2;
                  }
                }
                else if ((((&DAT_0047cf2c)[iVar12] != 0) &&
                         ((uint)(ushort)(&DAT_0047c8c0)
                                        [(int)local_120 * 0xf0 + (&DAT_0047c808)[(int)puVar7 * 0x7 8]
                                        ] !=
                          (uint)(ushort)(&DAT_0047cf32)[iVar12] +
                          (uint)(ushort)(&DAT_0047cf2c)[iVar12])) &&
                        (*(uint *)(local_124[0x11f3b7] +
                                  (uint)(ushort)(&DAT_0047c8c0)
                                                [(int)local_120 * 0xf0 +
                                                 (&DAT_0047c808)[(int)puVar7 * 0x78]] * 0x18) <=
                         *(uint *)(psVar20 + 2))) goto LAB_00425231;
                (&DAT_0047c778)[(int)puVar7 * 0x3c] =
                     (double)(&DAT_0047c778)[(int)puVar7 * 0x3c] + dVar1;
                *(undefined2 *)
                 (iVar19 + (&DAT_0047c7ec)[(&DAT_0047c808)[(int)puVar7 * 0x78] + iVar17] * 0x1c) =  1
                ;
                (&DAT_0047c770)[(int)puVar7 * 0x78] = (&DAT_0047c770)[(int)puVar7 * 0x78] + 1;
                (&DAT_0047c8e8)[(int)puVar7 * 0xf0] = (&DAT_0047c8e8)[(int)puVar7 * 0xf0] + 1;
                uVar25 = *(ushort *)(&DAT_0047c760 + iVar29);
                iVar12 = ((int)local_120 * 0x20 + (uint)uVar25) * 0x10;
                *(uint *)(&DAT_0047b18c + iVar12) = local_12c;
                uVar25 = uVar25 + 1 & 0x1f;
                *(undefined2 *)(&DAT_0047b188 + iVar12) =
                     *(undefined2 *)
                      (DAT_0047e2c4 + 2 +
                      (&DAT_0047c7ec)[(&DAT_0047c808)[(int)puVar7 * 0x78] + iVar17] * 0x1c);
                if (false) {
                  uVar25 = (uVar25 - 1 | 0xffe0) + 1;
                }
                *(ushort *)(&DAT_0047c760 + iVar29) = uVar25;
                sVar9 = (&DAT_0047c752)[(int)puVar7 * 0xf0];
                uVar10 = 1;
                if (sVar9 == 1) {
                  uVar10 = (uint)(&DAT_0047c770)[(int)puVar7 * 0x78] / 10;
                  if (10 < uVar10) {
                    uVar10 = 10;
                  }
                }
                else if (sVar9 == 0) {
                  uVar10 = (uint)(&DAT_0047c770)[(int)puVar7 * 0x78] / 200;
                  if (1 < uVar10) {
                    uVar10 = 1;
                  }
                }
                else if (sVar9 == 2) {
                  uVar10 = (&DAT_0047c770)[(int)puVar7 * 0x78];
                  if (uVar10 < 10) {
                    uVar10 = 0;
                  }
                  else if (uVar10 < 0x1e) {
                    uVar10 = 1;
                  }
                  else if (uVar10 < 0x32) {
                    uVar10 = 2;
                  }
                  else {
                    uVar10 = (-(uint)(uVar10 < 100) & 0xfffffffc) + 8;
                  }
                }
                iVar12 = (&DAT_0047c788)[(int)puVar7 * 0x78] * uVar10 +
                         (&DAT_0047c784)[(int)puVar7 * 0x78];
                dVar2 = (double)iVar12;
                if (iVar12 < 0) {
                  dVar2 = dVar2 + 4294967296.0;
                }
                local_144._0_4_ = (int)(longlong)ROUND(dVar2 / 10.0);
                local_128 = (ushort *)(local_144._0_4_ * 10);
                dVar2 = (double)(int)local_128;
                if ((int)local_128 < 0) {
                  dVar2 = dVar2 + 4294967296.0;
                }
                local_11c = CONCAT22(in_FPUControlWord,(undefined2)local_11c);
                local_118 = in_FPUControlWord | 0xc00;
                local_144 = (double)(longlong)ROUND((dVar2 * dVar1) / 10.0);
                (&DAT_0047c810)[(&DAT_0047c850)[(int)puVar7 * 0x78] + iVar17] = local_144._0_4_ * 10
                ;
                (&DAT_0047c768)[(int)puVar7 * 0x78] =
                     (&DAT_0047c768)[(int)puVar7 * 0x78] + (&DAT_0047c810)[(int)puVar7 * 0x78];
                if ((((&DAT_0047c752)[(int)puVar7 * 0xf0] == 2) &&
                    ((int)((ulonglong)(uint)(&DAT_0047c770)[(int)puVar7 * 0x78] % 100) == 0)) &&
                   (DAT_0047e2d8 ==
                    (ushort)((ulonglong)(uint)(&DAT_0047c770)[(int)puVar7 * 0x78] % 100))) {
                  (&DAT_0047c768)[(int)puVar7 * 0x78] = (&DAT_0047c768)[(int)puVar7 * 0x78] + 1000 0;
                }
              }
              (&DAT_0047c7ec)[(&DAT_0047c808)[(int)puVar7 * 0x78] + iVar17] =
                   (&DAT_0047c7ec)[(&DAT_0047c808)[(int)puVar7 * 0x78] + iVar17] + 1;
            }
LAB_00425578:
            if ((((&DAT_0047c8ec)[(int)puVar7 * 0xf0] == 0) &&
                ((uint)(ushort)(&DAT_0047c8e8)[(int)puVar7 * 0xf0] +
                 (uint)(ushort)(&DAT_0047c8ea)[(int)puVar7 * 0xf0] != 0)) &&
               ((*(int *)(DAT_0047e2c4 + 4 +
                         ((uint)(ushort)(&DAT_0047cf04)
                                        [(&DAT_0047c808)[(int)puVar7 * 0x78] + iVar29] +
                         (uint)(ushort)(&DAT_0047cefe)[(&DAT_0047c808)[(int)puVar7 * 0x78] + iVar2 9]
                         ) * 0x1c) + 1000 <= DAT_0047d6c4 &&
                ((&DAT_0047c928)[(int)puVar7 * 0x78] == 0)))) {
              waveOutWrite((&DAT_0047b17c)[(int)local_120],
                           (LPWAVEHDR)(&DAT_0047c6c0 + (int)local_120 * 8),0x20);
              (&DAT_0047c928)[(int)puVar7 * 0x78] = 1;
            }
            local_138 = NULL;
            do {
              iVar12 = DAT_0047e2c4;
              uVar23 = (uint)(ushort)(&DAT_0047cefe)[(&DAT_0047c808)[(int)puVar7 * 0x78] + iVar29] ;
              uVar10 = (&DAT_0047c7ec)[(&DAT_0047c808)[(int)puVar7 * 0x78] + iVar17] -
                       (int)local_138;
              uVar32 = uVar23;
              if ((int)uVar23 <= (int)uVar10) {
                uVar32 = uVar10;
              }
              if ((*(ushort *)(DAT_0047e2c4 + 2 + uVar32 * 0x1c) & 0xfffe) == 2) {
                uVar32 = uVar23;
                if ((int)uVar23 <= (int)uVar10) {
                  uVar32 = uVar10;
                }
                if (2 < *(ushort *)(DAT_0047e2c4 + uVar32 * 0x1c)) {
                  uVar32 = uVar23;
                  if ((int)uVar23 <= (int)uVar10) {
                    uVar32 = uVar10;
                  }
                  if (*(short *)(DAT_0047e2c4 + 0x10 + uVar32 * 0x1c) != 0) {
                    if ((int)uVar10 < (int)uVar23) {
                      uVar10 = uVar23;
                    }
                    iVar19 = uVar10 * 0x1c;
                    psVar20 = (short *)(DAT_0047e2c4 + 0x10 + iVar19);
                    *psVar20 = *psVar20 + -1;
                    if ((*psVar20 == 0) ||
                       (uVar10 = DAT_0047d6c4 - *(int *)(iVar12 + 4 + iVar19),
                       uVar32 = (int)uVar10 >> 0x1f,
                       (int)(uint)(*(ushort *)(local_124 + 0x11f3de) >> 1) <
                       (int)((uVar10 ^ uVar32) - uVar32))) {
                      local_11c = CONCAT22(in_FPUControlWord,(undefined2)local_11c);
                      local_144 = (double)((int)(*(ushort *)(DAT_0047e2c4 + iVar19) - 1) / 2) * 0. 5;
                      puVar33 = &DAT_0047c890 + (int)local_120 * 0xf1;
                      dVar1 = local_144 + local_144;
                      (&DAT_0047c778)[(int)puVar7 * 0x3c] =
                           dVar1 + (double)(&DAT_0047c778)[(int)puVar7 * 0x3c];
                      local_118 = (uint)ROUND(dVar1);
                      *puVar33 = (ushort)local_118;
                      *(undefined2 *)(&DAT_0047c89c + iVar29) = 0;
                      *(undefined2 *)(&DAT_0047c89e + iVar29) = 0;
                      if ((&DAT_0047c908)[(int)puVar7 * 0x78] == 1) {
                        local_144 = dVar1;
                      }
                      local_134 = puVar33;
                      local_118 = rand();
                      uVar38 = FUN_0045db50(extraout_ECX_05,extraout_EDX_05);
                      if ((DAT_0047ace0 < (int)uVar38) && ((&DAT_0047c908)[(int)puVar7 * 0x78] == 1)
                         ) {
                        *puVar33 = *puVar33 >> 1;
                        local_144 = local_144 * 0.5;
                      }
                      if (DAT_0047e2d8 == 1) {
                        local_144 = 0.333;
                      }
                      iVar17 = (int)local_120 * 0xf0;
                      (&DAT_0047c8ec)[iVar17 - (uint)*puVar33] =
                           (&DAT_0047c8ec)[iVar17 - (uint)*puVar33] + 1;
                      local_130 = &DAT_0047c894 + (int)local_120 * 0x79;
                      *local_130 = local_12c;
                      *(uint *)(&DAT_0047b6d0 + (int)local_120 * 4) = local_12c;
                      uVar25 = *(ushort *)(&DAT_0047c762 + iVar29);
                      iVar12 = ((uint)uVar25 + (int)local_120 * 4) * 8;
                      *(uint *)(&DAT_0047bdec + iVar12) = local_12c;
                      *(ushort *)(&DAT_0047bdea + iVar12) = *local_134;
                      uVar25 = uVar25 + 1 & 3;
                      *(undefined2 *)(&DAT_0047bde8 + iVar12) = 0;
                      if (false) {
                        uVar25 = (uVar25 - 1 | 0xfffc) + 1;
                      }
                      *(ushort *)(&DAT_0047c762 + iVar29) = uVar25;
                      *(uint *)(&DAT_0047d718 + (int)local_120 * 4) = local_12c;
                      *(uint *)(&DAT_0047c884 + iVar29) = local_12c;
                      uVar25 = *(ushort *)(&DAT_0047c760 + iVar29);
                      iVar12 = ((int)local_120 * 0x20 + (uint)uVar25) * 0x10;
                      *(uint *)(&DAT_0047b18c + iVar12) = local_12c;
                      uVar28 = *(ushort *)(DAT_0047e2c4 + 2 + iVar19) & 1;
                      if (false) {
                        uVar28 = (uVar28 - 1 | 0xfffe) + 1;
                      }
                      uVar25 = uVar25 + 1 & 0x1f;
                      *(ushort *)(&DAT_0047b188 + iVar12) = uVar28;
                      if (false) {
                        uVar25 = (uVar25 - 1 | 0xffe0) + 1;
                      }
                      *(ushort *)(&DAT_0047c760 + iVar29) = uVar25;
                      *(uint *)(&DAT_0047c8e0 + iVar29) =
                           *(int *)(&DAT_0047c8e0 + iVar29) + (uint)*local_134;
                      (&DAT_0047c8e4)[(int)puVar7 * 0x78] = (&DAT_0047c8e4)[(int)puVar7 * 0x78] + 2;
                      iVar12 = (&DAT_0047c808)[(int)puVar7 * 0x78];
                      dVar1 = local_144;
                      if ((&DAT_0047c7d8)[local_13c + iVar12] == 1) {
                        if (*(uint *)(DAT_0047e2c4 + 4 + iVar19) <
                            *(uint *)(local_124[0x11f3b7] + 4 +
                                     (uint)(ushort)(&DAT_0047c8c0)[iVar12 + iVar17] * 0x18)) {
LAB_0042599b:
                          dVar1 = local_144 * 1.2;
                        }
                      }
                      else if ((((&DAT_0047cf2c)[iVar12 + iVar29] != 0) &&
                               ((uint)(ushort)(&DAT_0047c8c0)[iVar12 + iVar17] !=
                                (uint)(ushort)(&DAT_0047cf32)[iVar12 + iVar29] +
                                (uint)(ushort)(&DAT_0047cf2c)[iVar12 + iVar29])) &&
                              (*(uint *)(local_124[0x11f3b7] +
                                        (uint)(ushort)(&DAT_0047c8c0)[iVar12 + iVar17] * 0x18) <=
                               *(uint *)(DAT_0047e2c4 + 4 + iVar19))) goto LAB_0042599b;
                      *(undefined2 *)(DAT_0047e2c4 + iVar19) = 1;
                      (&DAT_0047c770)[(int)puVar7 * 0x78] = (&DAT_0047c770)[(int)puVar7 * 0x78] + 1;
                      uVar32 = (&DAT_0047c850)[(int)puVar7 * 0x78] + 1 & 7;
                      (&DAT_0047c850)[(int)puVar7 * 0x78] = uVar32;
                      sVar9 = (&DAT_0047c752)[(int)puVar7 * 0xf0];
                      uVar10 = 1;
                      if (sVar9 == 1) {
                        uVar10 = (uint)(&DAT_0047c770)[(int)puVar7 * 0x78] / 10;
                        if (10 < uVar10) {
                          uVar10 = 10;
                        }
                      }
                      else if (sVar9 == 0) {
                        uVar10 = (uint)(&DAT_0047c770)[(int)puVar7 * 0x78] / 200;
                        if (1 < uVar10) {
                          uVar10 = 1;
                        }
                      }
                      else if (sVar9 == 2) {
                        uVar10 = (&DAT_0047c770)[(int)puVar7 * 0x78];
                        if (uVar10 < 10) {
                          uVar10 = 0;
                        }
                        else if (uVar10 < 0x1e) {
                          uVar10 = 1;
                        }
                        else if (uVar10 < 0x32) {
                          uVar10 = 2;
                        }
                        else {
                          uVar10 = (-(uint)(uVar10 < 100) & 0xfffffffc) + 8;
                        }
                      }
                      iVar12 = (&DAT_0047c788)[(int)puVar7 * 0x78] * uVar10 +
                               (&DAT_0047c784)[(int)puVar7 * 0x78];
                      dVar2 = (double)iVar12;
                      if (iVar12 < 0) {
                        dVar2 = dVar2 + 4294967296.0;
                      }
                      local_144._0_4_ = (int)(longlong)ROUND(dVar2 / 10.0);
                      local_128 = (ushort *)(local_144._0_4_ * 10);
                      dVar2 = (double)(int)local_128;
                      if ((int)local_128 < 0) {
                        dVar2 = dVar2 + 4294967296.0;
                      }
                      local_11c = CONCAT22(in_FPUControlWord,(undefined2)local_11c);
                      local_118 = in_FPUControlWord | 0xc00;
                      local_144 = (double)(longlong)ROUND((dVar2 * dVar1) / 10.0);
                      (&DAT_0047c810)[uVar32 + local_13c] = local_144._0_4_ * 10;
                      if ((((&DAT_0047c752)[(int)puVar7 * 0xf0] == 2) &&
                          ((int)((ulonglong)(uint)(&DAT_0047c770)[(int)puVar7 * 0x78] % 100) == 0) )
                         && (DAT_0047e2d8 ==
                             (ushort)((ulonglong)(uint)(&DAT_0047c770)[(int)puVar7 * 0x78] % 100)) )
                      {
                        (&DAT_0047c768)[(int)puVar7 * 0x78] =
                             (&DAT_0047c768)[(int)puVar7 * 0x78] + 10000;
                      }
                      (&DAT_0047c830)[(&DAT_0047c850)[(int)puVar7 * 0x78] + local_13c] = *local_13 0;
                      iVar17 = local_13c;
                      if (*(short *)((int)local_124 + 0x47cf62) != 0) {
                        if (*(short *)((int)local_124 + 0x47cf62) == 1) {
                          if (DAT_0047e2d4 == 0) {
                            iVar12 = ((ushort)(&DAT_0047c916)[(int)puVar7 * 0xf0] - 0x10) +
                                     (uint)*local_134 * 0x10;
                          }
                          else {
                            if (false) goto LAB_00425ba3;
                            iVar12 = ((ushort)(&DAT_0047c916)[(int)puVar7 * 0xf0] - 4) +
                                     (uint)*local_134 * 4;
                          }
                        }
                        else {
LAB_00425ba3:
                          iVar12 = ((ushort)(&DAT_0047c916)[(int)puVar7 * 0xf0] - 8) +
                                   (uint)*local_134 * 0xc;
                        }
                        if (10000 < iVar12) {
                          iVar12 = 10000;
                        }
                        (&DAT_0047c916)[(int)puVar7 * 0xf0] = (short)iVar12;
                      }
                    }
                  }
                }
              }
            } while (((&DAT_0047c7ec)[(&DAT_0047c808)[(int)puVar7 * 0x78] + iVar17] != 0) &&
                    (local_138 = (ushort *)((int)local_138 + 1), (int)local_138 < 2));
            (&local_10)[(int)local_120 * 2] = 1;
            iVar12 = (&DAT_0047c908)[(int)puVar7 * 0x78];
            *(undefined2 *)(&local_e + (int)local_120) = 1;
            if ((iVar12 == 0) && ((DAT_0047ac98 == 1 || (DAT_0047e618 == 1)))) {
              if (local_120 == NULL) {
                SVar8 = GetAsyncKeyState((uint)UINT_0047d6c8._2_2_);
                if (SVar8 == 0) {
                  _DAT_00482ad8 &= 0xffff0000;
                }
                SVar8 = GetAsyncKeyState((uint)USHORT_0047d6cc);
                if (SVar8 == 0) {
                  _DAT_00482ad8 &= 0xffff;
                }
                SVar8 = GetAsyncKeyState((uint)(ushort)UINT_0047d6c8);
                if (SVar8 == 0) {
                  _DAT_00482adc &= 0xffff0000;
                }
                SVar8 = GetAsyncKeyState((uint)(ushort)UINT_0047d6ce);
                if (SVar8 == 0) {
                  _DAT_00482adc &= 0xffff;
                }
                SVar8 = GetAsyncKeyState((uint)UINT_0047d6c8._2_2_);
                if (SVar8 != 0) {
                  _DAT_00482ad8 = CONCAT22(_DAT_00482ada,1);
                }
                SVar8 = GetAsyncKeyState((uint)USHORT_0047d6cc);
                if (SVar8 != 0) {
                  _DAT_00482ad8 = CONCAT22(1,_DAT_00482ad8);
                }
                SVar8 = GetAsyncKeyState((uint)(ushort)UINT_0047d6c8);
                if (SVar8 != 0) {
                  _DAT_00482adc = CONCAT22(_DAT_00482ade,1);
                }
                SVar8 = GetAsyncKeyState((uint)(ushort)UINT_0047d6ce);
                if (SVar8 != 0) {
                  _DAT_00482adc = CONCAT22(1,_DAT_00482adc);
                }
              }
              else {
                SVar8 = GetAsyncKeyState((uint)USHORT_0047d6d2);
                if (SVar8 == 0) {
                  _DAT_00482b02 = 0;
                }
                SVar8 = GetAsyncKeyState((uint)USHORT_0047d6d4);
                if (SVar8 == 0) {
                  _DAT_00482b04 = 0;
                }
                SVar8 = GetAsyncKeyState((uint)UINT_0047d6ce._2_2_);
                if (SVar8 == 0) {
                  _DAT_00482b06 = 0;
                }
                SVar8 = GetAsyncKeyState((uint)USHORT_0047d6d6);
                if (SVar8 == 0) {
                  _DAT_00482b08 = 0;
                }
                SVar8 = GetAsyncKeyState((uint)USHORT_0047d6d2);
                if (SVar8 != 0) {
                  _DAT_00482b02 = 1;
                }
                SVar8 = GetAsyncKeyState((uint)USHORT_0047d6d4);
                if (SVar8 != 0) {
                  _DAT_00482b04 = 1;
                }
                SVar8 = GetAsyncKeyState((uint)UINT_0047d6ce._2_2_);
                if (SVar8 != 0) {
                  _DAT_00482b06 = 1;
                }
                SVar8 = GetAsyncKeyState((uint)USHORT_0047d6d6);
                if (SVar8 != 0) {
                  _DAT_00482b08 = 1;
                }
              }
            }
            else if ((iVar12 == 1) && ((short)local_124[0x11f3b2] == 0)) {
              iVar12 = (int)local_120 * 0x15;
              if (iVar12 < iVar12 + 4) {
                uVar10 = iVar12 + 4 + (int)local_120 * -0x15;
                puVar26 = (undefined4 *)(&DAT_00482ad8 + (int)local_120 * 0x2a);
                for (uVar32 = uVar10 >> 1; uVar32 != 0; uVar32 -= 1) {
                  *puVar26 = 0;
                  puVar26 = puVar26 + 1;
                }
                for (uVar10 = (uint)((uVar10 & 1) != 0); uVar10 != 0; uVar10 -= 1) {
                  *(undefined2 *)puVar26 = 0;
                  puVar26 = (undefined4 *)((int)puVar26 + 2);
                }
              }
              iVar17 = *(int *)(DAT_0047e2c4 + 4 +
                               (&DAT_0047c7ec)[(&DAT_0047c808)[(int)puVar7 * 0x78] + local_13c] *
                               0x1c);
              psVar20 = (short *)(DAT_0047e2c4 +
                                 (&DAT_0047c7ec)[(&DAT_0047c808)[(int)puVar7 * 0x78] + local_13c] *
                                 0x1c);
              if (iVar17 < DAT_0047d6c4) {
                iVar17 = DAT_0047d6c4 - iVar17;
                bVar35 = SBORROW4(iVar17,(uint)*(ushort *)(local_124 + 0x11f3de));
                iVar17 -= (uint)*(ushort *)(local_124 + 0x11f3de);
              }
              else {
                uVar10 = (uint)(1000 / (ulonglong)DAT_0047ac90);
                if (uVar10 < 0x11) {
                  uVar10 = 0x11;
                }
                bVar35 = SBORROW4(*(int *)(psVar20 + 2) - DAT_0047d6c4,uVar10);
                iVar17 = (*(int *)(psVar20 + 2) - DAT_0047d6c4) - uVar10;
              }
              if (((bVar35 != iVar17 < 0) && ((ushort)psVar20[1] < 5)) && (*psVar20 == 0)) {
                uVar10 = (ushort)psVar20[1] & 0x80000001;
                uVar25 = *(ushort *)(&DAT_00482aa0 + (int)local_120 * 2);
                if (false) {
                  uVar10 = (uVar10 - 1 | 0xfffffffe) + 1;
                }
                *(undefined2 *)(&DAT_00482ad8 + (iVar12 + uVar10 * 2 + (uint)uVar25) * 2) = 1;
                if (((ushort)psVar20[1] & 0xfffe) == 2) {
                  uVar10 = (ushort)psVar20[1] & 0x80000001;
                  if (false) {
                    uVar10 = (uVar10 - 1 | 0xfffffffe) + 1;
                  }
                  *(undefined2 *)(&DAT_00482ada + ((uVar10 * 2 - (uint)uVar25) + iVar12) * 2) = 1;
                }
                sVar9 = psVar20[1];
                if (((sVar9 == 4) || (sVar9 == 5)) || ((sVar9 == 6 || (sVar9 == 8)))) {
                  *(undefined4 *)(&DAT_0047c8fc + iVar29) = 1;
                }
              }
              if (*(int *)(&DAT_0047c8fc + iVar29) == 1) {
                iVar17 = (&DAT_0047c7ec)[(&DAT_0047c808)[(int)puVar7 * 0x78] + local_13c];
                uVar10 = iVar17 - 1;
                if ((int)uVar10 <
                    (int)(uint)(ushort)(&DAT_0047cefe)[(&DAT_0047c808)[(int)puVar7 * 0x78] + iVar2 9]
                   ) {
                  uVar10 = (uint)(ushort)(&DAT_0047cefe)
                                         [(&DAT_0047c808)[(int)puVar7 * 0x78] + iVar29];
                }
                iVar19 = DAT_0047e2c4 + uVar10 * 0x1c;
                if (*(int *)(iVar19 + 4) <= DAT_0047d6c4) {
                  uVar10 = (&DAT_0047c7fc)[(int)puVar7 * 0x78];
                  local_128 = (ushort *)(local_12c - uVar10);
                  dVar1 = (double)(int)local_128;
                  if ((int)local_128 < 0) {
                    dVar1 = dVar1 + 4294967296.0;
                  }
                  if (((_DAT_0047ac88 * 60.0 < dVar1 == (NAN(_DAT_0047ac88 * 60.0) || NAN(dVar1)))
                      || (*(short *)(iVar19 + 2) == 6)) || (*(short *)(iVar19 + 2) == 8)) {
                    if (local_12c < uVar10) {
LAB_00426156:
                      *(undefined2 *)
                       (&DAT_00482ad8 +
                       ((uint)*(ushort *)(&DAT_00482aa0 + (int)local_120 * 2) + iVar12) * 2) = 0;
                      goto LAB_00426172;
                    }
                    if ((*(short *)(iVar19 + 2) == 6) && (*(short *)(iVar19 + 0x10) != 0)) {
                      local_154 = (double)CONCAT44((int)local_120 * 2,(undefined4)local_154);
                      *(undefined2 *)
                       (&DAT_00482ad8 +
                       ((uint)*(ushort *)(&DAT_00482aa0 + (int)local_120 * 2) + iVar12) * 2) = 1;
                      uVar10 = *(int *)(DAT_0047e2c4 + 4 + iVar17 * 0x1c) - DAT_0047d6c4;
                      local_118 = (uint)*(ushort *)(iVar19 + 0x10);
                      uVar38 = FUN_0045db50(iVar19,((int)uVar10 < 0) - 1 & uVar10);
                      iVar17 = 4;
                      if (3 < (int)uVar38) {
                        iVar17 = (int)uVar38;
                      }
                      (&DAT_0047c7fc)[(int)puVar7 * 0x78] =
                           (iVar17 - (int)(1000 / (ulonglong)DAT_0047ac90)) + -5 + local_12c;
                      iVar17 = (int)local_154._4_4_;
                    }
                    else {
                      if ((local_12c < uVar10) ||
                         ((*(short *)(iVar19 + 2) != 8 || (DAT_0047e4e8 == 0)))) goto LAB_00426156;
                      iVar17 = (int)local_120 * 2;
                      *(undefined2 *)
                       (&DAT_00482ad8 +
                       ((uint)*(ushort *)(&DAT_00482aa0 + (int)local_120 * 2) + iVar12) * 2) = 1;
                      local_118 = *(int *)(iVar19 + 0x14) - DAT_0047d6c4;
                      local_118 = ((int)local_118 < 0) - 1 & local_118;
                      uVar38 = FUN_0045db50(local_118,DAT_0047e4e8);
                      iVar19 = 4;
                      if (3 < (int)uVar38) {
                        iVar19 = (int)uVar38;
                      }
                      (&DAT_0047c7fc)[(int)puVar7 * 0x78] =
                           (iVar19 - (int)(1000 / (ulonglong)DAT_0047ac90)) + -5 + local_12c;
                    }
                  }
                  else {
                    *(undefined2 *)
                     (&DAT_00482ad8 +
                     ((uint)*(ushort *)(&DAT_00482aa0 + (int)local_120 * 2) + iVar12) * 2) = 1;
                    (&DAT_0047c7fc)[(int)puVar7 * 0x78] = local_12c;
LAB_00426172:
                    iVar17 = (int)local_120 * 2;
                  }
                  local_118 = rand();
                  uVar38 = FUN_0045db50(extraout_ECX_06,extraout_EDX_06);
                  if (DAT_0047ace0 < (int)uVar38) {
                    *(undefined2 *)
                     (&DAT_00482ad8 + ((uint)*(ushort *)(&DAT_00482aa0 + iVar17) + iVar12) * 2) = 0;
                  }
                }
              }
            }
            dVar1 = (double)(&DAT_0047c778)[(int)puVar7 * 0x3c];
            local_154 = (double)CONCAT44((int)local_120 * 0xf0,(undefined4)local_154);
            local_118 = (uint)(ushort)(&DAT_0047c7b0)
                                      [(&DAT_0047c804)[(int)puVar7 * 0x78] + (int)local_120 * 0xf0 ];
            dVar2 = (double)local_118 * (double)(&DAT_0047acb0)[(int)local_120] +
                    (double)local_118 * (double)(&DAT_0047acb0)[(int)local_120] + 1.0;
            if (dVar2 < dVar1) {
              dVar1 = dVar2;
            }
            (&DAT_0047c778)[(int)puVar7 * 0x3c] = dVar1;
            local_148 = (ushort *)((int)local_120 * 0x15);
            puVar31 = local_120;
            local_138 = local_148;
            if ((int)local_148 < (int)(local_148 + 2)) {
              do {
                dVar1 = 1.0;
                if ((((*(short *)(&DAT_00482ad8 + (int)local_138 * 2) == 0) &&
                     (*(undefined4 *)(&DAT_0047d650 + ((int)local_138 + (int)puVar31 * -0x11) * 4)  =
                           0, true)) ||
                    (*(int *)(&DAT_0047d650 + ((int)local_138 + (int)puVar31 * -0x11) * 4) != 0)) ||
                   ((short)local_124[0x11f3b2] != 0)) {
                  if ((short)local_124[0x11f3b2] != 0) {
                    uVar32 = (uint)(1000 / (ulonglong)DAT_0047ac90);
                    uVar10 = 0x11;
                    if (0x10 < uVar32) {
                      uVar10 = uVar32;
                    }
                    if (((int)(*(int *)(DAT_0047e2c4 + 4 +
                                       (&DAT_0047c7ec)
                                       [(&DAT_0047c808)[(int)puVar7 * 0x78] + local_13c] * 0x1c) -
                              uVar10) < DAT_0047d6c4) && ((&DAT_0047c908)[(int)puVar7 * 0x78] == 1 ))
                    goto LAB_00426302;
                  }
                  goto LAB_00427666;
                }
LAB_00426302:
                if ((&DAT_0047c908)[(int)puVar7 * 0x78] == 1) {
                  uVar25 = *(short *)(&DAT_00482aa0 + (int)puVar31 * 2) + 1U & 1;
                  if (false) {
                    uVar25 = (uVar25 - 1 | 0xfffe) + 1;
                  }
                  *(ushort *)(&DAT_00482aa0 + (int)puVar31 * 2) = uVar25;
                }
                local_130 = (uint *)(((&DAT_0047c808)[(int)puVar7 * 0x78] + local_13c) * 4);
                local_134 = (ushort *)
                            (DAT_0047e2c4 +
                            (&DAT_0047c7ec)[(&DAT_0047c808)[(int)puVar7 * 0x78] + local_13c] * 0x1 c)
                ;
                uVar10 = *(int *)(local_134 + 2) - DAT_0047d6c4 >> 0x1f;
                iVar12 = (*(int *)(local_134 + 2) - DAT_0047d6c4 ^ uVar10) - uVar10;
                if ((iVar12 < (int)(uint)(*(ushort *)(local_124 + 0x11f3de) >> 1)) ||
                   ((&DAT_0047c908)[(int)puVar7 * 0x78] == 1)) {
                  uVar10 = local_134[1] & 0x80000001;
                  if (false) {
                    uVar10 = (uVar10 - 1 | 0xfffffffe) + 1;
                  }
                  if ((((uVar10 != ((int)local_138 - (int)local_148) / 2) || (3 < local_134[1])) & &
                      ((short)local_124[0x11f3b2] == 0)) ||
                     ((uVar25 = *local_134, uVar25 != 0 && (uVar25 < 3)))) goto LAB_00426e5d;
                  if (uVar25 < 3) {
                    local_134[8] = 0;
                  }
                  *(undefined2 *)(&DAT_0047c89c + iVar29) = 0;
                  *(undefined2 *)(&DAT_0047c89e + iVar29) = 0;
                  uVar10 = *(int *)(DAT_0047e2c4 + 4 +
                                   (&DAT_0047c7ec)[(&DAT_0047c808)[(int)puVar7 * 0x78] + local_13c ]
                                   * 0x1c) - DAT_0047d6c4;
                  uVar32 = (int)uVar10 >> 0x1f;
                  if (((int)(uint)(*(ushort *)((int)local_124 + 0x47cf76) >> 1) <
                       (int)((uVar10 ^ uVar32) - uVar32)) &&
                     ((&DAT_0047c908)[(int)puVar7 * 0x78] != 1)) {
                    local_144 = 0.5;
                    if (DAT_0047e2d8 == 1) {
                      local_144 = 0.33;
                    }
                    puVar33 = &DAT_0047c890 + (int)puVar31 * 0xf1;
                    *puVar33 = 1;
                    local_130 = &DAT_0047c894 + (int)puVar31 * 0x79;
                    *local_130 = local_12c;
                  }
                  else {
                    local_144 = 1.0;
                    puVar33 = &DAT_0047c890 + (int)puVar31 * 0xf1;
                    *puVar33 = 2;
                    local_130 = &DAT_0047c894 + (int)puVar31 * 0x79;
                    *local_130 = local_12c;
                  }
                  local_134 = puVar33;
                  local_118 = rand();
                  uVar38 = FUN_0045db50(extraout_ECX_07,extraout_EDX_07);
                  if ((DAT_0047ace0 < (int)uVar38) && ((&DAT_0047c908)[(int)puVar7 * 0x78] == 1)) {
                    fVar36 = (float10)local_144 * (float10)0.5;
                    if (DAT_0047e2d8 == 1) {
                      fVar36 = (float10)0.33;
                    }
                    local_144 = (double)fVar36;
                    *puVar33 = *puVar33 >> 1;
                  }
                  else {
                    fVar36 = (float10)local_144;
                  }
                  if (4 < *(ushort *)
                           (DAT_0047e2c4 +
                           (&DAT_0047c7ec)[(&DAT_0047c808)[(int)puVar7 * 0x78] + local_13c] * 0x1c ))
                  {
                    fVar36 = (float10)1;
                    local_144 = (double)fVar36;
                  }
                  if ((short)local_124[0x11f3b2] != 0) {
                    local_128 = (ushort *)(local_12c - *(int *)(&DAT_0047c800 + iVar29));
                    dVar1 = (double)(int)local_128;
                    if ((int)local_128 < 0) {
                      dVar1 = dVar1 + 4294967296.0;
                    }
                    if (_DAT_0047ac88 * 10.0 < dVar1 != (NAN(_DAT_0047ac88 * 10.0) || NAN(dVar1)))  {
                      iVar12 = (&DAT_00482a90)[(int)puVar31];
                      if ((&DAT_0047c2c0)[iVar12 * 8] != 0) {
                        pHVar39 = (HWAVEOUT)(&DAT_0047bae8)[iVar12];
                        *(uint *)(&DAT_0047c800 + iVar29) = local_12c;
                        waveOutWrite(pHVar39,(LPWAVEHDR)(&DAT_0047c2c0 + iVar12 * 8),0x20);
                        fVar36 = (float10)local_144;
                        (&DAT_00482a90)[(int)puVar31] =
                             ((&DAT_00482a90)[(int)puVar31] + 1) %
                             (int)(uint)*(ushort *)(local_124 + 0x11f4a1) + (int)puVar31 * 0x10;
                      }
                    }
                    if ((short)local_124[0x11f3b2] == 2) {
                      iVar12 = DAT_0047e2c4 +
                               (&DAT_0047c7ec)[(&DAT_0047c808)[(int)puVar7 * 0x78] + local_13c] *
                               0x1c;
                      puVar33 = (ushort *)(iVar12 + 2);
                      if (*(ushort *)(iVar12 + 2) < 8) {
                        local_11c = *(int *)(iVar12 + 4);
                        iVar12 = (&DAT_0047c808)[(int)puVar7 * 0x78] + iVar29;
                        iVar17 = (uint)(ushort)(&DAT_0047cef8)[iVar12] +
                                 (uint)(ushort)(&DAT_0047cefe)[iVar12];
                        local_118 = 0;
                        iVar12 = (&DAT_0047c7ec)[(&DAT_0047c808)[(int)puVar7 * 0x78] + local_13c] +
                                 2;
                        do {
                          if ((((iVar17 <= iVar12 + -2) || (*(int *)(puVar33 + 1) != local_11c)) ||
                              (*(uint *)(&DAT_0047e558 + (uint)*puVar33 * 4) = local_12c,
                              puVar31 = local_120, iVar17 <= iVar12 + -1)) ||
                             (((*(int *)(puVar33 + 0xf) != local_11c ||
                               (*(uint *)(&DAT_0047e558 + (uint)puVar33[0xe] * 4) = local_12c,
                               iVar17 <= iVar12)) ||
                              ((*(int *)(puVar33 + 0x1d) != local_11c ||
                               ((*(uint *)(&DAT_0047e558 + (uint)puVar33[0x1c] * 4) = local_12c,
                                iVar17 <= iVar12 + 1 || (*(int *)(puVar33 + 0x2b) != local_11c))))) )
                             )) break;
                          *(uint *)(&DAT_0047e558 + (uint)puVar33[0x2a] * 4) = local_12c;
                          local_118 += 4;
                          puVar33 = puVar33 + 0x38;
                          iVar12 += 4;
                        } while ((int)local_118 < 8);
                      }
                    }
                  }
                  iVar12 = local_13c;
                  if (DAT_0047e2d8 == 0) {
                    iVar17 = (&DAT_0047c808)[(int)puVar7 * 0x78];
                    iVar19 = local_13c + iVar17;
                    if ((&DAT_0047c7d8)[iVar19] == 1) {
                      bVar35 = *(uint *)(DAT_0047e2c4 + 4 + (&DAT_0047c7ec)[iVar19] * 0x1c) <
                               *(uint *)(local_124[0x11f3b7] + 4 +
                                        (uint)(ushort)(&DAT_0047c8c0)[iVar17 + (int)local_154._4_4 _]
                                        * 0x18);
LAB_00426829:
                      if (bVar35) {
                        fVar36 = fVar36 * (float10)1.2;
                      }
                    }
                    else {
                      local_118 = (uint)(ushort)(&DAT_0047cf2c)[iVar17 + iVar29];
                      if (((&DAT_0047cf2c)[iVar17 + iVar29] != 0) &&
                         ((uint)(ushort)(&DAT_0047c8c0)[iVar17 + (int)local_154._4_4_] !=
                          (ushort)(&DAT_0047cf32)[iVar17 + iVar29] + local_118)) {
                        puVar27 = (uint *)(local_124[0x11f3b7] +
                                          (uint)(ushort)(&DAT_0047c8c0)
                                                        [iVar17 + (int)local_154._4_4_] * 0x18);
                        uVar10 = *(uint *)(DAT_0047e2c4 + 4 + (&DAT_0047c7ec)[iVar19] * 0x1c);
                        if (*puVar27 <= uVar10) {
                          bVar35 = uVar10 < puVar27[1];
                          goto LAB_00426829;
                        }
                      }
                    }
                  }
                  puVar33 = (ushort *)
                            (DAT_0047e2c4 +
                            (&DAT_0047c7ec)[(&DAT_0047c808)[(int)puVar7 * 0x78] + local_13c] * 0x1 c)
                  ;
                  if (puVar33[1] >> 1 == 1) {
                    if (*puVar33 == 0) {
                      uVar10 = (uint)local_138 & 0x80000001;
                      if ((int)uVar10 < 0) {
                        uVar10 = (uVar10 - 1 | 0xfffffffe) + 1;
                      }
                      local_11c = CONCAT22(in_FPUControlWord,(undefined2)local_11c);
                      local_118 = (uint)ROUND(fVar36);
                      uVar25 = (short)uVar10 + (ushort)local_118 * 2 + 3;
                      *puVar33 = uVar25;
                      uVar38 = FUN_0045db50(DAT_0047ac90,CONCAT22((short)(uVar10 >> 0x10),uVar25)) ;
                      iVar17 = DAT_0047e2c4;
                      local_118 = 1;
                      if (0 < (int)uVar38) {
                        local_118 = (int)uVar38;
                      }
                      local_11c = CONCAT22(in_FPUControlWord,(undefined2)local_11c);
                      local_118 = (uint)ROUND((double)(int)local_118 * _DAT_0047ac88);
                      *(ushort *)
                       (DAT_0047e2c4 + 0x10 +
                       (&DAT_0047c7ec)[(&DAT_0047c808)[(int)puVar7 * 0x78] + iVar12] * 0x1c) =
                           (ushort)local_118;
                      *local_130 = local_12c - 1000;
                      sVar9 = *(short *)(iVar17 + 2 +
                                        (&DAT_0047c7ec)
                                        [(&DAT_0047c808)[(int)puVar7 * 0x78] + iVar12] * 0x1c);
                      puVar33 = (ushort *)
                                (iVar17 + (&DAT_0047c7ec)
                                          [(&DAT_0047c808)[(int)puVar7 * 0x78] + iVar12] * 0x1c);
                      fVar36 = extraout_ST0_01;
                      if (((sVar9 == 2) && (DAT_0047d720 != 0)) ||
                         ((sVar9 == 3 && (DAT_0047beb8 != 0)))) {
                        iVar17 = (uint)*(ushort *)(&DAT_00482aa0 + (int)puVar31 * 2) +
                                 (int)puVar31 * 2;
                        sVar9 = 2;
LAB_00426a99:
                        (&local_10)[iVar17] = sVar9;
                      }
                      goto LAB_00426a9e;
                    }
                    if (false) goto LAB_00426a9e;
                    bVar35 = puVar33[8] == 0;
                    if (!bVar35) {
                      uVar10 = *puVar33 & 0x80000001;
                      if (false) {
                        uVar10 = (uVar10 - 1 | 0xfffffffe) + 1;
                      }
                      uVar32 = (uint)local_138 & 0x80000001;
                      if ((int)uVar32 < 0) {
                        uVar32 = (uVar32 - 1 | 0xfffffffe) + 1;
                      }
                      if (uVar10 == uVar32) {
                        if ((DAT_0047e2d8 == 1) && (*local_134 == 1)) {
                          fVar36 = (float10)0.33;
                        }
                        puVar33[8] = 0;
                        *(undefined2 *)(&DAT_0047c89c + iVar29) = 1;
                        *(undefined2 *)(&DAT_0047c89e + iVar29) = 1;
                        sVar9 = *(short *)(DAT_0047e2c4 + 2 +
                                          (&DAT_0047c7ec)
                                          [(&DAT_0047c808)[(int)puVar7 * 0x78] + local_13c] * 0x1c );
                        puVar33 = (ushort *)
                                  (DAT_0047e2c4 +
                                  (&DAT_0047c7ec)[(&DAT_0047c808)[(int)puVar7 * 0x78] + local_13c]  *
                                  0x1c);
                        if (((sVar9 == 2) && (DAT_0047d720 != 0)) ||
                           ((sVar9 == 3 && (DAT_0047beb8 != 0)))) {
                          iVar17 = (uint)*(ushort *)(&DAT_00482aa0 + (int)puVar31 * 2) +
                                   (int)puVar31 * 2;
                          sVar9 = 0;
                          goto LAB_00426a99;
                        }
                      }
                      goto LAB_00426a9e;
                    }
                  }
                  else {
LAB_00426a9e:
                    bVar35 = puVar33[8] == 0;
                  }
                  if (bVar35) {
                    (&DAT_0047c778)[(int)puVar7 * 0x3c] =
                         (double)(fVar36 + fVar36 +
                                 (float10)(double)(&DAT_0047c778)[(int)puVar7 * 0x3c]);
                    *(undefined2 *)
                     (DAT_0047e2c4 +
                     (&DAT_0047c7ec)[(&DAT_0047c808)[(int)puVar7 * 0x78] + iVar12] * 0x1c) = 1;
                    (&DAT_0047c770)[(int)puVar7 * 0x78] = (&DAT_0047c770)[(int)puVar7 * 0x78] + 1;
                    (&DAT_0047c8ec)[(int)local_154._4_4_ - (uint)*local_134] =
                         (&DAT_0047c8ec)[(int)local_154._4_4_ - (uint)*local_134] + 1;
                    local_118 = 1;
                    uVar10 = 1;
                    uVar32 = (&DAT_0047c850)[(int)puVar7 * 0x78] + 1 & 7;
                    (&DAT_0047c850)[(int)puVar7 * 0x78] = uVar32;
                    if ((*(ushort *)
                          (DAT_0047e2c4 + 2 +
                          (&DAT_0047c7ec)[(&DAT_0047c808)[(int)puVar7 * 0x78] + iVar12] * 0x1c) &
                        0xfffe) == 2) {
                      local_118 = 2;
                    }
                    sVar9 = (&DAT_0047c752)[(int)puVar7 * 0xf0];
                    if (sVar9 == 1) {
                      uVar10 = (uint)(&DAT_0047c770)[(int)puVar7 * 0x78] / 10;
                      if (10 < uVar10) {
                        uVar10 = 10;
                      }
                    }
                    else if (sVar9 == 0) {
                      uVar10 = (uint)(&DAT_0047c770)[(int)puVar7 * 0x78] / 200;
                      if (1 < uVar10) {
                        uVar10 = 1;
                      }
                    }
                    else if (sVar9 == 2) {
                      uVar10 = (&DAT_0047c770)[(int)puVar7 * 0x78];
                      if (uVar10 < 10) {
                        uVar10 = 0;
                      }
                      else if (uVar10 < 0x1e) {
                        uVar10 = 1;
                      }
                      else if (uVar10 < 0x32) {
                        uVar10 = 2;
                      }
                      else {
                        uVar10 = (-(uint)(uVar10 < 100) & 0xfffffffc) + 8;
                      }
                    }
                    iVar12 = (&DAT_0047c788)[(int)puVar7 * 0x78] * uVar10 +
                             (&DAT_0047c784)[(int)puVar7 * 0x78];
                    fVar37 = (float10)iVar12;
                    if (iVar12 < 0) {
                      fVar37 = fVar37 + (float10)4294967296.0;
                    }
                    local_144._0_4_ = (int)(longlong)ROUND(fVar37 / (float10)10.0);
                    fVar37 = (float10)(local_144._0_4_ * 10);
                    if (local_144._0_4_ * 10 < 0) {
                      fVar37 = fVar37 + (float10)4294967296.0;
                    }
                    local_11c = CONCAT22(in_FPUControlWord,(undefined2)local_11c);
                    local_144 = (double)(longlong)
                                        ROUND(((float10)local_118 * fVar37 * fVar36) / (float10)10. 0
                                             );
                    (&DAT_0047c810)[uVar32 + local_13c] = local_144._0_4_ * 10;
                    if ((((&DAT_0047c752)[(int)puVar7 * 0xf0] == 2) &&
                        ((int)((ulonglong)(uint)(&DAT_0047c770)[(int)puVar7 * 0x78] % 100) == 0)) &&
                       (DAT_0047e2d8 ==
                        (ushort)((ulonglong)(uint)(&DAT_0047c770)[(int)puVar7 * 0x78] % 100))) {
                      (&DAT_0047c768)[(int)puVar7 * 0x78] =
                           (&DAT_0047c768)[(int)puVar7 * 0x78] + 10000;
                    }
                    (&DAT_0047c830)[(&DAT_0047c850)[(int)puVar7 * 0x78] + local_13c] = *local_130;
                    uVar25 = *(ushort *)(&DAT_0047c762 + iVar29);
                    iVar12 = (uint)uVar25 + (int)puVar31 * 4;
                    *(uint *)(&DAT_0047b6d0 + (int)puVar31 * 4) = local_12c;
                    *(uint *)(&DAT_0047bdec + iVar12 * 8) = local_12c;
                    iVar12 *= 8;
                    *(ushort *)(&DAT_0047bdea + iVar12) = *local_134;
                    uVar25 = uVar25 + 1 & 3;
                    *(ushort *)(&DAT_0047bde8 + iVar12) =
                         *(ushort *)
                          (DAT_0047e2c4 + 2 +
                          (&DAT_0047c7ec)[(&DAT_0047c808)[(int)puVar7 * 0x78] + local_13c] * 0x1c)
                         >> 1;
                    if (false) {
                      uVar25 = (uVar25 - 1 | 0xfffc) + 1;
                    }
                    *(ushort *)(&DAT_0047c762 + iVar29) = uVar25;
                    uVar25 = *(ushort *)(&DAT_0047c760 + iVar29);
                    *(uint *)(&DAT_0047d718 + (int)puVar31 * 4) = local_12c;
                    iVar12 = ((int)puVar31 * 0x20 + (uint)uVar25) * 0x10;
                    *(uint *)(&DAT_0047b18c + iVar12) = local_12c;
                    uVar25 = uVar25 + 1 & 0x1f;
                    *(undefined2 *)(&DAT_0047b188 + iVar12) =
                         *(undefined2 *)
                          (DAT_0047e2c4 + 2 +
                          (&DAT_0047c7ec)[(&DAT_0047c808)[(int)puVar7 * 0x78] + local_13c] * 0x1c) ;
                    if (false) {
                      uVar25 = (uVar25 - 1 | 0xffe0) + 1;
                    }
                    *(ushort *)(&DAT_0047c760 + iVar29) = uVar25;
                    *(uint *)(&DAT_0047c884 + iVar29) = local_12c;
                    sVar9 = *(short *)((int)local_124 + 0x47cf62);
                    *(uint *)(&DAT_0047c8e0 + iVar29) =
                         *(int *)(&DAT_0047c8e0 + iVar29) + (uint)*local_134;
                    (&DAT_0047c8e4)[(int)puVar7 * 0x78] = (&DAT_0047c8e4)[(int)puVar7 * 0x78] + 2;
                    if (sVar9 != 0) {
                      if (sVar9 == 1) {
                        if (DAT_0047e2d4 == 0) {
                          iVar12 = ((ushort)(&DAT_0047c916)[(int)puVar7 * 0xf0] - 0x10) +
                                   (uint)*local_134 * 0x10;
                        }
                        else {
                          if (false) goto LAB_00426e34;
                          iVar12 = ((ushort)(&DAT_0047c916)[(int)puVar7 * 0xf0] - 4) +
                                   (uint)*local_134 * 4;
                        }
                      }
                      else {
LAB_00426e34:
                        iVar12 = ((ushort)(&DAT_0047c916)[(int)puVar7 * 0xf0] - 8) +
                                 (uint)*local_134 * 0xc;
                      }
                      if (10000 < iVar12) {
                        iVar12 = 10000;
                      }
                      (&DAT_0047c916)[(int)puVar7 * 0xf0] = (short)iVar12;
                    }
                  }
                }
                else {
LAB_00426e5d:
                  if (iVar12 < (int)(uint)(*(ushort *)((int)local_124 + 0x47cf7a) >> 1)) {
                    uVar10 = local_134[1] & 0x80000001;
                    if (false) {
                      uVar10 = (uVar10 - 1 | 0xfffffffe) + 1;
                    }
                    if (((uVar10 == ((int)local_138 - (int)local_148) / 2) && (local_134[1] < 4)) &&
                       ((*local_134 == 0 && ((&DAT_0047c908)[(int)puVar7 * 0x78] == 0)))) {
                      dVar1 = (double)(&DAT_0047c778)[(int)puVar7 * 0x3c] - 4.0;
                      if (dVar1 < 0.0) {
                        dVar1 = 0.0;
                      }
                      (&DAT_0047c778)[(int)puVar7 * 0x3c] = dVar1;
                      *(undefined2 *)
                       (DAT_0047e2c4 +
                       (&DAT_0047c7ec)[(&DAT_0047c808)[(int)puVar7 * 0x78] + local_13c] * 0x1c) = 1;
                      (&DAT_0047c770)[(int)puVar7 * 0x78] = 0;
                      (&DAT_0047c8ec)[(int)puVar7 * 0xf0] = (&DAT_0047c8ec)[(int)puVar7 * 0xf0] + 1;
                      (&DAT_0047c8e4)[(int)puVar7 * 0x78] = (&DAT_0047c8e4)[(int)puVar7 * 0x78] + 2;
                      (&DAT_0047c890)[(int)puVar31 * 0xf1] = 0;
                      (&DAT_0047c894)[(int)puVar31 * 0x79] = local_12c;
                      if ((&DAT_0047c914)[(int)puVar7 * 0xf0] != 0) {
                        uVar25 = (&DAT_0047c916)[(int)puVar7 * 0xf0];
                        if (uVar25 != 0) {
                          if (*(short *)((int)local_124 + 0x47cf62) == 0) {
                            (&DAT_0047c916)[(int)puVar7 * 0xf0] = uVar25 - 1;
                          }
                          else if (*(short *)((int)local_124 + 0x47cf62) == 1) {
                            iVar12 = uVar25 - 900;
                            (&DAT_0047c916)[(int)puVar7 * 0xf0] = (ushort)iVar12 & (iVar12 < 0) - 1;
                          }
                          else {
                            iVar12 = uVar25 - 0xfa;
                            (&DAT_0047c916)[(int)puVar7 * 0xf0] = (ushort)iVar12 & (iVar12 < 0) - 1;
                          }
                        }
                      }
                      goto LAB_00427666;
                    }
                  }
                  if (*(int *)(&DAT_0047c8fc + iVar29) == 1) {
                    uVar10 = (uint)(ushort)(&DAT_0047cefe)
                                           [(&DAT_0047c808)[(int)puVar7 * 0x78] + iVar29];
                    local_118 = (&DAT_0047c7ec)[(&DAT_0047c808)[(int)puVar7 * 0x78] + local_13c] -  1
                    ;
                    uVar32 = local_118;
                    if ((int)local_118 < (int)uVar10) {
                      uVar32 = uVar10;
                    }
                    if ((int)(*(int *)(DAT_0047e2c4 + 4 + uVar32 * 0x1c) -
                             (uint)(*(ushort *)((int)local_124 + 0x47cf76) >> 1)) <= DAT_0047d6c4)  {
                      if ((int)uVar10 <= (int)local_118) {
                        uVar10 = local_118;
                      }
                      if ((local_130[0x11f1f6] == 1) && (DAT_0047e2d8 == 0)) {
                        dVar1 = 1.2;
                      }
                      uVar25 = *(ushort *)(DAT_0047e2c4 + 2 + uVar10 * 0x1c);
                      iVar12 = DAT_0047e2c4 + uVar10 * 0x1c;
                      if (uVar25 < 6) {
                        local_118 = 300;
                        if ((DAT_0047e2d8 == 1) || ((&DAT_0047c752)[(int)puVar7 * 0xf0] == 2)) {
                          local_118 = 100;
                        }
                        if (uVar25 == 5) {
                          if (DAT_0047e2d8 == 1) {
                            dVar1 = dVar1 * 1.5;
                          }
                          else if ((&DAT_0047c752)[(int)puVar7 * 0xf0] == 2) {
                            dVar1 = dVar1 + dVar1;
                          }
                          else {
                            dVar1 = dVar1 * 1.2;
                          }
                        }
                        if ((&DAT_0047c908)[(int)puVar7 * 0x78] == 0) {
                          (&DAT_0047c7fc)[(int)puVar7 * 0x78] = local_12c;
                        }
                        dVar2 = (double)(int)(local_12c - (&DAT_0047c894)[(int)puVar31 * 0x79]);
                        if ((int)(local_12c - (&DAT_0047c894)[(int)puVar31 * 0x79]) < 0) {
                          dVar2 = dVar2 + 4294967296.0;
                        }
                        if (_DAT_0047ac88 * 500.0 < dVar2 !=
                            (NAN(_DAT_0047ac88 * 500.0) || NAN(dVar2))) {
                          (&DAT_0047c890)[(int)puVar31 * 0xf1] = 2;
                        }
                        *(short *)(iVar12 + 0x10) = *(short *)(iVar12 + 0x10) + 1;
                        (&DAT_0047c7f8)[(int)puVar7 * 0xf0] = *(undefined2 *)(iVar12 + 0x10);
                        local_11c = CONCAT22(in_FPUControlWord,(undefined2)local_11c);
                        uVar10 = (&DAT_0047c850)[(int)puVar7 * 0x78] + 1 & 7;
                        (&DAT_0047c850)[(int)puVar7 * 0x78] = uVar10;
                        local_144 = (double)(longlong)ROUND((dVar1 * (double)local_118) / 10.0);
                        (&DAT_0047c810)[uVar10 + local_13c] = local_144._0_4_ * 10;
                        (&DAT_0047c830)[(&DAT_0047c850)[(int)puVar7 * 0x78] + local_13c] = local_1 2c
                        ;
                        (&DAT_0047c8f4)[(int)puVar7 * 0xf0] =
                             (&DAT_0047c8f4)[(int)puVar7 * 0xf0] + 1;
                        uVar25 = *(ushort *)(&DAT_0047c760 + iVar29);
                        *(uint *)(&DAT_0047d718 + (int)puVar31 * 4) = local_12c;
                        uVar10 = uVar25 + 0x1f & 0x8000001f;
                        if (false) {
                          uVar10 = (uVar10 - 1 | 0xffffffe0) + 1;
                        }
                        dVar1 = (double)*(int *)(&DAT_0047b18c +
                                                (uVar10 + (int)puVar31 * 0x20) * 0x10);
                        if (*(int *)(&DAT_0047b18c + (uVar10 + (int)puVar31 * 0x20) * 0x10) < 0) {
                          dVar1 = dVar1 + 4294967296.0;
                        }
                        dVar2 = (double)(int)local_12c;
                        if ((int)local_12c < 0) {
                          dVar2 = dVar2 + 4294967296.0;
                        }
                        if (_DAT_0047ac88 * 75.0 + dVar1 < dVar2) {
                          iVar17 = ((int)puVar31 * 0x20 + (uint)uVar25) * 0x10;
                          *(uint *)(&DAT_0047b18c + iVar17) = local_12c;
                          *(undefined2 *)(&DAT_0047b188 + iVar17) = 0;
                          if (*(short *)(iVar12 + 2) == 5) {
                            *(undefined2 *)(&DAT_0047b188 + iVar17) = 2;
                          }
                          if (1 < (int)local_138 - (int)local_148) {
                            *(short *)(&DAT_0047b188 + iVar17) =
                                 *(short *)(&DAT_0047b188 + iVar17) + 1;
                          }
                          uVar25 = uVar25 + 1 & 0x1f;
                          if (false) {
                            uVar25 = (uVar25 - 1 | 0xffe0) + 1;
                          }
                          *(ushort *)(&DAT_0047c760 + iVar29) = uVar25;
                        }
                        (&DAT_0047c888)[(int)puVar7 * 0x78] = local_12c;
                        *(int *)(&DAT_0047c8dc + iVar29) = *(int *)(&DAT_0047c8dc + iVar29) + 1;
                      }
                      else if (((uVar25 == 6) || (uVar25 == 8)) &&
                              ((int)local_138 - (int)local_148 < 2)) {
                        local_134[-6] =
                             ((int)(local_134[-6] - 1) < 0) - 1 & (ushort)(local_134[-6] - 1);
                        if ((&DAT_0047c900)[(int)puVar7 * 0x78] == 1) {
                          DAT_0047e4e8 += -1;
                          *(undefined2 *)
                           (DAT_0047e2c4 + -0xc +
                           (&DAT_0047c7ec)[(&DAT_0047c808)[(int)puVar7 * 0x78] + local_13c] * 0x1c )
                               = (undefined2)DAT_0047e4e8;
                        }
                        (&DAT_0047c7f8)[(int)puVar7 * 0xf0] = 0;
                        *(uint *)(&DAT_0047d718 + (int)puVar31 * 4) = local_12c;
                        (&DAT_0047c888)[(int)puVar7 * 0x78] = local_12c;
                        if ((*(short *)(iVar12 + 0x10) != 0) ||
                           (bVar35 = (&DAT_0047c900)[(int)puVar7 * 0x78] == 0, !bVar35)) {
                          if ((DAT_0047e4e8 != 0) || ((&DAT_0047c900)[(int)puVar7 * 0x78] != 1)) {
                            local_11c = CONCAT22(in_FPUControlWord,(undefined2)local_11c);
                            uVar10 = (&DAT_0047c850)[(int)puVar7 * 0x78] + 1 & 7;
                            (&DAT_0047c850)[(int)puVar7 * 0x78] = uVar10;
                            local_144 = (double)(longlong)ROUND((dVar1 * 300.0) / 10.0);
                            (&DAT_0047c810)[uVar10 + local_13c] = local_144._0_4_ * 10;
                            (&DAT_0047c830)[(&DAT_0047c850)[(int)puVar7 * 0x78] + local_13c] =
                                 local_12c;
                            goto LAB_00427666;
                          }
                          bVar35 = false;
                        }
                        if ((bVar35) || (DAT_0047e2c8 == 1)) {
                          local_130 = (uint *)0x1;
                        }
                        else {
                          local_130 = (uint *)(2 - (uint)((&DAT_0047c900)
                                                          [(((int)puVar31 + 1) %
                                                           (int)(uint)DAT_0047e2c8) * 0x78] != 1));
                        }
                        local_118 = 0;
                        if (0 < (int)local_130) {
                          do {
                            iVar19 = (int)(local_118 + (int)local_120) % (int)(uint)DAT_0047e2c8;
                            iVar17 = iVar19 * 0x1e0;
                            iVar12 = iVar19 * 0x78;
                            uVar10 = (&DAT_0047c7ec)[(&DAT_0047c808)[iVar19 * 0x78] + iVar12] - 1;
                            if ((int)((&DAT_0047c7ec)[(&DAT_0047c808)[iVar19 * 0x78] + iVar12] - 1 )
                                < (int)(uint)(ushort)(&DAT_0047cefe)
                                                     [(&DAT_0047c808)[iVar19 * 0x78] + iVar17]) {
                              uVar10 = (uint)(ushort)(&DAT_0047cefe)
                                                     [(&DAT_0047c808)[iVar19 * 0x78] + iVar17];
                            }
                            local_134 = (ushort *)(DAT_0047e2c4 + uVar10 * 0x1c);
                            *local_134 = 1;
                            local_134[8] = 0;
                            local_134[0xe] = 1;
                            *(undefined4 *)(&DAT_0047c8fc + iVar17) = 0;
                            (&DAT_0047c900)[iVar19 * 0x78] = 0;
                            if ((local_134[1] == 6) || (DAT_0047d6c4 < *(int *)(local_134 + 10))) {
                              local_144 = (double)(longlong)ROUND((dVar1 * 5000.0) / 10.0);
                            }
                            else {
                              local_144 = (double)(longlong)ROUND((dVar1 * 1000.0) / 10.0);
                            }
                            local_128 = (ushort *)(in_FPUControlWord | 0xc00);
                            local_11c = CONCAT22(in_FPUControlWord,(undefined2)local_11c);
                            uVar10 = (&DAT_0047c850)[iVar19 * 0x78] + 1 & 7;
                            (&DAT_0047c850)[iVar19 * 0x78] = uVar10;
                            (&DAT_0047c810)[uVar10 + iVar12] = local_144._0_4_ * 10;
                            (&DAT_0047c830)[(&DAT_0047c850)[iVar19 * 0x78] + iVar12] = local_12c;
                            if (local_134[1] == 8) {
                              DAT_0047e578 = (&DAT_0047c810)
                                             [(&DAT_0047c850)[iVar19 * 0x78] + iVar12];
                              DAT_0047e57c = local_12c;
                            }
                            else {
                              iVar12 = ((uint)*(ushort *)(&DAT_0047c760 + iVar17) + iVar19 * 0x20)  *
                                       0x10;
                              *(uint *)(&DAT_0047b18c + iVar12) = local_12c;
                              *(undefined2 *)(&DAT_0047b188 + iVar12) = 2;
                            }
                            uVar25 = *(short *)(&DAT_0047c760 + iVar17) + 1U & 0x1f;
                            if (false) {
                              uVar25 = (uVar25 - 1 | 0xffe0) + 1;
                            }
                            *(ushort *)(&DAT_0047c760 + iVar17) = uVar25;
                            (&DAT_0047c88c)[iVar19 * 0x78] = local_12c;
                            local_118 += 1;
                          } while ((int)local_118 < (int)local_130);
                        }
                        uVar10 = (&DAT_0047c7ec)[(&DAT_0047c808)[(int)puVar7 * 0x78] + local_13c] -
                                 1;
                        if ((int)((&DAT_0047c7ec)[(&DAT_0047c808)[(int)puVar7 * 0x78] + local_13c]  -
                                 1) < (int)(uint)(ushort)(&DAT_0047cefe)
                                                         [(&DAT_0047c808)[(int)puVar7 * 0x78] +
                                                          iVar29]) {
                          uVar10 = (uint)(ushort)(&DAT_0047cefe)
                                                 [(&DAT_0047c808)[(int)puVar7 * 0x78] + iVar29];
                        }
                        if (*(short *)(DAT_0047e2c4 + 2 + uVar10 * 0x1c) == 6) {
                          waveOutWrite((HWAVEOUT)phwo_0047b128,(LPWAVEHDR)&pwh_0047c700,0x20);
                          puVar31 = local_120;
                        }
                        else {
                          waveOutWrite((HWAVEOUT)phwo_0047b128,(LPWAVEHDR)&pwh_0047b130,0x20);
                          puVar31 = local_120;
                        }
                      }
                    }
                  }
                }
LAB_00427666:
                local_128 = (ushort *)((int)local_138 - (int)local_148);
                if (((((int)local_128 < 2) && (*(short *)(&DAT_00482ad8 + (int)local_138 * 2) != 0 ))
                    && (local_118 = ((int)local_138 + (int)puVar31 * -0x11) * 4,
                       *(int *)(&DAT_0047d650 + local_118) == 0)) &&
                   ((short)local_124[0x11f3b2] == 0)) {
                  iVar12 = *(int *)(&DAT_0047c8fc + iVar29);
                  *(undefined4 *)(&DAT_0047d650 + local_118) = 1;
                  if (iVar12 == 0) {
                    sVar9 = (&local_10)
                            [(uint)*(ushort *)(&DAT_00482aa0 + (int)puVar31 * 2) + (int)puVar31 * 2]
                    ;
                    if (sVar9 == 1) {
                      iVar12 = (&DAT_00482a90)[(int)puVar31];
                      pwVar24 = (LPWAVEHDR)(&DAT_0047c2c0 + iVar12 * 8);
                    }
                    else {
LAB_00427784:
                      if (sVar9 != 2) goto LAB_004277ac;
                      iVar12 = (&DAT_00482a90)[(int)puVar31];
                      pwVar24 = (LPWAVEHDR)(&DAT_0047d720 + iVar12 * 8);
                    }
                    pHVar39 = (HWAVEOUT)(&DAT_0047bae8)[iVar12];
LAB_004277a6:
                    waveOutWrite(pHVar39,pwVar24,0x20);
                  }
                  else {
                    local_130 = (uint *)(local_12c - *(int *)(&DAT_0047c800 + iVar29));
                    dVar1 = (double)(int)local_130;
                    if ((int)local_130 < 0) {
                      dVar1 = dVar1 + 4294967296.0;
                    }
                    if (_DAT_0047ac88 * 30.0 < dVar1 != (NAN(_DAT_0047ac88 * 30.0) || NAN(dVar1)))  {
                      *(uint *)(&DAT_0047c800 + iVar29) = local_12c;
                      sVar9 = (&local_10)
                              [(uint)*(ushort *)(&DAT_00482aa0 + (int)puVar31 * 2) +
                               (int)puVar31 * 2];
                      if (sVar9 != 1) goto LAB_00427784;
                      pHVar39 = (HWAVEOUT)(&DAT_0047bae8)[(&DAT_00482a90)[(int)puVar31]];
                      pwVar24 = (LPWAVEHDR)(&DAT_0047c2c0 + (&DAT_00482a90)[(int)puVar31] * 8);
                      goto LAB_004277a6;
                    }
                  }
LAB_004277ac:
                  iVar12 = (int)puVar31 * 2;
                  if ((&local_10)[(uint)*(ushort *)(&DAT_00482aa0 + iVar12) + iVar12] != 0) {
                    (&DAT_00482a90)[(int)puVar31] =
                         ((&DAT_00482a90)[(int)puVar31] + 1) %
                         (int)(uint)*(ushort *)(local_124 + 0x11f4a1) + (int)puVar31 * 0x10;
                  }
                  waveOutReset((HWAVEOUT)(&DAT_0047bae8)[(&DAT_00482a90)[(int)puVar31]]);
                  iVar17 = *(int *)(&DAT_0047c8fc + iVar29);
                  *(undefined2 *)(&DAT_0047b174 + iVar12) = 0;
                  *(uint *)(&DAT_0047bb68 + (int)puVar31 * 4) = local_12c;
                  *(uint *)(&DAT_0047ce18 + local_118) = local_12c;
                  if ((iVar17 == 1) &&
                     ((uVar10 = (&DAT_0047c7ec)[(&DAT_0047c808)[(int)puVar7 * 0x78] + local_13c] -  1
                      , *(int *)(DAT_0047e2c4 + 4 + (uVar10 & ((int)uVar10 < 0) - 1) * 0x1c) + -0x3 2
                        <= DAT_0047d6c4 ||
                      (uVar10 = (&DAT_0047c7ec)[(&DAT_0047c808)[(int)puVar7 * 0x78] + local_13c] -  2
                      , 3 < *(ushort *)(DAT_0047e2c4 + 2 + (((int)uVar10 < 0) - 1 & uVar10) * 0x1c) )
                      ))) {
                    *(undefined2 *)(&DAT_0047b174 + (int)puVar31 * 2) = 2;
                  }
                }
                if (((1 < (int)local_128) && (*(short *)(&DAT_00482ad8 + (int)local_138 * 2) != 0) )
                   && ((iVar12 = ((int)local_138 + (int)puVar31 * -0x11) * 4,
                       *(int *)(&DAT_0047d650 + iVar12) == 0 && ((short)local_124[0x11f3b2] == 0)) ))
                {
                  sVar9 = (&local_10)
                          [(uint)*(ushort *)(&DAT_00482aa0 + (int)puVar31 * 2) + (int)puVar31 * 2] ;
                  *(undefined4 *)(&DAT_0047d650 + iVar12) = 1;
                  if (sVar9 == 1) {
                    pHVar39 = (HWAVEOUT)(&DAT_0047be38)[(&DAT_00482a98)[(int)puVar31]];
                    pwVar24 = (LPWAVEHDR)(&DAT_0047b6d8 + (&DAT_00482a98)[(int)puVar31] * 8);
LAB_00427940:
                    waveOutWrite(pHVar39,pwVar24,0x20);
                  }
                  else if (sVar9 == 2) {
                    pHVar39 = (HWAVEOUT)(&DAT_0047be38)[(&DAT_00482a98)[(int)puVar31]];
                    pwVar24 = (LPWAVEHDR)(&DAT_0047beb8 + (&DAT_00482a98)[(int)puVar31] * 8);
                    goto LAB_00427940;
                  }
                  if ((&local_10)
                      [(uint)*(ushort *)(&DAT_00482aa0 + (int)puVar31 * 2) + (int)puVar31 * 2] != 0)
                  {
                    (&DAT_00482a98)[(int)puVar31] =
                         ((&DAT_00482a98)[(int)puVar31] + 1) %
                         (int)(uint)*(ushort *)(local_124 + 0x11f4a1) + (int)puVar31 * 0x10;
                  }
                  waveOutReset((HWAVEOUT)(&DAT_0047be38)[(&DAT_00482a98)[(int)puVar31]]);
                  iVar17 = *(int *)(&DAT_0047c8fc + iVar29);
                  *(undefined2 *)(&DAT_0047b174 + (int)puVar31 * 2) = 1;
                  *(uint *)(&DAT_0047bb68 + (int)puVar31 * 4) = local_12c;
                  *(uint *)(&DAT_0047ce18 + iVar12) = local_12c;
                  if ((iVar17 == 1) &&
                     ((uVar10 = (&DAT_0047c7ec)[(&DAT_0047c808)[(int)puVar7 * 0x78] + local_13c] -  1
                      , *(int *)(DAT_0047e2c4 + 4 + (uVar10 & ((int)uVar10 < 0) - 1) * 0x1c) + -0x3 2
                        <= DAT_0047d6c4 ||
                      (uVar10 = (&DAT_0047c7ec)[(&DAT_0047c808)[(int)puVar7 * 0x78] + local_13c] -  2
                      , 3 < *(ushort *)(DAT_0047e2c4 + 2 + (((int)uVar10 < 0) - 1 & uVar10) * 0x1c) )
                      ))) {
                    *(undefined2 *)(&DAT_0047b174 + (int)puVar31 * 2) = 2;
                  }
                }
                local_138 = (ushort *)((int)local_138 + 1);
              } while ((int)local_138 < (int)(local_148 + 2));
            }
            if ((*(short *)(DAT_0047e2c4 + 2 +
                           ((&DAT_0047c7ec)[(&DAT_0047c808)[(int)puVar7 * 0x78] + local_13c] - 1 &
                           ((int)((&DAT_0047c7ec)[(&DAT_0047c808)[(int)puVar7 * 0x78] + local_13c]  -
                                 1) < 0) - 1) * 0x1c) == 6) &&
               (*(int *)(&DAT_0047c8fc + iVar29) == 1)) {
              *(undefined4 *)(&DAT_0047bb68 + (int)local_120 * 4) = 0;
            }
            iVar12 = DAT_0047f118;
            if ((((&DAT_0047c908)[(int)puVar7 * 0x78] == 0) &&
                (uVar10 = (&DAT_0047c768)[(int)puVar7 * 0x78],
                uVar10 % 10 != (10U - DAT_0047f118) % 10)) && (9 < uVar10)) {
              (&DAT_0047c768)[(int)puVar7 * 0x78] = uVar10 - DAT_0047f118;
              (&DAT_0047c810)[(int)puVar7 * 0x78] = (&DAT_0047c810)[(int)puVar7 * 0x78] - iVar12;
            }
            if (((&DAT_0047c890)[(int)local_120 * 0xf1] == 0) ||
               ((&DAT_0047c770)[(int)puVar7 * 0x78] == 0)) {
              (&DAT_0047c8a0)[(int)puVar7 * 0x78] = 0;
              (&DAT_0047c8a4)[(int)puVar7 * 0x78] = 0;
              (&DAT_0047c924)[(int)puVar7 * 0xf0] = 0;
            }
            uVar32 = (-(uint)(*(ushort *)((int)local_124 + 0x47cf56) < 2) & 0xffffffce) + 100;
            uVar10 = (uint)(&DAT_0047c770)[(int)puVar7 * 0x78] / uVar32;
            if ((uVar10 == (uint)(&DAT_0047c8a0)[(int)puVar7 * 0x78] / uVar32) || (uVar10 == 0)) {
              uVar10 = (uint)(&DAT_0047c770)[(int)puVar7 * 0x78] / 10;
              if ((uVar10 != (uint)(&DAT_0047c8a0)[(int)puVar7 * 0x78] / 10) && (uVar10 != 0)) {
                (&DAT_0047c8a0)[(int)puVar7 * 0x78] = uVar10 * 10;
                *(uint *)(&DAT_0047c8a8 + iVar29) = local_12c;
                *(undefined2 *)(&DAT_0047c90c + iVar29) = 1;
                goto LAB_00427bba;
              }
            }
            else {
              (&DAT_0047c8a0)[(int)puVar7 * 0x78] = uVar10 * uVar32;
              (&DAT_0047c8a4)[(int)puVar7 * 0x78] = local_12c;
              *(uint *)(&DAT_0047c8a8 + iVar29) = local_12c;
              *(undefined2 *)(&DAT_0047c90c + iVar29) = 1;
LAB_00427bba:
              *(uint *)(&DAT_0047c910 + iVar29) = local_12c;
            }
            uVar25 = (&DAT_0047c924)[(int)puVar7 * 0xf0];
            if ((uVar25 < (&DAT_0047c91c)[(int)puVar7 * 0xf0]) &&
               ((uint)*(ushort *)((&DAT_0047c920)[(int)puVar7 * 0x78] + (uint)uVar25 * 2) <
                (uint)(&DAT_0047c770)[(int)puVar7 * 0x78])) {
              (&DAT_0047c924)[(int)puVar7 * 0xf0] = uVar25 + 1;
            }
            uVar25 = (&DAT_0047c924)[(int)puVar7 * 0xf0];
            if ((uVar25 < (&DAT_0047c91c)[(int)puVar7 * 0xf0]) &&
               ((&DAT_0047c770)[(int)puVar7 * 0x78] ==
                (uint)*(ushort *)((&DAT_0047c920)[(int)puVar7 * 0x78] + (uint)uVar25 * 2))) {
              if (local_120 == NULL) {
                waveOutWrite(DAT_0047b17c,(LPWAVEHDR)((uint)DAT_0047c924 * 0x20 + DAT_0047e5c0),0x20
                            );
                (&DAT_0047c924)[(int)puVar7 * 0xf0] = (&DAT_0047c924)[(int)puVar7 * 0xf0] + 1;
              }
              else {
                waveOutWrite((&DAT_0047b17c)[(int)local_120],
                             (LPWAVEHDR)(((uint)DAT_0047c91c + (uint)uVar25) * 0x20 + DAT_0047e5c0 ),
                             0x20);
                (&DAT_0047c924)[(int)puVar7 * 0xf0] = (&DAT_0047c924)[(int)puVar7 * 0xf0] + 1;
              }
            }
          }
LAB_004284f1:
          local_128 = (ushort *)
                      (uint)(ushort)(&DAT_0047c7b0)
                                    [(int)local_120 * 0xf0 + (&DAT_0047c804)[(int)puVar7 * 0x78]];
          dVar1 = ((double)(&DAT_0047c778)[(int)puVar7 * 0x3c] /
                  ((double)(int)local_128 + (double)(int)local_128)) * 100.1;
          if ((double)(&DAT_0047acc0)[(int)local_120] * (double)(&DAT_0047acb0)[(int)local_120] *
              100.0 <= dVar1) {
            if ((double)(&DAT_0047acb0)[(int)local_120] * 100.0 <= dVar1) {
              sVar9 = 2;
              goto LAB_00428575;
            }
            (&DAT_0047c7e8)[(int)puVar7 * 0xf0] = 1;
          }
          else {
            sVar9 = 0;
LAB_00428575:
            (&DAT_0047c7e8)[(int)puVar7 * 0xf0] = sVar9;
          }
          local_120 = (undefined2 *)((int)local_120 + 1);
        } while ((int)local_120 < (int)(uint)DAT_0047e2c8);
      }
    }
  }
  uVar32 = local_12c;
  uVar10 = DAT_0047e544;
  iVar29 = DAT_0047cef0;
  if ((DAT_0047e2c8 < 2) && (DAT_0047f114 == 2)) {
    if (DAT_0047e2c4 != 0) {
      dVar1 = (double)(int)(local_12c - DAT_0047e544);
      if ((int)(local_12c - DAT_0047e544) < 0) {
        dVar1 = dVar1 + 4294967296.0;
      }
      iVar12 = *(int *)(DAT_0047cef0 + (local_158 & 0xffff) * 4) * DAT_0047df40;
      dVar2 = (double)iVar12;
      if (iVar12 < 0) {
        dVar2 = dVar2 + 4294967296.0;
      }
      if (dVar2 * _DAT_0047ac88 < dVar1 != (NAN(dVar2 * _DAT_0047ac88) || NAN(dVar1))) {
        _DAT_0047c7e4 = CONCAT22(DAT_0047c7e4,DAT_0047c7e4);
      }
    }
    local_128 = (ushort *)(uint)(ushort)(&DAT_0047c7b0)[DAT_0047c804];
    uVar38 = FUN_0045db50(DAT_0047c804,local_128);
    iVar12 = (int)uVar38;
    if (4 < iVar12) {
      iVar12 = 4;
    }
    _DAT_0047c7e4 = CONCAT22(DAT_0047c7e6,(short)iVar12);
    if ((DAT_0047e2c4 != 0) && ((short)iVar12 != DAT_0047c7e6)) {
      iVar12 = uVar32 - uVar10;
      dVar1 = (double)iVar12;
      if (iVar12 < 0) {
        dVar1 = dVar1 + 4294967296.0;
      }
      local_128 = (ushort *)(*(int *)(iVar29 + (local_158 & 0xffff) * 4) * DAT_0047df40);
      dVar2 = (double)(int)local_128;
      if ((int)local_128 < 0) {
        dVar2 = dVar2 + 4294967296.0;
      }
      if (dVar2 * _DAT_0047ac88 < dVar1 != (NAN(dVar2 * _DAT_0047ac88) || NAN(dVar1))) {
        DAT_0047e544 = uVar32;
      }
    }
  }
  DAT_0047e508 = local_12c;
  if (DAT_0047e500 == 1) {
    DAT_0047e518 = (uint)DAT_0047c764;
    DAT_0047e500 = 2;
    DAT_0047e514 = DAT_0047d6c4;
  }
LAB_00428717:
  __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
  return;
}


/* WARNING: Type propagation algorithm not settling */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void FUN_00428750(void)

{
  char cVar1;
  short sVar2;
  double dVar3;
  double dVar4;
  int iVar5;
  double *pdVar6;
  uint uVar7;
  int iVar8;
  int iVar9;
  HGDIOBJ pvVar10;
  char *pcVar11;
  char *pcVar12;
  uint *puVar13;
  ushort uVar14;
  undefined2 uVar15;
  uint uVar16;
  uint uVar17;
  byte *pbVar18;
  int iVar19;
  undefined4 extraout_ECX;
  undefined4 extraout_ECX_00;
  undefined4 extraout_ECX_01;
  undefined4 extraout_ECX_02;
  undefined4 extraout_ECX_03;
  undefined4 extraout_ECX_04;
  undefined4 extraout_ECX_05;
  undefined4 extraout_ECX_06;
  undefined4 extraout_ECX_07;
  undefined4 extraout_ECX_08;
  undefined4 extraout_ECX_09;
  undefined4 extraout_ECX_10;
  undefined4 extraout_ECX_11;
  undefined4 extraout_ECX_12;
  int extraout_ECX_13;
  undefined4 extraout_ECX_14;
  undefined4 extraout_ECX_15;
  undefined4 extraout_ECX_16;
  undefined4 extraout_ECX_17;
  undefined4 extraout_ECX_18;
  undefined4 extraout_ECX_19;
  undefined4 extraout_ECX_20;
  undefined4 extraout_ECX_21;
  undefined4 extraout_ECX_22;
  undefined4 extraout_ECX_23;
  double *extraout_ECX_24;
  double *extraout_ECX_25;
  double *extraout_ECX_26;
  undefined4 extraout_ECX_27;
  undefined4 extraout_ECX_28;
  undefined4 extraout_ECX_29;
  undefined4 extraout_EDX;
  char *extraout_EDX_00;
  char *extraout_EDX_01;
  int iVar20;
  int iVar21;
  int iVar22;
  undefined4 extraout_EDX_02;
  double *extraout_EDX_03;
  double *extraout_EDX_04;
  double *extraout_EDX_05;
  short sVar23;
  ushort *puVar24;
  void *pvVar25;
  double *pdVar26;
  int iVar27;
  int *piVar28;
  int *piVar29;
  double *pdVar30;
  code *pcVar31;
  double *pdVar32;
  double *pdVar33;
  int *piVar34;
  bool bVar35;
  undefined2 in_FPUControlWord;
  float10 fVar36;
  float10 fVar37;
  float10 extraout_ST0;
  float10 extraout_ST0_00;
  float10 fVar38;
  float10 extraout_ST1;
  float10 extraout_ST1_00;
  float10 extraout_ST1_01;
  float10 extraout_ST1_02;
  float10 extraout_ST1_03;
  float10 extraout_ST1_04;
  float10 fVar39;
  ulonglong uVar40;
  ulonglong uVar41;
  undefined4 *puVar42;
  undefined *puVar43;
  undefined4 uVar44;
  undefined4 uVar45;
  undefined4 uVar46;
  undefined4 uVar47;
  void **ppvVar48;
  undefined4 uVar49;
  undefined4 uVar50;
  size_t _Size;
  undefined8 uVar51;
  longlong lVar52;
  int local_1bc [8];
  int local_19c;
  int local_198;
  int local_194;
  char local_190 [4];
  int local_18c;
  double *local_188;
  ushort local_184 [2];
  ushort *local_180;
  int local_17c;
  double *local_178;
  double *local_174;
  double *local_170;
  int local_168;
  double *local_164;
  double *local_160;
  int local_15c;
  double *local_158;
  double *local_154;
  double *local_150;
  double *local_14c;
  int *local_148;
  int local_144;
  double *local_140;
  int *local_13c;
  uint *local_138;
  double *local_134;
  uint local_130;
  double *local_12c;
  double *local_128;
  double *local_124;
  double *local_120;
  undefined8 local_11c;
  undefined4 local_114;
  uint local_110;
  char local_10c [260];
  uint local_8;
  
  local_8 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  local_120 = NULL;
  local_190[0] = '\0';
  local_190[1] = 0;
  local_19c = 0;
  local_184[0] = 0;
  local_184[1] = 0;
  local_154 = NULL;
  local_168 = 0;
  local_164 = NULL;
  if ((DAT_0047e500 == 0) || (DAT_0047e2c4 == 0)) goto LAB_00434fda;
  local_130 = timeGetTime();
  _DAT_0047e510 = DAT_0047e508 - DAT_0047e50c;
  DAT_0047e50c = DAT_0047e508;
  iVar5 = 0;
  _DAT_0047e588 = 0;
  iVar27 = 0;
  if (DAT_0047e2c8 != 0) {
    local_188 = NULL;
    puVar24 = &DAT_0047cf74;
    local_124 = (double *)&DAT_0047c7e8;
    local_158 = (double *)&DAT_0047c890;
    iVar19 = DAT_00481fa8;
    do {
      (&DAT_0047e520)[iVar5] = (&DAT_0047e524)[iVar5];
      if ((&DAT_0047e524)[iVar5] == 3) {
        (&DAT_0047e520)[iVar5] = *puVar24 - 1;
      }
      local_154 = NULL;
      if (((&DAT_0047c7d8)[*(int *)(local_124 + 4) + (int)local_188] == 1) && (DAT_00482718 != 0))  {
        local_154 = (double *)((int)DAT_00482054 * DAT_00482050);
      }
      sVar23 = *(short *)local_158;
      if (((sVar23 == 0) && ((&DAT_0047c7d8)[*(int *)(local_124 + 4) + (int)local_188] == 0)) &&
         (DAT_004822f0 != 0)) {
        uVar14 = 3;
LAB_004288de:
        (&DAT_0047e51c)[iVar5] = uVar14;
      }
      else {
        sVar2 = *(short *)local_124;
        if (sVar2 == 0) {
          uVar14 = 0;
          goto LAB_004288de;
        }
        if ((sVar2 == 2) && (iVar19 != 0)) {
          uVar14 = 2;
          goto LAB_004288de;
        }
        if ((sVar2 != 0) && (DAT_00481db0 != 0)) {
          uVar14 = 1;
          goto LAB_004288de;
        }
      }
      (&DAT_0047e524)[iVar5] = (&DAT_0047e51c)[iVar5];
      if ((&DAT_0047e51c)[iVar5] == 3) {
        (&DAT_0047e51c)[iVar5] = *puVar24 - 1;
      }
      if (((&DAT_0047e51c)[iVar5] != (&DAT_0047e520)[iVar5]) && ((&DAT_0047e520)[iVar5] < *puVar24 ))
      {
        (&DAT_0047e52c)[iVar5] = local_130;
        (&DAT_0047e528)[iVar5] = (&DAT_0047e520)[iVar5];
      }
      if (DAT_004822f0 == 0) {
        if (((&DAT_0047e51c)[iVar5] == 2) && (iVar19 == 0)) {
          (&DAT_0047e51c)[iVar5] = 1;
        }
        if (DAT_00481db0 == 0) {
          (&DAT_0047e51c)[iVar5] = 0;
        }
      }
      else {
        uVar16 = (uint)(&DAT_0047e51c)[iVar5];
        if ((((uVar16 == 0) || (DAT_00481db0 != 0)) && (puVar24[-9] == 0)) || (sVar23 == 0)) {
          if (((uVar16 == 2) && (iVar19 == 0)) || (puVar24[-9] != 0)) {
            if (sVar23 != 0) {
              uVar14 = 1;
              uVar15 = 1;
              goto LAB_004289db;
            }
            if (((puVar24[-9] != 0) && (uVar16 != 0)) && (uVar16 != *puVar24 - 1))
            goto LAB_004289d7;
          }
        }
        else {
LAB_004289d7:
          uVar14 = 0;
          uVar15 = 0;
LAB_004289db:
          (&DAT_0047e51c)[iVar5] = uVar14;
          (&DAT_0047e528)[iVar5] = uVar15;
        }
        if (((((&DAT_0047e528)[iVar5] != 0) && (DAT_00481db0 != 0)) ||
            (((&DAT_0047e528)[iVar5] == 2 && (iVar19 != 0)))) && (puVar24[-9] != 0)) {
          (&DAT_0047e528)[iVar5] = 0;
        }
      }
      if (DAT_00482050 != 0) {
        uVar16 = (uint)(&DAT_0047e51c)[iVar5];
        iVar27 = DAT_00482020;
        if ((&DAT_0047e51c)[iVar5] == 0) {
LAB_00428aab:
          (&local_168)[iVar5] = iVar27;
        }
        else {
          if (uVar16 == *puVar24 - 1) {
            iVar19 = DAT_00481fa8;
            if ((DAT_00481f00 != 0) && (*(short *)local_124 != 0)) {
              (&local_168)[iVar5] = DAT_00481ed0;
              goto LAB_00428ab2;
            }
            if ((uVar16 == *puVar24 - 1) && (iVar27 = DAT_004822c0, DAT_004822f0 != 0))
            goto LAB_00428aab;
          }
          if (uVar16 == 1) {
            (&local_168)[iVar5] = DAT_00481d80;
          }
          else {
            iVar27 = DAT_00481f78;
            if (uVar16 == 2) goto LAB_00428aab;
          }
        }
      }
LAB_00428ab2:
      local_188 = local_188 + 0xf;
      local_158 = (double *)((int)local_158 + 0x1e2);
      local_124 = local_124 + 0x3c;
      iVar5 += 1;
      puVar24 = puVar24 + 0x1e0;
      iVar27 = local_168;
    } while (iVar5 < (int)(uint)DAT_0047e2c8);
  }
  if (DAT_00482050 == 0) {
    PatBlt(HDC_0047b6c0,0,0,(int)DAT_0047ac74,DAT_0047ac78,0x42);
    pdVar26 = DAT_00482054;
    pdVar32 = DAT_0047ac74;
  }
  else {
    uVar16 = DAT_0047db5c - ((int)DAT_00482054 >> 1);
    PatBlt(HDC_0047b6c0,0,0,(int)DAT_0047ac74,uVar16 & ((int)uVar16 < 0) - 1,0x42);
    uVar16 = (DAT_0047ac78 - ((int)DAT_00482054 >> 1)) - DAT_0047db5c;
    PatBlt(HDC_0047b6c0,0,((int)DAT_00482054 >> 1) + DAT_0047db5c,(int)DAT_0047ac74,
           uVar16 & ((int)uVar16 < 0) - 1,0x42);
    iVar5 = DAT_0047ac78;
    ppvVar48 = ppvBits_0047c2bc;
    if ((DAT_0047df80 == 0) || (DAT_0047e604 != 2)) {
      if (DAT_0047e744 == 1) {
        if (DAT_0047e2c8 == 1) {
          _Size = (int)DAT_0047ac74 * (int)DAT_00482054 * 4;
          pvVar25 = (void *)(iVar27 + (int)local_154 * 4);
          ppvVar48 = DAT_0047db60;
        }
        else {
          uVar16 = ((DAT_0047db78 >> 1) - (DAT_0047ac78 - (int)DAT_00482054 >> 1)) + DAT_0047db80;
          pdVar32 = (double *)(((int)uVar16 < 0) - 1 & uVar16);
          if ((int)DAT_00482054 < (int)pdVar32) {
            pdVar32 = DAT_00482054;
          }
          iVar5 = (int)DAT_0047ac74 * (int)pdVar32;
          memcpy(DAT_0047db60,(void *)(iVar27 + (int)local_154 * 4),iVar5 * 4);
          _Size = ((int)DAT_00482054 - (int)pdVar32) * (int)DAT_0047ac74 * 4;
          pvVar25 = (void *)((int)local_164 + (int)(iVar5 + (int)local_154) * 4);
          ppvVar48 = DAT_0047db60 + iVar5;
        }
      }
      else {
        _Size = DAT_0047ac78 * (int)DAT_0047ac74 * 4;
        pvVar25 = (void *)(iVar27 + (int)(((int)DAT_00482054 / 2 + -8) * DAT_0047ac7c +
                                         (int)local_154) * 4);
      }
LAB_004290ad:
      memcpy(ppvVar48,pvVar25,_Size);
      pdVar32 = DAT_0047ac74;
    }
    else {
      if (DAT_0047e744 != 1) {
        _Size = DAT_0047ac78 * (int)DAT_0047ac74 * 4;
        pvVar25 = (void *)(iVar27 + (int)(((int)DAT_00482054 / 2 + -8) * DAT_0047ac7c +
                                         (int)local_154) * 4);
        goto LAB_004290ad;
      }
      local_128 = DAT_0047e514 + 0x500;
      uVar40 = FUN_0045db50(DAT_0047ac7c,local_128);
      local_114 = (double *)
                  ((longlong)((ulonglong)(uint)((int)uVar40 >> 0x1f) << 0x20 | uVar40 & 0xffffffff )
                  % (longlong)(int)DAT_0047df88);
      uVar16 = (DAT_0047db7c - (iVar5 - (int)DAT_00482054 >> 1)) - (DAT_0047db78 >> 1);
      local_178 = (double *)(((int)uVar16 < 0) - 1 & uVar16);
      if (0 < (int)local_178) {
        local_160 = (double *)((int)local_114 * 4);
        iVar5 = -(int)local_114;
        iVar27 = 0;
        local_128 = (double *)((int)DAT_0047ac74 * 4);
        pvVar25 = (void *)(local_168 + (int)local_114 * 4);
        local_14c = local_178;
        do {
          memcpy((void *)(iVar27 + (int)DAT_0047db60),pvVar25,
                 ((int)DAT_0047df88 - (int)local_114) * 4);
          memcpy(DAT_0047db60 + iVar5 + (int)DAT_0047df88,(void *)(iVar27 + local_168),
                 (size_t)local_160);
          iVar5 += (int)DAT_0047ac74;
          iVar27 += (int)local_128;
          pvVar25 = (void *)((int)pvVar25 + (int)local_128);
          local_14c = (double *)((int)local_14c + -1);
        } while (local_14c != NULL);
        local_14c = NULL;
      }
      pdVar32 = DAT_0047ac74;
      if (((int)DAT_0047df88 < (int)DAT_0047ac74) && (0 < (int)local_178)) {
        iVar27 = 0;
        pdVar26 = local_178;
        do {
          memcpy(DAT_0047db60 + (int)DAT_0047df88 + iVar27,DAT_0047db60 + iVar27,
                 ((int)pdVar32 - (int)DAT_0047df88) * 4);
          iVar27 += (int)pdVar32;
          pdVar26 = (double *)((int)pdVar26 + -1);
        } while (pdVar26 != NULL);
      }
      pdVar26 = local_154;
      pdVar32 = DAT_0047ac74;
      if (DAT_0047e2c8 == 1) {
        memcpy(DAT_0047db60 + (int)DAT_0047ac74 * (int)local_178,
               (void *)(local_168 + (int)((int)DAT_0047ac74 * (int)local_178 + (int)local_154) * 4 ),
               ((int)DAT_00482054 - (int)local_178) * (int)DAT_0047ac74 * 4);
      }
      else {
        iVar27 = DAT_0047ac78 - (int)DAT_00482054 >> 1;
        uVar16 = (DAT_0047db80 - (DAT_0047db78 >> 1)) - iVar27;
        pdVar33 = (double *)(((int)uVar16 < 0) - 1 & uVar16);
        local_174 = DAT_00482054;
        if ((int)pdVar33 <= (int)DAT_00482054) {
          local_174 = pdVar33;
        }
        uVar16 = ((DAT_0047db78 >> 1) - iVar27) + DAT_0047db80;
        pdVar33 = (double *)(((int)uVar16 < 0) - 1 & uVar16);
        if ((int)DAT_00482054 < (int)pdVar33) {
          pdVar33 = DAT_00482054;
        }
        iVar27 = (int)local_174 - (int)local_178;
        if (iVar27 < 1) {
          iVar27 = 1;
        }
        local_170 = pdVar33;
        memcpy(DAT_0047db60 + (int)DAT_0047ac74 * (int)local_178,
               (void *)(local_168 + (int)((int)DAT_0047ac74 * (int)local_178 + (int)local_154) * 4 ),
               iVar27 * (int)DAT_0047ac74 * 4);
        iVar27 = 1;
        if (0 < (int)pdVar33 - (int)local_174) {
          iVar27 = (int)pdVar33 - (int)local_174;
        }
        memcpy(DAT_0047db60 + (int)pdVar32 * (int)local_174,
               (void *)((int)local_164 + (int)((int)pdVar32 * (int)local_174 + (int)pdVar26) * 4),
               iVar27 * (int)pdVar32 * 4);
        local_12c = pdVar33;
        if ((int)pdVar33 < (int)DAT_00482054) {
          iVar5 = (int)pdVar32 * (int)local_170;
          local_188 = (double *)(iVar5 - (int)local_114);
          iVar27 = iVar5 * 4;
          local_14c = (double *)((int)local_164 + (int)(iVar5 + (int)local_114) * 4);
          do {
            pdVar26 = local_14c;
            memcpy((void *)(iVar27 + (int)DAT_0047db60),local_14c,
                   ((int)DAT_0047df88 - (int)local_114) * 4);
            memcpy(DAT_0047db60 + (int)local_188 + (int)DAT_0047df88,
                   (void *)(iVar27 + (int)local_164),(int)local_114 * 4);
            local_12c = (double *)((int)local_12c + 1);
            local_188 = (double *)((int)local_188 + (int)pdVar32);
            local_14c = (double *)((int)pdVar26 + (int)pdVar32 * 4);
            iVar27 += (int)pdVar32 * 4;
          } while ((int)local_12c < (int)DAT_00482054);
        }
        if (((int)DAT_0047df88 < (int)pdVar32) && ((int)local_170 < (int)DAT_00482054)) {
          iVar27 = (int)pdVar32 * (int)local_170;
          pdVar26 = local_170;
          do {
            pdVar32 = DAT_0047ac74;
            memcpy(DAT_0047db60 + (int)DAT_0047df88 + iVar27,DAT_0047db60 + iVar27,
                   ((int)DAT_0047ac74 - (int)DAT_0047df88) * 4);
            iVar27 += (int)pdVar32;
            pdVar26 = (double *)((int)pdVar26 + 1);
            pdVar32 = DAT_0047ac74;
          } while ((int)pdVar26 < (int)DAT_00482054);
        }
      }
    }
    uVar16 = 0;
    local_110 = 0;
    pdVar26 = DAT_00482054;
    if (DAT_0047e2c8 != 0) {
      do {
        iVar27 = local_130 - (&DAT_0047e52c)[local_110];
        local_11c = CONCAT44(iVar27,(int)local_11c);
        dVar3 = (double)iVar27;
        if (iVar27 < 0) {
          dVar3 = dVar3 + 4294967296.0;
        }
        if ((dVar3 < _DAT_0047ac88 * 200.0) &&
           (((DAT_00481db0 != 0 || (DAT_00481fa8 != 0)) || (DAT_004822f0 != 0)))) {
          uVar40 = FUN_0045db50(uVar16,iVar27);
          uVar16 = local_110;
          local_114 = (double *)uVar40;
          local_154 = NULL;
          uVar7 = (uint)(uVar40 >> 0x20);
          if ((((&DAT_0047c7d8)[DAT_0047c808] == 1) ||
              (uVar7 = DAT_0047c9e8, (&DAT_0047c9b8)[DAT_0047c9e8] == 1)) && (DAT_00482718 != 0)) {
            local_154 = pdVar26;
          }
          pdVar32 = local_154;
          uVar17 = (uint)(ushort)(&DAT_0047e528)[local_110];
          if ((&DAT_0047e528)[local_110] == 0) {
            (&local_168)[local_110] = (int)&DAT_00482020;
            _DAT_0047e4ec = 0x27;
          }
          else {
            uVar7 = (&DAT_0047cf74)[local_110 * 0x1e0] - 1;
            if (uVar17 == uVar7) {
              if ((DAT_00481f00 == 0) || ((&DAT_0047c7e8)[local_110 * 0xf0] == 0)) {
                if ((uVar17 != uVar7) || (DAT_004822f0 == 0)) goto LAB_0042922e;
                (&local_168)[local_110] = (int)&DAT_004822c0;
                _DAT_0047e4ec = 0x3e;
              }
              else {
                (&local_168)[local_110] = (int)&DAT_00481ed0;
                _DAT_0047e4ec = 0x3e;
              }
            }
            else {
LAB_0042922e:
              if (uVar17 == 1) {
                uVar7 = 0x28;
                (&local_168)[local_110] = (int)&DAT_00481d80;
                _DAT_0047e4ec = 0x28;
              }
              else if (uVar17 == 2) {
                (&local_168)[local_110] = (int)&DAT_00481f78;
                _DAT_0047e4ec = 0x29;
              }
            }
          }
          iVar27 = (int)pdVar26 >> 1;
          if ((DAT_0047df80 == 0) || (DAT_0047e604 != 2)) {
            if (DAT_0047e2c8 != 1) {
              iVar5 = DAT_0047db80 - (DAT_0047ac78 - (int)pdVar26 >> 1);
              if (uVar16 == 0) {
                uVar16 = iVar5 - (DAT_0047db78 >> 1);
                pdVar6 = (double *)(uVar16 & ((int)uVar16 < 0) - 1);
                if ((int)pdVar26 < (int)pdVar6) {
                  pdVar6 = pdVar26;
                }
                uVar51 = CONCAT44(local_114,pdVar32);
                pbVar18 = (byte *)(DAT_0047db5c - iVar27);
                iVar27 = local_168;
                pdVar32 = DAT_0047ac74;
              }
              else {
                uVar7 = iVar5 - (DAT_0047db78 >> 1);
                pdVar33 = (double *)(uVar7 & ((int)uVar7 < 0) - 1);
                if ((int)pdVar26 < (int)pdVar33) {
                  pdVar33 = pdVar26;
                }
                uVar51 = CONCAT44(local_114,(byte *)((int)pdVar33 + (int)pdVar32));
                pdVar6 = (double *)((int)pdVar26 - (int)pdVar33);
                pbVar18 = (byte *)((DAT_0047db5c - iVar27) + (int)pdVar33);
                iVar27 = (&local_168)[uVar16];
                pdVar32 = DAT_0047ac74;
              }
              goto LAB_00429799;
            }
            (*DAT_0047b11c)((&local_168)[uVar16],&DAT_00482024,0,DAT_0047db5c - iVar27,DAT_0047ac7 4,
                            pdVar26,0,pdVar32);
            pdVar26 = DAT_00482054;
          }
          else if (DAT_0047e744 == 1) {
            local_128 = DAT_0047e514 + 0x500;
            uVar40 = FUN_0045db50(local_128,uVar7);
            iVar5 = (int)((longlong)
                          ((ulonglong)(uint)((int)uVar40 >> 0x1f) << 0x20 | uVar40 & 0xffffffff) %
                         (longlong)(int)DAT_0047df88);
            uVar16 = (DAT_0047db7c - (DAT_0047ac78 - (int)pdVar26 >> 1)) - (DAT_0047db78 >> 1);
            pdVar32 = (double *)(uVar16 & ((int)uVar16 < 0) - 1);
            local_178 = pdVar32;
            pdVar33 = pdVar32;
            if (local_110 == 0) {
              (*DAT_0047b11c)(local_168,&DAT_00482024,0,DAT_0047db5c - iVar27,
                              (int)DAT_0047df88 - iVar5,pdVar32,iVar5,0);
              (*DAT_0047b11c)(local_168,&DAT_00482024,(int)DAT_0047df88 - iVar5,
                              DAT_0047db5c - ((int)DAT_00482054 >> 1),iVar5,pdVar32,0,0);
              iVar27 = local_168;
              pdVar26 = DAT_00482054;
              if ((int)DAT_0047df88 < (int)DAT_0047ac74) {
                if (DAT_0047e634 == 0) {
                  if (0 < (int)pdVar32) {
                    iVar27 = 0;
                    do {
                      memcpy(DAT_0047db60 + (int)DAT_0047df88 + iVar27,DAT_0047db60 + iVar27,
                             ((int)DAT_0047ac74 - (int)DAT_0047df88) * 4);
                      iVar27 += (int)DAT_0047ac74;
                      pdVar32 = (double *)((int)pdVar32 + -1);
                      pdVar26 = DAT_00482054;
                      pdVar33 = local_178;
                    } while (pdVar32 != NULL);
                  }
                }
                else {
                  (*DAT_0047b11c)(local_168,&DAT_00482024,DAT_0047df88,
                                  DAT_0047db5c - ((int)DAT_00482054 >> 1),(int)DAT_0047df88 - iVar 5,
                                  pdVar32,iVar5,0);
                  (*DAT_0047b11c)(iVar27,&DAT_00482024,(int)DAT_0047df88 * 2 - iVar5,
                                  DAT_0047db5c - ((int)DAT_00482054 >> 1),iVar5,pdVar32,0,0);
                  pdVar26 = DAT_00482054;
                }
              }
            }
            iVar27 = (int)pdVar26 >> 1;
            pdVar32 = DAT_0047df88;
            if (DAT_0047e2c8 == 1) {
              uVar51 = CONCAT44(local_114,(byte *)((int)pdVar33 + (int)local_154));
              pdVar6 = (double *)((int)pdVar26 - (int)pdVar33);
              pbVar18 = (byte *)((DAT_0047db5c - iVar27) + (int)pdVar33);
              iVar27 = (&local_168)[local_110];
            }
            else {
              iVar19 = DAT_0047ac78 - (int)pdVar26 >> 1;
              local_128 = (double *)((DAT_0047db80 - (DAT_0047db78 >> 1)) - iVar19);
              pdVar6 = (double *)(((int)local_128 < 0) - 1 & (uint)local_128);
              if ((int)pdVar26 < (int)pdVar6) {
                pdVar6 = pdVar26;
              }
              uVar16 = ((DAT_0047db78 >> 1) - iVar19) + DAT_0047db80;
              pdVar33 = (double *)(((int)uVar16 < 0) - 1 & uVar16);
              if ((int)pdVar26 < (int)pdVar33) {
                pdVar33 = pdVar26;
              }
              if (local_110 != 0) {
                (*DAT_0047b11c)((&local_168)[local_110],&DAT_00482024,0,
                                (byte *)((DAT_0047db5c - iVar27) + (int)pdVar33),
                                (int)DAT_0047df88 - iVar5,DAT_0047ac78 - (int)pdVar33,iVar5,pdVar3 3)
                ;
                (*DAT_0047b11c)((&local_168)[local_110],&DAT_00482024,(int)DAT_0047df88 - iVar5,
                                (byte *)((DAT_0047db5c - ((int)DAT_00482054 >> 1)) + (int)pdVar33) ,
                                iVar5,DAT_0047ac78 - (int)pdVar33,0,pdVar33);
                pdVar26 = DAT_00482054;
                if ((int)DAT_0047df88 < (int)DAT_0047ac74) {
                  if (DAT_0047e634 == 0) {
                    if ((int)pdVar33 < (int)DAT_00482054) {
                      iVar27 = (int)DAT_0047ac74 * (int)pdVar33;
                      do {
                        pdVar32 = DAT_0047ac74;
                        memcpy(DAT_0047db60 + (int)DAT_0047df88 + iVar27,DAT_0047db60 + iVar27,
                               ((int)DAT_0047ac74 - (int)DAT_0047df88) * 4);
                        iVar27 += (int)pdVar32;
                        pdVar33 = (double *)((int)pdVar33 + 1);
                        pdVar26 = DAT_00482054;
                      } while ((int)pdVar33 < (int)DAT_00482054);
                    }
                  }
                  else {
                    iVar27 = (&local_168)[local_110];
                    (*DAT_0047b11c)(iVar27,&DAT_00482024,DAT_0047df88,
                                    (byte *)((DAT_0047db5c - ((int)DAT_00482054 >> 1)) +
                                            (int)pdVar33),(int)DAT_0047df88 - iVar5,
                                    DAT_0047ac78 - (int)pdVar33,iVar5,pdVar33);
                    (*DAT_0047b11c)(iVar27,&DAT_00482024,(int)DAT_0047df88 * 2 - iVar5,
                                    (byte *)((DAT_0047db5c - ((int)DAT_00482054 >> 1)) +
                                            (int)pdVar33),iVar5,DAT_0047ac78 - (int)pdVar33,0,
                                    pdVar33);
                    pdVar26 = DAT_00482054;
                  }
                }
                goto LAB_00429800;
              }
              pdVar6 = (double *)((int)pdVar6 - (int)local_178);
              if ((int)pdVar6 < 1) {
                pdVar6 = (double *)0x1;
              }
              uVar51 = CONCAT44(local_114,(byte *)((int)local_154 + (int)local_178));
              pbVar18 = (byte *)((DAT_0047db5c - iVar27) + (int)local_178);
              iVar27 = local_168;
            }
LAB_00429799:
            (*DAT_0047b11c)(iVar27,&DAT_00482024,0,pbVar18,pdVar32,pdVar6,0,uVar51);
            pdVar26 = DAT_00482054;
          }
          else {
            memcpy(ppvBits_0047c2bc,
                   (void *)((&local_168)[uVar16] +
                           (int)(((int)pdVar26 / 2 + -8) * DAT_0047ac7c + (int)pdVar32) * 4),
                   DAT_0047ac78 * (int)DAT_0047ac74 * 4);
            pdVar26 = DAT_00482054;
          }
        }
LAB_00429800:
        uVar16 = (uint)DAT_0047e2c8;
        local_110 += 1;
        pdVar32 = DAT_0047ac74;
      } while ((int)local_110 < (int)uVar16);
    }
  }
  if (((((&DAT_0047c7d8)[DAT_0047c808] == 1) || ((&DAT_0047c9b8)[DAT_0047c9e8] == 1)) &&
      (DAT_00482718 != 0)) && ((DAT_0047df80 != 0 && (DAT_0047e604 == 2)))) {
    _DAT_0047e4ec = 0x2a;
    uVar16 = (DAT_0047db7c - (DAT_0047ac78 - (int)pdVar26 >> 1)) - (DAT_0047db78 >> 1);
    local_178 = (double *)(uVar16 & ((int)uVar16 < 0) - 1);
    (*DAT_0047b110)(&DAT_004826e8,&DAT_004826ec,0,DAT_0047db5c - ((int)pdVar26 >> 1),pdVar32,
                    local_178,0);
    if (DAT_0047e2c8 == 2) {
      uVar16 = ((DAT_0047db78 >> 1) - (DAT_0047ac78 - (int)DAT_00482054 >> 1)) + DAT_0047db80;
      uVar16 &= ((int)uVar16 < 0) - 1;
      (*DAT_0047b110)(&DAT_004826e8,&DAT_004826ec,0,
                      (DAT_0047db5c - ((int)DAT_00482054 >> 1)) + uVar16,DAT_0047ac74,
                      DAT_0048271c - uVar16,0);
    }
  }
  local_188 = DAT_0047e514;
  local_110 = 0;
  if (DAT_0047e2c8 != 0) {
    do {
      uVar16 = local_110;
      iVar27 = (&DAT_00482868)[local_110 * 0xe];
      DAT_0047e514 = local_188;
      local_158 = (double *)(local_110 * 0x38);
      if ((iVar27 != 0) && ((&DAT_0047cec8)[local_110 * 0x1e0] == 0)) {
        if (local_110 == 0) {
          DAT_0047e2bc = &DAT_00482838;
          DAT_0047e2c0 = &DAT_0048283c;
          _DAT_0047e4ec = 0x19;
        }
        else {
          DAT_0047e2bc = &DAT_00482870;
          DAT_0047e2c0 = &DAT_00482874;
          _DAT_0047e4ec = 0x1a;
        }
        iVar5 = local_130 - *(int *)(&DAT_0047d718 + local_110 * 4);
        local_11c = CONCAT44(iVar5,(int)local_11c);
        dVar3 = (double)iVar5;
        if (iVar5 < 0) {
          dVar3 = dVar3 + 4294967296.0;
        }
        iVar5 = *(int *)((int)(local_110 * 0x38) + 0x48286c);
        iVar19 = iVar27;
        if (_DAT_0047ac88 * 75.0 <= dVar3) {
          iVar19 = 0;
        }
        (*DAT_0047b110)(DAT_0047e2bc,DAT_0047e2c0,(&DAT_0047dc30)[local_110 * 2] - (iVar27 >> 1),
                        (&DAT_0047dc34)[local_110 * 2] - (iVar5 >> 1),iVar27,iVar5,iVar19);
      }
      pdVar32 = local_158;
      local_140 = (double *)(uVar16 * 0x3c0);
      uVar14 = *(ushort *)((int)local_140 + 0x47cf0a);
      iVar27 = 0;
      if (uVar14 != 0) {
        piVar28 = *(int **)((int)local_140 + 0x47cecc);
        do {
          if (*piVar28 <= (int)DAT_0047e514) {
            local_184[uVar16] = (ushort)iVar27;
          }
          iVar27 += 1;
          piVar28 = piVar28 + 8;
        } while (iVar27 < (int)(uint)uVar14);
      }
      if (DAT_0047e2c4 != 0) {
        if (uVar16 == 0) {
          DAT_0047e2bc = &DAT_004828a8;
          DAT_0047e2c0 = &DAT_004828ac;
          _DAT_0047e4ec = 0x1c;
        }
        else {
          DAT_0047e2bc = &DAT_004828e0;
          DAT_0047e2c0 = &DAT_004828e4;
          _DAT_0047e4ec = 0x1d;
        }
        local_134 = (double *)(uVar16 * 0x1e0);
        local_164 = (double *)
                    (uint)(ushort)(&DAT_0047cefe)[*(int *)(local_134 + 0x8f901) + (int)local_134];
        iVar27 = *(int *)(local_134 + 0x8f901) + uVar16 * 0x78;
        local_17c = iVar27 * 4;
        iVar5 = (&DAT_0047c7ec)[iVar27];
        (&DAT_0047e538)[uVar16] = 1;
        pdVar26 = (double *)(iVar5 + -1);
        if (iVar5 + -1 < (int)local_164) {
          pdVar26 = local_164;
        }
        iVar5 = DAT_0047e2c4 + (int)pdVar26 * 0x1c;
        if (((*(short *)(iVar5 + 2) == 6) && (0 < *(int *)(pdVar32 + 0x9042d))) &&
           (*(short *)(iVar5 + 0x10) != 0)) {
          local_178 = (double *)0x12c;
LAB_00429b98:
          if (((*(short *)(iVar5 + 0x10) == 0) ||
              ((int)DAT_0047e514 < *(int *)(iVar5 + 4) - (int)local_178)) ||
             (((int)DAT_0047e514 < *(int *)(iVar5 + 4) || (DAT_0047e5c4 == 0)))) goto LAB_00429bc3 ;
        }
        else {
          if ((*(short *)(iVar5 + 2) == 8) && (DAT_0047e4e8 != 0)) {
            local_178 = (double *)0x320;
            goto LAB_00429b98;
          }
          local_178 = NULL;
LAB_00429bc3:
          (&DAT_0047e538)[uVar16] = 0;
        }
        if (DAT_0047e57c == 0) {
          iVar5 = local_130 - *(int *)((int)local_134 + 0x47c88c);
          local_11c = CONCAT44(iVar5,(int)local_11c);
          dVar3 = (double)iVar5;
          if (iVar5 < 0) {
            dVar3 = dVar3 + 4294967296.0;
          }
          if (dVar3 < _DAT_0047ac88 * 300.0) {
LAB_00429c6c:
            (&DAT_0047e538)[uVar16] = 1;
          }
        }
        else {
          iVar5 = local_130 - DAT_0047e57c;
          local_11c = CONCAT44(iVar5,(int)local_11c);
          dVar3 = (double)iVar5;
          if (iVar5 < 0) {
            dVar3 = dVar3 + 4294967296.0;
          }
          dVar4 = _DAT_0047ac88 * 800.0;
          if (dVar3 < dVar4) goto LAB_00429c6c;
          if (dVar4 < dVar3 != (dVar4 == dVar3)) {
            DAT_0047e57c = 0;
          }
        }
        iVar5 = *(int *)(pdVar32 + 0x9051b);
        if (((iVar5 == 0) || ((&DAT_0047e538)[uVar16] != 0)) &&
           ((*(int *)(pdVar32 + 0x9042d) != 0 || (*(int *)(local_134 + 0x8f920) != 0)))) {
          if (*(int *)(local_134 + 0x8f920) == 1) {
            (&DAT_0047e538)[uVar16] = 1;
          }
        }
        else {
          local_178 = DAT_0047e514;
          if (((DAT_0047e62c != 0) || (*(short *)(local_140 + 0x8f9ec) != 0)) &&
             ((*(byte *)(&DAT_0047e608 + uVar16) & 0x80) == 0)) {
            pdVar32 = (double *)(uint)*(ushort *)((int)local_140 + 0x47cf44);
            local_120 = NULL;
            if (pdVar32 != NULL) {
              piVar28 = *(int **)(local_140 + 0x8f9dd);
              local_120 = pdVar32;
              do {
                if (((0 < *piVar28) &&
                    (pdVar26 = (double *)piVar28[1], (int)pdVar26 <= (int)local_178)) &&
                   ((int)local_178 <= *piVar28 + (int)pdVar26)) {
                  local_178 = pdVar26;
                  local_19c = 1;
                }
                piVar28 = piVar28 + 4;
                pdVar32 = (double *)((int)pdVar32 + -1);
              } while (pdVar32 != NULL);
            }
          }
          uVar7 = (uint)local_184[uVar16];
          local_124 = (double *)(*(int *)((int)local_140 + 0x47cecc) + uVar7 * 0x20);
          local_174 = (double *)((int)local_178 - *(int *)local_124);
          if ((int)local_174 < 0) {
            local_174 = (double *)
                        ((int)local_174 + *(int *)(*(int *)(local_140 + 0x8f9de) + uVar7 * 4) * 10 );
          }
          if (local_19c == 0) {
            local_14c = *(double **)(*(int *)(local_140 + 0x8f9de) + uVar7 * 4);
            uVar17 = (uint)((*(int *)(local_124 + 3) - *(int *)local_124) + _DAT_0047e548 +
                           DAT_0047b154[DAT_0047e518]) % (uint)((int)local_14c * 2);
            if (uVar17 != 0) {
              if ((int)uVar17 < (int)local_14c) {
                if ((int)uVar17 < (int)((uint)local_14c >> 1)) {
                  _DAT_0047e548 += -1;
                }
              }
              else if ((int)((int)local_14c * 2 - uVar17) < (int)((uint)local_14c >> 1)) {
                _DAT_0047e548 += 1;
              }
            }
            uVar7 = *(int *)(*(int *)(local_140 + 0x8f9de) + uVar7 * 4) * DAT_0047df40;
            uVar17 = (uint)((*(int *)((int)local_124 + 0x1c) - *(int *)local_124) + _DAT_0047e54c +
                           DAT_0047b154[DAT_0047e518]) % uVar7;
            if (uVar17 != 0) {
              if ((int)uVar17 < (int)(uVar7 >> 1)) {
                if ((int)uVar17 < (int)(uVar7 / DAT_0047df3c)) {
                  _DAT_0047e54c += -1;
                }
              }
              else if ((int)(uVar7 - uVar17) < (int)(uVar7 / DAT_0047df3c)) {
                _DAT_0047e54c += 1;
              }
            }
          }
          local_128 = (double *)
                      (uint)(ushort)(&DAT_0047c7b0)
                                    [*(int *)((int)local_134 + 0x47c804) + uVar16 * 0xf0];
          local_114 = NULL;
          dVar3 = (double)(int)(uint)(ushort)(&DAT_0047c7b0)
                                             [*(int *)((int)local_134 + 0x47c804) + uVar16 * 0xf0] ;
          if ((double)(&DAT_0047acb0)[uVar16] * 100.0 <=
              (local_134[0x8f8ef] / (dVar3 + dVar3)) * 100.1) {
            local_114 = (double *)0x3;
          }
          if (((*(int *)(local_134 + 0x8f8ee) == 0) && ((&DAT_0047c7d8)[iVar27] == 0)) &&
             (((double *)(&DAT_0047c7ec)[iVar27] != local_164 &&
              ((*(int *)((int)local_134 + 0x47c8e4) != 0 && ((&DAT_0047c890)[uVar16 * 0xf1] != 2)) ))
             )) {
            local_114 = (double *)0x2;
          }
          iVar19 = iVar5 >> 1;
          if (*(short *)((int)local_134 + 0x47c90c) != 0) {
            local_164 = (double *)(&DAT_0047c7d8)[iVar27];
            if ((local_164 != (double *)0x1) && (*(int *)(local_134 + 0x8f8ee) != 0)) {
              local_128 = (double *)(local_130 - *(int *)(local_134 + 0x8f922));
              local_11c = CONCAT44(*(uint *)(*(int *)(local_140 + 0x8f9de) +
                                            (uint)local_184[uVar16] * 4) >> 2,(int)local_11c);
              iVar27 = (&DAT_0047dc44)[uVar16 * 2];
              iVar9 = *(int *)((int)local_158 + 0x4828dc);
              pdVar32 = local_114;
              if (local_164 != NULL) {
                pdVar32 = (double *)((int)local_114 + 1);
              }
              uVar51 = CONCAT44(iVar9 * (int)pdVar32,iVar5 * 2);
              iVar8 = iVar9 >> 1;
              uVar40 = FUN_0045db50(iVar9 * (int)pdVar32,iVar5 * 2);
              (*DAT_0047b110)(DAT_0047e2bc,DAT_0047e2c0,(&DAT_0047dc40)[uVar16 * 2] - iVar19,
                              (iVar27 - iVar8) - (int)uVar40,iVar5,iVar9,uVar51);
              iVar27 = local_130 - *(int *)(local_134 + 0x8f922);
              local_11c = CONCAT44(iVar27,(int)local_11c);
              dVar3 = (double)iVar27;
              if (iVar27 < 0) {
                dVar3 = dVar3 + 4294967296.0;
              }
              uVar7 = *(uint *)(*(int *)(local_140 + 0x8f9de) + (uint)local_184[uVar16] * 4) >> 1;
              local_11c = CONCAT44(uVar7,(int)local_11c);
              dVar4 = (double)uVar7;
              if (false) {
                dVar4 = dVar4 + 4294967296.0;
              }
              if (dVar4 * _DAT_0047ac88 < dVar3 != (dVar4 * _DAT_0047ac88 == dVar3)) {
                *(undefined2 *)((int)local_134 + 0x47c90c) = 0;
              }
              goto LAB_0042a291;
            }
          }
          if (((&DAT_0047c7d8)[iVar27] == 0) || (local_114 == (double *)0x2)) {
            local_11c = CONCAT44(*(int *)(local_124 + 3) + _DAT_0047e548 + (int)local_174,
                                 (int)local_11c);
            local_11c = CONCAT44(*(uint *)(*(int *)(local_140 + 0x8f9de) +
                                          (uint)local_184[uVar16] * 4) >> 1,(int)local_11c);
            uVar40 = FUN_0045db50(local_140,*(int *)(local_140 + 0x8f9de));
            uVar7 = (uint)uVar40 & 0x80000001;
            if ((int)uVar7 < 0) {
              uVar7 = (uVar7 - 1 | 0xfffffffe) + 1;
            }
            _DAT_0047e534 = (ushort)uVar7;
            iVar27 = *(int *)((int)local_158 + 0x4828dc);
          }
          else {
            iVar27 = *(int *)(*(int *)(local_140 + 0x8f9de) + (uint)local_184[uVar16] * 4);
            local_170 = (double *)
                        ((uint)(*(int *)(local_124 + 3) + _DAT_0047e548 + (int)local_174) %
                        (uint)(iVar27 * 2));
            local_11c = CONCAT44(iVar27,(int)local_11c);
            dVar4 = (double)(int)local_170;
            dVar3 = (double)iVar27;
            if (iVar27 < 0) {
              dVar3 = dVar3 + 4294967296.0;
            }
            if (dVar3 * 0.9 <= dVar4) {
              if (dVar3 * 0.95 <= dVar4) {
                if ((int)local_170 < iVar27) {
                  _DAT_0047e534 = 2;
                }
                else if (dVar3 * 1.9 <= dVar4) {
                  _DAT_0047e534 = 2;
                  if (dVar3 * 1.95 <= dVar4) goto LAB_0042a1a7;
                }
                else {
                  _DAT_0047e534 = 3;
                }
              }
              else {
LAB_0042a1a7:
                _DAT_0047e534 = 1;
              }
            }
            else {
              _DAT_0047e534 = 0;
            }
            iVar27 = *(int *)((int)local_158 + 0x4828dc);
          }
          (*DAT_0047b110)(DAT_0047e2bc,DAT_0047e2c0,(&DAT_0047dc40)[uVar16 * 2] - iVar19,
                          (&DAT_0047dc44)[uVar16 * 2] - (iVar27 >> 1),iVar5,iVar27,
                          (uint)_DAT_0047e534 * iVar5);
        }
      }
LAB_0042a291:
      if (uVar16 == 0) {
        if (DAT_00482590 != 0) {
          _DAT_0047e4ec = 0x25;
          (*DAT_0047b110)(&DAT_00482560,&DAT_00482564,(int)DAT_0047ac74 - DAT_00482590 >> 1,
                          DAT_0047db8c - (DAT_00482594 >> 1),DAT_00482590,DAT_00482594,0);
        }
        if (-1 < DAT_0047db8c) {
          if (DAT_0047e634 == 0) {
            SetTextColor(HDC_0047b6c0,0xfafafa);
            pcVar11 = _Dst_0047d184;
            do {
              pcVar12 = pcVar11;
              pcVar11 = pcVar12 + 1;
            } while (*pcVar12 != '\0');
            TextOutA(HDC_0047b6c0,(int)DAT_0047ac74 + (-0x14 - (int)psizl_0047b16c),
                     DAT_0047db8c - (DAT_0047b170 >> 1),_Dst_0047d184,(int)(pcVar12 + -0x47d184));
          }
          else {
            _DAT_0047e4ec = 0x2d;
            (*DAT_0047b110)(&DAT_0047e600,&BITMAPINFO_0047e5d4,
                            (int)DAT_0047ac74 + (-0x14 - (int)psizl_0047b16c),
                            DAT_0047db8c - (DAT_0047b170 >> 1),psizl_0047b16c,DAT_0047b170,0);
          }
        }
      }
      iVar27 = DAT_0047df40;
      if ((((uVar16 == DAT_0047e2c8 - 1) && (DAT_0047ce54 != 0)) && (DAT_0047e2c4 != 0)) &&
         ((DAT_0047e2c8 < 2 && (DAT_0047f114 == 2)))) {
        DAT_0047e514 = local_188;
        local_174 = NULL;
        if (((DAT_0047e62c == 0) && (*(short *)(local_140 + 0x8f9ec) == 0)) ||
           ((*(byte *)(&DAT_0047e608 + uVar16) & 0x80) != 0)) {
LAB_0042a469:
          local_178 = local_188;
          pdVar26 = local_188;
        }
        else {
          pdVar32 = (double *)(uint)*(ushort *)((int)local_140 + 0x47cf44);
          local_120 = NULL;
          if (pdVar32 == NULL) goto LAB_0042a469;
          piVar28 = *(int **)(local_140 + 0x8f9dd);
          local_120 = pdVar32;
          pdVar26 = local_188;
          local_14c = pdVar32;
          do {
            if (((0 < *piVar28) &&
                (local_178 = (double *)piVar28[1], (int)local_178 <= (int)pdVar26)) &&
               ((int)pdVar26 <= *piVar28 + (int)local_178)) {
              local_174 = (double *)0x1;
              pdVar26 = local_178;
            }
            piVar28 = piVar28 + 4;
            local_14c = (double *)((int)local_14c + -1);
          } while (local_14c != NULL);
          if (local_174 == NULL) goto LAB_0042a469;
        }
        if ((int)pdVar26 < 0) {
          pdVar26 = (double *)
                    ((int)pdVar26 +
                    *(int *)(*(int *)(local_140 + 0x8f9de) + (uint)local_184[uVar16] * 4) *
                    DAT_0047df40 * 10);
          local_178 = pdVar26;
        }
        if (local_130 < DAT_0047e544) {
          local_130 = DAT_0047e544;
        }
        local_124 = (double *)(uint)local_184[uVar16];
        local_178 = (double *)
                    ((int)pdVar26 -
                    *(int *)((int)local_124 * 0x20 + *(int *)((int)local_140 + 0x47cecc)));
        local_11c = CONCAT44(*(int *)(*(int *)(local_140 + 0x8f9de) + (int)local_124 * 4) *
                             DAT_0047df40,(int)local_11c);
        uVar40 = FUN_0045db50(local_124,*(int *)(local_140 + 0x8f9de));
        uVar7 = (int)(uint)uVar40 >> 0x1f;
        DAT_0047e540 = (ushort)((longlong)(ulonglong)(((uint)uVar40 ^ uVar7) - uVar7 & 0xffff) %
                               (longlong)(int)DAT_0047df3c);
        uVar14 = DAT_0047c7e4;
        if (DAT_0047c7e4 < DAT_0047c7e6) {
          uVar14 = DAT_0047c7e6;
        }
        local_164 = (double *)(uVar14 + 1);
        uVar7 = 0;
        if (local_164 != NULL) {
          do {
            pdVar32 = DAT_0047ac74;
            switch(uVar7) {
            case 0:
              local_120 = (double *)0x2;
              break;
            case 1:
              local_120 = (double *)0x1;
              break;
            case 2:
              local_120 = (double *)0x3;
              break;
            case 3:
              local_120 = NULL;
              break;
            case 4:
              local_120 = (double *)0x4;
            }
            _DAT_0047e4ec = (&DAT_00462b8c)[uVar7];
            if ((uVar7 == DAT_0047c7e4) && (DAT_0047c7e6 < DAT_0047c7e4)) {
              local_11c = CONCAT44(local_130 - DAT_0047e544,(int)local_11c);
              iVar27 = *(int *)(*(int *)(local_140 + 0x8f9de) + (int)local_124 * 4) * iVar27;
              local_128 = (double *)(iVar27 / (int)DAT_0047df3c);
              uVar40 = FUN_0045db50(DAT_0047df3c,iVar27 % (int)DAT_0047df3c);
              iVar19 = (int)uVar40;
              iVar27 = (&DAT_0047ce58)[uVar7 * 2];
              iVar5 = iVar27;
LAB_0042a656:
              iVar9 = (&DAT_0047ce54)[uVar7 * 2];
              uVar40 = CONCAT44(iVar5,iVar9 * iVar19);
              iVar5 = DAT_0047dc68 - (iVar27 >> 1);
              iVar19 = (((int)pdVar32 / 5) * (int)local_120 - (iVar9 >> 1)) + (int)pdVar32 / 10;
            }
            else {
              if ((uVar7 == DAT_0047c7e6) && (DAT_0047c7e4 < DAT_0047c7e6)) {
                local_11c = CONCAT44(local_130 - DAT_0047e544,(int)local_11c);
                iVar27 = *(int *)(*(int *)(local_140 + 0x8f9de) + (int)local_124 * 4) * iVar27;
                local_128 = (double *)(iVar27 / (int)DAT_0047df3c);
                uVar40 = FUN_0045db50(DAT_0047df3c,iVar27 % (int)DAT_0047df3c);
                iVar19 = (int)uVar40;
                iVar27 = (&DAT_0047ce58)[uVar7 * 2];
                iVar5 = iVar27 * 2;
                goto LAB_0042a656;
              }
              iVar9 = (&DAT_0047ce54)[uVar7 * 2];
              iVar27 = (&DAT_0047ce58)[uVar7 * 2];
              uVar40 = (ulonglong)((uint)DAT_0047e540 * iVar9);
              iVar5 = DAT_0047dc68 - (iVar27 >> 1);
              iVar19 = (((int)DAT_0047ac74 / 5) * (int)local_120 - (iVar9 >> 1)) +
                       (int)DAT_0047ac74 / 10;
            }
            (*DAT_0047b110)(&DAT_0047ce40 + uVar7,&DAT_0047b588 + uVar7 * 0x2c,iVar19,iVar5,iVar9,
                            iVar27,uVar40);
            uVar7 += 1;
            uVar16 = local_110;
            iVar27 = DAT_0047df40;
          } while ((int)uVar7 < (int)local_164);
        }
      }
      if (DAT_00482130 != 0) {
        _DAT_0047e4ec = 0x24;
        (*DAT_0047b110)(&DAT_00482100,&DAT_00482104,(int)DAT_0047ac74 - DAT_00482130 >> 1,
                        (&DAT_0047db84)[uVar16] - (DAT_00482134 >> 1),DAT_00482130,DAT_00482134,0) ;
      }
      DAT_0047e514 = local_188;
      SelectObject(HDC_0047b6c0,DAT_0047b178);
      SelectObject(HDC_0047b6c0,DAT_0047ce38);
      iVar27 = local_110 * 0x20;
      local_13c = (int *)(&DAT_0047e1b0 + iVar27);
      local_15c = iVar27;
      piVar28 = (int *)(&DAT_0047e1b0 + iVar27);
      piVar29 = local_1bc;
      for (iVar5 = 8; pdVar32 = local_140, iVar5 != 0; iVar5 += -1) {
        *piVar29 = *piVar28;
        piVar28 = piVar28 + 1;
        piVar29 = piVar29 + 1;
      }
      if (DAT_0047e580 == 1) {
        *(int *)(&DAT_0047e1c8 + iVar27) =
             (int)DAT_0047ac74 + (-*(int *)(&DAT_0047e1c8 + iVar27) - *local_13c);
        *local_13c = 0;
      }
      sVar23 = *(short *)(local_140 + 0x8f9d9);
      if (sVar23 == 0) {
        local_150 = DAT_0047ac74;
        if ((int)*(double **)(&DAT_0047e1c0 + iVar27) <= (int)DAT_0047ac74) {
          local_150 = *(double **)(&DAT_0047e1c0 + iVar27);
        }
        _DAT_0047e4ec = 0x26;
        local_134 = (double *)(local_110 * 0x1e0);
        iVar5 = local_130 - *(int *)(&DAT_0047bb68 + local_110 * 4);
        local_11c = CONCAT44(iVar5,(int)local_11c);
        dVar3 = (double)iVar5;
        *(undefined4 *)(local_134 + 0x8f919) = 0;
        if (iVar5 < 0) {
          dVar3 = dVar3 + 4294967296.0;
        }
        if (_DAT_0047ac88 * 75.0 < dVar3 == (NAN(_DAT_0047ac88 * 75.0) || NAN(dVar3))) {
          local_148 = (int *)(local_110 * 2);
          pdVar32 = (double *)
                    ((uint)*(ushort *)(local_148 + 0x11ec5d) +
                    ((uint)DAT_0047e51c + DAT_0047cf74 * local_110) * 8);
          iVar5 = *(int *)(&DAT_0047e1c4 + iVar27);
          iVar19 = *(int *)(&DAT_0047e1c0 + iVar27);
          local_17c = local_110 * 0x78;
          iVar9 = (&DAT_0047c7d8)[*(int *)(local_134 + 0x8f901) + local_17c];
          *(undefined2 *)((int)local_134 + 0x47c8ce) = *(undefined2 *)((int)local_134 + 0x47c8cc);
          local_128 = (double *)(uint)*(ushort *)(local_148 + 0x11ec5d);
          cVar1 = (char)*(ushort *)(local_148 + 0x11ec5d);
          if (iVar9 == 0) {
            local_128 = pdVar32;
            if (((uint)*(ushort *)((int)local_134 + 0x47c8cc) & 1 << (cVar1 + 1U & 0x1f)) == 0) {
              if (DAT_0047e634 != 0) goto joined_r0x0042ada2;
              iVar9 = 0;
              if (0 < iVar5) {
                local_138 = (uint *)((int)local_150 * 4);
                do {
                  memcpy(ppvBits_0047c2bc +
                         (*(int *)(&DAT_0047e1b4 + iVar27) + iVar9) * (int)DAT_0047ac74 + *local_1 3c
                         ,(void *)(DAT_0047c720 +
                                  (*(int *)(&DAT_0047e1c0 + iVar27) * iVar9 +
                                  (int)((int)pdVar32 + 1) * iVar5 * iVar19) * 4),(size_t)local_138 );
                  iVar9 += 1;
                } while (iVar9 < *(int *)(&DAT_0047e1c4 + iVar27));
              }
            }
          }
          else {
            iVar19 = *(int *)(&DAT_0047e1c0 + iVar27);
            if (((uint)*(ushort *)((int)local_134 + 0x47c8cc) & 1 << (cVar1 + 5U & 0x1f)) == 0) {
              if (DAT_0047e634 == 0) {
                iVar9 = 0;
                if (0 < iVar5) {
                  local_138 = (uint *)((int)local_150 * 4);
                  do {
                    memcpy(ppvBits_0047c2bc +
                           (*(int *)(&DAT_0047e1b4 + iVar27) + iVar9) * (int)DAT_0047ac74 +
                           *local_13c,
                           (void *)(DAT_0047c720 +
                                   (*(int *)(&DAT_0047e1c0 + iVar27) * iVar9 +
                                   (int)((int)pdVar32 + 5) * iVar5 * iVar19) * 4),(size_t)local_138 )
                    ;
                    iVar9 += 1;
                  } while (iVar9 < *(int *)(&DAT_0047e1c4 + iVar27));
                }
              }
              else {
joined_r0x0042ada2:
                if (DAT_0047e634 == 1) {
                  _DAT_0047e4ec = 0x2b;
                  (*DAT_0047b110)(&DAT_0047c720,&DAT_0047ce9c,*local_13c,
                                  *(undefined4 *)(&DAT_0047e1b4 + iVar27),local_150,iVar5,0);
                }
              }
            }
          }
          local_120 = (double *)(*(ushort *)(local_148 + 0x11ec5d) + 1);
          if ((&DAT_0047c7d8)[*(int *)(local_134 + 0x8f901)] != 0) {
            local_120 = (double *)(*(ushort *)(local_148 + 0x11ec5d) + 5);
          }
        }
        else {
          local_17c = local_110 * 0x78;
          iVar5 = (&DAT_0047c7d8)[*(int *)(local_134 + 0x8f901) + local_17c];
          *(undefined2 *)((int)local_134 + 0x47c8ce) = *(undefined2 *)((int)local_134 + 0x47c8cc);
          if (iVar5 == 0) {
            iVar5 = *(int *)(&DAT_0047e1c4 + iVar27);
            local_148 = (int *)(local_110 * 2);
            iVar9 = (DAT_0047cf74 * local_110 + (uint)*(ushort *)(local_148 + 0x11f947)) * iVar5;
            iVar19 = *(int *)(&DAT_0047e1c0 + iVar27);
            if ((*(byte *)((int)local_134 + 0x47c8cc) & 1) == 0) {
              if (DAT_0047e634 == 0) {
                iVar5 = 0;
                if (0 < *(int *)(&DAT_0047e1c4 + iVar27)) {
                  local_138 = (uint *)((int)local_150 * 4);
                  do {
                    memcpy(ppvBits_0047c2bc +
                           (*(int *)(&DAT_0047e1b4 + iVar27) + iVar5) * (int)DAT_0047ac74 +
                           *local_13c,
                           (void *)(DAT_0047c720 +
                                   (*(int *)(&DAT_0047e1c0 + iVar27) * iVar5 + iVar9 * iVar19 * 8) *
                                   4),(size_t)local_138);
                    iVar5 += 1;
                  } while (iVar5 < *(int *)(&DAT_0047e1c4 + iVar27));
                }
              }
              else if (DAT_0047e634 == 1) {
                uVar16 = iVar9 * 8;
                iVar19 = *local_13c;
                uVar49 = *(undefined4 *)(&DAT_0047e1b4 + iVar27);
LAB_0042ab49:
                local_148 = (int *)(local_110 * 2);
                _DAT_0047e4ec = 0x2b;
                (*DAT_0047b110)(&DAT_0047c720,&DAT_0047ce9c,iVar19,uVar49,local_150,iVar5,
                                (ulonglong)uVar16 << 0x20);
              }
            }
          }
          else {
            local_148 = (int *)(local_110 * 2);
            iVar5 = *(int *)(&DAT_0047e1c4 + iVar27);
            iVar9 = (uint)*(ushort *)(local_148 + 0x11f947) + DAT_0047cf74 * local_110;
            iVar8 = iVar5 * iVar9;
            iVar19 = *(int *)(&DAT_0047e1c0 + iVar27);
            if ((*(byte *)((int)local_134 + 0x47c8cc) & 0x10) == 0) {
              if (DAT_0047e634 == 0) {
                if (0 < iVar5) {
                  local_138 = (uint *)((int)local_150 * 4);
                  iVar9 = 0;
                  do {
                    memcpy(ppvBits_0047c2bc +
                           (*(int *)(&DAT_0047e1b4 + iVar27) + iVar9) * (int)DAT_0047ac74 +
                           *local_13c,
                           (void *)(DAT_0047c720 +
                                   ((iVar9 + iVar5 * 4) * *(int *)(&DAT_0047e1c0 + iVar27) +
                                   iVar8 * iVar19 * 8) * 4),(size_t)local_138);
                    iVar5 = *(int *)(&DAT_0047e1c4 + iVar27);
                    iVar9 += 1;
                  } while (iVar9 < iVar5);
                }
              }
              else if (DAT_0047e634 == 1) {
                uVar16 = (iVar9 * 8 + 4) * iVar5;
                uVar49 = *(undefined4 *)(&DAT_0047e1b4 + iVar27);
                iVar19 = *local_13c;
                goto LAB_0042ab49;
              }
            }
          }
          local_120 = NULL;
          if ((&DAT_0047c7d8)[*(int *)(local_134 + 0x8f901) + local_17c] != 0) {
            local_120 = (double *)0x4;
          }
        }
        if (DAT_0047e2c4 != 0) {
          if (*(int *)((int)local_140 + 0x47cf64) < 2) {
            *(undefined4 *)(local_134 + 0x8f919) = 1;
          }
          else {
            local_150 = NULL;
            pdVar32 = local_134;
            if (0 < *(int *)((int)local_140 + 0x47cf64)) {
              do {
                local_124 = *(double **)((int)pdVar32 + 0x47c80c);
                pdVar26 = *(double **)(&DAT_0047e1c4 + iVar27);
                iVar5 = ((int)local_124 - (int)local_150) * (int)pdVar26 +
                        *(int *)(&DAT_0047e1b4 + iVar27) + *(int *)(&DAT_0047e1cc + iVar27);
                local_160 = pdVar26;
                if (*(int *)(pdVar32 + 0x8f91a) != 0) {
                  local_14c = *(double **)((int)pdVar32 + 0x47c8d4);
                  if ((int)local_124 < (int)local_14c) {
                    local_128 = (double *)(local_130 - *(int *)(local_134 + 0x8f91a));
                    uVar40 = FUN_0045db50(local_128,local_134);
                    iVar19 = ((int)local_14c + (-1 - (int)local_124)) * (int)pdVar26;
                  }
                  else {
                    if ((int)local_124 <= (int)local_14c) goto LAB_0042af62;
                    local_128 = (double *)(local_130 - *(int *)(local_134 + 0x8f91a));
                    uVar40 = FUN_0045db50(local_134,local_14c);
                    iVar19 = -(((int)local_124 + (-1 - (int)local_14c)) * (int)pdVar26);
                  }
                  iVar5 += iVar19 - (int)uVar40;
                  pdVar32 = local_134;
                }
LAB_0042af62:
                if (DAT_00481d08 == 0) {
                  if ((*(int *)(&DAT_0047e1b4 + iVar27) <= iVar5 + -8) &&
                     (iVar5 <= *(int *)(&DAT_0047e1bc + iVar27))) {
                    if (local_150 == NULL) {
                      pcVar11 = "Normal";
LAB_0042afd2:
                      strcpy_s(local_10c,0x100,pcVar11);
                    }
                    else {
                      if (local_150 == (double *)0x1) {
                        pcVar11 = "Expert";
                        goto LAB_0042afd2;
                      }
                      if (local_150 == (double *)0x2) {
                        pcVar11 = "Master";
                        goto LAB_0042afd2;
                      }
                    }
                    FUN_00437c50(iVar5 + -8,local_10c);
                    pdVar32 = local_134;
                  }
                }
                else {
                  if (*(int *)(pdVar32 + 0x8f91a) == 0) {
                    if (((uint)*(ushort *)((int)pdVar32 + 0x47c8cc) & 1 << ((byte)local_120 & 0x1f ))
                        != 0) {
                      *(undefined4 *)(pdVar32 + 0x8f919) = 1;
                    }
                    if (((*(int *)(pdVar32 + 0x8f91a) != 0) || (*(int *)(pdVar32 + 0x8f919) == 0))
                       || (DAT_0047e634 == 1)) goto LAB_0042b042;
LAB_0042b0e6:
                    pdVar26 = DAT_0047ac74;
                    if (*(int *)(pdVar32 + 0x8f919) == 1) {
                      pdVar32 = DAT_0047ac74;
                      if ((int)*(double **)(&DAT_0047e1c0 + iVar27) <= (int)DAT_0047ac74) {
                        pdVar32 = *(double **)(&DAT_0047e1c0 + iVar27);
                      }
                      iVar5 = *(int *)(&DAT_0047e1c4 + iVar27);
                      iVar19 = 0;
                      if (0 < iVar5) {
                        local_160 = (double *)((int)pdVar32 * 4);
                        uVar16 = (uint)local_120 & 0x80000003;
                        if ((int)uVar16 < 0) {
                          uVar16 = (uVar16 - 1 | 0xfffffffc) + 1;
                        }
                        local_124 = (double *)(local_110 * 7 + 3 + uVar16);
                        do {
                          memcpy(ppvBits_0047c2bc +
                                 (*(int *)(&DAT_0047e1b4 + iVar27) + iVar19) * (int)pdVar26 +
                                 *local_13c,
                                 (void *)(DAT_00481cd8 +
                                         (((int)local_124 * iVar5 + iVar19) * (int)pdVar26 +
                                         *local_13c) * 4),(size_t)local_160);
                          iVar5 = *(int *)(&DAT_0047e1c4 + iVar27);
                          iVar19 += 1;
                        } while (iVar19 < iVar5);
                      }
                      break;
                    }
                  }
                  else {
LAB_0042b042:
                    *(undefined2 *)((int)pdVar32 + 0x47c8cc) = 0;
                    *(undefined4 *)(pdVar32 + 0x8f919) = 0;
                    if (DAT_0047e620 == 0) {
                      if (DAT_0047e634 == 0) {
                        DAT_0047b114 = FUN_00401690;
                        DAT_0047b10c = FUN_004023a0;
                      }
                      else {
                        DAT_0047b114 = FUN_00402820;
                        DAT_0047b10c = FUN_004028c0;
                        _DAT_0047e4ec = 0x3a;
                      }
                      (*DAT_0047b114)(&DAT_00481cd8,&DAT_00481cdc,*local_13c,
                                      iVar5 - ((int)pdVar26 >> 1),*(int *)(&DAT_0047e1c0 + iVar27),
                                      pdVar26,0x200 - *(int *)(&DAT_0047e1c0 + iVar27),
                                      (local_110 * 7 + (int)local_150) * (int)pdVar26);
                      pdVar32 = local_134;
                      goto LAB_0042b0e6;
                    }
                  }
                  if ((*(int *)(pdVar32 + 0x8f91a) == 0) &&
                     (local_150 == *(double **)((int)pdVar32 + 0x47c8d4))) {
                    pdVar32 = DAT_0047ac74;
                    if ((int)*(double **)(&DAT_0047e1c0 + iVar27) <= (int)DAT_0047ac74) {
                      pdVar32 = *(double **)(&DAT_0047e1c0 + iVar27);
                    }
                    iVar5 = *(int *)(&DAT_0047e1c4 + iVar27);
                    iVar19 = 0;
                    if (0 < iVar5) {
                      local_160 = (double *)((int)pdVar32 * 4);
                      uVar16 = (uint)local_120 & 0x80000003;
                      if ((int)uVar16 < 0) {
                        uVar16 = (uVar16 - 1 | 0xfffffffc) + 1;
                      }
                      local_124 = (double *)(local_110 * 7 + 3 + uVar16);
                      pdVar32 = DAT_0047ac74;
                      do {
                        pdVar26 = DAT_0047ac74;
                        memcpy((void *)(DAT_00481cd8 +
                                       (((int)local_124 * iVar5 + iVar19) * (int)DAT_0047ac74 +
                                       *local_13c) * 4),
                               ppvBits_0047c2bc +
                               (*(int *)(&DAT_0047e1b4 + iVar27) + iVar19) * (int)pdVar32 +
                               *local_13c,(size_t)local_160);
                        iVar5 = *(int *)(&DAT_0047e1c4 + iVar27);
                        iVar19 += 1;
                        pdVar32 = pdVar26;
                      } while (iVar19 < iVar5);
                    }
                    *(short *)((int)local_134 + 0x47c8cc) =
                         *(short *)((int)local_134 + 0x47c8cc) + (1 << ((byte)local_120 & 0x1f));
                    pdVar32 = local_134;
                  }
                }
                local_150 = (double *)((int)local_150 + 1);
              } while ((int)local_150 < *(int *)((int)local_140 + 0x47cf64));
            }
          }
          pdVar32 = DAT_0047bad8;
          if (DAT_0047bad8 != NULL) {
            iVar5 = *(int *)((int)local_140 + 0x47cf64);
            if (iVar5 == 1) {
              *(undefined2 *)((int)local_134 + 0x47c8da) = *(undefined2 *)(local_134 + 0x8f91b);
            }
            *(undefined2 *)(local_134 + 0x8f91b) = 0;
            uVar16 = *(uint *)(local_134 + 0x8f901);
            if (uVar16 != *(uint *)((int)local_134 + 0x47c80c)) {
              uVar16 = (uint)*(ushort *)((int)local_134 + 0x47c80c);
            }
            *(short *)(local_134 + 0x8f91b) = (short)uVar16 * 2;
            if ((&DAT_0047c7d8)[*(int *)(local_134 + 0x8f901) + local_17c] != 0) {
              *(short *)(local_134 + 0x8f91b) = *(short *)(local_134 + 0x8f91b) + 1;
            }
            if ((*(short *)(local_134 + 0x8f91b) != *(short *)((int)local_134 + 0x47c8da)) ||
               (DAT_0047e51c != DAT_0047e520)) {
              if (iVar5 == 1) {
                local_114 = pdVar32;
                if ((int)DAT_0047ac74 - *local_13c <= (int)pdVar32) {
                  local_114 = (double *)((int)DAT_0047ac74 - *local_13c);
                }
                local_150 = (double *)
                            ((-(uint)((&DAT_0047c7d8)[*(int *)(local_134 + 0x8f901) + local_17c] ! =
                                     0) & 4) +
                            (DAT_0047cf74 * local_110 + (uint)*(ushort *)(local_148 + 0x11f947)) *  8
                            );
                local_158 = DAT_0047ac74;
                if ((int)pdVar32 < (int)DAT_0047ac74) {
                  local_158 = pdVar32;
                }
                local_124 = (double *)(local_110 * 4 + 1);
                local_120 = (double *)0x1;
                do {
                  iVar27 = 0;
                  if (0 < DAT_0047badc) {
                    local_160 = (double *)((int)local_150 + (int)local_120);
                    iVar5 = local_15c;
                    do {
                      iVar19 = local_15c;
                      uVar16 = *(int *)(&DAT_0047e1c4 + iVar5) - DAT_0047badc;
                      memcpy((void *)(DAT_0047b690 +
                                     ((int)local_124 * DAT_0047badc + iVar27) * (int)pdVar32 * 4),
                             (void *)(DAT_0047c720 +
                                     (((int)(uVar16 & ((int)uVar16 < 0) - 1) >> 1) +
                                     (int)local_160 * *(int *)(&DAT_0047e1c4 + iVar5) + iVar27) *
                                     *(int *)(&DAT_0047e1c0 + local_15c) * 4),(int)local_114 * 4);
                      iVar27 += 1;
                      iVar5 = iVar19;
                      pdVar32 = DAT_0047bad8;
                    } while (iVar27 < DAT_0047badc);
                  }
                  pdVar26 = local_124;
                  FUN_00401000((int)local_124 * DAT_0047badc,(int)local_158,&DAT_0047b690,0x47d6ec ,
                               &DAT_0047b690,0x47d6ec,0,DAT_0047badc * local_110 * 4);
                  pdVar32 = DAT_0047bad8;
                  local_120 = (double *)((int)local_120 + 1);
                  local_124 = (double *)((int)pdVar26 + 1);
                } while ((int)local_120 < 4);
                *(undefined2 *)((int)local_134 + 0x47c8da) = *(undefined2 *)(local_134 + 0x8f91b);
                iVar27 = local_15c;
              }
              else if (((*(int *)(local_134 + 0x8f91a) == 0) &&
                       (*(int *)((int)local_134 + 0x47c8d4) == *(int *)((int)local_134 + 0x47c80c) ))
                      && (*(int *)(local_134 + 0x8f919) == 1)) {
                local_114 = pdVar32;
                if ((int)DAT_0047ac74 - *local_13c <= (int)pdVar32) {
                  local_114 = (double *)((int)DAT_0047ac74 - *local_13c);
                }
                pdVar26 = (double *)(local_110 * 7);
                local_150 = (double *)
                            ((-(uint)((&DAT_0047c7d8)[*(int *)(local_134 + 0x8f901) + local_17c] ! =
                                     0) & 4) +
                            (DAT_0047cf74 * local_110 + (uint)*(ushort *)(local_148 + 0x11f947)) *  8
                            );
                local_124 = (double *)(local_110 * 4 + 1);
                local_120 = (double *)0x1;
                local_128 = pdVar26;
                do {
                  iVar27 = 0;
                  if (0 < DAT_0047badc) {
                    local_160 = (double *)((int)local_150 + (int)local_120);
                    iVar5 = local_15c;
                    do {
                      iVar19 = local_15c;
                      uVar16 = *(int *)(&DAT_0047e1c4 + iVar5) - DAT_0047badc;
                      memcpy((void *)(DAT_0047b690 +
                                     ((int)local_124 * DAT_0047badc + iVar27) * (int)pdVar32 * 4),
                             (void *)(DAT_0047c720 +
                                     (((int)(uVar16 & ((int)uVar16 < 0) - 1) >> 1) +
                                     (int)local_160 * *(int *)(&DAT_0047e1c4 + iVar5) + iVar27) *
                                     *(int *)(&DAT_0047e1c0 + local_15c) * 4),(int)local_114 * 4);
                      iVar27 += 1;
                      pdVar26 = local_128;
                      iVar5 = iVar19;
                      pdVar32 = DAT_0047bad8;
                    } while (iVar27 < DAT_0047badc);
                  }
                  pdVar33 = local_124;
                  uVar16 = *(int *)(&DAT_0047e1c4 + local_15c) - DAT_0047badc;
                  FUN_00401000((int)local_124 * DAT_0047badc,(int)pdVar32,&DAT_0047b690,0x47d6ec,
                               &DAT_00481cd8,0x481cdc,*local_13c,
                               (int)(*(int *)((int)local_134 + 0x47c80c) + (int)pdVar26) *
                               *(int *)(&DAT_0047e1c4 + local_15c) +
                               ((int)(uVar16 & ((int)uVar16 < 0) - 1) >> 1));
                  FUN_00401000((int)pdVar33 * DAT_0047badc,(int)DAT_0047bad8,&DAT_0047b690,0x47d6e c,
                               &DAT_0047b690,0x47d6ec,0,DAT_0047badc * local_110 * 4);
                  pdVar32 = DAT_0047bad8;
                  local_120 = (double *)((int)local_120 + 1);
                  local_124 = (double *)((int)pdVar33 + 1);
                } while ((int)local_120 < 4);
                *(undefined2 *)((int)local_134 + 0x47c8da) = *(undefined2 *)(local_134 + 0x8f91b);
                iVar27 = local_15c;
              }
            }
            iVar5 = local_130 - *(int *)(&DAT_0047b6d0 + local_110 * 4);
            local_11c = CONCAT44(iVar5,(int)local_11c);
            dVar3 = (double)iVar5;
            if (iVar5 < 0) {
              dVar3 = dVar3 + 4294967296.0;
            }
            if (dVar3 < _DAT_0047ac88 * 75.0) {
              pdVar26 = (double *)*local_13c;
              if (*(short *)(local_134 + 0x8f91b) == *(short *)((int)local_134 + 0x47c8da)) {
                pdVar33 = (double *)((int)DAT_0047ac74 - (int)pdVar26);
                if ((int)pdVar32 < (int)DAT_0047ac74 - (int)pdVar26) {
                  pdVar33 = pdVar32;
                }
                if ((int)*(double **)(&DAT_0047e1c0 + iVar27) < (int)pdVar33) {
                  pdVar33 = *(double **)(&DAT_0047e1c0 + iVar27);
                }
                local_158 = pdVar26;
                if (DAT_0047e634 == 0) {
                  iVar5 = 0;
                  if (0 < DAT_0047badc) {
                    local_160 = (double *)((int)pdVar33 * 4);
                    iVar19 = local_15c;
                    do {
                      iVar27 = local_15c;
                      memcpy(ppvBits_0047c2bc +
                             (((int)(*(int *)(&DAT_0047e1c4 + iVar19) - DAT_0047badc &
                                    (*(int *)(&DAT_0047e1c4 + iVar19) - DAT_0047badc < 0) - 1) >> 1 )
                              + *(int *)(&DAT_0047e1b4 + local_15c) + iVar5) * (int)DAT_0047ac74 +
                             *local_13c,
                             (void *)(DAT_0047b690 +
                                     ((*(ushort *)(local_148 + 0x11ec5d) + 1 + local_110 * 4) *
                                      DAT_0047badc + iVar5) * (int)pdVar32 * 4),(size_t)local_160) ;
                      iVar5 += 1;
                      iVar19 = iVar27;
                      pdVar32 = DAT_0047bad8;
                    } while (iVar5 < DAT_0047badc);
                  }
                }
                else {
                  _DAT_0047e4ec = 0x2c;
                  (*DAT_0047b110)(&DAT_0047b690,&DAT_0047d6ec,pdVar26,
                                  ((int)(*(int *)(&DAT_0047e1c4 + iVar27) - DAT_0047badc &
                                        (*(int *)(&DAT_0047e1c4 + iVar27) - DAT_0047badc < 0) - 1)
                                  >> 1) + *(int *)(&DAT_0047e1b4 + iVar27),pdVar32,DAT_0047badc,0);
                }
              }
              else {
                if ((int)DAT_0047ac74 - (int)pdVar26 <= (int)pdVar32) {
                  pdVar32 = (double *)((int)DAT_0047ac74 - (int)pdVar26);
                }
                _DAT_0047e4ec = 0x2c;
                (*DAT_0047b114)(&DAT_0047b690,&DAT_0047d6ec,pdVar26,
                                (*(int *)(&DAT_0047e1b4 + iVar27) - (DAT_0047badc >> 1)) +
                                (*(int *)(&DAT_0047e1c4 + iVar27) >> 1),pdVar32,DAT_0047badc,0,
                                (*(ushort *)(local_148 + 0x11ec5d) + 1 + local_110 * 4) *
                                DAT_0047badc);
              }
            }
          }
          if (DAT_0047e620 != 0) {
            pdVar32 = *(double **)(&DAT_0047e1c0 + iVar27);
            pdVar26 = DAT_0047ac74;
            if ((int)pdVar32 <= (int)DAT_0047ac74) {
              pdVar26 = pdVar32;
            }
            pdVar32 = (double *)
                      ((DAT_0047cf74 * local_110 + (uint)DAT_0047e51c) *
                       *(int *)(&DAT_0047e1c4 + iVar27) * (int)pdVar32 * 8);
            iVar5 = 0;
            local_120 = pdVar32;
            if (0 < *(int *)(&DAT_0047e1c4 + iVar27)) {
              local_138 = (uint *)((int)pdVar26 * 4);
              do {
                memcpy(ppvBits_0047c2bc +
                       (*(int *)(&DAT_0047e1b4 + iVar27) + iVar5) * (int)DAT_0047ac74 + *local_13c ,
                       (void *)(DAT_0047c720 +
                               (int)(*(int *)(&DAT_0047e1c0 + iVar27) * iVar5 + (int)pdVar32) * 4) ,
                       (size_t)local_138);
                iVar5 += 1;
              } while (iVar5 < *(int *)(&DAT_0047e1c4 + iVar27));
            }
          }
          SelectObject(HDC_0047b6c0,DAT_0047bae0);
          if (((DAT_0047e62c != 0) || (*(short *)(local_140 + 0x8f9ec) != 0)) &&
             ((*(byte *)(local_148 + 0x11f982) & 0x80) == 0)) {
            pdVar32 = (double *)(uint)*(ushort *)((int)local_140 + 0x47cf44);
            local_120 = NULL;
            if (pdVar32 != NULL) {
              piVar28 = *(int **)(local_140 + 0x8f9dd);
              pdVar26 = DAT_0047e514;
              pdVar33 = pdVar32;
              do {
                if (((0 < *piVar28) && (pdVar6 = (double *)piVar28[1], (int)pdVar6 <= (int)pdVar26 ))
                   && ((int)pdVar26 <= *piVar28 + (int)pdVar6)) {
                  pdVar26 = pdVar6;
                  DAT_0047e514 = pdVar6;
                }
                piVar28 = piVar28 + 4;
                pdVar33 = (double *)((int)pdVar33 + -1);
                local_120 = pdVar32;
              } while (pdVar33 != NULL);
            }
          }
          local_12c = NULL;
          local_180 = NULL;
          local_150 = (double *)&DAT_0047d670;
          do {
            if ((uint)DAT_0047cf0c <= (uint)(DAT_0047e518 + (int)local_12c)) break;
            iVar5 = *(int *)((int)local_134 + 0x47c80c) + (int)local_134;
            local_120 = (double *)(uint)*(ushort *)(&DAT_0047cf16 + iVar5 * 2);
            pdVar32 = (double *)((uint)*(ushort *)(&DAT_0047cf10 + iVar5 * 2) + (int)local_120);
            local_14c = NULL;
            if (local_120 < pdVar32) {
              puVar24 = (ushort *)(*(int *)((int)local_140 + 0x47ced4) + (int)local_120 * 8);
              do {
                if ((int)(uint)*puVar24 <= DAT_0047e518 + (int)local_12c) {
                  local_14c = (double *)((uint)local_120 & 0xffff);
                }
                local_120 = (double *)((int)local_120 + 1);
                puVar24 = puVar24 + 4;
              } while ((int)local_120 < (int)pdVar32);
            }
            if (*(int *)(*(int *)((int)local_140 + 0x47ced4) + 4 + (int)local_14c * 8) == 1) {
              pdVar32 = NULL;
              *(undefined4 *)((int)local_180 + DAT_0047e2c4 + 8) = 0;
              local_178 = NULL;
              local_114 = NULL;
              if (DAT_0047cf0a != 0) {
                local_160 = (double *)DAT_0047b154[DAT_0047e518 + (int)local_12c];
                piVar28 = DAT_0047cecc;
                do {
                  if (*piVar28 <= (int)local_160) {
                    local_114 = (double *)((uint)pdVar32 & 0xffff);
                  }
                  if (*piVar28 <= (int)DAT_0047e514) {
                    local_178 = pdVar32;
                  }
                  pdVar32 = (double *)((int)pdVar32 + 1);
                  piVar28 = piVar28 + 8;
                } while ((int)pdVar32 < (int)(uint)DAT_0047cf0a);
              }
              iVar5 = *(int *)((int)local_134 + 0x47c80c) + (int)local_134;
              local_120 = (double *)(uint)(ushort)(&DAT_0047cf26)[iVar5];
              local_164 = (double *)((uint)(ushort)(&DAT_0047cf20)[iVar5] + (int)local_120);
              local_124 = NULL;
              local_11c = (ulonglong)CONCAT24((&DAT_0047cf26)[iVar5],(int)local_11c);
              if (local_120 < local_164) {
                local_160 = (double *)DAT_0047b154[DAT_0047e518 + (int)local_12c];
                piVar28 = (int *)(*(int *)(local_140 + 0x8f9db) + (int)local_120 * 0x18);
                do {
                  if (*piVar28 <= (int)local_160) {
                    local_124 = (double *)((uint)local_120 & 0xffff);
                  }
                  local_120 = (double *)((int)local_120 + 1);
                  piVar28 = piVar28 + 6;
                } while ((int)local_120 < (int)local_164);
              }
              local_154 = NULL;
              if ((DAT_0047e62c == 0) && (*(short *)(local_140 + 0x8f9ec) == 0)) {
LAB_0042c033:
                local_138 = (uint *)((int)local_12c + DAT_0047e518);
                local_158 = (double *)*local_13c;
                local_144 = *(int *)(&DAT_0047e1c0 + iVar27);
                local_128 = (double *)
                            ((DAT_0047b154[(int)local_138] - (int)local_154) - (int)DAT_0047e514);
                local_18c = *(int *)(local_140 + 0x8f9db);
                uVar40 = FUN_0045db50(*(int *)((int)local_140 + 0x47cecc),(int)local_124 * 3);
                *(int *)local_150 = (int)local_158 + *(int *)(&DAT_0047e1c8 + iVar27) + (int)uVar4 0;
                pdVar32 = local_150;
              }
              else {
                if ((*(byte *)(local_148 + 0x11f982) & 0x80) == 0) {
                  pdVar32 = (double *)(uint)*(ushort *)((int)local_140 + 0x47cf44);
                  local_120 = NULL;
                  if (pdVar32 != NULL) {
                    piVar28 = *(int **)(local_140 + 0x8f9dd);
                    local_14c = pdVar32;
                    do {
                      if ((0 < *piVar28) &&
                         (iVar5 = piVar28[1], iVar5 <= DAT_0047b154[DAT_0047e518 + (int)local_12c] ))
                      {
                        if (iVar5 < (int)DAT_0047e514) {
                          if (iVar5 + *piVar28 <= (int)DAT_0047e514) goto LAB_0042bcfa;
                          iVar5 = (iVar5 + *piVar28) - (int)DAT_0047e514;
                        }
                        else {
                          iVar5 = *piVar28;
                        }
                        local_154 = (double *)((int)local_154 + iVar5);
                      }
LAB_0042bcfa:
                      piVar28 = piVar28 + 4;
                      local_14c = (double *)((int)local_14c + -1);
                      local_120 = pdVar32;
                    } while (local_14c != NULL);
                  }
                }
                if (((DAT_0047e62c == 0) && (*(short *)(local_140 + 0x8f9ec) == 0)) ||
                   ((*(byte *)(local_148 + 0x11f982) & 0x80) != 0)) goto LAB_0042c033;
                local_160 = (double *)((int)local_178 + 1);
                if (local_160 == (double *)(uint)*(ushort *)((int)local_140 + 0x47cf0a))
                goto LAB_0042c033;
                pdVar32 = (double *)((int)(uint)*(ushort *)((int)local_140 + 0x47cf0a) + -1);
                if ((int)local_160 <= (int)pdVar32) {
                  pdVar32 = local_160;
                }
                local_138 = (uint *)(DAT_0047e518 + (int)local_12c);
                if (DAT_0047b154[(int)local_138] <
                    *(int *)((int)pdVar32 * 0x20 + *(int *)((int)local_140 + 0x47cecc)))
                goto LAB_0042c033;
                local_144 = *(int *)(&DAT_0047e1c0 + iVar27);
                local_18c = *(int *)(local_140 + 0x8f9db);
                local_124 = (double *)(local_18c + 8 + (int)local_124 * 0x18);
                local_128 = (double *)
                            (*(int *)(*(int *)((int)local_140 + 0x47cecc) + (int)local_178 * 0x20 +
                                     0x20) - (int)DAT_0047e514);
                pdVar32 = (double *)*local_13c;
                local_158 = pdVar32;
                uVar40 = FUN_0045db50(local_13c,local_128);
                uVar16 = (uint)local_114 & 0xffff;
                pdVar32 = (double *)((int)pdVar32 + *(int *)(&DAT_0047e1c8 + iVar27) + (int)uVar40 );
                *(double **)local_150 = pdVar32;
                if ((int)local_160 < (int)uVar16) {
                  piVar28 = (int *)((int)local_160 * 0x20 + *(int *)((int)local_140 + 0x47cecc));
                  local_160 = (double *)(uVar16 - (int)local_160);
                  pdVar26 = local_140;
                  local_14c = pdVar32;
                  do {
                    local_128 = (double *)(piVar28[8] - *piVar28);
                    uVar40 = FUN_0045db50(local_124,pdVar26);
                    local_14c = (double *)((int)local_14c + (int)uVar40);
                    piVar28 = piVar28 + 8;
                    local_160 = (double *)((int)local_160 + -1);
                    *(double **)local_150 = local_14c;
                    pdVar26 = local_150;
                  } while (local_160 != NULL);
                }
                local_128 = (double *)
                            (DAT_0047b154[(int)local_138] -
                            *(int *)(uVar16 * 0x20 + *(int *)((int)local_140 + 0x47cecc)));
                uVar40 = FUN_0045db50(local_124,DAT_0047b154);
                pdVar32 = local_150;
                *(int *)local_150 = *(int *)local_150 + (int)uVar40;
                pdVar26 = (double *)(uint)*(ushort *)((int)local_140 + 0x47cf44);
                local_120 = NULL;
                if (pdVar26 != NULL) {
                  puVar42 = *(undefined4 **)(local_140 + 0x8f9dd);
                  local_14c = pdVar26;
                  local_120 = pdVar26;
                  do {
                    local_128 = (double *)*puVar42;
                    if (((0 < (int)local_128) && ((int)puVar42[1] <= DAT_0047b154[(int)local_138]) )
                       && ((int)DAT_0047e514 <= (int)puVar42[1])) {
                      uVar40 = FUN_0045db50(local_138,local_124);
                      *(int *)pdVar32 = *(int *)pdVar32 - (int)uVar40;
                    }
                    puVar42 = puVar42 + 4;
                    local_14c = (double *)((int)local_14c + -1);
                  } while (local_14c != NULL);
                }
              }
              if (DAT_0047e580 == 1) {
                *(int *)pdVar32 = *(int *)(&DAT_0047e1c8 + iVar27) * 2 - *(int *)pdVar32;
              }
              DAT_0047b114 = FUN_00401690;
              if (DAT_0047e634 != 0) {
                DAT_0047b114 = FUN_00402820;
              }
              iVar5 = *(int *)(&DAT_0047e1b4 + iVar27);
              *(int *)((int)pdVar32 + 4) = iVar5;
              iVar19 = *(int *)pdVar32;
              if (((int)local_158 <= iVar19) && (iVar19 - (int)local_158 < local_144)) {
                if ((*(short *)((int)local_140 + 0x47cf1c) == 0) ||
                   (local_138 !=
                    (uint *)(uint)*(ushort *)
                                   (*(int *)(local_140 + 0x8f9dc) +
                                   (uint)*(ushort *)((int)local_134 + 0x47c8b2) * 0x28))) {
                  local_120 = local_11c._4_4_;
                  if ((int)local_11c._4_4_ < (int)local_164) {
                    local_160 = (double *)DAT_0047b154[(int)local_138];
                    piVar28 = (int *)(local_18c + (int)local_11c._4_4_ * 0x18);
                    do {
                      if ((int)local_160 <= *piVar28) break;
                      local_120 = (double *)((int)local_120 + 1);
                      piVar28 = piVar28 + 6;
                    } while ((int)local_120 < (int)local_164);
                  }
                  if (DAT_0047e634 == 0) {
                    (*DAT_0047b114)(&ppvBits_0047c2b8,&lpbmi_0047bcbc,iVar19,iVar5,1,
                                    *(undefined4 *)(&DAT_0047e1c4 + iVar27),0,0);
                  }
                }
                else if (DAT_0047e634 == 0) {
                  (*DAT_0047b114)(&ppvBits_0047c2b8,&lpbmi_0047bcbc,iVar19,iVar5,3,
                                  *(undefined4 *)(&DAT_0047e1c4 + iVar27),1,0);
                }
              }
            }
            local_12c = (double *)((int)local_12c + 1);
            local_180 = local_180 + 0xe;
            local_150 = local_150 + 1;
          } while ((int)local_150 < 0x47d6b0);
        }
        piVar28 = local_13c;
        _DAT_0047e4ec = 0;
        (*DAT_0047b110)(&DAT_004829c0,&DAT_004829c4,
                        (*local_13c - DAT_004829f0 / 2) + *(int *)(&DAT_0047e1c8 + iVar27),
                        (*(int *)(&DAT_0047e1cc + iVar27) - DAT_004829f4 / 2) +
                        *(int *)(&DAT_0047e1b4 + iVar27),DAT_004829f0,DAT_004829f4,0);
        if ((DAT_004827c0 != 0) && ((&DAT_0047c7d8)[*(int *)(local_134 + 0x8f901) + local_17c] != 0)
           ) {
          _DAT_0047e4ec = 0x17;
          (*DAT_0047b110)(&DAT_00482790,&DAT_00482794,
                          (*piVar28 - (DAT_004827c0 >> 1)) + *(int *)(&DAT_0047e1c8 + iVar27),
                          (*(int *)(&DAT_0047e1cc + iVar27) - (DAT_004827c4 >> 1)) +
                          *(int *)(&DAT_0047e1b4 + iVar27),DAT_004827c0,DAT_004827c4,
                          (((int)DAT_0047e514 / DAT_0047de9c) % DAT_0047de98) * DAT_004827c0);
        }
        uVar16 = local_130;
        if (DAT_00482478 != 0) {
          local_120 = (double *)0x4;
          if (DAT_0047def4 == 0) {
            local_180 = (ushort *)(&DAT_0047bdec + iVar27);
            local_164 = (double *)0x4;
            iVar5 = DAT_00482478;
            do {
              iVar19 = *(int *)local_180;
              iVar9 = uVar16 - iVar19;
              local_11c = CONCAT44(iVar9,(int)local_11c);
              dVar3 = (double)iVar9;
              if (iVar9 < 0) {
                dVar3 = dVar3 + 4294967296.0;
              }
              if (((dVar3 < (double)DAT_0047def8 * _DAT_0047ac88) &&
                  (*(ushort *)(local_148 + 0x11ec5d) < 2)) &&
                 ((&DAT_0047c890)[local_110 * 0xf1] != 0)) {
                iVar9 = DAT_0047def8 >> 2;
                if ((&DAT_0047c890)[local_110 * 0xf1] == 2) {
                  _DAT_0047e4ec = 0x16;
                  uVar7 = (uVar16 - iVar9) - iVar19;
                  uVar17 = (int)uVar7 >> 0x1f;
                  uVar7 = ((uVar7 ^ uVar17) - uVar17) * 2;
                  iVar9 = (*(int *)(&DAT_0047e1cc + iVar27) - (DAT_0048247c >> 1)) +
                          *(int *)(&DAT_0047e1b4 + iVar27);
                  iVar19 = (*local_13c - (iVar5 >> 1)) + *(int *)(&DAT_0047e1c8 + iVar27);
                  puVar42 = &DAT_004827c8;
                }
                else {
                  _DAT_0047e4ec = 0x14;
                  uVar7 = (uVar16 - iVar19) - iVar9;
                  uVar17 = (int)uVar7 >> 0x1f;
                  uVar7 = iVar9 + ((uVar7 ^ uVar17) - uVar17) * 2;
                  iVar9 = (*(int *)(&DAT_0047e1cc + iVar27) - (DAT_0048247c >> 1)) +
                          *(int *)(&DAT_0047e1b4 + iVar27);
                  iVar19 = (*local_13c - (iVar5 >> 1)) + *(int *)(&DAT_0047e1c8 + iVar27);
                  puVar42 = &DAT_00482448;
                }
                (*DAT_0047b11c)(puVar42,&DAT_0048244c,iVar19,iVar9,iVar5,DAT_0048247c,0,
                                (ulonglong)uVar7 << 0x20);
                iVar5 = DAT_00482478;
              }
              local_180 = local_180 + 4;
              local_164 = (double *)((int)local_164 + -1);
            } while (local_164 != NULL);
          }
          else {
            local_124 = (double *)(&DAT_0047bdec + iVar27);
            local_164 = (double *)0x4;
            iVar5 = DAT_00482478;
            do {
              iVar9 = DAT_0048247c;
              iVar19 = *(int *)local_124;
              dVar3 = (double)(int)(local_130 - iVar19);
              if ((int)(local_130 - iVar19) < 0) {
                dVar3 = dVar3 + 4294967296.0;
              }
              local_11c = CONCAT44(DAT_0047def8 * DAT_0047def4,(int)local_11c);
              dVar4 = (double)(DAT_0047def8 * DAT_0047def4) * _DAT_0047ac88;
              if (dVar3 < dVar4 != (NAN(dVar3) || NAN(dVar4))) {
                _DAT_0047e4ec = 0x14;
                local_11c = CONCAT44(local_130 - iVar19,(int)local_11c);
                uVar40 = FUN_0045db50(iVar19,local_130 - iVar19);
                (*DAT_0047b110)(&DAT_00482448,&DAT_0048244c,
                                (*local_13c - (iVar5 >> 1)) + *(int *)(&DAT_0047e1c8 + iVar27),
                                (*(int *)(&DAT_0047e1cc + iVar27) - (iVar9 >> 1)) +
                                *(int *)(&DAT_0047e1b4 + iVar27),iVar5,iVar9,(int)uVar40 * iVar5);
                iVar5 = DAT_00482478;
              }
              local_124 = local_124 + 1;
              local_164 = (double *)((int)local_164 + -1);
            } while (local_164 != NULL);
          }
        }
      }
      else if (sVar23 == 1) {
        uVar16 = 0;
        do {
          uVar7 = uVar16 & 0x80000003;
          if ((int)uVar7 < 0) {
            uVar7 = (uVar7 - 1 | 0xfffffffc) + 1;
          }
          (*DAT_0047b110)(&DAT_00482720,&DAT_00482724,
                          (uVar7 - 2) * (DAT_00482750 + 4) + ((int)DAT_0047ac74 >> 1),
                          (((int)(uVar16 + ((int)uVar16 >> 0x1f & 3U)) >> 2) + -2) *
                          (DAT_00482754 + 4) + (&DAT_0047db7c)[local_110],DAT_00482750,DAT_0048275 4,
                          0);
          uVar16 += 1;
        } while ((int)uVar16 < 0x10);
      }
      else if (sVar23 == 2) {
        SelectObject(HDC_0047b6c0,DAT_0047bae0);
        (*DAT_0047b110)(&DAT_00481e60,&DAT_00481e64,0x187 - (DAT_00481e90 >> 1),
                        DAT_0047ac78 - DAT_00481e94 >> 1,DAT_00481e90,DAT_00481e94,0);
        if (((DAT_0047e62c != 0) || (*(short *)(pdVar32 + 0x8f9ec) != 0)) &&
           ((*(byte *)(&DAT_0047e608 + local_110) & 0x80) == 0)) {
          pdVar26 = (double *)(uint)*(ushort *)((int)pdVar32 + 0x47cf44);
          local_120 = NULL;
          if (pdVar26 != NULL) {
            piVar28 = *(int **)(pdVar32 + 0x8f9dd);
            local_120 = pdVar26;
            pdVar32 = DAT_0047e514;
            do {
              if (((0 < *piVar28) && (pdVar33 = (double *)piVar28[1], (int)pdVar33 <= (int)pdVar32 ))
                 && ((int)pdVar32 <= *piVar28 + (int)pdVar33)) {
                pdVar32 = pdVar33;
                DAT_0047e514 = pdVar33;
              }
              piVar28 = piVar28 + 4;
              pdVar26 = (double *)((int)pdVar26 + -1);
            } while (pdVar26 != NULL);
          }
        }
        local_12c = NULL;
        local_158 = NULL;
        piVar28 = &DAT_0047d674;
        do {
          if ((uint)DAT_0047cf0c <= (uint)(DAT_0047e518 + (int)local_12c)) break;
          pdVar32 = NULL;
          *(undefined4 *)((int)local_158 + DAT_0047e2c4 + 8) = 0;
          local_178 = NULL;
          local_114 = NULL;
          if (DAT_0047cf0a != 0) {
            local_160 = (double *)DAT_0047b154[DAT_0047e518 + (int)local_12c];
            piVar29 = DAT_0047cecc;
            do {
              if (*piVar29 <= (int)local_160) {
                local_114 = (double *)((uint)pdVar32 & 0xffff);
              }
              if (*piVar29 <= (int)DAT_0047e514) {
                local_178 = pdVar32;
              }
              pdVar32 = (double *)((int)pdVar32 + 1);
              piVar29 = piVar29 + 8;
            } while ((int)pdVar32 < (int)(uint)DAT_0047cf0a);
          }
          local_134 = (double *)(local_110 * 0x1e0);
          iVar27 = *(int *)((int)local_134 + 0x47c80c);
          local_120 = (double *)(uint)(ushort)(&DAT_0047cf26)[iVar27 + (int)local_134];
          if (local_120 <
              (double *)((uint)(ushort)(&DAT_0047cf20)[iVar27 + (int)local_134] + (int)local_120))  {
            piVar29 = DAT_0047b154 + DAT_0047e518 + (int)local_12c;
            local_11c = CONCAT44(piVar29,(int)local_11c);
            local_180 = (ushort *)(*(int *)(local_140 + 0x8f9db) + (int)local_120 * 0x18);
            do {
              if ((int)(uint)*local_180 <= *piVar29) {
                *(short *)(&DAT_0047c8b4 + (local_110 * 0xf0 + iVar27) * 2) = (short)local_120;
              }
              iVar27 = *(int *)((int)local_134 + 0x47c80c);
              local_180 = local_180 + 0xc;
              local_120 = (double *)((int)local_120 + 1);
            } while ((int)local_120 <
                     (int)((uint)(ushort)(&DAT_0047cf20)[iVar27 + (int)local_134] +
                          (uint)(ushort)(&DAT_0047cf26)[iVar27 + (int)local_134]));
          }
          local_154 = NULL;
          if ((DAT_0047e62c == 0) && (*(short *)(local_140 + 0x8f9ec) == 0)) {
LAB_0042cafe:
            local_138 = (uint *)(DAT_0047e518 + (int)local_12c);
            local_11c = CONCAT44((DAT_0047b154[(int)local_138] - (int)local_154) - (int)DAT_0047e5 14
                                 ,(int)local_11c);
            iVar27 = local_110 * 0xf0 + *(int *)((int)local_134 + 0x47c80c);
            uVar40 = FUN_0045db50(iVar27,(uint)*(ushort *)(&DAT_0047c8b4 + iVar27 * 2) * 3);
            *piVar28 = 300 - (int)uVar40;
            pdVar32 = local_140;
          }
          else {
            if ((*(byte *)(&DAT_0047e608 + local_110) & 0x80) == 0) {
              pdVar32 = (double *)(uint)*(ushort *)((int)local_140 + 0x47cf44);
              local_120 = NULL;
              if (pdVar32 != NULL) {
                local_124 = *(double **)(local_140 + 0x8f9dd);
                local_164 = pdVar32;
                do {
                  if ((0 < *(int *)local_124) &&
                     (iVar27 = *(int *)((int)local_124 + 4),
                     iVar27 <= DAT_0047b154[DAT_0047e518 + (int)local_12c])) {
                    if (iVar27 < (int)DAT_0047e514) {
                      if ((int)DAT_0047e514 < *(int *)local_124 + iVar27) {
                        local_154 = (double *)
                                    ((int)local_154 +
                                    ((*(int *)local_124 + iVar27) - (int)DAT_0047e514));
                      }
                    }
                    else {
                      local_154 = (double *)((int)local_154 + *(int *)local_124);
                    }
                  }
                  local_124 = local_124 + 2;
                  local_164 = (double *)((int)local_164 + -1);
                  local_120 = pdVar32;
                } while (local_164 != NULL);
              }
            }
            if (((DAT_0047e62c == 0) && (*(short *)(local_140 + 0x8f9ec) == 0)) ||
               ((*(byte *)(&DAT_0047e608 + local_110) & 0x80) != 0)) goto LAB_0042cafe;
            local_160 = (double *)((int)local_178 + 1);
            if (local_160 == (double *)(uint)*(ushort *)((int)local_140 + 0x47cf0a))
            goto LAB_0042cafe;
            pdVar26 = (double *)((int)(uint)*(ushort *)((int)local_140 + 0x47cf0a) + -1);
            pdVar32 = local_160;
            if ((int)pdVar26 < (int)local_160) {
              pdVar32 = pdVar26;
            }
            local_138 = (uint *)((int)local_12c + DAT_0047e518);
            if (DAT_0047b154[(int)local_138] <
                *(int *)((int)pdVar32 * 0x20 + *(int *)((int)local_140 + 0x47cecc)))
            goto LAB_0042cafe;
            local_180 = (ushort *)
                        (*(int *)(local_140 + 0x8f9db) + 8 +
                        (uint)*(ushort *)
                               (&DAT_0047c8b4 +
                               (local_110 * 0xf0 + *(int *)((int)local_134 + 0x47c80c)) * 2) * 0x1 8)
            ;
            iVar27 = *(int *)(*(int *)((int)local_140 + 0x47cecc) + (int)local_178 * 0x20 + 0x20) -
                     (int)DAT_0047e514;
            local_11c = CONCAT44(iVar27,(int)local_11c);
            uVar40 = FUN_0045db50(local_180,iVar27);
            uVar16 = (uint)local_114 & 0xffff;
            *piVar28 = 300 - (int)uVar40;
            if ((int)local_160 < (int)uVar16) {
              local_164 = (double *)piVar28[-1];
              piVar29 = (int *)((int)local_160 * 0x20 + *(int *)((int)local_140 + 0x47cecc));
              local_18c = uVar16 - (int)local_160;
              do {
                local_11c = CONCAT44(piVar29[8] - *piVar29,(int)local_11c);
                uVar40 = FUN_0045db50(piVar29[8] - *piVar29,local_180);
                local_164 = (double *)((int)local_164 + (int)uVar40);
                piVar29 = piVar29 + 8;
                local_18c += -1;
                piVar28[-1] = (int)local_164;
              } while (local_18c != 0);
            }
            pdVar32 = local_140;
            iVar27 = DAT_0047b154[(int)local_138] -
                     *(int *)(uVar16 * 0x20 + *(int *)((int)local_140 + 0x47cecc));
            local_11c = CONCAT44(iVar27,(int)local_11c);
            uVar40 = FUN_0045db50(local_138,iVar27);
            *piVar28 = *piVar28 + (int)uVar40;
            pdVar26 = (double *)(uint)*(ushort *)((int)pdVar32 + 0x47cf44);
            local_120 = NULL;
            if (pdVar26 != NULL) {
              piVar29 = *(int **)(pdVar32 + 0x8f9dd);
              local_120 = pdVar26;
              local_164 = pdVar26;
              do {
                local_11c = CONCAT44(*piVar29,(int)local_11c);
                if (((0 < *piVar29) && (piVar29[1] <= DAT_0047b154[(int)local_138])) &&
                   ((int)DAT_0047e514 <= piVar29[1])) {
                  uVar40 = FUN_0045db50(DAT_0047b154,local_138);
                  *piVar28 = *piVar28 + (int)uVar40;
                }
                piVar29 = piVar29 + 4;
                local_164 = (double *)((int)local_164 + -1);
              } while (local_164 != NULL);
            }
          }
          piVar28[-1] = 0x124;
          iVar27 = *piVar28;
          if ((-1 < iVar27) && (iVar27 < 300)) {
            if ((*(short *)((int)pdVar32 + 0x47cf1c) == 0) ||
               (local_138 !=
                (uint *)(uint)*(ushort *)
                               (*(int *)(pdVar32 + 0x8f9dc) +
                               (uint)*(ushort *)((int)local_134 + 0x47c8b2) * 0x28))) {
              if (DAT_0047e634 == 0) {
                MoveToEx(HDC_0047b6c0,0x124,iVar27,NULL);
                LineTo(HDC_0047b6c0,piVar28[-1] + 0xc6,*piVar28);
              }
            }
            else if (DAT_0047e634 == 0) {
              SelectObject(HDC_0047b6c0,DAT_0047ce7c);
              MoveToEx(HDC_0047b6c0,piVar28[-1],*piVar28,NULL);
              LineTo(HDC_0047b6c0,piVar28[-1] + 0xc6,*piVar28);
              SelectObject(HDC_0047b6c0,DAT_0047bae0);
            }
          }
          local_12c = (double *)((int)local_12c + 1);
          local_158 = (double *)((int)local_158 + 0x1c);
          piVar28 = piVar28 + 2;
        } while ((int)piVar28 < 0x47d6b4);
        if (DAT_00482088 != 0) {
          local_120 = NULL;
          iVar27 = DAT_0048240c;
          do {
            iVar5 = local_130 - *(int *)(&DAT_0047e558 + (int)local_120 * 4);
            local_11c = CONCAT44(iVar5,(int)local_11c);
            dVar3 = (double)iVar5;
            if (iVar5 < 0) {
              dVar3 = dVar3 + 4294967296.0;
            }
            if (dVar3 < _DAT_0047ac88 * 200.0) {
              uVar40 = FUN_0045db50(iVar5,local_120);
              uVar16 = (int)uVar40 - 0x32;
              uVar7 = (int)uVar16 >> 0x1f;
              if ((int)local_120 < 1) {
                iVar5 = 0x1d3;
              }
              else {
                uVar17 = (int)local_120 + 1U & 0x80000001;
                if ((int)uVar17 < 0) {
                  uVar17 = (uVar17 - 1 | 0xfffffffe) + 1;
                }
                iVar5 = ((int)((int)local_120 + 1U) / 2) * 0x2b + 0x106 + uVar17 * 0x15;
              }
              if (6 < iVar27) {
                if (local_120 == NULL) {
                  uVar44 = 0x29;
                  iVar19 = iVar5 + -0x14;
                  uVar49 = 0;
                }
                else {
                  uVar17 = (uint)local_120 & 0x80000001;
                  if ((int)uVar17 < 0) {
                    uVar17 = (uVar17 - 1 | 0xfffffffe) + 1;
                  }
                  if (uVar17 == 1) {
                    uVar49 = 0x29;
                    uVar44 = 0x16;
                    iVar19 = iVar5 + -0xb;
                  }
                  else {
                    uVar49 = 0x3f;
                    uVar44 = 0x11;
                    iVar19 = iVar5 + -8;
                  }
                }
                (*DAT_0047b11c)(&DAT_004823d8,&DAT_004823dc,iVar19,0x12f - iVar27,uVar44,iVar27 + -6
                                ,uVar49,CONCAT44(((uVar16 ^ uVar7) - uVar7) * 2,6));
                iVar27 = DAT_0048240c;
              }
              if (DAT_00482088 != 0) {
                (*DAT_0047b11c)(&DAT_00482058,&DAT_0048205c,iVar5 - (DAT_00482088 >> 1),
                                300 - (DAT_0048208c >> 1),DAT_00482088,DAT_0048208c,0,0);
                iVar27 = DAT_0048240c;
              }
            }
            local_120 = (double *)((int)local_120 + 1);
          } while ((int)local_120 < 8);
        }
      }
      iVar27 = DAT_004829f0;
      if ((DAT_0047e2c4 != 0) &&
         (local_154 = (double *)(&DAT_0047e608 + local_110), (&DAT_0047e608)[local_110] != 0x10)) {
        if ((DAT_0047de58 < 2) || ((uint)(&DAT_0047c770)[local_110 * 0x78] < 0x32)) {
          DAT_0047e550 = 0;
        }
        else {
          DAT_0047e550 = 0xffff;
        }
        local_158 = NULL;
        iVar5 = DAT_0047e2c4;
        do {
          if ((local_158 == (double *)0x1) && (DAT_0047e628 == 0)) break;
          uVar16 = *(uint *)((int)local_140 + 0x47cf64);
          local_14c = NULL;
          if (0 < (int)uVar16) {
            local_134 = (double *)(local_110 * 0x1e0);
            do {
              if (local_14c == NULL) {
                local_150 = *(double **)((int)local_134 + 0x47c8d4);
              }
              else {
                local_150 = (double *)
                            ((uint)(*(int *)((int)local_134 + 0x47c8d4) + (int)local_14c) % uVar16 );
              }
              local_128 = (double *)(((int)local_134 + (int)local_150) * 2);
              local_12c = (double *)
                          ((*(ushort *)(local_128 + 0x8f9df) - 1) +
                          (uint)(ushort)(&DAT_0047cefe)[(int)local_134 + (int)local_150]);
              if ((int)(uint)(ushort)(&DAT_0047cefe)[(int)local_134 + (int)local_150] <=
                  (int)local_12c) {
LAB_0042cf30:
                pdVar32 = local_140;
                iVar19 = local_15c;
                if (DAT_0047e628 == 0) {
LAB_0042cf83:
                  local_144 = (int)local_12c * 0x1c;
                  if ((*(short *)(local_144 + iVar5) == 1) && (*(short *)(local_140 + 0x8f9d9) != 1)
                     ) goto LAB_0042f046;
                  pdVar26 = NULL;
                  local_148 = (int *)(local_144 + 8 + iVar5);
                  *local_148 = 0;
                  local_178 = NULL;
                  local_114 = NULL;
                  if (*(short *)((int)local_140 + 0x47cf0a) != 0) {
                    local_180 = *(ushort **)((int)local_140 + 0x47cecc);
                    do {
                      if (*(int *)local_180 <= *(int *)(local_144 + 4 + iVar5)) {
                        local_114 = (double *)((uint)pdVar26 & 0xffff);
                      }
                      if (*(int *)local_180 <= (int)DAT_0047e514) {
                        local_178 = pdVar26;
                      }
                      local_180 = local_180 + 0x10;
                      pdVar26 = (double *)((int)pdVar26 + 1);
                    } while ((int)pdVar26 < (int)(uint)*(ushort *)((int)local_140 + 0x47cf0a));
                  }
                  uVar16 = (uint)*(ushort *)((int)local_128 + 0x47cf26);
                  uVar7 = *(ushort *)(local_128 + 0x8f9e4) + uVar16;
                  local_124 = NULL;
                  local_11c = CONCAT44(uVar7,(int)local_11c);
                  if (uVar16 < uVar7) {
                    piVar28 = (int *)(*(int *)(local_140 + 0x8f9db) + uVar16 * 0x18);
                    do {
                      if (*piVar28 <= *(int *)(local_144 + 4 + iVar5)) {
                        local_124 = (double *)(uVar16 & 0xffff);
                      }
                      uVar16 += 1;
                      piVar28 = piVar28 + 6;
                    } while ((int)uVar16 < (int)uVar7);
                  }
                  pdVar26 = (double *)(*(int *)(local_140 + 0x8f9db) + 8 + (int)local_124 * 0x18);
                  local_17c = (int)local_124 * 0x18;
                  if (((0.0 < *pdVar26 != NAN(*pdVar26)) && (DAT_0047e580 == 0)) ||
                     ((*pdVar26 < 0.0 && (DAT_0047e580 == 1)))) {
                    if (DAT_0047e634 == 0) {
                      DAT_0047b114 = FUN_00401690;
                      DAT_0047b10c = FUN_004023a0;
                    }
                    else {
                      DAT_0047b114 = FUN_00402820;
                      DAT_0047b10c = FUN_004028c0;
                    }
                  }
                  else if (DAT_0047e634 == 0) {
                    DAT_0047b114 = FUN_00401b90;
                    DAT_0047b10c = FUN_004025e0;
                  }
                  else {
                    DAT_0047b114 = FUN_00402820;
                    DAT_0047b10c = FUN_004028c0;
                  }
                  local_120 = NULL;
                  if ((double *)(uint)*(ushort *)((int)local_140 + 0x47cf1c) != NULL) {
                    local_120 = (double *)(uint)*(ushort *)((int)local_140 + 0x47cf1c);
                  }
                  sVar23 = (short)DAT_0047e62c;
                  if (((DAT_0047e62c != 0) || (*(short *)(local_140 + 0x8f9ec) != sVar23)) &&
                     (((ulonglong)*local_154 & 0x80) == 0)) {
                    local_120 = NULL;
                    if ((double *)(uint)*(ushort *)((int)local_140 + 0x47cf44) != NULL) {
                      local_120 = (double *)(uint)*(ushort *)((int)local_140 + 0x47cf44);
                    }
                  }
                  sVar2 = *(short *)(local_140 + 0x8f9d9);
                  if (sVar2 == 0) {
                    if (((DAT_0047e62c == 0) && (*(short *)(local_140 + 0x8f9ec) == sVar23)) ||
                       ((((ulonglong)*local_154 & 0x80) != 0 || ((short)local_114 == 0)))) {
LAB_0042d373:
                      local_138 = (uint *)(local_144 + 4 + iVar5);
                      local_11c = CONCAT44(*local_138 - (int)DAT_0047e514,(int)local_11c);
                      fVar37 = (float10)60.0;
                      fVar36 = (float10)1000.0;
                      uVar40 = FUN_0045db50(*(int *)((int)local_140 + 0x47cecc),pdVar26);
                      *local_148 = *local_148 +
                                   (int)uVar40 + *local_13c + *(int *)(&DAT_0047e1c8 + iVar19);
                      fVar38 = extraout_ST1_02;
                    }
                    else {
                      local_160 = (double *)((int)local_178 + 1);
                      if (local_160 == (double *)(uint)*(ushort *)((int)local_140 + 0x47cf0a))
                      goto LAB_0042d373;
                      pdVar33 = (double *)((int)(uint)*(ushort *)((int)local_140 + 0x47cf0a) + -1) ;
                      if ((int)local_160 <= (int)pdVar33) {
                        pdVar33 = local_160;
                      }
                      local_138 = (uint *)(local_144 + 4 + iVar5);
                      if ((int)*local_138 <
                          *(int *)((int)pdVar33 * 0x20 + *(int *)((int)local_140 + 0x47cecc)))
                      goto LAB_0042d373;
                      iVar27 = *(int *)(*(int *)((int)local_140 + 0x47cecc) + (int)local_178 * 0x2 0
                                       + 0x20) - (int)DAT_0047e514;
                      local_11c = CONCAT44(iVar27,(int)local_11c);
                      fVar36 = (float10)60.0;
                      uVar40 = FUN_0045db50(iVar27,pdVar26);
                      pdVar26 = (double *)
                                (*(int *)(&DAT_0047e1c8 + iVar19) + (int)uVar40 + *local_13c);
                      *local_148 = (int)pdVar26;
                      local_124 = (double *)((uint)local_114 & 0xffff);
                      local_120 = local_160;
                      fVar37 = extraout_ST1;
                      if ((int)local_160 < (int)local_124) {
                        local_180 = (ushort *)((int)local_160 << 5);
                        local_18c = (int)local_124 - (int)local_160;
                        local_120 = (double *)((int)local_160 + local_18c);
                        fVar38 = extraout_ST1;
                        local_164 = pdVar26;
                        do {
                          iVar27 = *(int *)(*(int *)((int)pdVar32 + 0x47cecc) + 0x20 +
                                           (int)local_180) -
                                   *(int *)(*(int *)((int)pdVar32 + 0x47cecc) + (int)local_180);
                          local_11c = CONCAT44(iVar27,(int)local_11c);
                          fVar36 = fVar38;
                          uVar40 = FUN_0045db50(local_17c,iVar27);
                          local_180 = local_180 + 0x10;
                          local_164 = (double *)((int)local_164 + (int)uVar40);
                          local_18c += -1;
                          *local_148 = (int)local_164;
                          fVar37 = extraout_ST1_00;
                          fVar38 = extraout_ST1_00;
                        } while (local_18c != 0);
                      }
                      iVar27 = *local_138 -
                               *(int *)((int)local_124 * 0x20 + *(int *)((int)pdVar32 + 0x47cecc)) ;
                      local_11c = CONCAT44(iVar27,(int)local_11c);
                      uVar40 = FUN_0045db50(iVar27,*(int *)(pdVar32 + 0x8f9db));
                      *local_148 = *local_148 + (int)uVar40;
                      fVar38 = extraout_ST1_01;
                    }
                    if (((DAT_0047e62c != 0) || (*(short *)(pdVar32 + 0x8f9ec) != 0)) &&
                       ((((ulonglong)*local_154 & 0x80) == 0 &&
                        (local_120 = NULL, *(short *)((int)pdVar32 + 0x47cf44) != 0)))) {
                      local_164 = NULL;
                      do {
                        iVar27 = *(int *)((int)local_164 + *(int *)(pdVar32 + 0x8f9dd));
                        local_11c = CONCAT44(iVar27,(int)local_11c);
                        fVar39 = fVar37;
                        if (((0 < iVar27) &&
                            (iVar27 = ((int *)((int)local_164 + *(int *)(pdVar32 + 0x8f9dd)))[1],
                            iVar27 <= (int)*local_138)) && ((int)DAT_0047e514 <= iVar27)) {
                          fVar39 = fVar38;
                          uVar40 = FUN_0045db50(local_17c,local_138);
                          *local_148 = *local_148 - (int)uVar40;
                          fVar38 = extraout_ST1_03;
                          fVar36 = fVar37;
                        }
                        local_120 = (double *)((int)local_120 + 1);
                        local_164 = local_164 + 2;
                        fVar37 = fVar39;
                      } while ((int)local_120 < (int)(uint)*(ushort *)((int)pdVar32 + 0x47cf44));
                    }
                    if (*(int *)((int)pdVar32 + 0x47cf64) == 1) {
                      *(int *)(local_144 + 0xc + iVar5) =
                           *(int *)(&DAT_0047e1cc + iVar19) + *(int *)(&DAT_0047e1b4 + iVar19);
                    }
                    else if ((*local_138 <
                              *(uint *)(*(int *)(pdVar32 + 0x8f9dc) + 4 +
                                       (uint)*(ushort *)((int)local_134 + 0x47c8b2) * 0x28)) &&
                            (*(int *)(*(int *)(pdVar32 + 0x8f9dc) + 4) <= (int)DAT_0047e514)) {
                      *(int *)(local_144 + 0xc + iVar5) =
                           (*(int *)(local_134 + 0x8f901) - (int)local_150) *
                           *(int *)(&DAT_0047e1c4 + iVar19) + *(int *)(&DAT_0047e1cc + iVar19) +
                           *(int *)(&DAT_0047e1b4 + iVar19);
                    }
                    else {
                      local_164 = (double *)
                                  (*(int *)(&DAT_0047e1b4 + iVar19) +
                                  (*(int *)((int)local_134 + 0x47c80c) - (int)local_150) *
                                  *(int *)(&DAT_0047e1c4 + iVar19) +
                                  *(int *)(&DAT_0047e1cc + iVar19));
                      *(double **)(local_144 + 0xc + iVar5) = local_164;
                      if ((1 < *(int *)((int)pdVar32 + 0x47cf64)) &&
                         (iVar27 = *(int *)(local_134 + 0x8f91a), iVar27 != 0)) {
                        iVar9 = *(int *)(pdVar32 + 0x8f9dc) +
                                (uint)*(ushort *)((int)local_134 + 0x47c8b2) * 0x28;
                        if ((*(uint *)(iVar9 + 4) <= *local_138) &&
                           (*local_138 < *(uint *)(iVar9 + 8))) {
                          local_124 = *(double **)((int)local_134 + 0x47c80c);
                          iVar9 = *(int *)((int)local_134 + 0x47c8d4);
                          if ((int)local_124 < iVar9) {
                            local_160 = *(double **)(&DAT_0047e1c4 + iVar19);
                            iVar27 = (iVar27 - local_130) + 100;
                            dVar3 = (double)iVar27;
                            if (iVar27 < 0) {
                              dVar3 = dVar3 + 4294967296.0;
                            }
                            local_114 = (double *)CONCAT22(in_FPUControlWord,(short)local_114);
                            local_11c = (ulonglong)ROUND((dVar3 / 100.0) * (double)(int)local_160) ;
                            uVar40 = local_11c;
                            *(int *)(local_144 + 0xc + iVar5) =
                                 (int)local_164 +
                                 ((iVar9 - (int)local_124) + -1) * (int)local_160 + (int)local_11c ;
                            local_11c = uVar40;
                          }
                          else if (iVar9 < (int)local_124) {
                            local_160 = *(double **)(&DAT_0047e1c4 + iVar19);
                            iVar27 = (iVar27 - local_130) + 100;
                            dVar3 = (double)iVar27;
                            if (iVar27 < 0) {
                              dVar3 = dVar3 + 4294967296.0;
                            }
                            local_114 = (double *)CONCAT22(in_FPUControlWord,(short)local_114);
                            local_11c = (ulonglong)ROUND((dVar3 / 100.0) * (double)(int)local_160) ;
                            uVar40 = local_11c;
                            *(int *)(local_144 + 0xc + iVar5) =
                                 (int)local_164 +
                                 (-(((int)local_124 + (-1 - iVar9)) * (int)local_160) -
                                 (int)local_11c);
                            local_11c = uVar40;
                          }
                        }
                      }
                    }
                    if (DAT_0047e580 == 1) {
                      *local_148 = *(int *)(&DAT_0047e1c8 + iVar19) * 2 - *local_148;
                    }
                    iVar27 = DAT_004829f0;
                    iVar9 = DAT_00482948;
                    if (*(short *)local_154 != 0x10) {
                      _DAT_0047e4ec = 0;
                      if (fVar36 <= (float10)*(double *)
                                              (*(int *)(pdVar32 + 0x8f9db) + 8 + local_17c)) {
                        iVar8 = 0;
                      }
                      else {
                        iVar8 = 0x60;
                      }
                      iVar20 = *local_148;
                      if (((iVar20 <= (int)DAT_0047ac74 + iVar8 + 0x60) && (DAT_0047e580 == 0)) ||
                         ((-0x60 - iVar8 <= iVar20 && (DAT_0047e580 == 1)))) {
                        if ((DAT_0047b114 == FUN_00401690) || (DAT_0047b114 == FUN_00402820)) {
                          sVar23 = *(short *)(local_144 + 2 + iVar5);
                          if (((sVar23 == 6) || (sVar23 == 8)) &&
                             (iVar27 = *local_13c + *(int *)(&DAT_0047e1c8 + iVar19),
                             iVar27 < *(int *)(local_144 + 0x24 + iVar5))) {
                            if (iVar27 <= iVar20) {
                              iVar27 = iVar20;
                            }
                          }
                          else {
                            if ((sVar23 != 6) && (sVar23 != 8)) goto LAB_0042d860;
                            iVar27 = *(int *)(local_144 + 0x24 + iVar5);
                          }
LAB_0042d858:
                          *local_148 = iVar27;
                        }
                        else {
                          sVar23 = *(short *)(local_144 + 2 + iVar5);
                          if (((sVar23 == 6) || (sVar23 == 8)) &&
                             (*(int *)(local_144 + 0x24 + iVar5) <
                              *local_13c + *(int *)(&DAT_0047e1c8 + iVar19))) {
                            iVar27 = (*local_13c + *(int *)(&DAT_0047e1c8 + iVar19)) - DAT_004829f0 ;
                            if (iVar20 - DAT_004829f0 <= iVar27) {
                              iVar27 = iVar20 - DAT_004829f0;
                            }
                            goto LAB_0042d858;
                          }
                          if ((sVar23 == 6) || (sVar23 == 8)) {
                            iVar27 = *(int *)(local_144 + 0x24 + iVar5) - DAT_004829f0;
                            goto LAB_0042d858;
                          }
                        }
LAB_0042d860:
                        sVar23 = *(short *)(local_144 + 2 + iVar5);
                        iVar27 = DAT_004829f0;
                        iVar9 = DAT_00482948;
                        if ((((sVar23 != 6) && (sVar23 != 8)) &&
                            (*(short *)(local_144 + 0x1e + iVar5) == 7)) &&
                           (((iVar19 = *(int *)(local_144 + 0x24 + iVar5),
                             DAT_004829f0 * -2 < iVar19 &&
                             ((DAT_0047e580 == 0 ||
                              (((float10)*(double *)(*(int *)(pdVar32 + 0x8f9db) + 8 + local_17c) <
                                fVar36 && (DAT_0047e580 == 1)))))) ||
                            ((iVar19 < DAT_004829f0 + (int)DAT_0047ac74 &&
                             ((DAT_0047e580 == 1 ||
                              (((float10)*(double *)(*(int *)(pdVar32 + 0x8f9db) + 8 + local_17c) <
                                fVar36 && (DAT_0047e580 == 0)))))))))) {
                          fVar38 = (float10)*(double *)(*(int *)(pdVar32 + 0x8f9db) + 8 + local_17c )
                          ;
                          local_120 = NULL;
                          if (fVar36 < fVar38 == (NAN(fVar36) || NAN(fVar38))) {
                            local_178 = (double *)((int)local_12c + 1);
                            pdVar32 = local_12c;
                          }
                          else {
                            local_178 = local_12c;
                            pdVar32 = (double *)((int)local_12c + 1);
                          }
                          uVar14 = *(ushort *)(local_144 + 0x10 + iVar5);
                          uVar16 = (uint)uVar14;
                          if (uVar14 != 0) {
                            if (10 < uVar16) {
                              uVar16 = 10;
                            }
                            local_114 = (double *)(uVar16 * -0x14 + 0xff);
                            local_148 = (int *)((int)local_178 * 0x1c);
                            local_138 = (uint *)((int)pdVar32 * 0x1c);
                            local_17c = -1;
                            local_124 = (double *)0x1;
                            do {
                              _DAT_0047e4ec = 0;
                              iVar19 = *(int *)((int)local_148 + 8 + iVar5);
                              iVar8 = *(int *)((int)local_138 + iVar5 + 8);
                              local_164 = (double *)((int)local_124 * iVar27 + iVar19);
                              if (((int)local_164 < iVar8) && (DAT_0047e580 == 0)) {
LAB_0042de01:
                                if (*(short *)local_154 != 8) {
                                  (*DAT_0047b10c)(&DAT_004829c0,&DAT_004829c4,
                                                  ((int)local_120 - DAT_0047e580) * iVar27 + iVar19 ,
                                                  *(int *)((int)local_138 + iVar5 + 0xc) -
                                                  DAT_004829f4 / 2,iVar27,DAT_004829f4,
                                                  (*(ushort *)(local_144 + 2 + iVar5) - 2) * iVar27
                                                  * 3,0,0xff,local_114,local_114);
                                  iVar27 = DAT_004829f0;
                                  iVar5 = DAT_0047e2c4;
                                  iVar9 = DAT_00482948;
                                }
                                if (((iVar9 != 0) && (_DAT_0047e4ec = 0x1b, 0 < (int)local_120)) & &
                                   (*(int *)((int)local_148 + 0xc + iVar5) ==
                                    *(int *)(&DAT_0047e1cc + local_15c) +
                                    *(int *)(&DAT_0047e1b4 + local_15c))) {
                                  iVar27 *= (int)local_120;
                                  local_180 = *(ushort **)((int)local_148 + 8 + iVar5);
                                  uVar16 = (((iVar9 >> 1) - iVar27) - (int)local_180) + *local_13c ;
                                  uVar16 = ((int)uVar16 < 0) - 1 & uVar16;
                                  local_11c = CONCAT44(uVar16,(int)local_11c);
                                  uVar40 = FUN_0045db50(uVar16,local_13c);
                                  iVar5 = (int)uVar40;
                                  (*DAT_0047b110)(&DAT_00482918,&DAT_0048291c,
                                                  (undefined *)
                                                  ((iVar5 - (iVar9 >> 1)) + iVar27 + (int)local_180 )
                                                  ,(&DAT_0047db84)[local_110] - (DAT_0048294c >> 1) ,
                                                  iVar9 - iVar5,DAT_0048294c,iVar5 + iVar9 * 9);
                                  iVar27 = DAT_004829f0;
                                  iVar5 = DAT_0047e2c4;
                                  iVar9 = DAT_00482948;
                                }
                              }
                              else {
                                iVar20 = local_17c * iVar27 + iVar19;
                                local_11c = CONCAT44(iVar20,(int)local_11c);
                                if ((iVar8 < iVar20) && (DAT_0047e580 == 1)) goto LAB_0042de01;
                                if (((iVar8 <= (int)local_164) && (DAT_0047e580 == 0)) ||
                                   ((iVar20 <= iVar8 && (DAT_0047e580 == 1)))) goto LAB_0042dfc3;
                              }
                              if (DAT_0047e580 == 0) {
                                local_120 = (double *)((int)local_120 + 1);
                                local_124 = (double *)((int)local_124 + 1);
                                local_17c = local_17c + 1;
                              }
                              else {
                                local_120 = (double *)((int)local_120 + -1);
                                local_124 = (double *)((int)local_124 + -1);
                                local_17c = local_17c + -1;
                              }
                            } while( true );
                          }
                          local_148 = (int *)((int)local_178 * 0x1c);
                          local_138 = (uint *)((int)pdVar32 * 0x1c);
                          local_17c = -1;
                          local_124 = (double *)0x1;
                          do {
                            _DAT_0047e4ec = 0;
                            iVar19 = *(int *)((int)local_148 + 8 + iVar5);
                            iVar8 = *(int *)((int)local_138 + iVar5 + 8);
                            local_164 = (double *)((int)local_124 * iVar27 + iVar19);
                            if (((int)local_164 < iVar8) && (DAT_0047e580 == 0)) {
LAB_0042da01:
                              if (*(short *)local_154 != 8) {
                                (*DAT_0047b114)(&DAT_004829c0,&DAT_004829c4,
                                                ((int)local_120 - DAT_0047e580) * iVar27 + iVar19,
                                                *(int *)((int)local_138 + iVar5 + 0xc) -
                                                DAT_004829f4 / 2,iVar27,DAT_004829f4,
                                                (*(ushort *)(local_144 + 2 + iVar5) - 2) * iVar27 *
                                                3,0);
                                iVar27 = DAT_004829f0;
                                iVar5 = DAT_0047e2c4;
                                iVar9 = DAT_00482948;
                              }
                              if (((iVar9 != 0) && (_DAT_0047e4ec = 0x1b, 0 < (int)local_120)) &&
                                 (*(int *)((int)local_148 + 0xc + iVar5) ==
                                  *(int *)(&DAT_0047e1cc + local_15c) +
                                  *(int *)(&DAT_0047e1b4 + local_15c))) {
                                iVar5 = *(int *)((int)local_148 + 8 + iVar5);
                                uVar16 = (((iVar9 >> 1) - iVar27 * (int)local_120) - iVar5) +
                                         *local_13c;
                                uVar16 &= ((int)uVar16 < 0) - 1;
                                (*DAT_0047b110)(&DAT_00482918,&DAT_0048291c,
                                                (iVar27 * (int)local_120 - (iVar9 >> 1)) + iVar5 +
                                                uVar16,(&DAT_0047db84)[local_110] -
                                                       (DAT_0048294c >> 1),iVar9 - uVar16,
                                                DAT_0048294c,uVar16 + iVar9 * 9);
                                iVar27 = DAT_004829f0;
                                iVar5 = DAT_0047e2c4;
                                iVar9 = DAT_00482948;
                              }
                            }
                            else {
                              iVar20 = local_17c * iVar27 + iVar19;
                              local_11c = CONCAT44(iVar20,(int)local_11c);
                              if ((iVar8 < iVar20) && (DAT_0047e580 == 1)) goto LAB_0042da01;
                              if (((iVar8 <= (int)local_164) && (DAT_0047e580 == 0)) ||
                                 ((iVar20 <= iVar8 && (DAT_0047e580 == 1)))) goto LAB_0042db9b;
                            }
                            if (DAT_0047e580 == 0) {
                              local_120 = (double *)((int)local_120 + 1);
                              local_124 = (double *)((int)local_124 + 1);
                              local_17c = local_17c + 1;
                            }
                            else {
                              local_120 = (double *)((int)local_120 + -1);
                              local_124 = (double *)((int)local_124 + -1);
                              local_17c = local_17c + -1;
                            }
                          } while( true );
                        }
                      }
                    }
                    goto LAB_0042e199;
                  }
                  if (sVar2 == 1) {
                    if (((local_12c == NULL) ||
                        (*(int *)(local_144 + 4 + iVar5) == *(int *)(iVar5 + 4))) &&
                       ((int)DAT_0047e514 < *(int *)(iVar5 + 4) + -0x2ee)) {
                      uVar16 = *(ushort *)(local_144 + 2 + iVar5) & 0x80000003;
                      if (false) {
                        uVar16 = (uVar16 - 1 | 0xfffffffc) + 1;
                      }
                      *local_148 = (uVar16 - 2) * (DAT_00482750 + 4) + ((int)DAT_0047ac74 >> 1);
                      iVar27 = (&DAT_0047db7c)[local_110] +
                               ((*(ushort *)(local_144 + 2 + iVar5) >> 2) - 2) * (DAT_00482754 + 4) ;
                      *(int *)(local_144 + 0xc + iVar5) = iVar27;
                      (*DAT_0047b11c)(&DAT_00482720,&DAT_00482724,*local_148,iVar27,DAT_00482750,
                                      DAT_00482754,0,DAT_00482754);
                      iVar5 = DAT_0047e2c4;
                    }
                    bVar35 = (*(ushort *)(local_144 + iVar5) & 1) == 0;
                    if (false) {
                      bVar35 = ((*(ushort *)(local_144 + iVar5) & 0x80000001) - 1 | 0xfffffffe) ==
                               0xffffffff;
                    }
                    iVar27 = DAT_004829f0;
                    if (bVar35) {
                      iVar19 = *(int *)(local_144 + 4 + iVar5) - (int)DAT_0047e514;
                      local_138 = (uint *)(local_144 + 4 + iVar5);
                      if ((iVar19 < 400) && (-200 < iVar19)) {
                        uVar16 = *(ushort *)(local_144 + 2 + iVar5) & 0x80000003;
                        piVar28 = (int *)(local_144 + 8 + iVar5);
                        if (false) {
                          uVar16 = (uVar16 - 1 | 0xfffffffc) + 1;
                        }
                        *piVar28 = (uVar16 - 2) * (DAT_00482750 + 4) + ((int)DAT_0047ac74 >> 1);
                        piVar29 = (int *)(local_144 + 0xc + iVar5);
                        *piVar29 = ((*(ushort *)(local_144 + 2 + iVar5) >> 2) - 2) *
                                   (DAT_00482754 + 4) + (&DAT_0047db7c)[local_110];
                        uVar16 = 0xb - (int)((*local_138 - (int)DAT_0047e514) + 200) / 0x32;
                        DAT_0047e550 = (ushort)uVar16;
                        uVar40 = (ulonglong)(((uVar16 & 0xffff) + 1) * DAT_00482750);
                        iVar5 = *piVar29;
                        iVar27 = *piVar28;
                        puVar43 = &DAT_00482724;
                        puVar42 = &DAT_00482720;
                        iVar19 = DAT_00482750;
                        iVar9 = DAT_00482754;
                        goto LAB_0042f031;
                      }
                    }
                    else {
                      local_138 = (uint *)(local_144 + 4 + iVar5);
                      if ((int)DAT_0047e514 - *(int *)(local_144 + 4 + iVar5) < 400) {
                        uVar16 = *(ushort *)(local_144 + 2 + iVar5) & 0x80000003;
                        if (false) {
                          uVar16 = (uVar16 - 1 | 0xfffffffc) + 1;
                        }
                        piVar28 = (int *)(local_144 + 8 + iVar5);
                        *piVar28 = (uVar16 - 2) * (DAT_00482750 + 4) + ((int)DAT_0047ac74 >> 1);
                        piVar29 = (int *)(local_144 + 0xc + iVar5);
                        *piVar29 = ((*(ushort *)(local_144 + 2 + iVar5) >> 2) - 2) *
                                   (DAT_00482754 + 4) + (&DAT_0047db7c)[local_110];
                        uVar16 = (int)DAT_0047e514 - *local_138;
                        uVar16 = (int)(((int)uVar16 < 0) - 1 & uVar16) / 0x32;
                        if (7 < (int)uVar16) {
                          uVar16 = 7;
                        }
                        DAT_0047e550 = (ushort)uVar16;
                        uVar40 = CONCAT44(DAT_00482754,((uVar16 & 0xffff) + 1) * DAT_00482750);
                        iVar27 = *piVar28;
                        iVar5 = *piVar29;
                        puVar43 = &DAT_00482724;
                        puVar42 = &DAT_00482720;
                        iVar19 = DAT_00482750;
                        iVar9 = DAT_00482754;
                        goto LAB_0042f031;
                      }
                    }
                    goto LAB_0042f046;
                  }
                  iVar27 = DAT_004829f0;
                  if ((sVar2 != 2) || (*(short *)(local_144 + iVar5) != 0)) goto LAB_0042f046;
                  if (((DAT_0047e62c == 0) && (*(short *)(local_140 + 0x8f9ec) == sVar23)) ||
                     ((((ulonglong)*local_154 & 0x80) != 0 || ((short)local_114 == 0)))) {
LAB_0042ee0f:
                    piVar28 = (int *)(local_144 + 0xc + iVar5);
                    local_11c = CONCAT44(*(int *)(local_144 + 4 + iVar5) - (int)DAT_0047e514,
                                         (int)local_11c);
                    uVar40 = FUN_0045db50(*(int *)((int)local_140 + 0x47cecc),pdVar26);
                    *piVar28 = 300 - (int)uVar40;
                  }
                  else {
                    local_160 = (double *)((int)local_178 + 1);
                    if (local_160 == (double *)(uint)*(ushort *)((int)local_140 + 0x47cf0a))
                    goto LAB_0042ee0f;
                    pdVar33 = (double *)((int)(uint)*(ushort *)((int)local_140 + 0x47cf0a) + -1);
                    if ((int)local_160 <= (int)pdVar33) {
                      pdVar33 = local_160;
                    }
                    if (*(int *)(local_144 + 4 + iVar5) <
                        *(int *)((int)pdVar33 * 0x20 + *(int *)((int)local_140 + 0x47cecc)))
                    goto LAB_0042ee0f;
                    iVar27 = *(int *)(*(int *)((int)local_140 + 0x47cecc) + (int)local_178 * 0x20 +
                                     0x20) - (int)DAT_0047e514;
                    local_11c = CONCAT44(iVar27,(int)local_11c);
                    uVar40 = FUN_0045db50(iVar27,pdVar26);
                    piVar28 = (int *)(local_144 + 0xc + iVar5);
                    local_124 = (double *)((uint)local_114 & 0xffff);
                    pdVar26 = (double *)(300 - (int)uVar40);
                    *piVar28 = (int)pdVar26;
                    local_120 = local_160;
                    if ((int)local_160 < (int)local_124) {
                      local_180 = (ushort *)((int)local_160 << 5);
                      local_18c = (int)local_124 - (int)local_160;
                      local_120 = (double *)((int)local_160 + local_18c);
                      local_164 = pdVar26;
                      do {
                        iVar27 = *(int *)(*(int *)((int)pdVar32 + 0x47cecc) + 0x20 + (int)local_18 0)
                                 - *(int *)(*(int *)((int)pdVar32 + 0x47cecc) + (int)local_180);
                        local_11c = CONCAT44(iVar27,(int)local_11c);
                        uVar40 = FUN_0045db50(local_17c,iVar27);
                        local_180 = local_180 + 0x10;
                        local_164 = (double *)((int)local_164 + (int)uVar40);
                        local_18c += -1;
                        *piVar28 = (int)local_164;
                      } while (local_18c != 0);
                    }
                    iVar27 = *(int *)(local_144 + 4 + iVar5) -
                             *(int *)((int)local_124 * 0x20 + *(int *)((int)pdVar32 + 0x47cecc));
                    local_11c = CONCAT44(iVar27,(int)local_11c);
                    uVar40 = FUN_0045db50(local_17c,iVar27);
                    *piVar28 = *piVar28 + (int)uVar40;
                  }
                  if ((((DAT_0047e62c != 0) || (*(short *)(pdVar32 + 0x8f9ec) != 0)) &&
                      (((ulonglong)*local_154 & 0x80) == 0)) &&
                     (local_120 = NULL, *(short *)((int)pdVar32 + 0x47cf44) != 0)) {
                    local_164 = NULL;
                    do {
                      iVar27 = *(int *)((int)local_164 + *(int *)(pdVar32 + 0x8f9dd));
                      local_11c = CONCAT44(iVar27,(int)local_11c);
                      if (((0 < iVar27) &&
                          (iVar27 = ((int *)((int)local_164 + *(int *)(pdVar32 + 0x8f9dd)))[1],
                          iVar27 <= *(int *)(local_144 + 4 + iVar5))) &&
                         ((int)DAT_0047e514 <= iVar27)) {
                        uVar40 = FUN_0045db50(local_150 + local_110 * 0x1e,
                                              (uint)*(ushort *)
                                                     (&DAT_0047c8b4 +
                                                     (int)(local_150 + local_110 * 0x1e) * 2) * 3);
                        *piVar28 = *piVar28 + (int)uVar40;
                      }
                      local_120 = (double *)((int)local_120 + 1);
                      local_164 = local_164 + 2;
                    } while ((int)local_120 < (int)(uint)*(ushort *)((int)pdVar32 + 0x47cf44));
                  }
                  iVar27 = DAT_004829f0;
                  if (*piVar28 < -2) goto LAB_0042f046;
                  puVar24 = (ushort *)(local_144 + 2 + iVar5);
                  uVar16 = *(ushort *)(local_144 + 2 + iVar5) + 1;
                  uVar7 = uVar16 & 0x80000001;
                  if (false) {
                    uVar7 = (uVar7 - 1 | 0xfffffffe) + 1;
                  }
                  iVar27 = (uVar16 / 2) * 0x2b + 0x104 + uVar7 * 0x15;
                  *local_148 = iVar27;
                  if (*puVar24 == 0) {
                    *local_148 = 0x1d3;
                  }
                  else {
                    *local_148 = iVar27 + 2;
                  }
                  uVar14 = *puVar24;
                  if (uVar14 == 0) {
                    uVar40 = 0;
                    iVar5 = *piVar28 + -3;
                    iVar19 = 0x29;
                    iVar27 = *local_148 + -0x14;
                  }
                  else {
                    uVar16 = uVar14 & 0x80000001;
                    if (false) {
                      uVar16 = (uVar16 - 1 | 0xfffffffe) + 1;
                    }
                    if (uVar16 == 1) {
                      uVar40 = 0x29;
                      iVar5 = *piVar28 + -3;
                      iVar19 = 0x16;
                      iVar27 = *local_148 + -0xb;
                    }
                    else {
                      iVar27 = DAT_004829f0;
                      if (uVar16 != 0) goto LAB_0042f046;
                      uVar40 = 0x3f;
                      iVar5 = *piVar28 + -3;
                      iVar19 = 0x11;
                      iVar27 = *local_148 + -8;
                    }
                  }
                  iVar9 = 6;
                  puVar43 = &DAT_004823dc;
                  puVar42 = &DAT_004823d8;
                  goto LAB_0042f031;
                }
                if (local_158 == NULL) {
                  if (*(ushort *)(iVar5 + 2 + (int)local_12c * 0x1c) < 4) goto LAB_0042cf83;
                }
                else if ((local_158 == (double *)0x1) &&
                        (3 < *(ushort *)(iVar5 + 2 + (int)local_12c * 0x1c))) goto LAB_0042cf83;
                goto LAB_0042f046;
              }
LAB_0042f068:
              uVar16 = *(uint *)((int)local_140 + 0x47cf64);
              local_14c = (double *)((int)local_14c + 1);
            } while ((int)local_14c < (int)uVar16);
          }
          local_158 = (double *)((int)local_158 + 1);
        } while ((int)local_158 < 2);
      }
      piVar28 = local_1bc;
      piVar29 = local_13c;
      for (iVar5 = 8; iVar9 = DAT_00482984, iVar19 = DAT_00482980, iVar5 != 0; iVar5 += -1) {
        *piVar29 = *piVar28;
        piVar28 = piVar28 + 1;
        piVar29 = piVar29 + 1;
      }
      if (((DAT_00482980 != 0) && (DAT_0047e2c4 != 0)) && (DAT_0047e2c8 == 1)) {
        _DAT_0047e4ec = 0x23;
        uVar49 = (int)local_11c;
        iVar5 = iVar19;
        if ((&DAT_0047c7e8)[local_110 * 0xf0] == 2) {
          piVar28 = (int *)(*(int *)((int)local_140 + 0x47cecc) + (uint)local_184[local_110] * 0x2 0)
          ;
          uVar16 = (piVar28[6] - *piVar28) + _DAT_0047e548 + (int)DAT_0047e514;
          if ((int)uVar16 < 0) {
            uVar16 = (uVar16 ^ (int)uVar16 >> 0x1f) - ((int)uVar16 >> 0x1f);
          }
          local_178 = (double *)
                      (*(uint *)(*(int *)(local_140 + 0x8f9de) + (uint)local_184[local_110] * 4) > >
                      1);
          iVar8 = ((int)(((int)(uVar16 - (int)local_178) < 0) - 1 & uVar16 - (int)local_178) /
                  ((int)local_178 * 2)) % DAT_0047df44;
          iVar27 = local_130 - DAT_0047e52c;
          local_11c = CONCAT44(iVar27,(int)local_11c);
          dVar3 = (double)iVar27;
          if (iVar27 < 0) {
            dVar3 = dVar3 + 4294967296.0;
          }
          if (_DAT_0047ac88 * 100.0 <= dVar3) {
            lVar52 = (ulonglong)(uint)(DAT_00482984 * iVar8) << 0x20;
            iVar5 = DAT_00482980;
            iVar20 = DAT_00482984;
            uVar40 = FUN_0045db50(iVar27,iVar8);
            iVar27 = ((DAT_0047df48 - (int)uVar40) - iVar9) + DAT_0047ac78;
          }
          else {
            uVar40 = FUN_0045db50(iVar27,iVar8);
            iVar27 = DAT_00482984;
            iVar9 = (int)uVar40;
            if (100 < iVar9) {
              iVar9 = 100;
            }
            lVar52 = (ulonglong)(uint)(DAT_00482984 * iVar8) << 0x20;
            iVar20 = DAT_00482984;
            uVar40 = FUN_0045db50(100 - iVar9,DAT_00482984 * iVar8);
            iVar27 = (((100 - iVar9) * 2 - (int)uVar40) - iVar27) + DAT_0047df48 + DAT_0047ac78;
          }
          iVar19 = (int)DAT_0047ac74 - iVar19;
LAB_0042f258:
          (*DAT_0047b110)(&DAT_00482950,&DAT_00482954,iVar19 >> 1,iVar27,iVar5,iVar20,lVar52);
          iVar27 = DAT_004829f0;
        }
        else {
          iVar9 = local_130 - DAT_0047e52c;
          local_11c = CONCAT44(iVar9,(int)local_11c);
          dVar3 = (double)iVar9;
          if (iVar9 < 0) {
            dVar3 = dVar3 + 4294967296.0;
          }
          if (dVar3 < _DAT_0047ac88 * 100.0) {
            local_11c = (ulonglong)CONCAT24((&DAT_0047c7b0)[DAT_0047c804],(int)local_11c);
            uVar40 = local_11c;
            local_11c._4_4_ = (double *)(uint)(ushort)(&DAT_0047c7b0)[DAT_0047c804];
            dVar3 = (double)(int)local_11c._4_4_;
            local_11c = uVar40;
            if ((double)(&DAT_0047acb0)[local_110] * 100.0 <=
                ((DAT_0047c778 + 10.0) / (dVar3 + dVar3)) * 100.1) {
              piVar28 = (int *)(*(int *)((int)local_140 + 0x47cecc) +
                               (uint)local_184[local_110] * 0x20);
              uVar16 = (piVar28[6] - *piVar28) + _DAT_0047e548 + (int)DAT_0047e514;
              if ((int)uVar16 < 0) {
                uVar16 = (uVar16 ^ (int)uVar16 >> 0x1f) - ((int)uVar16 >> 0x1f);
              }
              local_178 = (double *)
                          (*(uint *)(*(int *)(local_140 + 0x8f9de) + (uint)local_184[local_110] * 4)
                          >> 1);
              uVar7 = (int)uVar16 % ((int)local_178 * 2) - (int)local_178;
              uVar17 = (int)uVar7 >> 0x1f;
              local_11c = CONCAT44((uVar7 ^ uVar17) - uVar17,uVar49);
              uVar16 -= (int)local_178;
              iVar8 = ((int)(((int)uVar16 < 0) - 1 & uVar16) / ((int)local_178 * 2)) % DAT_0047df4 4;
              uVar40 = FUN_0045db50(uVar16,iVar8);
              iVar27 = DAT_00482984;
              iVar9 = (int)uVar40;
              if (100 < iVar9) {
                iVar9 = 100;
              }
              uVar16 = DAT_00482984 * iVar8;
              lVar52 = (ulonglong)uVar16 << 0x20;
              iVar20 = DAT_00482984;
              uVar40 = FUN_0045db50(uVar16,(int)(uVar40 >> 0x20));
              iVar19 = (int)DAT_0047ac74 - iVar19;
              iVar27 = ((iVar9 * 2 - (int)uVar40) - iVar27) + DAT_0047df48 + DAT_0047ac78;
              goto LAB_0042f258;
            }
          }
        }
      }
      uVar16 = local_110;
      pdVar32 = DAT_00481ecc;
      if ((DAT_0047e744 == 1) && (*(short *)(local_140 + 0x8f9d9) == 0)) {
        local_134 = (double *)(local_110 * 0x1e0);
        if ((*(short *)((int)local_134 + 0x47c914) == 0) ||
           ((*(short *)((int)local_140 + 0x47cf62) == 1 ||
            (*(short *)((int)local_140 + 0x47cf62) == 2)))) {
          local_128 = (double *)(local_110 * 0xf0);
          uVar49 = (int)local_11c;
          local_11c = (ulonglong)
                      CONCAT24((&DAT_0047c7b0)
                               [(int)(*(int *)((int)local_134 + 0x47c804) + (int)local_128)],
                               (int)local_11c);
          uVar40 = local_11c;
          local_124 = (double *)(&DAT_0047acc0 + local_110);
          local_11c._4_4_ =
               (double *)
               (uint)(ushort)(&DAT_0047c7b0)
                             [(int)(*(int *)((int)local_134 + 0x47c804) + (int)local_128)];
          local_14c = (double *)(&DAT_0047acb0 + local_110);
          dVar3 = (local_134[0x8f8ef] /
                  ((double)(int)local_11c._4_4_ + (double)(int)local_11c._4_4_)) * 1.001;
          if (*local_124 * *local_14c <= dVar3) {
            if (dVar3 < *local_14c == (NAN(dVar3) || NAN(*local_14c))) {
              local_150 = (double *)((int)DAT_00481ecc * 3);
            }
            else {
              local_150 = (double *)((int)DAT_00481ecc * 2);
            }
          }
          else {
            local_150 = DAT_00481ecc;
          }
          local_11c = uVar40;
          if (DAT_0047acf8 == 0) {
            SelectObject(HDC_0047b6c0,DAT_0047bae0);
            SelectObject(HDC_0047b6c0,DAT_0047d6b0);
            uVar16 = local_110;
            iVar5 = local_110 * 4;
            puVar13 = &DAT_0047aca4 + local_110;
            local_138 = puVar13;
            Rectangle(HDC_0047b6c0,(&DAT_0047ac9c)[local_110],(&DAT_0047e598)[local_110] + 6,
                      (&DAT_0047ac9c)[local_110] + 1 + (&DAT_0047aca4)[local_110],
                      (&DAT_0047e598)[local_110] + 0x10);
            SelectObject(HDC_0047b6c0,DAT_0047d6b4);
            Rectangle(HDC_0047b6c0,(&DAT_0047ac9c)[uVar16] + 0x96,(&DAT_0047e598)[uVar16] + 1,
                      (&DAT_0047ac9c)[uVar16] + 1 + *puVar13,(&DAT_0047e598)[uVar16] + 0x10);
            SelectObject(HDC_0047b6c0,DAT_0047ce38);
            pvVar10 = DAT_0047d6c0;
            if ((DAT_0047e524 != 2) && (pvVar10 = DAT_0047d6b8, DAT_0047e524 == 1)) {
              pvVar10 = DAT_0047d6bc;
            }
            SelectObject(HDC_0047b6c0,pvVar10);
            puVar43 = (undefined *)(*(int *)((int)local_134 + 0x47c804) + (int)local_128);
            local_11c = (ulonglong)CONCAT24((&DAT_0047c7b0)[(int)puVar43],(int)local_11c);
            iVar27 = (&DAT_0047e598)[uVar16] + 0x10;
            uVar40 = FUN_0045db50(puVar43,(uint)(ushort)(&DAT_0047c7b0)[(int)puVar43]);
            local_11c = CONCAT44((int)uVar40,(int)local_11c);
            uVar40 = FUN_0045db50(extraout_ECX,(int)(uVar40 >> 0x20));
            Rectangle(HDC_0047b6c0,(&DAT_0047ac9c)[uVar16] + 1,(&DAT_0047e598)[uVar16] + 7,
                      (int)uVar40 + 1 + (&DAT_0047ac9c)[uVar16],iVar27);
            iVar27 = DAT_004829f0;
            pdVar32 = DAT_00481ecc;
            if (DAT_0047e524 != 0) {
              SelectObject(HDC_0047b6c0,DAT_0047d6c0);
              local_11c = (ulonglong)
                          CONCAT24((&DAT_0047c7b0)
                                   [(int)(*(int *)((int)local_134 + 0x47c804) + (int)local_128)],
                                   (int)local_11c);
              iVar19 = (&DAT_0047e598)[uVar16];
              iVar9 = (&DAT_0047ad74)[local_110 * 5];
              iVar27 = iVar19 + 0x10;
              uVar40 = FUN_0045db50(local_110 * 5,iVar27);
              Rectangle(HDC_0047b6c0,iVar9 + 1 + (&DAT_0047ac9c)[uVar16],iVar19 + 2,
                        iVar9 + (int)uVar40 + 1 + (&DAT_0047ac9c)[uVar16],iVar27);
              iVar27 = DAT_004829f0;
              pdVar32 = DAT_00481ecc;
            }
          }
          else {
            _DAT_0047e4ec = 0x11;
            DAT_0047be28 = (ushort)(((int)(((int)DAT_0047e514 < 0) - 1 & (uint)DAT_0047e514) /
                                    DAT_0047deac) % (int)(uint)DAT_0047ce3c);
            if (*(short *)((int)local_140 + 0x47cf62) == 0) {
              dVar3 = (1.0 / *local_14c) * dVar3;
              if (1.0 < dVar3 != NAN(dVar3)) {
                dVar3 = 1.0;
              }
              pdVar33 = local_124;
              if (dVar3 < *local_124 == (NAN(dVar3) || NAN(*local_124))) {
                local_138 = &DAT_0047aca4 + local_110;
                local_158 = (double *)*local_138;
                pdVar26 = local_124;
              }
              else {
                local_138 = &DAT_0047aca4 + local_110;
                local_158 = (double *)*local_138;
                pdVar26 = local_158;
              }
            }
            else {
              pdVar33 = (double *)(uint)*(ushort *)((int)local_134 + 0x47c916);
              local_11c = (ulonglong)CONCAT24(*(ushort *)((int)local_134 + 0x47c916),uVar49);
              local_138 = &DAT_0047aca4 + local_110;
              local_158 = (double *)*local_138;
              pdVar26 = local_134;
            }
            iVar5 = local_110 * 4;
            uVar40 = FUN_0045db50(pdVar26,pdVar33);
            if (((int)local_158 <= (int)uVar40) ||
               (local_114 = (double *)
                            ((int)((longlong)
                                   ((ulonglong)(uint)((int)uVar40 >> 0x1f) << 0x20 |
                                   uVar40 & 0xffffffff) / (longlong)DAT_0047deb0) * DAT_0047deb0),
               (int)local_114 - (int)local_158 != 0 && (int)local_158 <= (int)local_114)) {
              local_114 = local_158;
            }
            if ((DAT_0047deb4 == 1) || (local_110 == 0)) {
              local_178 = NULL;
            }
            else {
              local_178 = (double *)((int)pdVar32 * 4);
            }
            local_12c = NULL;
            if (0 < (int)local_158) {
              local_158 = (double *)(local_110 * 0x14);
              pdVar26 = DAT_0047dea8;
              do {
                if (local_150 == (double *)((int)pdVar32 * 3)) {
                  DAT_0047be28 = (ushort)((int)((DAT_0047be28 - 1) + (uint)DAT_0047ce3c) %
                                         (int)(uint)DAT_0047ce3c);
                }
                local_124 = *(double **)(local_158 + 0x8f5ae);
                if (((int)local_124 <= (int)local_12c) &&
                   ((int)local_12c < *(int *)((int)local_158 + 0x47ad74))) {
                  local_12c = local_124;
                }
                local_14c = *(double **)((int)local_158 + 0x47ad7c);
                if ((int)local_14c < (int)local_12c) {
                  local_12c = local_14c;
                }
                pdVar33 = pdVar26;
                if ((int)local_114 - (int)local_12c <= (int)pdVar26) {
                  pdVar33 = (double *)((int)local_114 - (int)local_12c);
                }
                pdVar33 = (double *)(((int)pdVar33 < 0) - 1 & (uint)pdVar33);
                local_120 = pdVar33;
                if ((int)pdVar33 < *(int *)((int)local_158 + 0x47ad6c)) {
                  if ((int)local_12c < *(int *)((int)local_158 + 0x47ad6c)) {
                    uVar49 = (&DAT_0047e598)[uVar16];
                    uVar51 = CONCAT44(local_178,(int)pdVar33 + (uint)DAT_0047be28 * (int)pdVar26 *  6
                                     );
                    iVar19 = (int)pdVar26 - (int)pdVar33;
                    iVar27 = (&DAT_0047ac9c)[uVar16] + (int)pdVar33;
                  }
                  else if ((int)local_12c < (int)local_124) {
                    iVar27 = (int)pdVar26 - (int)pdVar33;
                    iVar19 = (int)local_124 - (int)local_12c;
                    if (iVar27 < (int)local_124 - (int)local_12c) {
                      iVar19 = iVar27;
                    }
                    iVar9 = (uint)DAT_0047be28 * 6 + 1;
LAB_0042f903:
                    local_11c = CONCAT44(iVar27,(int)local_11c);
                    uVar49 = (&DAT_0047e598)[uVar16];
                    uVar51 = CONCAT44(local_178,(double *)(iVar9 * (int)pdVar26 + (int)pdVar33));
                    iVar27 = (&DAT_0047ac9c)[uVar16] + (int)pdVar33 + (int)local_12c;
                  }
                  else {
                    pdVar6 = *(double **)((int)local_158 + 0x47ad74);
                    if ((int)local_12c < (int)pdVar6) {
                      uVar51 = CONCAT44(local_178,
                                        (double *)
                                        (((uint)DAT_0047be28 * 6 + 2) * (int)pdVar26 + (int)pdVar33 )
                                       );
                      iVar19 = (int)pdVar26 - (int)pdVar33;
                      uVar49 = (&DAT_0047e598)[uVar16];
                      iVar27 = (&DAT_0047ac9c)[uVar16] + (int)local_124 + (int)pdVar33;
                    }
                    else {
                      if (local_12c == pdVar6) {
                        iVar27 = (uint)DAT_0047be28 * 6 + 3;
                      }
                      else {
                        if ((int)local_12c < (int)local_14c) {
                          iVar27 = (int)pdVar26 - (int)pdVar33;
                          iVar19 = (int)local_14c - (int)local_12c;
                          if (iVar27 < (int)local_14c - (int)local_12c) {
                            iVar19 = iVar27;
                          }
                          iVar9 = (uint)DAT_0047be28 * 6 + 4;
                          goto LAB_0042f903;
                        }
                        iVar27 = (uint)DAT_0047be28 * 6 + 5;
                        pdVar6 = local_14c;
                      }
                      uVar51 = CONCAT44(local_178,(double *)(iVar27 * (int)pdVar26 + (int)pdVar33) );
                      iVar19 = (int)pdVar26 - (int)pdVar33;
                      uVar49 = (&DAT_0047e598)[uVar16];
                      iVar27 = (&DAT_0047ac9c)[uVar16] + (int)pdVar6 + (int)pdVar33;
                    }
                  }
                  (*DAT_0047b110)(&DAT_00481e98,&DAT_00481e9c,iVar27,uVar49,iVar19,pdVar32,uVar51) ;
                  pdVar26 = DAT_0047dea8;
                  pdVar32 = DAT_00481ecc;
                }
                if (pdVar33 != NULL) {
                  if ((int)local_12c < *(int *)((int)local_158 + 0x47ad6c)) {
                    iVar27 = (&DAT_0047ac9c)[uVar16];
                    uVar49 = (&DAT_0047e598)[uVar16];
                    uVar51 = CONCAT44((int)local_150 + (int)local_178,
                                      (uint)DAT_0047be28 * (int)pdVar26 * 6);
                  }
                  else {
                    local_124 = *(double **)(local_158 + 0x8f5ae);
                    if ((int)local_12c < (int)local_124) {
                      if ((int)local_124 - (int)local_12c <= (int)pdVar33) {
                        pdVar33 = (double *)((int)local_124 - (int)local_12c);
                      }
                      iVar19 = (uint)DAT_0047be28 * 6 + 1;
                      iVar27 = (&DAT_0047ac9c)[uVar16] + (int)local_12c;
LAB_0042fba9:
                      uVar51 = CONCAT44((int)local_150 + (int)local_178,iVar19 * (int)pdVar26);
LAB_0042fbaa:
                      uVar49 = (&DAT_0047e598)[uVar16];
                    }
                    else if ((int)local_12c < (int)*(double **)((int)local_158 + 0x47ad74)) {
                      uVar49 = (&DAT_0047e598)[uVar16];
                      iVar27 = (&DAT_0047ac9c)[uVar16] + (int)local_124;
                      uVar51 = CONCAT44((int)local_150 + (int)local_178,
                                        ((uint)DAT_0047be28 * 6 + 2) * (int)pdVar26);
                    }
                    else {
                      if (local_12c == *(double **)((int)local_158 + 0x47ad74)) {
                        uVar51 = CONCAT44((int)local_150 + (int)local_178,
                                          ((uint)DAT_0047be28 * 6 + 3) * (int)pdVar26);
                        iVar27 = (&DAT_0047ac9c)[uVar16] + *(int *)((int)local_158 + 0x47ad74);
                        goto LAB_0042fbaa;
                      }
                      local_14c = *(double **)((int)local_158 + 0x47ad7c);
                      if ((int)local_14c <= (int)local_12c) {
                        iVar19 = (uint)DAT_0047be28 * 6 + 5;
                        iVar27 = (&DAT_0047ac9c)[uVar16] + (int)local_14c;
                        goto LAB_0042fba9;
                      }
                      if ((int)local_14c - (int)local_12c <= (int)pdVar33) {
                        pdVar33 = (double *)((int)local_14c - (int)local_12c);
                      }
                      uVar49 = (&DAT_0047e598)[uVar16];
                      iVar27 = (&DAT_0047ac9c)[uVar16] + (int)local_12c;
                      uVar51 = CONCAT44((int)local_150 + (int)local_178,
                                        ((uint)DAT_0047be28 * 6 + 4) * (int)pdVar26);
                    }
                  }
                  (*DAT_0047b110)(&DAT_00481e98,&DAT_00481e9c,iVar27,uVar49,pdVar33,pdVar32,uVar51 );
                  pdVar26 = DAT_0047dea8;
                  pdVar32 = DAT_00481ecc;
                }
                local_12c = (double *)((int)local_12c + (int)pdVar26);
                iVar27 = DAT_004829f0;
              } while ((int)local_12c < (int)*local_138);
            }
          }
          if (DAT_00482a28 != 0) {
            _DAT_0047e4ec = 0x12;
            if (((int)local_150 < (int)pdVar32 * 3) || (*(short *)((int)local_140 + 0x47cf62) != 0 ))
            {
              iVar27 = 0;
            }
            else {
              iVar27 = (((int)DAT_0047e514 / DAT_0047dea4) % DAT_0047dea0 + 1) * DAT_00482a28;
            }
            (*DAT_0047b110)(&DAT_004829f8,&DAT_004829fc,
                            (*(int *)((int)&DAT_0047ac9c + iVar5) - (DAT_00482a28 >> 1)) + 0xc +
                            *local_138,
                            (*(int *)((int)&DAT_0047e598 + iVar5) - (DAT_00482a2c >> 1)) + -3 +
                            ((int)pdVar32 >> 1),DAT_00482a28,DAT_00482a2c,iVar27);
            iVar27 = DAT_004829f0;
            pdVar32 = DAT_00481ecc;
          }
        }
        else if (DAT_00482a28 != 0) {
          _DAT_0047e4ec = 0x12;
          if (*(short *)((int)local_134 + 0x47c914) != 0) {
            piVar28 = &DAT_0047e598 + local_110;
            piVar29 = &DAT_0047ac9c + local_110;
            local_138 = &DAT_0047aca4 + local_110;
            iVar5 = 0;
            do {
              local_11c = CONCAT44(iVar5 + 1,(int)local_11c);
              if ((int)(uint)*(ushort *)((int)local_134 + 0x47c916) < iVar5 + 1) {
                (*DAT_0047b120)(&DAT_004829f8,&DAT_004829fc,
                                ((*local_138 - DAT_00482a28 * iVar5) - (DAT_00482a28 >> 1)) + 0xc +
                                *piVar29,(((int)DAT_00481ecc >> 1) - (DAT_00482a2c >> 1)) + -3 +
                                         *piVar28,DAT_00482a28,DAT_00482a2c,0,0,0x40,0x40);
              }
              else {
                (*DAT_0047b110)(&DAT_004829f8,&DAT_004829fc,
                                ((*local_138 - DAT_00482a28 * iVar5) - (DAT_00482a28 >> 1)) + 0xc +
                                *piVar29,(((int)DAT_00481ecc >> 1) - (DAT_00482a2c >> 1)) + -3 +
                                         *piVar28,DAT_00482a28,DAT_00482a2c,
                                (((int)(((uint)DAT_0047e514 ^ (int)DAT_0047e514 >> 0x1f) -
                                       ((int)DAT_0047e514 >> 0x1f)) / DAT_0047dea4) % DAT_0047dea0  +
                                1) * DAT_00482a28);
              }
              iVar27 = DAT_004829f0;
              iVar5 = (int)local_11c._4_4_;
              pdVar32 = DAT_00481ecc;
            } while ((int)local_11c._4_4_ < (int)(uint)*(ushort *)((int)local_134 + 0x47c914));
          }
        }
      }
      iVar5 = local_15c;
      if (*(short *)(local_140 + 0x8f9d9) == 0) {
        if ((DAT_0047e740 != 0) || (1 < DAT_0047f114)) {
          if ((DAT_00482440 == 0) || (DAT_0047e740 == 0)) {
            SelectObject(HDC_0047b6c0,DAT_0047bae0);
            pvVar10 = GetStockObject(5);
            SelectObject(HDC_0047b6c0,pvVar10);
            piVar28 = local_13c;
            iVar27 = local_15c;
            Ellipse(HDC_0047b6c0,*local_13c + -0x32,*(int *)(&DAT_0047e1b4 + local_15c) + 2,
                    *local_13c + -1,*(int *)(&DAT_0047e1b4 + local_15c) + 0x2f);
            Ellipse(HDC_0047b6c0,*piVar28 + -0x2e,*(int *)(&DAT_0047e1b4 + iVar27) + 6,*piVar28 + -5
                    ,*(int *)(&DAT_0047e1b4 + iVar27) + 0x2b);
            iVar5 = local_15c;
          }
          else {
            _DAT_0047e4ec = 0xd;
            if (DAT_0047e580 == 0) {
              local_178 = (double *)(*local_13c / 2 + 1);
            }
            else {
              local_178 = (double *)((int)DAT_0047ac74 + (-1 - *local_13c / 2));
            }
            (*DAT_0047b110)(&DAT_00482410,&DAT_00482414,(int)local_178 - DAT_00482440 / 2,
                            (*(int *)(&DAT_0047e1c4 + local_15c) / 2 - DAT_00482444 / 2) +
                            *(int *)(&DAT_0047e1b4 + local_15c),DAT_00482440,DAT_00482444,0);
            iVar27 = 0;
            local_14c = (double *)(&DAT_0047ce18 + local_110 * 0x10);
            local_124 = (double *)0x3;
            uVar49 = extraout_ECX_00;
            do {
              pdVar32 = local_124;
              iVar19 = local_130 - *(int *)local_14c;
              local_11c = CONCAT44(iVar19,(int)local_11c);
              dVar3 = (double)iVar19;
              if (iVar19 < 0) {
                dVar3 = dVar3 + 4294967296.0;
              }
              if (_DAT_0047ac88 * 75.0 <= dVar3) {
                if (dVar3 < _DAT_0047ac88 * 125.0) {
                  uVar40 = FUN_0045db50(uVar49,iVar19);
                  pdVar26 = local_124;
                  local_114 = (double *)uVar40;
                  uVar49 = extraout_ECX_03;
                  if (iVar27 < 2) {
                    if (DAT_004824b0 != 0) {
                      _DAT_0047e4ec = 0xe;
                      iVar19 = DAT_004824b0 / 2;
                      local_11c = CONCAT44(*(int *)(&DAT_0047e1c4 + iVar5) / 2,(int)local_11c);
                      (*DAT_0047b11c)(&DAT_00482480,&DAT_00482484,
                                      (int)local_178 - ((int)local_124 + -2) * iVar19,
                                      (*(int *)(&DAT_0047e1c4 + iVar5) / 2 - DAT_004824b4 / 2) +
                                      *(int *)(&DAT_0047e1b4 + iVar5),iVar19,DAT_004824b4,
                                      iVar19 * iVar27,0);
                      uVar49 = extraout_ECX_04;
                      pdVar32 = pdVar26;
                    }
                  }
                  else if (DAT_00482830 != 0) {
                    _DAT_0047e4ec = 0xf;
                    iVar19 = DAT_00482830 / 2;
                    local_11c = CONCAT44(*(int *)(&DAT_0047e1c4 + iVar5) / 2,(int)local_11c);
                    (*DAT_0047b11c)(&DAT_00482800,&DAT_00482804,
                                    (int)local_178 - (int)local_124 * iVar19,
                                    (*(int *)(&DAT_0047e1c4 + iVar5) / 2 - DAT_00482834 / 2) +
                                    *(int *)(&DAT_0047e1b4 + iVar5),iVar19,DAT_00482834,
                                    (iVar27 + -2) * iVar19,0);
                    uVar49 = extraout_ECX_05;
                    pdVar32 = pdVar26;
                  }
                }
              }
              else if (iVar27 < 2) {
                if (DAT_004824b0 != 0) {
                  local_128 = (double *)(DAT_004824b0 / 2);
                  _DAT_0047e4ec = 0xe;
                  local_11c = CONCAT44(*(int *)(&DAT_0047e1c4 + iVar5) / 2,(int)local_11c);
                  (*DAT_0047b110)(&DAT_00482480,&DAT_00482484,
                                  (int)local_178 - ((int)local_124 + -2) * (int)local_128,
                                  (*(int *)(&DAT_0047e1c4 + iVar5) / 2 - DAT_004824b4 / 2) +
                                  *(int *)(&DAT_0047e1b4 + iVar5),local_128,DAT_004824b4,
                                  (int)local_128 * iVar27);
                  uVar49 = extraout_ECX_01;
                }
              }
              else if (DAT_00482830 != 0) {
                _DAT_0047e4ec = 0xf;
                iVar19 = DAT_00482830 / 2;
                local_11c = CONCAT44(*(int *)(&DAT_0047e1c4 + iVar5) / 2,(int)local_11c);
                (*DAT_0047b110)(&DAT_00482800,&DAT_00482804,(int)local_178 - (int)local_124 * iVar 19
                                ,(*(int *)(&DAT_0047e1c4 + iVar5) / 2 - DAT_00482834 / 2) +
                                 *(int *)(&DAT_0047e1b4 + iVar5),iVar19,DAT_00482834,
                                (iVar27 + -2) * iVar19);
                uVar49 = extraout_ECX_02;
              }
              iVar19 = DAT_00481f70;
              local_14c = (double *)((int)local_14c + 4);
              iVar27 += 1;
              local_124 = (double *)((int)pdVar32 + -1);
            } while ((double *)((int)pdVar32 + -1) < &Y_80000000);
            if ((DAT_00481f70 != 0) && (DAT_0047e604 == 2)) {
              _DAT_0047e4ec = 0x10;
              iVar27 = (&DAT_0047c8a4)[local_110 * 0x78];
              iVar9 = local_130 - iVar27;
              local_11c = CONCAT44(iVar9,(int)local_11c);
              dVar3 = (double)iVar9;
              if (iVar9 < 0) {
                dVar3 = dVar3 + 4294967296.0;
              }
              iVar9 = DAT_00481f70 >> 1;
              if (_DAT_0047ac88 * 100.0 <= dVar3) {
                if (dVar3 < _DAT_0047ac88 * 3000.0) {
                  (*DAT_0047b110)(&DAT_00481f40,&DAT_00481f44,(int)local_178 - iVar9,
                                  ((*(int *)(&DAT_0047e1c4 + iVar5) >> 1) - (DAT_00481f74 >> 1)) +
                                  *(int *)(&DAT_0047e1b4 + iVar5),DAT_00481f70,DAT_00481f74,0);
                }
              }
              else {
                local_11c = CONCAT44(iVar27,(int)local_11c);
                uVar40 = FUN_0045db50(iVar27,local_130);
                iVar27 = (int)uVar40 >> 5;
                (*DAT_0047b118)(&DAT_00481f40,&DAT_00481f44,(int)local_178 + (-iVar27 - iVar9),
                                (((*(int *)(&DAT_0047e1c4 + iVar5) >> 1) - (DAT_00481f74 >> 1)) -
                                iVar27) + *(int *)(&DAT_0047e1b4 + iVar5),iVar19 + iVar27 * 2,
                                DAT_00481f74 + iVar27 * 2,0,0,iVar19);
              }
            }
          }
          uVar16 = local_110;
          iVar27 = local_110 * 0x1e0;
          if ((9 < (uint)(&DAT_0047c770)[local_110 * 0x78]) && (DAT_0047e740 != 0)) {
            sprintf_s(local_10c,0x100,"%d");
            iVar9 = DAT_00481fe0;
            iVar19 = DAT_00481f38;
            if (DAT_0047e580 == 0) {
              local_174 = (double *)(*local_13c / 2 + 1);
            }
            else {
              local_174 = (double *)((int)DAT_0047ac74 + (-1 - *local_13c / 2));
            }
            if (DAT_00481fe0 == 0) {
              pcVar11 = local_10c;
              do {
                cVar1 = *pcVar11;
                pcVar11 = pcVar11 + 1;
              } while (cVar1 != '\0');
              FUN_00437c50((*(int *)(&DAT_0047e1c4 + iVar5) >> 1) + -6 +
                           *(int *)(&DAT_0047e1b4 + iVar5),local_10c);
            }
            else {
              iVar8 = (-(uint)(*(ushort *)((int)local_140 + 0x47cf56) < 2) & 0xffffffce) + 100;
              iVar27 = local_130 - *(int *)(&DAT_0047c884 + iVar27);
              local_11c = CONCAT44(iVar27,(int)local_11c);
              dVar3 = (double)iVar27;
              if (iVar27 < 0) {
                dVar3 = dVar3 + 4294967296.0;
              }
              if (_DAT_0047ac88 * 150.0 <= dVar3) {
                if (((int)(&DAT_0047c770)[uVar16 * 0x78] < iVar8) || (DAT_00481f38 == 0)) {
                  _DAT_0047e4ec = 5;
                  pcVar11 = local_10c;
                  do {
                    cVar1 = *pcVar11;
                    iVar8 = CONCAT31((int3)((uint)iVar8 >> 8),cVar1);
                    pcVar11 = pcVar11 + 1;
                  } while (cVar1 != '\0');
                  local_138 = (uint *)(pcVar11 + -(int)(local_10c + 1));
                  local_11c = CONCAT44((int)local_138 + -1,(int)local_11c);
                  uVar40 = FUN_0045db50(iVar8,local_10c + 1);
                  iVar27 = local_15c;
                  iVar19 = 0;
                  local_178 = (double *)((int)uVar40 + iVar9 / 2);
                  if (0 < (int)local_138) {
                    do {
                      uVar16 = (local_10c[iVar19] + -0x30) * iVar9;
                      uVar41 = (ulonglong)uVar16;
                      local_11c = CONCAT44(iVar9 * iVar19,(int)local_11c);
                      iVar8 = ((*(int *)(&DAT_0047e1c4 + iVar27) >> 1) - (DAT_00481fe4 >> 1)) +
                              *(int *)(&DAT_0047e1b4 + iVar27);
                      iVar5 = DAT_00481fe4;
                      uVar40 = FUN_0045db50(uVar16,iVar8);
                      (*DAT_0047b110)(&DAT_00481fb0,&DAT_00481fb4,
                                      ((int)uVar40 - (int)local_178) + (int)local_174,iVar8,iVar9,
                                      iVar5,uVar41);
                      pcVar11 = local_10c;
                      iVar19 += 1;
                      do {
                        cVar1 = *pcVar11;
                        pcVar11 = pcVar11 + 1;
                      } while (cVar1 != '\0');
                      iVar5 = local_15c;
                      iVar9 = DAT_00481fe0;
                    } while (iVar19 < (int)pcVar11 - (int)(local_10c + 1));
                  }
                }
                else {
                  _DAT_0047e4ec = 6;
                  pcVar11 = local_10c;
                  do {
                    cVar1 = *pcVar11;
                    iVar8 = CONCAT31((int3)((uint)iVar8 >> 8),cVar1);
                    pcVar11 = pcVar11 + 1;
                  } while (cVar1 != '\0');
                  local_138 = (uint *)(pcVar11 + -(int)(local_10c + 1));
                  local_11c = CONCAT44((int)local_138 + -1,(int)local_11c);
                  uVar40 = FUN_0045db50(iVar8,local_10c + 1);
                  iVar27 = local_15c;
                  iVar9 = 0;
                  local_178 = (double *)((int)uVar40 + iVar19 / 2);
                  if (0 < (int)local_138) {
                    do {
                      uVar16 = (local_10c[iVar9] + -0x30) * iVar19;
                      uVar41 = (ulonglong)uVar16;
                      local_11c = CONCAT44(iVar19 * iVar9,(int)local_11c);
                      iVar8 = ((*(int *)(&DAT_0047e1c4 + iVar27) >> 1) - (DAT_00481f3c >> 1)) +
                              *(int *)(&DAT_0047e1b4 + iVar27);
                      iVar5 = DAT_00481f3c;
                      uVar40 = FUN_0045db50(uVar16,iVar8);
                      (*DAT_0047b110)(&DAT_00481f08,&DAT_00481f0c,
                                      ((int)uVar40 - (int)local_178) + (int)local_174,iVar8,iVar19 ,
                                      iVar5,uVar41);
                      pcVar11 = local_10c;
                      iVar9 += 1;
                      do {
                        cVar1 = *pcVar11;
                        pcVar11 = pcVar11 + 1;
                      } while (cVar1 != '\0');
                      iVar5 = local_15c;
                      iVar19 = DAT_00481f38;
                    } while (iVar9 < (int)pcVar11 - (int)(local_10c + 1));
                  }
                }
              }
              else if (((int)(&DAT_0047c770)[uVar16 * 0x78] < iVar8) || (DAT_00481f38 == 0)) {
                _DAT_0047e4ec = 5;
                uVar40 = FUN_0045db50(iVar8,iVar27);
                local_114 = (double *)uVar40;
                pcVar11 = local_10c;
                uVar49 = extraout_ECX_07;
                do {
                  cVar1 = *pcVar11;
                  uVar49 = CONCAT31((int3)((uint)uVar49 >> 8),cVar1);
                  pcVar11 = pcVar11 + 1;
                } while (cVar1 != '\0');
                local_138 = (uint *)(pcVar11 + -(int)(local_10c + 1));
                local_11c = CONCAT44((int)local_138 + -1,(int)local_11c);
                uVar40 = FUN_0045db50(uVar49,local_10c + 1);
                iVar27 = local_15c;
                iVar19 = 0;
                local_178 = (double *)((int)uVar40 + iVar9 / 2);
                if (0 < (int)local_138) {
                  do {
                    iVar8 = (local_10c[iVar19] + -0x30) * iVar9;
                    uVar51 = CONCAT44(DAT_00481fe4,iVar9);
                    uVar49 = 0;
                    iVar5 = DAT_00481fe4 + (int)local_114;
                    local_11c = CONCAT44(iVar9 * iVar19,(int)local_11c);
                    iVar20 = (((*(int *)(&DAT_0047e1c4 + iVar27) >> 1) - (DAT_00481fe4 >> 1)) -
                             (int)local_114) + *(int *)(&DAT_0047e1b4 + iVar27);
                    uVar40 = FUN_0045db50(local_114,iVar20);
                    (*DAT_0047b118)(&DAT_00481fb0,&DAT_00481fb4,
                                    ((int)uVar40 - (int)local_178) + (int)local_174,iVar20,iVar9,
                                    iVar5,iVar8,uVar49,uVar51);
                    pcVar11 = local_10c;
                    iVar19 += 1;
                    do {
                      cVar1 = *pcVar11;
                      pcVar11 = pcVar11 + 1;
                    } while (cVar1 != '\0');
                    iVar5 = local_15c;
                    iVar9 = DAT_00481fe0;
                  } while (iVar19 < (int)pcVar11 - (int)(local_10c + 1));
                }
              }
              else {
                _DAT_0047e4ec = 6;
                uVar40 = FUN_0045db50(iVar8,iVar27);
                local_114 = (double *)uVar40;
                pcVar11 = local_10c;
                uVar49 = extraout_ECX_06;
                do {
                  cVar1 = *pcVar11;
                  uVar49 = CONCAT31((int3)((uint)uVar49 >> 8),cVar1);
                  pcVar11 = pcVar11 + 1;
                } while (cVar1 != '\0');
                local_138 = (uint *)(pcVar11 + -(int)(local_10c + 1));
                local_11c = CONCAT44((int)local_138 + -1,(int)local_11c);
                uVar40 = FUN_0045db50(uVar49,local_10c + 1);
                iVar27 = local_15c;
                iVar9 = 0;
                local_178 = (double *)((int)uVar40 + iVar19 / 2);
                if (0 < (int)local_138) {
                  do {
                    iVar8 = (local_10c[iVar9] + -0x30) * iVar19;
                    uVar51 = CONCAT44(DAT_00481f3c,iVar19);
                    uVar49 = 0;
                    iVar5 = DAT_00481f3c + (int)local_114;
                    local_11c = CONCAT44(iVar19 * iVar9,(int)local_11c);
                    iVar20 = (((*(int *)(&DAT_0047e1c4 + iVar27) >> 1) - (DAT_00481f3c >> 1)) -
                             (int)local_114) + *(int *)(&DAT_0047e1b4 + iVar27);
                    uVar40 = FUN_0045db50(local_114,iVar20);
                    (*DAT_0047b118)(&DAT_00481f08,&DAT_00481f0c,
                                    ((int)uVar40 - (int)local_178) + (int)local_174,iVar20,iVar19,
                                    iVar5,iVar8,uVar49,uVar51);
                    pcVar11 = local_10c;
                    iVar9 += 1;
                    do {
                      cVar1 = *pcVar11;
                      pcVar11 = pcVar11 + 1;
                    } while (cVar1 != '\0');
                    iVar5 = local_15c;
                    iVar19 = DAT_00481f38;
                  } while (iVar9 < (int)pcVar11 - (int)(local_10c + 1));
                }
              }
            }
          }
          piVar28 = local_13c;
          piVar29 = local_13c;
          piVar34 = local_1bc;
          for (iVar27 = 8; iVar27 != 0; iVar27 += -1) {
            *piVar34 = *piVar29;
            piVar29 = piVar29 + 1;
            piVar34 = piVar34 + 1;
          }
          if (DAT_0047e580 == 1) {
            *(int *)(&DAT_0047e1c8 + iVar5) =
                 (int)DAT_0047ac74 + (-*(int *)(&DAT_0047e1c8 + iVar5) - *piVar28);
            *piVar28 = 0;
          }
          pdVar32 = (double *)(&DAT_0047bdec + iVar5);
          iVar27 = 4;
          local_120 = (double *)0x4;
          pdVar26 = pdVar32;
          do {
            if (local_130 < *(uint *)pdVar26) {
              local_130 = *(uint *)pdVar26;
            }
            pdVar26 = pdVar26 + 1;
            iVar27 += -1;
          } while (iVar27 != 0);
          if (DAT_00481c98 != 0) {
            local_120 = (double *)0x4;
            if (DAT_0047def0 == 0) {
              local_164 = (double *)0x4;
              iVar27 = DAT_00481c98;
              do {
                uVar16 = *(uint *)pdVar32;
                iVar19 = local_130 - uVar16;
                local_11c = CONCAT44(iVar19,(int)local_11c);
                dVar3 = (double)iVar19;
                if (iVar19 < 0) {
                  dVar3 = dVar3 + 4294967296.0;
                }
                if (dVar3 < (double)DAT_0047def8 * _DAT_0047ac88 !=
                    (NAN(dVar3) || NAN((double)DAT_0047def8 * _DAT_0047ac88))) {
                  local_128 = pdVar32;
                  if (*(short *)((int)pdVar32 + -2) == 2) {
                    _DAT_0047e4ec = 0x15;
                    uVar7 = (local_130 - (DAT_0047def8 >> 2)) - uVar16;
                    uVar17 = (int)uVar7 >> 0x1f;
                    local_11c = CONCAT44((uVar7 ^ uVar17) - uVar17,(int)local_11c);
                    FUN_0045db50(uVar16,uVar17);
                    (*DAT_0047b11c)(&DAT_004821e0,&DAT_00481c6c,
                                    (*(int *)(&DAT_0047e1c8 + iVar5) - (iVar27 >> 1)) + *local_13c,
                                    (*(int *)(&DAT_0047e1cc + iVar5) - (DAT_00481c9c >> 1)) +
                                    *(int *)(&DAT_0047e1b4 + iVar5),iVar27,DAT_00481c9c,0,0);
                    iVar27 = DAT_00481c98;
                  }
                  else {
                    uVar7 = (local_130 - uVar16) - (DAT_0047def8 >> 2);
                    _DAT_0047e4ec = 0x13;
                    uVar17 = (int)uVar7 >> 0x1f;
                    local_11c = CONCAT44((uVar7 ^ uVar17) - uVar17,(int)local_11c);
                    FUN_0045db50(uVar16,uVar17);
                    (*DAT_0047b11c)(&DAT_00481c68,&DAT_00481c6c,
                                    (*(int *)(&DAT_0047e1c8 + iVar5) - (iVar27 >> 1)) + *local_13c,
                                    (*(int *)(&DAT_0047e1cc + iVar5) - (DAT_00481c9c >> 1)) +
                                    *(int *)(&DAT_0047e1b4 + iVar5),iVar27,DAT_00481c9c,0,0);
                    iVar27 = DAT_00481c98;
                    pdVar32 = local_128;
                  }
                }
                pdVar32 = pdVar32 + 1;
                local_164 = (double *)((int)local_164 + -1);
                local_128 = pdVar32;
              } while (local_164 != NULL);
            }
            else {
              local_164 = (double *)0x4;
              iVar27 = DAT_00481c98;
              do {
                iVar19 = DAT_00481c9c;
                uVar16 = *(uint *)pdVar32;
                dVar3 = (double)(int)(local_130 - uVar16);
                if ((int)(local_130 - uVar16) < 0) {
                  dVar3 = dVar3 + 4294967296.0;
                }
                local_11c = CONCAT44(DAT_0047def0 * DAT_0047def8,(int)local_11c);
                dVar4 = (double)(DAT_0047def0 * DAT_0047def8) * _DAT_0047ac88;
                if (dVar3 < dVar4 != (NAN(dVar3) || NAN(dVar4))) {
                  _DAT_0047e4ec = 0x13;
                  local_11c = CONCAT44(local_130 - uVar16,(int)local_11c);
                  local_128 = pdVar32;
                  uVar40 = FUN_0045db50((uint)*(ushort *)((int)pdVar32 + -2),uVar16);
                  (*DAT_0047b110)(&DAT_00481c68,&DAT_00481c6c,
                                  (*(int *)(&DAT_0047e1c8 + iVar5) - (iVar27 >> 1)) + *local_13c,
                                  (*(int *)(&DAT_0047e1cc + iVar5) - (iVar19 >> 1)) +
                                  *(int *)(&DAT_0047e1b4 + iVar5),iVar27,iVar19,(int)uVar40 * iVar 27
                                 );
                  pdVar32 = local_128;
                  iVar27 = DAT_00481c98;
                }
                pdVar32 = pdVar32 + 1;
                local_164 = (double *)((int)local_164 + -1);
                local_128 = pdVar32;
              } while (local_164 != NULL);
            }
          }
          iVar27 = DAT_004829f0;
          piVar28 = local_1bc;
          piVar29 = local_13c;
          for (iVar5 = 8; pdVar32 = DAT_00481ecc, iVar5 != 0; iVar5 += -1) {
            *piVar29 = *piVar28;
            piVar28 = piVar28 + 1;
            piVar29 = piVar29 + 1;
          }
        }
        if (((DAT_0047ac84 == 1) && (*(short *)(local_140 + 0x8f9d9) == 0)) && (DAT_0047e2c4 != 0) )
        {
          local_14c = (double *)(*(int *)(&DAT_0047e1c8 + local_15c) + *local_13c);
          if (DAT_0047e580 == 1) {
            local_14c = (double *)((int)DAT_0047ac74 - (int)local_14c);
          }
          local_198 = (&DAT_0047ac9c)[local_110] + 0xc + (&DAT_0047aca4)[local_110];
          local_194 = (&DAT_0047e598)[local_110] + -3 + ((int)pdVar32 >> 1);
          local_150 = NULL;
          local_11c = CONCAT44(&DAT_0047c760 + local_110 * 0x1e0,(int)local_11c);
          iVar5 = DAT_00482248;
          do {
            uVar16 = (uint)*(ushort *)local_11c._4_4_ + (int)local_150 & 0x8000001f;
            if ((int)uVar16 < 0) {
              uVar16 = (uVar16 - 1 | 0xffffffe0) + 1;
            }
            iVar19 = (local_15c + uVar16) * 0x10;
            local_128 = *(double **)(&DAT_0047b18c + iVar19);
            pdVar32 = (double *)(local_130 - (int)local_128);
            dVar3 = (double)(int)pdVar32;
            if ((int)pdVar32 < 0) {
              dVar3 = dVar3 + 4294967296.0;
            }
            if (dVar3 < _DAT_0047ac88 * 500.0 == (NAN(dVar3) || NAN(_DAT_0047ac88 * 500.0))) {
              if (dVar3 < _DAT_0047ac88 * 900.0) {
                uVar40 = FUN_0045db50(local_128,local_130);
                pdVar32 = (double *)uVar40;
                local_178 = pdVar32;
                uVar40 = FUN_0045db50(extraout_ECX_09,(int)(uVar40 >> 0x20));
                local_174 = (double *)uVar40;
                if ((int)local_174 < 0) {
                  local_174 = NULL;
                }
                uVar40 = FUN_0045db50(extraout_ECX_10,(int)(uVar40 >> 0x20));
                FUN_00401f70(iVar27,local_194 - (DAT_004829f4 >> 1),&DAT_004829c0,0x4829c4,
                             (uint *)(local_198 - (iVar27 >> 1)),
                             (*(ushort *)(&DAT_0047b188 + iVar19) + 1) * iVar27,(int)pdVar32,
                             (int)pdVar32,(int)local_174,(int)uVar40);
                iVar27 = DAT_004829f0;
                iVar5 = DAT_00482248;
                pdVar32 = local_128;
              }
              local_128 = pdVar32;
              pdVar32 = local_128;
              if (iVar5 != 0) {
                if (DAT_0047df90 == 0) {
                  local_128 = *(double **)(&DAT_0047b18c + iVar19);
                  iVar19 = local_130 - (int)local_128;
                  dVar3 = (double)iVar19;
                  if (iVar19 < 0) {
                    dVar3 = dVar3 + 4294967296.0;
                  }
                  dVar4 = (double)(DAT_0047df94 + 500) * _DAT_0047ac88;
                  pdVar32 = (double *)(DAT_0047df94 + 500);
                  if (dVar3 < dVar4 != (NAN(dVar3) || NAN(dVar4))) {
                    uVar40 = FUN_0045db50(local_130,iVar19);
                    uVar16 = (int)uVar40 - (DAT_0047df94 >> 2);
                    uVar7 = (int)uVar16 >> 0x1f;
                    local_128 = (double *)((uVar16 ^ uVar7) - uVar7);
                    uVar40 = FUN_0045db50(extraout_ECX_11,uVar7);
                    local_120 = (double *)uVar40;
                    (*DAT_0047b11c)(&DAT_00482218,&DAT_0048221c,local_198 - (iVar5 >> 1),
                                    local_194 - (DAT_0048224c >> 1),iVar5,DAT_0048224c,0,0);
                    iVar27 = DAT_004829f0;
                    iVar5 = DAT_00482248;
                    pdVar32 = local_128;
                  }
                }
                else {
                  local_128 = *(double **)(&DAT_0047b18c + iVar19);
                  dVar3 = (double)(int)(local_130 - (int)local_128);
                  if ((int)(local_130 - (int)local_128) < 0) {
                    dVar3 = dVar3 + 4294967296.0;
                  }
                  pdVar32 = (double *)(DAT_0047df94 * DAT_0047df90 + 500);
                  if (dVar3 < (double)(int)pdVar32 * _DAT_0047ac88 !=
                      (NAN(dVar3) || NAN((double)(int)pdVar32 * _DAT_0047ac88))) {
                    uVar40 = FUN_0045db50(local_128,pdVar32);
                    local_128 = (double *)uVar40;
                    uVar40 = FUN_0045db50(extraout_ECX_12,(int)(uVar40 >> 0x20));
                    local_120 = (double *)uVar40;
                    iVar27 = DAT_0048224c;
                    if ((*(ushort *)(&DAT_0047b188 + iVar19) & 0xfffe) != 2) {
                      iVar27 = 0;
                    }
                    iVar8 = local_194 - (DAT_0048224c >> 1);
                    iVar19 = local_198 - (iVar5 >> 1);
                    uVar40 = CONCAT44(iVar27,iVar5 * (int)local_120);
                    puVar43 = &DAT_0048221c;
                    puVar42 = &DAT_00482218;
                    iVar9 = DAT_0048224c;
                    goto LAB_00431304;
                  }
                }
              }
            }
            else {
              local_128 = pdVar32;
              _CIpow();
              local_128 = (double *)(local_198 - (int)local_14c);
              iVar5 = (local_110 * 2 + -1) * DAT_0047df8c;
              pdVar32 = (double *)-iVar5;
              local_178 = pdVar32;
              uVar40 = FUN_0045db50(local_128,extraout_EDX);
              *(int *)(&DAT_0047b190 + iVar19) = (int)uVar40;
              local_128 = (double *)
                          (((*(int *)(&DAT_0047e1cc + local_15c) +
                            *(int *)(&DAT_0047e1b4 + local_15c)) - local_194) + (int)pdVar32);
              uVar40 = FUN_0045db50(extraout_ECX_08,local_128);
              iVar9 = DAT_004829f4;
              iVar8 = (int)uVar40 + iVar5 + local_194;
              *(int *)(&DAT_0047b194 + iVar19) = iVar8;
              uVar40 = (ulonglong)((*(ushort *)(&DAT_0047b188 + iVar19) + 1) * iVar27);
              iVar8 -= iVar9 >> 1;
              iVar19 = *(int *)(&DAT_0047b190 + iVar19) - (iVar27 >> 1);
              puVar43 = &DAT_004829c4;
              puVar42 = &DAT_004829c0;
              iVar5 = iVar27;
LAB_00431304:
              (*DAT_0047b110)(puVar42,puVar43,iVar19,iVar8,iVar5,iVar9,uVar40);
              iVar27 = DAT_004829f0;
              iVar5 = DAT_00482248;
              pdVar32 = local_128;
            }
            local_128 = pdVar32;
            local_150 = (double *)((int)local_150 + 1);
          } while ((int)local_150 < 0x20);
        }
        uVar16 = local_110;
        if ((DAT_0047e744 == 1) && (*(short *)(local_140 + 0x8f9d9) == 0)) {
          if ((DAT_0047e740 == 0) && ((DAT_0047e620 != 1 || (DAT_0047e748 != 1)))) {
            sprintf_s(local_10c,0x100,"%7d Combo");
            FUN_00437c50(*(int *)(&DAT_0047e1b4 + local_15c) + -0xe,local_10c);
          }
          local_134 = (double *)(uVar16 * 0x1e0);
          sprintf_s(local_10c,0x100,"%7d");
          iVar27 = local_130 - *(int *)((int)(uVar16 * 0x1e0) + 0x47c854);
          local_11c = CONCAT44(iVar27,(int)local_11c);
          dVar3 = (double)iVar27;
          if (iVar27 < 0) {
            dVar3 = dVar3 + 4294967296.0;
          }
          if (_DAT_0047ac88 * 150.0 < dVar3 == (_DAT_0047ac88 * 150.0 == dVar3)) {
            pcVar12 = local_10c;
            pcVar11 = local_10c + 1;
            do {
              cVar1 = *pcVar12;
              pcVar12 = pcVar12 + 1;
            } while (cVar1 != '\0');
            puVar13 = (uint *)(pcVar12 + -(int)pcVar11);
            local_138 = puVar13;
            local_12c = NULL;
            uVar7 = local_110;
            if (0 < (int)puVar13) {
              do {
                pdVar32 = local_12c;
                local_190[0] = local_10c[(int)local_12c];
                local_12c = pdVar32;
                if (('/' < local_190[0]) && (local_190[0] < ':')) {
                  uVar16 = *(uint *)(&DAT_0047c854 +
                                    ((uVar7 * 0x78 - (int)local_12c) + (int)puVar13) * 4);
                  if (local_130 < uVar16) {
                    local_130 = uVar16;
                  }
                  local_11c = CONCAT44(local_130 - uVar16,(int)local_11c);
                  uVar40 = FUN_0045db50(local_130 - uVar16,pcVar11);
                  iVar27 = (int)uVar40;
                  pcVar11 = local_190;
                  iVar5 = DAT_0048239c >> 1;
                  if (extraout_ST0 < extraout_ST1_04) {
                    iVar19 = DAT_0048239c + iVar27;
                    iVar8 = ((&DAT_0047db94)[uVar7 * 2] - iVar5) - iVar27;
                    iVar9 = DAT_00482398;
                    uVar40 = FUN_0045db50(iVar27,iVar5);
                    FUN_004381a0(&DAT_00482368,&DAT_0048236c,
                                 (&DAT_0047db90)[uVar7 * 2] - (int)uVar40,iVar8,pcVar11,iVar9,iVar 19
                                );
                    puVar13 = local_138;
                    pcVar11 = extraout_EDX_01;
                    uVar7 = local_110;
                  }
                  else {
                    iVar19 = (&DAT_0047db94)[uVar7 * 2] - iVar5;
                    iVar27 = DAT_00482398;
                    uVar40 = FUN_0045db50(iVar5,iVar19);
                    FUN_00437ec0(&DAT_00482368,&DAT_0048236c,
                                 (&DAT_0047db90)[uVar7 * 2] - (int)uVar40,iVar19,pcVar11,iVar27);
                    puVar13 = local_138;
                    pcVar11 = extraout_EDX_00;
                    local_12c = pdVar32;
                  }
                }
                local_12c = (double *)((int)local_12c + 1);
                uVar16 = local_110;
              } while ((int)local_12c < (int)puVar13);
            }
          }
          else {
            pcVar11 = local_10c;
            iVar5 = (&DAT_0047db94)[uVar16 * 2] - (DAT_0048239c >> 1);
            iVar27 = DAT_00482398;
            uVar40 = FUN_0045db50(iVar5,pcVar11);
            FUN_00437ec0(&DAT_00482368,&DAT_0048236c,(&DAT_0047db90)[uVar16 * 2] - (int)uVar40,iVa r5
                         ,pcVar11,iVar27);
          }
          local_17c = uVar16 * 0x78;
          iVar27 = 7;
          do {
            uVar7 = (&DAT_0047c830)[(*(int *)(local_134 + 0x8f90a) + iVar27 & 7U) + local_17c];
            local_120 = (double *)(-(uint)(iVar27 != 0) & 0xfffffed4);
            if (local_130 < uVar7) {
              local_130 = uVar7;
            }
            dVar3 = (double)(int)(local_130 - uVar7);
            if ((int)(local_130 - uVar7) < 0) {
              dVar3 = dVar3 + 4294967296.0;
            }
            iVar5 = (int)local_120 + 0x1c2;
            local_11c = CONCAT44(iVar5,(int)local_11c);
            dVar4 = (double)iVar5;
            if (iVar5 < 0) {
              dVar4 = dVar4 + 4294967296.0;
            }
            if (dVar3 < dVar4 * _DAT_0047ac88) {
              sprintf_s(local_10c,0x100,"+%6u");
              iVar5 = (*(int *)(local_134 + 0x8f90a) + iVar27 & 7U) + local_17c;
              if ((int)uVar16 < 1) {
                local_11c = CONCAT44(local_130 - (&DAT_0047c830)[iVar5],(int)local_11c);
                uVar40 = FUN_0045db50(local_134,iVar5);
                uVar7 = 0x32 - (int)uVar40;
                uVar51 = CONCAT44(DAT_00482398,local_10c);
                uVar7 &= ((int)uVar7 < 0) - 1;
                iVar5 = (&DAT_0047dba4)[uVar16 * 2] - (DAT_0048239c >> 1);
                iVar19 = (int)(0x28 / (longlong)DAT_00482398);
                uVar40 = FUN_0045db50(uVar7,(int)uVar7 % iVar19);
                iVar19 = ((int)uVar7 / iVar19 - (int)uVar40) + (&DAT_0047dba0)[uVar16 * 2];
                puVar42 = &DAT_00481d14;
                piVar28 = &DAT_00481d10;
              }
              else {
                local_11c = CONCAT44(local_130 - (&DAT_0047c830)[iVar5],(int)local_11c);
                uVar40 = FUN_0045db50(local_134,iVar5);
                uVar7 = 0x32 - (int)uVar40;
                uVar51 = CONCAT44(DAT_00482398,local_10c);
                uVar7 &= ((int)uVar7 < 0) - 1;
                iVar5 = (&DAT_0047dba4)[uVar16 * 2] - (DAT_0048239c >> 1);
                iVar19 = (int)(0x28 / (longlong)DAT_00482398);
                uVar40 = FUN_0045db50(uVar7,(int)uVar7 % iVar19);
                iVar19 = ((int)uVar7 / iVar19 - (int)uVar40) + (&DAT_0047dba0)[uVar16 * 2];
                puVar42 = &DAT_00481c2c;
                piVar28 = &DAT_00481c28;
              }
              FUN_00437ec0(piVar28,puVar42,iVar19,iVar5,(char *)uVar51,
                           (int)((ulonglong)uVar51 >> 0x20));
            }
            piVar28 = local_13c;
            iVar27 += -1;
          } while (-1 < iVar27);
          local_128 = (double *)(&DAT_0047c894 + uVar16 * 0x79);
          uVar7 = *(uint *)local_128;
          if (local_130 < uVar7) {
            local_130 = uVar7;
          }
          iVar27 = local_130 - uVar7;
          local_11c = CONCAT44(iVar27,(int)local_11c);
          dVar3 = (double)iVar27;
          if (iVar27 < 0) {
            dVar3 = dVar3 + 4294967296.0;
          }
          if (dVar3 < _DAT_0047ac88 * 450.0) {
            piVar29 = local_13c;
            piVar34 = local_1bc;
            for (iVar27 = 8; iVar27 != 0; iVar27 += -1) {
              *piVar34 = *piVar29;
              piVar29 = piVar29 + 1;
              piVar34 = piVar34 + 1;
            }
            iVar27 = 0;
            if (DAT_0047e580 == 1) {
              *(int *)(&DAT_0047e1c8 + local_15c) =
                   (int)DAT_0047ac74 + (-*(int *)(&DAT_0047e1c8 + local_15c) - *piVar28);
              *piVar28 = 0;
              iVar27 = local_15c;
            }
            if (DAT_0047acf4 == 0) {
              sVar23 = (&DAT_0047c890)[uVar16 * 0xf1];
              if (sVar23 == 0) {
                uVar51 = 0x46392400000100;
LAB_00431a48:
                strcpy_s(local_10c,(rsize_t)uVar51,(char *)((ulonglong)uVar51 >> 0x20));
                iVar27 = extraout_ECX_13;
              }
              else {
                if (sVar23 == 1) {
                  uVar51 = 0x46392c00000100;
                  goto LAB_00431a48;
                }
                if (sVar23 == 2) {
                  uVar51 = 0x46393400000100;
                  goto LAB_00431a48;
                }
              }
              local_11c = CONCAT44(local_130 - *(uint *)local_128,(int)local_11c);
              uVar40 = FUN_0045db50(iVar27,local_130 - *(uint *)local_128);
              uVar16 = 0x32 - (int)uVar40;
              FUN_00437c50(*(int *)(&DAT_0047e1b4 + local_15c) + -0x12 +
                           (int)(uVar16 & ((int)uVar16 < 0) - 1) / 5,local_10c);
            }
            else {
              _DAT_0047e4ec = 0xc;
              sVar23 = (&DAT_0047c890)[uVar16 * 0xf1];
              if (sVar23 == 0) {
                uVar51 = 0x46391000000100;
LAB_00431946:
                strcpy_s(local_10c,(rsize_t)uVar51,(char *)((ulonglong)uVar51 >> 0x20));
              }
              else {
                if (sVar23 == 1) {
                  uVar51 = 0x46391400000100;
                  goto LAB_00431946;
                }
                if (sVar23 == 2) {
                  uVar51 = 0x46391c00000100;
                  goto LAB_00431946;
                }
              }
              local_11c = CONCAT44(local_130 - *(uint *)local_128,(int)local_11c);
              uVar40 = FUN_0045db50(local_130 - *(uint *)local_128,local_128);
              uVar16 = 0x32 - (int)uVar40;
              (*DAT_0047b110)(&DAT_00482988,&DAT_0048298c,
                              (*(int *)(&DAT_0047e1c8 + local_15c) - (DAT_004829b8 >> 1)) +
                              *local_13c,
                              (*(int *)(&DAT_0047e1b4 + local_15c) - (DAT_004829bc >> 1)) +
                              (int)(((int)uVar16 < 0) - 1 & uVar16) / 5 + -0xc,DAT_004829b8,
                              DAT_004829bc,0);
            }
            piVar28 = local_1bc;
            piVar29 = local_13c;
            for (iVar27 = 8; iVar27 != 0; iVar27 += -1) {
              *piVar29 = *piVar28;
              piVar28 = piVar28 + 1;
              piVar29 = piVar29 + 1;
            }
          }
        }
        iVar27 = local_110 * 0x1e0;
        pdVar32 = (double *)(local_130 - (&DAT_0047c8ac)[local_110 * 0x78]);
        local_11c = CONCAT44(pdVar32,(int)local_11c);
        dVar3 = (double)(int)pdVar32;
        if ((int)pdVar32 < 0) {
          dVar3 = dVar3 + 4294967296.0;
        }
        if (dVar3 < _DAT_0047ac88 * 650.0) {
          local_114 = pdVar32;
          if (_DAT_0047ac88 * 500.0 <= (double)(int)pdVar32) {
            FUN_0045db50(pdVar32,pdVar32);
            (*DAT_0047b11c)(&DAT_00481fe8,&DAT_00481fec,(&DAT_0047dc20)[local_110 * 2],
                            (&DAT_0047dc24)[local_110 * 2],DAT_00482018,DAT_0048201c,0,
                            (uint)*(ushort *)(&DAT_0047c8b0 + iVar27) * DAT_0048201c);
          }
          else {
            iVar27 = (uint)*(ushort *)(&DAT_0047c8b0 + iVar27) * DAT_0048201c;
            uVar45 = 0;
            uVar40 = FUN_0045db50(DAT_00482018,iVar27);
            uVar49 = (undefined4)uVar40;
            uVar40 = FUN_0045db50(extraout_ECX_14,(int)(uVar40 >> 0x20));
            uVar44 = (undefined4)uVar40;
            uVar40 = FUN_0045db50(extraout_ECX_15,(int)(uVar40 >> 0x20));
            uVar47 = (undefined4)uVar40;
            uVar40 = FUN_0045db50(extraout_ECX_16,(int)(uVar40 >> 0x20));
            (*DAT_0047b118)(&DAT_00481fe8,&DAT_00481fec,(int)uVar40,uVar47,uVar44,uVar49,uVar45,
                            iVar27);
          }
        }
        if ((local_110 == DAT_0047e2c8 - 1) && (iVar27 = 0, DAT_0047e2c8 != 0)) {
          do {
            if ((&DAT_0047e538)[iVar27] == 1) {
              if ((&DAT_0047c900)[iVar27 * 0x78] == 0) {
                iVar5 = local_130 - DAT_0047e57c;
                local_11c = CONCAT44(iVar5,(int)local_11c);
                dVar3 = (double)iVar5;
                if (iVar5 < 0) {
                  dVar3 = dVar3 + 4294967296.0;
                }
                if (_DAT_0047ac88 * 800.0 < dVar3 != (NAN(_DAT_0047ac88 * 800.0) || NAN(dVar3))) {
                  uVar16 = (&DAT_0047c88c)[iVar27 * 0x78];
                  if (local_130 < uVar16) {
                    local_130 = uVar16;
                  }
                  if (iVar27 == 0) {
                    puVar42 = &DAT_00482138;
                    puVar43 = &DAT_0048213c;
                    _DAT_0047e4ec = 0x38;
                  }
                  else {
                    puVar42 = &DAT_00482170;
                    puVar43 = &DAT_00482174;
                    _DAT_0047e4ec = 0x39;
                  }
                  iVar5 = local_130 - uVar16;
                  local_11c = CONCAT44(iVar5,(int)local_11c);
                  dVar3 = (double)iVar5;
                  if (iVar5 < 0) {
                    dVar3 = dVar3 + 4294967296.0;
                  }
                  DAT_0047e2bc = puVar42;
                  DAT_0047e2c0 = puVar43;
                  if (_DAT_0047ac88 * 300.0 <= dVar3) {
                    iVar5 = local_130 - (&DAT_0047c888)[iVar27 * 0x78];
                    local_11c = CONCAT44(iVar5,(int)local_11c);
                    dVar3 = (double)iVar5;
                    if (iVar5 < 0) {
                      dVar3 = dVar3 + 4294967296.0;
                    }
                    if (_DAT_0047ac88 * 75.0 <= dVar3) {
                      (*DAT_0047b110)(puVar42,puVar43,
                                      (&DAT_0047dc50)[iVar27 * 2] -
                                      ((int)(&DAT_00482168)[iVar27 * 0xe] >> 1),
                                      (&DAT_0047dc54)[iVar27 * 2] -
                                      ((int)(&DAT_0048216c)[iVar27 * 0xe] >> 1),
                                      (&DAT_00482168)[iVar27 * 0xe],(&DAT_0048216c)[iVar27 * 0xe], 0)
                      ;
                      goto LAB_00432086;
                    }
                    iVar5 = (&DAT_00482168)[iVar27 * 0xe];
                    iVar19 = (&DAT_0048216c)[iVar27 * 0xe];
                    iVar8 = (&DAT_0047dc54)[iVar27 * 2] - (iVar19 >> 1);
                    iVar9 = iVar5;
                  }
                  else {
                    uVar40 = FUN_0045db50(iVar27 * 0x1e0,iVar5);
                    local_114 = (double *)0x1e;
                    if ((int)(double *)uVar40 < 0x1f) {
                      local_114 = (double *)uVar40;
                    }
                    iVar5 = (&DAT_00482168)[iVar27 * 0xe];
                    iVar19 = (&DAT_0048216c)[iVar27 * 0xe];
                    iVar8 = ((&DAT_0047dc54)[iVar27 * 2] - (iVar19 >> 1)) - (int)local_114;
                    iVar9 = iVar5 * 2;
                  }
                  (*DAT_0047b110)(puVar42,puVar43,(&DAT_0047dc50)[iVar27 * 2] - (iVar5 >> 1),iVar8 ,
                                  iVar5,iVar19,iVar9);
                  goto LAB_00432086;
                }
              }
              iVar5 = 2;
              if (local_130 < (uint)(&DAT_0047c88c)[iVar27 * 0x78]) {
                local_130 = (&DAT_0047c88c)[iVar27 * 0x78];
              }
              if (((DAT_004824e8 == 0) || (DAT_0047c900 != 1)) || (DAT_0047cae0 != 0)) {
                if ((DAT_00482520 == 0) || (DAT_0047c900 != 0)) {
                  if ((DAT_0047c900 == 1) && ((DAT_0047cae0 == 1 && (iVar27 == 1))))
                  goto LAB_00432086;
                }
                else if (DAT_0047cae0 == 1) {
                  iVar5 = 1;
                }
              }
              else {
                iVar5 = 0;
              }
              iVar19 = local_130 - DAT_0047e57c;
              local_11c = CONCAT44(iVar19,(int)local_11c);
              dVar3 = (double)iVar19;
              if (iVar19 < 0) {
                dVar3 = dVar3 + 4294967296.0;
              }
              if (_DAT_0047ac88 * 800.0 <= dVar3) {
                iVar19 = local_130 - (&DAT_0047c888)[iVar27 * 0x78];
                local_11c = CONCAT44(iVar19,(int)local_11c);
                dVar3 = (double)iVar19;
                if (iVar19 < 0) {
                  dVar3 = dVar3 + 4294967296.0;
                }
                if (_DAT_0047ac88 * 75.0 <= dVar3) {
                  (*DAT_0047b110)(&DAT_004824b8 + iVar5 * 0xe,&DAT_004824bc + iVar5 * 0x38,
                                  DAT_0047dc60 - ((&DAT_004824e8)[iVar5 * 0xe] >> 1),
                                  DAT_0047dc64 - ((int)(&DAT_004824ec)[iVar5 * 0xe] >> 1),
                                  (&DAT_004824e8)[iVar5 * 0xe],(&DAT_004824ec)[iVar5 * 0xe],0);
                }
                else {
                  iVar19 = (&DAT_004824e8)[iVar5 * 0xe];
                  (*DAT_0047b110)(&DAT_004824b8 + iVar5 * 0xe,&DAT_004824bc + iVar5 * 0x38,
                                  DAT_0047dc60 - (iVar19 >> 1),
                                  DAT_0047dc64 - ((int)(&DAT_004824ec)[iVar5 * 0xe] >> 1),iVar19,
                                  (&DAT_004824ec)[iVar5 * 0xe],iVar19);
                }
              }
              else {
                uVar40 = FUN_0045db50(iVar27 * 0x1e0,local_130);
                uVar16 = ((int)(uint)uVar40 < 0) - 1 & (uint)uVar40;
                local_11c = CONCAT44(uVar16,(int)local_11c);
                FUN_0045db50(uVar16,(int)(uVar40 >> 0x20));
                iVar19 = (&DAT_004824e8)[iVar5 * 0xe];
                (*DAT_0047b11c)(&DAT_004824b8 + iVar5 * 0xe,&DAT_004824bc + iVar5 * 0x38,
                                DAT_0047dc60 - (iVar19 >> 1),
                                DAT_0047dc64 - ((int)(&DAT_004824ec)[iVar5 * 0xe] >> 1),iVar19,
                                (&DAT_004824ec)[iVar5 * 0xe],iVar19 * 2,0);
              }
            }
LAB_00432086:
            pdVar32 = (double *)(iVar27 * 0x1e0);
            uVar16 = *(uint *)((int)pdVar32 + 0x47c7fc);
            if ((local_130 < uVar16) && (*(short *)(pdVar32 + 0x8f8ff) != 0)) {
              local_130 = uVar16;
            }
            iVar5 = local_130 - uVar16;
            local_11c = CONCAT44(iVar5,(int)local_11c);
            dVar3 = (double)iVar5;
            if (iVar5 < 0) {
              dVar3 = dVar3 + 4294967296.0;
            }
            local_124 = pdVar32;
            if ((dVar3 < _DAT_0047ac88 * 500.0) && (*(short *)(pdVar32 + 0x8f8ff) != 0)) {
              if ((DAT_0047f114 < 2) || (DAT_00481e58 == 0)) {
                sprintf_s(local_10c,0x100,"%2hu");
                FUN_00437c50(*(int *)(&DAT_0047e1b4 + iVar27 * 0x20) + -0xe,local_10c);
              }
              else if (DAT_0047f114 == 2) {
                _DAT_0047e4ec = 8;
                (*DAT_0047b110)(&DAT_00481e28,&DAT_00481e2c,
                                (&DAT_0047dbb0)[iVar27 * 2] - (DAT_00481e58 >> 1),
                                (&DAT_0047dbb4)[iVar27 * 2] - (DAT_00481e5c >> 1),DAT_00481e58,
                                DAT_00481e5c,0);
                if (DAT_00482a60 == 0) {
                  sprintf_s(local_10c,0x100,"%3hu");
                  FUN_00437c50((&DAT_0047dbc4)[iVar27 * 2] + -4,local_10c);
                }
                else {
                  iVar5 = local_130 - *(int *)(pdVar32 + 0x8f911);
                  local_11c = CONCAT44(iVar5,(int)local_11c);
                  dVar3 = (double)iVar5;
                  _DAT_0047e4ec = 7;
                  if (iVar5 < 0) {
                    dVar3 = dVar3 + 4294967296.0;
                  }
                  if (_DAT_0047ac88 * 150.0 <= dVar3) {
                    sprintf_s(local_10c,0x100,"%2hu");
                    pcVar11 = local_10c;
                    iVar5 = 0;
                    do {
                      cVar1 = *pcVar11;
                      pcVar11 = pcVar11 + 1;
                    } while (cVar1 != '\0');
                    iVar19 = (int)pcVar11 - (int)(local_10c + 1);
                    pdVar32 = local_124;
                    if (0 < iVar19) {
                      do {
                        cVar1 = local_10c[iVar5];
                        if (('/' < cVar1) && (cVar1 < ':')) {
                          uVar41 = (ulonglong)(uint)((cVar1 + -0x30) * DAT_00482a60);
                          iVar21 = (&DAT_0047dbc4)[iVar27 * 2] - (DAT_00482a64 >> 1);
                          iVar20 = (&DAT_0047dbc0)[iVar27 * 2] -
                                   ((iVar19 - iVar5) + -1) * DAT_00482a60;
                          local_11c = CONCAT44(iVar20,(int)local_11c);
                          iVar9 = DAT_00482a60;
                          iVar8 = DAT_00482a64;
                          uVar40 = FUN_0045db50((iVar5 - iVar19) + 2,iVar20);
                          (*DAT_0047b110)(&DAT_00482a30,&DAT_00482a34,(int)uVar40,iVar21,iVar9,iVa r8
                                          ,uVar41);
                        }
                        pcVar11 = local_10c;
                        iVar5 += 1;
                        do {
                          cVar1 = *pcVar11;
                          pcVar11 = pcVar11 + 1;
                        } while (cVar1 != '\0');
                        iVar19 = (int)pcVar11 - (int)(local_10c + 1);
                        pdVar32 = local_124;
                      } while (iVar5 < iVar19);
                    }
                  }
                  else {
                    uVar40 = FUN_0045db50(7,iVar5);
                    local_114 = (double *)uVar40;
                    sprintf_s(local_10c,0x100,"%2hu");
                    pcVar11 = local_10c;
                    iVar5 = 0;
                    do {
                      cVar1 = *pcVar11;
                      pcVar11 = pcVar11 + 1;
                    } while (cVar1 != '\0');
                    iVar19 = (int)pcVar11 - (int)(local_10c + 1);
                    pdVar32 = local_124;
                    if (0 < iVar19) {
                      do {
                        cVar1 = local_10c[iVar5];
                        if (('/' < cVar1) && (cVar1 < ':')) {
                          iVar8 = (cVar1 + -0x30) * DAT_00482a60;
                          uVar51 = CONCAT44(DAT_00482a64,DAT_00482a60);
                          uVar49 = 0;
                          iVar20 = (int)local_114 + DAT_00482a64;
                          iVar21 = ((&DAT_0047dbc4)[iVar27 * 2] - (DAT_00482a64 >> 1)) -
                                   (int)local_114;
                          iVar22 = (&DAT_0047dbc0)[iVar27 * 2] -
                                   ((iVar19 - iVar5) + -1) * DAT_00482a60;
                          local_11c = CONCAT44(iVar22,(int)local_11c);
                          iVar9 = DAT_00482a60;
                          uVar40 = FUN_0045db50((iVar5 - iVar19) + 2,iVar22);
                          (*DAT_0047b118)(&DAT_00482a30,&DAT_00482a34,(int)uVar40,iVar21,iVar9,
                                          iVar20,iVar8,uVar49,uVar51);
                        }
                        pcVar11 = local_10c;
                        iVar5 += 1;
                        do {
                          cVar1 = *pcVar11;
                          pcVar11 = pcVar11 + 1;
                        } while (cVar1 != '\0');
                        iVar19 = (int)pcVar11 - (int)(local_10c + 1);
                        pdVar32 = local_124;
                      } while (iVar5 < iVar19);
                    }
                  }
                }
              }
            }
            if (local_130 < *(uint *)(pdVar32 + 0x8f911)) {
              local_130 = *(uint *)(pdVar32 + 0x8f911);
            }
            if (DAT_0047e2c4 != 0) {
              if ((((DAT_00482600 != 0) && (DAT_0047f114 == 2)) && (DAT_0047e5c4 != 0)) &&
                 (*(int *)((int)pdVar32 + 0x47c8fc) == 1)) {
                uVar16 = (&DAT_0047c7ec)[*(int *)(pdVar32 + 0x8f901) + iVar27 * 0x78] - 1;
                if ((int)((&DAT_0047c7ec)[*(int *)(pdVar32 + 0x8f901) + iVar27 * 0x78] - 1) <
                    (int)(uint)(ushort)(&DAT_0047cefe)[*(int *)(pdVar32 + 0x8f901) + (int)pdVar32] )
                {
                  uVar16 = (uint)(ushort)(&DAT_0047cefe)[*(int *)(pdVar32 + 0x8f901) + (int)pdVar3 2]
                  ;
                }
                iVar5 = uVar16 * 0x1c;
                sVar23 = *(short *)(iVar5 + 2 + DAT_0047e2c4);
                if (((sVar23 == 6) || (sVar23 == 8)) &&
                   ((*(short *)(iVar5 + 0x10 + DAT_0047e2c4) != 0 &&
                    (*(int *)(iVar5 + 4 + DAT_0047e2c4) <= (int)DAT_0047e514)))) {
                  if (sVar23 == 6) {
                    _DAT_0047e4ec = 9;
                    (*DAT_0047b110)(&DAT_004825d0,&DAT_004825d4,
                                    (&DAT_0047dbd0)[iVar27 * 2] - (DAT_00482600 >> 1),
                                    (&DAT_0047dbd4)[iVar27 * 2] - (DAT_00482604 >> 1),DAT_00482600,
                                    DAT_00482604,0);
                    sprintf_s(local_10c,0x100,"%3hu",(uint)*(ushort *)(iVar5 + 0x10 + DAT_0047e2c4 ))
                    ;
                    if (DAT_00481fb0 == 0) {
                      pcVar11 = local_10c;
                      do {
                        cVar1 = *pcVar11;
                        pcVar11 = pcVar11 + 1;
                      } while (cVar1 != '\0');
                      iVar5 = (&DAT_0047dbe4)[iVar27 * 2];
LAB_00432a85:
                      FUN_00437c50(iVar5 + -6,local_10c);
                    }
                    else {
                      iVar5 = local_130 - *(int *)(pdVar32 + 0x8f911);
                      local_11c = CONCAT44(iVar5,(int)local_11c);
                      dVar3 = (double)iVar5;
                      _DAT_0047e4ec = 5;
                      if (iVar5 < 0) {
                        dVar3 = dVar3 + 4294967296.0;
                      }
                      if (_DAT_0047ac88 * 150.0 <= dVar3) {
                        pcVar11 = local_10c;
                        local_12c = NULL;
                        do {
                          cVar1 = *pcVar11;
                          pcVar11 = pcVar11 + 1;
                        } while (cVar1 != '\0');
                        iVar5 = (int)pcVar11 - (int)(local_10c + 1);
                        if (0 < iVar5) {
                          iVar19 = 0;
                          do {
                            cVar1 = local_10c[(int)local_12c];
                            if (('/' < cVar1) && (cVar1 < ':')) {
                              (*DAT_0047b110)(&DAT_00481fb0,&DAT_00481fb4,
                                              (&DAT_0047dbe0)[iVar27 * 2] -
                                              (iVar5 - iVar19) * (DAT_00481fe0 >> 1),
                                              (&DAT_0047dbe4)[iVar27 * 2] - (DAT_00481fe4 >> 1),
                                              DAT_00481fe0,DAT_00481fe4,
                                              (cVar1 + -0x30) * DAT_00481fe0);
                            }
                            local_12c = (double *)((int)local_12c + 1);
                            pcVar11 = local_10c;
                            iVar19 += 2;
                            do {
                              cVar1 = *pcVar11;
                              pcVar11 = pcVar11 + 1;
                            } while (cVar1 != '\0');
                            iVar5 = (int)pcVar11 - (int)(local_10c + 1);
                          } while ((int)local_12c < iVar5);
                        }
                      }
                      else {
                        uVar40 = FUN_0045db50(5,iVar5);
                        pcVar11 = local_10c;
                        local_12c = NULL;
                        do {
                          cVar1 = *pcVar11;
                          pcVar11 = pcVar11 + 1;
                        } while (cVar1 != '\0');
                        iVar5 = (int)pcVar11 - (int)(local_10c + 1);
                        if (0 < iVar5) {
                          local_14c = NULL;
                          do {
                            cVar1 = local_10c[(int)local_12c];
                            if (('/' < cVar1) && (cVar1 < ':')) {
                              (*DAT_0047b118)(&DAT_00481fb0,&DAT_00481fb4,
                                              (&DAT_0047dbe0)[iVar27 * 2] -
                                              (iVar5 - (int)local_14c) * (DAT_00481fe0 >> 1),
                                              ((&DAT_0047dbe4)[iVar27 * 2] - (DAT_00481fe4 >> 1)) -
                                              (int)uVar40,DAT_00481fe0,DAT_00481fe4 + (int)uVar40,
                                              (cVar1 + -0x30) * DAT_00481fe0,0,DAT_00481fe0);
                            }
                            local_12c = (double *)((int)local_12c + 1);
                            local_14c = (double *)((int)local_14c + 2);
                            pcVar11 = local_10c;
                            do {
                              cVar1 = *pcVar11;
                              pcVar11 = pcVar11 + 1;
                            } while (cVar1 != '\0');
                            iVar5 = (int)pcVar11 - (int)(local_10c + 1);
                          } while ((int)local_12c < iVar5);
                        }
                      }
                    }
                  }
                  else {
                    if (DAT_00482360 != 0) {
                      _DAT_0047e4ec = 9;
                      (*DAT_0047b110)(&DAT_00482330,&DAT_00482334,DAT_0047dbf0 - (DAT_00482360 >> 1)
                                      ,DAT_0047dbf4 - (DAT_00482364 >> 1),DAT_00482360,DAT_00482364 ,
                                      0);
                    }
                    sprintf_s(local_10c,0x100,"%3hu");
                    if (DAT_004821a8 == 0) {
                      pcVar11 = local_10c;
                      do {
                        cVar1 = *pcVar11;
                        pcVar11 = pcVar11 + 1;
                        iVar5 = DAT_0047dbfc;
                      } while (cVar1 != '\0');
                      goto LAB_00432a85;
                    }
                    iVar5 = local_130 - *(int *)(pdVar32 + 0x8f911);
                    local_11c = CONCAT44(iVar5,(int)local_11c);
                    dVar3 = (double)iVar5;
                    _DAT_0047e4ec = 5;
                    if (iVar5 < 0) {
                      dVar3 = dVar3 + 4294967296.0;
                    }
                    if (_DAT_0047ac88 * 150.0 <= dVar3) {
                      pcVar11 = local_10c;
                      local_12c = NULL;
                      do {
                        cVar1 = *pcVar11;
                        pcVar11 = pcVar11 + 1;
                      } while (cVar1 != '\0');
                      iVar5 = (int)pcVar11 - (int)(local_10c + 1);
                      if (0 < iVar5) {
                        iVar19 = 0;
                        do {
                          cVar1 = local_10c[(int)local_12c];
                          if (('/' < cVar1) && (cVar1 < ':')) {
                            (*DAT_0047b110)(&DAT_004821a8,&DAT_004821ac,
                                            DAT_0047dbf8 - (iVar5 - iVar19) * (DAT_004821d8 >> 1),
                                            DAT_0047dbfc - (DAT_004821dc >> 1),DAT_004821d8,
                                            DAT_004821dc,(cVar1 + -0x30) * DAT_004821d8);
                          }
                          local_12c = (double *)((int)local_12c + 1);
                          pcVar11 = local_10c;
                          iVar19 += 2;
                          do {
                            cVar1 = *pcVar11;
                            pcVar11 = pcVar11 + 1;
                          } while (cVar1 != '\0');
                          iVar5 = (int)pcVar11 - (int)(local_10c + 1);
                        } while ((int)local_12c < iVar5);
                      }
                    }
                    else {
                      uVar40 = FUN_0045db50(5,iVar5);
                      pcVar11 = local_10c;
                      local_114 = (double *)uVar40;
                      local_12c = NULL;
                      do {
                        cVar1 = *pcVar11;
                        pcVar11 = pcVar11 + 1;
                      } while (cVar1 != '\0');
                      iVar5 = (int)pcVar11 - (int)(local_10c + 1);
                      if (0 < iVar5) {
                        iVar19 = 0;
                        do {
                          cVar1 = local_10c[(int)local_12c];
                          if (('/' < cVar1) && (cVar1 < ':')) {
                            (*DAT_0047b118)(&DAT_004821a8,&DAT_004821ac,
                                            DAT_0047dbf8 - (iVar5 - iVar19) * (DAT_004821d8 >> 1),
                                            (DAT_0047dbfc - (DAT_004821dc >> 1)) - (int)local_114,
                                            DAT_004821d8,(int)local_114 + DAT_004821dc,
                                            (cVar1 + -0x30) * DAT_004821d8,0,DAT_004821d8);
                          }
                          local_12c = (double *)((int)local_12c + 1);
                          pcVar11 = local_10c;
                          iVar19 += 2;
                          do {
                            cVar1 = *pcVar11;
                            pcVar11 = pcVar11 + 1;
                          } while (cVar1 != '\0');
                          iVar5 = (int)pcVar11 - (int)(local_10c + 1);
                        } while ((int)local_12c < iVar5);
                      }
                    }
                  }
                }
              }
              uVar16 = local_130;
              if ((((DAT_0047e2c4 != 0) && (DAT_0047f114 == 2)) && (DAT_0047e5c4 != 0)) &&
                 (DAT_0047e57c != 0)) {
                local_11c = CONCAT44(local_130 - DAT_0047e57c,(int)local_11c);
                if ((double)(int)(local_130 - DAT_0047e57c) < _DAT_0047ac88 * 800.0) {
                  sprintf_s(local_10c,0x100,"%3hu");
                  if (DAT_004821a8 == 0) {
                    pcVar11 = local_10c;
                    do {
                      cVar1 = *pcVar11;
                      pcVar11 = pcVar11 + 1;
                    } while (cVar1 != '\0');
                    FUN_00437c50(DAT_0047dbfc + -6,local_10c);
                  }
                  else {
                    _DAT_0047e4ec = 5;
                    local_170 = (double *)(uint)(DAT_0047e578 < 5000);
                    local_128 = (double *)(uVar16 - DAT_0047e57c);
                    dVar3 = (double)(int)local_128;
                    local_11c = CONCAT44(local_128,(int)local_11c);
                    if ((int)local_128 < 0) {
                      dVar3 = dVar3 + 4294967296.0;
                    }
                    if (_DAT_0047ac88 * 300.0 <= dVar3) {
                      uVar40 = FUN_0045db50(local_170,extraout_EDX_02);
                      pcVar11 = local_10c;
                      local_114 = (double *)uVar40;
                      local_12c = NULL;
                      do {
                        cVar1 = *pcVar11;
                        pcVar11 = pcVar11 + 1;
                      } while (cVar1 != '\0');
                      iVar5 = (int)pcVar11 - (int)(local_10c + 1);
                      if (0 < iVar5) {
                        iVar19 = 0;
                        do {
                          cVar1 = local_10c[(int)local_12c];
                          if (('/' < cVar1) && (cVar1 < ':')) {
                            uVar50 = 0xff;
                            iVar20 = (cVar1 + -0x30) * DAT_004821d8;
                            uVar46 = 0xff;
                            uVar45 = 0;
                            iVar9 = DAT_004821d8;
                            iVar8 = DAT_004821dc;
                            uVar40 = FUN_0045db50(iVar20,DAT_004821dc);
                            uVar49 = (undefined4)uVar40;
                            uVar40 = FUN_0045db50(extraout_ECX_21,(int)(uVar40 >> 0x20));
                            uVar44 = (undefined4)uVar40;
                            uVar40 = FUN_0045db50(extraout_ECX_22,(int)(uVar40 >> 0x20));
                            uVar47 = (undefined4)uVar40;
                            local_11c = CONCAT44(iVar5 - iVar19,(int)local_11c);
                            uVar40 = FUN_0045db50(extraout_ECX_23,(int)(uVar40 >> 0x20));
                            (*DAT_0047b108)(&DAT_004821a8,&DAT_004821ac,(int)uVar40,uVar47,uVar44,
                                            uVar49,iVar20,uVar45,iVar9,iVar8,uVar46,uVar50);
                          }
                          local_12c = (double *)((int)local_12c + 1);
                          pcVar11 = local_10c;
                          iVar19 += 2;
                          do {
                            cVar1 = *pcVar11;
                            pcVar11 = pcVar11 + 1;
                          } while (cVar1 != '\0');
                          iVar5 = (int)pcVar11 - (int)(local_10c + 1);
                        } while ((int)local_12c < iVar5);
                      }
                    }
                    else {
                      local_11c = CONCAT44(2 - (int)local_170,(int)local_11c);
                      uVar40 = FUN_0045db50(local_170,2 - (int)local_170);
                      local_178 = (double *)uVar40;
                      uVar40 = FUN_0045db50(extraout_ECX_17,(int)(uVar40 >> 0x20));
                      pcVar11 = local_10c;
                      local_174 = (double *)uVar40;
                      local_12c = NULL;
                      do {
                        cVar1 = *pcVar11;
                        pcVar11 = pcVar11 + 1;
                      } while (cVar1 != '\0');
                      iVar5 = (int)pcVar11 - (int)(local_10c + 1);
                      if (0 < iVar5) {
                        iVar19 = 0;
                        do {
                          cVar1 = local_10c[(int)local_12c];
                          if (('/' < cVar1) && (cVar1 < ':')) {
                            uVar50 = 0xff;
                            iVar20 = (cVar1 + -0x30) * DAT_004821d8;
                            uVar46 = 0xff;
                            uVar45 = 0;
                            iVar9 = DAT_004821d8;
                            iVar8 = DAT_004821dc;
                            uVar40 = FUN_0045db50(iVar20,DAT_004821dc);
                            uVar49 = (undefined4)uVar40;
                            uVar40 = FUN_0045db50(extraout_ECX_18,(int)(uVar40 >> 0x20));
                            uVar44 = (undefined4)uVar40;
                            uVar40 = FUN_0045db50(extraout_ECX_19,(int)(uVar40 >> 0x20));
                            uVar47 = (undefined4)uVar40;
                            local_11c = CONCAT44(iVar5 - iVar19,(int)local_11c);
                            uVar40 = FUN_0045db50(extraout_ECX_20,(int)(uVar40 >> 0x20));
                            (*DAT_0047b108)(&DAT_004821a8,&DAT_004821ac,(int)uVar40,uVar47,uVar44,
                                            uVar49,iVar20,uVar45,iVar9,iVar8,uVar46,uVar50);
                          }
                          local_12c = (double *)((int)local_12c + 1);
                          pcVar11 = local_10c;
                          iVar19 += 2;
                          do {
                            cVar1 = *pcVar11;
                            pcVar11 = pcVar11 + 1;
                          } while (cVar1 != '\0');
                          iVar5 = (int)pcVar11 - (int)(local_10c + 1);
                        } while ((int)local_12c < iVar5);
                      }
                    }
                  }
                }
              }
            }
            iVar27 += 1;
          } while (iVar27 < (int)(uint)DAT_0047e2c8);
        }
      }
      iVar27 = DAT_0047df30;
      if ((DAT_0047e2c8 == 1) && (DAT_0047e5c4 != 0)) {
        if (local_130 < DAT_0047e554) {
          local_130 = DAT_0047e554;
        }
        iVar19 = DAT_0047df30 * DAT_0047df34;
        iVar5 = local_130 - DAT_0047e554;
        local_11c = CONCAT44(iVar19,(int)local_11c);
        if ((double)iVar5 < (double)iVar19 * _DAT_0047ac88 !=
            (NAN((double)iVar5) || NAN((double)iVar19 * _DAT_0047ac88))) {
          local_11c = CONCAT44(iVar5,(int)local_11c);
          _DAT_0047e4ec = 0x18;
          uVar40 = FUN_0045db50(iVar5,iVar19);
          iVar5 = 0;
          do {
            (*DAT_0047b110)(&DAT_00481df0,&DAT_00481df4,
                            (((int)DAT_0047ac74 - DAT_00481e20) / 5) * iVar5,
                            DAT_0047ac78 - DAT_00481e24,DAT_00481e20,DAT_00481e24,
                            DAT_00481e20 *
                            (int)((longlong)
                                  ((ulonglong)(uint)((int)uVar40 >> 0x1f) << 0x20 |
                                  uVar40 & 0xffffffff) % (longlong)iVar27));
            iVar5 += 1;
          } while (iVar5 < 6);
        }
      }
      uVar16 = local_110;
      if (((DAT_0047e620 == 1) && (DAT_0047e748 != 0)) && (DAT_0047e4e2 == 3)) {
        if (DAT_0047e748 == 1) {
          iVar27 = local_15c;
          if (DAT_0047e744 != 0) {
            sprintf_s(local_10c,0x100,"MaxCombo %4d");
            iVar27 = local_15c;
            FUN_00437c50(*(int *)(&DAT_0047e1b4 + local_15c) + -0xe,local_10c);
          }
          uVar17 = (uint)(&DAT_0047c8e8)[uVar16 * 0xf0];
          uVar7 = (uint)(&DAT_0047c8ea)[uVar16 * 0xf0];
          pdVar32 = (double *)((ushort)(&DAT_0047c8ec)[uVar16 * 0xf0] + uVar17 + uVar7);
          local_128 = (double *)0x1;
          if (DAT_0047acf0 == 0) {
            if (pdVar32 != NULL) {
              local_128 = pdVar32;
            }
            local_11c = CONCAT44(uVar17 + uVar7,(int)local_11c);
            FUN_0045db50(uVar7,uVar17 + uVar7);
            sprintf_s(local_10c,0x100,"Rate: %3d%%");
            pcVar11 = local_10c;
            do {
              cVar1 = *pcVar11;
              pcVar11 = pcVar11 + 1;
            } while (cVar1 != '\0');
            TextOutA(HDC_0047b6c0,*(int *)(&DAT_0047e1b8 + iVar27) + -400,
                     *(int *)(&DAT_0047e1cc + iVar27) + -8 + *(int *)(&DAT_0047e1b4 + iVar27),
                     local_10c,(int)pcVar11 - (int)(local_10c + 1));
            sprintf_s(local_10c,0x100,"\x3000%4hu");
            pcVar11 = local_10c;
            do {
              cVar1 = *pcVar11;
              pcVar11 = pcVar11 + 1;
            } while (cVar1 != '\0');
            TextOutA(HDC_0047b6c0,*(int *)(&DAT_0047e1b8 + iVar27) + -0x145,
                     *(int *)(&DAT_0047e1cc + iVar27) + -8 + *(int *)(&DAT_0047e1b4 + iVar27),
                     local_10c,(int)pcVar11 - (int)(local_10c + 1));
            sprintf_s(local_10c,0x100,"\x3000%4hu");
            pcVar11 = local_10c;
            do {
              cVar1 = *pcVar11;
              pcVar11 = pcVar11 + 1;
            } while (cVar1 != '\0');
            TextOutA(HDC_0047b6c0,*(int *)(&DAT_0047e1b8 + iVar27) + -0xff,
                     *(int *)(&DAT_0047e1cc + iVar27) + -8 + *(int *)(&DAT_0047e1b4 + iVar27),
                     local_10c,(int)pcVar11 - (int)(local_10c + 1));
            sprintf_s(local_10c,0x100,"\x3000%4hu");
            pcVar11 = local_10c;
            do {
              cVar1 = *pcVar11;
              pcVar11 = pcVar11 + 1;
            } while (cVar1 != '\0');
            TextOutA(HDC_0047b6c0,*(int *)(&DAT_0047e1b8 + iVar27) + -0xb9,
                     *(int *)(&DAT_0047e1cc + iVar27) + -8 + *(int *)(&DAT_0047e1b4 + iVar27),
                     local_10c,(int)pcVar11 - (int)(local_10c + 1));
            sprintf_s(local_10c,0x100,"\x3000%4hu");
            pcVar11 = local_10c;
            do {
              cVar1 = *pcVar11;
              pcVar11 = pcVar11 + 1;
            } while (cVar1 != '\0');
            TextOutA(HDC_0047b6c0,*(int *)(&DAT_0047e1b8 + iVar27) + -0x73,
                     *(int *)(&DAT_0047e1cc + iVar27) + -8 + *(int *)(&DAT_0047e1b4 + iVar27),
                     local_10c,(int)pcVar11 - (int)(local_10c + 1));
            if ((*(int *)(PTR_0047e74c + (uint)DAT_0047cf56 * 2 + 0x224) == DAT_0047c768) &&
               (DAT_0047c768 != 0)) {
              TextOutA(HDC_0047b6c0,*(int *)(&DAT_0047e1b8 + iVar27) + -0x181,
                       *(int *)(&DAT_0047e1c4 + iVar27) + -0x10 + *(int *)(&DAT_0047e1b4 + iVar27) ,
                       "New Record",10);
            }
          }
          else {
            if (pdVar32 != NULL) {
              local_128 = pdVar32;
            }
            local_11c = CONCAT44(uVar17 + uVar7,(int)local_11c);
            FUN_0045db50(uVar7,uVar17 + uVar7);
            sprintf_s(local_10c,0x100,"Rate: %3d%%");
            FUN_00437c50(*(int *)(&DAT_0047e1cc + iVar27) + -6 + *(int *)(&DAT_0047e1b4 + iVar27),
                         local_10c);
            sprintf_s(local_10c,0x100,"\x3000\\1%4hu",(uint)(&DAT_0047c8e8)[uVar16 * 0xf0]);
            FUN_00437c50(*(int *)(&DAT_0047e1cc + iVar27) + -6 + *(int *)(&DAT_0047e1b4 + iVar27),
                         local_10c);
            sprintf_s(local_10c,0x100,"\x3000\\2%4hu",(uint)(&DAT_0047c8ea)[uVar16 * 0xf0]);
            FUN_00437c50(*(int *)(&DAT_0047e1cc + iVar27) + -6 + *(int *)(&DAT_0047e1b4 + iVar27),
                         local_10c);
            sprintf_s(local_10c,0x100,"\x3000\\3  %4hu",(uint)(ushort)(&DAT_0047c8ec)[uVar16 * 0xf 0]
                     );
            FUN_00437c50(*(int *)(&DAT_0047e1cc + iVar27) + -6 + *(int *)(&DAT_0047e1b4 + iVar27),
                         local_10c);
            sprintf_s(local_10c,0x100,"\x3000\\4    %4hu",
                      (uint)(ushort)(&DAT_0047c8f4)[uVar16 * 0xf0]);
            FUN_00437c50(*(int *)(&DAT_0047e1cc + iVar27) + -6 + *(int *)(&DAT_0047e1b4 + iVar27),
                         local_10c);
            if ((*(int *)(&DAT_0047f088 + (uint)DAT_0047cf56 * 4) == DAT_0047c768) &&
               (DAT_0047c768 != 0)) {
              FUN_00437c50(*(int *)(&DAT_0047e1c4 + iVar27) + -0x10 +
                           *(int *)(&DAT_0047e1b4 + iVar27),"New Record");
            }
          }
        }
        else if (DAT_0047e748 == 2) {
          if (DAT_004826a8 == 0) {
            PatBlt(HDC_0047b6c0,0,0,(int)DAT_0047ac74 + 1,DAT_0047ac78 + 1,0x42);
          }
          else if (((((&DAT_0047c7e8)[local_110 * 0xf0] == 0) ||
                    ((&DAT_0047c914)[local_110 * 0xf0] != 0)) &&
                   (((&DAT_0047c916)[local_110 * 0xf0] == 0 ||
                    ((&DAT_0047c914)[local_110 * 0xf0] == 0)))) &&
                  ((DAT_00481d48 != 0 || (DAT_0047e634 != 0)))) {
            _DAT_0047e4ec = 0x2f;
            (*DAT_0047b110)(&DAT_00481d48,&DAT_00481d4c,0,DAT_0047ac78 - DAT_004826ac >> 1,
                            DAT_004826a8,DAT_004826ac,0);
          }
          else {
            _DAT_0047e4ec = 0x2e;
            (*DAT_0047b110)(&DAT_00482678,&DAT_0048267c,0,DAT_0047ac78 - DAT_004826ac >> 1,
                            DAT_004826a8,DAT_004826ac,0);
          }
          if (-1 < DAT_0047de24) {
            (*DAT_0047b110)(&DAT_0047ce98,&BITMAPINFO_0047c724,DAT_0047de28 - (DAT_0047b6c8 >> 1),
                            (DAT_0047de2c - (DAT_0047b6cc >> 1)) + 2,DAT_0047b6c8,DAT_0047b6cc,0);
            (*DAT_0047b110)(&DAT_0047d6e8,&BITMAPINFO_0047b664,DAT_0047de20 - (DAT_0047ce88 >> 1),
                            DAT_0047de24 - (DAT_0047ce8c >> 1),DAT_0047ce88,DAT_0047ce8c,0,0);
          }
          if (DAT_00482280 != 0) {
            _DAT_0047e4ec = 0x30;
            (*DAT_0047b110)(&DAT_00482250,&DAT_00482254,DAT_0047dd6c - (DAT_00482280 >> 1),
                            DAT_0047dd70 - (DAT_00482284 >> 1),DAT_00482280,DAT_00482284,0);
            if (DAT_0047e2c8 == 2) {
              if (DAT_00482288 == 0) {
                puVar42 = &DAT_00482254;
                piVar28 = &DAT_00482250;
              }
              else {
                _DAT_0047e4ec = 0x31;
                puVar42 = &DAT_0048228c;
                piVar28 = &DAT_00482288;
              }
              (*DAT_0047b110)(piVar28,puVar42,DAT_0047dd74 - (DAT_00482280 >> 1),
                              DAT_0047dd78 - (DAT_00482284 >> 1),DAT_00482280,DAT_00482284,0);
            }
          }
          local_110 = 0;
          if (DAT_0047e2c8 == 0) {
            uVar16 = 0;
          }
          else {
            do {
              uVar16 = local_110;
              local_134 = (double *)(local_110 * 0x1e0);
              sprintf_s(local_10c,0x100,"%7d");
              pcVar11 = local_10c;
              if (DAT_004820c0 == 0) {
                iVar5 = (&DAT_0047dd80)[uVar16 * 2] - (DAT_0048239c >> 1);
                iVar27 = DAT_00482398;
                uVar40 = FUN_0045db50(pcVar11,DAT_0048239c >> 1);
                FUN_00437ec0(&DAT_00482368,&DAT_0048236c,(&DAT_0047dd7c)[uVar16 * 2] - (int)uVar40 ,
                             iVar5,pcVar11,iVar27);
              }
              else {
                iVar27 = (&DAT_0047dd80)[uVar16 * 2] - (DAT_004820c4 >> 1);
                uVar40 = FUN_0045db50(pcVar11,iVar27);
                FUN_004384c0((void *)((&DAT_0047dd7c)[uVar16 * 2] - (int)uVar40),&DAT_00482090,
                             &DAT_00482094,iVar27,pcVar11);
              }
              sprintf_s(local_10c,0x100,"%4d");
              if (DAT_004826e0 == 0) {
                FUN_00437c50((&DAT_0047dd90)[uVar16 * 2] + -6,local_10c);
              }
              else {
                pcVar11 = local_10c;
                iVar27 = (&DAT_0047dd90)[uVar16 * 2] - (DAT_004826e4 >> 1);
                uVar40 = FUN_0045db50(pcVar11,iVar27);
                FUN_004384c0((void *)((&DAT_0047dd8c)[uVar16 * 2] - (int)uVar40),&DAT_004826b0,
                             &DAT_004826b4,iVar27,pcVar11);
              }
              piVar28 = &DAT_0047dd9c + uVar16 * 2;
              local_128 = (double *)0x3;
              do {
                sprintf_s(local_10c,0x100,"%4d");
                if (DAT_004826e0 == 0) {
                  FUN_00437c50(piVar28[1] + -6,local_10c);
                }
                else {
                  pcVar11 = local_10c;
                  iVar27 = piVar28[1] - (DAT_004826e4 >> 1);
                  uVar40 = FUN_0045db50(pcVar11,iVar27);
                  FUN_004384c0((void *)(*piVar28 - (int)uVar40),&DAT_004826b0,&DAT_004826b4,iVar27 ,
                               pcVar11);
                }
                pdVar32 = local_134;
                piVar28 = piVar28 + 4;
                local_128 = (double *)((int)local_128 + -1);
              } while (local_128 != NULL);
              sprintf_s(local_10c,0x100,"%4d");
              if (DAT_004826e0 == 0) {
                FUN_00437c50((&DAT_0047ddd0)[uVar16 * 2] + -6,local_10c);
              }
              else {
                pcVar11 = local_10c;
                iVar27 = (&DAT_0047ddd0)[uVar16 * 2] - (DAT_004826e4 >> 1);
                uVar40 = FUN_0045db50(pcVar11,iVar27);
                FUN_004384c0((void *)((&DAT_0047ddcc)[uVar16 * 2] - (int)uVar40),&DAT_004826b0,
                             &DAT_004826b4,iVar27,pcVar11);
              }
              uVar7 = (uint)*(ushort *)((int)pdVar32 + 0x47c8ea);
              pdVar26 = (double *)
                        ((uint)*(ushort *)((int)pdVar32 + 0x47c8ec) +
                         (uint)*(ushort *)(pdVar32 + 0x8f91d) + uVar7);
              local_128 = (double *)0x1;
              if (pdVar26 != NULL) {
                local_128 = pdVar26;
              }
              iVar27 = *(ushort *)(pdVar32 + 0x8f91d) + uVar7;
              local_11c = CONCAT44(iVar27,(int)local_11c);
              FUN_0045db50(uVar7,iVar27);
              sprintf_s(local_10c,0x100,"%4d");
              if (DAT_004826e0 == 0) {
                FUN_00437c50((&DAT_0047dde0)[uVar16 * 2] + -6,local_10c);
              }
              else {
                pcVar11 = local_10c;
                iVar27 = (&DAT_0047dde0)[uVar16 * 2] - (DAT_004826e4 >> 1);
                uVar40 = FUN_0045db50(pcVar11,iVar27);
                FUN_004384c0((void *)((&DAT_0047dddc)[uVar16 * 2] - (int)uVar40),&DAT_004826b0,
                             &DAT_004826b4,iVar27,pcVar11);
              }
              _DAT_0047e4ec = 0x32;
              if (((DAT_00482328 != 0) && (*(short *)((int)pdVar32 + 0x47c8ec) == 0)) &&
                 ((uint)DAT_0047c8ea + (uint)DAT_0047c8e8 != 0)) {
                (*DAT_0047b110)(&DAT_004822f8,&DAT_004822fc,
                                (&DAT_0047ddec)[uVar16 * 2] - (DAT_00482328 >> 1),
                                (&DAT_0047ddf0)[uVar16 * 2] - (DAT_0048232c >> 1),DAT_00482328,
                                DAT_0048232c,0);
              }
              _DAT_0047e4ec = 0x33;
              if (((DAT_00482670 != 0) &&
                  (*(int *)(&DAT_0047f088 + (uint)DAT_0047cf56 * 4) == DAT_0047c768)) &&
                 ((DAT_0047c768 != 0 && (DAT_0047e2c8 == 1)))) {
                (*DAT_0047b110)(&DAT_00482640,&DAT_00482644,
                                (&DAT_0047ddfc)[uVar16 * 2] - (DAT_00482670 >> 1),
                                (&DAT_0047de00)[uVar16 * 2] - (DAT_00482674 >> 1),DAT_00482670,
                                DAT_00482674,0);
              }
              if (DAT_004823d0 != 0) {
                iVar27 = 0x36;
                _DAT_0047e4ec = 0x36;
                if ((&DAT_0047cf62)[uVar16 * 0x1e0] == 0) {
                  uVar7 = uVar16 * 0xf0;
                  iVar27 = *(int *)((int)pdVar32 + 0x47c804) + uVar7;
                  uVar14 = (&DAT_0047c7b0)[iVar27];
                }
                else {
                  uVar14 = *(ushort *)((int)pdVar32 + 0x47c916);
                  uVar7 = (uint)uVar14;
                }
                local_11c = (ulonglong)CONCAT24(uVar14,(int)local_11c);
                uVar40 = FUN_0045db50(uVar7,iVar27);
                local_114 = (double *)uVar40;
                if ((int)DAT_0047de1c <= (int)local_114) {
                  local_114 = DAT_0047de1c;
                }
                local_178 = (double *)((&DAT_0047de0c)[uVar16 * 2] - ((int)DAT_0047de1c >> 1));
                pdVar26 = (double *)((int)DAT_004823d4 >> 1);
                local_174 = (double *)((&DAT_0047de10)[uVar16 * 2] - (int)pdVar26);
                local_12c = NULL;
                pdVar33 = DAT_0047de1c;
                uVar7 = DAT_004823d4;
                pdVar32 = DAT_0047dea8;
                if (0 < (int)DAT_0047de1c) {
                  do {
                    uVar16 = local_110;
                    uVar40 = FUN_0045db50(pdVar33,pdVar26);
                    pdVar26 = (double *)(uVar40 >> 0x20);
                    pdVar6 = (double *)uVar40;
                    local_11c = CONCAT44(pdVar6,(int)local_11c);
                    if ((((int)pdVar6 < (int)local_12c) &&
                        (pdVar26 = (double *)((int)pdVar32 + (int)pdVar6), pdVar33 = pdVar6,
                        (int)local_12c < (int)pdVar26)) ||
                       ((pdVar33 = (double *)((int)DAT_0047de1c - (int)pdVar32),
                        (int)pdVar33 < (int)local_12c ||
                        (((pdVar26 = (double *)(&DAT_0047ad70)[uVar16 * 5],
                          (int)pdVar26 <= (int)local_12c &&
                          (pdVar33 = pdVar26, (int)local_12c < (int)(&DAT_0047ad74)[uVar16 * 5])) ||
                         (pdVar33 = (double *)(&DAT_0047ad7c)[uVar16 * 5],
                         (int)pdVar33 < (int)local_12c)))))) {
                      local_12c = pdVar33;
                    }
                    pdVar33 = (double *)((int)local_114 - (int)local_12c);
                    if ((int)pdVar32 < (int)local_114 - (int)local_12c) {
                      pdVar33 = pdVar32;
                    }
                    pdVar30 = (double *)(((int)pdVar33 < 0) - 1 & (uint)pdVar33);
                    local_120 = pdVar30;
                    if ((int)pdVar30 < (int)pdVar32) {
                      pdVar26 = local_174;
                      if ((int)local_12c < (int)pdVar32) {
                        uVar40 = ZEXT48(pdVar30);
                        pdVar6 = (double *)((int)pdVar32 - (int)pdVar30);
                        iVar27 = (int)local_178 + (int)pdVar30;
                      }
                      else {
                        fVar38 = (float10)(int)local_12c;
                        if (extraout_ST0_00 - (float10)(int)DAT_0047dea8 <= fVar38) {
                          if (fVar38 < extraout_ST0_00 == (NAN(fVar38) || NAN(extraout_ST0_00))) {
                            if ((NAN(fVar38) || NAN(extraout_ST0_00)) != (fVar38 == extraout_ST0_00 )
                               ) {
                              (*DAT_0047b110)(&DAT_004823a0,&DAT_004823a4,
                                              (int)pdVar6 + (int)local_178 + (int)pdVar30,local_174 ,
                                              (int)pdVar32 - (int)pdVar30,uVar7,
                                              (int)pdVar30 + (int)pdVar32 * 3);
                              pdVar33 = extraout_ECX_24;
                              pdVar26 = extraout_EDX_03;
                              uVar7 = DAT_004823d4;
                              pdVar32 = DAT_0047dea8;
                              goto LAB_00433f03;
                            }
                            iVar27 = (int)DAT_0047de1c - (int)pdVar32;
                            if ((int)local_12c < iVar27) {
                              pdVar6 = (double *)((int)pdVar32 - (int)pdVar30);
                              if (iVar27 - (int)local_12c <= (int)pdVar32 - (int)pdVar30) {
                                pdVar6 = (double *)(iVar27 - (int)local_12c);
                              }
                              pdVar32 = (double *)((int)pdVar32 * 4);
                              goto LAB_00433eac;
                            }
                            uVar40 = (ulonglong)(uint)((int)pdVar30 + (int)pdVar32 * 5);
                            pdVar6 = (double *)((int)pdVar32 - (int)pdVar30);
                            iVar27 = iVar27 + (int)local_178 + (int)pdVar30;
                          }
                          else {
                            uVar16 = (int)pdVar30 + (int)pdVar32 * 2;
                            uVar40 = (ulonglong)uVar16;
                            pdVar6 = (double *)((int)pdVar32 - (int)pdVar30);
                            uVar41 = FUN_0045db50(pdVar33,uVar16);
                            iVar27 = (int)uVar41 + (int)local_178 + (int)pdVar30;
                          }
                        }
                        else {
                          local_128 = (double *)((int)pdVar32 - (int)pdVar30);
                          uVar40 = FUN_0045db50(pdVar33,local_12c);
                          pdVar6 = (double *)((int)uVar40 - (int)local_12c);
                          if ((int)local_128 < (int)pdVar6) {
                            pdVar6 = local_128;
                          }
LAB_00433eac:
                          uVar40 = (ulonglong)(uint)((int)pdVar32 + (int)pdVar30);
                          iVar27 = (int)local_178 + (int)pdVar30 + (int)local_12c;
                          pdVar26 = local_174;
                        }
                      }
                      (*DAT_0047b110)(&DAT_004823a0,&DAT_004823a4,iVar27,pdVar26,pdVar6,uVar7,uVar 40
                                     );
                      pdVar33 = extraout_ECX_25;
                      pdVar26 = extraout_EDX_04;
                      uVar7 = DAT_004823d4;
                      pdVar32 = DAT_0047dea8;
                    }
LAB_00433f03:
                    if (pdVar30 != NULL) {
                      pdVar26 = local_174;
                      if ((int)local_12c < (int)pdVar32) {
                        lVar52 = (ulonglong)uVar7 << 0x20;
                        pdVar33 = local_178;
                      }
                      else {
                        dVar4 = (double)(int)local_12c;
                        dVar3 = (double)(int)DAT_0047de1c * (double)(&DAT_0047acd0)[local_110];
                        if (dVar3 - (double)(int)DAT_0047dea8 <= dVar4) {
                          if (dVar4 < dVar3 == (NAN(dVar4) || NAN(dVar3))) {
                            if ((NAN(dVar3) || NAN(dVar4)) == (dVar3 == dVar4)) {
                              iVar27 = (int)DAT_0047de1c - (int)pdVar32;
                              if ((int)local_12c < iVar27) {
                                if (iVar27 - (int)local_12c <= (int)pdVar30) {
                                  pdVar30 = (double *)(iVar27 - (int)local_12c);
                                }
                                pdVar33 = (double *)((int)local_178 + (int)local_12c);
                                lVar52 = CONCAT44(uVar7,(int)pdVar32 * 4);
                                goto LAB_0043401e;
                              }
                              lVar52 = CONCAT44(uVar7,(int)pdVar32 * 5);
                            }
                            else {
                              lVar52 = CONCAT44(uVar7,(int)pdVar32 * 3);
                              uVar40 = FUN_0045db50(local_12c,(int)pdVar32 * 3);
                              iVar27 = (int)uVar40;
                            }
                          }
                          else {
                            lVar52 = CONCAT44(uVar7,(int)pdVar32 * 2);
                            uVar40 = FUN_0045db50(local_174,local_110);
                            iVar27 = (int)uVar40;
                          }
                          pdVar33 = (double *)(iVar27 + (int)local_178);
                        }
                        else {
                          uVar40 = FUN_0045db50(local_12c,local_110);
                          pdVar6 = (double *)((int)uVar40 - (int)local_12c);
                          if ((int)pdVar30 < (int)pdVar6) {
                            pdVar6 = pdVar30;
                          }
                          pdVar33 = (double *)((int)local_178 + (int)local_12c);
                          lVar52 = CONCAT44(uVar7,pdVar32);
                          pdVar26 = local_174;
                          pdVar30 = pdVar6;
                        }
                      }
LAB_0043401e:
                      (*DAT_0047b110)(&DAT_004823a0,&DAT_004823a4,pdVar33,pdVar26,pdVar30,uVar7,
                                      lVar52);
                      pdVar33 = extraout_ECX_26;
                      pdVar26 = extraout_EDX_05;
                      uVar7 = DAT_004823d4;
                      pdVar32 = DAT_0047dea8;
                    }
                    local_12c = (double *)((int)local_12c + (int)pdVar32);
                    uVar16 = local_110;
                  } while ((int)local_12c < (int)DAT_0047de1c);
                }
              }
              _DAT_0047e4ec = 0x37;
              if (DAT_00482638 != 0) {
                (*DAT_0047b110)(&DAT_00482608,&DAT_0048260c,
                                (&DAT_0047de0c)[uVar16 * 2] - (DAT_00482638 >> 1),
                                (&DAT_0047de10)[uVar16 * 2] - (DAT_0048263c >> 1),DAT_00482638,
                                DAT_0048263c,0);
              }
              uVar16 += 1;
              local_110 = uVar16;
            } while ((int)uVar16 < (int)(uint)DAT_0047e2c8);
          }
        }
      }
      if (((DAT_00481de8 != 0) &&
          (local_134 = (double *)(uVar16 * 0x1e0), *(int *)(local_134 + 0x8f914) != 0)) &&
         ((&DAT_0047cec8)[uVar16 * 0x1e0] == 0)) {
        uVar7 = *(uint *)(local_134 + 0x8f915);
        if (local_130 < uVar7) {
          local_130 = uVar7;
        }
        iVar27 = local_130 - uVar7;
        local_11c = CONCAT44(iVar27,(int)local_11c);
        dVar3 = (double)iVar27;
        if (iVar27 < 0) {
          dVar3 = dVar3 + 4294967296.0;
        }
        iVar27 = DAT_00481de8 >> 1;
        if (_DAT_0047ac88 * 650.0 <= dVar3) {
          if (dVar3 < _DAT_0047ac88 * 714.0) {
            local_114 = (double *)CONCAT22(in_FPUControlWord,(short)local_114);
            _DAT_0047e4ec = 10;
            local_11c = (ulonglong)ROUND(_DAT_0047ac88 * 650.0);
            (*DAT_0047b11c)(&DAT_00481db8,&DAT_00481dbc,(&DAT_0047dc00)[uVar16 * 2] - iVar27,
                            (&DAT_0047dc04)[uVar16 * 2] - (DAT_00481dec >> 1),DAT_00481de8,
                            DAT_00481dec,0,DAT_00481dec * uVar16);
            _DAT_0047e4ec = 0xb;
            sprintf_s(local_10c,0x100,"%d");
            pcVar11 = local_10c;
            iVar27 = 0;
            do {
              cVar1 = *pcVar11;
              pcVar11 = pcVar11 + 1;
            } while (cVar1 != '\0');
            iVar5 = (int)pcVar11 - (int)(local_10c + 1);
            uVar7 = uVar16;
            if (0 < iVar5) {
              do {
                uVar16 = local_110;
                (*DAT_0047b11c)(&DAT_00481ca0,&DAT_00481ca4,
                                ((DAT_00481cd0 >> 1) - ((iVar5 - iVar27) + -1) * DAT_00481cd0) +
                                (&DAT_0047dc10)[local_110 * 2],
                                (&DAT_0047dc14)[local_110 * 2] - (DAT_00481cd4 >> 1),DAT_00481cd0,
                                DAT_00481cd4,(local_10c[iVar27] + -0x30) * DAT_00481cd0,
                                DAT_00481cd4 * uVar7);
                pcVar11 = local_10c;
                iVar27 += 1;
                do {
                  cVar1 = *pcVar11;
                  pcVar11 = pcVar11 + 1;
                } while (cVar1 != '\0');
                iVar5 = (int)pcVar11 - (int)(local_10c + 1);
                uVar7 = uVar16;
              } while (iVar27 < iVar5);
            }
          }
        }
        else {
          _DAT_0047e4ec = 10;
          if (_DAT_0047ac88 * 150.0 <= dVar3) {
            (*DAT_0047b110)(&DAT_00481db8,&DAT_00481dbc,(&DAT_0047dc00)[uVar16 * 2] - iVar27,
                            (&DAT_0047dc04)[uVar16 * 2] - (DAT_00481dec >> 1),DAT_00481de8,
                            DAT_00481dec,0);
          }
          else {
            uVar40 = FUN_0045db50(10,uVar16 * 0x3c0);
            iVar5 = DAT_00481dec;
            uVar7 = (int)(uint)uVar40 >> 0x1f;
            local_11c = CONCAT44(((uint)uVar40 ^ uVar7) - uVar7,(int)local_11c);
            iVar19 = DAT_00481dec * uVar16;
            uVar47 = 0;
            uVar40 = FUN_0045db50(extraout_ECX_27,iVar19);
            uVar49 = (undefined4)uVar40;
            uVar40 = FUN_0045db50(extraout_ECX_28,(int)(uVar40 >> 0x20));
            uVar44 = (undefined4)uVar40;
            local_11c = CONCAT44(iVar5 >> 1,(int)local_11c);
            uVar40 = FUN_0045db50(extraout_ECX_29,(int)(uVar40 >> 0x20));
            local_11c = CONCAT44(iVar27,(int)local_11c);
            iVar27 = (&DAT_0047dc04)[uVar16 * 2] - (int)uVar40;
            uVar40 = FUN_0045db50(iVar27,(int)(uVar40 >> 0x20));
            (*DAT_0047b118)(&DAT_00481db8,&DAT_00481dbc,(&DAT_0047dc00)[uVar16 * 2] - (int)uVar40,
                            iVar27,uVar44,uVar49,uVar47,iVar19);
          }
          _DAT_0047e4ec = 0xb;
          sprintf_s(local_10c,0x100,"%d");
          pcVar11 = local_10c;
          iVar27 = 0;
          do {
            cVar1 = *pcVar11;
            pcVar11 = pcVar11 + 1;
          } while (cVar1 != '\0');
          iVar5 = (int)pcVar11 - (int)(local_10c + 1);
          if (0 < iVar5) {
            do {
              (*DAT_0047b110)(&DAT_00481ca0,&DAT_00481ca4,
                              ((DAT_00481cd0 >> 1) - ((iVar5 - iVar27) + -1) * DAT_00481cd0) +
                              (&DAT_0047dc10)[uVar16 * 2],
                              (&DAT_0047dc14)[uVar16 * 2] - (DAT_00481cd4 >> 1),DAT_00481cd0,
                              DAT_00481cd4,(local_10c[iVar27] + -0x30) * DAT_00481cd0);
              pcVar11 = local_10c;
              iVar27 += 1;
              do {
                cVar1 = *pcVar11;
                pcVar11 = pcVar11 + 1;
              } while (cVar1 != '\0');
              iVar5 = (int)pcVar11 - (int)(local_10c + 1);
            } while (iVar27 < iVar5);
          }
        }
      }
      pcVar31 = strcpy_s_exref;
      iVar27 = (int)(short)(&DAT_0047e608)[uVar16];
      if (iVar27 < 9) {
        if (iVar27 == 8) {
          strcpy_s(local_10c,0x100,"Doron");
        }
        else if (false) {
switchD_004344f3_caseD_3:
          pcVar31 = strcpy_s_exref;
        }
        else {
          switch(iVar27) {
          case 0:
            strcpy_s(local_10c,0x100,"");
            break;
          case 1:
            strcpy_s(local_10c,0x100,"x2 Scroll");
            break;
          case 2:
            strcpy_s(local_10c,0x100,"x3 Scroll");
            break;
          default:
            goto switchD_004344f3_caseD_3;
          case 4:
            strcpy_s(local_10c,0x100,"x4 Scroll");
          }
        }
      }
      else if (iVar27 < 0x81) {
        if (iVar27 == 0x80) {
          sprintf_s(local_10c,0x100,"Reg.Speed %d");
          goto switchD_004344f3_caseD_3;
        }
        if (iVar27 == 0x10) {
          strcpy_s(local_10c,0x100,"Stealth");
        }
        else if (iVar27 == 0x20) {
          strcpy_s(local_10c,0x100,"Turn");
        }
        else {
          if (iVar27 != 0x40) goto switchD_004344f3_caseD_3;
          strcpy_s(local_10c,0x100,"Shuffle");
        }
      }
      else if (iVar27 == 0x100) {
        strcpy_s(local_10c,0x100,"RedOnly");
      }
      else {
        if (iVar27 != 0x200) goto switchD_004344f3_caseD_3;
        strcpy_s(local_10c,0x100,"BlueOnly");
      }
      FUN_00437c50((uVar16 - DAT_0047e2c8) * 0xf + DAT_0047ac78,local_10c);
      if ((DAT_0047e62c == 1) || (DAT_0047cf60 == 1)) {
        pcVar11 = "BMScroll";
LAB_00434725:
        FUN_00437c50(DAT_0047ac78 + -0xf,pcVar11);
      }
      else if ((DAT_0047e62c == 2) || (DAT_0047cf60 == 2)) {
        pcVar11 = "HBScroll";
        goto LAB_00434725;
      }
      if (DAT_0047cf7c == 0) {
        uVar51 = 0x4623d600000100;
LAB_00434780:
        (*pcVar31)(local_10c,uVar51);
      }
      else {
        if (DAT_0047cf7c == 1) {
          uVar51 = 0x463ab800000100;
          goto LAB_00434780;
        }
        if (DAT_0047cf7c == 2) {
          uVar51 = 0x463ac400000100;
          goto LAB_00434780;
        }
      }
      FUN_00437c50(DAT_0047ac78 + -0xf,local_10c);
      local_110 = uVar16 + 1;
    } while ((int)(uVar16 + 1) < (int)(uint)DAT_0047e2c8);
  }
  if ((999 < local_130 - _DAT_0047e5a0) || (false)) goto switchD_004347dc_caseD_6;
  switch(DAT_0047e5a4) {
  case 0:
    sprintf_s(local_10c,0x100,"AutoLevel : %03d");
    FUN_00437c50(2,local_10c);
    goto switchD_004347dc_caseD_6;
  case 1:
    sprintf_s(local_10c,0x100,"AutoPlay : ");
    if (DAT_0047ac94 == 1) {
      if (DAT_0047e58c != 0) {
        if (DAT_0047e58c == 1) {
          strcat_s(local_10c,0x100,"1P Auto");
        }
        else {
          if (DAT_0047e58c != 2) goto LAB_004348b6;
          strcat_s(local_10c,0x100,"2P Auto");
        }
        break;
      }
      pcVar11 = "ON";
    }
    else {
LAB_004348b6:
      pcVar11 = "OFF";
    }
LAB_004348bb:
    strcat_s(local_10c,0x100,pcVar11);
    break;
  case 2:
    sprintf_s(local_10c,0x100,"KeyAction : ");
    if (DAT_0047e618 == 1) {
      strcat_s(local_10c,0x100,"Anytime");
    }
    else {
      pcVar11 = "Active";
LAB_00434923:
      strcat_s(local_10c,0x100,pcVar11);
    }
    break;
  case 3:
    if (DAT_0047cf60 == 0) {
      if (DAT_0047e62c == 2) {
        sprintf_s(local_10c,0x100,"HBScroll : ON");
      }
      else {
        sprintf_s(local_10c,0x100,"BMScroll : ");
        if (DAT_0047e62c == 0) {
          strcat_s(local_10c,0x100,(char *)&_Src_00463b40);
        }
        else {
          strcat_s(local_10c,0x100,"ON");
        }
      }
    }
    else if (DAT_0047cf60 == 1) {
      sprintf_s(local_10c,0x100,"BMScroll Fixed");
    }
    else {
      sprintf_s(local_10c,0x100,"HBScroll Fixed");
    }
    break;
  case 4:
    sprintf_s(local_10c,0x100,"NormaGauge : ");
    bVar35 = (DAT_0047cf62 & 1) == 0;
    if (false) {
      bVar35 = ((DAT_0047cf62 & 0x80000001) - 1 | 0xfffffffe) == 0xffffffff;
    }
    if (!bVar35) {
      pcVar11 = "Hard";
      goto LAB_00434923;
    }
    strcat_s(local_10c,0x100,"Normal");
    break;
  case 5:
    sprintf_s(local_10c,0x100,"PlayStyle : ");
    if (DAT_0047e2c8 == 1) {
      strcat_s(local_10c,0x100,"Single");
    }
    else {
      strcat_s(local_10c,0x100,"Double");
    }
    break;
  default:
    goto switchD_004347dc_caseD_6;
  case 7:
    sprintf_s(local_10c,0x100,"SCORE : ");
    if (DAT_0047e2d8 == 0) {
      strcat_s(local_10c,0x100,"Stepwise");
    }
    else if (DAT_0047e2d8 == 1) {
      pcVar11 = "Stable";
      goto LAB_004348bb;
    }
    break;
  case 8:
    local_11c = CONCAT44(DAT_0047cf5c + DAT_0047cf58,(int)local_11c);
    sprintf_s(local_10c,0x100,"OFFSET : %+1.3f",(double)(DAT_0047cf5c + DAT_0047cf58) / 1000.0);
  }
  FUN_00437c50(2,local_10c);
switchD_004347dc_caseD_6:
  if ((((DAT_0047e5c4 == 0) && (DAT_0047e2c4 != 0)) && (*DAT_0047b154 + -2000 < (int)DAT_0047e514) )
     && (iVar27 = 0, DAT_0047e2c8 != 0)) {
    piVar28 = (int *)&DAT_0047e1b4;
    do {
      sprintf_s(local_10c,0x100,"Measure : %03d/%03d",DAT_0047cf68 + 1);
      FUN_00437c50(*piVar28 + -0xe,local_10c);
      iVar27 += 1;
      piVar28 = piVar28 + 8;
    } while (iVar27 < (int)(uint)DAT_0047e2c8);
  }
  if (((DAT_0047c918 != 0) && (DAT_0047e620 == 0)) &&
     ((DAT_0047c750 == 1 && ((DAT_0047e748 < 2 && (iVar27 = 0, DAT_0047e2c8 != 0)))))) {
    piVar28 = (int *)&DAT_0047e1b4;
    do {
      FUN_00437c50(piVar28[6] + -6 + *piVar28,"// FAILED //");
      iVar27 += 1;
      piVar28 = piVar28 + 8;
    } while (iVar27 < (int)(uint)DAT_0047e2c8);
  }
  if (DAT_0047e604 == 0) {
    SetTextColor(HDC_0047b6c0,0xc8c8c8);
    if (DAT_0047e2c8 != 0) {
      piVar28 = (int *)&DAT_0047e1b4;
      iVar27 = 0;
      do {
        FUN_00437c50(piVar28[6] + -6 + *piVar28,"Wait a moment...");
        iVar27 += 1;
        piVar28 = piVar28 + 8;
      } while (iVar27 < (int)(uint)DAT_0047e2c8);
    }
  }
  else if (DAT_0047e604 == 1) {
    SetTextColor(HDC_0047b6c0,0xc8c8c8);
    if (((DAT_0047e590 == 0) && (DAT_0047e2d4 == 0)) && (DAT_0047e2c8 != 0)) {
      piVar28 = (int *)&DAT_0047e1b4;
      iVar27 = 0;
      do {
        FUN_00437c50(piVar28[6] + -6 + *piVar28,"PRESS SPACE KEY");
        iVar27 += 1;
        piVar28 = piVar28 + 8;
      } while (iVar27 < (int)(uint)DAT_0047e2c8);
    }
    uVar16 = local_110;
    iVar27 = (int)(short)(&DAT_0047e608)[local_110];
    if (iVar27 < 9) {
      if (iVar27 == 8) {
        pcVar11 = "Doron";
        goto LAB_00434e7b;
      }
      if (true) {
        switch(iVar27) {
        case 0:
          pcVar11 = (char *)((int)&_Src_004623d6 + 1);
          break;
        case 1:
          pcVar11 = "x2 Scroll";
          break;
        case 2:
          pcVar11 = "x3 Scroll";
          break;
        default:
          goto switchD_00434d72_caseD_3;
        case 4:
          pcVar11 = "x4 Scroll";
        }
        goto LAB_00434e7b;
      }
    }
    else {
      if (iVar27 < 0x81) {
        if (iVar27 == 0x80) {
          sprintf_s(local_10c,0x100,"Reg.Speed %d");
          goto switchD_00434d72_caseD_3;
        }
        if (iVar27 == 0x10) {
          pcVar11 = "Stealth";
        }
        else if (iVar27 == 0x20) {
          pcVar11 = "Turn";
        }
        else {
          if (iVar27 != 0x40) goto switchD_00434d72_caseD_3;
          pcVar11 = "Shuffle";
        }
      }
      else if (iVar27 == 0x100) {
        pcVar11 = "RedOnly";
      }
      else {
        if (iVar27 != 0x200) goto switchD_00434d72_caseD_3;
        pcVar11 = "BlueOnly";
      }
LAB_00434e7b:
      strcpy_s(local_10c,0x100,pcVar11);
    }
switchD_00434d72_caseD_3:
    if ((&DAT_0047e608)[uVar16] == 0x80) {
      FUN_00437c50((uVar16 - DAT_0047e2c8) * 0xf + DAT_0047ac78,local_10c);
    }
    else {
      FUN_00437c50((uVar16 - DAT_0047e2c8) * 0xf + DAT_0047ac78,local_10c);
    }
  }
  FUN_00435050();
  if (DAT_0047e634 == 0) {
    if (DAT_0047ac80 == DAT_0047ac78) {
      BitBlt(DAT_0047de50,0,0,(int)DAT_0047ac74,DAT_0047ac78,HDC_0047b6c0,0,0,0xcc0020);
      __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
      return;
    }
    StretchDIBits(DAT_0047de50,0,0,DAT_0047ac7c,DAT_0047ac80,0,0,(int)DAT_0047ac74,DAT_0047ac78,
                  ppvBits_0047c2bc,(BITMAPINFO *)&lpbmi_0047b694,0,0xcc0020);
  }
LAB_00434fda:
  __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
  return;
LAB_0042dfc3:
  if (*(short *)local_154 != 8) {
    if (DAT_0047e580 == 0) {
      iVar19 = *(int *)((int)local_148 + 8 + iVar5);
      uVar14 = *(ushort *)(local_144 + 2 + iVar5);
      iVar9 = (*(int *)((int)local_138 + iVar5 + 8) - iVar27 * (int)local_120) - iVar19;
      iVar5 = *(int *)((int)local_138 + iVar5 + 0xc);
      iVar19 = iVar27 * (int)local_120 + iVar19;
    }
    else {
      iVar19 = *(int *)((int)local_138 + iVar5 + 8);
      uVar14 = *(ushort *)(local_144 + 2 + iVar5);
      iVar9 = (*(int *)((int)local_148 + 8 + iVar5) + iVar27 * (int)local_120) - iVar19;
      iVar5 = *(int *)((int)local_138 + iVar5 + 0xc);
    }
    (*DAT_0047b10c)(&DAT_004829c0,&DAT_004829c4,iVar19,iVar5 - DAT_004829f4 / 2,iVar9,DAT_004829f4 ,
                    (uVar14 - 2) * iVar27 * 3,0,0xff,local_114,CONCAT44(local_110,local_114));
    iVar27 = DAT_004829f0;
    iVar5 = DAT_0047e2c4;
    iVar9 = DAT_00482948;
  }
  if (((iVar9 != 0) && (_DAT_0047e4ec = 0x1b, 0 < (int)local_120)) &&
     (*(int *)((int)local_148 + 0xc + iVar5) ==
      *(int *)(&DAT_0047e1cc + local_15c) + *(int *)(&DAT_0047e1b4 + local_15c))) {
    iVar27 *= (int)local_120;
    local_180 = *(ushort **)((int)local_148 + 8 + iVar5);
    local_124 = (double *)(iVar9 >> 1);
    uVar16 = (int)local_124 + *local_13c + (-(int)local_180 - iVar27);
    uVar16 = ((int)uVar16 < 0) - 1 & uVar16;
    local_11c = CONCAT44(uVar16,(int)local_11c);
    uVar40 = FUN_0045db50(local_13c,uVar16);
    iVar8 = (int)uVar40;
    iVar19 = iVar8 + iVar9 * 9;
    iVar5 = ((*(int *)((int)local_138 + iVar5 + 8) - iVar8) - iVar27) - (int)local_180;
    iVar9 = (&DAT_0047db84)[local_110] - (DAT_0048294c >> 1);
    puVar43 = (undefined *)((iVar8 - (int)local_124) + iVar27 + (int)local_180);
    goto LAB_0042dd23;
  }
LAB_0042e199:
  local_148 = (int *)(local_144 + 8 + iVar5);
  if (((*local_148 < *local_13c + iVar27 * -2) ||
      (*local_13c + *(int *)(&DAT_0047e1c0 + local_15c) + iVar27 < *local_148)) ||
     ((*(short *)local_154 == 0x10 ||
      ((iVar19 = *local_148 - *local_13c, iVar19 <= iVar27 * -2 ||
       (*(int *)(&DAT_0047e1c0 + local_15c) + iVar27 <= iVar19)))))) goto LAB_0042f046;
  uVar16 = (uint)DAT_0047e550;
  _DAT_0047e4ec = 0;
  if (DAT_0047e550 == 0xffff) {
    if ((int)DAT_0047e514 < 0) {
      uVar16 = *(uint *)(*(int *)(local_140 + 0x8f9de) + (uint)local_184[local_110] * 4);
      pdVar32 = DAT_0047e514;
LAB_0042e2bb:
      local_114 = (double *)(uVar16 - (uint)pdVar32 % uVar16);
    }
    else {
      local_124 = (double *)(uint)local_184[local_110];
      iVar19 = DAT_0047b154
               [*(ushort *)((int)local_124 * 0x20 + 0x10 + *(int *)((int)local_140 + 0x47cecc))];
      if ((int)DAT_0047e514 < iVar19) {
        uVar16 = *(uint *)(*(int *)(local_140 + 0x8f9de) + (int)local_124 * 4);
        pdVar32 = (double *)((int)DAT_0047e514 - iVar19);
        goto LAB_0042e2bb;
      }
      local_114 = (double *)((int)DAT_0047e514 - iVar19);
    }
    if ((int)local_114 < 0) {
      local_114 = (double *)(((uint)local_114 ^ (int)local_114 >> 0x1f) - ((int)local_114 >> 0x1f) );
    }
    uVar16 = *(uint *)(*(int *)(local_140 + 0x8f9de) + (uint)local_184[local_110] * 4);
    if (*(uint *)(local_134 + 0x8f8ee) < 0x96) {
      dVar3 = (double)(uVar16 >> 1);
      if (false) {
        dVar3 = dVar3 + 4294967296.0;
      }
      iVar19 = (int)ROUND((double)(int)local_114 / dVar3);
      local_11c = CONCAT44(iVar19,(int)local_11c);
      uVar40 = local_11c;
      local_11c._4_2_ = (ushort)iVar19;
      uVar14 = local_11c._4_2_;
      local_11c = uVar40;
    }
    else {
      dVar3 = (double)(uVar16 >> 2);
      if (false) {
        dVar3 = dVar3 + 4294967296.0;
      }
      iVar19 = (int)ROUND((double)(int)local_114 / dVar3);
      local_11c = CONCAT44(iVar19,(int)local_11c);
      uVar40 = local_11c;
      local_11c._4_2_ = (ushort)iVar19;
      uVar14 = local_11c._4_2_;
      local_11c = uVar40;
    }
    local_114 = (double *)CONCAT22(in_FPUControlWord,(short)local_114);
    uVar16 = (uint)((longlong)(ulonglong)uVar14 % (longlong)DAT_0047de58);
    DAT_0047e550 = (ushort)((longlong)(ulonglong)uVar14 % (longlong)DAT_0047de58);
  }
  uVar14 = *(ushort *)(local_144 + 2 + iVar5);
  local_124 = (double *)(uint)uVar14;
  iVar8 = iVar27 >> 1;
  iVar19 = DAT_004829f4 >> 1;
  if ((local_124 < (double *)0x4) && (*(short *)local_154 != 8)) {
    uVar51 = CONCAT44(local_110,(uVar16 & 0xffff) * DAT_004829f4);
    iVar9 = ((int)local_124 + 1) * iVar27;
LAB_0042e3fb:
    iVar19 = *(int *)(local_144 + 0xc + iVar5) - iVar19;
    iVar20 = *local_148;
LAB_0042e40e:
    (*DAT_0047b114)(&DAT_004829c0,&DAT_004829c4,iVar20 - iVar8,iVar19,iVar27,DAT_004829f4,iVar9,
                    uVar51);
    iVar27 = DAT_004829f0;
    iVar5 = DAT_0047e2c4;
    iVar9 = DAT_00482948;
  }
  else {
    if ((uVar14 == 4) && (*(short *)local_154 != 8)) {
      uVar14 = *(ushort *)(local_144 + 0x10 + iVar5);
      uVar7 = (uint)uVar14;
      if (uVar14 != 0) {
        if (10 < uVar7) {
          uVar7 = 10;
        }
        iVar9 = iVar27 * 5;
LAB_0042e4aa:
        iVar20 = uVar7 * -0x14 + 0xff;
        (*DAT_0047b10c)(&DAT_004829c0,&DAT_004829c4,*local_148 - iVar8,
                        *(int *)(local_144 + 0xc + iVar5) - iVar19,iVar27,DAT_004829f4,iVar9,
                        (uVar16 & 0xffff) * DAT_004829f4,0xff,iVar20,CONCAT44(local_110,iVar20));
        iVar27 = DAT_004829f0;
        iVar5 = DAT_0047e2c4;
        iVar9 = DAT_00482948;
        goto LAB_0042e8c5;
      }
      uVar51 = CONCAT44(local_110,(uVar16 & 0xffff) * DAT_004829f4);
      iVar9 = iVar27 * 5;
      goto LAB_0042e3fb;
    }
    if ((uVar14 == 5) && (*(short *)local_154 != 8)) {
      uVar14 = *(ushort *)(local_144 + 0x10 + iVar5);
      uVar7 = (uint)uVar14;
      if (uVar14 != 0) {
        if (10 < uVar7) {
          uVar7 = 10;
        }
        iVar9 = iVar27 * 8;
        goto LAB_0042e4aa;
      }
      uVar51 = CONCAT44(local_110,(uVar16 & 0xffff) * DAT_004829f4);
      iVar9 = iVar27 * 8;
      goto LAB_0042e3fb;
    }
    if (((uVar14 == 6) || (uVar14 == 8)) && (*(short *)local_154 != 8)) {
      if (DAT_0047e502 == 0xf) {
        local_114 = (double *)((int)local_124 + -6);
      }
      else {
        local_114 = NULL;
      }
      iVar20 = *local_148;
      if (((iVar20 == *(int *)(&DAT_0047e1c8 + local_15c) + *local_13c) &&
          (local_150 == *(double **)(local_134 + 0x8f901))) && (DAT_00482600 == 0)) {
        (*DAT_0047b114)(&DAT_004829c0,&DAT_004829c4,iVar20 - iVar8,
                        *(int *)(local_144 + 0xc + iVar5) - iVar19,iVar27 * 2,DAT_004829f4,
                        ((int)local_114 + 0xb) * iVar27,0);
        sprintf_s(local_10c,0x100,"%u");
        pcVar11 = local_10c;
        iVar27 = *(int *)(&DAT_0047e1cc + local_15c) + -6 + *(int *)(&DAT_0047e1b4 + local_15c);
        FUN_0045db50(*(int *)(&DAT_0047e1cc + local_15c),*(int *)(&DAT_0047e1b4 + local_15c));
        FUN_00437c50(iVar27,pcVar11);
        iVar27 = DAT_004829f0;
        iVar5 = DAT_0047e2c4;
        iVar9 = DAT_00482948;
        goto LAB_0042e8c5;
      }
      uVar51 = CONCAT44(local_110,(uVar16 & 0xffff) * DAT_004829f4);
      iVar9 = ((int)local_114 + 0xb) * iVar27;
      iVar27 *= 2;
      iVar19 = *(int *)(local_144 + 0xc + iVar5) - iVar19;
      goto LAB_0042e40e;
    }
    uVar16 = (uint)*(ushort *)(local_144 + -0x1a + iVar5);
    if (((uVar16 != 6) && (uVar16 != 8)) && (6 < uVar14)) {
      if (*(short *)local_154 != 8) {
        uVar14 = *(ushort *)(local_144 + -0xc + iVar5);
        uVar7 = (uint)uVar14;
        if (uVar14 == 0) {
          (*DAT_0047b114)(&DAT_004829c0,&DAT_004829c4,*local_148 - iVar8,
                          *(int *)(local_144 + 0xc + iVar5) - iVar19,iVar27,DAT_004829f4,
                          (uVar16 * 3 + -5) * iVar27,0);
          iVar27 = DAT_004829f0;
          iVar5 = DAT_0047e2c4;
          iVar9 = DAT_00482948;
        }
        else {
          if (10 < uVar7) {
            uVar7 = 10;
          }
          iVar9 = uVar7 * -0x14 + 0xff;
          (*DAT_0047b10c)(&DAT_004829c0,&DAT_004829c4,*local_148 - iVar8,
                          *(int *)(local_144 + 0xc + iVar5) - iVar19,iVar27,DAT_004829f4,
                          (uVar16 * 3 + -5) * iVar27,0,0xff,iVar9,iVar9);
          iVar27 = DAT_004829f0;
          iVar5 = DAT_0047e2c4;
          iVar9 = DAT_00482948;
        }
      }
      iVar19 = DAT_0048294c;
      if ((iVar9 != 0) &&
         (*(int *)(local_144 + 0xc + iVar5) ==
          *(int *)(&DAT_0047e1cc + local_15c) + *(int *)(&DAT_0047e1b4 + local_15c))) {
        _DAT_0047e4ec = 0x1b;
        iVar20 = iVar9 >> 1;
        iVar8 = *(int *)(local_144 + -0x14 + iVar5) + iVar20;
        iVar27 = *local_13c;
        if (*local_13c <= iVar8) {
          iVar27 = iVar8;
        }
        iVar5 = *(int *)(local_144 + 8 + iVar5);
        uVar16 = (iVar20 - iVar5) + iVar27;
        uVar41 = (ulonglong)(uint)(iVar9 * 9);
        local_114 = (double *)(((int)uVar16 < 0) - 1 & uVar16);
        iVar27 = DAT_0048294c;
        uVar40 = FUN_0045db50(local_114,iVar9 * 9);
        (*DAT_0047b110)(&DAT_00482918,&DAT_0048291c,(iVar5 - iVar20) + (int)local_114,
                        (&DAT_0047db84)[local_110] - (iVar19 >> 1),-(int)uVar40 - (int)local_114,
                        iVar27,uVar41);
        iVar27 = DAT_004829f0;
        iVar5 = DAT_0047e2c4;
        iVar9 = DAT_00482948;
      }
    }
  }
LAB_0042e8c5:
  if (((*(int *)(local_144 + 0xc + iVar5) ==
        *(int *)(&DAT_0047e1cc + local_15c) + *(int *)(&DAT_0047e1b4 + local_15c)) && (iVar9 != 0) )
     && (*(ushort *)(local_144 + 0x18 + iVar5) < 0xc)) {
    _DAT_0047e4ec = 0x1b;
    iVar27 = *(int *)(local_144 + 8 + iVar5);
    uVar16 = ((iVar9 >> 1) - iVar27) + *local_13c;
    uVar16 &= ((int)uVar16 < 0) - 1;
    uVar40 = (ulonglong)((uint)*(ushort *)(local_144 + 0x18 + iVar5) * iVar9 + uVar16);
    iVar5 = (&DAT_0047db84)[local_110] - (DAT_0048294c >> 1);
    iVar27 = (iVar27 - (iVar9 >> 1)) + uVar16;
    puVar43 = &DAT_0048291c;
    puVar42 = &DAT_00482918;
    iVar19 = iVar9 - uVar16;
    iVar9 = DAT_0048294c;
LAB_0042f031:
    (*DAT_0047b110)(puVar42,puVar43,iVar27,iVar5,iVar19,iVar9,uVar40);
    iVar27 = DAT_004829f0;
    iVar5 = DAT_0047e2c4;
  }
LAB_0042f046:
  local_12c = (double *)((int)local_12c + -1);
  if ((int)local_12c < (int)(uint)*(ushort *)((int)local_128 + 0x47cefe)) goto LAB_0042f068;
  goto LAB_0042cf30;
LAB_0042db9b:
  if (*(short *)local_154 != 8) {
    if (DAT_0047e580 == 0) {
      iVar19 = *(int *)((int)local_148 + 8 + iVar5);
      uVar14 = *(ushort *)(local_144 + 2 + iVar5);
      iVar9 = (*(int *)((int)local_138 + iVar5 + 8) - iVar27 * (int)local_120) - iVar19;
      iVar5 = *(int *)((int)local_138 + iVar5 + 0xc);
      iVar19 = iVar27 * (int)local_120 + iVar19;
    }
    else {
      iVar19 = *(int *)((int)local_138 + iVar5 + 8);
      uVar14 = *(ushort *)(local_144 + 2 + iVar5);
      iVar9 = (*(int *)((int)local_148 + 8 + iVar5) + iVar27 * (int)local_120) - iVar19;
      iVar5 = *(int *)((int)local_138 + iVar5 + 0xc);
    }
    (*DAT_0047b114)(&DAT_004829c0,&DAT_004829c4,iVar19,iVar5 - DAT_004829f4 / 2,iVar9,DAT_004829f4 ,
                    (uVar14 - 2) * iVar27 * 3,(ulonglong)local_110 << 0x20);
    iVar27 = DAT_004829f0;
    iVar5 = DAT_0047e2c4;
    iVar9 = DAT_00482948;
  }
  if (((iVar9 != 0) && (_DAT_0047e4ec = 0x1b, 0 < (int)local_120)) &&
     (*(int *)((int)local_148 + 0xc + iVar5) ==
      *(int *)(&DAT_0047e1cc + local_15c) + *(int *)(&DAT_0047e1b4 + local_15c))) {
    iVar27 *= (int)local_120;
    iVar8 = *(int *)((int)local_148 + 8 + iVar5);
    local_124 = (double *)(iVar9 >> 1);
    uVar16 = (int)local_124 + *local_13c + (-iVar8 - iVar27);
    uVar16 &= ((int)uVar16 < 0) - 1;
    iVar19 = uVar16 + iVar9 * 9;
    iVar5 = ((*(int *)((int)local_138 + iVar5 + 8) - iVar27) - iVar8) - uVar16;
    iVar9 = (&DAT_0047db84)[local_110] - (DAT_0048294c >> 1);
    puVar43 = (undefined *)((iVar27 - (int)local_124) + iVar8 + uVar16);
LAB_0042dd23:
    (*DAT_0047b110)(&DAT_00482918,&DAT_0048291c,puVar43,iVar9,iVar5,DAT_0048294c,iVar19);
    iVar27 = DAT_004829f0;
    iVar5 = DAT_0047e2c4;
    iVar9 = DAT_00482948;
  }
  goto LAB_0042e199;
}


// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00435050(void)

{
  DWORD DVar1;
  undefined4 extraout_ECX;
  undefined4 extraout_EDX;
  int iVar2;
  ulonglong uVar3;
  
  DVar1 = timeGetTime();
  if (_DAT_0047ac88 * 150.0 <= (double)(int)(DVar1 - DAT_0047e2cc)) {
    if (((DAT_0047e2cc != 0) && (DAT_0047e2d0 == 0)) && (DAT_0047e634 == 0)) {
      PatBlt(HDC_0047b6c0,0,0,DAT_0047ac74 + 1,DAT_0047ac78 + 1,0x42);
    }
  }
  else {
    timeGetTime();
    iVar2 = DAT_0047ac78;
    uVar3 = FUN_0045db50(extraout_ECX,extraout_EDX);
    if (DAT_0047e634 == 0) {
      iVar2 += (int)uVar3 * -2;
      if (DAT_0047e2d0 == 0) {
        PatBlt(HDC_0047b6c0,0,iVar2,DAT_0047ac74 + 1,(int)uVar3 * 2,0x42);
        return;
      }
      PatBlt(HDC_0047b6c0,0,0,DAT_0047ac74 + 1,iVar2,0x42);
      return;
    }
  }
  return;
}



void FUN_00435150(void)

{
  uchar *puVar1;
  uchar uVar2;
  uchar *puVar3;
  uchar *puVar4;
  FILE *local_30c;
  uchar local_308 [512];
  uchar local_108;
  undefined1 local_107 [255];
  uint local_8;
  
  local_8 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  local_30c = NULL;
  local_108 = '\0';
  memset(local_107,0,0xff);
  strcpy_s((char *)&local_108,0x100,_Dst_0047dfa0);
  memset(_Dst_0047dfa0,0,0x20c);
  strcpy_s(_Dst_0047dfa0,0x100,(char *)&local_108);
  GetModuleFileNameA(NULL,(LPSTR)local_308,0x200);
  puVar4 = local_308;
  do {
    uVar2 = *puVar4;
    puVar4 = puVar4 + 1;
  } while (uVar2 != '\0');
  puVar3 = _mbsrchr(local_308,L'\\');
  puVar1 = puVar3 + 1;
  do {
    uVar2 = *puVar3;
    puVar3 = puVar3 + 1;
  } while (uVar2 != '\0');
  _mbsnbcpy_s(&local_108,0x100,local_308,
              (size_t)(puVar4 + (-((int)puVar3 - (int)puVar1) - (int)(local_308 + 1))));
  strcat_s((char *)&local_108,0x100,"\\lang\\");
  strcat_s((char *)&local_108,0x100,_Dst_0047dfa0);
  strcat_s((char *)&local_108,0x100,".ini");
  fopen_s(&local_30c,(char *)&local_108,"r");
  if (local_30c != NULL) {
    GetPrivateProfileStringA("language","AppName","",_Src_0047e0a0,0x80,(LPCSTR)&local_108);
    GetPrivateProfileStringA("language","CourseName_Easy","",_Dst_0047e120,0x10,(LPCSTR)&local_108);
    GetPrivateProfileStringA
              ("language","CourseName_Normal","",_Dst_0047e130,0x10,(LPCSTR)&local_108);
    GetPrivateProfileStringA("language","CourseName_Hard","",_Dst_0047e140,0x10,(LPCSTR)&local_108);
    GetPrivateProfileStringA("language","CourseName_Oni","",_Dst_0047e150,0x10,(LPCSTR)&local_108);
    GetPrivateProfileStringA("language","CourseName_Edit","",_Dst_0047e160,0x10,(LPCSTR)&local_108);
    GetPrivateProfileStringA("language","CourseName_Tower","",_Dst_0047e170,0x10,(LPCSTR)&local_108)
    ;
    GetPrivateProfileStringA("language","HasBranch","",_Dst_0047e18c,0x20,(LPCSTR)&local_108);
    GetPrivateProfileStringA("language","GenreMark","",_Dst_0047e180,4,(LPCSTR)&local_108);
    GetPrivateProfileStringA("language","LevelStar_f","",_Src_0047e184,4,(LPCSTR)&local_108);
    GetPrivateProfileStringA("language","LevelStar_v","",_Src_0047e188,4,(LPCSTR)&local_108);
    fclose(local_30c);
  }
  if (_Src_0047e0a0[0] == '\0') {
    strcpy_s(_Src_0047e0a0,0x80,"");
  }
  if (_Dst_0047e120[0] == '\0') {
    strcpy_s(_Dst_0047e120,0x10,"");
  }
  if (_Dst_0047e130[0] == '\0') {
    strcpy_s(_Dst_0047e130,0x10,"");
  }
  if (_Dst_0047e140[0] == '\0') {
    strcpy_s(_Dst_0047e140,0x10,"");
  }
  if (_Dst_0047e150[0] == '\0') {
    strcpy_s(_Dst_0047e150,0x10,"");
  }
  if (_Dst_0047e160[0] == '\0') {
    strcpy_s(_Dst_0047e160,0x10,"");
  }
  if (_Dst_0047e170[0] == '\0') {
    strcpy_s(_Dst_0047e170,0x10,"\x3000\x3000\x3000\x3000\x3000");
  }
  if (_Dst_0047e18c[0] == '\0') {
    strcpy_s(_Dst_0047e18c,0x20,"");
  }
  if (_Dst_0047e180[0] == '\0') {
    strcpy_s(_Dst_0047e180,4,"");
  }
  if (_Src_0047e184[0] == '\0') {
    strcpy_s(_Src_0047e184,4,"");
  }
  if (_Src_0047e188[0] == '\0') {
    strcpy_s(_Src_0047e188,4,"");
  }
  __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void FUN_00435530(void)

{
  uchar *_Str;
  uchar *puVar1;
  uchar uVar2;
  uchar *puVar3;
  uchar *puVar4;
  FILE *_File;
  int unaff_EDI;
  FILE *local_210;
  uint local_20c;
  uchar local_208 [512];
  uint local_8;
  
  local_8 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  if (DAT_0047e2d8 != 0) {
    __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
    return;
  }
  _Str = (uchar *)(unaff_EDI + 2);
  if ((_Str != NULL) && (*_Str != '\0')) {
    puVar3 = _Str;
    do {
      uVar2 = *puVar3;
      puVar3 = puVar3 + 1;
    } while (uVar2 != '\0');
    puVar4 = _mbsrchr(_Str,0x2e);
    puVar1 = puVar4 + 1;
    do {
      uVar2 = *puVar4;
      puVar4 = puVar4 + 1;
    } while (uVar2 != '\0');
    _mbsnbcpy_s(local_208,0x200,_Str,
                (size_t)(puVar3 + (-((int)puVar4 - (int)puVar1) - (unaff_EDI + 3))));
    strcat_s((char *)local_208,0x200,".dat");
    fopen_s(&local_210,(char *)local_208,"w");
    if (local_210 != NULL) {
      local_20c = 0;
      _File = local_210;
      do {
        if (*(int *)(unaff_EDI + 0x448 + (local_20c & 0xffff) * 4) != 0) {
          fwrite(&local_20c,2,1,_File);
          fwrite((void *)(unaff_EDI + 0x448 + (local_20c & 0xffff) * 4),4,1,local_210);
          fwrite((void *)(unaff_EDI + 0x460 + (local_20c & 0xffff) * 8),2,1,local_210);
          fwrite((void *)(unaff_EDI + 0x462 + (local_20c & 0xffff) * 8),2,1,local_210);
          fwrite((void *)(unaff_EDI + 0x464 + (local_20c & 0xffff) * 8),2,1,local_210);
          fwrite((void *)(unaff_EDI + 0x466 + (local_20c & 0xffff) * 8),2,1,local_210);
          fwrite((void *)(unaff_EDI + 0x490 + (local_20c & 0xffff) * 2),2,1,local_210);
          _File = local_210;
        }
        local_20c += 1;
      } while ((ushort)local_20c < 6);
      fclose(_File);
    }
    __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
    return;
  }
  __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __fastcall FUN_00435730(undefined4 param_1,short *param_2)

{
  uchar *puVar1;
  uchar uVar2;
  short sVar3;
  short *psVar4;
  uchar *puVar5;
  size_t sVar6;
  short *psVar7;
  short *psVar8;
  int iVar9;
  short *local_218;
  FILE *local_214;
  ushort local_210 [2];
  short local_20c [2];
  uchar local_208 [512];
  uint local_8;
  
  local_8 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  psVar8 = param_2 + 0x248;
  psVar4 = param_2 + 0x230;
  psVar7 = param_2 + 0x224;
  iVar9 = 6;
  do {
    psVar7[0] = 0;
    psVar7[1] = 0;
    psVar4[0] = 0;
    psVar4[1] = 0;
    psVar4[2] = 0;
    psVar4[3] = 0;
    *psVar8 = 0;
    psVar7 = psVar7 + 2;
    psVar4 = psVar4 + 4;
    psVar8 = psVar8 + 1;
    iVar9 += -1;
  } while (iVar9 != 0);
  psVar8 = param_2 + 1;
  local_218 = param_2;
  if (((char)param_2[1] != '\0') && ((*param_2 == 2 || (*param_2 == 4)))) {
    psVar4 = psVar8;
    do {
      sVar3 = *psVar4;
      psVar4 = (short *)((int)psVar4 + 1);
    } while ((uchar)sVar3 != '\0');
    puVar5 = _mbsrchr((uchar *)psVar8,0x2e);
    puVar1 = puVar5 + 1;
    do {
      uVar2 = *puVar5;
      puVar5 = puVar5 + 1;
    } while (uVar2 != '\0');
    _mbsnbcpy_s(local_208,0x200,(uchar *)psVar8,
                (size_t)((int)psVar4 + (-((int)puVar5 - (int)puVar1) - ((int)param_2 + 3))));
    strcat_s((char *)local_208,0x200,".dat");
  }
  fopen_s(&local_214,(char *)local_208,"r");
  if (local_214 != NULL) {
    sVar6 = fread(local_210,2,1,local_214);
    while (sVar6 != 0) {
      if (local_210[0] < 6) {
        local_218 = NULL;
        sVar6 = fread(&local_218,4,1,local_214);
        if (sVar6 != 0) {
          *(short **)(param_2 + (uint)local_210[0] * 2 + 0x224) = local_218;
        }
        sVar6 = fread(local_20c,2,1,local_214);
        if (sVar6 != 0) {
          param_2[(uint)local_210[0] * 4 + 0x230] = local_20c[0];
        }
        sVar6 = fread(local_20c,2,1,local_214);
        if (sVar6 != 0) {
          param_2[(uint)local_210[0] * 4 + 0x231] = local_20c[0];
        }
        sVar6 = fread(local_20c,2,1,local_214);
        if (sVar6 != 0) {
          param_2[(uint)local_210[0] * 4 + 0x232] = local_20c[0];
        }
        sVar6 = fread(local_20c,2,1,local_214);
        if (sVar6 != 0) {
          param_2[(uint)local_210[0] * 4 + 0x233] = local_20c[0];
        }
        sVar6 = fread(local_20c,2,1,local_214);
        if (sVar6 != 0) {
          param_2[local_210[0] + 0x248] = local_20c[0];
        }
      }
      sVar6 = fread(local_210,2,1,local_214);
    }
    fclose(local_214);
  }
  __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl FUN_004359e0(int param_1)

{
  short *psVar1;
  LPHWAVEOUT ppHVar2;
  byte bVar3;
  ushort uVar4;
  double dVar5;
  double dVar6;
  double dVar7;
  bool bVar8;
  bool bVar9;
  LPWAVEHDR pwVar10;
  int iVar11;
  HANDLE pvVar12;
  BOOL BVar13;
  LPVOID pvVar14;
  undefined4 *puVar15;
  int iVar16;
  int iVar17;
  MMRESULT MVar18;
  int iVar19;
  char *pcVar20;
  LPSTR pCVar21;
  byte *pbVar22;
  int *piVar23;
  int iVar24;
  uint uVar25;
  code *pcVar26;
  bool bVar27;
  undefined2 in_FPUControlWord;
  char *pcVar28;
  SIZE_T local_570;
  int local_568;
  int local_564;
  FILE *local_560;
  undefined4 local_55c;
  _WIN32_FIND_DATAA local_558;
  char local_418;
  undefined1 local_417 [255];
  char local_318;
  undefined1 local_317 [255];
  uchar local_218;
  undefined1 local_217 [255];
  char local_118 [260];
  uchar local_14 [8];
  uint local_c;
  
  local_c = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  bVar27 = false;
  bVar9 = false;
  bVar8 = false;
  local_118[0] = '\0';
  memset(local_118 + 1,0,0xff);
  local_418 = '\0';
  memset(local_417,0,0xff);
  local_218 = '\0';
  memset(local_217,0,0xff);
  local_318 = '\0';
  memset(local_317,0,0xff);
  if ((DAT_0047c2c0 == 0) || (DAT_0047e614 == NULL)) {
    if (DAT_0047e5c0 != NULL) {
      local_55c = 0;
      puVar15 = DAT_0047e5c0;
      if ((uint)DAT_0047cafc + (uint)DAT_0047c91c != 0) {
        do {
          if (DAT_0047e624 == 0) {
LAB_00435ae5:
            if ((puVar15 != NULL) &&
               (FUN_00439ba0(), puVar15 = DAT_0047e5c0, local_55c < (int)(uint)DAT_0047e2c8)) {
              FUN_00439ba0();
              puVar15 = DAT_0047e5c0;
            }
          }
          else {
            uVar25 = DAT_0047e63c & 0x80000001;
            bVar27 = uVar25 == 0;
            if ((int)uVar25 < 0) {
              bVar27 = (uVar25 - 1 | 0xfffffffe) == 0xffffffff;
            }
            if ((bVar27) || (DAT_0047e63c == 3)) goto LAB_00435ae5;
          }
          local_55c += 1;
        } while (local_55c < (int)((uint)DAT_0047cafc + (uint)DAT_0047c91c));
      }
      HeapFree(DAT_0047e614,0,puVar15);
      DAT_0047e5c0 = NULL;
    }
    if (DAT_0047e614 != NULL) {
      HeapDestroy(DAT_0047e614);
      DAT_0047e614 = NULL;
    }
    DAT_0047e614 = HeapCreate(4,0x10000,0);
    iVar11 = 0;
    do {
      *(undefined4 *)((int)&DAT_0047c2c0 + iVar11) = 0;
      *(undefined4 *)((int)&DAT_0047d720 + iVar11) = 0;
      *(undefined4 *)((int)&DAT_0047b6d8 + iVar11) = 0;
      *(undefined4 *)((int)&DAT_0047beb8 + iVar11) = 0;
      iVar11 += 0x20;
    } while (iVar11 < 0x400);
    bVar8 = true;
    bVar27 = true;
    pwh_0047c700 = NULL;
    pwh_0047b130 = NULL;
  }
  if (((param_1 == 0) || (bVar27)) && ((DAT_0047e5c0 == NULL || (bVar27)))) {
    DAT_0047c920 = 0;
    DAT_0047c91c = 0;
    DAT_0047cb00 = 0;
    DAT_0047cafc = 0;
    do {
      iVar11 = FUN_00438d60((void *)0x100,&local_218);
      local_564 = 0;
      if (DAT_0047e2c8 != 0) {
        do {
          iVar19 = local_564;
          if ((&DAT_0047c920)[local_564 * 0x78] == 0) {
            strcpy_s(local_118,0x100,(char *)&local_218);
            if (local_564 == 0) {
              pcVar28 = "\\snd\\voice_*combo_p1.wav";
            }
            else {
              pcVar28 = "\\snd\\voice_*combo_p2.wav";
            }
            strcat_s(local_118,0x100,pcVar28);
            pvVar12 = FindFirstFileA(local_118,&local_558);
            (&DAT_0047c91c)[iVar19 * 0xf0] = 0;
            if (pvVar12 != (HANDLE)0xffffffff) {
              do {
                local_568 = 0;
                sscanf_s(local_558.cFileName + 6,"%d",&local_568);
                if (0 < local_568) {
                  (&DAT_0047c91c)[iVar19 * 0xf0] = (&DAT_0047c91c)[iVar19 * 0xf0] + 1;
                }
                BVar13 = FindNextFileA(pvVar12,&local_558);
              } while (BVar13 != 0);
              FindClose(pvVar12);
              pvVar14 = HeapAlloc(DAT_0047e614,8,(uint)(&DAT_0047c91c)[iVar19 * 0xf0] * 2);
              (&DAT_0047c920)[iVar19 * 0x78] = (int)pvVar14;
              pvVar12 = FindFirstFileA(local_118,&local_558);
              iVar24 = 0;
              do {
                local_568 = 0;
                sscanf_s(local_558.cFileName + 6,"%d",&local_568);
                if (0 < local_568) {
                  *(short *)(iVar24 + (&DAT_0047c920)[iVar19 * 0x78]) = (short)local_568;
                  iVar24 += 2;
                }
                BVar13 = FindNextFileA(pvVar12,&local_558);
              } while (BVar13 != 0);
              FindClose(pvVar12);
              local_568 = 0;
              if ((&DAT_0047c91c)[iVar19 * 0xf0] != 0) {
                do {
                  iVar24 = local_568 + 1;
                  if (iVar24 < (int)(uint)(&DAT_0047c91c)[iVar19 * 0xf0]) {
                    do {
                      iVar16 = (&DAT_0047c920)[iVar19 * 0x78];
                      uVar4 = *(ushort *)(iVar16 + iVar24 * 2);
                      if (uVar4 < *(ushort *)(iVar16 + local_568 * 2)) {
                        psVar1 = (short *)(iVar16 + local_568 * 2);
                        *psVar1 = *psVar1 + uVar4;
                        iVar16 = (&DAT_0047c920)[iVar19 * 0x78];
                        *(short *)(iVar16 + iVar24 * 2) =
                             *(short *)(iVar16 + local_568 * 2) - *(short *)(iVar16 + iVar24 * 2);
                        psVar1 = (short *)((&DAT_0047c920)[iVar19 * 0x78] + local_568 * 2);
                        *psVar1 = *psVar1 - *(short *)((&DAT_0047c920)[iVar19 * 0x78] + iVar24 * 2);
                      }
                      iVar24 += 1;
                    } while (iVar24 < (int)(uint)(&DAT_0047c91c)[iVar19 * 0xf0]);
                  }
                  local_568 += 1;
                } while (local_568 < (int)(uint)(&DAT_0047c91c)[iVar19 * 0xf0]);
              }
            }
          }
          local_564 += 1;
        } while (local_564 < (int)(uint)DAT_0047e2c8);
      }
    } while (iVar11 + 1 < 3);
    DAT_0047e5c0 = (undefined4 *)
                   HeapAlloc(DAT_0047e614,8,((uint)DAT_0047cafc + (uint)DAT_0047c91c) * 0x20);
    bVar27 = bVar8;
  }
  DAT_0047d284 = 0x10;
  _DAT_0047d644 = 0x10;
  if (bVar27) {
    iVar11 = 0;
    puVar15 = DAT_0047e5c0;
    if ((uint)DAT_0047cafc + (uint)DAT_0047c91c != 0) {
      do {
        *puVar15 = 0;
        iVar11 += 1;
        puVar15 = puVar15 + 8;
      } while (iVar11 < (int)((uint)DAT_0047cafc + (uint)DAT_0047c91c));
    }
    DAT_0047c6c0 = 0;
    _DAT_0047c6e0 = 0;
  }
  local_55c = 0;
  if (DAT_0047e2c8 != 0) {
    do {
      iVar11 = (int)(local_55c + (local_55c >> 0x1f & 0xfU)) >> 4;
      do {
        iVar16 = FUN_00438d60((void *)0x100,&local_218);
        iVar19 = local_55c;
        iVar24 = local_55c;
        if (local_55c < (int)((uint)(ushort)(&DAT_0047d284)[iVar11 * 0x1e0] + iVar11 * 0x10)) {
          iVar24 = local_55c * 8;
          local_564 = 0;
          if ((&DAT_0047c2c0)[local_55c * 8] == 0) {
            strcpy_s(local_118,0x100,(char *)&local_218);
            if ((&DAT_0047cec8)[iVar11 * 0x1e0] == 0) {
              pcVar28 = "\\snd\\dong.wav";
            }
            else {
              pcVar28 = "\\snd\\clap.wav";
            }
            strcat_s(local_118,0x100,pcVar28);
            fopen_s(&local_560,local_118,"r");
            if (local_560 != NULL) {
              iVar17 = fclose(local_560);
              FUN_00439490(local_118,(short *)&pwfx_0047bc90);
              if (iVar17 != 0) goto LAB_00436bc7;
              ppHVar2 = (LPHWAVEOUT)(&DAT_0047bae8 + local_55c);
              MVar18 = waveOutOpen(ppHVar2,0xffffffff,(LPCWAVEFORMATEX)&pwfx_0047bc90,0,0,0);
              if (MVar18 == 0) {
                local_564 = 1;
                waveOutPrepareHeader(*ppHVar2,(LPWAVEHDR)(&DAT_0047c2c0 + iVar24),0x20);
                FUN_00436fc0(0,0x47bc90,iVar11 + 1);
                (&DAT_0047c2cc)[iVar19 * 8] = 0;
              }
              else {
                if (!bVar9) {
                  (&DAT_0047d284)[iVar11 * 0x1e0] = (short)local_55c - (short)(iVar11 << 4);
                }
                bVar9 = true;
                if (DAT_00482ac8 == 0) {
                  DAT_00482ac8 = 1;
                }
              }
            }
          }
          if ((&DAT_0047d720)[iVar19 * 8] == 0) {
            strcpy_s(local_118,0x100,(char *)&local_218);
            if ((&DAT_0047cec8)[iVar11 * 0x1e0] == 0) {
              strcat_s(local_118,0x100,"\\snd\\dong_l.wav");
            }
            fopen_s(&local_560,local_118,"r");
            if (local_560 != NULL) {
              iVar17 = fclose(local_560);
              FUN_00439490(local_118,(short *)&pwfx_0047bc90);
              iVar24 = local_55c;
              if (iVar17 != 0) goto LAB_00436bc7;
              if ((local_564 == 0) &&
                 (MVar18 = waveOutOpen((LPHWAVEOUT)(&DAT_0047bae8 + local_55c),0xffffffff,
                                       (LPCWAVEFORMATEX)&pwfx_0047bc90,0,0,0), MVar18 != 0)) {
                if (!bVar9) {
                  (&DAT_0047d284)[iVar11 * 0x1e0] = (short)iVar24 - (short)(iVar11 << 4);
                }
                bVar9 = true;
                if (DAT_00482ac8 == 0) {
                  DAT_00482ac8 = 1;
                }
              }
              else {
                waveOutPrepareHeader
                          ((HWAVEOUT)(&DAT_0047bae8)[iVar24],(LPWAVEHDR)(&DAT_0047d720 + iVar19 * 8)
                           ,0x20);
                FUN_00436fc0(0,0x47bc90,iVar11 + 1);
                (&DAT_0047d72c)[iVar19 * 8] = 2;
              }
            }
          }
          local_564 = 0;
          if ((&DAT_0047b6d8)[iVar19 * 8] == 0) {
            strcpy_s(local_118,0x100,(char *)&local_218);
            strcat_s(local_118,0x100,"\\snd\\ka.wav");
            fopen_s(&local_560,local_118,"r");
            if (local_560 != NULL) {
              iVar24 = fclose(local_560);
              FUN_00439490(local_118,(short *)&pwfx_0047bc90);
              if (iVar24 != 0) goto LAB_00436bc7;
              ppHVar2 = (LPHWAVEOUT)(&DAT_0047be38 + local_55c);
              MVar18 = waveOutOpen(ppHVar2,0xffffffff,(LPCWAVEFORMATEX)&pwfx_0047bc90,0,0,0);
              if (MVar18 == 0) {
                waveOutPrepareHeader(*ppHVar2,(LPWAVEHDR)(&DAT_0047b6d8 + iVar19 * 8),0x20);
                local_564 = 1;
                FUN_00436fc0(0,0x47bc90,iVar11 + 1);
                (&DAT_0047b6e4)[iVar19 * 8] = 0;
              }
              else {
                if (!bVar9) {
                  (&DAT_0047d284)[iVar11 * 0x1e0] = (short)local_55c - (short)(iVar11 << 4);
                }
                bVar9 = true;
                if (DAT_00482ac8 == 0) {
                  DAT_00482ac8 = 1;
                }
              }
            }
          }
          iVar24 = local_55c;
          if ((&DAT_0047beb8)[iVar19 * 8] == 0) {
            strcpy_s(local_118,0x100,(char *)&local_218);
            strcat_s(local_118,0x100,"\\snd\\ka_l.wav");
            fopen_s(&local_560,local_118,"r");
            iVar24 = local_55c;
            if (local_560 != NULL) {
              iVar17 = fclose(local_560);
              FUN_00439490(local_118,(short *)&pwfx_0047bc90);
              iVar24 = local_55c;
              if (iVar17 != 0) goto LAB_00436bc7;
              if ((local_564 == 0) &&
                 (MVar18 = waveOutOpen((LPHWAVEOUT)(&DAT_0047be38 + local_55c),0xffffffff,
                                       (LPCWAVEFORMATEX)&pwfx_0047bc90,0,0,0), MVar18 != 0)) {
                if (!bVar9) {
                  (&DAT_0047d284)[iVar11 * 0x1e0] = (short)iVar24 - (short)(iVar11 << 4);
                }
                bVar9 = true;
                if (DAT_00482ac8 == 0) {
                  DAT_00482ac8 = 1;
                }
              }
              else {
                waveOutPrepareHeader
                          ((HWAVEOUT)(&DAT_0047be38)[iVar24],(LPWAVEHDR)(&DAT_0047beb8 + iVar19 * 8)
                           ,0x20);
                FUN_00436fc0(0,0x47bc90,iVar11 + 1);
                (&DAT_0047bec4)[iVar19 * 8] = 2;
              }
            }
          }
        }
        if ((pwh_0047c700 == NULL) && (iVar24 == 0)) {
          strcpy_s(local_118,0x100,(char *)&local_218);
          strcat_s(local_118,0x100,"\\snd\\balloon.wav");
          fopen_s(&local_560,local_118,"r");
          if (local_560 != NULL) {
            iVar19 = fclose(local_560);
            FUN_00439490(local_118,(short *)&pwfx_0047bc90);
            if (iVar19 != 0) goto LAB_00436bc7;
            waveOutOpen((LPHWAVEOUT)&phwo_0047b128,0xffffffff,(LPCWAVEFORMATEX)&pwfx_0047bc90,0,0,0)
            ;
            waveOutPrepareHeader((HWAVEOUT)phwo_0047b128,(LPWAVEHDR)&pwh_0047c700,0x20);
            FUN_00436fc0(0,0x47bc90,0);
            DAT_0047c70c = 0;
          }
        }
        if ((pwh_0047b130 == NULL) && (iVar24 == 0)) {
          strcpy_s(local_118,0x100,(char *)&local_218);
          strcat_s(local_118,0x100,"\\snd\\potato.wav");
          fopen_s(&local_560,local_118,"r");
          if (local_560 != NULL) {
            iVar19 = fclose(local_560);
            FUN_00439490(local_118,(short *)&pwfx_0047bc90);
            if (iVar19 != 0) goto LAB_00436bc7;
            waveOutPrepareHeader((HWAVEOUT)phwo_0047b128,(LPWAVEHDR)&pwh_0047b130,0x20);
            FUN_00436fc0(0,0x47bc90,0);
            DAT_0047b13c = 0;
          }
        }
        if (((param_1 == 0) || (bVar8)) && (iVar19 = 0, DAT_0047e2c8 != 0)) {
          do {
            iVar24 = local_55c;
            local_564 = iVar19 * 0x1e0;
            if (local_55c < (int)(uint)(&DAT_0047c91c)[iVar19 * 0xf0]) {
              if (iVar19 == 0) {
                uVar25 = 0;
              }
              else {
                uVar25 = (uint)DAT_0047c91c;
              }
              iVar17 = uVar25 + local_55c;
              if (DAT_0047e5c0[iVar17 * 8] == 0) {
                strcpy_s(local_118,0x100,(char *)&local_218);
                if (iVar19 == 0) {
                  uVar4 = *(ushort *)(DAT_0047c920 + iVar24 * 2);
                  pcVar28 = "\\snd\\voice_%hucombo_p1.wav";
                }
                else {
                  uVar4 = *(ushort *)(*(int *)((int)&DAT_0047c920 + local_564) + iVar24 * 2);
                  pcVar28 = "\\snd\\voice_%hucombo_p2.wav";
                }
                sprintf_s(&local_318,0x100,pcVar28,(uint)uVar4);
                strcat_s(local_118,0x100,&local_318);
                fopen_s(&local_560,local_118,"r");
                if (local_560 != NULL) {
                  iVar24 = fclose(local_560);
                  FUN_00439490(local_118,(short *)&pwfx_0047bc90);
                  if (iVar24 != 0) goto LAB_00436bc7;
                  if (local_55c == 0) {
                    waveOutOpen((LPHWAVEOUT)(&DAT_0047b17c + iVar19),0xffffffff,
                                (LPCWAVEFORMATEX)&pwfx_0047bc90,0,0,0);
                  }
                  waveOutPrepareHeader
                            ((HWAVEOUT)(&DAT_0047b17c)[iVar19],
                             (LPWAVEHDR)(DAT_0047e5c0 + iVar17 * 8),0x20);
                  puVar15 = DAT_0047e5c0;
                  FUN_00436fc0(0,0x47bc90,iVar19 + 1);
                  puVar15[iVar17 * 8 + 3] = 0;
                }
              }
            }
            strcpy_s(local_118,0x100,(char *)&local_218);
            if (iVar19 == 0) {
              pcVar28 = "\\snd\\voice_fullcombo_p1.wav";
            }
            else {
              pcVar28 = "\\snd\\voice_fullcombo_p2.wav";
            }
            strcat_s(local_118,0x100,pcVar28);
            fopen_s(&local_560,local_118,"r");
            if (local_560 != NULL) {
              fclose(local_560);
              iVar24 = iVar19 * 0x20;
              if (((LPWAVEHDR)(&DAT_0047c6c0 + iVar19 * 8))->lpData == NULL) {
                FUN_00439490(local_118,(short *)&pwfx_0047bc90);
                if (iVar24 != 0) goto LAB_00436bc7;
                if (*(short *)((int)&DAT_0047c91c + local_564) == 0) {
                  waveOutOpen((LPHWAVEOUT)(&DAT_0047b17c + iVar19),0xffffffff,
                              (LPCWAVEFORMATEX)&pwfx_0047bc90,0,0,0);
                }
                waveOutPrepareHeader
                          ((HWAVEOUT)(&DAT_0047b17c)[iVar19],(LPWAVEHDR)(&DAT_0047c6c0 + iVar19 * 8)
                           ,0x20);
                FUN_00436fc0(0,0x47bc90,iVar19 + 1);
              }
            }
            iVar19 += 1;
          } while (iVar19 < (int)(uint)DAT_0047e2c8);
        }
      } while (iVar16 + 1 < 3);
      local_55c += 1;
    } while (local_55c < (int)((uint)DAT_0047e2c8 * 0x10));
  }
  pcVar26 = MessageBoxA_exref;
  if (DAT_00482ac8 == 1) {
    MessageBoxA(HWND_0047de30,"",NULL,0);
    DAT_00482ac8 = 2;
  }
  if (param_1 == 1) goto LAB_00436fa6;
  pcVar28 = &_Dst_0047bce8;
  do {
    pcVar20 = pcVar28;
    pcVar28 = pcVar20 + 1;
  } while (*pcVar20 != '\0');
  if (pcVar20[-1] < ' ') {
    pcVar20[-1] = '\0';
  }
  strcpy_s(local_118,0x100,&_Dst_0047bce8);
  fopen_s(&local_560,local_118,"r");
  if (local_560 == NULL) {
    DAT_0047ceca = 0;
    strcpy_s(&_Dst_0047bce8,0x100,"");
  }
  else {
    fclose(local_560);
    pcVar28 = local_118;
    do {
      pcVar20 = pcVar28;
      pcVar28 = pcVar20 + 1;
    } while (*pcVar20 != '\0');
    _mbsnbcpy_s(local_14,5,(uchar *)(pcVar20 + -4),5);
  }
  if (DAT_0047e604 == 0) {
    DAT_0047ceca = 0;
    USHORT_0047cb14 = 1;
    iVar11 = strncmp((char *)local_14,".ogg",4);
    if (iVar11 == 0) {
      DAT_0047ceca = 1;
      if (0 < DAT_0047ac70) {
        USHORT_0047cb14 = 2;
      }
      DAT_0047e5bc = (LPWAVEHDR)HeapAlloc(DAT_0047e614,8,(uint)USHORT_0047cb14 << 5);
      if (DAT_0047ac70 < 1) {
        DAT_0047d6d8 = _beginthreadex(NULL,0,_StartAddress_00437490,NULL,0,
                                      (uint *)&_ThrdAddr_0047d6e0);
      }
    }
    else {
      iVar11 = strncmp((char *)local_14,".mp3",4);
      if (iVar11 == 0) {
        DAT_0047ceca = 2;
        DAT_0047e5bc = (LPWAVEHDR)HeapAlloc(DAT_0047e614,8,(uint)USHORT_0047cb14 << 5);
        strcpy_s(&local_418,0x100,local_118);
        strcat_s(local_118,0x100,".wav");
        FUN_004379c0(&local_418);
      }
      else {
        iVar11 = strncmp((char *)local_14,".wav",4);
        if (iVar11 != 0) {
          pbVar22 = s__0046282b;
          pcVar28 = &_Dst_0047bce8;
          do {
            bVar3 = *pcVar28;
            bVar27 = bVar3 < *pbVar22;
            if (bVar3 != *pbVar22) {
LAB_00436bb0:
              iVar11 = (1 - (uint)bVar27) - (uint)(bVar27 != 0);
              goto LAB_00436bb5;
            }
            if (bVar3 == 0) break;
            bVar3 = ((byte *)pcVar28)[1];
            bVar27 = bVar3 < pbVar22[1];
            if (bVar3 != pbVar22[1]) goto LAB_00436bb0;
            pcVar28 = (char *)((byte *)pcVar28 + 2);
            pbVar22 = pbVar22 + 2;
          } while (bVar3 != 0);
          iVar11 = 0;
LAB_00436bb5:
          if (iVar11 != 0) {
            MessageBoxA(NULL,
                        "wavoggmp3"
                        ,_Src_0047e0a0,0);
            goto LAB_00436bc7;
          }
        }
        DAT_0047e5bc = (LPWAVEHDR)HeapAlloc(DAT_0047e614,8,(uint)USHORT_0047cb14 << 5);
      }
    }
  }
  iVar11 = 0;
  pcVar28 = local_118;
  do {
    pcVar20 = pcVar28;
    pcVar28 = pcVar20 + 1;
  } while (*pcVar20 != '\0');
  *pcVar20 = '\0';
  if (DAT_0047ceca == 1) {
    if (0 < DAT_0047ac70) goto LAB_00436fa6;
LAB_00436c32:
    if ((DAT_0047d6d8 != 0) || (DAT_0047ceca == 0)) goto LAB_00436fa6;
  }
  else if (DAT_0047ceca != 0) goto LAB_00436c32;
  if (DAT_0047ceca == 2) {
    strcat_s(local_118,0x100,".wav");
  }
  pbVar22 = (byte *)0x462875;
  pcVar28 = &_Dst_0047bce8;
  do {
    bVar3 = *pcVar28;
    bVar27 = bVar3 < *pbVar22;
    if (bVar3 != *pbVar22) {
LAB_00436c98:
      iVar19 = (1 - (uint)bVar27) - (uint)(bVar27 != 0);
      goto LAB_00436c9d;
    }
    if (bVar3 == 0) break;
    bVar3 = ((byte *)pcVar28)[1];
    bVar27 = bVar3 < pbVar22[1];
    if (bVar3 != pbVar22[1]) goto LAB_00436c98;
    pcVar28 = (char *)((byte *)pcVar28 + 2);
    pbVar22 = pbVar22 + 2;
  } while (bVar3 != 0);
  iVar19 = 0;
LAB_00436c9d:
  if (iVar19 == 0) {
    pwfx_0047bc90 = (LPCWAVEFORMATEX)0x10001;
    _DAT_0047bc9c = 0x80001;
    iVar19 = DAT_0047cef8 - 1;
    local_570 = (SIZE_T)(longlong)ROUND(22050.0 / _DAT_0047ac88);
    DAT_0047bc94 = local_570;
    DAT_0047bc98 = local_570;
    if (-1 < iVar19) {
      piVar23 = (int *)(DAT_0047e2c4 + 4 + iVar19 * 0x1c);
      do {
        pcVar26 = MessageBoxA_exref;
        if (*piVar23 != 0) {
          iVar11 = *(int *)(DAT_0047e2c4 + 4 + (uint)DAT_0047cf04 * 0x1c);
          break;
        }
        iVar19 += -1;
        piVar23 = piVar23 + -7;
      } while (-1 < iVar19);
    }
    dVar5 = (double)(DAT_0047cf5c + DAT_0047cf58) / -1000.0;
    if (dVar5 < 0.0) {
      dVar5 = 0.0;
    }
    dVar6 = (double)iVar11;
    if (iVar11 < 0) {
      dVar6 = dVar6 + 4294967296.0;
    }
    dVar6 = dVar6 / 1000.0 + 2.0;
    dVar7 = (double)(int)local_570;
    if ((int)local_570 < 0) {
      dVar7 = dVar7 + 4294967296.0;
    }
    local_55c = CONCAT22(in_FPUControlWord,(undefined2)local_55c);
    local_570 = (SIZE_T)(longlong)ROUND(dVar7 * (dVar6 + dVar5) * _DAT_0047ac88);
    pCVar21 = (LPSTR)HeapAlloc(DAT_0047e614,8,local_570);
    pwVar10 = DAT_0047e5bc;
    DAT_0047e5bc->lpData = pCVar21;
    dVar5 = (double)(DAT_0047cf5c + DAT_0047cf58) / -1000.0;
    if (dVar5 < 0.0) {
      dVar5 = 0.0;
    }
    dVar7 = (double)DAT_0047bc98;
    if (DAT_0047bc98 < 0) {
      dVar7 = dVar7 + 4294967296.0;
    }
    local_55c = CONCAT22(in_FPUControlWord,(undefined2)local_55c);
    dVar5 = dVar7 * (dVar5 + dVar6) * _DAT_0047ac88;
    pwVar10->dwFlags = 0xc;
    pwVar10->dwLoops = 1;
    pwVar10->dwUser = 0;
    local_570 = (SIZE_T)(longlong)ROUND(dVar5);
    pwVar10->dwBufferLength = local_570;
    DAT_0047cef4 = 0;
    FUN_00436fc0(1,0x47bc90,0);
    if (pwVar10->lpData == NULL) {
      (*pcVar26)(0,"",local_118,0);
      __security_check_cookie(local_c ^ (uint)&stack0xfffffffc);
      return;
    }
  }
  else {
    if ((DAT_0047ceca != 1) && (FUN_00439490(local_118,(short *)&pwfx_0047bc90), iVar19 != 0)) {
LAB_00436bc7:
      __security_check_cookie(local_c ^ (uint)&stack0xfffffffc);
      return;
    }
    pwVar10 = DAT_0047e5bc;
    FUN_00436fc0(1,0x47bc90,0);
    pwVar10->dwUser = 0;
    if (DAT_0047ceca == 2) {
      remove(local_118);
    }
  }
  MVar18 = waveOutOpen((LPHWAVEOUT)&phwo_0047ce90,0xffffffff,(LPCWAVEFORMATEX)&pwfx_0047bc90,
                       (DWORD_PTR)HWND_0047de30,0,0x10000);
  if (MVar18 == 7) {
    (*pcVar26)(0,"WAVE",local_118,0);
    __security_check_cookie(local_c ^ (uint)&stack0xfffffffc);
    return;
  }
  waveOutPrepareHeader((HWAVEOUT)phwo_0047ce90,DAT_0047e5bc,0x20);
LAB_00436fa6:
  __security_check_cookie(local_c ^ (uint)&stack0xfffffffc);
  return;
}



void __cdecl FUN_00436fc0(int param_1,uint param_2,int param_3)

{
  int iVar1;
  int iVar2;
  uint uVar3;
  uint uVar4;
  int *unaff_EBX;
  uint uVar5;
  ulonglong uVar6;
  
  if (*(short *)(param_2 + 0xe) == 8) {
    uVar5 = 0;
    uVar4 = param_2;
    if (0 < unaff_EBX[1]) {
      do {
        iVar1 = *unaff_EBX;
        uVar6 = FUN_0045db50(*(byte *)(iVar1 + uVar5) - 0x80,uVar4);
        iVar2 = (int)uVar6 + 0x80;
        if (iVar2 < 0) {
          iVar2 = 0;
        }
        else if (0xff < iVar2) {
          iVar2 = 0xff;
        }
        uVar4 = (uint)(uVar6 >> 0x20);
        if (((param_3 != 0) && (uVar4 = param_2, *(short *)(param_2 + 2) == 2)) &&
           (DAT_0047e2c8 == 2)) {
          uVar3 = uVar5 & 0x80000001;
          if ((int)uVar3 < 0) {
            uVar3 = (uVar3 - 1 | 0xfffffffe) + 1;
          }
          uVar4 = 2 - param_3;
          if (uVar3 == uVar4) {
            iVar2 >>= 2;
          }
        }
        *(char *)(iVar1 + uVar5) = (char)iVar2;
        uVar5 += 1;
      } while ((int)uVar5 < unaff_EBX[1]);
      return;
    }
  }
  else if ((*(short *)(param_2 + 0xe) == 0x10) && (uVar4 = 0, (uint)unaff_EBX[1] >> 1 != 0)) {
    do {
      iVar1 = *unaff_EBX;
      uVar6 = FUN_0045db50(iVar1,(int)*(short *)(iVar1 + uVar4 * 2));
      iVar2 = (int)uVar6;
      if (iVar2 < -0x8000) {
        iVar2 = -0x8000;
      }
      else if (0x7fff < iVar2) {
        iVar2 = 0x7fff;
      }
      if (((param_3 != 0) && (*(short *)(param_2 + 2) == 2)) && (DAT_0047e2c8 == 2)) {
        uVar5 = uVar4 & 0x80000001;
        if ((int)uVar5 < 0) {
          uVar5 = (uVar5 - 1 | 0xfffffffe) + 1;
        }
        if (uVar5 == 2U - param_3) {
          iVar2 >>= 2;
        }
      }
      *(short *)(iVar1 + uVar4 * 2) = (short)iVar2;
      uVar4 += 1;
    } while ((int)uVar4 < (int)((uint)unaff_EBX[1] >> 1));
  }
  return;
}



void FUN_00437120(void)

{
  uchar *puVar1;
  uchar uVar2;
  undefined4 *puVar3;
  char *pcVar4;
  char *pcVar5;
  uchar *puVar6;
  HANDLE hFile;
  DWORD local_20c;
  uchar local_208 [512];
  uint local_8;
  
  puVar3 = DAT_0047e5bc;
  local_8 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  if (DAT_0047e5bc != NULL) {
    pcVar4 = &_Dst_0047bb90;
    do {
      pcVar5 = pcVar4;
      pcVar4 = pcVar5 + 1;
    } while (*pcVar5 != '\0');
    puVar6 = _mbsrchr(&_Dst_0047bb90,0x5c);
    puVar1 = puVar6 + 1;
    do {
      uVar2 = *puVar6;
      puVar6 = puVar6 + 1;
    } while (uVar2 != '\0');
    _mbsnbcpy_s(local_208,0x200,&_Dst_0047bb90,
                (size_t)(pcVar5 + (-0x47bb90 - ((int)puVar6 - (int)puVar1))));
    strcat_s((char *)local_208,0x200,"\\tmpsng");
    hFile = CreateFileA((LPCSTR)local_208,0x40000000,1,NULL,2,0x80,NULL);
    if (hFile == (HANDLE)0xffffffff) {
      MessageBoxA(NULL,"",_Src_0047e0a0,0);
      __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
      return;
    }
    WriteFile(hFile,(LPCVOID)*puVar3,puVar3[1],&local_20c,NULL);
    CloseHandle(hFile);
  }
  __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void FUN_00437230(void)

{
  uchar *puVar1;
  uchar uVar2;
  char *pcVar3;
  char *pcVar4;
  uchar *puVar5;
  HANDLE hFile;
  DWORD nNumberOfBytesToRead;
  undefined4 *unaff_EDI;
  DWORD local_20c;
  uchar local_208 [512];
  uint local_8;
  
  local_8 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  if (unaff_EDI != NULL) {
    pcVar3 = &_Dst_0047bb90;
    do {
      pcVar4 = pcVar3;
      pcVar3 = pcVar4 + 1;
    } while (*pcVar4 != '\0');
    puVar5 = _mbsrchr(&_Dst_0047bb90,0x5c);
    puVar1 = puVar5 + 1;
    do {
      uVar2 = *puVar5;
      puVar5 = puVar5 + 1;
    } while (uVar2 != '\0');
    _mbsnbcpy_s(local_208,0x200,&_Dst_0047bb90,
                (size_t)(pcVar4 + (-0x47bb90 - ((int)puVar5 - (int)puVar1))));
    strcat_s((char *)local_208,0x200,"\\tmpsng");
    hFile = CreateFileA((LPCSTR)local_208,0x80000000,1,NULL,3,0x80,NULL);
    if (hFile == (HANDLE)0xffffffff) {
      MessageBoxA(NULL,"",_Src_0047e0a0,0);
      __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
      return;
    }
    nNumberOfBytesToRead = GetFileSize(hFile,NULL);
    unaff_EDI[1] = nNumberOfBytesToRead;
    ReadFile(hFile,(LPVOID)*unaff_EDI,nNumberOfBytesToRead,&local_20c,NULL);
    CloseHandle(hFile);
  }
  __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_00437330(void)

{
  double dVar1;
  int *piVar2;
  int in_EAX;
  uint uVar3;
  byte bVar4;
  uint uVar5;
  int iVar6;
  uint uVar7;
  uint local_10;
  
  piVar2 = DAT_0047e5bc;
  FUN_00437230();
  if (-1 < DAT_0047cf68) {
    dVar1 = (double)*(int *)(in_EAX + 8);
    uVar3 = (*(int *)(DAT_0047b154 + DAT_0047cf68 * 4) - DAT_0047cf5c) - DAT_0047cf58;
    if (*(int *)(in_EAX + 8) < 0) {
      dVar1 = dVar1 + 4294967296.0;
    }
    local_10 = (uint)(longlong)
                     ROUND((dVar1 / 1000.0) * _DAT_0047ac88 *
                           (double)(int)(((int)uVar3 < 0) - 1 & uVar3));
    bVar4 = (byte)*(undefined2 *)(in_EAX + 2);
    uVar3 = (local_10 >> (bVar4 & 0x1f)) << (bVar4 & 0x1f);
    if ((uint)piVar2[1] < uVar3) {
      return 0xffffffff;
    }
    uVar5 = piVar2[1] - uVar3;
    uVar7 = uVar5 >> 1;
    if (uVar7 != 0) {
      uVar3 &= 0xfffffffe;
      iVar6 = 0;
      do {
        *(undefined2 *)(*piVar2 + iVar6 * 2) = *(undefined2 *)(uVar3 + *piVar2);
        iVar6 += 1;
        uVar3 += 2;
      } while (iVar6 < (int)uVar7);
    }
    piVar2[1] = uVar5;
  }
  return 0;
}



// _StartAddress parameter of _beginthreadex
// 

undefined4 _StartAddress_00437410(void)

{
  Sleep(5);
  while (((DAT_0047e500 != 0 && (DAT_0047e61c == 0)) && (DAT_0047e624 == 0))) {
    if (DAT_0047e500 == 2) {
      DAT_0047e500 = 3;
      FUN_00428750();
      DAT_0047e500 = 1;
    }
    Sleep(5);
  }
  DAT_0047e500 = 0;
  _endthreadex(0);
  return 0;
}



// _StartAddress parameter of _beginthreadex
// 

void _StartAddress_00437490(void)

{
  char *pcVar1;
  char *pcVar2;
  char local_208 [512];
  uint local_8;
  
  local_8 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  pcVar1 = &_Dst_0047bce8;
  do {
    pcVar2 = pcVar1;
    pcVar1 = pcVar2 + 1;
  } while (*pcVar2 != '\0');
  if (pcVar2[-1] < ' ') {
    pcVar2[-1] = '\0';
  }
  strcpy_s(local_208,0x200,&_Dst_0047bce8);
  FUN_00414a20(local_208);
  _endthreadex(0);
  __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address
// _StartAddress parameter of _beginthreadex
// 

void _StartAddress_00437510(void)

{
  double dVar1;
  double dVar2;
  double dVar3;
  uint uVar4;
  uint uVar5;
  short *_Size;
  int iVar6;
  int iVar7;
  LPWAVEHDR pwh;
  ulonglong uVar8;
  undefined4 local_28;
  short *local_24;
  undefined8 local_20;
  mmtime_tag local_14;
  uint local_8;
  
  local_8 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  do {
    pwh = DAT_0047e5bc;
    if (DAT_0047e5c8 == 1) {
      iVar7 = 0;
      local_28 = 0;
      local_24 = NULL;
      local_14.wType = 2;
      if (DAT_0047e5bc == NULL) {
LAB_00437882:
        if (DAT_0047cb40 == 3) {
LAB_00437894:
          DAT_0047e620 = 1;
LAB_0043789a:
          _endthreadex(0);
          __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
          return;
        }
      }
      else {
        waveOutGetPosition((HWAVEOUT)phwo_0047ce90,&local_14,0xc);
        if (local_14.wType == 1) {
          dVar1 = (double)(int)local_14.u.ms;
          if ((int)local_14.u.ms < 0) {
            dVar1 = dVar1 + 4294967296.0;
          }
          dVar2 = (double)DAT_0047b160;
          if (DAT_0047b160 < 0) {
            dVar2 = dVar2 + 4294967296.0;
          }
          local_20 = (longlong)ROUND(dVar2 * (dVar1 / 1000.0) + 0.5);
          _DAT_0047cb1c = (DWORD)local_20;
        }
        else if (local_14.wType == 2) {
          dVar1 = (double)(int)local_14.u.ms;
          if ((int)local_14.u.ms < 0) {
            dVar1 = dVar1 + 4294967296.0;
          }
          dVar2 = (double)DAT_0047b15c;
          if (DAT_0047b15c < 0) {
            dVar2 = dVar2 + 4294967296.0;
          }
          dVar3 = (double)DAT_0047b160;
          if (DAT_0047b160 < 0) {
            dVar3 = dVar3 + 4294967296.0;
          }
          local_20 = (longlong)ROUND(dVar3 * (dVar1 / dVar2) + 0.5);
          _DAT_0047cb1c = (DWORD)local_20;
        }
        else {
          _DAT_0047cb1c = local_14.u.ms;
          if (local_14.wType != 4) {
            _DAT_0047cb1c = 0xffffffff;
          }
        }
        if (DAT_0047cb40 != 0) {
          if ((DAT_0047cb40 < 3) && (DAT_0047cb40 == 1)) {
            uVar4 = (DAT_0047cb20 - _DAT_0047cb18) + _DAT_0047cb1c;
            uVar5 = pwh[DAT_0047cb16].dwBufferLength;
            if (uVar4 < uVar5) goto LAB_00437884;
            dVar1 = (double)(int)uVar4;
            if ((int)uVar4 < 0) {
              dVar1 = dVar1 + 4294967296.0;
            }
            local_20 = CONCAT44(uVar5,(DWORD)local_20);
            dVar2 = (double)(int)uVar5;
            if ((int)uVar5 < 0) {
              dVar2 = dVar2 + 4294967296.0;
            }
            if (dVar2 * 1.75 < dVar1 != (dVar2 * 1.75 == dVar1)) {
              local_24 = (short *)0x1;
            }
            do {
              uVar5 = (DAT_0047cb10 - DAT_0047cb28) - iVar7;
              if (0xfff < uVar5) {
                uVar5 = 0x1000;
              }
              _Size = FUN_0044c5b0(0x47cb48,DAT_0047cb3c,uVar5,0,2,1,&local_28);
              memcpy(pwh[DAT_0047cb16].lpData + iVar7 + DAT_0047cb28,DAT_0047cb3c,(size_t)_Size);
              iVar7 += (int)_Size;
            } while (((local_24 != NULL) && (_Size != NULL)) &&
                    (DAT_0047cb28 + iVar7 < DAT_0047cb10));
            uVar5 = DAT_0047cb28 >> 1;
            if (uVar5 < DAT_0047cb28 + iVar7 >> 1) {
              do {
                local_24 = (short *)(pwh[DAT_0047cb16].lpData + uVar5 * 2);
                local_20 = CONCAT44((int)*local_24,(DWORD)local_20);
                uVar8 = FUN_0045db50(pwh,pwh[DAT_0047cb16].lpData);
                iVar6 = (int)uVar8;
                if (iVar6 < -0x8000) {
                  iVar6 = -0x8000;
                }
                else if (0x7fff < iVar6) {
                  iVar6 = 0x7fff;
                }
                *local_24 = (short)iVar6;
                uVar5 += 1;
              } while ((int)uVar5 < (int)(DAT_0047cb28 + iVar7 >> 1));
            }
            DAT_0047cb28 += iVar7;
            if ((_Size == NULL) || (DAT_0047cb10 <= DAT_0047cb28)) {
              pwh[DAT_0047cb16].dwBufferLength = DAT_0047cb28;
              waveOutWrite((HWAVEOUT)phwo_0047ce90,pwh + DAT_0047cb16,0x20);
              _DAT_0047cb18 += DAT_0047cb28;
              DAT_0047cb28 = 0;
              DAT_0047cb16 = (ushort)((ulonglong)(DAT_0047cb16 + 1) %
                                     (ulonglong)(longlong)(int)(uint)USHORT_0047cb14);
              if (_Size == NULL) {
                DAT_0047cb40 = 2;
                goto LAB_00437884;
              }
            }
          }
          goto LAB_00437882;
        }
        if (USHORT_0047cb14 != 0) {
          do {
            waveOutWrite((HWAVEOUT)phwo_0047ce90,pwh,0x20);
            iVar7 += 1;
            pwh = pwh + 1;
          } while (iVar7 < (int)(uint)USHORT_0047cb14);
        }
        DAT_0047cb40 = 1;
      }
LAB_00437884:
      if ((DAT_0047e624 == 1) || (DAT_0047e61c == 1)) goto LAB_00437894;
    }
    else if (((DAT_0047cb40 == 3) || (DAT_0047e624 == 1)) || (DAT_0047e61c == 1)) goto LAB_0043789a;
    Sleep(1);
  } while( true );
}



// _StartAddress parameter of _beginthreadex
// 

undefined4 _StartAddress_004378e0(void)

{
  undefined4 *puVar1;
  int iVar2;
  FILE *pFVar3;
  bool bVar4;
  
  Sleep(1);
  do {
    if ((DAT_0047cb40 == 4) || (DAT_0047e61c == 1)) {
      DAT_0047cb40 = 5;
      _endthreadex(0);
      return 0;
    }
    bVar4 = DAT_0047cb40 == 3;
    if (DAT_0047cb40 < 3) {
      FUN_004145d0();
      if (DAT_0047cb40 != 3) {
        bVar4 = DAT_0047e61c == 1;
        goto LAB_0043793a;
      }
LAB_0043793c:
      FUN_00414900();
      iVar2 = DAT_0047e5bc;
      puVar1 = *(undefined4 **)(PTR_0047e74c + 0x21e);
      pFVar3 = FUN_0044cca0((char *)(PTR_0047e74c + 0x19d),&DAT_0047cb48);
      if (pFVar3 == NULL) {
        FUN_00414240(iVar2,0x3e800,puVar1);
      }
    }
    else {
LAB_0043793a:
      if (bVar4) goto LAB_0043793c;
    }
    Sleep(1);
  } while( true );
}



void __cdecl FUN_004379c0(char *param_1)

{
  uchar uVar1;
  uchar *puVar2;
  uchar *puVar3;
  uchar *puVar4;
  BOOL BVar5;
  LPPROCESS_INFORMATION unaff_EBX;
  _STARTUPINFOA local_454;
  FILE *local_410;
  char *local_40c;
  uchar local_408 [512];
  uchar local_208 [512];
  uint local_8;
  
  local_8 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  local_40c = param_1;
  GetModuleFileNameA(NULL,(LPSTR)local_408,0x200);
  puVar2 = local_408;
  do {
    uVar1 = *puVar2;
    puVar2 = puVar2 + 1;
  } while (uVar1 != '\0');
  puVar3 = _mbsrchr(local_408,0x5c);
  puVar4 = puVar3 + 1;
  do {
    uVar1 = *puVar3;
    puVar3 = puVar3 + 1;
  } while (uVar1 != '\0');
  _mbsnbcpy_s(local_208,0x200,local_408,
              (size_t)(puVar2 + (-((int)puVar3 - (int)puVar4) - (int)(local_408 + 1))));
  strcat_s((char *)local_208,0x200,"\\snd\\lame.exe");
  fopen_s(&local_410,(char *)local_208,"r");
  if (local_410 == NULL) {
    MessageBoxA(NULL,"mp3lame.exe",(LPCSTR)local_208,0);
    __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
    return;
  }
  fclose(local_410);
  FUN_00437bc0(0x200);
  strcat_s((char *)local_208,0x200,"\\snd\\lame.exe --decode \"");
  puVar2 = local_208;
  do {
    puVar4 = puVar2;
    puVar2 = puVar4 + 1;
  } while (*puVar4 != '\0');
  *puVar4 = '\0';
  strcat_s((char *)local_208,0x200,local_40c);
  strcat_s((char *)local_208,0x200,"\"");
  puVar2 = local_208;
  do {
    puVar4 = puVar2;
    puVar2 = puVar4 + 1;
  } while (*puVar4 != '\0');
  *puVar4 = '\0';
  memset(&local_454,0,0x44);
  unaff_EBX->hProcess = NULL;
  unaff_EBX->hThread = NULL;
  unaff_EBX->dwProcessId = 0;
  unaff_EBX->dwThreadId = 0;
  local_454.cb = 0x44;
  local_454.dwFlags = 1;
  local_454.wShowWindow = 0;
  BVar5 = CreateProcessA(NULL,(LPSTR)local_208,NULL,NULL,0,0,NULL,NULL,&local_454,unaff_EBX);
  if (BVar5 == 0) {
    MessageBoxA(NULL,"",(LPCSTR)local_208,0);
  }
  CloseHandle(unaff_EBX->hThread);
  __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __cdecl FUN_00437bc0(size_t param_1)

{
  uchar *puVar1;
  uchar uVar2;
  uchar *puVar3;
  uchar *puVar4;
  uchar *unaff_EDI;
  uchar local_208 [512];
  uint local_8;
  
  local_8 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  GetModuleFileNameA(NULL,(LPSTR)local_208,0x200);
  puVar3 = local_208;
  do {
    uVar2 = *puVar3;
    puVar3 = puVar3 + 1;
  } while (uVar2 != '\0');
  puVar4 = _mbsrchr(local_208,0x5c);
  puVar1 = puVar4 + 1;
  do {
    uVar2 = *puVar4;
    puVar4 = puVar4 + 1;
  } while (uVar2 != '\0');
  _mbsnbcpy_s(unaff_EDI,param_1,local_208,
              (size_t)(puVar3 + (-((int)puVar4 - (int)puVar1) - (int)(local_208 + 1))));
  __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl FUN_00437c50(undefined4 param_1,char *param_2)

{
  char cVar1;
  int in_EAX;
  char *pcVar2;
  int iVar3;
  int iVar4;
  
  iVar4 = 0;
  if (DAT_0047acf0 == 0) {
    do {
      cVar1 = *param_2;
      param_2 = param_2 + 1;
    } while (cVar1 != '\0');
    (*DAT_0047bb78)(HDC_0047b6c0);
    return;
  }
  _DAT_0047e4ec = 1;
  iVar3 = 0;
  pcVar2 = param_2;
  do {
    cVar1 = *pcVar2;
    pcVar2 = pcVar2 + 1;
  } while (cVar1 != '\0');
  if (pcVar2 != param_2 + 1 && -1 < (int)pcVar2 - (int)(param_2 + 1)) {
    do {
      cVar1 = param_2[iVar3];
      if ((cVar1 < 'A') || ('Z' < cVar1)) {
        if (('/' < cVar1) && (cVar1 < ':')) {
          iVar4 = cVar1 + -0x16;
          goto switchD_00437d62_default;
        }
        if (('`' < cVar1) && (cVar1 < '{')) {
          iVar4 = cVar1 + -0x3d;
          goto switchD_00437d62_default;
        }
        if (cVar1 == ':') {
          iVar4 = 0x3e;
          goto LAB_00437e13;
        }
        if (cVar1 == '%') {
          iVar4 = 0x3f;
          goto LAB_00437e13;
        }
        if (cVar1 == '.') {
          iVar4 = 0x40;
          goto LAB_00437e13;
        }
        if (cVar1 == '+') {
          iVar4 = 0x41;
          goto LAB_00437e13;
        }
        if (cVar1 == '/') {
          iVar4 = 0x48;
          goto LAB_00437e13;
        }
        if (cVar1 == '-') {
          iVar4 = 0x4d;
          goto LAB_00437e13;
        }
        if (cVar1 != '\\') {
          iVar4 = -1;
          goto LAB_00437e52;
        }
        switch(param_2[iVar3 + 1]) {
        case '1':
          iVar4 = 0x42;
          break;
        case '2':
          iVar4 = 0x44;
          break;
        case '3':
          iVar4 = 0x46;
          break;
        case '4':
          iVar4 = 0x4e;
          goto LAB_00437cae;
        default:
          goto switchD_00437d62_default;
        }
LAB_00437d9f:
        (*DAT_0047b110)(&DAT_00482598,&DAT_0048259c,in_EAX,param_1,0x10,0xc,(iVar4 % 0xc) * 8,
                        (iVar4 / 0xc) * 0xc);
        if (iVar4 == 0x46) {
          in_EAX += 0x10;
          iVar3 += 2;
          (*DAT_0047b110)(&DAT_00482598,&DAT_0048259c,in_EAX,param_1,0x10,0xc,0x40,0x3c);
        }
        iVar3 += 1;
        in_EAX += 8;
      }
      else {
        iVar4 = cVar1 + -0x41;
switchD_00437d62_default:
        if (iVar4 == 0x4e) {
LAB_00437cae:
          (*DAT_0047b110)(&DAT_00482598,&DAT_0048259c,in_EAX,param_1,0x30,0xc,0x30,0x48);
          iVar3 += 4;
          in_EAX += 0x20;
        }
        else {
          if (((0x41 < iVar4) && (iVar4 < 0x48)) || (0x4d < iVar4)) goto LAB_00437d9f;
          if (-1 < iVar4) {
LAB_00437e13:
            (*DAT_0047b110)(&DAT_00482598,&DAT_0048259c,in_EAX,param_1,8,0xc,(iVar4 % 0xc) * 8,
                            (iVar4 / 0xc) * 0xc);
          }
        }
      }
LAB_00437e52:
      iVar3 += 1;
      in_EAX += 8;
      pcVar2 = param_2;
      do {
        cVar1 = *pcVar2;
        pcVar2 = pcVar2 + 1;
      } while (cVar1 != '\0');
    } while (iVar3 < (int)pcVar2 - (int)(param_2 + 1));
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl
FUN_00437ec0(int *param_1,undefined4 param_2,int param_3,int param_4,char *param_5,int param_6)

{
  char cVar1;
  int iVar2;
  char *pcVar3;
  int iVar4;
  int local_8;
  
  iVar4 = 0;
  if (DAT_0047acf0 == 0) {
    pcVar3 = param_5;
    do {
      cVar1 = *pcVar3;
      pcVar3 = pcVar3 + 1;
    } while (cVar1 != '\0');
    (*DAT_0047bb78)(HDC_0047b6c0,param_3,param_4 + -2,param_5,(int)pcVar3 - (int)(param_5 + 1));
  }
  else {
    iVar2 = *param_1;
    if (iVar2 == DAT_00482368) {
      _DAT_0047e4ec = 2;
    }
    else if (iVar2 == DAT_00481d10) {
      _DAT_0047e4ec = 3;
    }
    else if (iVar2 == DAT_00481c28) {
      _DAT_0047e4ec = 4;
    }
    else {
      _DAT_0047e4ec = 1;
    }
    local_8 = 0;
    pcVar3 = param_5;
    do {
      cVar1 = *pcVar3;
      pcVar3 = pcVar3 + 1;
    } while (cVar1 != '\0');
    if (0 < (int)pcVar3 - (int)(param_5 + 1)) {
      do {
        cVar1 = param_5[local_8];
        if ((cVar1 < 'A') || ('Z' < cVar1)) {
          if (('/' < cVar1) && (cVar1 < ':')) {
            iVar4 = cVar1 + -0x16;
            goto switchD_00438022_default;
          }
          if (('`' < cVar1) && (cVar1 < '{')) {
            iVar4 = cVar1 + -0x3d;
            goto switchD_00438022_default;
          }
          if (cVar1 == ':') {
            iVar4 = 0x3e;
            goto LAB_004380e7;
          }
          if (cVar1 == '%') {
            iVar4 = 0x3f;
            goto LAB_004380e7;
          }
          if (cVar1 == '.') {
            iVar4 = 0x40;
            goto LAB_004380e7;
          }
          if (cVar1 == '+') {
            iVar4 = 0x41;
            goto LAB_004380e7;
          }
          if (cVar1 == '/') {
            iVar4 = 0x48;
            goto LAB_004380e7;
          }
          if (cVar1 == '-') {
            iVar4 = 0x4d;
            goto LAB_004380e7;
          }
          if (cVar1 != '\\') {
            iVar4 = -1;
            goto LAB_00438127;
          }
          switch(param_5[local_8 + 1]) {
          case '1':
            iVar4 = 0x42;
            break;
          case '2':
            iVar4 = 0x44;
            break;
          case '3':
            iVar4 = 0x46;
            break;
          case '4':
            iVar4 = 0x4e;
            goto LAB_00437f60;
          default:
            goto switchD_00438022_default;
          }
LAB_00438063:
          (*DAT_0047b110)(param_1,param_2,param_3,param_4,param_6 * 2);
          if (iVar4 == 0x46) {
            local_8 += 2;
            param_3 += param_6 * 2;
            (*DAT_0047b110)(param_1,param_2,param_3,param_4,param_6 * 2);
          }
          local_8 += 1;
          param_3 += param_6;
        }
        else {
          iVar4 = cVar1 + -0x41;
switchD_00438022_default:
          if (iVar4 == 0x4e) {
LAB_00437f60:
            (*DAT_0047b110)(param_1,param_2,param_3,param_4,param_6 * 6);
            local_8 += 4;
            param_3 += param_6 * 4;
          }
          else {
            if (((0x41 < iVar4) && (iVar4 < 0x48)) || (0x4d < iVar4)) goto LAB_00438063;
            if (-1 < iVar4) {
LAB_004380e7:
              (*DAT_0047b110)(param_1,param_2,param_3,param_4,param_6);
            }
          }
        }
LAB_00438127:
        local_8 += 1;
        param_3 += param_6;
        pcVar3 = param_5;
        do {
          cVar1 = *pcVar3;
          pcVar3 = pcVar3 + 1;
        } while (cVar1 != '\0');
        if ((int)pcVar3 - (int)(param_5 + 1) <= local_8) {
          return;
        }
      } while( true );
    }
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl
FUN_004381a0(int *param_1,undefined4 param_2,int param_3,int param_4,char *param_5,int param_6,
            undefined4 param_7)

{
  char cVar1;
  int iVar2;
  char *pcVar3;
  int unaff_EBX;
  int iVar4;
  int unaff_EDI;
  int local_10;
  int local_c;
  int local_8;
  
  iVar4 = 0;
  if (DAT_0047acf0 == 0) {
    pcVar3 = param_5;
    do {
      cVar1 = *pcVar3;
      pcVar3 = pcVar3 + 1;
    } while (cVar1 != '\0');
    (*DAT_0047bb78)(HDC_0047b6c0,param_3,param_4 + -2,param_5,(int)pcVar3 - (int)(param_5 + 1));
  }
  else {
    iVar2 = *param_1;
    if (iVar2 == DAT_00482368) {
      _DAT_0047e4ec = 2;
    }
    else if (iVar2 == DAT_00481d10) {
      _DAT_0047e4ec = 3;
    }
    else if (iVar2 == DAT_00481c28) {
      _DAT_0047e4ec = 4;
    }
    else {
      _DAT_0047e4ec = 1;
    }
    local_c = 0;
    pcVar3 = param_5;
    do {
      cVar1 = *pcVar3;
      pcVar3 = pcVar3 + 1;
    } while (cVar1 != '\0');
    if (pcVar3 != param_5 + 1 && -1 < (int)pcVar3 - (int)(param_5 + 1)) {
      local_8 = param_3;
      local_10 = param_3;
      do {
        cVar1 = param_5[local_c];
        if ((cVar1 < 'A') || ('Z' < cVar1)) {
          if (('/' < cVar1) && (cVar1 < ':')) {
            iVar4 = cVar1 + -0x16;
            goto switchD_0043831e_default;
          }
          if (('`' < cVar1) && (cVar1 < '{')) {
            iVar4 = cVar1 + -0x3d;
            goto switchD_0043831e_default;
          }
          if (cVar1 == ':') {
            iVar4 = 0x3e;
            goto LAB_004383fe;
          }
          if (cVar1 == '%') {
            iVar4 = 0x3f;
            goto LAB_004383fe;
          }
          if (cVar1 == '.') {
            iVar4 = 0x40;
            goto LAB_004383fe;
          }
          if (cVar1 == '+') {
            iVar4 = 0x41;
            goto LAB_004383fe;
          }
          if (cVar1 == '/') {
            iVar4 = 0x48;
            goto LAB_004383fe;
          }
          if (cVar1 == '-') {
            iVar4 = 0x4d;
            goto LAB_004383fe;
          }
          if (cVar1 != '\\') {
            iVar4 = -1;
            goto LAB_00438446;
          }
          switch(param_5[local_c + 1]) {
          case '1':
            iVar4 = 0x42;
            break;
          case '2':
            iVar4 = 0x44;
            break;
          case '3':
            iVar4 = 0x46;
            break;
          case '4':
            iVar4 = 0x4e;
            goto LAB_00438244;
          default:
            goto switchD_0043831e_default;
          }
LAB_0043835f:
          (*DAT_0047b118)(param_1,param_2,local_8,param_4,param_6 * 2,param_7,
                          (iVar4 % 0xc) * unaff_EBX,(iVar4 / 0xc) * unaff_EDI,unaff_EBX * 2);
          if (iVar4 == 0x46) {
            local_c += 2;
            local_8 += unaff_EBX * 2;
            local_10 += param_6 * 2;
            (*DAT_0047b118)(param_1,param_2,local_10,param_4,param_6 * 2);
          }
          local_c += 1;
          local_10 += param_6;
          local_8 += unaff_EBX;
        }
        else {
          iVar4 = cVar1 + -0x41;
switchD_0043831e_default:
          if (iVar4 == 0x4e) {
LAB_00438244:
            (*DAT_0047b118)(param_1,param_2,local_8,param_4,param_6 * 6,param_7,unaff_EBX * 6,
                            unaff_EDI * 6,unaff_EBX * 6);
            local_c += 4;
            local_10 += param_6 * 4;
            local_8 += unaff_EBX * 4;
          }
          else {
            if (((0x41 < iVar4) && (iVar4 < 0x48)) || (0x4d < iVar4)) goto LAB_0043835f;
            if (-1 < iVar4) {
LAB_004383fe:
              (*DAT_0047b118)(param_1,param_2,local_8,param_4,param_6,param_7,
                              (iVar4 % 0xc) * unaff_EBX,(iVar4 / 0xc) * unaff_EDI);
            }
          }
        }
LAB_00438446:
        local_c += 1;
        local_10 += param_6;
        local_8 += unaff_EBX;
        pcVar3 = param_5;
        do {
          cVar1 = *pcVar3;
          pcVar3 = pcVar3 + 1;
        } while (cVar1 != '\0');
        if ((int)pcVar3 - (int)(param_5 + 1) <= local_c) {
          return;
        }
      } while( true );
    }
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __thiscall FUN_004384c0(void *this,int *param_1,undefined4 param_2,int param_3,char *param_4)

{
  char cVar1;
  int in_EAX;
  char *pcVar2;
  int iVar3;
  
  if (DAT_0047acf0 == 0) {
    pcVar2 = param_4;
    do {
      cVar1 = *pcVar2;
      pcVar2 = pcVar2 + 1;
    } while (cVar1 != '\0');
    (*DAT_0047bb78)(HDC_0047b6c0,this,param_3 + -2,param_4,(int)pcVar2 - (int)(param_4 + 1));
    return;
  }
  if (*param_1 == DAT_004826b0) {
    _DAT_0047e4ec = 0x34;
  }
  else if (*param_1 == DAT_00482090) {
    _DAT_0047e4ec = 0x35;
  }
  iVar3 = 0;
  pcVar2 = param_4;
  do {
    cVar1 = *pcVar2;
    pcVar2 = pcVar2 + 1;
  } while (cVar1 != '\0');
  if (pcVar2 != param_4 + 1 && -1 < (int)pcVar2 - (int)(param_4 + 1)) {
    do {
      cVar1 = param_4[iVar3];
      if ((('/' < cVar1) && (cVar1 < ':')) && (-1 < cVar1 + -0x30)) {
        (*DAT_0047b110)(param_1,param_2,this,param_3);
      }
      iVar3 += 1;
      this = (void *)((int)this + in_EAX);
      pcVar2 = param_4;
      do {
        cVar1 = *pcVar2;
        pcVar2 = pcVar2 + 1;
      } while (cVar1 != '\0');
    } while (iVar3 < (int)pcVar2 - (int)(param_4 + 1));
  }
  return;
}



undefined4 __fastcall FUN_004385b0(char *param_1,undefined1 param_2)

{
  rsize_t in_EAX;
  
  if (true) {
    switch(param_2) {
    case 0x30:
      strcpy_s(param_1,in_EAX,"0000");
      return 0;
    case 0x31:
      strcpy_s(param_1,in_EAX,"0001");
      return 0;
    case 0x32:
      strcpy_s(param_1,in_EAX,"0010");
      return 0;
    case 0x33:
      strcpy_s(param_1,in_EAX,"0011");
      return 0;
    case 0x34:
      strcpy_s(param_1,in_EAX,"0100");
      return 0;
    case 0x35:
      strcpy_s(param_1,in_EAX,"0101");
      return 0;
    case 0x36:
      strcpy_s(param_1,in_EAX,"0110");
      return 0;
    case 0x37:
      strcpy_s(param_1,in_EAX,"0111");
      return 0;
    case 0x38:
      strcpy_s(param_1,in_EAX,"1000");
      return 0;
    case 0x39:
      strcpy_s(param_1,in_EAX,"1001");
      return 0;
    case 0x41:
    case 0x61:
      strcpy_s(param_1,in_EAX,"1010");
      return 0;
    case 0x42:
    case 0x62:
      strcpy_s(param_1,in_EAX,"1011");
      return 0;
    case 0x43:
    case 99:
      strcpy_s(param_1,in_EAX,"1100");
      return 0;
    case 0x44:
    case 100:
      strcpy_s(param_1,in_EAX,"1101");
      return 0;
    case 0x45:
    case 0x65:
      strcpy_s(param_1,in_EAX,"1110");
      return 0;
    case 0x46:
    case 0x66:
      strcpy_s(param_1,in_EAX,"1111");
      return 0;
    }
  }
  return 0xffffffff;
}



undefined4 __cdecl
FUN_00438780(int *param_1,void **param_2,BITMAPINFO *param_3,int *param_4,LPCSTR param_5,
            HGDIOBJ param_6,int param_7)

{
  char cVar1;
  uint uVar2;
  uint uVar3;
  size_t _Count;
  HGDIOBJ h;
  LPCSTR pCVar4;
  HBITMAP pHVar5;
  void *_Dst;
  HDC hdc;
  int iVar6;
  undefined4 *puVar7;
  HDC pHVar8;
  int iVar9;
  uint extraout_ECX;
  uint uVar10;
  int iVar11;
  void *extraout_EDX;
  void *pvVar12;
  int iVar13;
  LPSIZE unaff_EBX;
  undefined4 *puVar14;
  undefined4 *puVar15;
  float10 fVar16;
  float10 extraout_ST0;
  float10 fVar17;
  float10 fVar18;
  float10 extraout_ST1;
  ulonglong uVar19;
  undefined8 local_30;
  undefined4 *local_18;
  int local_14;
  int local_10;
  
  pHVar8 = HDC_0047b6c0;
  if (*param_4 == 0) {
    h = SelectObject(HDC_0047b6c0,param_6);
    pCVar4 = param_5;
    do {
      cVar1 = *pCVar4;
      pCVar4 = pCVar4 + 1;
    } while (cVar1 != '\0');
    GetTextExtentPoint32A(pHVar8,param_5,(int)pCVar4 - (int)(param_5 + 1),unaff_EBX);
    SelectObject(pHVar8,h);
    unaff_EBX->cx = unaff_EBX->cx + param_7 * 2;
    unaff_EBX->cy = unaff_EBX->cy + param_7 * 2;
    (param_3->bmiHeader).biSize = 0x28;
    (param_3->bmiHeader).biWidth = unaff_EBX->cx;
    (param_3->bmiHeader).biHeight = -unaff_EBX->cy;
    (param_3->bmiHeader).biPlanes = 1;
    (param_3->bmiHeader).biBitCount = 0x20;
    (param_3->bmiHeader).biCompression = 0;
    pHVar5 = CreateDIBSection(pHVar8,param_3,0,param_2,NULL,0);
    *param_1 = (int)pHVar5;
    _Count = unaff_EBX->cy * unaff_EBX->cx * 4;
    local_18 = (undefined4 *)calloc(_Count,4);
    _Dst = calloc(_Count,4);
    hdc = CreateCompatibleDC(pHVar8);
    *param_4 = (int)hdc;
    SelectObject(hdc,(HGDIOBJ)*param_1);
    SelectObject((HDC)*param_4,param_6);
    SetTextColor((HDC)*param_4,0xfafafa);
    SetBkMode((HDC)*param_4,1);
    iVar9 = 0;
    if (0 < unaff_EBX->cy) {
      do {
        iVar6 = 0;
        if (0 < unaff_EBX->cx) {
          do {
            iVar11 = unaff_EBX->cx * iVar9 + iVar6;
            iVar6 += 1;
            *(undefined4 *)((int)*param_2 + iVar11 * 4) = 0xffffffff;
          } while (iVar6 < unaff_EBX->cx);
        }
        iVar9 += 1;
      } while (iVar9 < unaff_EBX->cy);
    }
    if (param_7 != 0) {
      SetTextColor((HDC)*param_4,0);
      iVar6 = -param_7;
      iVar9 = iVar6;
      if (-param_7 == param_7 || SBORROW4(iVar6,param_7) != param_7 * -2 < 0) {
        do {
          if (iVar6 <= param_7) {
            iVar11 = iVar6;
            do {
              if (iVar11 * iVar11 + iVar9 * iVar9 <= param_7 * param_7) {
                pCVar4 = param_5;
                do {
                  cVar1 = *pCVar4;
                  pCVar4 = pCVar4 + 1;
                } while (cVar1 != '\0');
                TextOutA((HDC)*param_4,iVar11 + param_7,iVar9 + param_7,param_5,
                         (int)pCVar4 - (int)(param_5 + 1));
              }
              iVar11 += 1;
            } while (iVar11 <= param_7);
          }
          iVar9 += 1;
        } while (iVar9 <= param_7);
      }
    }
    memcpy(_Dst,*param_2,unaff_EBX->cy * unaff_EBX->cx * 4);
    SetTextColor((HDC)*param_4,0xfafafa);
    pCVar4 = param_5;
    do {
      cVar1 = *pCVar4;
      pCVar4 = pCVar4 + 1;
    } while (cVar1 != '\0');
    TextOutA((HDC)*param_4,param_7,param_7,param_5,(int)pCVar4 - (int)(param_5 + 1));
    iVar9 = unaff_EBX->cy;
    memcpy(local_18,*param_2,unaff_EBX->cx * iVar9 * 4);
    local_10 = 0;
    if (0 < iVar9) {
      do {
        local_14 = 0;
        if (0 < unaff_EBX->cx) {
          do {
            iVar6 = unaff_EBX->cx * local_10 + local_14;
            iVar9 = iVar6 * 4;
            uVar10 = local_18[iVar6];
            if (*(uint *)(iVar9 + (int)_Dst) == 0xffffffff) {
              *(undefined4 *)(iVar9 + (int)*param_2) = 0;
            }
            else if ((*(uint *)(iVar9 + (int)_Dst) & 0xffffff) == 0) {
              *(int *)(iVar9 + (int)*param_2) = *(int *)(iVar9 + (int)*param_2) + -0x1000000;
            }
            else {
              *(uint *)(iVar9 + (int)*param_2) =
                   (0xff - ((uVar10 >> 8 & 0xff) * 0x24b + (uVar10 >> 0x10 & 0xff) * 0x72 +
                           (uVar10 & 0xff) * 299) / 1000) * 0x1000000;
            }
            local_14 += 1;
          } while (local_14 < unaff_EBX->cx);
        }
        local_10 += 1;
      } while (local_10 < unaff_EBX->cy);
    }
    iVar9 = DAT_0047ac74;
    if (DAT_0047ac74 < unaff_EBX->cx) {
      memcpy(local_18,*param_2,unaff_EBX->cy * unaff_EBX->cx * 4);
      local_10 = 0;
      if (0 < unaff_EBX->cy) {
        fVar18 = (float10)1;
        uVar10 = extraout_ECX;
        pvVar12 = extraout_EDX;
        do {
          local_14 = 0;
          if (0 < iVar9) {
            fVar16 = (float10)DAT_0047ac74;
            do {
              iVar9 = unaff_EBX->cx;
              fVar17 = fVar18;
              uVar19 = FUN_0045db50(uVar10,pvVar12);
              fVar18 = fVar16;
              iVar6 = (int)uVar19;
              fVar16 = extraout_ST0 - (float10)iVar6;
              if (ABS(fVar16) < fVar17 == (ABS(fVar16) == fVar17)) {
                iVar9 *= local_10;
                fVar17 = fVar18 - fVar16;
                uVar2 = local_18[iVar6 + iVar9];
                uVar3 = (local_18 + iVar6 + iVar9)[1];
                local_30._0_4_ =
                     (int)(longlong)
                          ROUND((float10)(uVar3 >> 0x18) * fVar16 +
                                (float10)(uVar2 >> 0x18) * fVar17);
                local_30 = CONCAT44(uVar2,(int)local_30) & 0xffffffffff;
                iVar6 = (int)local_30 * 0x100;
                local_30._0_4_ =
                     (int)(longlong)
                          ROUND((float10)(uVar3 & 0xff) * fVar16 + (float10)local_30._4_4_ * fVar17)
                ;
                iVar6 += (int)local_30;
                uVar10 = uVar2 >> 0x10 & 0xff;
                local_30._0_4_ =
                     (int)(longlong)
                          ROUND((float10)(uVar3 >> 8 & 0xff) * fVar16 +
                                (float10)(uVar2 >> 8 & 0xff) * fVar17);
                local_30 = CONCAT44(uVar2 >> 0x10,(int)local_30) & 0xffffffffff;
                iVar6 = iVar6 * 0x100 + (int)local_30;
                local_30._0_4_ =
                     (int)(longlong)
                          ROUND((float10)local_30._4_4_ * fVar17 +
                                (float10)(uVar3 >> 0x10 & 0xff) * fVar16);
                pvVar12 = *param_2;
                *(int *)((int)pvVar12 + (iVar9 + local_14) * 4) = iVar6 * 0x100 + (int)local_30;
              }
              else {
                pvVar12 = *param_2;
                iVar9 *= local_10;
                uVar10 = local_18[iVar6 + iVar9];
                *(uint *)((int)pvVar12 + (iVar9 + local_14) * 4) = uVar10;
              }
              local_14 += 1;
              iVar9 = DAT_0047ac74;
              fVar16 = extraout_ST1;
            } while (local_14 < DAT_0047ac74);
          }
          local_10 += 1;
        } while (local_10 < unaff_EBX->cy);
      }
      free(local_18);
      local_18 = (undefined4 *)calloc(unaff_EBX->cy * iVar9 * 4,4);
      iVar13 = 0;
      puVar7 = local_18;
      iVar6 = iVar9;
      iVar11 = iVar9;
      if (0 < unaff_EBX->cy) {
        do {
          iVar6 = iVar11;
          if (0 < iVar11) {
            puVar14 = (undefined4 *)((int)*param_2 + unaff_EBX->cx * iVar13 * 4);
            puVar15 = puVar7;
            for (; iVar6 = DAT_0047ac74, iVar11 != 0; iVar11 += -1) {
              *puVar15 = *puVar14;
              puVar14 = puVar14 + 1;
              puVar15 = puVar15 + 1;
            }
          }
          iVar13 += 1;
          puVar7 = puVar7 + iVar9;
          iVar11 = iVar6;
        } while (iVar13 < unaff_EBX->cy);
      }
      if (*param_1 != 0) {
        DeleteDC((HDC)*param_4);
        iVar6 = DAT_0047ac74;
        if ((HGDIOBJ)*param_1 != NULL) {
          DeleteObject((HGDIOBJ)*param_1);
          iVar6 = DAT_0047ac74;
        }
      }
      *param_4 = 0;
      *param_1 = 0;
      (param_3->bmiHeader).biWidth = iVar6;
      unaff_EBX->cx = iVar6;
      pHVar5 = CreateDIBSection(pHVar8,param_3,0,param_2,NULL,0);
      *param_1 = (int)pHVar5;
      pHVar8 = CreateCompatibleDC(pHVar8);
      *param_4 = (int)pHVar8;
      SelectObject(pHVar8,(HGDIOBJ)*param_1);
      memcpy(*param_2,local_18,unaff_EBX->cy * DAT_0047ac74 * 4);
    }
    free(local_18);
    free(_Dst);
    return 0;
  }
  return 0xffffffff;
}



int __thiscall FUN_00438d60(void *this,uchar *param_1)

{
  uchar *puVar1;
  uchar uVar2;
  char *pcVar3;
  int in_EAX;
  char *pcVar4;
  uchar *puVar5;
  
  if (((DAT_0047e2d4 != 1) || (_Dst_0047e2da == '\0')) && (in_EAX == 0)) {
    in_EAX = 1;
  }
  if ((_Dst_0047bb90 == '\0') && (in_EAX == 1)) {
    in_EAX = 2;
  }
  if (in_EAX == 0) {
    pcVar3 = &_Dst_0047e2da;
    do {
      pcVar4 = pcVar3;
      pcVar3 = pcVar4 + 1;
    } while (*pcVar4 != '\0');
    puVar5 = _mbsrchr((uchar *)&_Dst_0047e2da,0x5c);
    puVar1 = puVar5 + 1;
    do {
      uVar2 = *puVar5;
      puVar5 = puVar5 + 1;
    } while (uVar2 != '\0');
    _mbsnbcpy_s(param_1,(size_t)this,(uchar *)&_Dst_0047e2da,
                (size_t)(pcVar4 + (-0x47e2da - ((int)puVar5 - (int)puVar1))));
    strcat_s((char *)param_1,(rsize_t)this,"\\");
  }
  else {
    if (in_EAX == 1) {
      pcVar3 = &_Dst_0047bb90;
      do {
        pcVar4 = pcVar3;
        pcVar3 = pcVar4 + 1;
      } while (*pcVar4 != '\0');
      puVar5 = _mbsrchr((uchar *)&_Dst_0047bb90,0x5c);
      puVar1 = puVar5 + 1;
      do {
        uVar2 = *puVar5;
        puVar5 = puVar5 + 1;
      } while (uVar2 != '\0');
      _mbsnbcpy_s(param_1,(size_t)this,(uchar *)&_Dst_0047bb90,
                  (size_t)(pcVar4 + (-0x47bb90 - ((int)puVar5 - (int)puVar1))));
      strcat_s((char *)param_1,(rsize_t)this,"\\");
      return 1;
    }
    if (in_EAX == 2) {
      FUN_00437bc0((size_t)this);
      return 2;
    }
  }
  return in_EAX;
}



void __cdecl FUN_00438e80(HDC param_1,int param_2,int param_3,LPCSTR param_4,int param_5)

{
  TextOutA(param_1,param_2,param_3,param_4,param_5);
  return;
}



void __cdecl FUN_00438ea0(HDC param_1,int param_2,int param_3,uchar *param_4,int param_5)

{
  uchar *puVar1;
  int iVar2;
  int iVar3;
  tagSIZE tStack_22c;
  size_t local_224;
  int iStack_220;
  int iStack_21c;
  int iStack_218;
  uchar *local_214;
  uchar local_210 [516];
  uint local_c;
  
  local_c = (uint)PTR_DAT_0047a940 ^ (uint)&tStack_22c;
  local_214 = param_4;
  local_224 = 0;
  if (0 < param_5) {
    do {
      _mbsnbcpy_s(local_210,0x200,param_4,2);
      puVar1 = _mbschr((uchar *)
                       "()<>{}[]=:-_~"
                       ,(int)(char)*param_4);
      if ((puVar1 == NULL) &&
         (puVar1 = _mbsstr((uchar *)
                           "()<>{}[]=:-_~"
                           ,local_210), puVar1 == NULL)) {
        SelectObject(param_1,HGDIOBJ_0047bae4);
        iStack_218 = 0;
      }
      else {
        SelectObject(param_1,DAT_0047b6c4);
        iStack_218 = 1;
      }
      puVar1 = _mbschr((uchar *)
                       "\'\""
                       ,(int)(char)*param_4);
      if (puVar1 == NULL) {
        puVar1 = _mbsstr((uchar *)
                         "\'\""
                         ,local_210);
        iStack_21c = 0;
        if (puVar1 != NULL) goto LAB_00438f82;
      }
      else {
LAB_00438f82:
        iStack_21c = 1;
      }
      puVar1 = _mbschr((uchar *)",.",(int)(char)*param_4);
      if (puVar1 == NULL) {
        puVar1 = _mbsstr((uchar *)",.",local_210);
        iStack_220 = 0;
        if (puVar1 != NULL) goto LAB_00438fbf;
      }
      else {
LAB_00438fbf:
        iStack_220 = 1;
      }
      iVar2 = _mbsbtype(local_214,local_224);
      if (iVar2 == 1) {
        GetTextExtentPoint32A(param_1,(LPCSTR)param_4,2,&tStack_22c);
        iVar3 = DAT_0047ac74 >> 1;
        iVar2 = DAT_0047ac78 >> 1;
        if (iStack_218 == 0) {
          if (iStack_21c == 1) {
            TextOutA(param_1,((iVar3 - iVar2) - tStack_22c.cx) + 0x10 + param_3,param_2,
                     (LPCSTR)param_4,2);
            param_2 += tStack_22c.cy;
            local_224 += 1;
            param_4 = param_4 + 1;
          }
          else if (iStack_220 == 1) {
            TextOutA(param_1,((iVar3 - iVar2) - tStack_22c.cx) + 0x16 + param_3,
                     tStack_22c.cy + -0x16 + param_2,(LPCSTR)param_4,2);
            local_224 += 1;
            param_2 = param_2 + -4 + tStack_22c.cy;
            param_4 = param_4 + 1;
          }
          else {
            TextOutA(param_1,iVar3 + ((0x10 - tStack_22c.cx >> 1) - iVar2) + param_3,param_2,
                     (LPCSTR)param_4,2);
            param_2 += tStack_22c.cy;
            local_224 += 1;
            param_4 = param_4 + 1;
          }
        }
        else {
          TextOutA(param_1,(iVar3 - iVar2) + tStack_22c.cy + param_3,param_2,(LPCSTR)param_4,2);
          param_2 += tStack_22c.cx;
          local_224 += 1;
          param_4 = param_4 + 1;
        }
      }
      else {
        GetTextExtentPoint32A(param_1,(LPCSTR)param_4,1,&tStack_22c);
        iVar3 = DAT_0047ac74 >> 1;
        iVar2 = DAT_0047ac78 >> 1;
        if (iStack_218 == 0) {
          if (iStack_21c == 1) {
            TextOutA(param_1,((iVar3 - iVar2) - tStack_22c.cx) + 0xc + param_3,param_2,
                     (LPCSTR)param_4,1);
            param_2 = param_2 + -6 + tStack_22c.cy;
          }
          else if (iStack_220 == 1) {
            TextOutA(param_1,((iVar3 - iVar2) - tStack_22c.cx) + 0xc + param_3,
                     tStack_22c.cy + -0x16 + param_2,(LPCSTR)param_4,1);
            param_2 = param_2 + -6 + tStack_22c.cy;
          }
          else {
            TextOutA(param_1,iVar3 + ((0x10 - tStack_22c.cx >> 1) - iVar2) + param_3,param_2,
                     (LPCSTR)param_4,1);
            param_2 += tStack_22c.cy;
          }
        }
        else {
          TextOutA(param_1,(iVar3 - iVar2) + tStack_22c.cy + param_3,param_2,(LPCSTR)param_4,1);
          param_2 += tStack_22c.cx;
        }
      }
      local_224 += 1;
      param_4 = param_4 + 1;
    } while ((int)local_224 < param_5);
  }
  SelectObject(param_1,HGDIOBJ_0047bae4);
  __security_check_cookie(local_c ^ (uint)&tStack_22c);
  return;
}



void __thiscall FUN_00439220(void *this,int param_1)

{
  bool bVar1;
  bool bVar2;
  bool bVar3;
  HDC hdc;
  uchar *puVar4;
  int iVar5;
  uchar *_Src;
  tagSIZE local_224;
  HDC local_21c;
  size_t local_218;
  int local_214;
  uchar local_210 [516];
  uint local_c;
  
  local_c = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  local_21c = HDC_0047b6c0;
  local_214 = 0;
  local_218 = 0;
  _Src = (uchar *)this;
  if (0 < param_1) {
    do {
      hdc = local_21c;
      _mbsnbcpy_s(local_210,0x200,_Src,2);
      puVar4 = _mbschr((uchar *)
                       "()<>{}[]=:-_~"
                       ,(int)(char)*_Src);
      if (puVar4 == NULL) {
        puVar4 = _mbsstr((uchar *)
                         "()<>{}[]=:-_~"
                         ,local_210);
        if (puVar4 != NULL) goto LAB_004392b9;
        SelectObject(hdc,HGDIOBJ_0047bae4);
        bVar1 = false;
      }
      else {
LAB_004392b9:
        SelectObject(hdc,DAT_0047b6c4);
        bVar1 = true;
      }
      puVar4 = _mbschr((uchar *)
                       "\'\""
                       ,(int)(char)*_Src);
      if (puVar4 == NULL) {
        puVar4 = _mbsstr((uchar *)
                         "\'\""
                         ,local_210);
        bVar3 = false;
        if (puVar4 != NULL) goto LAB_00439300;
      }
      else {
LAB_00439300:
        bVar3 = true;
      }
      puVar4 = _mbschr((uchar *)",.",(int)(char)*_Src);
      if (puVar4 == NULL) {
        puVar4 = _mbsstr((uchar *)",.",local_210);
        if (puVar4 != NULL) goto LAB_00439339;
        bVar2 = false;
      }
      else {
LAB_00439339:
        bVar2 = true;
      }
      iVar5 = _mbsbtype((uchar *)this,local_218);
      if (iVar5 == 1) {
        GetTextExtentPoint32A(local_21c,(LPCSTR)_Src,2,&local_224);
        if (bVar1) {
          local_214 += local_224.cx;
          local_218 += 1;
          _Src = _Src + 1;
        }
        else if (bVar3) {
          local_214 += local_224.cy;
          local_218 += 1;
          _Src = _Src + 1;
        }
        else if (bVar2) {
          local_218 += 1;
          local_214 = local_214 + -4 + local_224.cy;
          _Src = _Src + 1;
        }
        else {
          local_214 += local_224.cy;
          local_218 += 1;
          _Src = _Src + 1;
        }
      }
      else {
        GetTextExtentPoint32A(local_21c,(LPCSTR)_Src,1,&local_224);
        if (bVar1) {
          local_214 += local_224.cx;
        }
        else if (bVar3) {
          local_214 = local_214 + -6 + local_224.cy;
        }
        else if (bVar2) {
          local_214 = local_214 + -6 + local_224.cy;
        }
        else {
          local_214 += local_224.cy;
        }
      }
      local_218 += 1;
      _Src = _Src + 1;
    } while ((int)local_218 < param_1);
  }
  SelectObject(local_21c,HGDIOBJ_0047bae4);
  __security_check_cookie(local_c ^ (uint)&stack0xfffffffc);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __fastcall FUN_00439490(LPCSTR param_1,short *param_2)

{
  SIZE_T dwBytes;
  double dVar1;
  LPVOID pvVar2;
  LPCSTR lpCaption;
  LPVOID lpBuffer;
  int iVar3;
  undefined4 *unaff_EBX;
  undefined2 in_FPUControlWord;
  DWORD local_124;
  LPVOID local_120;
  undefined4 local_11c;
  LPCSTR local_118;
  undefined8 local_114;
  undefined4 local_10c;
  char local_108 [256];
  uint local_8;
  
  local_8 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  local_118 = param_1;
  local_10c = CreateFileA(param_1,0x80000000,0,NULL,3,0x80,NULL);
  if (local_10c == (HANDLE)0xffffffff) {
    MessageBoxA(NULL,"WAVE",param_1,0);
    __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
    return;
  }
  local_114._4_4_ = GetFileSize(local_10c,NULL);
  lpBuffer = HeapAlloc(DAT_0047e614,8,local_114._4_4_);
  if (lpBuffer == NULL) {
    MessageBoxA(NULL,"",local_118,0);
    __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
    return;
  }
  ReadFile(local_10c,lpBuffer,local_114._4_4_,&local_124,NULL);
  CloseHandle(local_10c);
  local_11c = *(undefined4 *)((int)lpBuffer + 8);
  iVar3 = strncmp((char *)&local_11c,"WAVE",4);
  if (iVar3 != 0) {
    HeapFree(DAT_0047e614,0,lpBuffer);
    MessageBoxA(NULL,"WAVE",local_118,0);
    __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
    return;
  }
  local_120 = *(LPVOID *)((int)lpBuffer + 0x10);
  param_2[0] = 0;
  param_2[1] = 0;
  param_2[2] = 0;
  param_2[3] = 0;
  param_2[4] = 0;
  param_2[5] = 0;
  param_2[6] = 0;
  param_2[7] = 0;
  param_2[8] = 0;
  memcpy(param_2,(void *)((int)lpBuffer + 0x14),(size_t)local_120);
  pvVar2 = local_120;
  dVar1 = (double)*(int *)(param_2 + 2);
  if (*(int *)(param_2 + 2) < 0) {
    dVar1 = dVar1 + 4294967296.0;
  }
  local_114._0_4_ = (undefined4)(longlong)ROUND(dVar1 / _DAT_0047ac88);
  *(undefined4 *)(param_2 + 2) = (undefined4)local_114;
  dVar1 = (double)*(int *)(param_2 + 4);
  if (*(int *)(param_2 + 4) < 0) {
    dVar1 = dVar1 + 4294967296.0;
  }
  local_10c = (HANDLE)CONCAT22(in_FPUControlWord,(undefined2)local_10c);
  local_114 = (longlong)ROUND(dVar1 / _DAT_0047ac88);
  *(undefined4 *)(param_2 + 4) = (undefined4)local_114;
  if (*param_2 != 1) {
    HeapFree(DAT_0047e614,0,lpBuffer);
    MessageBoxA(NULL,"PCMWAVE",local_118,0);
    __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
    return;
  }
  local_11c = *(undefined4 *)((int)local_120 + 0x14U + (int)lpBuffer);
  iVar3 = strncmp((char *)&local_11c,"fact",4);
  if (iVar3 == 0) {
    local_10c = (HANDLE)(*(int *)((int)pvVar2 + 0x18U + (int)lpBuffer) + 0x18 + (int)pvVar2);
  }
  else {
    iVar3 = strncmp((char *)&local_11c,"data",4);
    if (iVar3 != 0) {
      HeapFree(DAT_0047e614,0,lpBuffer);
      lpCaption = local_118;
      strcpy_s(local_108,0x100,local_118);
      strcat_s(local_108,0x100," WAVE");
      MessageBoxA(NULL,local_108,lpCaption,0);
      __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
      return;
    }
    local_10c = (HANDLE)((int)pvVar2 + 0x18);
  }
  dwBytes = *(SIZE_T *)((int)local_10c + (int)lpBuffer);
  local_120 = HeapAlloc(DAT_0047e614,8,dwBytes);
  memcpy(local_120,(void *)((int)local_10c + 4 + (int)lpBuffer),dwBytes);
  HeapFree(DAT_0047e614,0,lpBuffer);
  if (local_120 == NULL) {
    MessageBoxA(NULL,"",local_118,0);
    __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
    return;
  }
  unaff_EBX[2] = 0;
  unaff_EBX[6] = 0;
  unaff_EBX[7] = 0;
  unaff_EBX[1] = dwBytes;
  *unaff_EBX = local_120;
  unaff_EBX[4] = 0xc;
  unaff_EBX[5] = 1;
  unaff_EBX[3] = 0;
  __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 __cdecl FUN_00439840(LPCSTR param_1,int param_2)

{
  size_t _Size;
  double dVar1;
  double dVar2;
  undefined4 *puVar3;
  HANDLE hFile;
  LPVOID lpBuffer;
  int iVar4;
  LPVOID _Dst;
  SIZE_T dwBytes;
  ushort in_FPUControlWord;
  int local_28;
  DWORD local_20;
  undefined8 local_1c;
  uint local_14;
  DWORD local_10;
  undefined4 local_c [2];
  
  puVar3 = DAT_0047e5bc;
  hFile = CreateFileA(param_1,0x80000000,0,NULL,3,0x80,NULL);
  if (hFile == (HANDLE)0xffffffff) {
    MessageBoxA(NULL,"WAVE",param_1,0);
    return 0xffffffff;
  }
  local_10 = GetFileSize(hFile,NULL);
  lpBuffer = HeapAlloc(DAT_0047e614,8,local_10);
  if (lpBuffer == NULL) {
    MessageBoxA(NULL,"",param_1,0);
    return 0xfffffffb;
  }
  ReadFile(hFile,lpBuffer,local_10,&local_20,NULL);
  CloseHandle(hFile);
  local_c[0] = *(undefined4 *)((int)lpBuffer + 8);
  iVar4 = strncmp((char *)local_c,"WAVE",4);
  if (iVar4 != 0) {
    HeapFree(DAT_0047e614,0,lpBuffer);
    MessageBoxA(NULL,"WAVE",param_1,0);
    return 0xfffffffe;
  }
  _Size = *(size_t *)((int)lpBuffer + 0x10);
  _Dst_0047b158 = NULL;
  DAT_0047b15c = 0;
  DAT_0047b160 = 0;
  _DAT_0047b164 = 0;
  _DAT_0047b168 = 0;
  memcpy(&_Dst_0047b158,(void *)((int)lpBuffer + 0x14),_Size);
  dVar1 = (double)DAT_0047b15c;
  if (DAT_0047b15c < 0) {
    dVar1 = dVar1 + 4294967296.0;
  }
  local_1c._0_4_ = (int)(longlong)ROUND(dVar1 / _DAT_0047ac88);
  DAT_0047b15c = (int)local_1c;
  dVar1 = (double)DAT_0047b160;
  if (DAT_0047b160 < 0) {
    dVar1 = dVar1 + 4294967296.0;
  }
  local_10 = in_FPUControlWord | 0xc00;
  local_1c = (longlong)ROUND(dVar1 / _DAT_0047ac88);
  DAT_0047b160 = (int)local_1c;
  if ((short)_Dst_0047b158 != 1) {
    HeapFree(DAT_0047e614,0,lpBuffer);
    MessageBoxA(NULL,"PCMWAVE",param_1,0);
    return 0xfffffffd;
  }
  local_c[0] = *(undefined4 *)(_Size + 0x14 + (int)lpBuffer);
  iVar4 = strncmp((char *)local_c,"fact",4);
  if (iVar4 == 0) {
    local_10 = *(int *)(_Size + 0x18 + (int)lpBuffer) + 0x18 + _Size;
  }
  else {
    iVar4 = strncmp((char *)local_c,"data",4);
    if (iVar4 != 0) {
      HeapFree(DAT_0047e614,0,lpBuffer);
      MessageBoxA(NULL,"WAVE",param_1,0);
      return 0xfffffffc;
    }
    local_10 = _Size + 0x18;
  }
  dVar1 = (double)param_2;
  if (param_2 < 0) {
    dVar1 = dVar1 + 4294967296.0;
  }
  dVar2 = (double)DAT_0047b160;
  if (DAT_0047b160 < 0) {
    dVar2 = dVar2 + 4294967296.0;
  }
  local_14 = in_FPUControlWord | 0xc00;
  local_1c = (longlong)ROUND(dVar2 * (dVar1 / 1000.0) * 0.5);
  dwBytes = *(int *)(local_10 + (int)lpBuffer) + (int)local_1c * -2;
  _Dst = HeapAlloc(DAT_0047e614,8,dwBytes);
  dVar2 = (double)DAT_0047b160;
  if (DAT_0047b160 < 0) {
    dVar2 = dVar2 + 4294967296.0;
  }
  local_14 = in_FPUControlWord | 0xc00;
  local_28 = (int)(longlong)ROUND(dVar2 * (dVar1 / 1000.0) * 0.5);
  local_1c._4_4_ = _Dst;
  memcpy(_Dst,(void *)(local_10 + 4 + local_28 * 2 + (int)lpBuffer),dwBytes);
  HeapFree(DAT_0047e614,0,lpBuffer);
  if (local_1c._4_4_ == NULL) {
    MessageBoxA(NULL,"",param_1,0);
    return 0xfffffffb;
  }
  puVar3[2] = 0;
  puVar3[6] = 0;
  puVar3[7] = 0;
  puVar3[1] = dwBytes;
  *puVar3 = local_1c._4_4_;
  puVar3[4] = 0xc;
  puVar3[5] = 1;
  puVar3[3] = 0;
  return 0;
}



void FUN_00439ba0(void)

{
  LPWAVEHDR unaff_ESI;
  undefined4 *unaff_EDI;
  
  if (unaff_ESI->dwUser != 1) {
    waveOutReset((HWAVEOUT)*unaff_EDI);
    waveOutUnprepareHeader((HWAVEOUT)*unaff_EDI,unaff_ESI,0x20);
    if (unaff_ESI->dwUser == 0) {
      waveOutClose((HWAVEOUT)*unaff_EDI);
      *unaff_EDI = 0;
    }
    unaff_ESI->dwUser = 1;
  }
  if (unaff_ESI->lpData != NULL) {
    HeapFree(DAT_0047e614,0,unaff_ESI->lpData);
    unaff_ESI->lpData = NULL;
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00439c10(HINSTANCE param_1,undefined4 param_2,char *param_3,int param_4)

{
  double dVar1;
  ATOM AVar2;
  LONG LVar3;
  int iVar4;
  int iVar5;
  HBITMAP h;
  uint extraout_EDX;
  uint extraout_EDX_00;
  uint uVar6;
  undefined4 *puVar7;
  undefined4 *puVar8;
  ulonglong uVar9;
  DWORD dwStyle;
  HWND hWndParent;
  HMENU hMenu;
  HINSTANCE pHVar10;
  LPVOID lpParam;
  undefined1 auStack_1b4 [52];
  double local_180;
  WNDCLASSA WStack_174;
  char *local_14c;
  char acStack_148 [260];
  uint local_44;
  
  local_44 = (uint)PTR_DAT_0047a940 ^ (uint)auStack_1b4;
  local_180 = 1.0;
  local_14c = param_3;
  FUN_0040def0();
  FUN_0040f150();
  FUN_00412a10();
  FUN_00435150();
  if (DAT_0047f114 == 2) {
    DAT_0047e744 = 1;
  }
  if (DAT_0047e740 == 1) {
    dVar1 = 0.9;
  }
  else {
    dVar1 = local_180;
    if (DAT_0047e740 == 2) {
      dVar1 = 0.82;
    }
  }
  if (DAT_0047f114 == 2) {
    DAT_0047ac74 = 0x200;
    DAT_0047ac78 = 0x180;
    _DAT_0047e1c4 = DAT_0047db78;
    _DAT_0047e1b4 = 0x20;
    local_180 = (double)(longlong)ROUND(dVar1 * 512.0);
    _DAT_0047e1c0 = local_180._0_4_ + 1;
    _DAT_0047e1b0 = ((int)(0x200U - _DAT_0047e1c0) < 0) - 1 & 0x200U - _DAT_0047e1c0;
    _DAT_0047e1cc = DAT_0047db78 / 2;
    _DAT_0047e1c8 = _DAT_0047e1cc + 1;
    uVar6 = _DAT_0047e1c8;
  }
  else if (DAT_0047e744 == 0) {
    DAT_0047ac78 = 0x30;
    _DAT_0047e1c4 = 0x30;
    DAT_0047ac74 = 0x200;
    _DAT_0047e1b4 = 0;
    _DAT_0047e1c8 = 0x19;
    _DAT_0047e1cc = 0x18;
    local_180 = (double)(longlong)ROUND(dVar1 * 512.0);
    _DAT_0047e1c0 = local_180._0_4_ + 1;
    _DAT_0047e1b0 = ((int)(0x200U - _DAT_0047e1c0) < 0) - 1 & 0x200U - _DAT_0047e1c0;
    uVar6 = _DAT_0047e1b0;
  }
  else {
    uVar6 = DAT_0047e744;
    if (DAT_0047e744 == 1) {
      DAT_0047ac74 = 0x200;
      DAT_0047ac78 = 0x50;
      _DAT_0047e1c4 = 0x30;
      _DAT_0047e1b4 = 0x20;
      _DAT_0047e1c8 = 0x19;
      _DAT_0047e1cc = 0x18;
      local_180 = (double)(longlong)ROUND(dVar1 * 512.0);
      _DAT_0047e1c0 = local_180._0_4_ + 1;
      _DAT_0047e1b0 = ((int)(0x200U - _DAT_0047e1c0) < 0) - 1 & 0x200U - _DAT_0047e1c0;
      uVar6 = _DAT_0047e1b0;
    }
  }
  if (DAT_0047ac6c == 1) {
    _DAT_0047e21c = 0x9c;
    _DAT_0047e264 = 0x280;
    _DAT_0047e268 = 0x1e0;
    _DAT_0047e220 = 0x180000;
    LVar3 = ChangeDisplaySettingsA((DEVMODEA *)&lpDevMode_0047e1f8,6);
    if (LVar3 == 0) {
      DAT_0047ac80 = 0x1e0;
      DAT_0047ac7c = 0x280;
      do {
        iVar4 = ShowCursor(0);
        uVar6 = extraout_EDX;
      } while (-1 < iVar4);
    }
    else {
      MessageBoxA(NULL,"",NULL,0);
      DAT_0047ac6c = 0;
      uVar6 = extraout_EDX_00;
    }
  }
  if (DAT_0047ac74 < _DAT_0047e1c0) {
    _DAT_0047e1c0 = DAT_0047ac74;
  }
  uVar9 = FUN_0045db50(_DAT_0047e1c0,uVar6);
  DAT_0047ac80 = (int)uVar9;
  puVar7 = (undefined4 *)&DAT_0047e1b0;
  puVar8 = (undefined4 *)&DAT_0047e1d0;
  for (iVar4 = 8; iVar4 != 0; iVar4 += -1) {
    *puVar8 = *puVar7;
    puVar7 = puVar7 + 1;
    puVar8 = puVar8 + 1;
  }
  _DAT_0047e1dc += 100;
  _DAT_0047e1d4 = _DAT_0047e1b4 + 100;
  WStack_174.hIcon = NULL;
  WStack_174.hCursor = NULL;
  WStack_174.hbrBackground = NULL;
  WStack_174.lpszMenuName = NULL;
  WStack_174.lpszClassName = NULL;
  WStack_174.style = 3;
  WStack_174.lpfnWndProc = FUN_0043a280;
  WStack_174.cbClsExtra = 0;
  WStack_174.cbWndExtra = 0;
  WStack_174.hInstance = param_1;
  WStack_174.hIcon = LoadIconA(param_1,"IDI_ICON");
  WStack_174.hCursor = LoadCursorA(NULL,(LPCSTR)0x7f00);
  WStack_174.hbrBackground = (HBRUSH)0x6;
  WStack_174.lpszMenuName = NULL;
  WStack_174.lpszClassName = "Windows";
  AVar2 = RegisterClassA(&WStack_174);
  if (AVar2 != 0) {
    sprintf_s(acStack_148,0x100,"%s Ver.%04.2lf",_Src_0047e0a0,0x40075c28f5c28f5c);
    pHVar10 = param_1;
    if ((DAT_0047f114 == 1) || (DAT_0047ac6c != 0)) {
      lpParam = NULL;
      hMenu = NULL;
      hWndParent = NULL;
      dwStyle = 0x80080000;
      iVar4 = DAT_0047ac7c;
      iVar5 = DAT_0047ac80;
    }
    else {
      iVar4 = GetSystemMetrics(8);
      lpParam = NULL;
      hMenu = NULL;
      hWndParent = NULL;
      iVar5 = GetSystemMetrics(4);
      iVar5 = iVar5 + iVar4 * 2 + DAT_0047ac80;
      iVar4 = GetSystemMetrics(7);
      dwStyle = 0xca0000;
      iVar4 = DAT_0047ac7c + iVar4 * 2;
    }
    HWND_0047de30 =
         CreateWindowExA(0,WStack_174.lpszClassName,acStack_148,dwStyle,-0x80000000,-0x80000000,
                         iVar4,iVar5,hWndParent,hMenu,pHVar10,lpParam);
    strcpy_s((char *)&_Src_0047e640,0x100,local_14c);
    DragAcceptFiles(HWND_0047de30,1);
    ShowWindow(HWND_0047de30,param_4);
    UpdateWindow(HWND_0047de30);
    _DAT_0047de4c = param_1;
    DAT_0047de50 = GetDC(HWND_0047de30);
    _DAT_0047e1f0 = -DAT_0047ac7c;
    h = CreateCompatibleBitmap(DAT_0047de50,DAT_0047ac7c,DAT_0047ac80);
    HDC_0047b6c0 = CreateCompatibleDC(DAT_0047de50);
    SelectObject(HDC_0047b6c0,h);
    PatBlt(HDC_0047b6c0,0,0,DAT_0047ac7c,DAT_0047ac80,0xff0062);
    DeleteObject(h);
    SetBkMode(DAT_0047de50,1);
    SetTextColor(DAT_0047de50,0xfafafa);
    SetBkMode(HDC_0047b6c0,1);
    SetTextColor(HDC_0047b6c0,0xfafafa);
    PatBlt(HDC_0047b6c0,0,0,DAT_0047ac7c,DAT_0047ac80,0x42);
    TextOutA(HDC_0047b6c0,2,2,"Wait a moment...",0x10);
    BitBlt(DAT_0047de50,0,0,DAT_0047ac7c,DAT_0047ac80,HDC_0047b6c0,0,0,0xcc0020);
    UpdateWindow(HWND_0047de30);
    FUN_00420f90();
    DeleteDC(HDC_0047b6c0);
    if (DAT_0047e61c == 0) {
      do {
        FUN_00419ff0();
      } while (DAT_0047e624 != 0);
      ReleaseDC(HWND_0047de30,DAT_0047de50);
      FUN_0043aac0(DAT_0047ec24);
      if ((DAT_0047ec20 != &_Memory_0047e750) && (DAT_0047ec20 != NULL)) {
        free(&_Memory_0047e750);
      }
    }
  }
  __security_check_cookie(local_44 ^ (uint)auStack_1b4);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_0043a280(HWND param_1,uint param_2,HDROP param_3,uint param_4)

{
  int iVar1;
  int iVar2;
  UINT UVar3;
  HDROP pHVar4;
  uint uVar5;
  BOOL bRepaint;
  undefined1 auStack_5c [4];
  HDROP local_58;
  uint uStack_54;
  tagPAINTSTRUCT tStack_50;
  uint local_c;
  
  local_c = (uint)PTR_DAT_0047a940 ^ (uint)auStack_5c;
  local_58 = param_3;
  if (param_2 < 0x201) {
    if (param_2 == 0x200) {
      if (((DAT_0047ac6c == 0) && (((uint)param_3 & 1) != 0)) && (_DAT_0047e1f0 != -DAT_0047ac7c)) {
        GetWindowRect(param_1,(LPRECT)&lpRect_0047de3c);
        pHVar4 = (HDROP)(param_4 & 0xffff);
        uVar5 = (int)param_4 >> 0x10 & 0xffff;
        _DAT_0047de34 = (int)pHVar4 - _DAT_0047e1f0;
        _DAT_0047de38 = uVar5 - _DAT_0047e1f4;
        local_58 = pHVar4;
        uStack_54 = uVar5;
        if (DAT_0047f114 == 1) {
          MoveWindow(param_1,(int)lpRect_0047de3c + _DAT_0047de34,DAT_0047de40 + _DAT_0047de38,
                     DAT_0047ac7c,DAT_0047ac80,1);
        }
        else {
          iVar1 = GetSystemMetrics(8);
          bRepaint = 1;
          iVar2 = GetSystemMetrics(4);
          iVar1 = iVar2 + iVar1 * 2 + DAT_0047ac80;
          iVar2 = GetSystemMetrics(7);
          MoveWindow(param_1,(int)&lpRect_0047de3c->left + _DAT_0047de34,
                     DAT_0047de40 + _DAT_0047de38,DAT_0047ac7c + iVar2 * 2,iVar1,bRepaint);
          pHVar4 = local_58;
          uVar5 = uStack_54;
        }
        _DAT_0047e1f0 = (int)pHVar4 - _DAT_0047de34;
        _DAT_0047e1f4 = uVar5 - _DAT_0047de38;
      }
    }
    else {
      if (false) {
switchD_0043a2c8_caseD_3:
        DefWindowProcA(param_1,param_2,(WPARAM)param_3,param_4);
        __security_check_cookie(local_c ^ (uint)auStack_5c);
        return;
      }
      switch(param_2) {
      case 2:
        PostQuitMessage(0);
        DAT_0047e61c = 1;
        DAT_0047e63c = 0;
        break;
      default:
        goto switchD_0043a2c8_caseD_3;
      case 7:
        DAT_0047ac98 = 1;
        if (DAT_0047ac6c == 1) {
          _DAT_0047e21c = 0x9c;
          _DAT_0047e264 = 0x280;
          _DAT_0047e268 = 0x1e0;
          _DAT_0047e220 = 0x180000;
          ChangeDisplaySettingsA((DEVMODEA *)&lpDevMode_0047e1f8,4);
          SetWindowPos(HWND_0047de30,NULL,0,0,0,0,3);
          do {
            iVar1 = ShowCursor(0);
          } while (-1 < iVar1);
        }
        break;
      case 8:
        DAT_0047ac98 = 0;
        if (DAT_0047ac6c == 1) {
          ChangeDisplaySettingsA(NULL,0);
          ShowWindow(HWND_0047de30,7);
          do {
            iVar1 = ShowCursor(1);
          } while (iVar1 < 0);
        }
        break;
      case 0xf:
        if (DAT_0047de50 != NULL) {
          if (DAT_0047e634 == 0) {
            BeginPaint(HWND_0047de30,&tStack_50);
            if (DAT_0047ac80 == DAT_0047ac78) {
              BitBlt(DAT_0047de50,0,0,DAT_0047ac74,DAT_0047ac78,HDC_0047b6c0,0,0,0xcc0020);
              EndPaint(HWND_0047de30,&tStack_50);
            }
            else {
              StretchDIBits(DAT_0047de50,0,0,DAT_0047ac7c,DAT_0047ac80,0,0,DAT_0047ac74,DAT_0047ac78
                            ,ppvBits_0047c2bc,(BITMAPINFO *)&lpbmi_0047b694,0,0xcc0020);
              EndPaint(HWND_0047de30,&tStack_50);
            }
          }
          else if (DAT_0047e634 == 1) {
            BeginPaint(HWND_0047de30,&tStack_50);
            EndPaint(HWND_0047de30,&tStack_50);
          }
        }
      }
    }
  }
  else if (param_2 == 0x201) {
    _DAT_0047e1f0 = param_4 & 0xffff;
    _DAT_0047e1f4 = (int)param_4 >> 0x10 & 0xffff;
  }
  else if (param_2 == 0x233) {
    SetForegroundWindow(HWND_0047de30);
    pHVar4 = local_58;
    UVar3 = DragQueryFileA(local_58,0xffffffff,NULL,0);
    if (UVar3 == 1) {
      DragQueryFileA(pHVar4,0,(LPSTR)&_Src_0047e640,0x100);
      DragFinish(pHVar4);
      DAT_0047e624 = 1;
      DAT_0047e63c = 0;
    }
    else {
      MessageBoxA(HWND_0047de30,"",""
                  ,0);
      DAT_0047e624 = 0;
      DAT_0047e63c = 0;
    }
  }
  else {
    if (param_2 != 0x3bd) goto switchD_0043a2c8_caseD_3;
    DAT_0047e620 = 1;
  }
  __security_check_cookie(local_c ^ (uint)auStack_5c);
  return;
}



void FUN_0043a6e0(void)

{
  DWORD DVar1;
  BOOL BVar2;
  int unaff_EDI;
  tagMSG local_24;
  uint local_8;
  
  DVar1 = timeGetTime();
  local_8 = DVar1 + unaff_EDI;
  do {
    BVar2 = PeekMessageA(&local_24,NULL,0,0,1);
    if (BVar2 != 0) {
      TranslateMessage(&local_24);
      DispatchMessageA(&local_24);
    }
    if (unaff_EDI != 0) {
      Sleep(1);
    }
    DVar1 = timeGetTime();
  } while (DVar1 < local_8);
  return;
}



undefined4 __cdecl
FUN_0043a740(LPCSTR param_1,int *param_2,undefined4 *param_3,int *param_4,int *param_5)

{
  byte bVar1;
  int iVar2;
  uint uVar3;
  HANDLE hFile;
  DWORD dwBytes;
  short *psVar4;
  void *pvVar5;
  short *psVar6;
  uint uVar7;
  undefined2 *puVar8;
  int iVar9;
  int iVar10;
  undefined2 *puVar11;
  undefined4 *puVar12;
  DWORD local_20;
  int local_1c;
  int local_18;
  int local_14;
  uint local_10;
  uint local_c;
  short *local_8;
  
  hFile = CreateFileA(param_1,0x80000000,0,NULL,3,0x80,NULL);
  if (hFile == (HANDLE)0xffffffff) {
    MessageBoxA(NULL,"",param_1,0);
    return 0xffffffff;
  }
  dwBytes = GetFileSize(hFile,NULL);
  psVar4 = (short *)HeapAlloc(DAT_0047e610,8,dwBytes);
  local_8 = psVar4;
  ReadFile(hFile,psVar4,dwBytes,&local_20,NULL);
  CloseHandle(hFile);
  local_c = (uint)(ushort)psVar4[0xe];
  if ((*psVar4 == 0x4d42) && ((local_c == 0x18 || (local_c == 8)))) {
    iVar2 = *(int *)(psVar4 + 9);
    iVar10 = *(int *)(psVar4 + 0xb);
    local_10 = ((int)local_c >> 3) * iVar2;
    local_18 = *(int *)(psVar4 + 5) + (int)psVar4;
    uVar7 = local_10 & 0x80000003;
    if ((int)uVar7 < 0) {
      uVar7 = (uVar7 - 1 | 0xfffffffc) + 1;
    }
    if (uVar7 != 0) {
      local_10 = (local_10 - uVar7) + 4;
    }
    local_14 = iVar10;
    pvVar5 = calloc(1,iVar10 * iVar2 * 4);
    *param_2 = (int)pvVar5;
    if (local_c == 8) {
      if (0 < iVar10) {
        local_1c = -iVar2;
        iVar10 = (iVar10 + -1) * iVar2 + local_18;
        local_10 = 0;
        local_18 = local_14;
        do {
          iVar9 = 0;
          if (0 < iVar2) {
            local_c = local_10;
            do {
              bVar1 = *(byte *)(iVar10 + iVar9);
              psVar6 = (short *)(*param_2 + local_c);
              local_c += 4;
              *psVar6 = psVar4[(uint)bVar1 * 2 + 0x1b];
              iVar9 += 1;
              *(char *)(psVar6 + 1) = (char)(psVar4 + (uint)bVar1 * 2 + 0x1b)[1];
              psVar4 = local_8;
            } while (iVar9 < iVar2);
          }
          local_10 += iVar2 * 4;
          iVar10 += local_1c;
          local_18 += -1;
        } while (local_18 != 0);
      }
    }
    else if ((local_c == 0x18) && (0 < iVar10)) {
      local_1c = -local_10;
      puVar11 = (undefined2 *)((iVar10 + -1) * local_10 + local_18);
      local_c = 0;
      local_18 = iVar10;
      do {
        puVar8 = puVar11;
        uVar7 = local_c;
        uVar3 = iVar2;
        if (0 < iVar2) {
          do {
            local_10 = uVar3;
            iVar10 = *param_2;
            *(undefined2 *)(iVar10 + uVar7) = *puVar8;
            *(undefined1 *)(iVar10 + 2 + uVar7) = *(undefined1 *)(puVar8 + 1);
            puVar8 = (undefined2 *)((int)puVar8 + 3);
            uVar7 = uVar7 + 4;
            uVar3 = local_10 + -1;
          } while (local_10 + -1 != 0);
          local_10 = 0;
        }
        local_c += iVar2 * 4;
        puVar11 = (undefined2 *)((int)puVar11 + local_1c);
        local_18 += -1;
      } while (local_18 != 0);
      local_18 = 0;
      psVar4 = local_8;
    }
    psVar4 = psVar4 + 7;
    puVar12 = param_3;
    for (iVar10 = 10; iVar10 != 0; iVar10 += -1) {
      *puVar12 = *(undefined4 *)psVar4;
      psVar4 = psVar4 + 2;
      puVar12 = puVar12 + 1;
    }
    *(undefined2 *)((int)param_3 + 0xe) = 0x20;
    HeapFree(DAT_0047e610,0,local_8);
    if (param_4 != NULL) {
      *param_4 = iVar2;
    }
    if (param_5 != NULL) {
      *param_5 = local_14;
    }
    return 0;
  }
  HeapFree(DAT_0047e610,0,psVar4);
  MessageBoxA(NULL,"24 or 8 BMP",param_1,0);
  return 0xfffffffe;
}



void FUN_0043a990(void)

{
  BOOL BVar1;
  undefined1 *unaff_ESI;
  DWORD local_5c;
  HWND local_58;
  char *local_50;
  DWORD local_44;
  
  *unaff_ESI = 0;
  memset(&local_5c,0,0x58);
  local_5c = 0x58;
  local_58 = HWND_0047de30;
  local_50 = "*.tja,*.tjftja,tjf";
  local_44 = 0;
  BVar1 = GetOpenFileNameA((LPOPENFILENAMEA)&local_5c);
  if (BVar1 == 0) {
    *unaff_ESI = 0;
  }
  CommDlgExtendedError();
  return;
}



undefined4 * __fastcall FUN_0043aa00(undefined4 *param_1)

{
  undefined4 *in_EAX;
  undefined4 *puVar1;
  int iVar2;
  undefined4 *puVar3;
  
  if (DAT_0047e61c != 0) {
    return NULL;
  }
  do {
    puVar3 = param_1;
    if (puVar3[0x134] == 0) {
      puVar1 = puVar3;
      for (iVar2 = 0x134; iVar2 != 0; iVar2 += -1) {
        *puVar1 = *in_EAX;
        in_EAX = in_EAX + 1;
        puVar1 = puVar1 + 1;
      }
      puVar3[0x134] = puVar3;
      puVar3[0x135] = 0;
      return puVar3;
    }
    param_1 = (undefined4 *)puVar3[0x135];
  } while ((undefined4 *)puVar3[0x135] != NULL);
  puVar1 = (undefined4 *)calloc(1,0x4f0);
  puVar3[0x135] = puVar1;
  if (puVar1 != NULL) {
    for (iVar2 = 0x134; iVar2 != 0; iVar2 += -1) {
      *puVar1 = *in_EAX;
      in_EAX = in_EAX + 1;
      puVar1 = puVar1 + 1;
    }
    *(undefined4 **)(puVar3[0x135] + 0x4d0) = puVar3;
    *(undefined4 *)(puVar3[0x135] + 0x4d4) = 0;
    return (undefined4 *)puVar3[0x135];
  }
  MessageBoxA(NULL,
              ""
              ,"Error",0);
  DAT_0047e61c = 1;
  return NULL;
}



undefined4 __cdecl FUN_0043aac0(void *param_1)

{
  if (param_1 != NULL) {
    FUN_0043aac0(*(void **)((int)param_1 + 0x4d4));
    if ((*(void **)((int)param_1 + 0x4d0) != param_1) && (*(void **)((int)param_1 + 0x4d0) != NULL))
    {
      free(param_1);
    }
  }
  return 0;
}



void __cdecl FUN_0043ab00(int param_1)

{
  char cVar1;
  char *pcVar2;
  char *pcVar4;
  char *unaff_EBX;
  int iVar5;
  int iVar3;
  
  iVar5 = 0;
  pcVar2 = unaff_EBX;
  do {
    cVar1 = *pcVar2;
    pcVar2 = pcVar2 + 1;
  } while (cVar1 != '\0');
  if (pcVar2 != unaff_EBX + 1 && -1 < (int)pcVar2 - (int)(unaff_EBX + 1)) {
    pcVar2 = unaff_EBX;
    do {
      cVar1 = *pcVar2;
      if (('@' < cVar1) && (cVar1 < '[')) {
        iVar3 = tolower((int)cVar1);
        cVar1 = (char)iVar3;
      }
      pcVar2[param_1 - (int)unaff_EBX] = cVar1;
      iVar5 += 1;
      pcVar2 = pcVar2 + 1;
      pcVar4 = unaff_EBX;
      do {
        cVar1 = *pcVar4;
        pcVar4 = pcVar4 + 1;
      } while (cVar1 != '\0');
    } while (iVar5 < (int)pcVar4 - (int)(unaff_EBX + 1));
  }
  return;
}



undefined4 __cdecl FUN_0043ab70(int param_1)

{
  int in_EAX;
  
  if ((param_1 != 0) && (in_EAX != 0)) {
    return *(undefined4 *)(in_EAX + 0xc);
  }
  return 0;
}



void FUN_0043ab90(void)

{
  void *_Dst;
  int iVar1;
  void *pvVar2;
  undefined4 extraout_ECX;
  undefined4 uVar3;
  char *pcVar4;
  bool bVar5;
  undefined1 local_2cc [608];
  undefined4 local_6c;
  uint local_8;
  
  local_8 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  _Dst = malloc(0x2c4);
  if (_Dst == NULL) goto LAB_0043ae75;
  memset(_Dst,0,0x2c4);
  *(undefined4 *)((int)_Dst + 0x280) = 0x7fffffff;
  *(undefined4 *)((int)_Dst + 0x284) = 0x7fffffff;
  *(undefined4 *)((int)_Dst + 0x288) = 0;
  *(undefined4 *)((int)_Dst + 0x28c) = 0;
  if (_Dst == NULL) {
    pvVar2 = NULL;
  }
  else {
    *(undefined **)((int)_Dst + 0x40) = &DAT_0045d78e;
    pvVar2 = _Dst;
  }
  iVar1 = setjmp3(pvVar2,0);
  if (iVar1 != 0) {
                    // WARNING: Subroutine does not return
    ExitProcess(0);
  }
  uVar3 = extraout_ECX;
  if (_Dst != NULL) {
    *(undefined4 *)((int)_Dst + 0x260) = 0;
    *(undefined4 *)((int)_Dst + 0x264) = 0;
    *(undefined4 *)((int)_Dst + 0x268) = 0;
    uVar3 = 0;
    *(undefined4 *)((int)_Dst + 0x4c) = 0;
    *(undefined4 *)((int)_Dst + 0x44) = 0;
    *(undefined4 *)((int)_Dst + 0x48) = 0;
  }
  pvVar2 = _Dst;
  FUN_0043c160(uVar3,"1.5.12",(int)_Dst);
  bVar5 = pvVar2 == NULL;
  if (!bVar5) {
    *(undefined4 *)((int)_Dst + 0xb4) = 0x2000;
    pvVar2 = FUN_0043e420(*(size_t *)((int)_Dst + 0xb4));
    *(void **)((int)_Dst + 0xb0) = pvVar2;
    if (*(int *)((int)_Dst + 0xb0) == 0) {
      bVar5 = true;
    }
  }
  *(code **)((int)_Dst + 0x98) = FUN_0043c040;
  *(code **)((int)_Dst + 0x9c) = FUN_0043c0c0;
  *(void **)((int)_Dst + 0xa0) = _Dst;
  if (!bVar5) {
    iVar1 = FUN_004480c0();
    if (false) {
switchD_0043adaf_caseD_fffffffb:
      pcVar4 = "Unknown zlib error";
    }
    else {
      switch(iVar1) {
      case 0:
        goto switchD_0043adaf_caseD_0;
      case -6:
        pcVar4 = "zlib version error";
        break;
      default:
        goto switchD_0043adaf_caseD_fffffffb;
      case -4:
        pcVar4 = "zlib memory error";
        break;
      case -2:
        pcVar4 = "zlib stream error";
      }
    }
    FUN_0043df90(pcVar4);
    bVar5 = true;
  }
switchD_0043adaf_caseD_0:
  if (!bVar5) {
    *(undefined4 *)((int)_Dst + 0x84) = *(undefined4 *)((int)_Dst + 0xb0);
    *(undefined4 *)((int)_Dst + 0x88) = *(undefined4 *)((int)_Dst + 0xb4);
    FUN_0043e4c0();
    __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
    return;
  }
  if ((_Dst != NULL) && (*(void **)((int)_Dst + 0xb0) != NULL)) {
    if (*(code **)((int)_Dst + 0x268) == NULL) {
      free(*(void **)((int)_Dst + 0xb0));
    }
    else {
      (**(code **)((int)_Dst + 0x268))(_Dst);
    }
  }
  *(undefined4 *)((int)_Dst + 0xb0) = 0;
  if (_Dst != NULL) {
    if (false) {
      local_6c = 0;
      (*NULL)(local_2cc);
      __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
      return;
    }
    free(_Dst);
  }
LAB_0043ae75:
  __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __cdecl FUN_0043aef0(char *param_1)

{
  uint uVar1;
  char *in_EAX;
  char *pcVar2;
  char *pcVar3;
  undefined4 extraout_ECX;
  char *pcVar4;
  
  if ((in_EAX == NULL) || (param_1 == NULL)) {
    return;
  }
  pcVar3 = param_1;
  FUN_0043e530((int)param_1);
LAB_0043af14:
  while( true ) {
    pcVar2 = pcVar3;
    FUN_0043e5e0((int)in_EAX);
    pcVar4 = *(char **)(in_EAX + 0x100);
    if (pcVar4 == (char *)0x49444154) break;
    if (pcVar4 == (char *)0x49484452) {
      pcVar3 = param_1;
      FUN_0043ecc0(param_1,(int)pcVar2);
    }
    else {
      pcVar3 = pcVar2;
      if (pcVar4 != (char *)0x49454e44) goto LAB_0043af3a;
      uVar1 = *(uint *)(in_EAX + 0x6c);
      if (((uVar1 & 1) == 0) || ((uVar1 & 4) == 0)) {
        pcVar3 = in_EAX;
        FUN_0043de50();
LAB_0043b1d2:
        if (in_EAX[0x13b] != '\x03') {
          return;
        }
        if (((uint)pcVar3 & 2) != 0) {
          return;
        }
        FUN_0043de50();
LAB_0043b1eb:
        pcVar3 = *(char **)(in_EAX + 0x6c);
        if (((uint)pcVar3 & 1) == 0) {
          pcVar3 = in_EAX;
          FUN_0043de50();
        }
        if ((in_EAX[0x13b] == '\x03') && (((uint)pcVar3 & 2) == 0)) {
          pcVar3 = in_EAX;
          FUN_0043de50();
        }
        *(char **)(in_EAX + 0x120) = pcVar2;
        *(uint *)(in_EAX + 0x6c) = (uint)pcVar3 | 4;
        return;
      }
      pcVar3 = (char *)(uVar1 | 0x18);
      *(char **)(in_EAX + 0x6c) = pcVar3;
      if (pcVar2 != NULL) {
        pcVar3 = in_EAX;
        FUN_0043df90("Incorrect IEND chunk length");
      }
      FUN_0043e780(in_EAX,(uint)pcVar2);
    }
  }
  pcVar3 = *(char **)(in_EAX + 0x6c);
  if (((uint)pcVar3 & 8) != 0) {
    *(char **)(in_EAX + 0x6c) = (char *)((uint)pcVar3 | 0x2000);
    pcVar3 = (char *)((uint)pcVar3 | 0x2000);
  }
LAB_0043af3a:
  FUN_0043c9e0(extraout_ECX,(int)in_EAX,pcVar4);
  if (pcVar3 != NULL) {
    if (pcVar4 == (char *)0x49444154) {
      *(uint *)(in_EAX + 0x6c) = *(uint *)(in_EAX + 0x6c) | 4;
    }
    pcVar3 = pcVar2;
    FUN_00441d20(in_EAX);
    if (pcVar4 == (char *)0x504c5445) {
      *(uint *)(in_EAX + 0x6c) = *(uint *)(in_EAX + 0x6c) | 2;
      goto LAB_0043af14;
    }
    if (pcVar4 != (char *)0x49444154) goto LAB_0043af14;
    pcVar3 = *(char **)(in_EAX + 0x6c);
    if (((uint)pcVar3 & 1) != 0) goto LAB_0043b1d2;
    pcVar4 = "Missing IHDR before IDAT";
    pcVar3 = in_EAX;
    FUN_0043de50();
  }
  if (pcVar4 == (char *)0x504c5445) {
    FUN_0043eee0(pcVar2,in_EAX,param_1);
  }
  else {
    if (pcVar4 == (char *)0x49444154) goto LAB_0043b1eb;
    if (pcVar4 == (char *)0x624b4744) {
      FUN_004406c0((uint)pcVar2);
    }
    else if (pcVar4 == (char *)0x6348524d) {
      pcVar3 = param_1;
      FUN_0043f4a0((uint)pcVar2,in_EAX,param_1);
    }
    else if (pcVar4 == (char *)0x67414d41) {
      FUN_0043f150((uint)pcVar2,param_1);
    }
    else if (pcVar4 == (char *)0x68495354) {
      FUN_004408b0((uint)pcVar2,param_1);
    }
    else if (pcVar4 == (char *)0x6f464673) {
      FUN_00440c10((uint)pcVar2,param_1);
    }
    else if (pcVar4 == (char *)0x7043414c) {
      FUN_00440dc0(in_EAX,(int)param_1);
      pcVar3 = pcVar2;
    }
    else if (pcVar4 == (char *)0x7343414c) {
      FUN_004411c0(in_EAX,(int)param_1,(uint)pcVar2);
    }
    else if (pcVar4 == (char *)0x70485973) {
      FUN_00440a90((uint)pcVar2,param_1);
    }
    else if (pcVar4 == (char *)0x73424954) {
      FUN_0043f340((uint)pcVar2);
    }
    else if (pcVar4 == (char *)0x73524742) {
      FUN_0043fb10(pcVar2,param_1);
    }
    else if (pcVar4 == (char *)0x69434350) {
      FUN_0043fdc0(in_EAX,param_1,pcVar2);
    }
    else if (pcVar4 == (char *)0x73504c54) {
      FUN_004400b0(in_EAX,(int)param_1);
      pcVar3 = pcVar2;
    }
    else if (pcVar4 == (char *)0x74455874) {
      FUN_00441520(in_EAX,(int)param_1);
      pcVar3 = pcVar2;
    }
    else if (pcVar4 == (char *)0x74494d45) {
      FUN_004413b0((uint)pcVar2,param_1);
    }
    else if (pcVar4 == (char *)0x74524e53) {
      FUN_00440420((int)param_1,pcVar2,in_EAX);
    }
    else if (pcVar4 == (char *)0x7a545874) {
      pcVar3 = in_EAX;
      FUN_00441780((int)param_1,pcVar2);
    }
    else if (pcVar4 == (char *)0x69545874) {
      FUN_00441a20(in_EAX,(int)param_1);
      pcVar3 = pcVar2;
    }
    else {
      FUN_00441d20(in_EAX);
      pcVar3 = pcVar2;
    }
  }
  goto LAB_0043af14;
}



void __fastcall FUN_0043b230(void *param_1,byte *param_2)

{
  int iVar1;
  byte bVar2;
  uint uVar3;
  int iVar4;
  uint extraout_ECX;
  uint extraout_ECX_00;
  uint extraout_ECX_01;
  uint extraout_ECX_02;
  uint extraout_ECX_03;
  uint extraout_ECX_04;
  uint extraout_ECX_05;
  uint extraout_ECX_06;
  uint uVar6;
  uint extraout_EDX;
  char *pcVar7;
  uint local_14;
  uint local_10;
  undefined1 local_c;
  undefined1 local_b;
  undefined1 local_a;
  byte local_9;
  uint local_8;
  void *pvVar5;
  
  local_8 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  if (param_1 != NULL) {
    if ((*(byte *)((int)param_1 + 0x70) & 0x40) == 0) {
      FUN_00442cc0();
    }
    local_c = *(undefined1 *)((int)param_1 + 0x13b);
    local_b = *(undefined1 *)((int)param_1 + 0x13c);
    uVar3 = *(uint *)((int)param_1 + 0xf8);
    local_a = *(undefined1 *)((int)param_1 + 0x13f);
    local_9 = *(byte *)((int)param_1 + 0x13e);
    uVar6 = (uint)local_9;
    if (local_9 < 8) {
      local_10 = uVar6 * uVar3 + 7 >> 3;
    }
    else {
      local_10 = (local_9 >> 3) * uVar3;
    }
    local_14 = uVar3;
    if ((*(char *)((int)param_1 + 0x138) != '\0') && ((*(byte *)((int)param_1 + 0x74) & 2) != 0)) {
      switch(*(undefined1 *)((int)param_1 + 0x139)) {
      case 0:
        if ((*(byte *)((int)param_1 + 0xfc) & 7) != 0) {
LAB_0043b2ea:
          FUN_00442a90(uVar3);
          __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
          return;
        }
        break;
      case 1:
        if (((*(byte *)((int)param_1 + 0xfc) & 7) != 0) || (*(uint *)((int)param_1 + 0xe4) < 5)) {
          FUN_00442a90(uVar3);
          __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
          return;
        }
        break;
      case 2:
        if (((byte)*(undefined4 *)((int)param_1 + 0xfc) & 7) != 4) {
          FUN_00442a90(uVar3);
          __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
          return;
        }
        break;
      case 3:
        if (((*(byte *)((int)param_1 + 0xfc) & 3) != 0) || (*(uint *)((int)param_1 + 0xe4) < 3)) {
          FUN_00442a90(uVar3);
          __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
          return;
        }
        break;
      case 4:
        if (((byte)*(undefined4 *)((int)param_1 + 0xfc) & 3) != 2) {
          FUN_00442a90(uVar3);
          __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
          return;
        }
        break;
      case 5:
        if (((*(byte *)((int)param_1 + 0xfc) & 1) != 0) || (*(uint *)((int)param_1 + 0xe4) < 2)) {
          FUN_00442a90(uVar3);
          __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
          return;
        }
        break;
      default:
        if ((*(byte *)((int)param_1 + 0xfc) & 1) == 0) goto LAB_0043b2ea;
      }
    }
    pcVar7 = (char *)param_2;
    if ((*(byte *)((int)param_1 + 0x6c) & 4) == 0) {
      pcVar7 = "Invalid attempt to read row data";
      FUN_0043de50();
      uVar3 = extraout_ECX;
      uVar6 = extraout_EDX;
    }
    *(undefined4 *)((int)param_1 + 0x84) = *(undefined4 *)((int)param_1 + 0x108);
    if ((byte)uVar6 < 8) {
      uVar3 = (uVar6 & 0xff) * uVar3 + 7 >> 3;
    }
    else {
      uVar3 = ((uVar6 & 0xff) >> 3) * uVar3;
    }
    iVar4 = uVar3 + 1;
    *(int *)((int)param_1 + 0x88) = iVar4;
    do {
      if (*(int *)((int)param_1 + 0x7c) == 0) {
        iVar1 = *(int *)((int)param_1 + 0x120);
        while (iVar1 == 0) {
          FUN_0043e780(param_1,0);
          FUN_0043e5e0((int)param_1);
          *(int *)((int)param_1 + 0x120) = iVar4;
          iVar1 = iVar4;
          if (*(int *)((int)param_1 + 0x100) != 0x49444154) goto LAB_0043b575;
        }
        pvVar5 = *(void **)((int)param_1 + 0xb0);
        *(uint *)((int)param_1 + 0x7c) = *(uint *)((int)param_1 + 0xb4);
        *(void **)((int)param_1 + 0x78) = pvVar5;
        if (*(uint *)((int)param_1 + 0x120) < *(uint *)((int)param_1 + 0xb4)) {
          *(uint *)((int)param_1 + 0x7c) = *(uint *)((int)param_1 + 0x120);
        }
        if (*(code **)((int)param_1 + 0x54) == NULL) goto LAB_0043b581;
        (**(code **)((int)param_1 + 0x54))(param_1,pvVar5,*(undefined4 *)((int)param_1 + 0x7c));
        FUN_0043c0f0(pvVar5,(int)param_1);
        *(int *)((int)param_1 + 0x120) =
             *(int *)((int)param_1 + 0x120) - *(int *)((int)param_1 + 0x7c);
        pcVar7 = (char *)param_2;
      }
      iVar4 = FUN_00448250((int *)((int)param_1 + 0x78));
      if (iVar4 == 1) goto LAB_0043b58d;
      if (iVar4 != 0) goto LAB_0043b5d1;
      iVar4 = 0;
    } while (*(int *)((int)param_1 + 0x88) != 0);
    do {
      bVar2 = **(byte **)((int)param_1 + 0x108);
      if (bVar2 != 0) {
        if (4 < bVar2) goto LAB_0043b5e9;
        FUN_00442a20((uint)bVar2);
      }
      memcpy(*(void **)((int)param_1 + 0x104),*(void **)((int)param_1 + 0x108),local_10 + 1);
      uVar3 = extraout_ECX_00;
      if (((*(byte *)((int)param_1 + 600) & 4) != 0) && (*(char *)((int)param_1 + 0x25c) == '@')) {
        FUN_00446c60(*(int *)((int)param_1 + 0x108) + 1);
        uVar3 = extraout_ECX_01;
      }
      if (*(int *)((int)param_1 + 0x74) != 0) {
        FUN_00443f20(&local_14);
        uVar3 = extraout_ECX_02;
      }
      bVar2 = *(byte *)((int)param_1 + 0x143);
      if (bVar2 != 0) goto LAB_0043b5f5;
      *(byte *)((int)param_1 + 0x143) = local_9;
      if (local_9 <= *(byte *)((int)param_1 + 0x142)) goto LAB_0043b606;
      FUN_0043de50();
LAB_0043b575:
      FUN_0043de50();
LAB_0043b581:
      pcVar7 = s_Call_to_NULL_read_function_0046969c;
      FUN_0043de50();
LAB_0043b58d:
      if (((*(int *)((int)param_1 + 0x88) != 0) || (*(int *)((int)param_1 + 0x7c) != 0)) ||
         (*(int *)((int)param_1 + 0x120) != 0)) {
        if ((*(uint *)((int)param_1 + 0x70) & 0x800000) == 0) goto LAB_0043b5c7;
        FUN_0043df90("Extra compressed data");
      }
      *(uint *)((int)param_1 + 0x6c) = *(uint *)((int)param_1 + 0x6c) | 8;
      *(uint *)((int)param_1 + 0x70) = *(uint *)((int)param_1 + 0x70) | 0x20;
    } while( true );
  }
  goto LAB_0043b675;
LAB_0043b5c7:
  FUN_0043de50();
LAB_0043b5d1:
  FUN_0043de50();
LAB_0043b5e9:
  pcVar7 = "bad adaptive filter value";
  pvVar5 = param_1;
  FUN_0043de50();
  bVar2 = (byte)pvVar5;
  uVar3 = extraout_ECX_03;
LAB_0043b5f5:
  if (bVar2 != local_9) {
    pcVar7 = "internal sequential row size calculation error";
    FUN_0043de50();
    uVar3 = extraout_ECX_04;
  }
LAB_0043b606:
  if ((*(char *)((int)param_1 + 0x138) == '\0') || ((*(uint *)((int)param_1 + 0x74) & 2) == 0)) {
    if ((byte *)pcVar7 != NULL) {
      iVar4 = -1;
      goto LAB_0043b646;
    }
  }
  else {
    if (*(byte *)((int)param_1 + 0x139) < 6) {
      FUN_004423c0(*(int *)((int)param_1 + 0x108) + 1,*(uint *)((int)param_1 + 0x74),&local_14,
                   (uint)*(byte *)((int)param_1 + 0x139));
      uVar3 = extraout_ECX_05;
    }
    if ((byte *)pcVar7 != NULL) {
      iVar4 = 0;
LAB_0043b646:
      FUN_00441f00((byte *)pcVar7,iVar4);
      uVar3 = extraout_ECX_06;
    }
  }
  FUN_00442a90(uVar3);
  if (*(code **)((int)param_1 + 0x1b4) != NULL) {
    (**(code **)((int)param_1 + 0x1b4))
              (param_1,*(undefined4 *)((int)param_1 + 0xfc),*(undefined1 *)((int)param_1 + 0x139));
  }
LAB_0043b675:
  __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __cdecl FUN_0043b6a0(undefined4 *param_1)

{
  int iVar1;
  int iVar2;
  undefined4 *puVar3;
  int iVar4;
  void *unaff_EDI;
  
  if (unaff_EDI == NULL) {
    return;
  }
  if ((*(byte *)((int)unaff_EDI + 0x70) & 0x40) == 0) {
    if (*(char *)((int)unaff_EDI + 0x138) == '\0') {
      iVar4 = 1;
      FUN_00442cc0();
    }
    else {
      *(uint *)((int)unaff_EDI + 0x74) = *(uint *)((int)unaff_EDI + 0x74) | 2;
      iVar4 = 7;
      FUN_00442cc0();
    }
  }
  else {
    if (*(char *)((int)unaff_EDI + 0x138) != '\0') {
      if ((*(byte *)((int)unaff_EDI + 0x74) & 2) == 0) {
        FUN_0043df90("Interlace handling should be turned on when using png_read_image");
        *(undefined4 *)((int)unaff_EDI + 0xec) = *(undefined4 *)((int)unaff_EDI + 0xe8);
      }
      if (*(char *)((int)unaff_EDI + 0x138) != '\0') {
        *(uint *)((int)unaff_EDI + 0x74) = *(uint *)((int)unaff_EDI + 0x74) | 2;
        iVar4 = 7;
        goto LAB_0043b722;
      }
    }
    iVar4 = 1;
  }
LAB_0043b722:
  iVar1 = *(int *)((int)unaff_EDI + 0xe8);
  for (; iVar2 = iVar1, puVar3 = param_1, iVar4 != 0; iVar4 += -1) {
    for (; iVar2 != 0; iVar2 = iVar2 + -1) {
      FUN_0043b230(unaff_EDI,(byte *)*puVar3);
      puVar3 = puVar3 + 1;
    }
  }
  return;
}



void __cdecl FUN_0043b760(char *param_1)

{
  uint uVar1;
  code *pcVar2;
  char *in_EAX;
  char *pcVar3;
  char *pcVar4;
  undefined4 extraout_ECX;
  undefined4 extraout_ECX_00;
  undefined4 uVar5;
  int unaff_EBX;
  
  if (in_EAX != NULL) {
    pcVar3 = in_EAX;
    FUN_0043e780(in_EAX,0);
    if ((in_EAX[0x13b] == '\x03') &&
       (pcVar3 = (char *)(uint)*(ushort *)(in_EAX + 300), (int)pcVar3 < *(int *)(in_EAX + 0x130))) {
      if ((*(uint *)(in_EAX + 0x70) & 0x800000) == 0) {
        pcVar3 = "Read palette index exceeding num_palette";
        pcVar4 = in_EAX;
        FUN_0043de50();
        uVar5 = extraout_ECX_00;
        goto LAB_0043b7e3;
      }
      pcVar3 = in_EAX;
      FUN_0043df90("Read palette index exceeding num_palette");
    }
    do {
      FUN_0043e5e0((int)in_EAX);
      unaff_EBX = *(int *)(in_EAX + 0x100);
      pcVar4 = pcVar3;
      uVar5 = extraout_ECX;
      if (unaff_EBX == 0x49484452) {
        FUN_0043ecc0(param_1,(int)pcVar3);
      }
      else {
LAB_0043b7e3:
        if (unaff_EBX == 0x49454e44) {
          uVar1 = *(uint *)(in_EAX + 0x6c);
          if (((uVar1 & 1) == 0) || ((uVar1 & 4) == 0)) {
            FUN_0043de50();
LAB_0043ba8e:
            FUN_0043de50();
            pcVar2 = (code *)swi(3);
            (*pcVar2)();
            return;
          }
          pcVar4 = (char *)(uVar1 | 0x18);
          *(char **)(in_EAX + 0x6c) = pcVar4;
          if (pcVar3 != NULL) {
            pcVar4 = in_EAX;
            FUN_0043df90("Incorrect IEND chunk length");
          }
          FUN_0043e780(in_EAX,(uint)pcVar3);
          pcVar3 = pcVar4;
        }
        else {
          FUN_0043c9e0(uVar5,(int)in_EAX,unaff_EBX);
          if (pcVar4 == NULL) {
            if (unaff_EBX == 0x49444154) {
              if ((pcVar3 != NULL) || ((*(uint *)(in_EAX + 0x6c) & 0x2000) != 0)) {
                if ((*(uint *)(in_EAX + 0x70) & 0x800000) == 0) goto LAB_0043ba8e;
                pcVar4 = in_EAX;
                FUN_0043df90("Too many IDATs found");
              }
              FUN_0043e780(in_EAX,(uint)pcVar3);
              pcVar3 = pcVar4;
            }
            else if (unaff_EBX == 0x504c5445) {
              pcVar4 = param_1;
              FUN_0043eee0(pcVar3,in_EAX,param_1);
              pcVar3 = pcVar4;
            }
            else if (unaff_EBX == 0x624b4744) {
              FUN_004406c0((uint)pcVar3);
              pcVar3 = pcVar4;
            }
            else if (unaff_EBX == 0x6348524d) {
              FUN_0043f4a0((uint)pcVar3,in_EAX,param_1);
              pcVar3 = pcVar4;
            }
            else if (unaff_EBX == 0x67414d41) {
              FUN_0043f150((uint)pcVar3,param_1);
              pcVar3 = pcVar4;
            }
            else if (unaff_EBX == 0x68495354) {
              FUN_004408b0((uint)pcVar3,param_1);
              pcVar3 = pcVar4;
            }
            else if (unaff_EBX == 0x6f464673) {
              FUN_00440c10((uint)pcVar3,param_1);
              pcVar3 = pcVar4;
            }
            else if (unaff_EBX == 0x7043414c) {
              FUN_00440dc0(in_EAX,(int)param_1);
            }
            else if (unaff_EBX == 0x7343414c) {
              pcVar4 = param_1;
              FUN_004411c0(in_EAX,(int)param_1,(uint)pcVar3);
              pcVar3 = pcVar4;
            }
            else if (unaff_EBX == 0x70485973) {
              FUN_00440a90((uint)pcVar3,param_1);
              pcVar3 = pcVar4;
            }
            else if (unaff_EBX == 0x73424954) {
              FUN_0043f340((uint)pcVar3);
              pcVar3 = pcVar4;
            }
            else if (unaff_EBX == 0x73524742) {
              FUN_0043fb10(pcVar3,param_1);
              pcVar3 = pcVar4;
            }
            else if (unaff_EBX == 0x69434350) {
              FUN_0043fdc0(in_EAX,param_1,pcVar3);
              pcVar3 = pcVar4;
            }
            else if (unaff_EBX == 0x73504c54) {
              FUN_004400b0(in_EAX,(int)param_1);
            }
            else if (unaff_EBX == 0x74455874) {
              FUN_00441520(in_EAX,(int)param_1);
            }
            else if (unaff_EBX == 0x74494d45) {
              FUN_004413b0((uint)pcVar3,param_1);
              pcVar3 = pcVar4;
            }
            else if (unaff_EBX == 0x74524e53) {
              FUN_00440420((int)param_1,pcVar3,in_EAX);
              pcVar3 = pcVar4;
            }
            else if (unaff_EBX == 0x7a545874) {
              pcVar4 = in_EAX;
              FUN_00441780((int)param_1,pcVar3);
              pcVar3 = pcVar4;
            }
            else if (unaff_EBX == 0x69545874) {
              FUN_00441a20(in_EAX,(int)param_1);
            }
            else {
              FUN_00441d20(in_EAX);
            }
          }
          else {
            if ((unaff_EBX == 0x49444154) &&
               ((pcVar3 != NULL || ((*(uint *)(in_EAX + 0x6c) & 0x2000) != 0)))) {
              if ((*(uint *)(in_EAX + 0x70) & 0x800000) == 0) goto LAB_0043ba8e;
              FUN_0043df90("Too many IDATs found");
            }
            FUN_00441d20(in_EAX);
            if (unaff_EBX == 0x504c5445) {
              *(uint *)(in_EAX + 0x6c) = *(uint *)(in_EAX + 0x6c) | 2;
            }
          }
        }
      }
    } while ((in_EAX[0x6c] & 0x10U) == 0);
  }
  return;
}



void __thiscall FUN_0043baa0(void *this,undefined4 *param_1)

{
  void *_Memory;
  undefined4 uVar1;
  code *pcVar2;
  void *_Memory_00;
  undefined1 local_2cc [608];
  undefined4 local_6c;
  uint local_8;
  
  local_8 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  _Memory_00 = NULL;
  if ((param_1 != NULL) && (_Memory = (void *)*param_1, _Memory != NULL)) {
    uVar1 = *(undefined4 *)((int)_Memory + 0x260);
    pcVar2 = *(code **)((int)_Memory + 0x268);
    if (this != NULL) {
                    // WARNING: Load size is inaccurate
      _Memory_00 = *this;
    }
    FUN_0043bb90(0);
    if (_Memory_00 != NULL) {
      FUN_0043c360((int)_Memory,(int)_Memory_00,0x4000,-1);
      if (pcVar2 == NULL) {
        free(_Memory_00);
      }
      else {
        local_6c = uVar1;
        (*pcVar2)(local_2cc);
      }
      *(undefined4 *)this = 0;
    }
    if (pcVar2 == NULL) {
      free(_Memory);
    }
    else {
      local_6c = uVar1;
      (*pcVar2)(local_2cc);
    }
    *param_1 = 0;
  }
  __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __cdecl FUN_0043bb90(int param_1)

{
  undefined4 uVar1;
  undefined4 uVar2;
  undefined4 uVar3;
  int in_EAX;
  int iVar4;
  undefined4 *unaff_EBX;
  undefined4 *puVar5;
  undefined4 *puVar6;
  undefined4 local_48 [16];
  undefined4 local_8;
  
  if (in_EAX != 0) {
    FUN_0043c950();
  }
  if (param_1 != 0) {
    FUN_0043c950();
  }
  FUN_0043da50();
  if ((void *)unaff_EBX[0x2c] != NULL) {
    if ((code *)unaff_EBX[0x9a] == NULL) {
      free((void *)unaff_EBX[0x2c]);
    }
    else {
      (*(code *)unaff_EBX[0x9a])();
    }
  }
  if ((void *)unaff_EBX[0x9b] != NULL) {
    if ((code *)unaff_EBX[0x9a] == NULL) {
      free((void *)unaff_EBX[0x9b]);
    }
    else {
      (*(code *)unaff_EBX[0x9a])();
    }
  }
  if ((void *)unaff_EBX[0xac] != NULL) {
    if ((code *)unaff_EBX[0x9a] == NULL) {
      free((void *)unaff_EBX[0xac]);
    }
    else {
      (*(code *)unaff_EBX[0x9a])();
    }
  }
  if ((void *)unaff_EBX[0xaa] != NULL) {
    if ((code *)unaff_EBX[0x9a] == NULL) {
      free((void *)unaff_EBX[0xaa]);
    }
    else {
      (*(code *)unaff_EBX[0x9a])();
    }
  }
  if ((void *)unaff_EBX[0x7e] != NULL) {
    if ((code *)unaff_EBX[0x9a] == NULL) {
      free((void *)unaff_EBX[0x7e]);
    }
    else {
      (*(code *)unaff_EBX[0x9a])();
    }
  }
  if ((void *)unaff_EBX[0x7f] != NULL) {
    if ((code *)unaff_EBX[0x9a] == NULL) {
      free((void *)unaff_EBX[0x7f]);
    }
    else {
      (*(code *)unaff_EBX[0x9a])();
    }
  }
  if (((unaff_EBX[0x8f] & 0x1000) != 0) && ((void *)unaff_EBX[0x4a] != NULL)) {
    if ((code *)unaff_EBX[0x9a] == NULL) {
      free((void *)unaff_EBX[0x4a]);
    }
    else {
      (*(code *)unaff_EBX[0x9a])();
    }
  }
  unaff_EBX[0x8f] = unaff_EBX[0x8f] & 0xffffefff;
  if (((unaff_EBX[0x8f] & 0x2000) != 0) && ((void *)unaff_EBX[0x69] != NULL)) {
    if ((code *)unaff_EBX[0x9a] == NULL) {
      free((void *)unaff_EBX[0x69]);
    }
    else {
      (*(code *)unaff_EBX[0x9a])();
    }
  }
  unaff_EBX[0x8f] = unaff_EBX[0x8f] & 0xffffdfff;
  if (((*(byte *)(unaff_EBX + 0x8f) & 8) != 0) && ((void *)unaff_EBX[0x80] != NULL)) {
    if ((code *)unaff_EBX[0x9a] == NULL) {
      free((void *)unaff_EBX[0x80]);
    }
    else {
      (*(code *)unaff_EBX[0x9a])();
    }
  }
  unaff_EBX[0x8f] = unaff_EBX[0x8f] & 0xfffffff7;
  if (((unaff_EBX != (undefined4 *)0xffffff88) && (unaff_EBX[0x25] != 0)) &&
     ((code *)unaff_EBX[0x27] != NULL)) {
    iVar4 = *(int *)(unaff_EBX[0x25] + 0x34);
    if (iVar4 != 0) {
      (*(code *)unaff_EBX[0x27])(unaff_EBX[0x28],iVar4);
    }
    (*(code *)unaff_EBX[0x27])(unaff_EBX[0x28],unaff_EBX[0x25]);
    unaff_EBX[0x25] = 0;
  }
  if ((void *)unaff_EBX[0x73] != NULL) {
    if ((code *)unaff_EBX[0x9a] == NULL) {
      free((void *)unaff_EBX[0x73]);
    }
    else {
      (*(code *)unaff_EBX[0x9a])();
    }
  }
  local_8 = unaff_EBX[0x9a];
  puVar5 = unaff_EBX;
  puVar6 = local_48;
  for (iVar4 = 0x10; iVar4 != 0; iVar4 += -1) {
    *puVar6 = *puVar5;
    puVar5 = puVar5 + 1;
    puVar6 = puVar6 + 1;
  }
  uVar1 = unaff_EBX[0x13];
  uVar2 = unaff_EBX[0x11];
  uVar3 = unaff_EBX[0x12];
  memset(unaff_EBX,0,0x2c4);
  unaff_EBX[0x11] = uVar2;
  unaff_EBX[0x12] = uVar3;
  unaff_EBX[0x9a] = local_8;
  puVar5 = local_48;
  puVar6 = unaff_EBX;
  for (iVar4 = 0x10; iVar4 != 0; iVar4 += -1) {
    *puVar6 = *puVar5;
    puVar5 = puVar5 + 1;
    puVar6 = puVar6 + 1;
  }
  unaff_EBX[0x13] = uVar1;
  return;
}



void __fastcall FUN_0043be00(int param_1)

{
  char *in_EAX;
  void *pvVar1;
  uint uVar2;
  size_t _Size;
  int iVar3;
  
  if ((int *)in_EAX != NULL) {
    FUN_0043aef0(in_EAX);
    if (0x3fffffff < *(uint *)((int)in_EAX + 4)) {
      in_EAX = "Image is too high to process with png_read_png()";
      FUN_0043de50();
    }
    if (((*(byte *)(param_1 + 0x13c) < 8) || (*(char *)(param_1 + 0x13b) == '\x03')) ||
       ((*(uint *)((int)in_EAX + 8) & 0x10) != 0)) {
      *(uint *)(param_1 + 0x74) = *(uint *)(param_1 + 0x74) | 0x2001000;
      *(uint *)(param_1 + 0x70) = *(uint *)(param_1 + 0x70) & 0xffffffbf;
    }
    if (*(char *)(param_1 + 0x138) != '\0') {
      *(uint *)(param_1 + 0x74) = *(uint *)(param_1 + 0x74) | 2;
    }
    FUN_00442cc0();
    FUN_00443d70((int *)in_EAX,param_1);
    FUN_0043c360(param_1,(int)in_EAX,0x40,0);
    if (*(int *)((int)in_EAX + 0xe8) == 0) {
      pvVar1 = FUN_0043e3b0(*(int *)((int)in_EAX + 4) * 4);
      *(void **)((int)in_EAX + 0xe8) = pvVar1;
      uVar2 = 0;
      if (*(int *)((int)in_EAX + 4) != 0) {
        do {
          *(undefined4 *)(*(int *)((int)in_EAX + 0xe8) + uVar2 * 4) = 0;
          uVar2 += 1;
        } while (uVar2 < *(uint *)((int)in_EAX + 4));
      }
      *(uint *)((int)in_EAX + 0xb8) = *(uint *)((int)in_EAX + 0xb8) | 0x40;
      iVar3 = 0;
      if (0 < *(int *)((int)in_EAX + 4)) {
        do {
          _Size = FUN_0043ab70(param_1);
          if (_Size == 0) {
LAB_0043bf14:
            pvVar1 = NULL;
          }
          else {
            if (*(code **)(param_1 + 0x264) == NULL) {
              pvVar1 = malloc(_Size);
            }
            else {
              pvVar1 = (void *)(**(code **)(param_1 + 0x264))(param_1);
            }
            if ((pvVar1 == NULL) && ((*(uint *)(param_1 + 0x70) & 0x100000) == 0)) {
              in_EAX = s_Out_of_Memory_0046968c;
              FUN_0043de50();
              goto LAB_0043bf14;
            }
          }
          *(void **)(*(int *)((int)in_EAX + 0xe8) + iVar3 * 4) = pvVar1;
          iVar3 += 1;
        } while (iVar3 < *(int *)((int)in_EAX + 4));
      }
    }
    FUN_0043b6a0(*(undefined4 **)((int)in_EAX + 0xe8));
    *(uint *)((int)in_EAX + 8) = *(uint *)((int)in_EAX + 8) | 0x8000;
    FUN_0043b760(in_EAX);
  }
  return;
}



void __fastcall FUN_0043bf50(undefined4 param_1,uint param_2,int param_3,uint param_4)

{
  int *piVar1;
  int *piVar2;
  int local_10 [3];
  
  local_10[2] = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  local_10[0] = 0x474e5089;
  local_10[1] = 0xa1a0a0d;
  if (param_4 < 9) {
    if (param_4 == 0) goto LAB_0043c019;
  }
  else {
    param_4 = 8;
  }
  if (param_2 < 8) {
    if (8 < param_2 + param_4) {
      param_4 = 8 - param_2;
    }
    piVar1 = (int *)((int)local_10 + param_2);
    piVar2 = (int *)(param_2 + param_3);
    for (; 3 < param_4; param_4 -= 4) {
      if (*piVar2 != *piVar1) goto LAB_0043bfbf;
      piVar1 = piVar1 + 1;
      piVar2 = piVar2 + 1;
    }
    if (param_4 != 0) {
LAB_0043bfbf:
      if (((char)*piVar2 != (char)*piVar1) ||
         ((1 < param_4 &&
          ((*(char *)((int)piVar2 + 1) != *(char *)((int)piVar1 + 1) ||
           ((2 < param_4 &&
            ((*(char *)((int)piVar2 + 2) != *(char *)((int)piVar1 + 2) || (3 < param_4)))))))))) {
        __security_check_cookie(local_10[2] ^ (uint)&stack0xfffffffc);
        return;
      }
    }
    __security_check_cookie(local_10[2] ^ (uint)&stack0xfffffffc);
    return;
  }
LAB_0043c019:
  __security_check_cookie(local_10[2] ^ (uint)&stack0xfffffffc);
  return;
}



void * __cdecl FUN_0043c040(int param_1,uint param_2,uint param_3)

{
  uint uVar1;
  void *pvVar2;
  
  uVar1 = *(uint *)(param_1 + 0x70);
  if ((uint)(0xffffffff / (ulonglong)param_3) < param_2) {
    FUN_0043df90("Potential overflow in png_zalloc()");
    return NULL;
  }
  *(uint *)(param_1 + 0x70) = uVar1 | 0x100000;
  if (param_2 * param_3 != 0) {
    if (*(code **)(param_1 + 0x264) == NULL) {
      pvVar2 = malloc(param_2 * param_3);
    }
    else {
      pvVar2 = (void *)(**(code **)(param_1 + 0x264))(param_1);
    }
    if ((pvVar2 != NULL) || ((*(uint *)(param_1 + 0x70) & 0x100000) != 0)) goto LAB_0043c0b7;
    FUN_0043de50();
  }
  pvVar2 = NULL;
LAB_0043c0b7:
  *(uint *)(param_1 + 0x70) = uVar1;
  return pvVar2;
}



void __cdecl FUN_0043c0c0(int param_1,void *param_2)

{
  if ((param_1 != 0) && (param_2 != NULL)) {
    if (*(code **)(param_1 + 0x268) != NULL) {
      (**(code **)(param_1 + 0x268))(param_1);
      return;
    }
    free(param_2);
  }
  return;
}



void __thiscall FUN_0043c0f0(void *this,int param_1)

{
  uint in_EAX;
  uint uVar1;
  uint uVar2;
  
  if ((*(uint *)(param_1 + 0x100) & 0x20000000) == 0) {
    if ((*(uint *)(param_1 + 0x70) & 0x800) != 0) {
      return;
    }
  }
  else if ((*(uint *)(param_1 + 0x70) & 0x300) == 0x300) {
    return;
  }
  if (in_EAX != 0) {
    do {
      uVar2 = in_EAX;
      if (in_EAX == 0) {
        uVar2 = 0xffffffff;
      }
      if ((uint *)this == NULL) {
        uVar1 = 0;
      }
      else {
        uVar1 = FUN_004497a0((uint *)this,uVar2);
      }
      this = (void *)((int)this + uVar2);
      in_EAX -= uVar2;
    } while (in_EAX != 0);
    *(uint *)(param_1 + 0x124) = uVar1;
  }
  return;
}



void __fastcall FUN_0043c160(undefined4 param_1,char *param_2,int param_3)

{
  char cVar1;
  int iVar2;
  char *pcVar3;
  uint uVar4;
  uint uVar5;
  char local_88 [128];
  uint local_8;
  
  local_8 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  if (param_2 == NULL) {
    *(uint *)(param_3 + 0x70) = *(uint *)(param_3 + 0x70) | 0x20000;
  }
  else {
    pcVar3 = "1.5.12";
    do {
      if ((param_2 + -0x4692c0)[(int)pcVar3] != *pcVar3) {
        *(uint *)(param_3 + 0x70) = *(uint *)(param_3 + 0x70) | 0x20000;
      }
      cVar1 = *pcVar3;
      pcVar3 = pcVar3 + 1;
    } while (cVar1 != '\0');
  }
  if (((*(uint *)(param_3 + 0x70) & 0x20000) == 0) ||
     (((param_2 != NULL && (*param_2 == '1')) && (param_2[2] == '5')))) {
    __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
    return;
  }
  uVar5 = 0;
  do {
    uVar4 = uVar5;
    if (0x7e < uVar5) break;
    local_88[uVar5] = "Application built with libpng-"[uVar5];
    uVar4 = uVar5 + 1;
    iVar2 = uVar5 + 1;
    uVar5 = uVar4;
  } while ("Application built with libpng-"[iVar2] != '\0');
  local_88[uVar4] = '\0';
  if (uVar4 < 0x80) {
    uVar5 = uVar4;
    if (param_2 != NULL) {
      cVar1 = *param_2;
      while ((cVar1 != '\0' && (uVar5 < 0x7f))) {
        local_88[uVar5] = param_2[uVar5 - uVar4];
        uVar5 += 1;
        cVar1 = param_2[uVar5 - uVar4];
      }
    }
    local_88[uVar5] = '\0';
    if (uVar5 < 0x80) {
      uVar4 = uVar5;
      do {
        if (0x7e < uVar4) break;
        local_88[uVar4] = " but running with "[uVar4 - uVar5];
        uVar4 += 1;
      } while (" but running with "[uVar4 - uVar5] != '\0');
      local_88[uVar4] = '\0';
      if (uVar4 < 0x80) {
        uVar5 = uVar4;
        do {
          if (0x7e < uVar5) break;
          local_88[uVar5] = "1.5.12"[uVar5 - uVar4];
          uVar5 += 1;
        } while ("1.5.12"[uVar5 - uVar4] != '\0');
        local_88[uVar5] = '\0';
      }
    }
  }
  FUN_0043df90(local_88);
  __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __cdecl FUN_0043c2d0(int param_1)

{
  void *_Dst;
  undefined1 local_2cc [608];
  undefined4 local_6c;
  uint local_8;
  
  local_8 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  if (param_1 == 0) {
    __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
    return;
  }
  if (*(code **)(param_1 + 0x264) == NULL) {
    _Dst = malloc(0xec);
  }
  else {
    local_6c = *(undefined4 *)(param_1 + 0x260);
    _Dst = (void *)(**(code **)(param_1 + 0x264))(local_2cc);
  }
  if (_Dst != NULL) {
    memset(_Dst,0,0xec);
    memset(_Dst,0,0xec);
  }
  __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __cdecl FUN_0043c360(int param_1,int param_2,uint param_3,int param_4)

{
  void *pvVar1;
  int iVar2;
  
  if (param_1 == 0) {
    return;
  }
  if (param_2 == 0) {
    return;
  }
  if ((*(uint *)(param_2 + 0xb8) & param_3 & 0x4000) != 0) {
    if (param_4 == -1) {
      iVar2 = 0;
      if (0 < *(int *)(param_2 + 0x30)) {
        do {
          FUN_0043c360(param_1,param_2,0x4000,iVar2);
          iVar2 += 1;
        } while (iVar2 < *(int *)(param_2 + 0x30));
      }
      if (*(void **)(param_2 + 0x38) != NULL) {
        if (*(code **)(param_1 + 0x268) == NULL) {
          free(*(void **)(param_2 + 0x38));
        }
        else {
          (**(code **)(param_1 + 0x268))(param_1);
        }
      }
      *(undefined4 *)(param_2 + 0x38) = 0;
      *(undefined4 *)(param_2 + 0x30) = 0;
    }
    else if (*(int *)(param_2 + 0x38) != 0) {
      pvVar1 = *(void **)(param_4 * 0x1c + 4 + *(int *)(param_2 + 0x38));
      if (pvVar1 != NULL) {
        FUN_0043e3f0(param_1,pvVar1);
        *(undefined4 *)(param_4 * 0x1c + 4 + *(int *)(param_2 + 0x38)) = 0;
      }
    }
  }
  if ((*(uint *)(param_2 + 0xb8) & param_3 & 0x2000) != 0) {
    if (*(void **)(param_2 + 0x4c) != NULL) {
      if (*(code **)(param_1 + 0x268) == NULL) {
        free(*(void **)(param_2 + 0x4c));
      }
      else {
        (**(code **)(param_1 + 0x268))(param_1);
      }
    }
    *(uint *)(param_2 + 8) = *(uint *)(param_2 + 8) & 0xffffffef;
    *(undefined4 *)(param_2 + 0x4c) = 0;
  }
  if ((*(uint *)(param_2 + 0xb8) & param_3 & 0x100) != 0) {
    if (*(void **)(param_2 + 0xe0) != NULL) {
      if (*(code **)(param_1 + 0x268) == NULL) {
        free(*(void **)(param_2 + 0xe0));
      }
      else {
        (**(code **)(param_1 + 0x268))(param_1);
      }
    }
    if (*(void **)(param_2 + 0xe4) != NULL) {
      if (*(code **)(param_1 + 0x268) == NULL) {
        free(*(void **)(param_2 + 0xe4));
      }
      else {
        (**(code **)(param_1 + 0x268))(param_1);
      }
    }
    *(uint *)(param_2 + 8) = *(uint *)(param_2 + 8) & 0xffffbfff;
    *(undefined4 *)(param_2 + 0xe0) = 0;
    *(undefined4 *)(param_2 + 0xe4) = 0;
  }
  if ((char)((byte)*(undefined4 *)(param_2 + 0xb8) & (byte)param_3) < '\0') {
    if (*(void **)(param_2 + 0xa0) != NULL) {
      if (*(code **)(param_1 + 0x268) == NULL) {
        free(*(void **)(param_2 + 0xa0));
      }
      else {
        (**(code **)(param_1 + 0x268))(param_1);
      }
    }
    if (*(void **)(param_2 + 0xac) != NULL) {
      if (*(code **)(param_1 + 0x268) == NULL) {
        free(*(void **)(param_2 + 0xac));
      }
      else {
        (**(code **)(param_1 + 0x268))(param_1);
      }
    }
    *(undefined4 *)(param_2 + 0xa0) = 0;
    *(undefined4 *)(param_2 + 0xac) = 0;
    if (*(int *)(param_2 + 0xb0) != 0) {
      iVar2 = 0;
      if (*(char *)(param_2 + 0xb5) != '\0') {
        do {
          pvVar1 = *(void **)(*(int *)(param_2 + 0xb0) + iVar2 * 4);
          if (pvVar1 != NULL) {
            if (*(code **)(param_1 + 0x268) == NULL) {
              free(pvVar1);
            }
            else {
              (**(code **)(param_1 + 0x268))(param_1);
            }
          }
          *(undefined4 *)(*(int *)(param_2 + 0xb0) + iVar2 * 4) = 0;
          iVar2 += 1;
        } while (iVar2 < (int)(uint)*(byte *)(param_2 + 0xb5));
      }
      if (*(void **)(param_2 + 0xb0) != NULL) {
        if (*(code **)(param_1 + 0x268) == NULL) {
          free(*(void **)(param_2 + 0xb0));
        }
        else {
          (**(code **)(param_1 + 0x268))(param_1);
        }
      }
      *(undefined4 *)(param_2 + 0xb0) = 0;
    }
    *(uint *)(param_2 + 8) = *(uint *)(param_2 + 8) & 0xfffffbff;
  }
  if ((*(uint *)(param_2 + 0xb8) & param_3 & 0x10) != 0) {
    if (*(void **)(param_2 + 0xc4) != NULL) {
      if (*(code **)(param_1 + 0x268) == NULL) {
        free(*(void **)(param_2 + 0xc4));
      }
      else {
        (**(code **)(param_1 + 0x268))(param_1);
      }
    }
    if (*(void **)(param_2 + 200) != NULL) {
      if (*(code **)(param_1 + 0x268) == NULL) {
        free(*(void **)(param_2 + 200));
      }
      else {
        (**(code **)(param_1 + 0x268))(param_1);
      }
    }
    *(uint *)(param_2 + 8) = *(uint *)(param_2 + 8) & 0xffffefff;
    *(undefined4 *)(param_2 + 0xc4) = 0;
    *(undefined4 *)(param_2 + 200) = 0;
  }
  if ((*(uint *)(param_2 + 0xb8) & param_3 & 0x20) != 0) {
    if (param_4 == -1) {
      if (*(int *)(param_2 + 0xd8) != 0) {
        iVar2 = 0;
        if (0 < *(int *)(param_2 + 0xd8)) {
          do {
            FUN_0043c360(param_1,param_2,0x20,iVar2);
            iVar2 += 1;
          } while (iVar2 < *(int *)(param_2 + 0xd8));
        }
        if (*(void **)(param_2 + 0xd4) != NULL) {
          if (*(code **)(param_1 + 0x268) == NULL) {
            free(*(void **)(param_2 + 0xd4));
          }
          else {
            (**(code **)(param_1 + 0x268))(param_1);
          }
        }
        *(undefined4 *)(param_2 + 0xd4) = 0;
        *(undefined4 *)(param_2 + 0xd8) = 0;
      }
      *(uint *)(param_2 + 8) = *(uint *)(param_2 + 8) & 0xffffdfff;
    }
    else if (*(int *)(param_2 + 0xd4) != 0) {
      pvVar1 = *(void **)(*(int *)(param_2 + 0xd4) + param_4 * 0x10);
      if (pvVar1 != NULL) {
        if (*(code **)(param_1 + 0x268) == NULL) {
          free(pvVar1);
        }
        else {
          (**(code **)(param_1 + 0x268))(param_1);
        }
      }
      pvVar1 = *(void **)(*(int *)(param_2 + 0xd4) + 8 + param_4 * 0x10);
      if (pvVar1 != NULL) {
        if (*(code **)(param_1 + 0x268) == NULL) {
          free(pvVar1);
        }
        else {
          (**(code **)(param_1 + 0x268))(param_1);
        }
      }
      *(undefined4 *)(*(int *)(param_2 + 0xd4) + param_4 * 0x10) = 0;
      *(undefined4 *)(*(int *)(param_2 + 0xd4) + 8 + param_4 * 0x10) = 0;
    }
  }
  if (*(void **)(param_1 + 0x298) != NULL) {
    if (*(code **)(param_1 + 0x268) == NULL) {
      free(*(void **)(param_1 + 0x298));
    }
    else {
      (**(code **)(param_1 + 0x268))(param_1);
    }
    *(undefined4 *)(param_1 + 0x298) = 0;
  }
  if ((*(uint *)(param_2 + 0xb8) & param_3 & 0x200) != 0) {
    if (param_4 == -1) {
      if (*(int *)(param_2 + 0xc0) != 0) {
        iVar2 = 0;
        if (0 < *(int *)(param_2 + 0xc0)) {
          do {
            FUN_0043c360(param_1,param_2,0x200,iVar2);
            iVar2 += 1;
          } while (iVar2 < *(int *)(param_2 + 0xc0));
        }
        if (*(void **)(param_2 + 0xbc) != NULL) {
          if (*(code **)(param_1 + 0x268) == NULL) {
            free(*(void **)(param_2 + 0xbc));
          }
          else {
            (**(code **)(param_1 + 0x268))(param_1);
          }
        }
        *(undefined4 *)(param_2 + 0xbc) = 0;
        *(undefined4 *)(param_2 + 0xc0) = 0;
      }
    }
    else if (*(int *)(param_2 + 0xbc) != 0) {
      iVar2 = param_4 * 0x14;
      pvVar1 = *(void **)(iVar2 + 8 + *(int *)(param_2 + 0xbc));
      if (pvVar1 != NULL) {
        if (*(code **)(param_1 + 0x268) != NULL) {
          (**(code **)(param_1 + 0x268))(param_1);
          *(undefined4 *)(iVar2 + 8 + *(int *)(param_2 + 0xbc)) = 0;
          goto LAB_0043c81f;
        }
        free(pvVar1);
      }
      *(undefined4 *)(iVar2 + 8 + *(int *)(param_2 + 0xbc)) = 0;
    }
  }
LAB_0043c81f:
  if ((*(uint *)(param_2 + 0xb8) & param_3 & 8) != 0) {
    if (*(void **)(param_2 + 0x7c) != NULL) {
      if (*(code **)(param_1 + 0x268) == NULL) {
        free(*(void **)(param_2 + 0x7c));
      }
      else {
        (**(code **)(param_1 + 0x268))(param_1);
      }
    }
    *(uint *)(param_2 + 8) = *(uint *)(param_2 + 8) & 0xffffffbf;
    *(undefined4 *)(param_2 + 0x7c) = 0;
  }
  if ((*(uint *)(param_2 + 0xb8) & param_3 & 0x1000) != 0) {
    if (*(void **)(param_2 + 0x10) != NULL) {
      if (*(code **)(param_1 + 0x268) == NULL) {
        free(*(void **)(param_2 + 0x10));
      }
      else {
        (**(code **)(param_1 + 0x268))(param_1);
      }
    }
    *(uint *)(param_2 + 8) = *(uint *)(param_2 + 8) & 0xfffffff7;
    *(undefined4 *)(param_2 + 0x10) = 0;
    *(undefined2 *)(param_2 + 0x14) = 0;
  }
  if ((*(uint *)(param_2 + 0xb8) & param_3 & 0x40) != 0) {
    if (*(int *)(param_2 + 0xe8) != 0) {
      iVar2 = 0;
      if (0 < *(int *)(param_2 + 4)) {
        do {
          pvVar1 = *(void **)(*(int *)(param_2 + 0xe8) + iVar2 * 4);
          if (pvVar1 != NULL) {
            if (*(code **)(param_1 + 0x268) == NULL) {
              free(pvVar1);
            }
            else {
              (**(code **)(param_1 + 0x268))(param_1);
            }
          }
          *(undefined4 *)(*(int *)(param_2 + 0xe8) + iVar2 * 4) = 0;
          iVar2 += 1;
        } while (iVar2 < *(int *)(param_2 + 4));
      }
      if (*(void **)(param_2 + 0xe8) != NULL) {
        if (*(code **)(param_1 + 0x268) == NULL) {
          free(*(void **)(param_2 + 0xe8));
        }
        else {
          (**(code **)(param_1 + 0x268))(param_1);
        }
      }
      *(undefined4 *)(param_2 + 0xe8) = 0;
    }
    *(uint *)(param_2 + 8) = *(uint *)(param_2 + 8) & 0xffff7fff;
  }
  if (param_4 != -1) {
    param_3 &= 0xffffbddf;
  }
  *(uint *)(param_2 + 0xb8) = *(uint *)(param_2 + 0xb8) & ~param_3;
  return;
}



void FUN_0043c950(void)

{
  uint uVar1;
  int unaff_ESI;
  void *unaff_EDI;
  
  uVar1 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  FUN_0043c360(unaff_ESI,(int)unaff_EDI,0x7fff,-1);
  if (*(int *)(unaff_ESI + 0x248) != 0) {
    if (*(void **)(unaff_ESI + 0x24c) != NULL) {
      if (*(code **)(unaff_ESI + 0x268) == NULL) {
        free(*(void **)(unaff_ESI + 0x24c));
      }
      else {
        (**(code **)(unaff_ESI + 0x268))();
      }
    }
    *(undefined4 *)(unaff_ESI + 0x24c) = 0;
    *(undefined4 *)(unaff_ESI + 0x248) = 0;
  }
  if (unaff_EDI != NULL) {
    memset(unaff_EDI,0,0xec);
  }
  __security_check_cookie(uVar1 ^ (uint)&stack0xfffffffc);
  return;
}



void __fastcall FUN_0043c9e0(undefined4 param_1,int param_2,undefined4 param_3)

{
  int *piVar1;
  undefined4 local_10;
  
  local_10 = CONCAT13((char)param_3,
                      CONCAT12((char)((uint)param_3 >> 8),
                               CONCAT11((char)((uint)param_3 >> 0x10),(char)((uint)param_3 >> 0x18))
                              ));
  if ((param_2 != 0) && (0 < *(int *)(param_2 + 0x248))) {
    piVar1 = (int *)((int)*(int **)(param_2 + 0x24c) + *(int *)(param_2 + 0x248) * 5);
    do {
      piVar1 = (int *)((int)piVar1 + -5);
      if (local_10 == *piVar1) {
        __security_check_cookie
                  ((uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc ^ (uint)&stack0xfffffffc);
        return;
      }
    } while (*(int **)(param_2 + 0x24c) < piVar1);
  }
  __security_check_cookie((uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc ^ (uint)&stack0xfffffffc);
  return;
}



undefined4 __fastcall
FUN_0043ca60(int param_1,int param_2,int param_3,int param_4,int param_5,int param_6,int param_7,
            int param_8)

{
  int in_EAX;
  uint uVar1;
  uint uVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  uint uVar6;
  int iVar7;
  uint uVar8;
  uint uVar9;
  int iVar10;
  undefined4 local_8;
  
  local_8 = 1;
  if (param_3 != 0) {
    if (((((param_4 < 0) || (param_5 < 1)) || (param_6 < 0)) || ((param_7 < 0 || (param_2 < 0)))) ||
       ((param_8 < 0 || ((param_1 < 0 || (in_EAX < 0)))))) {
      FUN_0043df90("Ignoring attempt to set negative chromaticity value");
      local_8 = 0;
    }
    if (100000 - param_5 < param_4) {
      FUN_0043df90("Invalid cHRM white point");
      local_8 = 0;
    }
    if (100000 - param_7 < param_6) {
      FUN_0043df90("Invalid cHRM red point");
      local_8 = 0;
    }
    if (100000 - param_8 < param_2) {
      FUN_0043df90("Invalid cHRM green point");
      local_8 = 0;
    }
    if (100000 - in_EAX < param_1) {
      FUN_0043df90("Invalid cHRM blue point");
      local_8 = 0;
    }
    uVar2 = param_2 - param_6 & 0xffff;
    uVar4 = in_EAX - param_7 & 0xffff;
    uVar8 = uVar4 * uVar2;
    uVar1 = param_2 - param_6 >> 0x10 & 0xffff;
    uVar3 = in_EAX - param_7 >> 0x10 & 0xffff;
    uVar5 = param_8 - param_7 >> 0x10 & 0xffff;
    iVar7 = uVar3 * uVar2 + uVar4 * uVar1 + ((int)uVar8 >> 0x10 & 0xffffU);
    uVar2 = param_8 - param_7 & 0xffff;
    uVar9 = param_1 - param_6 & 0xffff;
    uVar6 = uVar9 * uVar2;
    uVar4 = param_1 - param_6 >> 0x10 & 0xffff;
    iVar10 = uVar9 * uVar5 + ((int)uVar6 >> 0x10 & 0xffffU) + uVar4 * uVar2;
    if (((iVar7 >> 0x10 & 0xffffU) + uVar3 * uVar1 != (iVar10 >> 0x10 & 0xffffU) + uVar4 * uVar5) ||
       ((iVar7 * 0x10000 | uVar8 & 0xffff) != (iVar10 * 0x10000 | uVar6 & 0xffff))) {
      return local_8;
    }
    FUN_0043df90("Ignoring attempt to set cHRM RGB triangle with zero area");
  }
  return 0;
}



undefined1 __cdecl
FUN_0043cc40(undefined4 param_1,uint param_2,int param_3,uint param_4,int param_5,uint param_6,
            int param_7,uint param_8,int param_9)

{
  int iVar1;
  undefined8 uVar2;
  ulonglong uVar3;
  ulonglong uVar4;
  ulonglong uVar5;
  int local_14;
  int local_c;
  int local_8;
  
  if (100000 < param_2) {
    return 1;
  }
  if (param_3 < 0) {
    return 1;
  }
  if ((int)(100000 - param_2) < param_3) {
    return 1;
  }
  if (100000 < param_4) {
    return 1;
  }
  if (param_5 < 0) {
    return 1;
  }
  if ((int)(100000 - param_4) < param_5) {
    return 1;
  }
  if (100000 < param_6) {
    return 1;
  }
  if (param_7 < 0) {
    return 1;
  }
  if ((int)(100000 - param_6) < param_7) {
    return 1;
  }
  if (100000 < param_8) {
    return 1;
  }
  if (param_9 < 0) {
    return 1;
  }
  if ((int)(100000 - param_8) < param_9) {
    return 1;
  }
  uVar2 = FUN_0043d3a0(param_4 - param_6,param_3 - param_7,7);
  if ((int)uVar2 != 0) {
    uVar2 = FUN_0043d3a0(param_5 - param_7,param_2 - param_6,7);
    if ((int)uVar2 != 0) {
      uVar2 = FUN_0043d3a0(param_4 - param_6,param_9 - param_7,7);
      if ((int)uVar2 != 0) {
        uVar2 = FUN_0043d3a0(param_5 - param_7,param_8 - param_6,7);
        if ((int)uVar2 != 0) {
          if (((local_8 - local_c == 0) ||
              (uVar2 = FUN_0043d3a0(param_9,local_8 - local_c,local_8 - local_c), (int)uVar2 == 0))
             || (local_14 <= param_9)) {
            return 1;
          }
          uVar2 = FUN_0043d3a0(param_3 - param_7,param_8 - param_6,7);
          if ((int)uVar2 == 0) {
            return 2;
          }
          uVar2 = FUN_0043d3a0(param_2 - param_6,param_9 - param_7,7);
          if ((int)uVar2 == 0) {
            return 2;
          }
          if (local_8 - local_c == 0) {
            return 1;
          }
          uVar2 = FUN_0043d3a0(param_9,local_8 - local_c,local_8 - local_c);
          if ((int)uVar2 == 0) {
            return 1;
          }
          if (local_c <= param_9) {
            return 1;
          }
          uVar3 = FUN_0043d410(local_14);
          uVar4 = FUN_0043d410(param_9);
          uVar5 = FUN_0043d410(local_c);
          iVar1 = ((int)uVar4 - (int)uVar3) - (int)uVar5;
          if (iVar1 < 1) {
            return 1;
          }
          if (local_14 == 0) {
            return 1;
          }
          uVar2 = FUN_0043d3a0(param_2,100000,local_14);
          if ((int)uVar2 == 0) {
            return 1;
          }
          uVar2 = FUN_0043d3a0(param_3,100000,local_14);
          if ((int)uVar2 == 0) {
            return 1;
          }
          uVar2 = FUN_0043d3a0((100000 - param_3) - param_2,100000,local_14);
          if ((int)uVar2 == 0) {
            return 1;
          }
          if (local_c == 0) {
            return 1;
          }
          uVar2 = FUN_0043d3a0(param_4,100000,local_c);
          if ((int)uVar2 == 0) {
            return 1;
          }
          uVar2 = FUN_0043d3a0(param_5,100000,local_c);
          if ((int)uVar2 == 0) {
            return 1;
          }
          uVar2 = FUN_0043d3a0((100000 - param_5) - param_4,100000,local_c);
          if ((int)uVar2 == 0) {
            return 1;
          }
          uVar2 = FUN_0043d3a0(param_6,iVar1,100000);
          if ((int)uVar2 == 0) {
            return 1;
          }
          uVar2 = FUN_0043d3a0(param_7,iVar1,100000);
          if ((int)uVar2 == 0) {
            return 1;
          }
          uVar2 = FUN_0043d3a0((100000 - param_7) - param_6,iVar1,100000);
          return '\x01' - ((int)uVar2 != 0);
        }
      }
    }
  }
  return 2;
}



undefined4 FUN_0043cf80(undefined1 param_1)

{
  undefined1 uVar1;
  undefined4 in_EAX;
  undefined3 extraout_var;
  int iVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  uint in_stack_ffffffd4;
  int in_stack_ffffffd8;
  uint in_stack_ffffffdc;
  int in_stack_ffffffe0;
  uint in_stack_ffffffe4;
  int in_stack_ffffffe8;
  uint in_stack_ffffffec;
  int in_stack_fffffff0;
  
  puVar3 = (undefined4 *)&param_1;
  puVar4 = (undefined4 *)&stack0xffffffd4;
  for (iVar2 = 8; iVar2 != 0; iVar2 += -1) {
    *puVar4 = *puVar3;
    puVar3 = puVar3 + 1;
    puVar4 = puVar4 + 1;
  }
  uVar1 = FUN_0043cc40(in_EAX,in_stack_ffffffd4,in_stack_ffffffd8,in_stack_ffffffdc,
                       in_stack_ffffffe0,in_stack_ffffffe4,in_stack_ffffffe8,in_stack_ffffffec,
                       in_stack_fffffff0);
  if (CONCAT31(extraout_var,uVar1) != 0) {
    if (CONCAT31(extraout_var,uVar1) != 1) {
      FUN_0043de50();
    }
    FUN_0043df90("extreme cHRM chunk cannot be converted to tristimulus values");
    return 0;
  }
  return 1;
}



void __cdecl FUN_0043cfd0(uint param_1,int param_2,int param_3,int param_4,int param_5,int param_6)

{
  bool bVar1;
  uint in_EAX;
  bool bVar2;
  int unaff_EDI;
  
  if (in_EAX == 0) {
    FUN_0043df90("Image width is zero in IHDR");
  }
  if (param_1 == 0) {
    FUN_0043df90("Image height is zero in IHDR");
  }
  bVar2 = *(uint *)(unaff_EDI + 0x280) < in_EAX;
  if (bVar2) {
    FUN_0043df90("Image width exceeds user limit in IHDR");
  }
  bVar1 = *(uint *)(unaff_EDI + 0x284) < param_1;
  if (bVar1) {
    FUN_0043df90("Image height exceeds user limit in IHDR");
  }
  if (0x7fffffff < in_EAX) {
    FUN_0043df90("Invalid image width in IHDR");
  }
  if (0x7fffffff < param_1) {
    FUN_0043df90("Invalid image height in IHDR");
  }
  bVar2 = 0x7fffffff < param_1 ||
          (0x7fffffff < in_EAX || (bVar1 || (bVar2 || (param_1 == 0 || in_EAX == 0))));
  if (0x1fffff8e < in_EAX) {
    FUN_0043df90("Width is too large for libpng to process pixels");
  }
  if ((((param_2 != 1) && (param_2 != 2)) && (param_2 != 4)) &&
     ((param_2 != 8 && (param_2 != 0x10)))) {
    FUN_0043df90("Invalid bit depth in IHDR");
    bVar2 = true;
  }
  if (((param_3 < 0) || (param_3 == 1)) || ((param_3 == 5 || (6 < param_3)))) {
    FUN_0043df90("Invalid color type in IHDR");
    bVar2 = true;
  }
  if (param_3 == 3) {
    if (8 < param_2) {
LAB_0043d0f6:
      FUN_0043df90("Invalid color type/bit depth combination in IHDR");
      bVar2 = true;
    }
  }
  else if ((((param_3 == 2) || (param_3 == 4)) || (param_3 == 6)) && (param_2 < 8))
  goto LAB_0043d0f6;
  if (1 < param_4) {
    FUN_0043df90("Unknown interlace method in IHDR");
    bVar2 = true;
  }
  if (param_5 != 0) {
    FUN_0043df90("Unknown compression method in IHDR");
    bVar2 = true;
  }
  if (((*(uint *)(unaff_EDI + 0x6c) & 0x1000) != 0) && (*(int *)(unaff_EDI + 600) != 0)) {
    FUN_0043df90("MNG features are not allowed in a PNG datastream");
  }
  if (param_6 != 0) {
    if ((((*(byte *)(unaff_EDI + 600) & 4) == 0) || (param_6 != 0x40)) ||
       (((*(uint *)(unaff_EDI + 0x6c) & 0x1000) != 0 || ((param_3 != 2 && (param_3 != 6)))))) {
      FUN_0043df90("Unknown filter method in IHDR");
      bVar2 = true;
    }
    if ((*(uint *)(unaff_EDI + 0x6c) & 0x1000) != 0) {
      FUN_0043df90("Invalid filter method in IHDR");
      goto LAB_0043d1ad;
    }
  }
  if (!bVar2) {
    return;
  }
LAB_0043d1ad:
  FUN_0043de50();
  return;
}



uint __cdecl FUN_0043d1c0(int param_1,uint *param_2,uint *param_3)

{
  uint uVar1;
  uint uVar2;
  uint uVar3;
  uint unaff_EDI;
  
  uVar1 = *param_2;
  uVar3 = *param_3;
  if (uVar3 < unaff_EDI) {
    do {
      if (false) break;
      switch(*(undefined1 *)(uVar3 + param_1)) {
      case 0x2b:
        uVar2 = 4;
        break;
      default:
        goto switchD_0043d1fa_caseD_2c;
      case 0x2d:
        uVar2 = 0x84;
        break;
      case 0x2e:
        uVar2 = 0x10;
        break;
      case 0x30:
        uVar2 = 8;
        break;
      case 0x31:
      case 0x32:
      case 0x33:
      case 0x34:
      case 0x35:
      case 0x36:
      case 0x37:
      case 0x38:
      case 0x39:
        uVar2 = 0x108;
        break;
      case 0x45:
      case 0x65:
        uVar2 = 0x20;
      }
      if (false) break;
      switch(((uVar2 & 0x3c) - 4) + (uVar1 & 3)) {
      case 0:
        if ((uVar1 & 0x3c) != 0) goto switchD_0043d1fa_caseD_2c;
        uVar1 |= uVar2;
        break;
      default:
        goto switchD_0043d1fa_caseD_2c;
      case 2:
        if ((uVar1 & 0x3c) != 0) goto switchD_0043d1fa_caseD_2c;
        uVar1 |= 4;
        break;
      case 4:
        if ((uVar1 & 0x10) != 0) {
          uVar1 = uVar1 & 0x1c0 | 0x11;
        }
      case 5:
        uVar1 |= uVar2 | 0x40;
        break;
      case 6:
        uVar1 |= 0x48;
        break;
      case 0xc:
        if ((uVar1 & 0x10) != 0) goto switchD_0043d1fa_caseD_2c;
        if ((uVar1 & 8) == 0) {
          uVar1 = uVar1 & 0x1c0 | uVar2 | 1;
        }
        else {
          uVar1 |= uVar2;
        }
        break;
      case 0x1c:
      case 0x1d:
        if ((uVar1 & 8) == 0) goto switchD_0043d1fa_caseD_2c;
        uVar1 = uVar1 & 0x1c0 | 2;
      }
      uVar3 += 1;
    } while (uVar3 < unaff_EDI);
switchD_0043d1fa_caseD_2c:
  }
  *param_2 = uVar1;
  *param_3 = uVar3;
  return uVar1 >> 3 & 1;
}



uint FUN_0043d350(void)

{
  uint in_EAX;
  uint uVar1;
  int unaff_ESI;
  uint local_c;
  uint local_8;
  
  local_c = 0;
  local_8 = 0;
  uVar1 = FUN_0043d1c0(unaff_ESI,&local_c,&local_8);
  if ((uVar1 != 0) && ((local_8 == in_EAX || (*(char *)(local_8 + unaff_ESI) == '\0')))) {
    return local_c;
  }
  return 0;
}



undefined8 __cdecl FUN_0043d3a0(int param_1,int param_2,int param_3)

{
  undefined4 extraout_ECX;
  undefined4 in_EDX;
  uint extraout_EDX;
  undefined4 *unaff_ESI;
  ulonglong uVar1;
  double dVar2;
  
  if ((param_1 == 0) || (param_2 == 0)) {
    *unaff_ESI = 0;
    return CONCAT44(in_EDX,1);
  }
  dVar2 = floor(((double)param_1 * (double)param_2) / (double)param_3 + 0.5);
  if ((dVar2 <= 2147483647.0) && (!NAN(dVar2) && -2147483648.0 < dVar2 != (dVar2 == -2147483648.0)))
  {
    uVar1 = FUN_0045db50(extraout_ECX,extraout_EDX);
    *unaff_ESI = (int)uVar1;
    return CONCAT44((int)(uVar1 >> 0x20),1);
  }
  return (ulonglong)extraout_EDX << 0x20;
}



ulonglong __cdecl FUN_0043d410(int param_1)

{
  undefined4 extraout_ECX;
  uint extraout_EDX;
  ulonglong uVar1;
  double dVar2;
  
  dVar2 = floor(10000000000.0 / (double)param_1 + 0.5);
  if ((dVar2 <= 2147483647.0) && (!NAN(dVar2) && -2147483648.0 < dVar2 != (dVar2 == -2147483648.0)))
  {
    uVar1 = FUN_0045db50(extraout_ECX,extraout_EDX);
    return uVar1;
  }
  return (ulonglong)extraout_EDX << 0x20;
}



ulonglong __cdecl FUN_0043d460(int param_1,int param_2)

{
  undefined4 extraout_ECX;
  uint extraout_EDX;
  ulonglong uVar1;
  double dVar2;
  
  dVar2 = floor((double)param_1 * 1e-05 * (double)param_2 + 0.5);
  if ((dVar2 <= 2147483647.0) && (!NAN(dVar2) && -2147483648.0 < dVar2 != (dVar2 == -2147483648.0)))
  {
    uVar1 = FUN_0045db50(extraout_ECX,extraout_EDX);
    return uVar1;
  }
  return (ulonglong)extraout_EDX << 0x20;
}



ulonglong __cdecl FUN_0043d4b0(int param_1,int param_2)

{
  undefined4 extraout_ECX;
  uint extraout_EDX;
  ulonglong uVar1;
  double dVar2;
  
  dVar2 = floor((1e+15 / (double)param_1) / (double)param_2 + 0.5);
  if ((dVar2 <= 2147483647.0) && (!NAN(dVar2) && -2147483648.0 < dVar2 != (dVar2 == -2147483648.0)))
  {
    uVar1 = FUN_0045db50(extraout_ECX,extraout_EDX);
    return uVar1;
  }
  return (ulonglong)extraout_EDX << 0x20;
}



void FUN_0043d500(void)

{
  int in_EAX;
  float10 fVar1;
  
  if (in_EAX - 1U < 0xfe) {
    fVar1 = (float10)_CIpow();
    floor((double)(fVar1 * (float10)255.0 + (float10)0.5));
  }
  return;
}



void FUN_0043d570(void)

{
  int in_EAX;
  float10 fVar1;
  
  if (in_EAX - 1U < 0xfffe) {
    fVar1 = (float10)_CIpow();
    floor((double)(fVar1 * (float10)65535.0 + (float10)0.5));
  }
  return;
}



void __cdecl FUN_0043d5e0(void *param_1,undefined4 *param_2,int param_3,int param_4)

{
  code *pcVar1;
  char cVar2;
  void *pvVar3;
  void *pvVar4;
  uint uVar5;
  uint uVar6;
  uint uVar7;
  uint uVar8;
  float10 fVar9;
  double dVar10;
  undefined2 local_14;
  
  cVar2 = (char)param_3;
  uVar6 = 1 << (8U - cVar2 & 0x1f);
  pvVar3 = FUN_0043e350(param_1);
  uVar8 = 0;
  *param_2 = pvVar3;
  if (uVar6 == 0) {
    return;
  }
  do {
    if (param_1 == NULL) {
      pvVar4 = NULL;
    }
    else {
      if (*(code **)((int)param_1 + 0x264) == NULL) {
        pvVar4 = malloc(0x200);
      }
      else {
        pvVar4 = (void *)(**(code **)((int)param_1 + 0x264))(param_1);
      }
      if ((pvVar4 == NULL) && ((*(uint *)((int)param_1 + 0x70) & 0x100000) == 0)) {
        FUN_0043de50();
        pcVar1 = (code *)swi(3);
        (*pcVar1)();
        return;
      }
    }
    uVar7 = 0;
    *(void **)((int)pvVar3 + uVar8 * 4) = pvVar4;
    if (param_4 - 95000U < 0x2711) {
      do {
        uVar5 = (uVar7 << (8U - cVar2 & 0x1f)) + uVar8;
        if (param_3 != 0) {
          uVar5 = (uVar5 * 0xffff + (1 << (0xfU - cVar2 & 0x1f))) /
                  ((1 << (0x10U - cVar2 & 0x1f)) - 1U);
        }
        *(short *)((int)pvVar4 + uVar7 * 2) = (short)uVar5;
        uVar7 += 1;
      } while (uVar7 < 0x100);
    }
    else {
      do {
        fVar9 = (float10)_CIpow();
        dVar10 = floor((double)(fVar9 * (float10)65535.0 + (float10)0.5));
        uVar7 += 1;
        local_14 = (undefined2)(int)ROUND(dVar10);
        *(undefined2 *)((int)pvVar4 + uVar7 * 2 + -2) = local_14;
      } while (uVar7 < 0x100);
    }
    uVar8 += 1;
  } while (uVar8 < uVar6);
  return;
}



uint __cdecl FUN_0043d780(undefined4 *param_1,byte param_2)

{
  void *in_EAX;
  void *pvVar1;
  void *pvVar2;
  byte bVar3;
  uint uVar4;
  char *pcVar5;
  uint uVar6;
  char *pcVar7;
  uint uVar8;
  uint uVar9;
  float10 fVar10;
  double dVar11;
  uint local_1c;
  void *local_c;
  
  bVar3 = 8 - param_2;
  uVar8 = 1 << (bVar3 & 0x1f);
  pvVar1 = FUN_0043e350(in_EAX);
  uVar6 = 0;
  *param_1 = pvVar1;
  if (uVar8 != 0) {
    do {
      if (in_EAX == NULL) {
        pvVar2 = NULL;
      }
      else {
        if (*(code **)((int)in_EAX + 0x264) == NULL) {
          pvVar2 = malloc(0x200);
        }
        else {
          pvVar2 = (void *)(**(code **)((int)in_EAX + 0x264))();
        }
        if ((pvVar2 == NULL) && ((*(uint *)((int)in_EAX + 0x70) & 0x100000) == 0)) {
          pcVar7 = s_Out_of_Memory_0046968c;
          pvVar2 = in_EAX;
          FUN_0043de50();
          goto LAB_0043d8ad;
        }
      }
      *(void **)((int)pvVar1 + uVar6 * 4) = pvVar2;
      uVar6 += 1;
    } while (uVar6 < uVar8);
  }
  pcVar7 = NULL;
  local_c = NULL;
  do {
    local_1c = (int)local_c * 0x101 & 0xffff;
    pvVar2 = (void *)(local_1c + 0x80);
    in_EAX = local_c;
    if (local_1c + 0x7f < 0xfffe) {
      fVar10 = (float10)_CIpow();
      dVar11 = floor((double)(fVar10 * (float10)65535.0 + (float10)0.5));
      pvVar2 = (void *)(int)ROUND(dVar11);
    }
LAB_0043d8ad:
    uVar4 = ((uint)pvVar2 & 0xffff) * ((1 << (0x10 - param_2 & 0x1f)) + -1) + 0x8000;
    uVar6 = uVar4 * -0x7fff7fff;
    pcVar5 = (char *)(uVar4 / 0xffff + 1);
    if (pcVar7 < pcVar5) {
      uVar6 = 0xff >> (param_2 & 0x1f);
      do {
        uVar4 = (uint)pcVar7 >> (bVar3 & 0x1f);
        uVar9 = uVar6 & (uint)pcVar7;
        pcVar7 = pcVar7 + 1;
        *(undefined2 *)(*(int *)((int)pvVar1 + uVar9 * 4) + uVar4 * 2) = (undefined2)local_1c;
        in_EAX = local_c;
      } while (pcVar7 < pcVar5);
    }
    local_c = (void *)((int)in_EAX + 1);
  } while (local_c < (void *)0xff);
  if (pcVar7 < (char *)(uVar8 << 8)) {
    uVar6 = 0xff >> (param_2 & 0x1f);
    do {
      uVar9 = (uint)pcVar7 >> (bVar3 & 0x1f);
      uVar4 = uVar6 & (uint)pcVar7;
      pcVar7 = pcVar7 + 1;
      *(undefined2 *)(*(int *)((int)pvVar1 + uVar4 * 4) + uVar9 * 2) = 0xffff;
    } while (pcVar7 < (char *)(uVar8 << 8));
  }
  return uVar6;
}



void __cdecl FUN_0043d940(undefined4 *param_1,int param_2)

{
  undefined1 *puVar1;
  void *in_EAX;
  void *pvVar2;
  uint uVar3;
  float10 fVar4;
  double dVar5;
  undefined1 local_c;
  
  if (in_EAX == NULL) {
    pvVar2 = NULL;
  }
  else {
    if (*(code **)((int)in_EAX + 0x264) == NULL) {
      pvVar2 = malloc(0x100);
    }
    else {
      pvVar2 = (void *)(**(code **)((int)in_EAX + 0x264))();
    }
    if ((pvVar2 == NULL) && ((*(uint *)((int)in_EAX + 0x70) & 0x100000) == 0)) {
      FUN_0043de50();
      pvVar2 = in_EAX;
    }
  }
  *param_1 = pvVar2;
  if (10000 < param_2 - 95000U) {
    uVar3 = 0;
    do {
      puVar1 = (undefined1 *)((int)pvVar2 + uVar3);
      if (puVar1 + (-1 - (int)pvVar2) < (undefined1 *)0xfe) {
        fVar4 = (float10)_CIpow();
        dVar5 = floor((double)(fVar4 * (float10)255.0 + (float10)0.5));
        local_c = (undefined1)(int)ROUND(dVar5);
      }
      else {
        local_c = (undefined1)uVar3;
      }
      uVar3 += 1;
      *puVar1 = local_c;
    } while (uVar3 < 0x100);
    return;
  }
  uVar3 = 0;
  do {
    *(char *)((int)pvVar2 + uVar3) = (char)uVar3;
    uVar3 += 1;
  } while (uVar3 < 0x100);
  return;
}



void FUN_0043da50(void)

{
  void *pvVar1;
  int iVar2;
  int unaff_ESI;
  int iVar3;
  
  if (*(void **)(unaff_ESI + 0x180) != NULL) {
    if (*(code **)(unaff_ESI + 0x268) == NULL) {
      free(*(void **)(unaff_ESI + 0x180));
    }
    else {
      (**(code **)(unaff_ESI + 0x268))();
    }
  }
  iVar3 = 0;
  *(undefined4 *)(unaff_ESI + 0x180) = 0;
  if (*(int *)(unaff_ESI + 0x184) != 0) {
    iVar2 = 1 << (8U - (char)*(undefined4 *)(unaff_ESI + 0x174) & 0x1f);
    if (0 < iVar2) {
      do {
        pvVar1 = *(void **)(*(int *)(unaff_ESI + 0x184) + iVar3 * 4);
        if (pvVar1 != NULL) {
          if (*(code **)(unaff_ESI + 0x268) == NULL) {
            free(pvVar1);
          }
          else {
            (**(code **)(unaff_ESI + 0x268))();
          }
        }
        iVar3 += 1;
      } while (iVar3 < iVar2);
    }
    if (*(void **)(unaff_ESI + 0x184) != NULL) {
      if (*(code **)(unaff_ESI + 0x268) == NULL) {
        free(*(void **)(unaff_ESI + 0x184));
      }
      else {
        (**(code **)(unaff_ESI + 0x268))();
      }
    }
    *(undefined4 *)(unaff_ESI + 0x184) = 0;
  }
  if (*(void **)(unaff_ESI + 0x188) != NULL) {
    if (*(code **)(unaff_ESI + 0x268) == NULL) {
      free(*(void **)(unaff_ESI + 0x188));
    }
    else {
      (**(code **)(unaff_ESI + 0x268))();
    }
  }
  *(undefined4 *)(unaff_ESI + 0x188) = 0;
  if (*(void **)(unaff_ESI + 0x18c) != NULL) {
    if (*(code **)(unaff_ESI + 0x268) == NULL) {
      free(*(void **)(unaff_ESI + 0x18c));
    }
    else {
      (**(code **)(unaff_ESI + 0x268))();
    }
  }
  iVar3 = 0;
  *(undefined4 *)(unaff_ESI + 0x18c) = 0;
  if (*(int *)(unaff_ESI + 400) != 0) {
    iVar2 = 1 << (8U - (char)*(undefined4 *)(unaff_ESI + 0x174) & 0x1f);
    if (0 < iVar2) {
      do {
        pvVar1 = *(void **)(*(int *)(unaff_ESI + 400) + iVar3 * 4);
        if (pvVar1 != NULL) {
          if (*(code **)(unaff_ESI + 0x268) == NULL) {
            free(pvVar1);
          }
          else {
            (**(code **)(unaff_ESI + 0x268))();
          }
        }
        iVar3 += 1;
      } while (iVar3 < iVar2);
    }
    if (*(void **)(unaff_ESI + 400) != NULL) {
      if (*(code **)(unaff_ESI + 0x268) == NULL) {
        free(*(void **)(unaff_ESI + 400));
      }
      else {
        (**(code **)(unaff_ESI + 0x268))();
      }
    }
    *(undefined4 *)(unaff_ESI + 400) = 0;
  }
  if (*(int *)(unaff_ESI + 0x194) != 0) {
    iVar3 = 1 << (8U - (char)*(undefined4 *)(unaff_ESI + 0x174) & 0x1f);
    iVar2 = 0;
    if (0 < iVar3) {
      do {
        pvVar1 = *(void **)(*(int *)(unaff_ESI + 0x194) + iVar2 * 4);
        if (pvVar1 != NULL) {
          if (*(code **)(unaff_ESI + 0x268) == NULL) {
            free(pvVar1);
          }
          else {
            (**(code **)(unaff_ESI + 0x268))();
          }
        }
        iVar2 += 1;
      } while (iVar2 < iVar3);
    }
    if (*(void **)(unaff_ESI + 0x194) != NULL) {
      if (*(code **)(unaff_ESI + 0x268) != NULL) {
        (**(code **)(unaff_ESI + 0x268))();
        *(undefined4 *)(unaff_ESI + 0x194) = 0;
        return;
      }
      free(*(void **)(unaff_ESI + 0x194));
    }
    *(undefined4 *)(unaff_ESI + 0x194) = 0;
  }
  return;
}



void __cdecl FUN_0043dc60(int param_1)

{
  byte bVar1;
  void *in_EAX;
  int iVar2;
  uint uVar3;
  uint uVar4;
  ulonglong uVar5;
  
  if ((*(int *)((int)in_EAX + 0x180) != 0) || (*(int *)((int)in_EAX + 0x184) != 0)) {
    FUN_0043df90("gamma table being rebuilt");
    FUN_0043da50();
  }
  if (param_1 < 9) {
    if (*(int *)((int)in_EAX + 0x17c) < 1) {
      iVar2 = 100000;
    }
    else {
      uVar5 = FUN_0043d4b0(*(int *)((int)in_EAX + 0x178),*(int *)((int)in_EAX + 0x17c));
      iVar2 = (int)uVar5;
    }
    FUN_0043d940((undefined4 *)((int)in_EAX + 0x180),iVar2);
    if ((*(uint *)((int)in_EAX + 0x74) & 0x600080) != 0) {
      uVar5 = FUN_0043d410(*(int *)((int)in_EAX + 0x178));
      FUN_0043d940((undefined4 *)((int)in_EAX + 0x18c),(int)uVar5);
      if (*(int *)((int)in_EAX + 0x17c) < 1) {
        iVar2 = *(int *)((int)in_EAX + 0x178);
      }
      else {
        uVar5 = FUN_0043d410(*(int *)((int)in_EAX + 0x17c));
        iVar2 = (int)uVar5;
      }
      FUN_0043d940((undefined4 *)((int)in_EAX + 0x188),iVar2);
      return;
    }
  }
  else {
    if ((*(byte *)((int)in_EAX + 0x13b) & 2) == 0) {
      bVar1 = *(byte *)((int)in_EAX + 0x19b);
    }
    else {
      bVar1 = *(byte *)((int)in_EAX + 0x198);
      if (*(byte *)((int)in_EAX + 0x198) < *(byte *)((int)in_EAX + 0x199)) {
        bVar1 = *(byte *)((int)in_EAX + 0x199);
      }
      if (bVar1 < *(byte *)((int)in_EAX + 0x19a)) {
        bVar1 = *(byte *)((int)in_EAX + 0x19a);
      }
    }
    if ((byte)(bVar1 - 1) < 0xf) {
      bVar1 = 0x10 - bVar1;
    }
    else {
      bVar1 = 0;
    }
    uVar3 = *(uint *)((int)in_EAX + 0x74) & 0x4000400;
    if ((uVar3 == 0) || (4 < bVar1)) {
      if (8 < bVar1) {
        bVar1 = 8;
      }
    }
    else {
      bVar1 = 5;
    }
    uVar4 = (uint)bVar1;
    iVar2 = *(int *)((int)in_EAX + 0x17c);
    *(uint *)((int)in_EAX + 0x174) = uVar4;
    if (uVar3 == 0) {
      if (iVar2 < 1) {
        iVar2 = 100000;
      }
      else {
        uVar5 = FUN_0043d4b0(*(int *)((int)in_EAX + 0x178),iVar2);
        iVar2 = (int)uVar5;
      }
      FUN_0043d5e0(in_EAX,(undefined4 *)((int)in_EAX + 0x184),uVar4,iVar2);
    }
    else {
      if (0 < iVar2) {
        FUN_0043d460(*(int *)((int)in_EAX + 0x178),iVar2);
      }
      FUN_0043d780((undefined4 *)((int)in_EAX + 0x184),bVar1);
    }
    if ((*(uint *)((int)in_EAX + 0x74) & 0x600080) != 0) {
      uVar5 = FUN_0043d410(*(int *)((int)in_EAX + 0x178));
      FUN_0043d5e0(in_EAX,(undefined4 *)((int)in_EAX + 0x194),uVar4,(int)uVar5);
      if (*(int *)((int)in_EAX + 0x17c) < 1) {
        iVar2 = *(int *)((int)in_EAX + 0x178);
      }
      else {
        uVar5 = FUN_0043d410(*(int *)((int)in_EAX + 0x17c));
        iVar2 = (int)uVar5;
      }
      FUN_0043d5e0(in_EAX,(undefined4 *)((int)in_EAX + 400),uVar4,iVar2);
    }
  }
  return;
}



void FUN_0043de50(void)

{
  code *pcVar1;
  int in_EAX;
  
  if ((in_EAX != 0) && (*(code **)(in_EAX + 0x44) != NULL)) {
    (**(code **)(in_EAX + 0x44))();
  }
  FUN_0043e2f0();
  pcVar1 = (code *)swi(3);
  (*pcVar1)();
  return;
}



char * __thiscall FUN_0043de70(void *this,char *param_1,int param_2)

{
  bool bVar1;
  uint in_EAX;
  char *pcVar2;
  uint uVar3;
  int local_c;
  int local_8;
  
  pcVar2 = (char *)((int)this + -1);
  bVar1 = false;
  local_c = 0;
  local_8 = 1;
  *pcVar2 = '\0';
  while ((param_1 < pcVar2 && ((in_EAX != 0 || (local_c < local_8))))) {
    switch(param_2) {
    case 2:
      local_8 = 2;
    case 1:
      uVar3 = in_EAX / 10;
      pcVar2 = pcVar2 + -1;
      *pcVar2 = "0123456789ABCDEF"[in_EAX % 10];
      break;
    case 4:
      local_8 = 2;
    case 3:
      pcVar2 = pcVar2 + -1;
      *pcVar2 = "0123456789ABCDEF"[in_EAX & 0xf];
      uVar3 = in_EAX >> 4;
      break;
    case 5:
      local_8 = 5;
      if ((bVar1) || (in_EAX != (in_EAX / 10) * 10)) {
        pcVar2 = pcVar2 + -1;
        *pcVar2 = "0123456789ABCDEF"[in_EAX % 10];
        bVar1 = true;
      }
      uVar3 = in_EAX / 10;
      break;
    default:
      uVar3 = 0;
    }
    local_c += 1;
    in_EAX = uVar3;
    if ((param_2 == 5) && (local_c == 5)) {
      if (pcVar2 <= param_1) {
        return pcVar2;
      }
      if (bVar1) {
        pcVar2 = pcVar2 + -1;
        *pcVar2 = '.';
      }
      else if (uVar3 == 0) {
        pcVar2 = pcVar2 + -1;
        *pcVar2 = '0';
      }
    }
  }
  return pcVar2;
}



void __fastcall FUN_0043df90(char *param_1)

{
  int in_EAX;
  int iVar1;
  char *pcVar2;
  FILE *pFVar3;
  char *_Format;
  char *_Format_00;
  
  iVar1 = 0;
  if (in_EAX != 0) {
    if (*param_1 == '#') {
      iVar1 = 1;
      do {
        if (param_1[iVar1] == ' ') break;
        if (param_1[iVar1 + 1] == ' ') {
          iVar1 += 1;
          break;
        }
        iVar1 += 2;
      } while (iVar1 < 0xf);
    }
    if (*(code **)(in_EAX + 0x48) != NULL) {
      (**(code **)(in_EAX + 0x48))();
      return;
    }
  }
  pcVar2 = param_1 + iVar1;
  _Format = "libpng warning: %s";
  pFVar3 = __iob_func();
  fprintf(pFVar3 + 2,_Format,pcVar2);
  _Format_00 = "\n";
  pFVar3 = __iob_func();
  fprintf(pFVar3 + 2,_Format_00);
  return;
}



void __fastcall FUN_0043e000(int param_1,int param_2)

{
  int iVar1;
  char *pcVar2;
  uint uVar3;
  int iVar4;
  char local_20 [24];
  uint local_8;
  
  local_8 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  pcVar2 = FUN_0043de70(&local_8,local_20,1);
  if (param_1 - 1U < 8) {
    iVar1 = param_1 * 0x20 + -0x20 + param_2;
    uVar3 = 0;
    if (iVar1 != 0) {
      if ((pcVar2 != NULL) && (*pcVar2 != '\0')) {
        iVar4 = iVar1 - (int)pcVar2;
        do {
          if (0x1e < uVar3) break;
          pcVar2[iVar4] = *pcVar2;
          pcVar2 = pcVar2 + 1;
          uVar3 += 1;
        } while (*pcVar2 != '\0');
      }
      *(undefined1 *)(iVar1 + uVar3) = 0;
    }
  }
  __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __fastcall FUN_0043e080(int param_1,int param_2,int param_3)

{
  int iVar1;
  char *pcVar2;
  uint uVar3;
  int unaff_EBX;
  int iVar4;
  char local_20 [24];
  uint local_8;
  
  local_8 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  pcVar2 = FUN_0043de70(&local_8,local_20,param_1);
  if ((param_2 < 0) && (local_20 < pcVar2)) {
    pcVar2 = pcVar2 + -1;
    *pcVar2 = '-';
  }
  if (param_3 - 1U < 8) {
    iVar1 = param_3 * 0x20 + -0x20 + unaff_EBX;
    uVar3 = 0;
    if (iVar1 != 0) {
      if ((pcVar2 != NULL) && (*pcVar2 != '\0')) {
        iVar4 = iVar1 - (int)pcVar2;
        do {
          if (0x1e < uVar3) break;
          pcVar2[iVar4] = *pcVar2;
          pcVar2 = pcVar2 + 1;
          uVar3 += 1;
        } while (*pcVar2 != '\0');
      }
      *(undefined1 *)(iVar1 + uVar3) = 0;
    }
  }
  __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __cdecl FUN_0043e110(undefined4 param_1,int param_2,char *param_3)

{
  char *pcVar1;
  char cVar2;
  int iVar3;
  char *pcVar4;
  uint uVar5;
  char cVar6;
  char local_c8 [192];
  uint local_8;
  
  local_8 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  uVar5 = 0;
  do {
    cVar2 = *param_3;
    if (cVar2 == '\0') break;
    if (((param_2 == 0) || (cVar2 != '@')) || (param_3[1] == '\0')) {
LAB_0043e1ad:
      local_c8[uVar5] = cVar2;
      uVar5 += 1;
    }
    else {
      cVar2 = param_3[1];
      param_3 = param_3 + 1;
      iVar3 = 0;
      if (cVar2 != '1') {
        cVar6 = '1';
        do {
          if (cVar6 == '\0') break;
          cVar6 = "123456789"[iVar3 + 1];
          iVar3 += 1;
        } while (cVar6 != cVar2);
        if (7 < iVar3) goto LAB_0043e1ad;
      }
      pcVar4 = (char *)(iVar3 * 0x20 + param_2);
      pcVar1 = pcVar4 + 0x20;
      for (; ((uVar5 < 0xbf && (*pcVar4 != '\0')) && (pcVar4 < pcVar1)); pcVar4 = pcVar4 + 1) {
        local_c8[uVar5] = *pcVar4;
        uVar5 += 1;
      }
    }
    param_3 = param_3 + 1;
  } while (uVar5 < 0xbf);
  local_c8[uVar5] = '\0';
  FUN_0043df90(local_c8);
  __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void FUN_0043e1f0(void)

{
  char cVar1;
  uint uVar2;
  int in_EAX;
  int iVar3;
  uint uVar4;
  uint uVar5;
  int unaff_EBX;
  int unaff_ESI;
  int iVar6;
  
  uVar2 = *(uint *)(in_EAX + 0x100);
  iVar3 = 0;
  iVar6 = 0x18;
  do {
    uVar4 = uVar2 >> ((byte)iVar6 & 0x1f);
    iVar6 += -8;
    uVar5 = uVar4 & 0xff;
    if ((uVar5 - 0x41 < 0x3a) && ((uVar5 < 0x5b || (0x60 < uVar5)))) {
      *(char *)(iVar3 + unaff_ESI) = (char)uVar4;
      iVar3 += 1;
    }
    else {
      *(undefined1 *)(iVar3 + unaff_ESI) = 0x5b;
      *(byte *)(iVar3 + 1 + unaff_ESI) = s__0046282b[((int)uVar5 >> 4) + 1];
      *(byte *)(iVar3 + 2 + unaff_ESI) = s__0046282b[(uVar4 & 0xf) + 1];
      *(undefined1 *)(iVar3 + 3 + unaff_ESI) = 0x5d;
      iVar3 += 4;
    }
  } while (-1 < iVar6);
  if (unaff_EBX != 0) {
    iVar6 = 0;
    *(undefined2 *)(iVar3 + unaff_ESI) = 0x203a;
    iVar3 += 2;
    while (*(char *)(iVar6 + unaff_EBX) != '\0') {
      *(char *)(iVar3 + unaff_ESI) = *(char *)(iVar6 + unaff_EBX);
      cVar1 = *(char *)(iVar6 + 1 + unaff_EBX);
      if (cVar1 == '\0') {
        *(undefined1 *)(iVar3 + 1 + unaff_ESI) = 0;
        return;
      }
      *(char *)(iVar3 + 1 + unaff_ESI) = cVar1;
      cVar1 = *(char *)(iVar6 + 2 + unaff_EBX);
      if (cVar1 == '\0') {
        iVar3 += 2;
        break;
      }
      *(char *)(iVar3 + 2 + unaff_ESI) = cVar1;
      iVar6 += 3;
      iVar3 += 3;
      if (0x3e < iVar6) {
        *(undefined1 *)(iVar3 + unaff_ESI) = 0;
        return;
      }
    }
  }
  *(undefined1 *)(iVar3 + unaff_ESI) = 0;
  return;
}



void FUN_0043e2c0(void)

{
  code *pcVar1;
  int unaff_EDI;
  
  if (unaff_EDI == 0) {
    FUN_0043de50();
  }
  FUN_0043e1f0();
  FUN_0043de50();
  pcVar1 = (code *)swi(3);
  (*pcVar1)();
  return;
}



void FUN_0043e2f0(void)

{
  char *in_EAX;
  FILE *pFVar1;
  int unaff_EDI;
  char *_Format;
  char *_Format_00;
  
  if (in_EAX == NULL) {
    in_EAX = "undefined";
  }
  _Format = "libpng error: %s";
  pFVar1 = __iob_func();
  fprintf(pFVar1 + 2,_Format,in_EAX);
  _Format_00 = "\n";
  pFVar1 = __iob_func();
  fprintf(pFVar1 + 2,_Format_00);
  if ((unaff_EDI != 0) && (*(code **)(unaff_EDI + 0x40) != NULL)) {
    (**(code **)(unaff_EDI + 0x40))();
  }
                    // WARNING: Subroutine does not return
  ExitProcess(0);
}



void * __fastcall FUN_0043e350(void *param_1)

{
  char *in_EAX;
  void *_Dst;
  
  if ((param_1 != NULL) && (in_EAX != NULL)) {
    if (*(code **)((int)param_1 + 0x264) == NULL) {
      _Dst = malloc((size_t)in_EAX);
    }
    else {
      _Dst = (void *)(**(code **)((int)param_1 + 0x264))(param_1);
    }
    if ((_Dst == NULL) && ((*(uint *)((int)param_1 + 0x70) & 0x100000) == 0)) {
      in_EAX = s_Out_of_Memory_0046968c;
      FUN_0043de50();
      _Dst = param_1;
    }
    if (_Dst != NULL) {
      memset(_Dst,0,(size_t)in_EAX);
    }
    return _Dst;
  }
  return NULL;
}



void * __fastcall FUN_0043e3b0(size_t param_1)

{
  void *pvVar1;
  void *unaff_EDI;
  
  if ((unaff_EDI == NULL) || (param_1 == 0)) {
    pvVar1 = NULL;
  }
  else {
    if (*(code **)((int)unaff_EDI + 0x264) == NULL) {
      pvVar1 = malloc(param_1);
    }
    else {
      pvVar1 = (void *)(**(code **)((int)unaff_EDI + 0x264))();
    }
    if ((pvVar1 == NULL) && ((*(uint *)((int)unaff_EDI + 0x70) & 0x100000) == 0)) {
      FUN_0043de50();
      return unaff_EDI;
    }
  }
  return pvVar1;
}



void __fastcall FUN_0043e3f0(int param_1,void *param_2)

{
  if ((param_1 != 0) && (param_2 != NULL)) {
    if (*(code **)(param_1 + 0x268) != NULL) {
      (**(code **)(param_1 + 0x268))(param_1);
      return;
    }
    free(param_2);
  }
  return;
}



void * __fastcall FUN_0043e420(size_t param_1)

{
  void *pvVar1;
  char *pcVar2;
  int unaff_EDI;
  
  if (unaff_EDI == 0) {
    return NULL;
  }
  pcVar2 = *(char **)(unaff_EDI + 0x70);
  *(uint *)(unaff_EDI + 0x70) = (uint)pcVar2 | 0x100000;
  if (param_1 != 0) {
    if (*(code **)(unaff_EDI + 0x264) == NULL) {
      pvVar1 = malloc(param_1);
    }
    else {
      pvVar1 = (void *)(**(code **)(unaff_EDI + 0x264))();
    }
    if ((pvVar1 != NULL) || ((*(uint *)(unaff_EDI + 0x70) & 0x100000) != 0)) goto LAB_0043e46f;
    pcVar2 = s_Out_of_Memory_0046968c;
    FUN_0043de50();
  }
  pvVar1 = NULL;
LAB_0043e46f:
  *(char **)(unaff_EDI + 0x70) = pcVar2;
  return pvVar1;
}



void __cdecl FUN_0043e480(int param_1,void *param_2,size_t param_3)

{
  size_t sVar1;
  
  if ((param_1 != 0) &&
     (sVar1 = fread(param_2,1,param_3,*(FILE **)(param_1 + 0x58)), sVar1 != param_3)) {
    FUN_0043de50();
  }
  return;
}



void FUN_0043e4c0(void)

{
  int unaff_ESI;
  
  if (unaff_ESI != 0) {
    *(undefined4 *)(unaff_ESI + 0x58) = 0;
    *(code **)(unaff_ESI + 0x54) = FUN_0043e480;
    if (*(int *)(unaff_ESI + 0x50) != 0) {
      *(undefined4 *)(unaff_ESI + 0x50) = 0;
      FUN_0043df90("Can\'t set both read_data_fn and write_data_fn in the same structure");
    }
    *(undefined4 *)(unaff_ESI + 0x168) = 0;
  }
  return;
}



uint __fastcall FUN_0043e500(undefined1 *param_1)

{
  uint uVar1;
  
  uVar1 = CONCAT31(CONCAT21(CONCAT11(*param_1,param_1[1]),param_1[2]),param_1[3]);
  if (0x7fffffff < uVar1) {
    uVar1 = 0xffffffff;
  }
  return uVar1;
}



void __cdecl FUN_0043e530(int param_1)

{
  code *pcVar1;
  int iVar2;
  int iVar3;
  undefined4 extraout_ECX;
  undefined4 extraout_ECX_00;
  uint uVar4;
  int unaff_EDI;
  
  if (*(byte *)(unaff_EDI + 0x141) < 8) {
    uVar4 = (uint)*(byte *)(unaff_EDI + 0x141);
    *(undefined4 *)(unaff_EDI + 0x2ac) = 0x11;
    if (*(code **)(unaff_EDI + 0x54) == NULL) {
      FUN_0043de50();
      pcVar1 = (code *)swi(3);
      (*pcVar1)();
      return;
    }
    (**(code **)(unaff_EDI + 0x54))();
    iVar2 = param_1 + 0x20;
    *(undefined1 *)(unaff_EDI + 0x141) = 8;
    iVar3 = iVar2;
    FUN_0043bf50(extraout_ECX,uVar4,iVar2,-uVar4 + 8);
    if (iVar3 != 0) {
      if (uVar4 < 4) {
        FUN_0043bf50(extraout_ECX_00,uVar4,iVar2,-uVar4 + 4);
        if (iVar2 != 0) {
          FUN_0043de50();
        }
      }
      FUN_0043de50();
    }
    if (uVar4 < 3) {
      *(uint *)(unaff_EDI + 0x6c) = *(uint *)(unaff_EDI + 0x6c) | 0x1000;
    }
  }
  return;
}



void __fastcall FUN_0043e5e0(int param_1)

{
  code *pcVar1;
  uint uVar2;
  uint uVar3;
  int iVar4;
  uint uVar5;
  uint *puVar6;
  uint local_18;
  undefined1 local_10;
  undefined1 local_f;
  undefined1 local_e;
  undefined1 local_d;
  byte local_c;
  undefined1 local_b;
  undefined1 local_a;
  undefined1 local_9;
  uint local_8;
  
  local_8 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  *(undefined4 *)(param_1 + 0x2ac) = 0x21;
  if (*(code **)(param_1 + 0x54) == NULL) goto LAB_0043e73b;
  (**(code **)(param_1 + 0x54))(param_1,&local_10,8);
  if (0x7fffffff < CONCAT31(CONCAT21(CONCAT11(local_10,local_f),local_e),local_d)) {
    FUN_0043de50();
  }
  uVar5 = CONCAT31(CONCAT21(CONCAT11(local_c,local_b),local_a),local_9);
  *(uint *)(param_1 + 0x100) = uVar5;
  *(undefined4 *)(param_1 + 0x124) = 0;
  local_18 = 4;
  puVar6 = (uint *)&local_c;
  if ((local_c & 0x20) == 0) {
    if ((*(uint *)(param_1 + 0x70) & 0x800) == 0) goto LAB_0043e6b0;
  }
  else if ((*(uint *)(param_1 + 0x70) & 0x300) != 0x300) {
LAB_0043e6b0:
    do {
      uVar3 = local_18;
      if (local_18 == 0) {
        uVar3 = 0xffffffff;
      }
      if (puVar6 == NULL) {
        uVar2 = 0;
      }
      else {
        uVar2 = FUN_004497a0(puVar6,uVar3);
      }
      puVar6 = (uint *)((int)puVar6 + uVar3);
      local_18 -= uVar3;
    } while (local_18 != 0);
    *(uint *)(param_1 + 0x124) = uVar2;
  }
  iVar4 = 1;
  while ((uVar3 = uVar5 & 0xff, uVar3 - 0x41 < 0x3a && ((uVar3 < 0x5b || (0x60 < uVar3))))) {
    iVar4 += 1;
    uVar5 >>= 8;
    if (4 < iVar4) {
      *(undefined4 *)(param_1 + 0x2ac) = 0x41;
      __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
      return;
    }
  }
  FUN_0043e2c0();
LAB_0043e73b:
  FUN_0043de50();
  pcVar1 = (code *)swi(3);
  (*pcVar1)();
  return;
}



void FUN_0043e750(void)

{
  code *pcVar1;
  void *unaff_EBX;
  int unaff_EDI;
  
  if (unaff_EDI != 0) {
    if (*(code **)(unaff_EDI + 0x54) == NULL) {
      FUN_0043de50();
      pcVar1 = (code *)swi(3);
      (*pcVar1)();
      return;
    }
    (**(code **)(unaff_EDI + 0x54))();
    FUN_0043c0f0(unaff_EBX,unaff_EDI);
  }
  return;
}



void __thiscall FUN_0043e780(void *this,uint param_1)

{
  uint uVar1;
  void *this_00;
  code *pcVar2;
  uint uVar3;
  void *unaff_EBX;
  char *pcVar4;
  uint local_60;
  char local_5c [84];
  uint local_8;
  
  local_8 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  uVar1 = *(uint *)((int)this + 0xb4);
  local_60 = param_1;
  if (uVar1 < param_1) {
    do {
      unaff_EBX = *(void **)((int)this + 0xb0);
      if (*(code **)((int)this + 0x54) == NULL) goto LAB_0043e82d;
      (**(code **)((int)this + 0x54))(this,unaff_EBX,*(undefined4 *)((int)this + 0xb4));
      FUN_0043c0f0(unaff_EBX,(int)this);
      local_60 -= uVar1;
    } while (uVar1 < local_60);
  }
  if (local_60 != 0) {
    this_00 = *(void **)((int)this + 0xb0);
    if (*(code **)((int)this + 0x54) == NULL) goto LAB_0043e82d;
    (**(code **)((int)this + 0x54))(this,this_00,local_60);
    FUN_0043c0f0(this_00,(int)this);
  }
  unaff_EBX = (void *)0x20000000;
  pcVar4 = (char *)0x1;
  if ((*(uint *)((int)this + 0x100) & 0x20000000) == 0) goto LAB_0043e839;
  if ((*(uint *)((int)this + 0x70) & 0x300) != 0x300) goto LAB_0043e844;
  do {
    pcVar4 = NULL;
LAB_0043e844:
    do {
      *(undefined4 *)((int)this + 0x2ac) = 0x81;
      if (*(code **)((int)this + 0x54) != NULL) {
        (**(code **)((int)this + 0x54))(this,&local_60,4);
        if ((pcVar4 != NULL) &&
           ((((local_60 & 0xff) * 0x100 + (local_60 >> 8 & 0xff)) * 0x100 +
            (local_60 >> 0x10 & 0xff)) * 0x100 + (local_60 >> 0x18) != *(int *)((int)this + 0x124)))
        {
          uVar1 = *(uint *)((int)this + 0x70);
          if ((*(uint *)((int)this + 0x100) & (uint)unaff_EBX) == 0) {
            uVar3 = uVar1 & 0x400;
          }
          else {
            uVar3 = ~(uVar1 >> 9) & 1;
          }
          if (uVar3 != 0) {
            FUN_0043e1f0();
            FUN_0043df90(local_5c);
            __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
            return;
          }
          if ((uVar1 & 0x800000) == 0) {
            FUN_0043e2c0();
            pcVar2 = (code *)swi(3);
            (*pcVar2)();
            return;
          }
          FUN_0043e1f0();
          FUN_0043df90(local_5c);
        }
        __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
        return;
      }
LAB_0043e82d:
      pcVar4 = s_Call_to_NULL_read_function_0046969c;
      FUN_0043de50();
LAB_0043e839:
    } while ((*(uint *)((int)this + 0x70) & 0x800) == 0);
  } while( true );
}



void __fastcall
FUN_0043e930(undefined4 param_1,undefined4 param_2,int param_3,int param_4,uint param_5)

{
  int iVar1;
  uint _Size;
  int extraout_ECX;
  int extraout_ECX_00;
  int iVar2;
  uint uVar3;
  int unaff_EDI;
  uint local_60;
  char local_5c [84];
  uint local_8;
  
  local_8 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  local_60 = 0;
  *(undefined4 *)(unaff_EDI + 0x78) = param_2;
  *(undefined4 *)(unaff_EDI + 0x7c) = 0;
  do {
    if ((*(int *)(unaff_EDI + 0x7c) == 0) && (param_3 != 0)) {
      if (false) {
        param_3 += 1;
        *(undefined4 *)(unaff_EDI + 0x7c) = 0xffffffff;
      }
      else {
        *(int *)(unaff_EDI + 0x7c) = param_3;
        param_3 = 0;
      }
    }
    *(undefined4 *)(unaff_EDI + 0x84) = *(undefined4 *)(unaff_EDI + 0xb0);
    *(undefined4 *)(unaff_EDI + 0x88) = *(undefined4 *)(unaff_EDI + 0xb4);
    iVar1 = FUN_00448250((int *)(unaff_EDI + 0x78));
    uVar3 = *(int *)(unaff_EDI + 0xb4) - *(int *)(unaff_EDI + 0x88);
    iVar2 = extraout_ECX;
    if (((iVar1 == 0) || (iVar1 == 1)) && (0 < (int)uVar3)) {
      iVar2 = param_4;
      if ((param_4 != 0) && (local_60 < param_5)) {
        _Size = param_5 - local_60;
        if (uVar3 < param_5 - local_60) {
          _Size = uVar3;
        }
        memcpy((void *)(param_4 + local_60),*(void **)(unaff_EDI + 0xb0),_Size);
        iVar2 = extraout_ECX_00;
      }
      local_60 += uVar3;
    }
  } while (iVar1 == 0);
  *(undefined4 *)(unaff_EDI + 0x7c) = 0;
  FUN_00448000(iVar2,unaff_EDI + 0x78);
  if (iVar1 == 1) {
    __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
    return;
  }
  FUN_0043e1f0();
  FUN_0043df90(local_5c);
  __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __fastcall FUN_0043ea70(int *param_1,int param_2,void *param_3,char *param_4,char *param_5)

{
  uint uVar1;
  char *pcVar2;
  char *pcVar3;
  char *pcVar4;
  void *pvVar5;
  undefined1 local_108 [256];
  uint local_8;
  
  local_8 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  if (param_4 < param_5) {
    FUN_0043df90("invalid chunklength");
    param_5 = NULL;
  }
  else if (param_2 == 0) {
    pcVar2 = param_4 + -(int)param_5;
    pcVar3 = pcVar2;
    FUN_0043e930(param_1,param_5 + *(int *)((int)param_3 + 0x2a8),(int)pcVar2,0,0);
    if (((param_5 < (char *)0xfffffffe) && (pcVar3 < (char *)(-(int)param_5 - 2U))) &&
       ((*(int *)((int)param_3 + 0x28c) == 0 ||
        (param_5 + (int)pcVar3 < (char *)(*(int *)((int)param_3 + 0x28c) - 1U))))) {
      if (pcVar3 != NULL) {
        pvVar5 = FUN_0043e420((size_t)(param_5 + (int)pcVar3 + 1));
        if (pvVar5 == NULL) {
          FUN_0043df90("Not enough memory to decompress chunk");
        }
        else {
          memcpy(pvVar5,*(void **)((int)param_3 + 0x2a8),(size_t)param_5);
          pcVar4 = (char *)((int)pvVar5 + (int)param_5);
          FUN_0043e930(pcVar2,param_5 + *(int *)((int)param_3 + 0x2a8),(int)pcVar2,(int)pcVar4,
                       (uint)pcVar3);
          (param_5 + (int)pvVar5)[(int)pcVar3] = '\0';
          if (pcVar4 == pcVar3) {
            FUN_0043e3f0((int)param_3,*(void **)((int)param_3 + 0x2a8));
            *(void **)((int)param_3 + 0x2a8) = pvVar5;
            *param_1 = (int)(param_5 + (int)pcVar3);
            __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
            return;
          }
          FUN_0043df90("png_inflate logic error");
          FUN_0043e3f0((int)param_3,pvVar5);
        }
      }
    }
    else {
      FUN_0043df90("Exceeded size limit while expanding chunk");
    }
  }
  else {
    FUN_0043e080(1,param_2,1);
    FUN_0043e110(param_3,(int)local_108,"Unknown compression type @1");
  }
  if (param_3 != NULL) {
    uVar1 = *(uint *)((int)param_3 + 0x70);
    *(uint *)((int)param_3 + 0x70) = uVar1 | 0x100000;
    if (param_5 + 1 == NULL) {
      pvVar5 = NULL;
    }
    else {
      if (*(code **)((int)param_3 + 0x264) == NULL) {
        pvVar5 = malloc((size_t)(param_5 + 1));
      }
      else {
        pvVar5 = (void *)(**(code **)((int)param_3 + 0x264))(param_3);
      }
      if ((pvVar5 == NULL) && ((*(uint *)((int)param_3 + 0x70) & 0x100000) == 0)) {
        param_5 = s_Out_of_Memory_0046968c;
        pvVar5 = param_3;
        FUN_0043de50();
      }
    }
    *(uint *)((int)param_3 + 0x70) = uVar1;
    if (pvVar5 != NULL) {
      if (param_5 != NULL) {
        memcpy(pvVar5,*(void **)((int)param_3 + 0x2a8),(size_t)param_5);
      }
      if (*(void **)((int)param_3 + 0x2a8) != NULL) {
        if (*(code **)((int)param_3 + 0x268) == NULL) {
          free(*(void **)((int)param_3 + 0x2a8));
        }
        else {
          (**(code **)((int)param_3 + 0x268))(param_3);
        }
      }
      *(void **)((int)param_3 + 0x2a8) = pvVar5;
      param_5[(int)pvVar5] = '\0';
    }
  }
  *param_1 = (int)param_5;
  __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __cdecl FUN_0043ecc0(undefined4 param_1,int param_2)

{
  code *pcVar1;
  byte bVar2;
  void *pvVar3;
  uint uVar4;
  uint *puVar5;
  uint uVar6;
  char *pcVar7;
  void *unaff_EDI;
  uint local_1c;
  undefined1 local_18;
  undefined1 local_17;
  undefined1 local_16;
  undefined1 local_15;
  undefined1 local_14;
  undefined1 local_13;
  undefined1 local_12;
  undefined1 local_11;
  byte local_10;
  byte local_f;
  byte local_e;
  byte local_d;
  byte local_c;
  uint local_8;
  
  local_8 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  pvVar3 = *(void **)((int)unaff_EDI + 0x6c);
  if (((uint)pvVar3 & 1) != 0) {
    pvVar3 = unaff_EDI;
    FUN_0043de50();
  }
  if (param_2 != 0xd) {
    pvVar3 = unaff_EDI;
    FUN_0043de50();
  }
  *(uint *)((int)unaff_EDI + 0x6c) = (uint)pvVar3 | 1;
  if (*(code **)((int)unaff_EDI + 0x54) == NULL) {
    FUN_0043de50();
    pcVar1 = (code *)swi(3);
    (*pcVar1)();
    return;
  }
  (**(code **)((int)unaff_EDI + 0x54))();
  local_1c = 0xd;
  puVar5 = (uint *)&local_18;
  if ((*(uint *)((int)unaff_EDI + 0x100) & 0x20000000) == 0) {
    if ((*(uint *)((int)unaff_EDI + 0x70) & 0x800) != 0) goto LAB_0043ed7f;
  }
  else if ((*(uint *)((int)unaff_EDI + 0x70) & 0x300) == 0x300) goto LAB_0043ed7f;
  do {
    uVar6 = local_1c;
    if (local_1c == 0) {
      uVar6 = 0xffffffff;
    }
    if (puVar5 == NULL) {
      uVar4 = 0;
    }
    else {
      uVar4 = FUN_004497a0(puVar5,uVar6);
    }
    puVar5 = (uint *)((int)puVar5 + uVar6);
    local_1c -= uVar6;
  } while (local_1c != 0);
  *(uint *)((int)unaff_EDI + 0x124) = uVar4;
LAB_0043ed7f:
  FUN_0043e780(unaff_EDI,0);
  uVar6 = CONCAT31(CONCAT21(CONCAT11(local_18,local_17),local_16),local_15);
  if (0x7fffffff < uVar6) {
    FUN_0043de50();
  }
  pcVar7 = (char *)CONCAT31(CONCAT21(CONCAT11(local_14,local_13),local_12),local_11);
  if ((char *)0x7fffffff < pcVar7) {
    pcVar7 = "PNG unsigned integer out of range";
    FUN_0043de50();
  }
  uVar4 = (uint)local_f;
  *(byte *)((int)unaff_EDI + 0x138) = local_c;
  *(byte *)((int)unaff_EDI + 0x25c) = local_d;
  *(byte *)((int)unaff_EDI + 0x27c) = local_e;
  *(uint *)((int)unaff_EDI + 0xe4) = uVar6;
  *(char **)((int)unaff_EDI + 0xe8) = pcVar7;
  *(byte *)((int)unaff_EDI + 0x13c) = local_10;
  *(byte *)((int)unaff_EDI + 0x13b) = local_f;
  if (uVar4 == 2) {
    *(undefined1 *)((int)unaff_EDI + 0x13f) = 3;
  }
  else if (uVar4 == 4) {
    *(undefined1 *)((int)unaff_EDI + 0x13f) = 2;
  }
  else if (uVar4 == 6) {
    *(undefined1 *)((int)unaff_EDI + 0x13f) = 4;
  }
  else {
    *(undefined1 *)((int)unaff_EDI + 0x13f) = 1;
  }
  bVar2 = *(char *)((int)unaff_EDI + 0x13f) * local_10;
  *(byte *)((int)unaff_EDI + 0x13e) = bVar2;
  if (bVar2 < 8) {
    uVar6 = bVar2 * uVar6 + 7 >> 3;
  }
  else {
    uVar6 = (bVar2 >> 3) * uVar6;
  }
  *(uint *)((int)unaff_EDI + 0xf4) = uVar6;
  FUN_004472c0(uVar4,(uint)pcVar7,(int)unaff_EDI,local_10,local_f,local_c,local_e,local_d);
  __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __fastcall FUN_0043eee0(undefined1 *param_1,void *param_2,char *param_3)

{
  code *pcVar1;
  int iVar2;
  void *pvVar3;
  uint uVar4;
  byte extraout_CL;
  byte bVar5;
  ushort uVar6;
  uint uVar7;
  char *pcVar8;
  uint *puVar9;
  uint local_31c;
  int local_318;
  undefined1 local_30c;
  undefined1 local_30b;
  undefined1 local_30a;
  undefined1 local_308 [2];
  undefined1 local_306 [766];
  uint local_8;
  
  local_8 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  pvVar3 = *(void **)((int)param_2 + 0x6c);
  pcVar8 = param_3;
  if (((uint)pvVar3 & 1) == 0) {
    pcVar8 = "Missing IHDR before PLTE";
    pvVar3 = param_2;
    FUN_0043de50();
  }
  if (((uint)pvVar3 & 4) == 0) {
    if (((uint)pvVar3 & 2) != 0) {
      pcVar8 = "Duplicate PLTE chunk";
      pvVar3 = param_2;
      FUN_0043de50();
    }
    bVar5 = *(byte *)((int)param_2 + 0x13b);
    *(uint *)((int)param_2 + 0x6c) = (uint)pvVar3 | 2;
    if ((bVar5 & 2) == 0) {
      pcVar8 = "Ignoring PLTE chunk in grayscale PNG";
    }
    else {
      if ((param_1 < (undefined1 *)0x301) && (param_1 == (undefined1 *)(((uint)param_1 / 3) * 3))) {
        iVar2 = (int)param_1 / 3;
        local_318 = 0;
        if (0 < iVar2) {
          param_1 = local_306;
          do {
            if (*(code **)((int)param_2 + 0x54) == NULL) {
              FUN_0043de50();
              bVar5 = extraout_CL;
              goto LAB_0043f12c;
            }
            (**(code **)((int)param_2 + 0x54))(param_2,&local_30c,3);
            local_31c = 3;
            puVar9 = (uint *)&local_30c;
            if ((*(uint *)((int)param_2 + 0x100) & 0x20000000) == 0) {
              if ((*(uint *)((int)param_2 + 0x70) & 0x800) == 0) goto LAB_0043f020;
            }
            else if ((*(uint *)((int)param_2 + 0x70) & 0x300) != 0x300) {
LAB_0043f020:
              do {
                uVar7 = local_31c;
                if (local_31c == 0) {
                  uVar7 = 0xffffffff;
                }
                if (puVar9 == NULL) {
                  uVar4 = 0;
                }
                else {
                  uVar4 = FUN_004497a0(puVar9,uVar7);
                }
                puVar9 = (uint *)((int)puVar9 + uVar7);
                local_31c -= uVar7;
              } while (local_31c != 0);
              *(uint *)((int)param_2 + 0x124) = uVar4;
            }
            param_1[-2] = local_30c;
            local_318 += 1;
            param_1[-1] = local_30b;
            *param_1 = local_30a;
            param_1 = param_1 + 3;
            pcVar8 = param_3;
          } while (local_318 < iVar2);
        }
        FUN_0043e780(param_2,0);
        FUN_004476e0(local_308);
        if (((*(char *)((int)param_2 + 0x13b) == '\x03') && (pcVar8 != NULL)) &&
           ((pcVar8[8] & 0x10U) != 0)) {
          uVar6 = (ushort)iVar2;
          if (uVar6 < *(ushort *)((int)param_2 + 0x134)) {
            FUN_0043df90("Truncating incorrect tRNS chunk length");
            *(ushort *)((int)param_2 + 0x134) = uVar6;
          }
          if (uVar6 < *(ushort *)(pcVar8 + 0x16)) {
            FUN_0043df90("Truncating incorrect info tRNS chunk length");
            *(ushort *)(pcVar8 + 0x16) = uVar6;
            __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
            return;
          }
        }
        goto LAB_0043ef31;
      }
LAB_0043f12c:
      if (bVar5 == 3) {
        FUN_0043de50();
        pcVar1 = (code *)swi(3);
        (*pcVar1)();
        return;
      }
      pcVar8 = "Invalid palette chunk";
    }
  }
  else {
    pcVar8 = "Invalid PLTE after IDAT";
  }
  FUN_0043df90(pcVar8);
  FUN_0043e780(param_2,(uint)param_1);
LAB_0043ef31:
  __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __fastcall FUN_0043f150(uint param_1,char *param_2)

{
  code *pcVar1;
  void *pvVar2;
  uint uVar3;
  uint *puVar4;
  char *pcVar5;
  uint uVar6;
  void *unaff_EDI;
  uint local_110;
  uint local_10c;
  undefined1 local_108 [256];
  uint local_8;
  
  local_8 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  pvVar2 = *(void **)((int)unaff_EDI + 0x6c);
  pcVar5 = param_2;
  if (((uint)pvVar2 & 1) == 0) {
    pcVar5 = "Missing IHDR before gAMA";
    pvVar2 = unaff_EDI;
    FUN_0043de50();
  }
  if (((uint)pvVar2 & 4) == 0) {
    if (((uint)pvVar2 & 2) != 0) {
      FUN_0043df90("Out of place gAMA chunk");
    }
    if (((pcVar5 == NULL) || ((*(uint *)(pcVar5 + 8) & 1) == 0)) ||
       ((*(uint *)(pcVar5 + 8) & 0x800) != 0)) {
      if (param_1 == 4) {
        if (*(code **)((int)unaff_EDI + 0x54) == NULL) {
          FUN_0043de50();
          pcVar1 = (code *)swi(3);
          (*pcVar1)();
          return;
        }
        uVar3 = (**(code **)((int)unaff_EDI + 0x54))();
        local_110 = 4;
        puVar4 = &local_10c;
        if ((*(uint *)((int)unaff_EDI + 0x100) & 0x20000000) == 0) {
          if ((*(uint *)((int)unaff_EDI + 0x70) & 0x800) == 0) goto LAB_0043f240;
        }
        else if ((*(uint *)((int)unaff_EDI + 0x70) & 0x300) != 0x300) {
LAB_0043f240:
          do {
            uVar6 = local_110;
            if (local_110 == 0) {
              uVar6 = 0xffffffff;
            }
            if (puVar4 == NULL) {
              uVar3 = 0;
            }
            else {
              uVar3 = FUN_004497a0(puVar4,uVar6);
            }
            puVar4 = (uint *)((int)puVar4 + uVar6);
            local_110 -= uVar6;
          } while (local_110 != 0);
          *(uint *)((int)unaff_EDI + 0x124) = uVar3;
          pcVar5 = param_2;
        }
        FUN_0043e780(unaff_EDI,0);
        if (uVar3 == 0) {
          uVar3 = FUN_0043e500((undefined1 *)&local_10c);
          if ((int)uVar3 < 1) {
            FUN_0043df90("Ignoring gAMA chunk with out of range gamma");
            __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
            return;
          }
          if (((pcVar5 != NULL) && ((*(uint *)(pcVar5 + 8) & 0x800) != 0)) &&
             (((int)uVar3 < 45000 || (46000 < (int)uVar3)))) {
            FUN_0043e080(5,uVar3,1);
            FUN_0043e110(unaff_EDI,(int)local_108,
                         "Ignoring incorrect gAMA value @1 when sRGB is also present");
            __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
            return;
          }
          *(uint *)((int)unaff_EDI + 0x178) = uVar3;
          FUN_004471f0((int)pcVar5,uVar3);
          __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
          return;
        }
        goto LAB_0043f19d;
      }
      pcVar5 = "Incorrect gAMA chunk length";
    }
    else {
      pcVar5 = "Duplicate gAMA chunk";
    }
  }
  else {
    pcVar5 = "Invalid gAMA after IDAT";
  }
  FUN_0043df90(pcVar5);
  FUN_0043e780(unaff_EDI,param_1);
LAB_0043f19d:
  __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __cdecl FUN_0043f340(uint param_1)

{
  undefined1 uVar1;
  void *pvVar2;
  char *pcVar3;
  int unaff_EBX;
  uint uVar4;
  void *unaff_EDI;
  undefined4 local_8;
  
  pvVar2 = *(void **)((int)unaff_EDI + 0x6c);
  local_8 = 0;
  if (((uint)pvVar2 & 1) == 0) {
    pvVar2 = unaff_EDI;
    FUN_0043de50();
  }
  if (((uint)pvVar2 & 4) != 0) {
    FUN_0043df90("Invalid sBIT after IDAT");
    FUN_0043e780(unaff_EDI,param_1);
    return;
  }
  if (((uint)pvVar2 & 2) != 0) {
    FUN_0043df90("Out of place sBIT chunk");
  }
  if ((unaff_EBX == 0) || ((*(byte *)(unaff_EBX + 8) & 2) == 0)) {
    uVar4 = 3;
    if (*(char *)((int)unaff_EDI + 0x13b) != '\x03') {
      uVar4 = (uint)*(byte *)((int)unaff_EDI + 0x13f);
    }
    if ((param_1 == uVar4) && (param_1 < 5)) {
      if (*(code **)((int)unaff_EDI + 0x54) != NULL) {
        (**(code **)((int)unaff_EDI + 0x54))();
        FUN_0043c0f0(&local_8,(int)unaff_EDI);
        FUN_0043e780(unaff_EDI,0);
        if (uVar4 != 0) {
          return;
        }
        if ((*(byte *)((int)unaff_EDI + 0x13b) & 2) == 0) {
          *(undefined1 *)((int)unaff_EDI + 0x19b) = (undefined1)local_8;
          *(undefined1 *)((int)unaff_EDI + 0x198) = (undefined1)local_8;
          *(undefined1 *)((int)unaff_EDI + 0x199) = (undefined1)local_8;
          *(undefined1 *)((int)unaff_EDI + 0x19a) = (undefined1)local_8;
          *(undefined1 *)((int)unaff_EDI + 0x19c) = local_8._1_1_;
        }
        else {
          *(undefined1 *)((int)unaff_EDI + 0x198) = (undefined1)local_8;
          *(undefined1 *)((int)unaff_EDI + 0x199) = local_8._1_1_;
          *(undefined1 *)((int)unaff_EDI + 0x19a) = local_8._2_1_;
          *(undefined1 *)((int)unaff_EDI + 0x19c) = local_8._3_1_;
        }
        if (unaff_EBX == 0) {
          return;
        }
        *(undefined4 *)(unaff_EBX + 0x44) = *(undefined4 *)((int)unaff_EDI + 0x198);
        uVar1 = *(undefined1 *)((int)unaff_EDI + 0x19c);
        *(uint *)(unaff_EBX + 8) = *(uint *)(unaff_EBX + 8) | 2;
        *(undefined1 *)(unaff_EBX + 0x48) = uVar1;
        return;
      }
      FUN_0043de50();
    }
    pcVar3 = "Incorrect sBIT chunk length";
  }
  else {
    pcVar3 = "Duplicate sBIT chunk";
  }
  FUN_0043df90(pcVar3);
  FUN_0043e780(unaff_EDI,param_1);
  return;
}



void __fastcall FUN_0043f4a0(uint param_1,void *param_2,char *param_3)

{
  code *pcVar1;
  void *pvVar2;
  uint uVar3;
  uint uVar4;
  int iVar5;
  char *pcVar6;
  int iVar7;
  undefined4 extraout_ECX;
  undefined4 extraout_ECX_00;
  undefined4 extraout_ECX_01;
  char *pcVar8;
  int iVar9;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  undefined4 extraout_EDX_01;
  uint *puVar10;
  uint *puVar11;
  ulonglong uVar12;
  double dVar13;
  undefined1 in_stack_fffffe58;
  uint local_178 [4];
  uint local_168;
  uint local_164;
  uint local_160;
  uint local_15c;
  uint local_158;
  uint local_154;
  char *local_150;
  uint local_14c;
  uint local_148;
  void *local_144;
  uint local_140;
  uint local_13c;
  uint local_138;
  uint local_134;
  undefined1 local_130 [260];
  uint local_2c;
  undefined1 local_28 [4];
  undefined1 local_24 [4];
  undefined1 local_20 [4];
  undefined1 local_1c [4];
  undefined1 local_18 [4];
  undefined1 local_14 [4];
  undefined1 local_10 [4];
  uint local_c;
  
  local_c = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  pvVar2 = *(void **)((int)param_2 + 0x6c);
  local_150 = param_3;
  local_144 = param_2;
  if (((uint)pvVar2 & 1) == 0) {
    param_3 = "Missing IHDR before cHRM";
    pvVar2 = param_2;
    FUN_0043de50();
  }
  if (((uint)pvVar2 & 4) == 0) {
    if (((uint)pvVar2 & 2) != 0) {
      FUN_0043df90("Out of place cHRM chunk");
    }
    if (((param_3 == NULL) || ((*(uint *)(param_3 + 8) & 4) == 0)) ||
       ((*(uint *)(param_3 + 8) & 0x800) != 0)) {
      if (param_1 == 0x20) {
        if (*(code **)((int)param_2 + 0x54) == NULL) {
          FUN_0043de50();
          pcVar1 = (code *)swi(3);
          (*pcVar1)();
          return;
        }
        uVar3 = (**(code **)((int)param_2 + 0x54))();
        local_134 = 0x20;
        puVar10 = &local_2c;
        if ((*(uint *)((int)param_2 + 0x100) & 0x20000000) == 0) {
          if ((*(uint *)((int)param_2 + 0x70) & 0x800) == 0) goto LAB_0043f590;
        }
        else if ((*(uint *)((int)param_2 + 0x70) & 0x300) != 0x300) {
LAB_0043f590:
          do {
            uVar4 = local_134;
            if (local_134 == 0) {
              uVar4 = 0xffffffff;
            }
            if (puVar10 == NULL) {
              uVar3 = 0;
            }
            else {
              uVar3 = FUN_004497a0(puVar10,uVar4);
            }
            puVar10 = (uint *)((int)puVar10 + uVar4);
            local_134 -= uVar4;
          } while (local_134 != 0);
          *(uint *)((int)param_2 + 0x124) = uVar3;
          local_134 = 0;
        }
        FUN_0043e780(param_2,0);
        if (uVar3 != 0) goto LAB_0043f4f7;
        uVar4 = FUN_0043e500((undefined1 *)&local_2c);
        local_154 = uVar4;
        uVar3 = FUN_0043e500(local_28);
        local_158 = uVar3;
        local_14c = FUN_0043e500(local_24);
        local_138 = FUN_0043e500(local_20);
        local_13c = FUN_0043e500(local_1c);
        local_140 = FUN_0043e500(local_18);
        local_148 = FUN_0043e500(local_14);
        local_134 = FUN_0043e500(local_10);
        if (((((uVar4 == 0xffffffff) || (uVar3 == 0xffffffff)) ||
             ((local_14c == 0xffffffff || ((local_138 == 0xffffffff || (local_13c == 0xffffffff)))))
             ) || (local_140 == 0xffffffff)) ||
           ((local_148 == 0xffffffff || (local_134 == 0xffffffff)))) goto LAB_0043fad9;
        if ((local_150 != NULL) && ((*(uint *)(local_150 + 8) & 0x800) != 0)) {
          if ((((((2000 < uVar4 - 0x763e) || (2000 < uVar3 - 0x7c9c)) || (2000 < local_14c - 63000))
               || ((2000 < local_138 - 32000 || (2000 < local_13c - 29000)))) ||
              (2000 < local_140 - 59000)) ||
             (((2000 < local_148 - 14000 || ((int)local_134 < 5000)) || (7000 < (int)local_134)))) {
            FUN_0043e080(5,uVar4,1);
            FUN_0043e080(5,uVar3,2);
            FUN_0043e080(5,local_14c,3);
            FUN_0043e080(5,local_138,4);
            FUN_0043e080(5,local_13c,5);
            FUN_0043e080(5,local_140,6);
            FUN_0043e080(5,local_148,7);
            FUN_0043e080(5,local_134,8);
            FUN_0043e110(local_144,(int)local_130,
                         "Ignoring incorrect cHRM white(@1,@2) r(@3,@4)g(@5,@6)b(@7,@8) when sRGB is also present"
                        );
            __security_check_cookie(local_c ^ (uint)&stack0xfffffffc);
            return;
          }
          goto LAB_0043f4f7;
        }
        if (*(char *)((int)param_2 + 0x252) != '\0') goto LAB_0043fa86;
        local_178[0] = local_14c;
        local_178[2] = local_13c;
        local_178[1] = local_138;
        local_168 = local_148;
        local_160 = uVar4;
        local_15c = uVar3;
        local_164 = local_134;
        local_178[3] = local_140;
        puVar10 = local_178;
        puVar11 = (uint *)&stack0xfffffe58;
        for (iVar7 = 8; iVar7 != 0; iVar7 += -1) {
          *puVar11 = *puVar10;
          puVar10 = puVar10 + 1;
          puVar11 = puVar11 + 1;
        }
        iVar7 = FUN_0043cf80(in_stack_fffffe58);
        uVar3 = local_158;
        uVar4 = local_154;
        if (iVar7 == 0) goto LAB_0043fa86;
        if (local_178[0] == 0) {
          iVar7 = 0;
LAB_0043f913:
          if (local_178[3] == 0) {
            pcVar6 = NULL;
LAB_0043f987:
            if (local_160 == 0) {
              iVar5 = 0;
LAB_0043f9f8:
              pcVar8 = pcVar6 + iVar7 + iVar5;
              if ((int)pcVar8 < 0x8002) {
                if ((int)pcVar8 < 0x8001) {
                  if ((int)pcVar8 < 0x8000) {
                    iVar9 = 1;
                    goto LAB_0043fa2f;
                  }
                }
                else {
                  iVar9 = -1;
LAB_0043fa2f:
                  if ((int)pcVar6 < iVar7) {
LAB_0043fa3f:
                    if (iVar7 < iVar5) {
LAB_0043fa47:
                      iVar5 += iVar9;
                    }
                    else {
                      iVar7 += iVar9;
                    }
                  }
                  else {
                    if ((int)pcVar6 < iVar5) {
                      if ((int)pcVar6 <= iVar7) goto LAB_0043fa3f;
                      goto LAB_0043fa47;
                    }
                    pcVar6 = pcVar6 + iVar9;
                  }
                }
                if (pcVar6 + iVar7 + iVar5 != (char *)0x8000) {
                  pcVar6 = "internal error handling cHRM coefficients";
                  FUN_0043de50();
                }
                *(short *)((int)param_2 + 0x254) = (short)iVar7;
                *(short *)((int)param_2 + 0x256) = (short)pcVar6;
                uVar3 = local_158;
                uVar4 = local_154;
LAB_0043fa86:
                FUN_00447170(uVar4,uVar3,local_14c,local_138,local_13c,local_140);
                __security_check_cookie(local_c ^ (uint)&stack0xfffffffc);
                return;
              }
            }
            else {
              dVar13 = floor(((double)(int)local_160 * 32768.0) / 100000.0 + 0.5);
              if ((dVar13 <= 2147483647.0) &&
                 (!NAN(dVar13) && -2147483648.0 < dVar13 != (dVar13 == -2147483648.0))) {
                uVar12 = FUN_0045db50(extraout_ECX_01,extraout_EDX_01);
                iVar5 = (int)uVar12;
                if ((-1 < iVar5) && (iVar5 < 0x8001)) goto LAB_0043f9f8;
              }
            }
          }
          else {
            dVar13 = floor(((double)(int)local_178[3] * 32768.0) / 100000.0 + 0.5);
            if ((dVar13 <= 2147483647.0) &&
               (!NAN(dVar13) && -2147483648.0 < dVar13 != (dVar13 == -2147483648.0))) {
              uVar12 = FUN_0045db50(extraout_ECX_00,extraout_EDX_00);
              pcVar6 = (char *)uVar12;
              if ((-1 < (int)pcVar6) && ((int)pcVar6 < 0x8001)) goto LAB_0043f987;
            }
          }
        }
        else {
          dVar13 = floor(((double)(int)local_178[0] * 32768.0) / 100000.0 + 0.5);
          if ((dVar13 <= 2147483647.0) &&
             (!NAN(dVar13) && -2147483648.0 < dVar13 != (dVar13 == -2147483648.0))) {
            uVar12 = FUN_0045db50(extraout_ECX,extraout_EDX);
            iVar7 = (int)uVar12;
            if ((-1 < iVar7) && (iVar7 < 0x8001)) goto LAB_0043f913;
          }
        }
        FUN_0043de50();
LAB_0043fad9:
        FUN_0043df90("Ignoring cHRM chunk with negative chromaticities");
        __security_check_cookie(local_c ^ (uint)&stack0xfffffffc);
        return;
      }
      pcVar6 = "Incorrect cHRM chunk length";
    }
    else {
      pcVar6 = "Duplicate cHRM chunk";
    }
  }
  else {
    pcVar6 = "Invalid cHRM after IDAT";
  }
  FUN_0043df90(pcVar6);
  FUN_0043e780(param_2,param_1);
LAB_0043f4f7:
  __security_check_cookie(local_c ^ (uint)&stack0xfffffffc);
  return;
}



void __fastcall FUN_0043fb10(char *param_1,void *param_2)

{
  int iVar1;
  code *pcVar2;
  void *pvVar3;
  uint uVar4;
  char *pcVar5;
  uint uVar6;
  uint *puVar7;
  void *unaff_EDI;
  uint local_110;
  byte local_109;
  undefined1 local_108 [256];
  uint local_8;
  
  local_8 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  pvVar3 = *(void **)((int)unaff_EDI + 0x6c);
  if (((uint)pvVar3 & 1) == 0) {
    param_1 = "Missing IHDR before sRGB";
    pvVar3 = unaff_EDI;
    FUN_0043de50();
  }
  if (((uint)pvVar3 & 4) == 0) {
    if (((uint)pvVar3 & 2) != 0) {
      FUN_0043df90("Out of place sRGB chunk");
    }
    if ((param_2 == NULL) || ((*(uint *)((int)param_2 + 8) & 0x800) == 0)) {
      if (param_1 == (char *)0x1) {
        if (*(code **)((int)unaff_EDI + 0x54) == NULL) {
          FUN_0043de50();
          pcVar2 = (code *)swi(3);
          (*pcVar2)();
          return;
        }
        uVar4 = (**(code **)((int)unaff_EDI + 0x54))();
        local_110 = 1;
        puVar7 = (uint *)&local_109;
        if ((*(uint *)((int)unaff_EDI + 0x100) & 0x20000000) == 0) {
          if ((*(uint *)((int)unaff_EDI + 0x70) & 0x800) == 0) goto LAB_0043fbf6;
        }
        else if ((*(uint *)((int)unaff_EDI + 0x70) & 0x300) != 0x300) {
LAB_0043fbf6:
          do {
            uVar6 = local_110;
            if (local_110 == 0) {
              uVar6 = 0xffffffff;
            }
            if (puVar7 == NULL) {
              uVar4 = 0;
            }
            else {
              uVar4 = FUN_004497a0(puVar7,uVar6);
            }
            puVar7 = (uint *)((int)puVar7 + uVar6);
            local_110 -= uVar6;
          } while (local_110 != 0);
          *(uint *)((int)unaff_EDI + 0x124) = uVar4;
        }
        FUN_0043e780(unaff_EDI,0);
        if (uVar4 == 0) {
          if (local_109 < 4) {
            if (param_2 != NULL) {
              if (((*(byte *)((int)param_2 + 8) & 1) != 0) &&
                 ((iVar1 = *(int *)((int)param_2 + 0x28), iVar1 < 45000 || (46000 < iVar1)))) {
                FUN_0043e080(5,iVar1,1);
                FUN_0043e110(unaff_EDI,(int)local_108,
                             "Ignoring incorrect gAMA value @1 when sRGB is also present");
              }
              if (((*(byte *)((int)param_2 + 8) & 4) != 0) &&
                 (((((*(int *)((int)param_2 + 0x80) < 0x763e ||
                     (0x7e0e < *(int *)((int)param_2 + 0x80))) ||
                    (*(int *)((int)param_2 + 0x84) < 0x7c9c)) ||
                   ((((0x846c < *(int *)((int)param_2 + 0x84) ||
                      (*(int *)((int)param_2 + 0x88) < 63000)) ||
                     ((65000 < *(int *)((int)param_2 + 0x88) ||
                      ((*(int *)((int)param_2 + 0x8c) < 32000 ||
                       (34000 < *(int *)((int)param_2 + 0x8c))))))) ||
                    (*(int *)((int)param_2 + 0x90) < 29000)))) ||
                  (((((31000 < *(int *)((int)param_2 + 0x90) ||
                      (*(int *)((int)param_2 + 0x94) < 59000)) ||
                     (61000 < *(int *)((int)param_2 + 0x94))) ||
                    ((*(int *)((int)param_2 + 0x98) < 14000 ||
                     (16000 < *(int *)((int)param_2 + 0x98))))) ||
                   ((*(int *)((int)param_2 + 0x9c) < 5000 || (7000 < *(int *)((int)param_2 + 0x9c)))
                   )))))) {
                FUN_0043df90("Ignoring incorrect cHRM value when sRGB is also present");
              }
            }
            *(undefined1 *)((int)unaff_EDI + 0x250) = 1;
            if (*(char *)((int)unaff_EDI + 0x252) == '\0') {
              *(undefined4 *)((int)unaff_EDI + 0x254) = 0x5b8a1b38;
              *(undefined1 *)((int)unaff_EDI + 0x252) = 1;
            }
            FUN_00447770(param_2,local_109);
            __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
            return;
          }
          FUN_0043df90("Unknown sRGB intent");
          __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
          return;
        }
        goto LAB_0043fb5d;
      }
      pcVar5 = "Incorrect sRGB chunk length";
    }
    else {
      pcVar5 = "Duplicate sRGB chunk";
    }
  }
  else {
    pcVar5 = "Invalid sRGB after IDAT";
  }
  FUN_0043df90(pcVar5);
  FUN_0043e780(unaff_EDI,(uint)param_1);
LAB_0043fb5d:
  __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __fastcall FUN_0043fdc0(void *param_1,char *param_2,char *param_3)

{
  LPCSTR pCVar1;
  char cVar2;
  LPCSTR pCVar3;
  byte bVar4;
  void *pvVar5;
  char *pcVar6;
  char *pcVar7;
  uint uVar8;
  char *local_114;
  char *local_110;
  uint local_10c;
  undefined1 local_108 [256];
  uint local_8;
  
  local_8 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  pvVar5 = *(void **)((int)param_1 + 0x6c);
  pcVar6 = param_2;
  local_110 = param_2;
  if (((uint)pvVar5 & 1) == 0) {
    pcVar6 = "Missing IHDR before iCCP";
    pvVar5 = param_1;
    FUN_0043de50();
  }
  if (((uint)pvVar5 & 4) == 0) {
    if (((uint)pvVar5 & 2) != 0) {
      FUN_0043df90("Out of place iCCP chunk");
    }
    if (((*(uint *)((int)param_1 + 0x6c) & 0x4000) == 0) &&
       ((pcVar6 == NULL || ((*(uint *)(pcVar6 + 8) & 0x1800) == 0)))) {
      *(uint *)((int)param_1 + 0x6c) = *(uint *)((int)param_1 + 0x6c) | 0x4000;
      if (*(void **)((int)param_1 + 0x2a8) != NULL) {
        if (*(code **)((int)param_1 + 0x268) == NULL) {
          free(*(void **)((int)param_1 + 0x2a8));
        }
        else {
          (**(code **)((int)param_1 + 0x268))(param_1);
        }
      }
      pvVar5 = FUN_0043e3b0((size_t)(param_3 + 1));
      *(void **)((int)param_1 + 0x2a8) = pvVar5;
      if (*(code **)((int)param_1 + 0x54) != NULL) {
        (**(code **)((int)param_1 + 0x54))(param_1,pvVar5,param_3);
        pcVar6 = param_3;
        FUN_0043c0f0(pvVar5,(int)param_1);
        FUN_0043e780(param_1,0);
        if (pcVar6 == NULL) {
          param_3[*(int *)((int)param_1 + 0x2a8)] = '\0';
          pcVar6 = *(char **)((int)param_1 + 0x2a8);
          cVar2 = *pcVar6;
          pcVar7 = pcVar6;
          while (cVar2 != '\0') {
            pcVar7 = pcVar7 + 1;
            cVar2 = *pcVar7;
          }
          if (pcVar6 + -1 + (int)param_3 <= pcVar7 + 1) {
            if (pcVar6 != NULL) {
              if (*(code **)((int)param_1 + 0x268) == NULL) {
                free(pcVar6);
              }
              else {
                (**(code **)((int)param_1 + 0x268))(param_1);
              }
            }
            *(undefined4 *)((int)param_1 + 0x2a8) = 0;
            FUN_0043df90("Malformed iCCP chunk");
            __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
            return;
          }
          bVar4 = pcVar7[1];
          if (bVar4 != 0) {
            FUN_0043df90("Ignoring nonzero compression type in iCCP chunk");
            bVar4 = 0;
          }
          pcVar7 = pcVar7 + (2 - *(int *)((int)param_1 + 0x2a8));
          local_10c = (uint)bVar4;
          FUN_0043ea70((int *)&local_114,local_10c,param_1,param_3,pcVar7);
          if ((local_114 < pcVar7) || ((uint)((int)local_114 - (int)pcVar7) < 4)) {
            if (*(void **)((int)param_1 + 0x2a8) != NULL) {
              if (*(code **)((int)param_1 + 0x268) == NULL) {
                free(*(void **)((int)param_1 + 0x2a8));
              }
              else {
                (**(code **)((int)param_1 + 0x268))(param_1);
              }
            }
            *(undefined4 *)((int)param_1 + 0x2a8) = 0;
            FUN_0043df90("Profile size field missing from iCCP chunk");
            __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
            return;
          }
          pCVar3 = *(LPCSTR *)((int)param_1 + 0x2a8);
          pCVar1 = pCVar3 + (int)pcVar7;
          uVar8 = CONCAT31(CONCAT21(CONCAT11(*pCVar1,(pCVar3 + 1)[(int)pcVar7]),pCVar1[2]),pCVar1[3]
                          );
          if ((uint)((int)local_114 - (int)pcVar7) < uVar8) {
            FUN_0043e3f0((int)param_1,pCVar3);
            *(undefined4 *)((int)param_1 + 0x2a8) = 0;
            FUN_0043e000(1,(int)local_108);
            FUN_0043e000(2,(int)local_108);
            FUN_0043e110(param_1,(int)local_108,
                         "Ignoring iCCP chunk with declared size = @1 and actual length = @2");
            __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
            return;
          }
          FUN_004477d0(pCVar3,(char)local_10c,pCVar1,uVar8);
        }
        FUN_0043e3f0((int)param_1,*(void **)((int)param_1 + 0x2a8));
        *(undefined4 *)((int)param_1 + 0x2a8) = 0;
        __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
        return;
      }
      FUN_0043de50();
    }
    pcVar6 = "Duplicate iCCP chunk";
  }
  else {
    pcVar6 = "Invalid iCCP after IDAT";
  }
  FUN_0043df90(pcVar6);
  FUN_0043e780(param_1,(uint)param_3);
  __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __thiscall FUN_004400b0(void *this,int param_1)

{
  char cVar1;
  int iVar2;
  code *pcVar3;
  uint in_EAX;
  void *pvVar4;
  uint uVar5;
  ushort *puVar6;
  char *pcVar7;
  char *pcVar8;
  byte *pbVar9;
  undefined4 local_1c;
  char local_18;
  void *local_14;
  uint local_10;
  uint local_c;
  
  iVar2 = *(int *)((int)this + 0x288);
  if (iVar2 != 0) {
    if (iVar2 == 1) {
      FUN_0043e780(this,in_EAX);
      return;
    }
    *(int *)((int)this + 0x288) = iVar2 + -1;
    if (iVar2 + -1 == 1) {
      pcVar7 = "No space in chunk cache for sPLT";
      goto LAB_004400ed;
    }
  }
  pvVar4 = *(void **)((int)this + 0x6c);
  if (((uint)pvVar4 & 1) == 0) {
    pvVar4 = this;
    FUN_0043de50();
  }
  if (((uint)pvVar4 & 4) == 0) {
    if (*(void **)((int)this + 0x2a8) != NULL) {
      if (*(code **)((int)this + 0x268) == NULL) {
        free(*(void **)((int)this + 0x2a8));
      }
      else {
        (**(code **)((int)this + 0x268))(this);
      }
    }
    pvVar4 = FUN_0043e3b0(in_EAX + 1);
    *(void **)((int)this + 0x2a8) = pvVar4;
    if (*(code **)((int)this + 0x54) == NULL) {
      FUN_0043de50();
      pcVar3 = (code *)swi(3);
      (*pcVar3)();
      return;
    }
    (**(code **)((int)this + 0x54))(this,pvVar4);
    uVar5 = in_EAX;
    FUN_0043c0f0(pvVar4,(int)this);
    FUN_0043e780(this,0);
    if (uVar5 != 0) {
      if (*(void **)((int)this + 0x2a8) != NULL) {
        if (*(code **)((int)this + 0x268) != NULL) {
          (**(code **)((int)this + 0x268))(this);
          *(undefined4 *)((int)this + 0x2a8) = 0;
          return;
        }
        free(*(void **)((int)this + 0x2a8));
      }
      *(undefined4 *)((int)this + 0x2a8) = 0;
      return;
    }
    *(undefined1 *)(in_EAX + *(int *)((int)this + 0x2a8)) = 0;
    pcVar7 = *(char **)((int)this + 0x2a8);
    cVar1 = *pcVar7;
    pcVar8 = pcVar7;
    while (cVar1 != '\0') {
      pcVar8 = pcVar8 + 1;
      cVar1 = *pcVar8;
    }
    if (pcVar7 + (in_EAX - 2) < pcVar8 + 1) {
      if (pcVar7 != NULL) {
        if (*(code **)((int)this + 0x268) == NULL) {
          free(pcVar7);
        }
        else {
          (**(code **)((int)this + 0x268))(this);
        }
      }
      *(undefined4 *)((int)this + 0x2a8) = 0;
      FUN_0043df90("malformed sPLT chunk");
      return;
    }
    local_18 = pcVar8[1];
    pbVar9 = (byte *)(pcVar8 + 2);
    local_c = (uint)(local_18 != '\b') * 4 + 6;
    uVar5 = (uint)(pcVar7 + (in_EAX - (int)pbVar9)) / local_c;
    if ((uint)(pcVar7 + (in_EAX - (int)pbVar9)) % local_c != 0) {
      if (pcVar7 != NULL) {
        if (*(code **)((int)this + 0x268) == NULL) {
          free(pcVar7);
        }
        else {
          (**(code **)((int)this + 0x268))(this);
        }
      }
      *(undefined4 *)((int)this + 0x2a8) = 0;
      FUN_0043df90("sPLT chunk has bad length");
      return;
    }
    if (0x19999999 < uVar5) {
      FUN_0043df90("sPLT chunk too long");
      return;
    }
    local_10 = uVar5;
    local_14 = FUN_0043e420(uVar5 * 10);
    if (local_14 == NULL) {
      FUN_0043df90("sPLT chunk requires too much memory");
      return;
    }
    if (0 < (int)uVar5) {
      puVar6 = (ushort *)((int)local_14 + 4);
      do {
        if (local_18 == '\b') {
          puVar6[-2] = (ushort)*pbVar9;
          puVar6[-1] = (ushort)pbVar9[1];
          *puVar6 = (ushort)pbVar9[2];
          puVar6[1] = (ushort)pbVar9[3];
          pbVar9 = pbVar9 + 4;
        }
        else {
          puVar6[-2] = (ushort)*pbVar9 * 0x100 + (ushort)pbVar9[1];
          puVar6[-1] = (ushort)pbVar9[2] * 0x100 + (ushort)pbVar9[3];
          *puVar6 = (ushort)pbVar9[4] * 0x100 + (ushort)pbVar9[5];
          puVar6[1] = (ushort)pbVar9[6] * 0x100 + (ushort)pbVar9[7];
          pbVar9 = pbVar9 + 8;
        }
        puVar6[2] = (ushort)*pbVar9 * 0x100 + (ushort)pbVar9[1];
        pbVar9 = pbVar9 + 2;
        puVar6 = puVar6 + 5;
        uVar5 -= 1;
      } while (uVar5 != 0);
    }
    local_1c = *(undefined4 *)((int)this + 0x2a8);
    FUN_00447ce0(param_1,(int)&local_1c);
    if (*(void **)((int)this + 0x2a8) != NULL) {
      if (*(code **)((int)this + 0x268) == NULL) {
        free(*(void **)((int)this + 0x2a8));
      }
      else {
        (**(code **)((int)this + 0x268))(this);
      }
    }
    *(undefined4 *)((int)this + 0x2a8) = 0;
    if (local_14 == NULL) {
      return;
    }
    if (*(code **)((int)this + 0x268) != NULL) {
      (**(code **)((int)this + 0x268))(this);
      return;
    }
    free(local_14);
    return;
  }
  pcVar7 = "Invalid sPLT after IDAT";
LAB_004400ed:
  FUN_0043df90(pcVar7);
  FUN_0043e780(this,in_EAX);
  return;
}



void __fastcall FUN_00440420(int param_1,char *param_2,void *param_3)

{
  void *pvVar1;
  uint uVar2;
  char extraout_CL;
  char cVar3;
  int extraout_ECX;
  char *pcVar4;
  uint uVar5;
  uint *puVar6;
  uint local_114;
  undefined1 local_110 [256];
  undefined4 local_10;
  byte local_c;
  byte local_b;
  uint local_8;
  
  local_8 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  pvVar1 = *(void **)((int)param_3 + 0x6c);
  if (((uint)pvVar1 & 1) == 0) {
    param_2 = "Missing IHDR before tRNS";
    pvVar1 = param_3;
    FUN_0043de50();
    param_1 = extraout_ECX;
  }
  if (((uint)pvVar1 & 4) != 0) {
    pcVar4 = "Invalid tRNS after IDAT";
LAB_0044045c:
    FUN_0043df90(pcVar4);
    FUN_0043e780(param_3,(uint)param_2);
    __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
    return;
  }
  if ((param_1 != 0) && ((*(byte *)(param_1 + 8) & 0x10) != 0)) {
    pcVar4 = "Duplicate tRNS chunk";
    goto LAB_0044045c;
  }
  cVar3 = *(char *)((int)param_3 + 0x13b);
  if (cVar3 == '\0') {
    if (param_2 == (char *)0x2) {
      if (*(code **)((int)param_3 + 0x54) != NULL) {
        (**(code **)((int)param_3 + 0x54))(param_3,&local_114,2);
        local_10 = 2;
        puVar6 = &local_114;
        if ((*(uint *)((int)param_3 + 0x100) & 0x20000000) == 0) {
          if ((*(uint *)((int)param_3 + 0x70) & 0x800) == 0) goto LAB_00440503;
        }
        else if ((*(uint *)((int)param_3 + 0x70) & 0x300) != 0x300) {
LAB_00440503:
          do {
            uVar5 = local_10;
            if (local_10 == 0) {
              uVar5 = 0xffffffff;
            }
            if (puVar6 == NULL) {
              uVar2 = 0;
            }
            else {
              uVar2 = FUN_004497a0(puVar6,uVar5);
            }
            puVar6 = (uint *)((int)puVar6 + uVar5);
            local_10 -= uVar5;
          } while (local_10 != 0);
          *(uint *)((int)param_3 + 0x124) = uVar2;
          local_10 = 0;
        }
        *(undefined2 *)((int)param_3 + 0x134) = 1;
        pcVar4 = (char *)(uint)((ushort)local_114 >> 8);
        *(ushort *)((int)param_3 + 0x1b0) = (ushort)local_114 * 0x100 + ((ushort)local_114 >> 8);
        goto LAB_00440634;
      }
      param_2 = s_Call_to_NULL_read_function_0046969c;
      pvVar1 = param_3;
      FUN_0043de50();
      cVar3 = extraout_CL;
      goto LAB_0044056c;
    }
LAB_004404a3:
    pcVar4 = "Incorrect tRNS chunk length";
  }
  else {
LAB_0044056c:
    if (cVar3 == '\x02') {
      if (param_2 == (char *)0x6) {
        FUN_0043e750();
        pcVar4 = (char *)0x100;
        *(undefined2 *)((int)param_3 + 0x134) = 1;
        *(ushort *)((int)param_3 + 0x1aa) = (ushort)(byte)local_10 * 0x100 + (ushort)local_10._1_1_;
        *(ushort *)((int)param_3 + 0x1ac) = (ushort)local_10._2_1_ * 0x100 + (ushort)local_10._3_1_;
        *(ushort *)((int)param_3 + 0x1ae) = (ushort)local_c * 0x100 + (ushort)local_b;
LAB_00440634:
        FUN_0043e780(param_3,0);
        if (pcVar4 == NULL) {
          FUN_00447bd0(local_110,(uint)*(ushort *)((int)param_3 + 0x134));
          __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
          return;
        }
        *(undefined2 *)((int)param_3 + 0x134) = 0;
        __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
        return;
      }
      goto LAB_004404a3;
    }
    if (cVar3 == '\x03') {
      if (((uint)pvVar1 & 2) == 0) {
        FUN_0043df90("Missing PLTE before tRNS");
      }
      if ((param_2 <= (char *)(uint)*(ushort *)((int)param_3 + 300)) && (param_2 < (char *)0x101)) {
        if (param_2 != NULL) {
          pcVar4 = param_2;
          FUN_0043e750();
          *(short *)((int)param_3 + 0x134) = (short)param_2;
          goto LAB_00440634;
        }
        FUN_0043df90("Zero length tRNS chunk");
        goto LAB_0044069f;
      }
      goto LAB_004404a3;
    }
    pcVar4 = "tRNS chunk not allowed with alpha channel";
  }
  FUN_0043df90(pcVar4);
LAB_0044069f:
  FUN_0043e780(param_3,(uint)param_2);
  __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __cdecl FUN_004406c0(uint param_1)

{
  byte bVar1;
  code *pcVar2;
  short sVar3;
  void *pvVar4;
  undefined1 *puVar5;
  char *pcVar6;
  int unaff_EBX;
  uint uVar7;
  void *unaff_EDI;
  undefined4 local_1c;
  undefined4 local_18;
  byte local_10;
  byte local_f;
  byte local_e;
  byte local_d;
  byte local_c;
  byte local_b;
  uint local_8;
  
  local_8 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  pvVar4 = *(void **)((int)unaff_EDI + 0x6c);
  if (((uint)pvVar4 & 1) == 0) {
    pvVar4 = unaff_EDI;
    FUN_0043de50();
  }
  if (((uint)pvVar4 & 4) == 0) {
    bVar1 = *(byte *)((int)unaff_EDI + 0x13b);
    if ((bVar1 == 3) && (((uint)pvVar4 & 2) == 0)) {
      FUN_0043df90("Missing PLTE before bKGD");
    }
    else {
      if ((unaff_EBX == 0) || ((*(byte *)(unaff_EBX + 8) & 0x20) == 0)) {
        if (bVar1 == 3) {
          uVar7 = 1;
        }
        else {
          uVar7 = (bVar1 & 2 | 1) * 2;
        }
        if (param_1 != uVar7) {
          pcVar6 = "Incorrect bKGD chunk length";
          goto LAB_004406ed;
        }
        if (*(code **)((int)unaff_EDI + 0x54) == NULL) {
          FUN_0043de50();
          pcVar2 = (code *)swi(3);
          (*pcVar2)();
          return;
        }
        (**(code **)((int)unaff_EDI + 0x54))();
        FUN_0043c0f0(&local_10,(int)unaff_EDI);
        FUN_0043e780(unaff_EDI,0);
        if (uVar7 != 0) goto LAB_00440702;
        if (*(byte *)((int)unaff_EDI + 0x13b) == 3) {
          local_1c = CONCAT31(local_1c._1_3_,local_10);
          if ((unaff_EBX == 0) || (*(ushort *)(unaff_EBX + 0x14) == 0)) {
            local_18 = 0;
            local_1c &= 0xffff;
          }
          else {
            if (*(ushort *)(unaff_EBX + 0x14) <= (ushort)local_10) {
              FUN_0043df90("Incorrect bKGD chunk index value");
              __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
              return;
            }
            puVar5 = (undefined1 *)((uint)local_10 * 3 + *(int *)((int)unaff_EDI + 0x128));
            local_1c = (uint)CONCAT12(*puVar5,(short)local_1c);
            local_18 = (uint)CONCAT12(puVar5[2],(ushort)(byte)puVar5[1]);
          }
LAB_00440873:
          sVar3 = 0;
        }
        else {
          local_1c._0_2_ = (short)(local_1c >> 8) << 8;
          if ((*(byte *)((int)unaff_EDI + 0x13b) & 2) != 0) {
            local_1c = CONCAT22((ushort)local_10 * 0x100 + (ushort)local_f,(short)local_1c);
            local_18 = CONCAT22((ushort)local_c * 0x100 + (ushort)local_b,
                                (ushort)local_e * 0x100 + (ushort)local_d);
            goto LAB_00440873;
          }
          sVar3 = (ushort)local_10 * 0x100 + (ushort)local_f;
          local_18 = CONCAT22(sVar3,sVar3);
          local_1c = CONCAT22(sVar3,(short)local_1c);
        }
        if (unaff_EBX != 0) {
          *(uint *)(unaff_EBX + 8) = *(uint *)(unaff_EBX + 8) | 0x20;
          *(uint *)(unaff_EBX + 0x5a) = local_1c;
          *(uint *)(unaff_EBX + 0x5e) = local_18;
          *(short *)(unaff_EBX + 0x62) = sVar3;
          __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
          return;
        }
        goto LAB_00440702;
      }
      FUN_0043df90("Duplicate bKGD chunk");
    }
  }
  else {
    pcVar6 = "Invalid bKGD after IDAT";
LAB_004406ed:
    FUN_0043df90(pcVar6);
  }
  FUN_0043e780(unaff_EDI,param_1);
LAB_00440702:
  __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __fastcall FUN_004408b0(uint param_1,char *param_2)

{
  void *pvVar1;
  uint uVar2;
  char *pcVar3;
  uint uVar4;
  uint *puVar5;
  void *unaff_EDI;
  uint local_214;
  uint local_210;
  ushort local_20c [2];
  short local_208 [256];
  uint local_8;
  
  local_8 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  pvVar1 = *(void **)((int)unaff_EDI + 0x6c);
  if (((uint)pvVar1 & 1) == 0) {
    param_2 = "Missing IHDR before hIST";
    pvVar1 = unaff_EDI;
    FUN_0043de50();
  }
  if (((uint)pvVar1 & 4) == 0) {
    if (((uint)pvVar1 & 2) == 0) {
      pcVar3 = "Missing PLTE before hIST";
    }
    else if ((param_2 == NULL) || ((param_2[8] & 0x40U) == 0)) {
      if ((param_1 < 0x201) &&
         (uVar4 = (uint)*(ushort *)((int)unaff_EDI + 300) * 2, param_1 == uVar4)) {
        local_210 = 0;
        if (param_1 >> 1 != 0) {
          do {
            if (*(code **)((int)unaff_EDI + 0x54) == NULL) {
              FUN_0043de50();
              param_1 = local_210;
              goto LAB_00440a5b;
            }
            (**(code **)((int)unaff_EDI + 0x54))();
            local_214 = 2;
            puVar5 = (uint *)local_20c;
            if ((*(uint *)((int)unaff_EDI + 0x100) & 0x20000000) == 0) {
              if ((*(uint *)((int)unaff_EDI + 0x70) & 0x800) == 0) goto LAB_004409b0;
            }
            else if ((*(uint *)((int)unaff_EDI + 0x70) & 0x300) != 0x300) {
LAB_004409b0:
              do {
                uVar4 = local_214;
                if (local_214 == 0) {
                  uVar4 = 0xffffffff;
                }
                if (puVar5 == NULL) {
                  uVar2 = 0;
                }
                else {
                  uVar2 = FUN_004497a0(puVar5,uVar4);
                }
                puVar5 = (uint *)((int)puVar5 + uVar4);
                local_214 -= uVar4;
              } while (local_214 != 0);
              *(uint *)((int)unaff_EDI + 0x124) = uVar2;
            }
            uVar4 = (uint)(local_20c[0] >> 8);
            local_208[local_210] = local_20c[0] * 0x100 + (local_20c[0] >> 8);
            local_210 += 1;
          } while (local_210 < param_1 >> 1);
        }
        FUN_0043e780(unaff_EDI,0);
        if (uVar4 == 0) {
          FUN_00447220();
          __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
          return;
        }
        goto LAB_00440a72;
      }
LAB_00440a5b:
      pcVar3 = "Incorrect hIST chunk length";
    }
    else {
      pcVar3 = "Duplicate hIST chunk";
    }
  }
  else {
    pcVar3 = "Invalid hIST after IDAT";
  }
  FUN_0043df90(pcVar3);
  FUN_0043e780(unaff_EDI,param_1);
LAB_00440a72:
  __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __fastcall FUN_00440a90(uint param_1,char *param_2)

{
  code *pcVar1;
  void *pvVar2;
  uint uVar3;
  uint *puVar4;
  char *pcVar5;
  uint uVar6;
  void *unaff_EDI;
  uint local_18;
  undefined1 local_14;
  undefined1 local_13;
  undefined1 local_12;
  undefined1 local_11;
  undefined1 local_10;
  undefined1 local_f;
  undefined1 local_e;
  undefined1 local_d;
  char local_c;
  uint local_8;
  
  local_8 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  pvVar2 = *(void **)((int)unaff_EDI + 0x6c);
  pcVar5 = param_2;
  if (((uint)pvVar2 & 1) == 0) {
    pcVar5 = "Missing IHDR before pHYs";
    pvVar2 = unaff_EDI;
    FUN_0043de50();
  }
  if (((uint)pvVar2 & 4) == 0) {
    if ((pcVar5 == NULL) || ((pcVar5[8] & 0x80U) == 0)) {
      if (param_1 == 9) {
        if (*(code **)((int)unaff_EDI + 0x54) == NULL) {
          FUN_0043de50();
          pcVar1 = (code *)swi(3);
          (*pcVar1)();
          return;
        }
        uVar3 = (**(code **)((int)unaff_EDI + 0x54))();
        local_18 = 9;
        puVar4 = (uint *)&local_14;
        if ((*(uint *)((int)unaff_EDI + 0x100) & 0x20000000) == 0) {
          if ((*(uint *)((int)unaff_EDI + 0x70) & 0x800) == 0) goto LAB_00440b54;
        }
        else if ((*(uint *)((int)unaff_EDI + 0x70) & 0x300) != 0x300) {
LAB_00440b54:
          do {
            uVar6 = local_18;
            if (local_18 == 0) {
              uVar6 = 0xffffffff;
            }
            if (puVar4 == NULL) {
              uVar3 = 0;
            }
            else {
              uVar3 = FUN_004497a0(puVar4,uVar6);
            }
            puVar4 = (uint *)((int)puVar4 + uVar6);
            local_18 -= uVar6;
          } while (local_18 != 0);
          *(uint *)((int)unaff_EDI + 0x124) = uVar3;
          pcVar5 = param_2;
        }
        FUN_0043e780(unaff_EDI,0);
        if ((uVar3 == 0) && (pcVar5 != NULL)) {
          *(uint *)(pcVar5 + 8) = *(uint *)(pcVar5 + 8) | 0x80;
          *(uint *)(pcVar5 + 0x70) =
               CONCAT31(CONCAT21(CONCAT11(local_14,local_13),local_12),local_11);
          pcVar5[0x78] = local_c;
          *(uint *)(pcVar5 + 0x74) = CONCAT31(CONCAT21(CONCAT11(local_10,local_f),local_e),local_d);
          __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
          return;
        }
        goto LAB_00440ad7;
      }
      pcVar5 = "Incorrect pHYs chunk length";
    }
    else {
      pcVar5 = "Duplicate pHYs chunk";
    }
  }
  else {
    pcVar5 = "Invalid pHYs after IDAT";
  }
  FUN_0043df90(pcVar5);
  FUN_0043e780(unaff_EDI,param_1);
LAB_00440ad7:
  __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __fastcall FUN_00440c10(uint param_1,char *param_2)

{
  code *pcVar1;
  void *pvVar2;
  uint uVar3;
  uint *puVar4;
  char *pcVar5;
  uint uVar6;
  void *unaff_EDI;
  uint local_18;
  undefined1 local_14;
  undefined1 local_13;
  undefined1 local_12;
  undefined1 local_11;
  undefined1 local_10;
  undefined1 local_f;
  undefined1 local_e;
  undefined1 local_d;
  char local_c;
  uint local_8;
  
  local_8 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  pvVar2 = *(void **)((int)unaff_EDI + 0x6c);
  pcVar5 = param_2;
  if (((uint)pvVar2 & 1) == 0) {
    pcVar5 = "Missing IHDR before oFFs";
    pvVar2 = unaff_EDI;
    FUN_0043de50();
  }
  if (((uint)pvVar2 & 4) == 0) {
    if ((pcVar5 == NULL) || ((*(uint *)(pcVar5 + 8) & 0x100) == 0)) {
      if (param_1 == 9) {
        if (*(code **)((int)unaff_EDI + 0x54) == NULL) {
          FUN_0043de50();
          pcVar1 = (code *)swi(3);
          (*pcVar1)();
          return;
        }
        uVar3 = (**(code **)((int)unaff_EDI + 0x54))();
        local_18 = 9;
        puVar4 = (uint *)&local_14;
        if ((*(uint *)((int)unaff_EDI + 0x100) & 0x20000000) == 0) {
          if ((*(uint *)((int)unaff_EDI + 0x70) & 0x800) == 0) goto LAB_00440cd7;
        }
        else if ((*(uint *)((int)unaff_EDI + 0x70) & 0x300) != 0x300) {
LAB_00440cd7:
          do {
            uVar6 = local_18;
            if (local_18 == 0) {
              uVar6 = 0xffffffff;
            }
            if (puVar4 == NULL) {
              uVar3 = 0;
            }
            else {
              uVar3 = FUN_004497a0(puVar4,uVar6);
            }
            puVar4 = (uint *)((int)puVar4 + uVar6);
            local_18 -= uVar6;
          } while (local_18 != 0);
          *(uint *)((int)unaff_EDI + 0x124) = uVar3;
          pcVar5 = param_2;
        }
        FUN_0043e780(unaff_EDI,0);
        if (uVar3 == 0) {
          if (pcVar5 != NULL) {
            *(uint *)(pcVar5 + 8) = *(uint *)(pcVar5 + 8) | 0x100;
            *(uint *)(pcVar5 + 0x68) =
                 CONCAT31(CONCAT21(CONCAT11(local_10,local_f),local_e),local_d);
            *(uint *)(pcVar5 + 100) =
                 CONCAT31(CONCAT21(CONCAT11(local_14,local_13),local_12),local_11);
            pcVar5[0x6c] = local_c;
            __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
            return;
          }
        }
        goto LAB_00440c57;
      }
      pcVar5 = "Incorrect oFFs chunk length";
    }
    else {
      pcVar5 = "Duplicate oFFs chunk";
    }
  }
  else {
    pcVar5 = "Invalid oFFs after IDAT";
  }
  FUN_0043df90(pcVar5);
  FUN_0043e780(unaff_EDI,param_1);
LAB_00440c57:
  __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __thiscall FUN_00440dc0(void *this,int param_1)

{
  char cVar1;
  char cVar2;
  byte bVar3;
  byte bVar4;
  char cVar5;
  char cVar6;
  char cVar7;
  code *pcVar8;
  char *in_EAX;
  void *pvVar9;
  char *pcVar10;
  LPCSTR pCVar11;
  uint uVar12;
  char *pcVar13;
  int iVar14;
  undefined4 uVar15;
  
  pvVar9 = *(void **)((int)this + 0x6c);
  if (((uint)pvVar9 & 1) == 0) {
    in_EAX = s_Missing_IHDR_before_pCAL_0046a1f4;
    pvVar9 = this;
    FUN_0043de50();
  }
  if (((uint)pvVar9 & 4) == 0) {
    if ((param_1 == 0) || ((*(uint *)(param_1 + 8) & 0x400) == 0)) {
      if (*(void **)((int)this + 0x2a8) != NULL) {
        if (*(code **)((int)this + 0x268) == NULL) {
          free(*(void **)((int)this + 0x2a8));
        }
        else {
          (**(code **)((int)this + 0x268))(this);
        }
      }
      pvVar9 = FUN_0043e420((size_t)(in_EAX + 1));
      *(void **)((int)this + 0x2a8) = pvVar9;
      if (pvVar9 == NULL) {
        FUN_0043df90("No memory for pCAL purpose");
        return;
      }
      if (*(code **)((int)this + 0x54) == NULL) {
        FUN_0043de50();
        pcVar8 = (code *)swi(3);
        (*pcVar8)();
        return;
      }
      (**(code **)((int)this + 0x54))(this,pvVar9,in_EAX);
      pcVar13 = in_EAX;
      FUN_0043c0f0(pvVar9,(int)this);
      FUN_0043e780(this,0);
      if (pcVar13 != NULL) {
        FUN_0043e3f0((int)this,*(void **)((int)this + 0x2a8));
        *(undefined4 *)((int)this + 0x2a8) = 0;
        return;
      }
      in_EAX[*(int *)((int)this + 0x2a8)] = '\0';
      pcVar13 = *(char **)((int)this + 0x2a8);
      cVar1 = *pcVar13;
      pcVar10 = pcVar13;
      while (cVar1 != '\0') {
        pcVar10 = pcVar10 + 1;
        cVar1 = *pcVar10;
      }
      pcVar13 = pcVar13 + (int)in_EAX;
      if (pcVar13 <= pcVar10 + 0xc) {
        FUN_0043df90("Invalid pCAL data");
        if (*(void **)((int)this + 0x2a8) != NULL) {
          if (*(code **)((int)this + 0x268) != NULL) {
            (**(code **)((int)this + 0x268))(this);
            *(undefined4 *)((int)this + 0x2a8) = 0;
            return;
          }
          free(*(void **)((int)this + 0x2a8));
        }
        *(undefined4 *)((int)this + 0x2a8) = 0;
        return;
      }
      cVar1 = pcVar10[1];
      cVar5 = pcVar10[2];
      cVar6 = pcVar10[3];
      cVar7 = pcVar10[4];
      cVar2 = pcVar10[5];
      if (cVar2 < '\0') {
        uVar15 = CONCAT31(CONCAT21(CONCAT11(cVar2,pcVar10[6]),pcVar10[7]),pcVar10[8]);
      }
      else {
        uVar15 = CONCAT31(CONCAT21(CONCAT11(cVar2,pcVar10[6]),pcVar10[7]),pcVar10[8]);
      }
      bVar3 = pcVar10[9];
      bVar4 = pcVar10[10];
      pCVar11 = pcVar10 + 0xb;
      if (bVar3 == 0) {
        if (bVar4 != 2) {
LAB_00440fc4:
          FUN_0043df90("Invalid pCAL parameters for equation type");
          if (*(void **)((int)this + 0x2a8) != NULL) {
            if (*(code **)((int)this + 0x268) != NULL) {
              (**(code **)((int)this + 0x268))(this);
              *(undefined4 *)((int)this + 0x2a8) = 0;
              return;
            }
            free(*(void **)((int)this + 0x2a8));
          }
          *(undefined4 *)((int)this + 0x2a8) = 0;
          return;
        }
      }
      else if ((bVar3 == 1) || (bVar3 == 2)) {
        if (bVar4 != 3) goto LAB_00440fc4;
      }
      else if (bVar3 == 3) {
        if (bVar4 != 4) goto LAB_00440fc4;
      }
      else if (3 < bVar3) {
        FUN_0043df90("Unrecognized equation type for pCAL chunk");
      }
      cVar2 = *pCVar11;
      pcVar10 = pCVar11;
      while (cVar2 != '\0') {
        pcVar10 = pcVar10 + 1;
        cVar2 = *pcVar10;
      }
      uVar12 = (uint)bVar4;
      pvVar9 = FUN_0043e420(uVar12 * 4);
      if (pvVar9 == NULL) {
        if (*(void **)((int)this + 0x2a8) != NULL) {
          if (*(code **)((int)this + 0x268) == NULL) {
            free(*(void **)((int)this + 0x2a8));
          }
          else {
            (**(code **)((int)this + 0x268))(this);
          }
        }
        *(undefined4 *)((int)this + 0x2a8) = 0;
        FUN_0043df90("No memory for pCAL params");
        return;
      }
      iVar14 = 0;
      if (uVar12 != 0) {
        do {
          pcVar10 = pcVar10 + 1;
          *(char **)((int)pvVar9 + iVar14 * 4) = pcVar10;
          while( true ) {
            if (pcVar13 < pcVar10) goto LAB_004410ba;
            if (*pcVar10 == '\0') break;
            pcVar10 = pcVar10 + 1;
          }
          if (pcVar13 < pcVar10) {
LAB_004410ba:
            FUN_0043df90("Invalid pCAL data");
            if (*(void **)((int)this + 0x2a8) != NULL) {
              if (*(code **)((int)this + 0x268) == NULL) {
                free(*(void **)((int)this + 0x2a8));
              }
              else {
                (**(code **)((int)this + 0x268))(this);
              }
            }
            *(undefined4 *)((int)this + 0x2a8) = 0;
            if (*(code **)((int)this + 0x268) != NULL) {
              (**(code **)((int)this + 0x268))(this,pvVar9);
              return;
            }
            free(pvVar9);
            return;
          }
          iVar14 += 1;
        } while (iVar14 < (int)uVar12);
      }
      FUN_00447380(this,*(LPCSTR *)((int)this + 0x2a8),
                   CONCAT31(CONCAT21(CONCAT11(cVar1,cVar5),cVar6),cVar7),uVar15,(uint)bVar3,uVar12,
                   pCVar11,(int)pvVar9);
      if (*(void **)((int)this + 0x2a8) != NULL) {
        if (*(code **)((int)this + 0x268) == NULL) {
          free(*(void **)((int)this + 0x2a8));
        }
        else {
          (**(code **)((int)this + 0x268))(this);
        }
      }
      *(undefined4 *)((int)this + 0x2a8) = 0;
      if (*(code **)((int)this + 0x268) != NULL) {
        (**(code **)((int)this + 0x268))(this,pvVar9);
        return;
      }
      free(pvVar9);
      return;
    }
    pcVar13 = "Duplicate pCAL chunk";
  }
  else {
    pcVar13 = "Invalid pCAL after IDAT";
  }
  FUN_0043df90(pcVar13);
  FUN_0043e780(this,(uint)in_EAX);
  return;
}



void __cdecl FUN_004411c0(void *param_1,int param_2,uint param_3)

{
  char *pcVar1;
  char cVar2;
  void *pvVar3;
  uint uVar4;
  uint uVar5;
  char *pcVar6;
  uint local_c;
  uint local_8;
  
  pvVar3 = *(void **)((int)param_1 + 0x6c);
  if (((uint)pvVar3 & 1) == 0) {
    pvVar3 = param_1;
    FUN_0043de50();
  }
  if (((uint)pvVar3 & 4) != 0) {
    FUN_0043df90("Invalid sCAL after IDAT");
    FUN_0043e780(param_1,param_3);
    return;
  }
  if ((param_2 != 0) && ((*(uint *)(param_2 + 8) & 0x4000) != 0)) {
    FUN_0043df90("Duplicate sCAL chunk");
    FUN_0043e780(param_1,param_3);
    return;
  }
  if (param_3 < 4) {
    FUN_0043df90("sCAL chunk too short");
    FUN_0043e780(param_1,param_3);
    return;
  }
  pvVar3 = FUN_0043e420(param_3 + 1);
  *(void **)((int)param_1 + 0x2a8) = pvVar3;
  if (pvVar3 == NULL) {
    FUN_0043df90("Out of memory while processing sCAL chunk");
    FUN_0043e780(param_1,param_3);
    return;
  }
  uVar4 = param_3;
  FUN_0043e750();
  *(undefined1 *)(param_3 + *(int *)((int)param_1 + 0x2a8)) = 0;
  FUN_0043e780(param_1,0);
  if (uVar4 != 0) goto LAB_00441392;
  pcVar6 = *(char **)((int)param_1 + 0x2a8);
  cVar2 = *pcVar6;
  if ((cVar2 == '\x01') || (cVar2 == '\x02')) {
    local_8 = 1;
    local_c = 0;
    uVar4 = FUN_0043d1c0((int)pcVar6,&local_c,&local_8);
    if ((uVar4 != 0) && (local_8 < param_3)) {
      pcVar1 = pcVar6 + local_8;
      uVar4 = local_8 + 1;
      local_8 = uVar4;
      if (*pcVar1 == '\0') {
        if ((local_c & 0x188) == 0x108) {
          local_c = 0;
          uVar5 = FUN_0043d1c0((int)pcVar6,&local_c,&local_8);
          if ((uVar5 == 0) || (local_8 != param_3)) {
            pcVar6 = "Invalid sCAL chunk ignored: bad height format";
          }
          else {
            if ((local_c & 0x188) == 0x108) {
              FUN_00447590((int)cVar2,pcVar6 + 1,pcVar6 + uVar4);
              goto LAB_00441392;
            }
            pcVar6 = "Invalid sCAL chunk ignored: non-positive height";
          }
        }
        else {
          pcVar6 = "Invalid sCAL chunk ignored: non-positive width";
        }
        goto LAB_0044138b;
      }
    }
    pcVar6 = "Invalid sCAL chunk ignored: bad width format";
  }
  else {
    pcVar6 = "Invalid sCAL ignored: invalid unit";
  }
LAB_0044138b:
  FUN_0043df90(pcVar6);
LAB_00441392:
  FUN_0043e3f0((int)param_1,*(void **)((int)param_1 + 0x2a8));
  *(undefined4 *)((int)param_1 + 0x2a8) = 0;
  return;
}



void __fastcall FUN_004413b0(uint param_1,char *param_2)

{
  code *pcVar1;
  void *pvVar2;
  uint uVar3;
  uint *puVar4;
  char *pcVar5;
  uint uVar6;
  void *unaff_EDI;
  uint local_1c;
  short local_18;
  undefined1 local_16;
  undefined1 local_15;
  undefined4 local_14;
  byte local_10;
  byte local_f;
  undefined1 local_e;
  undefined1 local_d;
  undefined1 local_c;
  undefined1 local_b;
  undefined1 local_a;
  uint local_8;
  
  local_8 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  pvVar2 = *(void **)((int)unaff_EDI + 0x6c);
  pcVar5 = param_2;
  local_14 = param_2;
  if (((uint)pvVar2 & 1) == 0) {
    pcVar5 = "Out of place tIME chunk";
    pvVar2 = unaff_EDI;
    FUN_0043de50();
  }
  if ((pcVar5 == NULL) || ((*(uint *)(pcVar5 + 8) & 0x200) == 0)) {
    if (((uint)pvVar2 & 4) != 0) {
      *(uint *)((int)unaff_EDI + 0x6c) = (uint)pvVar2 | 8;
    }
    if (param_1 == 7) {
      if (*(code **)((int)unaff_EDI + 0x54) == NULL) {
        FUN_0043de50();
        pcVar1 = (code *)swi(3);
        (*pcVar1)();
        return;
      }
      uVar3 = (**(code **)((int)unaff_EDI + 0x54))();
      local_1c = 7;
      puVar4 = (uint *)&local_10;
      if ((*(uint *)((int)unaff_EDI + 0x100) & 0x20000000) == 0) {
        if ((*(uint *)((int)unaff_EDI + 0x70) & 0x800) == 0) goto LAB_00441476;
      }
      else if ((*(uint *)((int)unaff_EDI + 0x70) & 0x300) != 0x300) {
LAB_00441476:
        do {
          uVar6 = local_1c;
          if (local_1c == 0) {
            uVar6 = 0xffffffff;
          }
          if (puVar4 == NULL) {
            uVar3 = 0;
          }
          else {
            uVar3 = FUN_004497a0(puVar4,uVar6);
          }
          puVar4 = (uint *)((int)puVar4 + uVar6);
          local_1c -= uVar6;
        } while (local_1c != 0);
        *(uint *)((int)unaff_EDI + 0x124) = uVar3;
        pcVar5 = local_14;
      }
      FUN_0043e780(unaff_EDI,0);
      if (uVar3 == 0) {
        local_15 = local_d;
        local_14 = (char *)CONCAT22(CONCAT11(local_14._3_1_,local_a),CONCAT11(local_b,local_c));
        local_16 = local_e;
        local_18 = (ushort)local_10 * 0x100 + (ushort)local_f;
        FUN_00447b70((undefined4 *)&local_18,(int)pcVar5);
        __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
        return;
      }
      goto LAB_00441400;
    }
    pcVar5 = "Incorrect tIME chunk length";
  }
  else {
    pcVar5 = "Duplicate tIME chunk";
  }
  FUN_0043df90(pcVar5);
  FUN_0043e780(unaff_EDI,param_1);
LAB_00441400:
  __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __thiscall FUN_00441520(void *this,int param_1)

{
  char cVar1;
  char *pcVar2;
  code *pcVar3;
  uint in_EAX;
  void *pvVar4;
  uint uVar5;
  char *_Memory;
  char *pcVar6;
  int iVar7;
  char *lpString;
  
  iVar7 = *(int *)((int)this + 0x288);
  if (iVar7 != 0) {
    if (iVar7 == 1) {
      FUN_0043e780(this,in_EAX);
      return;
    }
    *(int *)((int)this + 0x288) = iVar7 + -1;
    if (iVar7 + -1 == 1) {
      FUN_0043df90("No space in chunk cache for tEXt");
      FUN_0043e780(this,in_EAX);
      return;
    }
  }
  pvVar4 = *(void **)((int)this + 0x6c);
  if (((uint)pvVar4 & 1) == 0) {
    pvVar4 = this;
    FUN_0043de50();
  }
  if (((uint)pvVar4 & 4) != 0) {
    *(uint *)((int)this + 0x6c) = (uint)pvVar4 | 8;
  }
  if (*(void **)((int)this + 0x2a8) != NULL) {
    if (*(code **)((int)this + 0x268) == NULL) {
      free(*(void **)((int)this + 0x2a8));
    }
    else {
      (**(code **)((int)this + 0x268))(this);
    }
  }
  pvVar4 = FUN_0043e420(in_EAX + 1);
  *(void **)((int)this + 0x2a8) = pvVar4;
  if (pvVar4 == NULL) {
    FUN_0043df90("No memory to process text chunk");
    return;
  }
  if (*(code **)((int)this + 0x54) == NULL) {
    FUN_0043de50();
    pcVar3 = (code *)swi(3);
    (*pcVar3)();
    return;
  }
  (**(code **)((int)this + 0x54))(this,pvVar4);
  uVar5 = in_EAX;
  FUN_0043c0f0(pvVar4,(int)this);
  FUN_0043e780(this,0);
  if (uVar5 == 0) {
    pcVar2 = *(char **)((int)this + 0x2a8);
    pcVar2[in_EAX] = '\0';
    cVar1 = *pcVar2;
    lpString = pcVar2;
    while (cVar1 != '\0') {
      lpString = lpString + 1;
      cVar1 = *lpString;
    }
    if (lpString != pcVar2 + in_EAX) {
      lpString = lpString + 1;
    }
    uVar5 = *(uint *)((int)this + 0x70);
    *(uint *)((int)this + 0x70) = uVar5 | 0x100000;
    if (*(code **)((int)this + 0x264) == NULL) {
      _Memory = (char *)malloc(0x1c);
    }
    else {
      _Memory = (char *)(**(code **)((int)this + 0x264))(this);
    }
    pcVar6 = NULL;
    if ((_Memory == NULL) && ((*(uint *)((int)this + 0x70) & 0x100000) == 0)) {
      _Memory = s_Out_of_Memory_0046968c;
      pcVar6 = (char *)this;
      FUN_0043de50();
    }
    *(uint *)((int)this + 0x70) = uVar5;
    if (_Memory != pcVar6) {
      _Memory[0] = -1;
      _Memory[1] = -1;
      _Memory[2] = -1;
      _Memory[3] = -1;
      *(char **)(_Memory + 4) = pcVar2;
      *(char **)(_Memory + 0x14) = pcVar6;
      *(char **)(_Memory + 0x18) = pcVar6;
      *(char **)(_Memory + 0x10) = pcVar6;
      *(char **)(_Memory + 8) = lpString;
      iVar7 = lstrlenA(lpString);
      *(int *)(_Memory + 0xc) = iVar7;
      iVar7 = FUN_004478c0((int)this,param_1,(int)_Memory);
      if (*(void **)((int)this + 0x2a8) != NULL) {
        if (*(code **)((int)this + 0x268) == NULL) {
          free(*(void **)((int)this + 0x2a8));
        }
        else {
          (**(code **)((int)this + 0x268))(this);
        }
      }
      *(undefined4 *)((int)this + 0x2a8) = 0;
      if (*(code **)((int)this + 0x268) == NULL) {
        free(_Memory);
      }
      else {
        (**(code **)((int)this + 0x268))(this);
      }
      if (iVar7 == 0) {
        return;
      }
      FUN_0043df90("Insufficient memory to process text chunk");
      return;
    }
    FUN_0043df90("Not enough memory to process text chunk");
  }
  if (*(void **)((int)this + 0x2a8) != NULL) {
    if (*(code **)((int)this + 0x268) != NULL) {
      (**(code **)((int)this + 0x268))(this);
      *(undefined4 *)((int)this + 0x2a8) = 0;
      return;
    }
    free(*(void **)((int)this + 0x2a8));
  }
  *(undefined4 *)((int)this + 0x2a8) = 0;
  return;
}



void __cdecl FUN_00441780(int param_1,char *param_2)

{
  char cVar1;
  code *pcVar2;
  int *in_EAX;
  void *this;
  int *piVar3;
  char *pcVar4;
  int iVar5;
  char *pcVar6;
  int local_10;
  char *local_c;
  uint local_8;
  
  iVar5 = in_EAX[0xa2];
  if (iVar5 != 0) {
    if (iVar5 == 1) {
      FUN_0043e780(in_EAX,(uint)param_2);
      return;
    }
    in_EAX[0xa2] = iVar5 + -1;
    if (iVar5 + -1 == 1) {
      FUN_0043df90("No space in chunk cache for zTXt");
      FUN_0043e780(in_EAX,(uint)param_2);
      return;
    }
  }
  piVar3 = (int *)in_EAX[0x1b];
  if (((uint)piVar3 & 1) == 0) {
    piVar3 = in_EAX;
    FUN_0043de50();
  }
  if (((uint)piVar3 & 4) != 0) {
    in_EAX[0x1b] = (uint)piVar3 | 8;
  }
  if ((void *)in_EAX[0xaa] != NULL) {
    if ((code *)in_EAX[0x9a] == NULL) {
      free((void *)in_EAX[0xaa]);
    }
    else {
      (*(code *)in_EAX[0x9a])();
    }
  }
  this = FUN_0043e420((size_t)(param_2 + 1));
  in_EAX[0xaa] = (int)this;
  if (this == NULL) {
    FUN_0043df90("Out of memory processing zTXt chunk");
    return;
  }
  if ((code *)in_EAX[0x15] != NULL) {
    (*(code *)in_EAX[0x15])();
    pcVar4 = param_2;
    FUN_0043c0f0(this,(int)in_EAX);
    FUN_0043e780(in_EAX,0);
    if (pcVar4 == NULL) {
      param_2[in_EAX[0xaa]] = '\0';
      pcVar4 = (char *)in_EAX[0xaa];
      cVar1 = *pcVar4;
      pcVar6 = pcVar4;
      while (cVar1 != '\0') {
        pcVar6 = pcVar6 + 1;
        cVar1 = *pcVar6;
      }
      if (pcVar6 < pcVar4 + -2 + (int)param_2) {
        iVar5 = (int)pcVar6[1];
        if (iVar5 != 0) {
          FUN_0043df90("Unknown compression type in zTXt chunk");
          iVar5 = 0;
        }
        local_c = pcVar6 + (2 - in_EAX[0xaa]);
        FUN_0043ea70(&local_10,iVar5,in_EAX,param_2,local_c);
        local_8 = in_EAX[0x1c];
        in_EAX[0x1c] = local_8 | 0x100000;
        if ((code *)in_EAX[0x99] == NULL) {
          pcVar4 = (char *)malloc(0x1c);
        }
        else {
          pcVar4 = (char *)(*(code *)in_EAX[0x99])();
        }
        piVar3 = NULL;
        if (((int *)pcVar4 == NULL) && ((in_EAX[0x1c] & 0x100000U) == 0)) {
          pcVar4 = s_Out_of_Memory_0046968c;
          piVar3 = in_EAX;
          FUN_0043de50();
        }
        in_EAX[0x1c] = local_8;
        if ((int *)pcVar4 != piVar3) {
          *(int *)pcVar4 = iVar5;
          *(int *)((int)pcVar4 + 4) = in_EAX[0xaa];
          *(int **)((int)pcVar4 + 0x14) = piVar3;
          *(int **)((int)pcVar4 + 0x18) = piVar3;
          *(int **)((int)pcVar4 + 0x10) = piVar3;
          *(char **)((int)pcVar4 + 8) = local_c + in_EAX[0xaa];
          *(int *)((int)pcVar4 + 0xc) = local_10;
          iVar5 = FUN_004478c0((int)in_EAX,param_1,(int)pcVar4);
          if ((code *)in_EAX[0x9a] == NULL) {
            free(pcVar4);
          }
          else {
            (*(code *)in_EAX[0x9a])();
          }
          if ((void *)in_EAX[0xaa] != NULL) {
            if ((code *)in_EAX[0x9a] == NULL) {
              free((void *)in_EAX[0xaa]);
            }
            else {
              (*(code *)in_EAX[0x9a])();
            }
          }
          in_EAX[0xaa] = 0;
          if (iVar5 == 0) {
            return;
          }
          FUN_0043de50();
          goto LAB_00441a0a;
        }
        pcVar4 = "Not enough memory to process zTXt chunk";
      }
      else {
        pcVar4 = "Truncated zTXt chunk";
      }
      FUN_0043df90(pcVar4);
    }
    if ((void *)in_EAX[0xaa] != NULL) {
      if ((code *)in_EAX[0x9a] != NULL) {
        (*(code *)in_EAX[0x9a])();
        in_EAX[0xaa] = 0;
        return;
      }
      free((void *)in_EAX[0xaa]);
    }
    in_EAX[0xaa] = 0;
    return;
  }
LAB_00441a0a:
  FUN_0043de50();
  pcVar2 = (code *)swi(3);
  (*pcVar2)();
  return;
}



void __thiscall FUN_00441a20(void *this,int param_1)

{
  char cVar1;
  uint uVar2;
  code *pcVar3;
  char *in_EAX;
  void *pvVar4;
  char *pcVar5;
  int iVar6;
  int iVar7;
  char *pcVar8;
  char *pcVar9;
  char *pcVar10;
  char *pcVar11;
  
  iVar6 = *(int *)((int)this + 0x288);
  if (iVar6 != 0) {
    if (iVar6 == 1) {
      FUN_0043e780(this,(uint)in_EAX);
      return;
    }
    *(int *)((int)this + 0x288) = iVar6 + -1;
    if (iVar6 + -1 == 1) {
      FUN_0043df90("No space in chunk cache for iTXt");
      FUN_0043e780(this,(uint)in_EAX);
      return;
    }
  }
  pvVar4 = *(void **)((int)this + 0x6c);
  if (((uint)pvVar4 & 1) == 0) {
    in_EAX = "Missing IHDR before iTXt";
    pvVar4 = this;
    FUN_0043de50();
  }
  if (((uint)pvVar4 & 4) != 0) {
    *(uint *)((int)this + 0x6c) = (uint)pvVar4 | 8;
  }
  if (*(void **)((int)this + 0x2a8) != NULL) {
    if (*(code **)((int)this + 0x268) == NULL) {
      free(*(void **)((int)this + 0x2a8));
    }
    else {
      (**(code **)((int)this + 0x268))(this);
    }
  }
  pvVar4 = FUN_0043e420((size_t)(in_EAX + 1));
  *(void **)((int)this + 0x2a8) = pvVar4;
  if (pvVar4 == NULL) {
    FUN_0043df90("No memory to process iTXt chunk");
    return;
  }
  if (*(code **)((int)this + 0x54) == NULL) {
    FUN_0043de50();
    pcVar3 = (code *)swi(3);
    (*pcVar3)();
    return;
  }
  (**(code **)((int)this + 0x54))(this,pvVar4,in_EAX);
  pcVar8 = in_EAX;
  FUN_0043c0f0(pvVar4,(int)this);
  FUN_0043e780(this,0);
  if (pcVar8 != NULL) goto LAB_00441cbf;
  in_EAX[*(int *)((int)this + 0x2a8)] = '\0';
  pcVar8 = *(char **)((int)this + 0x2a8);
  cVar1 = *pcVar8;
  pcVar9 = pcVar8;
  while (cVar1 != '\0') {
    pcVar9 = pcVar9 + 1;
    cVar1 = *pcVar9;
  }
  pcVar11 = pcVar8 + (int)in_EAX;
  if (pcVar9 + 1 < pcVar11 + -3) {
    pcVar10 = pcVar9 + 3;
    if ((pcVar9[2] == '\0') && (pcVar9[1] == '\0')) {
      cVar1 = *pcVar10;
      pcVar9 = pcVar10;
      while (cVar1 != '\0') {
        pcVar9 = pcVar9 + 1;
        cVar1 = *pcVar9;
      }
      pcVar9 = pcVar9 + 1;
      if (pcVar9 < pcVar11) {
        cVar1 = *pcVar9;
        pcVar5 = pcVar9;
        while (cVar1 != '\0') {
          pcVar5 = pcVar5 + 1;
          cVar1 = *pcVar5;
        }
        if (pcVar5 + 1 < pcVar11) {
          iVar6 = (int)(pcVar5 + 1) - (int)pcVar8;
          iVar7 = lstrlenA(pcVar8 + iVar6);
          uVar2 = *(uint *)((int)this + 0x70);
          *(uint *)((int)this + 0x70) = uVar2 | 0x100000;
          if (*(code **)((int)this + 0x264) == NULL) {
            pcVar11 = (char *)malloc(0x1c);
          }
          else {
            pcVar11 = (char *)(**(code **)((int)this + 0x264))(this);
          }
          if ((pcVar11 == NULL) && ((*(uint *)((int)this + 0x70) & 0x100000) == 0)) {
            pcVar11 = s_Out_of_Memory_0046968c;
            FUN_0043de50();
          }
          *(uint *)((int)this + 0x70) = uVar2;
          if (pcVar11 != NULL) {
            pcVar11[0] = '\x01';
            pcVar11[1] = '\0';
            pcVar11[2] = '\0';
            pcVar11[3] = '\0';
            *(char **)(pcVar11 + 0x18) = pcVar9 + (*(int *)((int)this + 0x2a8) - (int)pcVar8);
            *(char **)(pcVar11 + 0x14) = pcVar10 + (*(int *)((int)this + 0x2a8) - (int)pcVar8);
            *(int *)(pcVar11 + 0x10) = iVar7;
            pcVar11[0xc] = '\0';
            pcVar11[0xd] = '\0';
            pcVar11[0xe] = '\0';
            pcVar11[0xf] = '\0';
            *(undefined4 *)(pcVar11 + 4) = *(undefined4 *)((int)this + 0x2a8);
            *(int *)(pcVar11 + 8) = *(int *)((int)this + 0x2a8) + iVar6;
            iVar6 = FUN_004478c0((int)this,param_1,(int)pcVar11);
            if (*(code **)((int)this + 0x268) == NULL) {
              free(pcVar11);
            }
            else {
              (**(code **)((int)this + 0x268))(this);
            }
            if (*(void **)((int)this + 0x2a8) != NULL) {
              if (*(code **)((int)this + 0x268) == NULL) {
                free(*(void **)((int)this + 0x2a8));
              }
              else {
                (**(code **)((int)this + 0x268))(this);
              }
            }
            *(undefined4 *)((int)this + 0x2a8) = 0;
            if (iVar6 == 0) {
              return;
            }
            FUN_0043de50();
            goto LAB_00441cb3;
          }
          pcVar8 = "Not enough memory to process iTXt chunk";
        }
        else {
          pcVar8 = "Malformed iTXt chunk";
        }
      }
      else {
        pcVar8 = "Truncated iTXt chunk";
      }
    }
    else {
LAB_00441cb3:
      pcVar8 = "Unknown iTXt compression type or method";
    }
  }
  else {
    pcVar8 = "Truncated iTXt chunk";
  }
  FUN_0043df90(pcVar8);
LAB_00441cbf:
  if (*(void **)((int)this + 0x2a8) != NULL) {
    if (*(code **)((int)this + 0x268) != NULL) {
      (**(code **)((int)this + 0x268))(this);
      *(undefined4 *)((int)this + 0x2a8) = 0;
      return;
    }
    free(*(void **)((int)this + 0x2a8));
  }
  *(undefined4 *)((int)this + 0x2a8) = 0;
  return;
}



void __fastcall FUN_00441d20(void *param_1)

{
  uint uVar1;
  code *pcVar2;
  uint in_EAX;
  uint uVar3;
  void *this;
  int iVar4;
  undefined4 extraout_ECX;
  undefined4 extraout_ECX_00;
  undefined4 uVar5;
  undefined1 uVar6;
  uint local_8;
  
  iVar4 = *(int *)((int)param_1 + 0x288);
  local_8 = 0;
  if (iVar4 != 0) {
    if (iVar4 == 1) {
      FUN_0043e780(param_1,in_EAX);
      return;
    }
    *(int *)((int)param_1 + 0x288) = iVar4 + -1;
    if (iVar4 + -1 == 1) {
      FUN_0043df90("No space in chunk cache for unknown chunk");
      FUN_0043e780(param_1,in_EAX);
      return;
    }
  }
  uVar3 = *(uint *)((int)param_1 + 0x6c);
  if (((uVar3 & 4) != 0) && (*(int *)((int)param_1 + 0x100) != 0x49444154)) {
    uVar3 |= 8;
    *(uint *)((int)param_1 + 0x6c) = uVar3;
  }
  uVar1 = *(uint *)((int)param_1 + 0x100);
  if ((uVar1 & 0x20000000) == 0) {
    FUN_0043c9e0(param_1,(int)param_1,uVar1);
    if ((uVar3 != 3) && (*(int *)((int)param_1 + 0x244) == 0)) {
      FUN_0043e2c0();
    }
  }
  if (((*(uint *)((int)param_1 + 0x70) & 0x8000) == 0) && (*(int *)((int)param_1 + 0x244) == 0))
  goto LAB_00441edd;
  *(char *)((int)param_1 + 0x290) = (char)(uVar1 >> 0x18);
  *(char *)((int)param_1 + 0x291) = (char)(uVar1 >> 0x10);
  *(char *)((int)param_1 + 0x292) = (char)(uVar1 >> 8);
  *(undefined1 *)((int)param_1 + 0x293) = *(undefined1 *)((int)param_1 + 0x100);
  *(undefined1 *)((int)param_1 + 0x294) = 0;
  *(uint *)((int)param_1 + 0x29c) = in_EAX;
  if (in_EAX == 0) {
    *(undefined4 *)((int)param_1 + 0x298) = 0;
  }
  else {
    this = FUN_0043e3b0(in_EAX);
    *(void **)((int)param_1 + 0x298) = this;
    if (*(code **)((int)param_1 + 0x54) == NULL) {
      FUN_0043de50();
      pcVar2 = (code *)swi(3);
      (*pcVar2)();
      return;
    }
    (**(code **)((int)param_1 + 0x54))(param_1,this);
    FUN_0043c0f0(this,(int)param_1);
  }
  if (*(code **)((int)param_1 + 0x244) == NULL) {
LAB_00441e97:
    FUN_00447ee0((undefined4 *)((int)param_1 + 0x290));
  }
  else {
    iVar4 = (**(code **)((int)param_1 + 0x244))(param_1,(int)param_1 + 0x290);
    uVar6 = iVar4 == 0;
    uVar5 = extraout_ECX;
    if (iVar4 < 0) {
      FUN_0043e2c0();
      uVar5 = extraout_ECX_00;
    }
    if ((bool)uVar6) {
      uVar3 = *(uint *)((int)param_1 + 0x100);
      if ((uVar3 & 0x20000000) == 0) {
        FUN_0043c9e0(uVar5,(int)param_1,uVar3);
        if (uVar3 != 3) {
          FUN_0043e2c0();
        }
      }
      goto LAB_00441e97;
    }
  }
  if (*(void **)((int)param_1 + 0x298) != NULL) {
    if (*(code **)((int)param_1 + 0x268) == NULL) {
      free(*(void **)((int)param_1 + 0x298));
    }
    else {
      (**(code **)((int)param_1 + 0x268))(param_1);
    }
  }
  *(undefined4 *)((int)param_1 + 0x298) = 0;
  in_EAX = local_8;
LAB_00441edd:
  FUN_0043e780(param_1,in_EAX);
  return;
}



void __cdecl FUN_00441f00(byte *param_1,int param_2)

{
  byte *pbVar1;
  byte bVar2;
  byte bVar3;
  uint in_EAX;
  uint uVar4;
  uint uVar5;
  uint uVar6;
  char *pcVar7;
  int iVar8;
  char *extraout_EDX;
  uint uVar9;
  size_t _Size;
  char *pcVar10;
  byte *local_1c;
  uint local_18;
  byte local_14;
  uint local_10;
  byte *local_c;
  byte local_5;
  
  bVar2 = *(byte *)(in_EAX + 0x143);
  uVar9 = (uint)bVar2;
  pcVar10 = *(char **)(in_EAX + 0xe4);
  local_c = (byte *)(*(int *)(in_EAX + 0x108) + 1);
  bVar3 = *(byte *)(in_EAX + 0x139);
  uVar4 = (uint)bVar3;
  local_1c = NULL;
  local_5 = 0;
  uVar6 = uVar4;
  if (uVar9 == 0) {
    pcVar10 = "internal row logic error";
    uVar6 = in_EAX;
    FUN_0043de50();
  }
  if (*(uint *)(in_EAX + 0x11c) != 0) {
    if (uVar9 < 8) {
      uVar5 = (int)pcVar10 * uVar9 + 7 >> 3;
    }
    else {
      uVar5 = (uint)(bVar2 >> 3) * (int)pcVar10;
    }
    if (*(uint *)(in_EAX + 0x11c) != uVar5) {
      pcVar10 = "internal row size calculation error";
      uVar6 = in_EAX;
      FUN_0043de50();
    }
  }
  if (pcVar10 == NULL) {
    pcVar10 = "internal row width error";
    uVar6 = in_EAX;
    FUN_0043de50();
  }
  uVar5 = (int)pcVar10 * uVar9;
  local_14 = (byte)(uVar5 & 7);
  if ((uVar5 & 7) != 0) {
    if (uVar9 < 8) {
      uVar6 = uVar5 + 7 >> 3;
    }
    else {
      uVar6 = (uint)(bVar2 >> 3) * (int)pcVar10;
    }
    local_1c = param_1 + (uVar6 - 1);
    local_5 = *local_1c;
    if ((*(uint *)(in_EAX + 0x74) & 0x10000) == 0) {
      local_14 = (byte)(0xff >> local_14);
      uVar6 = uVar4;
    }
    else {
      local_14 = (byte)(0xff << local_14);
      uVar6 = uVar4;
    }
  }
  if ((((*(char *)(in_EAX + 0x138) == '\0') || ((*(uint *)(in_EAX + 0x74) & 2) == 0)) || (5 < uVar6)
      ) || ((param_2 != 0 && ((param_2 != 1 || ((uVar6 & 1) == 0)))))) {
    if (uVar9 < 8) {
      _Size = uVar5 + 7 >> 3;
    }
    else {
      _Size = (uint)(bVar2 >> 3) * (int)pcVar10;
    }
    memcpy(param_1,local_c,_Size);
  }
  else {
    pcVar7 = (char *)((uVar6 & 1) << (3U - (char)(uVar6 + 1 >> 1) & 0x1f) & 7);
    if (pcVar10 <= pcVar7) {
      return;
    }
    if (7 < uVar9) {
      if ((bVar2 & 7) != 0) {
        pcVar10 = "invalid user transform pixel depth";
        FUN_0043de50();
        uVar6 = in_EAX;
        pcVar7 = extraout_EDX;
      }
      uVar4 = (uint)(bVar2 >> 3);
      iVar8 = (int)pcVar7 * uVar4;
      param_1 = param_1 + iVar8;
      local_c = local_c + iVar8;
      uVar9 = (int)pcVar10 * uVar4 - iVar8;
      local_10 = uVar4;
      if ((param_2 != 0) &&
         (local_10 = (1 << ((byte)(6 - uVar6 >> 1) & 0x1f)) * uVar4,
         uVar9 <= local_10 && local_10 - uVar9 != 0)) {
        local_10 = uVar9;
      }
      uVar4 = (1 << ((byte)(7 - uVar6 >> 1) & 0x1f)) * uVar4;
      if (local_10 == 1) {
        *param_1 = *local_c;
        if (uVar9 <= uVar4) {
          return;
        }
        do {
          pbVar1 = local_c + uVar4;
          local_c = local_c + uVar4;
          param_1 = param_1 + uVar4;
          uVar9 -= uVar4;
          *param_1 = *pbVar1;
        } while (uVar4 < uVar9);
        return;
      }
      if (local_10 == 2) {
        do {
          *param_1 = *local_c;
          param_1[1] = local_c[1];
          if (uVar9 <= uVar4) {
            return;
          }
          uVar9 -= uVar4;
          local_c = local_c + uVar4;
          param_1 = param_1 + uVar4;
        } while (1 < uVar9);
        *param_1 = *local_c;
        return;
      }
      if (local_10 != 3) {
        if ((((0xf < local_10) || (((uint)param_1 & 1) != 0)) || (((uint)local_c & 1) != 0)) ||
           (((local_10 & 1) != 0 || ((uVar4 & 1) != 0)))) {
          memcpy(param_1,local_c,local_10);
          if (uVar9 <= uVar4) {
            return;
          }
          do {
            local_c = local_c + uVar4;
            param_1 = param_1 + uVar4;
            uVar9 -= uVar4;
            if (uVar9 < local_10) {
              local_10 = uVar9;
            }
            memcpy(param_1,local_c,local_10);
          } while (uVar4 < uVar9);
          return;
        }
        if (((((uint)param_1 & 3) == 0) && (((uint)local_c & 3) == 0)) &&
           (((local_10 & 3) == 0 && ((uVar4 & 3) == 0)))) {
          while( true ) {
            local_18 = local_10;
            do {
              *(undefined4 *)param_1 = *(undefined4 *)local_c;
              param_1 = param_1 + 4;
              local_c = local_c + 4;
              local_18 -= 4;
            } while (local_18 != 0);
            if (uVar9 <= uVar4) break;
            uVar6 = uVar4 - local_10 & 0xfffffffc;
            uVar9 -= uVar4;
            param_1 = param_1 + uVar6;
            local_c = local_c + uVar6;
            if (uVar9 < local_10) {
              iVar8 = (int)local_c - (int)param_1;
              do {
                *param_1 = param_1[iVar8];
                param_1 = param_1 + 1;
                uVar9 -= 1;
              } while (uVar9 != 0);
              return;
            }
          }
          return;
        }
        uVar6 = uVar4 - local_10 >> 1;
        while( true ) {
          local_18 = local_10;
          do {
            *(undefined2 *)param_1 = *(undefined2 *)local_c;
            param_1 = param_1 + 2;
            local_c = local_c + 2;
            local_18 -= 2;
          } while (local_18 != 0);
          if (uVar9 <= uVar4) break;
          uVar9 -= uVar4;
          param_1 = param_1 + uVar6 * 2;
          local_c = local_c + uVar6 * 2;
          if (uVar9 < local_10) {
            iVar8 = (int)local_c - (int)param_1;
            do {
              *param_1 = param_1[iVar8];
              param_1 = param_1 + 1;
              uVar9 -= 1;
            } while (uVar9 != 0);
            return;
          }
        }
        return;
      }
      *param_1 = *local_c;
      param_1[1] = local_c[1];
      param_1[2] = local_c[2];
      if (uVar9 <= uVar4) {
        return;
      }
      do {
        pbVar1 = local_c + uVar4;
        local_c = local_c + uVar4;
        param_1 = param_1 + uVar4;
        *param_1 = *pbVar1;
        param_1[1] = local_c[1];
        uVar9 -= uVar4;
        param_1[2] = local_c[2];
      } while (uVar4 < uVar9);
      return;
    }
    pcVar7 = (char *)(8 / (ulonglong)uVar9);
    if ((*(uint *)(in_EAX + 0x74) & 0x10000) == 0) {
      if (param_2 == 0) {
        iVar8 = 0;
        if (uVar9 != 1) {
          iVar8 = (uVar9 != 2) + 1;
        }
        uVar6 = *(uint *)(&DAT_00462720 + (uVar4 + iVar8 * 6) * 4);
      }
      else {
        iVar8 = 0;
        if (uVar9 != 1) {
          iVar8 = (uVar9 != 2) + 1;
        }
        uVar6 = *(uint *)(&DAT_0046278c + ((uint)(bVar3 >> 1) + iVar8 * 3) * 4);
      }
    }
    else if (param_2 == 0) {
      iVar8 = 0;
      if (uVar9 != 1) {
        iVar8 = (uVar9 != 2) + 1;
      }
      uVar6 = *(uint *)(&DAT_004626d8 + (uVar4 + iVar8 * 6) * 4);
    }
    else {
      iVar8 = 0;
      if (uVar9 != 1) {
        iVar8 = (uVar9 != 2) + 1;
      }
      uVar6 = *(uint *)(&DAT_00462768 + ((uint)(bVar3 >> 1) + iVar8 * 3) * 4);
    }
    while( true ) {
      if ((uVar6 & 0xff) != 0) {
        if ((uVar6 & 0xff) == 0xff) {
          *param_1 = *local_c;
        }
        else {
          *param_1 = ~(byte)uVar6 & *param_1 | *local_c & (byte)uVar6;
        }
      }
      if (pcVar10 <= pcVar7) break;
      pcVar10 = pcVar10 + -(int)pcVar7;
      param_1 = param_1 + 1;
      local_c = local_c + 1;
      uVar6 = uVar6 >> 8 | uVar6 << 0x18;
    }
  }
  if (local_1c != NULL) {
    *local_1c = ~local_14 & *local_1c | local_14 & local_5;
  }
  return;
}



void __fastcall FUN_004423c0(int param_1,uint param_2,uint *param_3,int param_4)

{
  byte bVar1;
  int iVar2;
  uint uVar3;
  byte *pbVar4;
  uint uVar5;
  void *_Src;
  uint _Size;
  byte *pbVar6;
  void *_Dst;
  byte *pbVar7;
  uint local_2c;
  byte *local_28;
  byte *local_24;
  uint local_20;
  uint local_1c;
  uint local_18;
  undefined1 local_10 [4];
  uint local_c;
  uint local_8;
  
  local_8 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  if ((param_1 != 0) && (param_3 != NULL)) {
    iVar2 = *(int *)(&DAT_004627b0 + param_4 * 4);
    uVar3 = *param_3;
    bVar1 = *(byte *)((int)param_3 + 0xb);
    uVar5 = uVar3 * iVar2;
    if (bVar1 == 1) {
      local_24 = (byte *)((uVar3 - 1 >> 3) + param_1);
      pbVar7 = (byte *)((uVar5 - 1 >> 3) + param_1);
      if ((param_2 & 0x10000) == 0) {
        pbVar4 = (byte *)(7 - (uVar3 - 1 & 7));
        pbVar6 = (byte *)(7 - (uVar5 - 1 & 7));
        local_28 = NULL;
        local_18 = 7;
        local_20 = 1;
      }
      else {
        pbVar4 = (byte *)(uVar3 - 1 & 7);
        pbVar6 = (byte *)(uVar5 - 1 & 7);
        local_28 = (byte *)0x7;
        local_18 = 0;
        local_20 = -1;
      }
      local_c = 0;
      if (uVar3 != 0) {
        do {
          bVar1 = *local_24;
          local_2c = iVar2;
          if (0 < iVar2) {
            do {
              *pbVar7 = (byte)(0x7f7f >> (7 - (byte)pbVar6 & 0x1f)) & *pbVar7 |
                        (bVar1 >> ((byte)pbVar4 & 0x1f) & 1) << ((byte)pbVar6 & 0x1f);
              if (pbVar6 == (byte *)local_18) {
                pbVar7 = pbVar7 + -1;
                pbVar6 = local_28;
              }
              else {
                pbVar6 = (byte *)((int)pbVar6 + local_20);
              }
              local_2c += -1;
            } while (local_2c != 0);
          }
          if (pbVar4 == (byte *)local_18) {
            local_24 = local_24 + -1;
            pbVar4 = local_28;
          }
          else {
            pbVar4 = (byte *)((int)pbVar4 + local_20);
          }
          local_c += 1;
        } while (local_c < *param_3);
      }
    }
    else if (bVar1 == 2) {
      local_24 = (byte *)((uVar3 - 1 >> 2) + param_1);
      pbVar7 = (byte *)((uVar5 - 1 >> 2) + param_1);
      if ((param_2 & 0x10000) == 0) {
        pbVar4 = (byte *)((3 - (uVar3 - 1 & 3)) * 2);
        pbVar6 = (byte *)((3 - (uVar5 - 1 & 3)) * 2);
        local_28 = NULL;
        local_18 = 6;
        local_1c = 2;
      }
      else {
        pbVar4 = (byte *)(uVar3 * 2 - 1 & 6);
        pbVar6 = (byte *)(uVar5 * 2 - 1 & 6);
        local_28 = (byte *)0x6;
        local_18 = 0;
        local_1c = -2;
      }
      local_20 = 0;
      if (uVar3 != 0) {
        do {
          bVar1 = *local_24;
          local_2c = iVar2;
          if (0 < iVar2) {
            do {
              *pbVar7 = (byte)(0x3f3f >> (6 - (byte)pbVar6 & 0x1f)) & *pbVar7 |
                        (bVar1 >> ((byte)pbVar4 & 0x1f) & 3) << ((byte)pbVar6 & 0x1f);
              if (pbVar6 == (byte *)local_18) {
                pbVar7 = pbVar7 + -1;
                pbVar6 = local_28;
              }
              else {
                pbVar6 = (byte *)((int)pbVar6 + local_1c);
              }
              local_2c += -1;
            } while (local_2c != 0);
          }
          if (pbVar4 == (byte *)local_18) {
            local_24 = local_24 + -1;
            pbVar4 = local_28;
          }
          else {
            pbVar4 = (byte *)((int)pbVar4 + local_1c);
          }
          local_20 += 1;
        } while (local_20 < *param_3);
      }
    }
    else if (bVar1 == 4) {
      local_28 = (byte *)((uVar3 - 1 >> 1) + param_1);
      pbVar7 = (byte *)((uVar5 - 1 >> 1) + param_1);
      if ((param_2 & 0x10000) == 0) {
        pbVar4 = (byte *)((uVar3 - 1 & 1) * -4 + 4);
        pbVar6 = (byte *)((uVar5 - 1 & 1) * -4 + 4);
        local_24 = NULL;
        local_1c = 4;
        local_18 = 4;
      }
      else {
        pbVar4 = (byte *)(uVar3 * -4 - 1 & 4);
        pbVar6 = (byte *)(uVar5 * -4 - 1 & 4);
        local_24 = (byte *)0x4;
        local_1c = 0;
        local_18 = -4;
      }
      local_2c = 0;
      if (uVar3 != 0) {
        do {
          bVar1 = *local_28;
          local_20 = iVar2;
          if (0 < iVar2) {
            do {
              *pbVar7 = (byte)(0xf0f >> (4 - (byte)pbVar6 & 0x1f)) & *pbVar7 |
                        (bVar1 >> ((byte)pbVar4 & 0x1f) & 0xf) << ((byte)pbVar6 & 0x1f);
              if (pbVar6 == (byte *)local_1c) {
                pbVar7 = pbVar7 + -1;
                pbVar6 = local_24;
              }
              else {
                pbVar6 = (byte *)((int)pbVar6 + local_18);
              }
              local_20 += -1;
            } while (local_20 != 0);
          }
          if (pbVar4 == (byte *)local_1c) {
            local_28 = local_28 + -1;
            pbVar4 = local_24;
          }
          else {
            pbVar4 = (byte *)((int)pbVar4 + local_18);
          }
          local_2c += 1;
        } while (local_2c < *param_3);
      }
    }
    else {
      _Size = (uint)(bVar1 >> 3);
      _Src = (void *)((uVar3 - 1) * _Size + param_1);
      _Dst = (void *)((uVar5 - 1) * _Size + param_1);
      local_18 = 0;
      if (uVar3 != 0) {
        do {
          memcpy(local_10,_Src,_Size);
          local_20 = iVar2;
          if (0 < iVar2) {
            do {
              memcpy(_Dst,local_10,_Size);
              _Dst = (void *)((int)_Dst - _Size);
              local_20 += -1;
            } while (local_20 != 0);
          }
          local_18 += 1;
          _Src = (void *)((int)_Src - _Size);
        } while (local_18 < *param_3);
      }
    }
    bVar1 = *(byte *)((int)param_3 + 0xb);
    *param_3 = uVar5;
    if (7 < bVar1) {
      param_3[1] = (bVar1 >> 3) * uVar5;
      __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
      return;
    }
    param_3[1] = bVar1 * uVar5 + 7 >> 3;
  }
  __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __cdecl FUN_004427c0(int param_1,int param_2)

{
  uint uVar1;
  uint uVar2;
  char *pcVar3;
  uint uVar4;
  
  uVar1 = *(uint *)(param_1 + 4);
  uVar4 = (int)(*(byte *)(param_1 + 0xb) + 7) >> 3;
  pcVar3 = (char *)(uVar4 + param_2);
  if (uVar4 < uVar1) {
    uVar2 = (int)pcVar3 - param_2;
    do {
      *pcVar3 = *pcVar3 + *(char *)((param_2 - uVar4) + uVar2);
      uVar2 += 1;
      pcVar3 = pcVar3 + 1;
    } while (uVar2 < uVar1);
  }
  return;
}



void __cdecl FUN_00442800(int param_1,char *param_2,int param_3)

{
  uint uVar1;
  uint uVar2;
  
  uVar1 = *(uint *)(param_1 + 4);
  uVar2 = 0;
  if (uVar1 != 0) {
    do {
      *param_2 = *param_2 + *(char *)(uVar2 + param_3);
      uVar2 += 1;
      param_2 = param_2 + 1;
    } while (uVar2 < uVar1);
  }
  return;
}



void __cdecl FUN_00442830(int param_1,char *param_2,byte *param_3)

{
  int iVar1;
  int iVar2;
  int iVar3;
  byte *pbVar4;
  
  iVar1 = (int)(*(byte *)(param_1 + 0xb) + 7) >> 3;
  iVar2 = *(int *)(param_1 + 4) - iVar1;
  for (iVar3 = iVar1; iVar3 != 0; iVar3 += -1) {
    *param_2 = *param_2 + (*param_3 >> 1);
    param_3 = param_3 + 1;
    param_2 = param_2 + 1;
  }
  if (iVar2 != 0) {
    pbVar4 = (byte *)(param_2 + -iVar1);
    iVar3 = (int)param_3 - (int)param_2;
    do {
      *param_2 = *param_2 + (char)(((uint)(byte)param_2[iVar3] + (uint)*pbVar4) / 2);
      param_2 = param_2 + 1;
      pbVar4 = pbVar4 + 1;
      iVar2 += -1;
    } while (iVar2 != 0);
  }
  return;
}



void __cdecl FUN_00442890(uint param_1,byte *param_2,byte *param_3)

{
  byte bVar1;
  int iVar2;
  uint uVar3;
  byte *pbVar4;
  int iVar5;
  byte *pbVar6;
  uint uVar7;
  uint uVar8;
  uint uVar9;
  int iVar10;
  uint uVar11;
  uint uVar12;
  
  iVar2 = *(int *)(param_1 + 4);
  bVar1 = *param_3;
  uVar8 = (uint)*param_2 + (uint)bVar1;
  *param_2 = (byte)uVar8;
  pbVar4 = param_3 + 1;
  uVar3 = (uint)bVar1;
  for (pbVar6 = param_2 + 1; pbVar6 < param_2 + iVar2; pbVar6 = pbVar6 + 1) {
    uVar11 = (uint)*pbVar4;
    uVar12 = uVar11 - uVar3;
    uVar9 = (uVar8 & 0xff) - uVar3;
    pbVar4 = pbVar4 + 1;
    iVar5 = (uVar12 ^ (int)uVar12 >> 0x1f) - ((int)uVar12 >> 0x1f);
    iVar10 = (uVar9 ^ (int)uVar9 >> 0x1f) - ((int)uVar9 >> 0x1f);
    uVar7 = (int)(uVar9 + uVar12) >> 0x1f;
    param_1 = uVar8 & 0xff;
    if (iVar10 < iVar5) {
      iVar5 = iVar10;
      param_1 = uVar11;
    }
    if ((int)((uVar9 + uVar12 ^ uVar7) - uVar7) < iVar5) {
      param_1 = uVar3;
    }
    uVar8 = param_1 + *pbVar6;
    *pbVar6 = (byte)uVar8;
    uVar3 = uVar11;
  }
  return;
}



void __cdecl FUN_00442940(int param_1,char *param_2,byte *param_3)

{
  char *pcVar1;
  byte bVar2;
  byte bVar3;
  int iVar4;
  byte *pbVar5;
  int iVar6;
  byte *pbVar7;
  uint uVar8;
  uint uVar9;
  int iVar10;
  int iVar11;
  uint uVar12;
  
  iVar10 = (int)(*(byte *)(param_1 + 0xb) + 7) >> 3;
  pcVar1 = param_2 + iVar10;
  if (param_2 < pcVar1) {
    do {
      *param_2 = *param_2 + *param_3;
      param_3 = param_3 + 1;
      param_2 = param_2 + 1;
    } while (param_2 < pcVar1);
  }
  iVar4 = *(int *)(param_1 + 4);
  if (param_2 < pcVar1 + (iVar4 - iVar10)) {
    pbVar7 = (byte *)(param_2 + -iVar10);
    pbVar5 = param_3 + -iVar10;
    do {
      bVar2 = *pbVar5;
      bVar3 = *param_3;
      param_3 = param_3 + 1;
      uVar12 = (uint)bVar3 - (uint)bVar2;
      uVar9 = (uint)*pbVar7 - (uint)bVar2;
      pbVar5 = pbVar5 + 1;
      iVar6 = (uVar12 ^ (int)uVar12 >> 0x1f) - ((int)uVar12 >> 0x1f);
      iVar11 = (uVar9 ^ (int)uVar9 >> 0x1f) - ((int)uVar9 >> 0x1f);
      uVar8 = (int)(uVar9 + uVar12) >> 0x1f;
      param_1._0_1_ = *pbVar7;
      if (iVar11 < iVar6) {
        iVar6 = iVar11;
        param_1._0_1_ = bVar3;
      }
      if ((int)((uVar9 + uVar12 ^ uVar8) - uVar8) < iVar6) {
        param_1._0_1_ = bVar2;
      }
      *param_2 = *param_2 + (byte)param_1;
      pbVar7 = pbVar7 + 1;
      param_2 = param_2 + 1;
    } while (param_2 < pcVar1 + (iVar4 - iVar10));
  }
  return;
}



void __fastcall FUN_00442a20(int param_1)

{
  int in_EAX;
  
  if (*(int *)(in_EAX + 0x2b4) == 0) {
    *(code **)(in_EAX + 0x2b4) = FUN_004427c0;
    *(code **)(in_EAX + 0x2b8) = FUN_00442800;
    *(code **)(in_EAX + 700) = FUN_00442830;
    if ((*(byte *)(in_EAX + 0x13e) + 7 & 0xfffffff8) == 8) {
      *(code **)(in_EAX + 0x2c0) = FUN_00442890;
    }
    else {
      *(code **)(in_EAX + 0x2c0) = FUN_00442940;
    }
  }
  if (param_1 - 1U < 4) {
                    // WARNING: Could not recover jumptable at 0x00442a82. Too many branches
                    // WARNING: Treating indirect jump as call
    (**(code **)(in_EAX + 0x2b0 + param_1 * 4))();
    return;
  }
  return;
}



void __fastcall FUN_00442a90(uint param_1)

{
  byte *pbVar1;
  byte bVar2;
  void *this;
  code *pcVar3;
  int iVar4;
  uint uVar5;
  int iVar6;
  uint extraout_ECX;
  uint extraout_ECX_00;
  uint extraout_ECX_01;
  uint extraout_ECX_02;
  uint extraout_ECX_03;
  void *unaff_EDI;
  undefined4 uStack_8;
  
  *(int *)((int)unaff_EDI + 0xfc) = *(int *)((int)unaff_EDI + 0xfc) + 1;
  if (*(uint *)((int)unaff_EDI + 0xec) <= *(uint *)((int)unaff_EDI + 0xfc)) {
    uStack_8 = param_1;
    if (*(char *)((int)unaff_EDI + 0x138) != '\0') {
      *(undefined4 *)((int)unaff_EDI + 0xfc) = 0;
      memset(*(void **)((int)unaff_EDI + 0x104),0,*(int *)((int)unaff_EDI + 0xf4) + 1);
      param_1 = extraout_ECX;
      do {
        *(char *)((int)unaff_EDI + 0x139) = *(char *)((int)unaff_EDI + 0x139) + '\x01';
        bVar2 = *(byte *)((int)unaff_EDI + 0x139);
        if (6 < bVar2) goto LAB_00442b58;
        param_1 = (uint)bVar2;
        *(uint *)((int)unaff_EDI + 0xf8) =
             ((*(int *)((int)unaff_EDI + 0xe4) - (uint)(byte)(&DAT_004627cc)[param_1]) + -1 +
             (uint)(byte)(&DAT_004627d4)[param_1]) / (uint)(byte)(&DAT_004627d4)[param_1];
        if ((*(byte *)((int)unaff_EDI + 0x74) & 2) != 0) break;
        pbVar1 = &DAT_004627e4 + param_1;
        param_1 = (uint)(byte)(&DAT_004627dc)[param_1];
        uVar5 = ((*(int *)((int)unaff_EDI + 0xe8) - param_1) + -1 + (uint)*pbVar1) / (uint)*pbVar1;
        *(uint *)((int)unaff_EDI + 0xec) = uVar5;
      } while ((uVar5 == 0) || (*(int *)((int)unaff_EDI + 0xf8) == 0));
      if (bVar2 < 7) {
        return;
      }
    }
LAB_00442b58:
    if ((*(byte *)((int)unaff_EDI + 0x70) & 0x20) == 0) {
      iVar6 = (int)&uStack_8 + 3;
      *(int *)((int)unaff_EDI + 0x84) = iVar6;
      *(undefined4 *)((int)unaff_EDI + 0x88) = 1;
      do {
        if (*(int *)((int)unaff_EDI + 0x7c) == 0) {
          iVar4 = *(int *)((int)unaff_EDI + 0x120);
          while (iVar4 == 0) {
            FUN_0043e780(unaff_EDI,0);
            FUN_0043e5e0((int)unaff_EDI);
            *(int *)((int)unaff_EDI + 0x120) = iVar6;
            iVar4 = iVar6;
            if (*(int *)((int)unaff_EDI + 0x100) != 0x49444154) {
              FUN_0043de50();
              goto LAB_00442c81;
            }
          }
          this = *(void **)((int)unaff_EDI + 0xb0);
          *(uint *)((int)unaff_EDI + 0x7c) = *(uint *)((int)unaff_EDI + 0xb4);
          *(void **)((int)unaff_EDI + 0x78) = this;
          if (*(uint *)((int)unaff_EDI + 0x120) < *(uint *)((int)unaff_EDI + 0xb4)) {
            *(uint *)((int)unaff_EDI + 0x7c) = *(uint *)((int)unaff_EDI + 0x120);
          }
          if (*(code **)((int)unaff_EDI + 0x54) != NULL) {
            (**(code **)((int)unaff_EDI + 0x54))();
            FUN_0043c0f0(this,(int)unaff_EDI);
            *(int *)((int)unaff_EDI + 0x120) =
                 *(int *)((int)unaff_EDI + 0x120) - *(int *)((int)unaff_EDI + 0x7c);
            goto LAB_00442c05;
          }
LAB_00442c81:
          FUN_0043de50();
          param_1 = extraout_ECX_03;
LAB_00442c8d:
          if (((*(int *)((int)unaff_EDI + 0x88) != 0) && (*(int *)((int)unaff_EDI + 0x7c) == 0)) &&
             (*(int *)((int)unaff_EDI + 0x120) == 0)) goto LAB_00442c36;
          break;
        }
LAB_00442c05:
        iVar6 = FUN_00448250((int *)((int)unaff_EDI + 0x78));
        param_1 = extraout_ECX_00;
        if (iVar6 == 1) goto LAB_00442c8d;
        if (iVar6 != 0) {
          FUN_0043de50();
          pcVar3 = (code *)swi(3);
          (*pcVar3)();
          return;
        }
        iVar6 = 0;
      } while (*(int *)((int)unaff_EDI + 0x88) != 0);
      FUN_0043df90("Extra compressed data");
      param_1 = extraout_ECX_01;
LAB_00442c36:
      *(uint *)((int)unaff_EDI + 0x6c) = *(uint *)((int)unaff_EDI + 0x6c) | 8;
      *(uint *)((int)unaff_EDI + 0x70) = *(uint *)((int)unaff_EDI + 0x70) | 0x20;
      *(undefined4 *)((int)unaff_EDI + 0x88) = 0;
    }
    if ((*(int *)((int)unaff_EDI + 0x120) != 0) || (*(int *)((int)unaff_EDI + 0x7c) != 0)) {
      FUN_0043df90("Extra compression data");
      param_1 = extraout_ECX_02;
    }
    FUN_00448000(param_1,(int)unaff_EDI + 0x78);
    *(uint *)((int)unaff_EDI + 0x6c) = *(uint *)((int)unaff_EDI + 0x6c) | 8;
  }
  return;
}



void FUN_00442cc0(void)

{
  char cVar1;
  void *in_EAX;
  uint uVar2;
  void *pvVar3;
  uint uVar4;
  char *_Size;
  
  *(undefined4 *)((int)in_EAX + 0x7c) = 0;
  FUN_004431e0();
  if (*(char *)((int)in_EAX + 0x138) == '\0') {
    uVar2 = *(uint *)((int)in_EAX + 0xe4);
    *(undefined4 *)((int)in_EAX + 0xec) = *(undefined4 *)((int)in_EAX + 0xe8);
  }
  else {
    if ((*(byte *)((int)in_EAX + 0x74) & 2) == 0) {
      *(uint *)((int)in_EAX + 0xec) = *(int *)((int)in_EAX + 0xe8) + 7U >> 3;
    }
    else {
      *(undefined4 *)((int)in_EAX + 0xec) = *(undefined4 *)((int)in_EAX + 0xe8);
    }
    uVar2 = ((*(int *)((int)in_EAX + 0xe4) -
             (uint)(byte)(&DAT_004627ec)[*(byte *)((int)in_EAX + 0x139)]) + -1 +
            (uint)(byte)(&DAT_004627f4)[*(byte *)((int)in_EAX + 0x139)]) /
            (uint)(byte)(&DAT_004627f4)[*(byte *)((int)in_EAX + 0x139)];
  }
  uVar4 = *(uint *)((int)in_EAX + 0x74);
  *(uint *)((int)in_EAX + 0xf8) = uVar2;
  uVar2 = (uint)*(byte *)((int)in_EAX + 0x13e);
  if (((uVar4 & 4) != 0) && (*(byte *)((int)in_EAX + 0x13c) < 8)) {
    uVar2 = 8;
  }
  if ((uVar4 & 0x1000) != 0) {
    cVar1 = *(char *)((int)in_EAX + 0x13b);
    if (cVar1 == '\x03') {
      uVar2 = (uint)(*(short *)((int)in_EAX + 0x134) != 0) * 8 + 0x18;
    }
    else if (cVar1 == '\0') {
      if (uVar2 < 8) {
        uVar2 = 8;
      }
      if (*(short *)((int)in_EAX + 0x134) != 0) {
        uVar2 *= 2;
      }
    }
    else if ((cVar1 == '\x02') && (*(short *)((int)in_EAX + 0x134) != 0)) {
      uVar2 = (uVar2 * 4) / 3;
    }
  }
  if ((uVar4 & 0x200) != 0) {
    if ((uVar4 & 0x1000) == 0) {
      *(uint *)((int)in_EAX + 0x74) = uVar4 & 0xfffffdff;
    }
    else if (*(byte *)((int)in_EAX + 0x13c) < 0x10) {
      uVar2 *= 2;
    }
  }
  uVar4 = *(uint *)((int)in_EAX + 0x74);
  if ((uVar4 & 0x8000) != 0) {
    cVar1 = *(char *)((int)in_EAX + 0x13b);
    if (cVar1 == '\0') {
      uVar2 = ((8 < uVar2) - 1 & 0xfffffff0) + 0x20;
    }
    else if ((cVar1 == '\x02') || (cVar1 == '\x03')) {
      uVar2 = ((0x20 < uVar2) - 1 & 0xffffffe0) + 0x40;
    }
  }
  if ((uVar4 & 0x4000) != 0) {
    if ((((*(short *)((int)in_EAX + 0x134) == 0) || ((uVar4 & 0x1000) == 0)) &&
        ((uVar4 & 0x8000) == 0)) && (cVar1 = *(char *)((int)in_EAX + 0x13b), cVar1 != '\x04')) {
      if ((int)uVar2 < 9) {
        uVar2 = (uint)(cVar1 == '\x06') * 8 + 0x18;
      }
      else {
        uVar2 = ((cVar1 != '\x06') - 1 & 0x10) + 0x30;
      }
    }
    else {
      uVar2 = ((0x10 < (int)uVar2) - 1 & 0xffffffe0) + 0x40;
    }
  }
  if (((uVar4 & 0x100000) != 0) &&
     (uVar4 = (uint)*(byte *)((int)in_EAX + 0x69) * (uint)*(byte *)((int)in_EAX + 0x68),
     uVar4 - uVar2 != 0 && (int)uVar2 <= (int)uVar4)) {
    uVar2 = uVar4;
  }
  uVar4 = *(int *)((int)in_EAX + 0xe4) + 7U & 0xfffffff8;
  *(char *)((int)in_EAX + 0x142) = (char)uVar2;
  *(undefined1 *)((int)in_EAX + 0x143) = 0;
  if ((int)uVar2 < 8) {
    uVar4 = uVar4 * uVar2 + 7 >> 3;
  }
  else {
    uVar4 = (uVar2 >> 3) * uVar4;
  }
  _Size = (char *)(((int)(uVar2 + 7) >> 3) + 0x31 + uVar4);
  if (_Size <= *(char **)((int)in_EAX + 0x2a4)) goto LAB_00442fe1;
  if (*(void **)((int)in_EAX + 0x26c) != NULL) {
    if (*(code **)((int)in_EAX + 0x268) == NULL) {
      free(*(void **)((int)in_EAX + 0x26c));
    }
    else {
      (**(code **)((int)in_EAX + 0x268))();
    }
  }
  if (*(void **)((int)in_EAX + 0x2b0) != NULL) {
    if (*(code **)((int)in_EAX + 0x268) == NULL) {
      free(*(void **)((int)in_EAX + 0x2b0));
    }
    else {
      (**(code **)((int)in_EAX + 0x268))();
    }
  }
  if (*(char *)((int)in_EAX + 0x138) == '\0') {
    if (_Size != NULL) {
      if (*(code **)((int)in_EAX + 0x264) == NULL) {
        pvVar3 = malloc((size_t)_Size);
      }
      else {
        pvVar3 = (void *)(**(code **)((int)in_EAX + 0x264))();
      }
      if ((pvVar3 != NULL) || ((*(uint *)((int)in_EAX + 0x70) & 0x100000) != 0)) goto LAB_00442f81;
      _Size = s_Out_of_Memory_0046968c;
      FUN_0043de50();
    }
    pvVar3 = NULL;
  }
  else {
    pvVar3 = FUN_0043e350(in_EAX);
  }
LAB_00442f81:
  *(void **)((int)in_EAX + 0x26c) = pvVar3;
  if (_Size == NULL) {
LAB_00442fbb:
    pvVar3 = NULL;
  }
  else {
    if (*(code **)((int)in_EAX + 0x264) == NULL) {
      pvVar3 = malloc((size_t)_Size);
    }
    else {
      pvVar3 = (void *)(**(code **)((int)in_EAX + 0x264))();
    }
    if ((pvVar3 == NULL) && ((*(uint *)((int)in_EAX + 0x70) & 0x100000) == 0)) {
      _Size = s_Out_of_Memory_0046968c;
      FUN_0043de50();
      goto LAB_00442fbb;
    }
  }
  *(void **)((int)in_EAX + 0x2b0) = pvVar3;
  *(int *)((int)in_EAX + 0x108) = *(int *)((int)in_EAX + 0x26c) + 0x1f;
  *(int *)((int)in_EAX + 0x104) = (int)pvVar3 + 0x1f;
  *(char **)((int)in_EAX + 0x2a4) = _Size;
LAB_00442fe1:
  pvVar3 = *(void **)((int)in_EAX + 0xf4);
  if (pvVar3 == (void *)0xffffffff) {
    pvVar3 = in_EAX;
    FUN_0043de50();
  }
  memset(*(void **)((int)in_EAX + 0x104),0,(int)pvVar3 + 1);
  *(uint *)((int)in_EAX + 0x70) = *(uint *)((int)in_EAX + 0x70) | 0x40;
  return;
}



void FUN_00443020(void)

{
  char *pcVar1;
  char cVar2;
  ushort uVar3;
  uint uVar4;
  bool bVar5;
  bool bVar6;
  int in_EAX;
  byte *pbVar7;
  int iVar8;
  
  bVar5 = false;
  bVar6 = false;
  if ((*(short *)(in_EAX + 0x134) != 0) && (iVar8 = 0, *(short *)(in_EAX + 0x134) != 0)) {
    do {
      cVar2 = *(char *)(*(int *)(in_EAX + 0x1a4) + iVar8);
      if (cVar2 != -1) {
        if (cVar2 == '\0') {
          bVar6 = true;
        }
        else {
          bVar5 = true;
        }
      }
      iVar8 += 1;
    } while (iVar8 < (int)(uint)*(ushort *)(in_EAX + 0x134));
    if (bVar5) goto LAB_00443088;
  }
  *(uint *)(in_EAX + 0x74) = *(uint *)(in_EAX + 0x74) & 0xff7fffff;
  *(uint *)(in_EAX + 0x70) = *(uint *)(in_EAX + 0x70) & 0xffffdfff;
  if (!bVar6) {
    *(uint *)(in_EAX + 0x74) = *(uint *)(in_EAX + 0x74) & 0xfffffe7f;
  }
LAB_00443088:
  uVar4 = *(uint *)(in_EAX + 0x74);
  if (((uVar4 & 0x100) != 0) && ((uVar4 & 0x1000) != 0)) {
    pbVar7 = (byte *)((uint)*(byte *)(in_EAX + 0x154) * 3 + *(int *)(in_EAX + 0x128));
    *(ushort *)(in_EAX + 0x156) = (ushort)*pbVar7;
    *(ushort *)(in_EAX + 0x158) = (ushort)pbVar7[1];
    *(ushort *)(in_EAX + 0x15a) = (ushort)pbVar7[2];
    if (((uVar4 & 0x80000) != 0) && ((uVar4 & 0x2000000) == 0)) {
      uVar3 = *(ushort *)(in_EAX + 0x134);
      iVar8 = 0;
      if (uVar3 != 0) {
        do {
          pcVar1 = (char *)(*(int *)(in_EAX + 0x1a4) + iVar8);
          iVar8 += 1;
          *pcVar1 = -1 - *pcVar1;
        } while (iVar8 < (int)(uint)uVar3);
      }
    }
  }
  return;
}



void FUN_00443110(void)

{
  char cVar1;
  uint uVar2;
  int in_EAX;
  short sVar3;
  short sVar4;
  
  if ((*(byte *)(in_EAX + 0x13b) & 4) == 0) {
    *(uint *)(in_EAX + 0x74) = *(uint *)(in_EAX + 0x74) & 0xff7fffff;
    *(uint *)(in_EAX + 0x70) = *(uint *)(in_EAX + 0x70) & 0xffffdfff;
    if (*(short *)(in_EAX + 0x134) == 0) {
      *(uint *)(in_EAX + 0x74) = *(uint *)(in_EAX + 0x74) & 0xfffffe7f;
    }
  }
  uVar2 = *(uint *)(in_EAX + 0x74);
  if ((((uVar2 & 0x100) != 0) && ((uVar2 & 0x1000) != 0)) && ((*(byte *)(in_EAX + 0x13b) & 2) == 0))
  {
    sVar3 = *(short *)(in_EAX + 0x15c);
    sVar4 = *(short *)(in_EAX + 0x1b0);
    cVar1 = *(char *)(in_EAX + 0x13c);
    if (cVar1 == '\x01') {
      sVar3 *= 0xff;
      sVar4 *= 0xff;
    }
    else if (cVar1 == '\x02') {
      sVar3 *= 0x55;
      sVar4 *= 0x55;
    }
    else if (cVar1 == '\x04') {
      sVar3 *= 0x11;
      sVar4 *= 0x11;
    }
    *(short *)(in_EAX + 0x15a) = sVar3;
    *(short *)(in_EAX + 0x158) = sVar3;
    *(short *)(in_EAX + 0x156) = sVar3;
    if ((uVar2 & 0x2000000) == 0) {
      *(short *)(in_EAX + 0x1ae) = sVar4;
      *(short *)(in_EAX + 0x1ac) = sVar4;
      *(short *)(in_EAX + 0x1aa) = sVar4;
    }
  }
  return;
}



void FUN_004431e0(void)

{
  char cVar1;
  byte bVar2;
  byte bVar3;
  short sVar4;
  undefined2 uVar5;
  undefined3 uVar6;
  undefined1 uVar7;
  undefined1 uVar8;
  byte bVar9;
  byte bVar10;
  ushort uVar11;
  byte *pbVar12;
  undefined4 extraout_ECX;
  ushort uVar13;
  undefined4 extraout_EDX;
  int iVar14;
  uint uVar15;
  uint uVar16;
  int iVar17;
  int unaff_EDI;
  bool bVar18;
  bool bVar19;
  ulonglong uVar20;
  double dVar21;
  undefined2 local_c;
  undefined1 local_8 [2];
  byte bStack_6;
  
  iVar17 = *(int *)(unaff_EDI + 0x178);
  iVar14 = 100000;
  if (iVar17 == 0) {
    if (*(int *)(unaff_EDI + 0x17c) == 0) {
      *(undefined4 *)(unaff_EDI + 0x178) = 100000;
      *(undefined4 *)(unaff_EDI + 0x17c) = 100000;
    }
    else {
      uVar20 = FUN_0043d410(*(int *)(unaff_EDI + 0x17c));
      *(int *)(unaff_EDI + 0x178) = (int)uVar20;
    }
LAB_0044326f:
    *(uint *)(unaff_EDI + 0x74) = *(uint *)(unaff_EDI + 0x74) & 0xffffdfff;
  }
  else {
    if (*(int *)(unaff_EDI + 0x17c) == 0) {
      uVar20 = FUN_0043d410(iVar17);
      *(int *)(unaff_EDI + 0x17c) = (int)uVar20;
      goto LAB_0044326f;
    }
    dVar21 = floor(((double)iVar17 * (double)*(int *)(unaff_EDI + 0x17c)) / 100000.0 + 0.5);
    if (((dVar21 <= 2147483647.0) &&
        (!NAN(dVar21) && -2147483648.0 < dVar21 != (dVar21 == -2147483648.0))) &&
       (uVar20 = FUN_0045db50(extraout_ECX,extraout_EDX), (int)uVar20 - 95000U < 0x2711))
    goto LAB_0044326f;
    *(uint *)(unaff_EDI + 0x74) = *(uint *)(unaff_EDI + 0x74) | 0x2000;
  }
  uVar16 = *(uint *)(unaff_EDI + 0x74);
  if (((uVar16 & 0x40000) != 0) && (-1 < (char)uVar16)) {
    *(uint *)(unaff_EDI + 0x70) = *(uint *)(unaff_EDI + 0x70) & 0xffffdfff;
    *(uint *)(unaff_EDI + 0x74) = uVar16 & 0xfd7ffeff;
    *(undefined2 *)(unaff_EDI + 0x134) = 0;
  }
  if (*(int *)(unaff_EDI + 0x17c) - 95000U < 0x2711) {
    *(uint *)(unaff_EDI + 0x74) = *(uint *)(unaff_EDI + 0x74) & 0xff7fffff;
    *(uint *)(unaff_EDI + 0x70) = *(uint *)(unaff_EDI + 0x70) & 0xffffdfff;
  }
  uVar16 = *(uint *)(unaff_EDI + 0x74);
  if ((uVar16 & 0x100) == 0) {
    if ((((char)uVar16 < '\0') && ((uVar16 & 0x4000) != 0)) &&
       ((sVar4 = *(short *)(unaff_EDI + 0x156), sVar4 == *(short *)(unaff_EDI + 0x158) &&
        (sVar4 == *(short *)(unaff_EDI + 0x15a))))) {
      *(short *)(unaff_EDI + 0x15c) = sVar4;
      goto LAB_00443342;
    }
  }
  else if ((*(byte *)(unaff_EDI + 0x13b) & 2) == 0) {
LAB_00443342:
    *(uint *)(unaff_EDI + 0x6c) = *(uint *)(unaff_EDI + 0x6c) | 0x800;
  }
  if (*(char *)(unaff_EDI + 0x13b) == '\x03') {
    FUN_00443020();
  }
  else {
    FUN_00443110();
  }
  uVar16 = *(uint *)(unaff_EDI + 0x74);
  if (((((uVar16 & 0x200) != 0) && ((char)uVar16 < '\0')) && ((uVar16 & 0x100) == 0)) &&
     (*(char *)(unaff_EDI + 0x13c) != '\x10')) {
    *(short *)(unaff_EDI + 0x156) = (short)((*(ushort *)(unaff_EDI + 0x156) + 0x81) * 0xff >> 0x10);
    *(short *)(unaff_EDI + 0x158) = (short)((*(ushort *)(unaff_EDI + 0x158) + 0x81) * 0xff >> 0x10);
    *(short *)(unaff_EDI + 0x15a) = (short)((*(ushort *)(unaff_EDI + 0x15a) + 0x81) * 0xff >> 0x10);
    *(short *)(unaff_EDI + 0x15c) = (short)((*(ushort *)(unaff_EDI + 0x15c) + 0x81) * 0xff >> 0x10);
  }
  if ((((uVar16 & 0x4000400) != 0) && ((char)uVar16 < '\0')) &&
     (((uVar16 & 0x100) == 0 && (*(char *)(unaff_EDI + 0x13c) == '\x10')))) {
    *(short *)(unaff_EDI + 0x156) = *(short *)(unaff_EDI + 0x156) * 0x101;
    *(short *)(unaff_EDI + 0x158) = *(short *)(unaff_EDI + 0x158) * 0x101;
    *(short *)(unaff_EDI + 0x15a) = *(short *)(unaff_EDI + 0x15a) * 0x101;
    *(short *)(unaff_EDI + 0x15c) = *(short *)(unaff_EDI + 0x15c) * 0x101;
  }
  *(undefined4 *)(unaff_EDI + 0x15e) = *(undefined4 *)(unaff_EDI + 0x154);
  *(undefined4 *)(unaff_EDI + 0x162) = *(undefined4 *)(unaff_EDI + 0x158);
  *(undefined2 *)(unaff_EDI + 0x166) = *(undefined2 *)(unaff_EDI + 0x15c);
  if (((((uVar16 & 0x2000) == 0) &&
       (((uVar16 & 0x600000) == 0 ||
        ((*(int *)(unaff_EDI + 0x178) - 95000U < 0x2711 &&
         (*(int *)(unaff_EDI + 0x17c) - 95000U < 0x2711)))))) &&
      (((uVar16 & 0x80) == 0 ||
       (((*(int *)(unaff_EDI + 0x178) - 95000U < 0x2711 &&
         (*(int *)(unaff_EDI + 0x17c) - 95000U < 0x2711)) &&
        ((*(char *)(unaff_EDI + 0x14c) != '\x03' || (*(int *)(unaff_EDI + 0x150) - 95000U < 0x2711))
        )))))) && (((uVar16 & 0x800000) == 0 || (*(int *)(unaff_EDI + 0x17c) - 95000U < 0x2711)))) {
    if (((uVar16 & 0x80) != 0) && (*(char *)(unaff_EDI + 0x13b) == '\x03')) {
      bVar10 = *(byte *)(unaff_EDI + 0x156);
      uVar11 = *(ushort *)(unaff_EDI + 0x134);
      bVar9 = *(byte *)(unaff_EDI + 0x158);
      bVar2 = *(byte *)(unaff_EDI + 0x15a);
      iVar17 = 0;
      local_c = CONCAT11(bVar9,bVar10);
      if (uVar11 != 0) {
        pbVar12 = (byte *)(*(int *)(unaff_EDI + 0x128) + 2);
        do {
          cVar1 = *(char *)(*(int *)(unaff_EDI + 0x1a4) + iVar17);
          if (cVar1 == '\0') {
            *(undefined2 *)(pbVar12 + -2) = local_c;
            *pbVar12 = bVar2;
          }
          else if (cVar1 != -1) {
            bVar3 = *(byte *)(*(int *)(unaff_EDI + 0x1a4) + iVar17);
            uVar13 = (0xff - (ushort)bVar3) * (ushort)bVar10 + (ushort)pbVar12[-2] * (ushort)bVar3 +
                     0x80;
            pbVar12[-2] = (byte)((uint)(uVar13 >> 8) + (uint)uVar13 >> 8);
            bVar3 = *(byte *)(*(int *)(unaff_EDI + 0x1a4) + iVar17);
            uVar13 = (0xff - (ushort)bVar3) * (ushort)bVar9 + (ushort)pbVar12[-1] * (ushort)bVar3 +
                     0x80;
            pbVar12[-1] = (byte)((uint)(uVar13 >> 8) + (uint)uVar13 >> 8);
            bVar3 = *(byte *)(*(int *)(unaff_EDI + 0x1a4) + iVar17);
            uVar13 = (0xff - (ushort)bVar3) * (ushort)bVar2 + (ushort)*pbVar12 * (ushort)bVar3 +
                     0x80;
            *pbVar12 = (byte)((uint)(uVar13 >> 8) + (uint)uVar13 >> 8);
          }
          iVar17 += 1;
          pbVar12 = pbVar12 + 3;
        } while (iVar17 < (int)(uint)uVar11);
      }
      *(uint *)(unaff_EDI + 0x74) = *(uint *)(unaff_EDI + 0x74) & 0xffffff7f;
    }
    goto LAB_00443c8c;
  }
  FUN_0043dc60((uint)*(byte *)(unaff_EDI + 0x13c));
  uVar16 = *(uint *)(unaff_EDI + 0x74);
  if (-1 < (char)uVar16) {
    if ((*(char *)(unaff_EDI + 0x13b) == '\x03') &&
       (((uVar16 & 0x1000) == 0 || ((uVar16 & 0x600000) == 0)))) {
      uVar16 = (uint)*(ushort *)(unaff_EDI + 300);
      if (uVar16 != 0) {
        pbVar12 = (byte *)(*(int *)(unaff_EDI + 0x128) + 2);
        do {
          pbVar12[-2] = *(byte *)((uint)pbVar12[-2] + *(int *)(unaff_EDI + 0x180));
          pbVar12[-1] = *(byte *)((uint)pbVar12[-1] + *(int *)(unaff_EDI + 0x180));
          *pbVar12 = *(byte *)((uint)*pbVar12 + *(int *)(unaff_EDI + 0x180));
          pbVar12 = pbVar12 + 3;
          uVar16 -= 1;
        } while (uVar16 != 0);
      }
      *(uint *)(unaff_EDI + 0x74) = *(uint *)(unaff_EDI + 0x74) & 0xffffdfff;
    }
    goto LAB_00443c8c;
  }
  if ((uVar16 & 0x600000) != 0) {
    FUN_0043df90("libpng does not support gamma+background+rgb_to_gray");
  }
  if (*(char *)(unaff_EDI + 0x13b) != '\x03') {
    cVar1 = *(char *)(unaff_EDI + 0x14c);
    if (cVar1 == '\x01') {
      iVar17 = *(int *)(unaff_EDI + 0x17c);
    }
    else {
      if (cVar1 == '\x02') {
        iVar14 = *(int *)(unaff_EDI + 0x178);
      }
      else {
        if (cVar1 != '\x03') {
          FUN_0043de50();
        }
        iVar14 = *(int *)(unaff_EDI + 0x150);
      }
      uVar20 = FUN_0043d410(iVar14);
      iVar17 = (int)uVar20;
      uVar20 = FUN_0043d4b0(iVar14,*(int *)(unaff_EDI + 0x17c));
      iVar14 = (int)uVar20;
    }
    bVar18 = 10000 < iVar17 - 95000U;
    bVar19 = 10000 < iVar14 - 95000U;
    if (bVar18) {
      uVar11 = *(ushort *)(unaff_EDI + 0x15c);
      if (*(char *)(unaff_EDI + 0x13c) == '\b') {
        FUN_0043d500();
        uVar11 &= 0xff;
      }
      else {
        FUN_0043d570();
      }
      *(ushort *)(unaff_EDI + 0x166) = uVar11;
    }
    if (bVar19) {
      uVar11 = *(ushort *)(unaff_EDI + 0x15c);
      if (*(char *)(unaff_EDI + 0x13c) == '\b') {
        FUN_0043d500();
        uVar11 &= 0xff;
      }
      else {
        FUN_0043d570();
      }
      *(ushort *)(unaff_EDI + 0x15c) = uVar11;
    }
    uVar11 = *(ushort *)(unaff_EDI + 0x156);
    if (((uVar11 == *(ushort *)(unaff_EDI + 0x158)) && (uVar11 == *(ushort *)(unaff_EDI + 0x15a)))
       && (uVar13 = *(ushort *)(unaff_EDI + 0x15c), uVar11 == uVar13)) {
      uVar5 = *(undefined2 *)(unaff_EDI + 0x166);
      *(undefined2 *)(unaff_EDI + 0x164) = uVar5;
      *(undefined2 *)(unaff_EDI + 0x162) = uVar5;
      *(undefined2 *)(unaff_EDI + 0x160) = uVar5;
      *(ushort *)(unaff_EDI + 0x15a) = uVar13;
      *(ushort *)(unaff_EDI + 0x158) = uVar13;
      *(ushort *)(unaff_EDI + 0x156) = uVar13;
      *(undefined1 *)(unaff_EDI + 0x14c) = 1;
    }
    else {
      if (bVar18) {
        cVar1 = *(char *)(unaff_EDI + 0x13c);
        if (cVar1 == '\b') {
          FUN_0043d500();
          uVar11 &= 0xff;
        }
        else {
          FUN_0043d570();
        }
        *(ushort *)(unaff_EDI + 0x160) = uVar11;
        uVar11 = *(ushort *)(unaff_EDI + 0x158);
        if (cVar1 == '\b') {
          FUN_0043d500();
          uVar11 &= 0xff;
        }
        else {
          FUN_0043d570();
        }
        *(ushort *)(unaff_EDI + 0x162) = uVar11;
        uVar11 = *(ushort *)(unaff_EDI + 0x15a);
        if (cVar1 == '\b') {
          FUN_0043d500();
          uVar11 &= 0xff;
        }
        else {
          FUN_0043d570();
        }
        *(ushort *)(unaff_EDI + 0x164) = uVar11;
      }
      if (bVar19) {
        cVar1 = *(char *)(unaff_EDI + 0x13c);
        uVar11 = *(ushort *)(unaff_EDI + 0x156);
        if (cVar1 == '\b') {
          FUN_0043d500();
          uVar11 &= 0xff;
        }
        else {
          FUN_0043d570();
        }
        *(ushort *)(unaff_EDI + 0x156) = uVar11;
        uVar11 = *(ushort *)(unaff_EDI + 0x158);
        if (cVar1 == '\b') {
          FUN_0043d500();
          uVar11 &= 0xff;
        }
        else {
          FUN_0043d570();
        }
        *(ushort *)(unaff_EDI + 0x158) = uVar11;
        uVar11 = *(ushort *)(unaff_EDI + 0x15a);
        if (cVar1 == '\b') {
          FUN_0043d500();
          uVar11 &= 0xff;
        }
        else {
          FUN_0043d570();
        }
        *(ushort *)(unaff_EDI + 0x15a) = uVar11;
      }
      *(undefined1 *)(unaff_EDI + 0x14c) = 1;
    }
    goto LAB_00443c8c;
  }
  uVar11 = *(ushort *)(unaff_EDI + 300);
  cVar1 = *(char *)(unaff_EDI + 0x14c);
  if (cVar1 == '\x02') {
    iVar17 = *(int *)(unaff_EDI + 0x180);
    local_c = CONCAT11(*(undefined1 *)(iVar17 + (uint)*(ushort *)(unaff_EDI + 0x158)),
                       *(undefined1 *)(iVar17 + (uint)*(ushort *)(unaff_EDI + 0x156)));
    bVar9 = *(byte *)(iVar17 + (uint)*(ushort *)(unaff_EDI + 0x15a));
    iVar17 = *(int *)(unaff_EDI + 0x18c);
    local_8 = (undefined1  [2])
              CONCAT11(*(undefined1 *)(iVar17 + (uint)*(ushort *)(unaff_EDI + 0x158)),
                       *(undefined1 *)(iVar17 + (uint)*(ushort *)(unaff_EDI + 0x156)));
    _local_8 = CONCAT12(*(undefined1 *)(iVar17 + (uint)*(ushort *)(unaff_EDI + 0x15a)),local_8);
    uVar6 = _local_8;
  }
  else {
    if (cVar1 == '\x01') {
      iVar17 = *(int *)(unaff_EDI + 0x17c);
LAB_00443735:
      bVar9 = *(byte *)(unaff_EDI + 0x15a);
      local_c = CONCAT11(*(undefined1 *)(unaff_EDI + 0x158),*(undefined1 *)(unaff_EDI + 0x156));
    }
    else {
      if (cVar1 == '\x02') {
        iVar14 = *(int *)(unaff_EDI + 0x178);
      }
      else {
        if (cVar1 != '\x03') {
          iVar17 = 100000;
          goto LAB_00443735;
        }
        iVar14 = *(int *)(unaff_EDI + 0x150);
      }
      uVar20 = FUN_0043d410(iVar14);
      iVar17 = (int)uVar20;
      uVar20 = FUN_0043d4b0(iVar14,*(int *)(unaff_EDI + 0x17c));
      if ((94999 < (int)uVar20) && ((int)uVar20 < 0x19a29)) goto LAB_00443735;
      uVar7 = (undefined1)*(undefined2 *)(unaff_EDI + 0x156);
      FUN_0043d500();
      uVar8 = (undefined1)*(undefined2 *)(unaff_EDI + 0x158);
      FUN_0043d500();
      local_c = CONCAT11(uVar8,uVar7);
      bVar9 = (byte)*(undefined2 *)(unaff_EDI + 0x15a);
      FUN_0043d500();
    }
    if (iVar17 - 95000U < 0x2711) {
      uVar7 = *(undefined1 *)(unaff_EDI + 0x15a);
      local_8[1] = *(undefined1 *)(unaff_EDI + 0x158);
      local_8[0] = *(undefined1 *)(unaff_EDI + 0x156);
    }
    else {
      local_8[0] = (byte)*(undefined2 *)(unaff_EDI + 0x156);
      FUN_0043d500();
      local_8[1] = (byte)*(undefined2 *)(unaff_EDI + 0x158);
      FUN_0043d500();
      uVar7 = (undefined1)*(undefined2 *)(unaff_EDI + 0x15a);
      FUN_0043d500();
    }
    _local_8 = CONCAT12(uVar7,local_8);
    uVar6 = _local_8;
  }
  iVar17 = 0;
  if (uVar11 != 0) {
    pbVar12 = (byte *)(*(int *)(unaff_EDI + 0x128) + 2);
    do {
      if (iVar17 < (int)(uint)*(ushort *)(unaff_EDI + 0x134)) {
        cVar1 = *(char *)(*(int *)(unaff_EDI + 0x1a4) + iVar17);
        if (cVar1 == -1) goto LAB_0044397b;
        if (cVar1 == '\0') {
          *(undefined2 *)(pbVar12 + -2) = local_c;
          bVar10 = bVar9;
          goto LAB_004439a9;
        }
        bVar10 = *(byte *)(*(int *)(unaff_EDI + 0x1a4) + iVar17);
        local_8[0] = (byte)uVar6;
        uVar13 = (ushort)*(byte *)((uint)pbVar12[-2] + *(int *)(unaff_EDI + 0x18c)) * (ushort)bVar10
                 + (0xff - (ushort)bVar10) * (ushort)local_8[0] + 0x80;
        pbVar12[-2] = *(byte *)(((int)((uint)(uVar13 >> 8) + (uint)uVar13) >> 8 & 0xffU) +
                               *(int *)(unaff_EDI + 0x188));
        bVar10 = *(byte *)(*(int *)(unaff_EDI + 0x1a4) + iVar17);
        local_8[1] = (byte)((uint3)uVar6 >> 8);
        uVar13 = (ushort)*(byte *)((uint)pbVar12[-1] + *(int *)(unaff_EDI + 0x18c)) * (ushort)bVar10
                 + (0xff - (ushort)bVar10) * (ushort)local_8[1] + 0x80;
        pbVar12[-1] = *(byte *)(((int)((uint)(uVar13 >> 8) + (uint)uVar13) >> 8 & 0xffU) +
                               *(int *)(unaff_EDI + 0x188));
        bVar10 = *(byte *)(*(int *)(unaff_EDI + 0x1a4) + iVar17);
        bStack_6 = (byte)((uint3)uVar6 >> 0x10);
        uVar13 = (ushort)*(byte *)((uint)*pbVar12 + *(int *)(unaff_EDI + 0x18c)) * (ushort)bVar10 +
                 (0xff - (ushort)bVar10) * (ushort)bStack_6 + 0x80;
        *pbVar12 = *(byte *)(((int)((uint)(uVar13 >> 8) + (uint)uVar13) >> 8 & 0xffU) +
                            *(int *)(unaff_EDI + 0x188));
      }
      else {
LAB_0044397b:
        pbVar12[-2] = *(byte *)((uint)pbVar12[-2] + *(int *)(unaff_EDI + 0x180));
        pbVar12[-1] = *(byte *)((uint)pbVar12[-1] + *(int *)(unaff_EDI + 0x180));
        bVar10 = *(byte *)((uint)*pbVar12 + *(int *)(unaff_EDI + 0x180));
LAB_004439a9:
        *pbVar12 = bVar10;
      }
      iVar17 += 1;
      pbVar12 = pbVar12 + 3;
    } while (iVar17 < (int)(uint)uVar11);
  }
  *(uint *)(unaff_EDI + 0x74) = *(uint *)(unaff_EDI + 0x74) & 0xffffdf7f;
LAB_00443c8c:
  uVar16 = *(uint *)(unaff_EDI + 0x74);
  if ((((uVar16 & 8) != 0) && ((uVar16 & 0x1000) == 0)) && (*(char *)(unaff_EDI + 0x13b) == '\x03'))
  {
    bVar9 = *(byte *)(unaff_EDI + 0x198);
    uVar15 = (uint)*(ushort *)(unaff_EDI + 300);
    *(uint *)(unaff_EDI + 0x74) = uVar16 & 0xfffffff7;
    if ((-(uint)bVar9 + 7 < 7) && (uVar15 != 0)) {
      iVar17 = 0;
      uVar16 = uVar15;
      do {
        pbVar12 = (byte *)(iVar17 + *(int *)(unaff_EDI + 0x128));
        *pbVar12 = *pbVar12 >> ((char)-(uint)bVar9 + 8U & 0x1f);
        iVar17 += 3;
        uVar16 -= 1;
      } while (uVar16 != 0);
    }
    bVar9 = *(byte *)(unaff_EDI + 0x199);
    if ((-(uint)bVar9 + 7 < 7) && (uVar15 != 0)) {
      iVar17 = 0;
      uVar16 = uVar15;
      do {
        pbVar12 = (byte *)(iVar17 + 1 + *(int *)(unaff_EDI + 0x128));
        *pbVar12 = *pbVar12 >> ((char)-(uint)bVar9 + 8U & 0x1f);
        iVar17 += 3;
        uVar16 -= 1;
      } while (uVar16 != 0);
    }
    bVar9 = *(byte *)(unaff_EDI + 0x19a);
    if ((-(uint)bVar9 + 7 < 7) && (uVar15 != 0)) {
      iVar17 = 0;
      do {
        pbVar12 = (byte *)(iVar17 + 2 + *(int *)(unaff_EDI + 0x128));
        *pbVar12 = *pbVar12 >> ((char)-(uint)bVar9 + 8U & 0x1f);
        iVar17 += 3;
        uVar15 -= 1;
      } while (uVar15 != 0);
    }
  }
  return;
}



void __fastcall FUN_00443d70(int *param_1,int param_2)

{
  byte bVar1;
  int iVar2;
  uint uVar3;
  
  if ((*(uint *)(param_2 + 0x74) & 0x1000) == 0) goto LAB_00443dc1;
  if (*(byte *)((int)param_1 + 0x19) == 3) {
    *(char *)((int)param_1 + 0x19) = (*(short *)(param_2 + 0x134) != 0) * '\x04' + '\x02';
LAB_00443db7:
    *(undefined1 *)(param_1 + 6) = 8;
  }
  else {
    if ((*(short *)(param_2 + 0x134) != 0) && ((*(uint *)(param_2 + 0x74) & 0x2000000) != 0)) {
      *(byte *)((int)param_1 + 0x19) = *(byte *)((int)param_1 + 0x19) | 4;
    }
    if (*(byte *)(param_1 + 6) < 8) goto LAB_00443db7;
  }
  *(undefined2 *)((int)param_1 + 0x16) = 0;
LAB_00443dc1:
  if ((*(byte *)(param_2 + 0x74) & 0x80) != 0) {
    *(undefined4 *)((int)param_1 + 0x5a) = *(undefined4 *)(param_2 + 0x154);
    *(undefined4 *)((int)param_1 + 0x5e) = *(undefined4 *)(param_2 + 0x158);
    *(undefined2 *)((int)param_1 + 0x62) = *(undefined2 *)(param_2 + 0x15c);
  }
  param_1[10] = *(int *)(param_2 + 0x178);
  if ((char)param_1[6] == '\x10') {
    if ((*(uint *)(param_2 + 0x74) & 0x4000000) != 0) {
      *(undefined1 *)(param_1 + 6) = 8;
    }
    if ((*(uint *)(param_2 + 0x74) & 0x400) != 0) {
      *(undefined1 *)(param_1 + 6) = 8;
    }
  }
  if ((*(uint *)(param_2 + 0x74) & 0x4000) != 0) {
    *(byte *)((int)param_1 + 0x19) = *(byte *)((int)param_1 + 0x19) | 2;
  }
  if ((*(uint *)(param_2 + 0x74) & 0x600000) != 0) {
    *(byte *)((int)param_1 + 0x19) = *(byte *)((int)param_1 + 0x19) & 0xfd;
  }
  if ((((*(byte *)(param_2 + 0x74) & 0x40) != 0) &&
      (((*(char *)((int)param_1 + 0x19) == '\x02' || (*(char *)((int)param_1 + 0x19) == '\x06')) &&
       (*(int *)(param_2 + 0x1f8) != 0)))) && ((char)param_1[6] == '\b')) {
    *(undefined1 *)((int)param_1 + 0x19) = 3;
  }
  if ((((*(uint *)(param_2 + 0x74) & 0x200) != 0) && ((char)param_1[6] == '\b')) &&
     (*(char *)((int)param_1 + 0x19) != '\x03')) {
    *(undefined1 *)(param_1 + 6) = 0x10;
  }
  if (((*(byte *)(param_2 + 0x74) & 4) != 0) && (*(byte *)(param_1 + 6) < 8)) {
    *(undefined1 *)(param_1 + 6) = 8;
  }
  bVar1 = *(byte *)((int)param_1 + 0x19);
  if ((bVar1 == 3) || ((bVar1 & 2) == 0)) {
    *(undefined1 *)((int)param_1 + 0x1d) = 1;
  }
  else {
    *(undefined1 *)((int)param_1 + 0x1d) = 3;
  }
  if ((*(uint *)(param_2 + 0x74) & 0x40000) != 0) {
    *(byte *)((int)param_1 + 0x19) = bVar1 & 0xfb;
    *(undefined2 *)((int)param_1 + 0x16) = 0;
  }
  bVar1 = *(byte *)((int)param_1 + 0x19);
  if ((bVar1 & 4) != 0) {
    *(char *)((int)param_1 + 0x1d) = *(char *)((int)param_1 + 0x1d) + '\x01';
  }
  if (((*(uint *)(param_2 + 0x74) & 0x8000) != 0) &&
     (((bVar1 == 2 || (bVar1 == 0)) &&
      (*(char *)((int)param_1 + 0x1d) = *(char *)((int)param_1 + 0x1d) + '\x01',
      (*(uint *)(param_2 + 0x74) & 0x1000000) != 0)))) {
    *(byte *)((int)param_1 + 0x19) = bVar1 | 4;
  }
  if ((*(uint *)(param_2 + 0x74) & 0x100000) != 0) {
    if (*(byte *)(param_1 + 6) < *(byte *)(param_2 + 0x68)) {
      *(byte *)(param_1 + 6) = *(byte *)(param_2 + 0x68);
    }
    if (*(byte *)((int)param_1 + 0x1d) < *(byte *)(param_2 + 0x69)) {
      *(byte *)((int)param_1 + 0x1d) = *(byte *)(param_2 + 0x69);
    }
  }
  bVar1 = (char)param_1[6] * *(char *)((int)param_1 + 0x1d);
  *(byte *)((int)param_1 + 0x1e) = bVar1;
  if (7 < bVar1) {
    iVar2 = (uint)(bVar1 >> 3) * *param_1;
    param_1[3] = iVar2;
    *(int *)(param_2 + 0x11c) = iVar2;
    return;
  }
  uVar3 = (uint)bVar1 * *param_1 + 7 >> 3;
  param_1[3] = uVar3;
  *(uint *)(param_2 + 0x11c) = uVar3;
  return;
}



void __cdecl FUN_00443f20(uint *param_1)

{
  undefined1 uVar1;
  uint uVar2;
  byte bVar3;
  int in_EAX;
  int iVar4;
  undefined1 *puVar5;
  uint extraout_ECX;
  uint extraout_ECX_00;
  uint extraout_ECX_01;
  uint extraout_ECX_02;
  uint extraout_ECX_03;
  uint extraout_ECX_04;
  uint uVar6;
  uint extraout_ECX_05;
  uint extraout_ECX_06;
  uint extraout_ECX_07;
  uint extraout_ECX_08;
  uint extraout_ECX_09;
  uint extraout_ECX_10;
  uint extraout_ECX_11;
  uint extraout_ECX_12;
  uint extraout_ECX_13;
  uint extraout_ECX_14;
  uint extraout_ECX_15;
  uint extraout_ECX_16;
  uint extraout_ECX_17;
  uint extraout_ECX_18;
  uint extraout_ECX_19;
  uint extraout_ECX_20;
  uint extraout_ECX_21;
  uint extraout_ECX_22;
  char *this;
  
  uVar6 = *(uint *)(in_EAX + 0x108);
  if (uVar6 == 0) {
    FUN_0043de50();
    uVar6 = extraout_ECX;
  }
  if (((*(uint *)(in_EAX + 0x70) & 0x4000) != 0) && ((*(uint *)(in_EAX + 0x70) & 0x40) == 0)) {
    FUN_0043de50();
    uVar6 = extraout_ECX_00;
  }
  if ((*(uint *)(in_EAX + 0x74) & 0x1000) != 0) {
    if ((char)param_1[2] == '\x03') {
      FUN_004464e0(param_1,uVar6 + 1,*(int *)(in_EAX + 0x128),*(int *)(in_EAX + 0x1a4),
                   (uint)*(ushort *)(in_EAX + 0x134));
      uVar6 = extraout_ECX_01;
    }
    else {
      if ((*(short *)(in_EAX + 0x134) == 0) || ((*(uint *)(in_EAX + 0x74) & 0x2000000) == 0)) {
        iVar4 = 0;
      }
      else {
        iVar4 = in_EAX + 0x1a8;
      }
      FUN_004466f0(uVar6,uVar6 + 1,(int *)param_1,iVar4);
      uVar6 = extraout_ECX_02;
    }
  }
  if ((((*(uint *)(in_EAX + 0x74) & 0x40000) != 0) && (-1 < (char)*(uint *)(in_EAX + 0x74))) &&
     (((char)param_1[2] == '\x06' || ((char)param_1[2] == '\x04')))) {
    FUN_00446e00(uVar6,(int)param_1);
    uVar6 = extraout_ECX_03;
  }
  this = (char *)param_1;
  if (((*(uint *)(in_EAX + 0x74) & 0x600000) != 0) &&
     (iVar4 = FUN_00444ca0(in_EAX,(int *)param_1), uVar6 = extraout_ECX_04, iVar4 != 0)) {
    *(undefined1 *)(in_EAX + 0x251) = 1;
    if ((*(uint *)(in_EAX + 0x74) & 0x600000) == 0x400000) {
      FUN_0043df90("png_do_rgb_to_gray found nongray pixel");
    }
    uVar6 = *(uint *)(in_EAX + 0x74) & 0x600000;
    if (uVar6 == 0x200000) {
      FUN_0043de50();
      uVar6 = extraout_ECX_05;
      this = "png_do_rgb_to_gray found nongray pixel";
    }
  }
  if (((*(uint *)(in_EAX + 0x74) & 0x4000) != 0) && ((*(uint *)(in_EAX + 0x6c) & 0x800) == 0)) {
    FUN_00444b40();
    uVar6 = extraout_ECX_06;
  }
  if ((*(byte *)(in_EAX + 0x74) & 0x80) != 0) {
    FUN_00445070((byte *)this);
    uVar6 = extraout_ECX_07;
    this = (char *)param_1;
  }
  uVar2 = *(uint *)(in_EAX + 0x74);
  if (((((uVar2 & 0x2000) != 0) && ((uVar2 & 0x600000) == 0)) &&
      ((-1 < (char)uVar2 ||
       ((*(short *)(in_EAX + 0x134) == 0 && ((*(byte *)(in_EAX + 0x13b) & 4) == 0)))))) &&
     (*(char *)(in_EAX + 0x13b) != '\x03')) {
    FUN_00446000((int *)this,(byte *)(*(int *)(in_EAX + 0x108) + 1));
    uVar6 = extraout_ECX_08;
  }
  if ((((*(uint *)(in_EAX + 0x74) & 0x40000) != 0) && ((char)*(uint *)(in_EAX + 0x74) < '\0')) &&
     (((byte)*(uint *)((int)this + 8) == 6 || ((byte)*(uint *)((int)this + 8) == 4)))) {
    FUN_00446e00(uVar6,(int)this);
    uVar6 = extraout_ECX_09;
  }
  if (((*(uint *)(in_EAX + 0x74) & 0x800000) != 0) && ((*(uint *)((int)this + 8) & 4) != 0)) {
    FUN_00446400(this,*(int *)(in_EAX + 0x108) + 1);
    uVar6 = extraout_ECX_10;
  }
  if ((*(uint *)(in_EAX + 0x74) & 0x4000000) != 0) {
    FUN_00444620();
    uVar6 = extraout_ECX_11;
  }
  if ((*(uint *)(in_EAX + 0x74) & 0x400) != 0) {
    FUN_00444680();
    uVar6 = extraout_ECX_12;
  }
  if (((*(byte *)(in_EAX + 0x74) & 0x40) != 0) &&
     (FUN_00446b10(*(int *)(in_EAX + 0x1fc),(byte *)(*(int *)(in_EAX + 0x108) + 1),(int *)this),
     uVar6 = extraout_ECX_13, *(uint *)((int)this + 4) == 0)) {
    this = "png_do_quantize returned rowbytes=0";
    FUN_0043de50();
    uVar6 = extraout_ECX_14;
  }
  if ((*(uint *)(in_EAX + 0x74) & 0x200) != 0) {
    FUN_00446ad0(*(int *)(in_EAX + 0x108) + 1);
    uVar6 = extraout_ECX_15;
    this = (char *)param_1;
  }
  if (((*(uint *)(in_EAX + 0x74) & 0x4000) != 0) && ((*(uint *)(in_EAX + 0x6c) & 0x800) != 0)) {
    FUN_00444b40();
    uVar6 = extraout_ECX_16;
  }
  if ((*(byte *)(in_EAX + 0x74) & 0x20) != 0) {
    FUN_00446d40((int)this);
    uVar6 = extraout_ECX_17;
  }
  if ((*(byte *)(in_EAX + 0x74) & 8) != 0) {
    FUN_00444430((void *)(*(int *)(in_EAX + 0x108) + 1),(int)this,(byte *)(in_EAX + 0x19d));
    uVar6 = extraout_ECX_18;
  }
  if ((*(byte *)(in_EAX + 0x74) & 4) != 0) {
    FUN_00444310((int *)this);
    uVar6 = extraout_ECX_19;
  }
  if (((char)*(uint *)((int)this + 8) == '\x03') && (-1 < *(int *)(in_EAX + 0x130))) {
    FUN_00446fe0();
    uVar6 = extraout_ECX_20;
  }
  if ((*(byte *)(in_EAX + 0x74) & 1) != 0) {
    FUN_00446f10(uVar6,(int *)this);
    uVar6 = extraout_ECX_21;
  }
  if ((*(uint *)(in_EAX + 0x74) & 0x10000) != 0) {
    FUN_00446db0((int)this);
    uVar6 = extraout_ECX_22;
  }
  if ((*(uint *)(in_EAX + 0x74) & 0x8000) != 0) {
    FUN_004448a0(uVar6,(uint)*(ushort *)(in_EAX + 0x14a),(uint *)this,
                 (char)*(undefined4 *)(in_EAX + 0x70));
  }
  if ((*(uint *)(in_EAX + 0x74) & 0x80000) != 0) {
    FUN_004447f0(*(int *)(in_EAX + 0x108) + 1);
  }
  if ((*(uint *)(in_EAX + 0x74) & 0x20000) != 0) {
    FUN_004446c0(*(int *)(in_EAX + 0x108) + 1);
  }
  if (((*(byte *)(in_EAX + 0x74) & 0x10) != 0) && (*(char *)((int)this + 9) == '\x10')) {
    puVar5 = (undefined1 *)(*(int *)(in_EAX + 0x108) + 1);
    for (iVar4 = (uint)*(byte *)((int)this + 10) * *(uint *)this; iVar4 != 0; iVar4 += -1) {
      uVar1 = *puVar5;
      *puVar5 = puVar5[1];
      puVar5[1] = uVar1;
      puVar5 = puVar5 + 2;
    }
  }
  if ((*(uint *)(in_EAX + 0x74) & 0x100000) != 0) {
    if (*(code **)(in_EAX + 0x5c) != NULL) {
      (**(code **)(in_EAX + 0x5c))();
    }
    if (*(char *)(in_EAX + 0x68) != '\0') {
      *(char *)((int)this + 9) = *(char *)(in_EAX + 0x68);
    }
    if (*(char *)(in_EAX + 0x69) != '\0') {
      *(char *)((int)this + 10) = *(char *)(in_EAX + 0x69);
    }
    bVar3 = *(char *)((int)this + 10) * *(char *)((int)this + 9);
    *(byte *)((int)this + 0xb) = bVar3;
    if (7 < bVar3) {
      *(uint *)((int)this + 4) = (uint)(bVar3 >> 3) * *(uint *)this;
      return;
    }
    *(uint *)((int)this + 4) = (uint)bVar3 * *(uint *)this + 7 >> 3;
  }
  return;
}



void __cdecl FUN_00444310(int *param_1)

{
  int iVar1;
  byte bVar2;
  int iVar3;
  int in_EAX;
  int iVar4;
  byte *pbVar5;
  byte *pbVar6;
  
  bVar2 = *(byte *)((int)param_1 + 9);
  if (bVar2 < 8) {
    iVar3 = *param_1;
    if (bVar2 == 1) {
      pbVar6 = (byte *)((iVar3 - 1U >> 3) + in_EAX);
      pbVar5 = (byte *)(iVar3 + -1 + in_EAX);
      iVar4 = 7 - (iVar3 - 1U & 7);
      for (iVar1 = iVar3; iVar1 != 0; iVar1 += -1) {
        *pbVar5 = *pbVar6 >> ((byte)iVar4 & 0x1f) & 1;
        if (iVar4 == 7) {
          iVar4 = 0;
          pbVar6 = pbVar6 + -1;
        }
        else {
          iVar4 += 1;
        }
        pbVar5 = pbVar5 + -1;
      }
    }
    else if (bVar2 == 2) {
      pbVar6 = (byte *)((iVar3 - 1U >> 2) + in_EAX);
      pbVar5 = (byte *)(iVar3 + -1 + in_EAX);
      iVar4 = (3 - (iVar3 - 1U & 3)) * 2;
      for (iVar1 = iVar3; iVar1 != 0; iVar1 += -1) {
        *pbVar5 = *pbVar6 >> ((byte)iVar4 & 0x1f) & 3;
        if (iVar4 == 6) {
          iVar4 = 0;
          pbVar6 = pbVar6 + -1;
        }
        else {
          iVar4 += 2;
        }
        pbVar5 = pbVar5 + -1;
      }
    }
    else if (bVar2 == 4) {
      pbVar6 = (byte *)((iVar3 - 1U >> 1) + in_EAX);
      pbVar5 = (byte *)(iVar3 + -1 + in_EAX);
      iVar4 = (1 - (iVar3 - 1U & 1)) * 4;
      for (iVar1 = iVar3; iVar1 != 0; iVar1 += -1) {
        *pbVar5 = *pbVar6 >> ((byte)iVar4 & 0x1f) & 0xf;
        if (iVar4 == 4) {
          iVar4 = 0;
          pbVar6 = pbVar6 + -1;
        }
        else {
          iVar4 = 4;
        }
        pbVar5 = pbVar5 + -1;
      }
    }
    *(undefined1 *)((int)param_1 + 9) = 8;
    *(byte *)((int)param_1 + 0xb) = *(byte *)((int)param_1 + 10) * '\b';
    param_1[1] = (uint)*(byte *)((int)param_1 + 10) * iVar3;
  }
  return;
}



void __thiscall FUN_00444430(void *this,int param_1,byte *param_2)

{
  int *piVar1;
  byte bVar2;
  bool bVar3;
  byte *pbVar4;
  int iVar5;
  uint uVar6;
  byte *pbVar7;
  undefined1 *puVar8;
  int iVar9;
  int local_1c;
  int local_18 [4];
  uint local_8;
  
  local_8 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  bVar2 = *(byte *)(param_1 + 8);
  if (bVar2 != 3) {
    uVar6 = (uint)*(byte *)(param_1 + 9);
    if ((bVar2 & 2) == 0) {
      local_1c = 1;
      iVar9 = 1;
      local_18[0] = uVar6 - param_2[3];
    }
    else {
      local_18[0] = uVar6 - *param_2;
      local_18[1] = uVar6 - param_2[1];
      iVar9 = 3;
      local_18[2] = uVar6 - param_2[2];
      local_1c = 3;
    }
    if ((bVar2 & 4) != 0) {
      local_18[iVar9] = uVar6 - param_2[4];
      iVar9 += 1;
      local_1c = iVar9;
    }
    bVar3 = false;
    iVar5 = 0;
    if (iVar9 != 0) {
      do {
        if ((local_18[iVar5] < 1) || ((int)uVar6 <= local_18[iVar5])) {
          local_18[iVar5] = 0;
        }
        else {
          bVar3 = true;
        }
        iVar5 += 1;
      } while (iVar5 < iVar9);
      if ((bVar3) && (true)) {
        switch(uVar6) {
        case 2:
          pbVar7 = (byte *)(*(int *)(param_1 + 4) + (int)this);
          if (this < pbVar7) {
            do {
                    // WARNING: Load size is inaccurate
              *(byte *)this = *this >> 1 & 0x55;
              this = (void *)((int)this + 1);
            } while (this < pbVar7);
            __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
            return;
          }
          break;
        case 4:
          iVar9 = 0xf >> ((byte)local_18[0] & 0x1f);
          pbVar7 = (byte *)(*(int *)(param_1 + 4) + (int)this);
          if (this < pbVar7) {
            do {
                    // WARNING: Load size is inaccurate
              pbVar4 = (byte *)((int)this + 1);
              *(byte *)this =
                   *this >> ((byte)local_18[0] & 0x1f) & ((byte)iVar9 | (byte)(iVar9 << 4));
              this = pbVar4;
            } while (pbVar4 < pbVar7);
            __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
            return;
          }
          break;
        case 8:
          pbVar7 = (byte *)(*(int *)(param_1 + 4) + (int)this);
          iVar9 = 0;
          if (this < pbVar7) {
            do {
                    // WARNING: Load size is inaccurate
              pbVar4 = (byte *)(local_18 + iVar9);
              iVar9 += 1;
              if (local_1c <= iVar9) {
                iVar9 = 0;
              }
              *(byte *)this = *this >> (*pbVar4 & 0x1f);
              this = (void *)((int)this + 1);
            } while (this < pbVar7);
            __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
            return;
          }
          break;
        case 0x10:
          puVar8 = (undefined1 *)(*(int *)(param_1 + 4) + (int)this);
          iVar9 = 0;
          if (this < puVar8) {
            do {
                    // WARNING: Load size is inaccurate
              piVar1 = local_18 + iVar9;
              iVar9 += 1;
              iVar5 = (int)(uint)CONCAT11(*this,*(undefined1 *)((int)this + 1)) >>
                      ((byte)*piVar1 & 0x1f);
              if (local_1c <= iVar9) {
                iVar9 = 0;
              }
              *(char *)this = (char)((uint)iVar5 >> 8);
              *(char *)((int)this + 1) = (char)iVar5;
              this = (void *)((int)this + 2);
            } while (this < puVar8);
          }
        }
      }
    }
  }
  __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void FUN_00444620(void)

{
  byte *pbVar1;
  byte bVar2;
  byte *in_EAX;
  byte *pbVar3;
  byte *pbVar4;
  int *unaff_EDI;
  
  if (*(char *)((int)unaff_EDI + 9) == '\x10') {
    pbVar3 = in_EAX + unaff_EDI[1];
    pbVar4 = in_EAX;
    if (in_EAX < pbVar3) {
      do {
        bVar2 = *in_EAX;
        pbVar1 = in_EAX + 1;
        in_EAX = in_EAX + 2;
        *pbVar4 = bVar2 + (char)((((uint)*pbVar1 - (uint)bVar2) + 0x80) * 0xffff >> 0x18);
        pbVar4 = pbVar4 + 1;
      } while (in_EAX < pbVar3);
    }
    *(undefined1 *)((int)unaff_EDI + 9) = 8;
    *(byte *)((int)unaff_EDI + 0xb) = *(byte *)((int)unaff_EDI + 10) * '\b';
    unaff_EDI[1] = (uint)*(byte *)((int)unaff_EDI + 10) * *unaff_EDI;
  }
  return;
}



void FUN_00444680(void)

{
  undefined1 *in_EAX;
  undefined1 *puVar1;
  undefined1 *puVar2;
  int *unaff_EDI;
  
  if (*(char *)((int)unaff_EDI + 9) == '\x10') {
    puVar1 = in_EAX + unaff_EDI[1];
    puVar2 = in_EAX;
    if (in_EAX < puVar1) {
      do {
        *puVar2 = *in_EAX;
        in_EAX = in_EAX + 2;
        puVar2 = puVar2 + 1;
      } while (in_EAX < puVar1);
    }
    *(undefined1 *)((int)unaff_EDI + 9) = 8;
    *(byte *)((int)unaff_EDI + 0xb) = *(byte *)((int)unaff_EDI + 10) * '\b';
    unaff_EDI[1] = (uint)*(byte *)((int)unaff_EDI + 10) * *unaff_EDI;
  }
  return;
}



void __fastcall FUN_004446c0(int param_1)

{
  undefined1 *puVar1;
  undefined1 uVar2;
  undefined1 uVar3;
  int *in_EAX;
  undefined1 *puVar4;
  undefined1 *puVar5;
  int iVar6;
  
  iVar6 = *in_EAX;
  if ((char)in_EAX[2] == '\x06') {
    if (*(char *)((int)in_EAX + 9) == '\b') {
      puVar4 = (undefined1 *)(in_EAX[1] + param_1);
      puVar5 = puVar4;
      if (iVar6 != 0) {
        do {
          uVar2 = puVar4[-1];
          puVar5[-1] = puVar4[-2];
          puVar5[-2] = puVar4[-3];
          puVar1 = puVar4 + -4;
          puVar4 = puVar4 + -4;
          puVar5[-3] = *puVar1;
          iVar6 += -1;
          puVar5[-4] = uVar2;
          puVar5 = puVar5 + -4;
        } while (iVar6 != 0);
        return;
      }
    }
    else {
      puVar4 = (undefined1 *)(in_EAX[1] + param_1);
      puVar5 = puVar4;
      if (iVar6 != 0) {
        do {
          uVar3 = puVar4[-2];
          uVar2 = puVar4[-1];
          puVar5[-1] = puVar4[-3];
          puVar5[-2] = puVar4[-4];
          puVar5[-3] = puVar4[-5];
          puVar5[-4] = puVar4[-6];
          puVar5[-5] = puVar4[-7];
          puVar1 = puVar4 + -8;
          puVar4 = puVar4 + -8;
          puVar5[-6] = *puVar1;
          puVar5[-7] = uVar2;
          iVar6 += -1;
          puVar5[-8] = uVar3;
          puVar5 = puVar5 + -8;
        } while (iVar6 != 0);
        return;
      }
    }
  }
  else if ((char)in_EAX[2] == '\x04') {
    if (*(char *)((int)in_EAX + 9) == '\b') {
      puVar4 = (undefined1 *)(in_EAX[1] + param_1);
      puVar5 = puVar4;
      if (iVar6 != 0) {
        do {
          uVar2 = puVar4[-1];
          puVar1 = puVar4 + -2;
          puVar4 = puVar4 + -2;
          puVar5[-1] = *puVar1;
          iVar6 += -1;
          puVar5[-2] = uVar2;
          puVar5 = puVar5 + -2;
        } while (iVar6 != 0);
        return;
      }
    }
    else {
      puVar5 = (undefined1 *)(in_EAX[1] + param_1);
      puVar4 = puVar5;
      for (; iVar6 != 0; iVar6 += -1) {
        uVar3 = puVar5[-2];
        uVar2 = puVar5[-1];
        puVar4[-1] = puVar5[-3];
        puVar1 = puVar5 + -4;
        puVar5 = puVar5 + -4;
        puVar4[-2] = *puVar1;
        puVar4[-3] = uVar2;
        puVar4 = puVar4 + -4;
        *puVar4 = uVar3;
      }
    }
  }
  return;
}



void __fastcall FUN_004447f0(int param_1)

{
  char *pcVar1;
  int *in_EAX;
  int iVar2;
  undefined1 *puVar3;
  undefined1 *puVar4;
  int iVar5;
  
  iVar5 = *in_EAX;
  if ((char)in_EAX[2] == '\x06') {
    if (*(char *)((int)in_EAX + 9) == '\b') {
      iVar2 = in_EAX[1] + param_1;
      if (iVar5 != 0) {
        do {
          iVar5 += -1;
          *(char *)(iVar2 + -1) = -1 - *(char *)(iVar2 + -1);
          iVar2 = iVar2 + -4;
        } while (iVar5 != 0);
        return;
      }
    }
    else {
      iVar2 = in_EAX[1] + param_1;
      if (iVar5 != 0) {
        do {
          *(char *)(iVar2 + -1) = -1 - *(char *)(iVar2 + -1);
          iVar5 += -1;
          *(char *)(iVar2 + -2) = -1 - *(char *)(iVar2 + -2);
          iVar2 = iVar2 + -8;
        } while (iVar5 != 0);
        return;
      }
    }
  }
  else if ((char)in_EAX[2] == '\x04') {
    if (*(char *)((int)in_EAX + 9) == '\b') {
      puVar3 = (undefined1 *)(in_EAX[1] + param_1);
      puVar4 = puVar3;
      if (iVar5 != 0) {
        do {
          pcVar1 = puVar3 + -1;
          puVar3 = puVar3 + -2;
          puVar4[-1] = -1 - *pcVar1;
          iVar5 += -1;
          puVar4[-2] = *puVar3;
          puVar4 = puVar4 + -2;
        } while (iVar5 != 0);
        return;
      }
    }
    else {
      iVar2 = in_EAX[1] + param_1;
      for (; iVar5 != 0; iVar5 += -1) {
        *(char *)(iVar2 + -1) = -1 - *(char *)(iVar2 + -1);
        *(char *)(iVar2 + -2) = -1 - *(char *)(iVar2 + -2);
        iVar2 = iVar2 + -4;
      }
    }
  }
  return;
}



void __fastcall FUN_004448a0(undefined4 param_1,undefined4 param_2,uint *param_3,char param_4)

{
  undefined1 *puVar1;
  uint uVar2;
  undefined1 uVar3;
  uint uVar4;
  uint *puVar5;
  int in_EAX;
  undefined1 *puVar6;
  undefined1 uVar7;
  int iVar8;
  int iVar9;
  
  puVar5 = param_3;
  uVar2 = *param_3;
  uVar3 = (undefined1)((uint)param_2 >> 8);
  uVar7 = (undefined1)param_2;
  if ((char)param_3[2] == '\0') {
    if (*(char *)((int)param_3 + 9) == '\b') {
      iVar8 = in_EAX + uVar2;
      puVar6 = (undefined1 *)(iVar8 + uVar2);
      uVar4 = uVar2;
      if (-1 < param_4) {
        for (; uVar4 != 0; uVar4 = uVar4 - 1) {
          puVar1 = (undefined1 *)(iVar8 + -1);
          iVar8 += -1;
          puVar6[-1] = *puVar1;
          puVar6 = puVar6 + -2;
          *puVar6 = uVar7;
        }
        *(undefined2 *)((int)param_3 + 10) = 0x1002;
        param_3[1] = uVar2 * 2;
        return;
      }
      if (1 < uVar2) {
        param_3 = (uint *)(uVar2 - 1);
        do {
          puVar6[-1] = uVar7;
          puVar1 = (undefined1 *)(iVar8 + -1);
          iVar8 += -1;
          puVar6 = puVar6 + -2;
          param_3 = (uint *)((int)param_3 + -1);
          *puVar6 = *puVar1;
        } while (param_3 != NULL);
      }
      puVar6[-1] = uVar7;
      *(undefined2 *)((int)puVar5 + 10) = 0x1002;
      puVar5[1] = uVar2 * 2;
      return;
    }
    if (*(char *)((int)param_3 + 9) == '\x10') {
      iVar8 = in_EAX + uVar2 * 2;
      puVar6 = (undefined1 *)(iVar8 + uVar2 * 2);
      uVar4 = uVar2;
      if (param_4 < '\0') {
        if (1 < uVar2) {
          param_3 = (uint *)(uVar2 - 1);
          do {
            puVar6[-1] = uVar3;
            puVar6[-2] = uVar7;
            puVar6[-3] = *(undefined1 *)(iVar8 + -1);
            puVar1 = (undefined1 *)(iVar8 + -2);
            iVar8 += -2;
            puVar6 = puVar6 + -4;
            param_3 = (uint *)((int)param_3 + -1);
            *puVar6 = *puVar1;
          } while (param_3 != NULL);
        }
        puVar6[-1] = uVar3;
        puVar6[-2] = uVar7;
      }
      else {
        for (; uVar4 != 0; uVar4 = uVar4 - 1) {
          puVar6[-1] = *(undefined1 *)(iVar8 + -1);
          puVar1 = (undefined1 *)(iVar8 + -2);
          iVar8 += -2;
          puVar6[-2] = *puVar1;
          puVar6[-3] = uVar3;
          puVar6 = puVar6 + -4;
          *puVar6 = uVar7;
        }
      }
      *(undefined2 *)((int)puVar5 + 10) = 0x2002;
      puVar5[1] = uVar2 * 4;
      return;
    }
  }
  else if ((char)param_3[2] == '\x02') {
    if (*(char *)((int)param_3 + 9) == '\b') {
      iVar8 = in_EAX + uVar2 * 3;
      puVar6 = (undefined1 *)(iVar8 + uVar2);
      uVar4 = uVar2;
      if (param_4 < '\0') {
        if (1 < uVar2) {
          param_3 = (uint *)(uVar2 - 1);
          do {
            puVar6[-1] = uVar7;
            puVar6[-2] = *(undefined1 *)(iVar8 + -1);
            puVar6[-3] = *(undefined1 *)(iVar8 + -2);
            puVar1 = (undefined1 *)(iVar8 + -3);
            iVar8 += -3;
            puVar6 = puVar6 + -4;
            param_3 = (uint *)((int)param_3 + -1);
            *puVar6 = *puVar1;
          } while (param_3 != NULL);
        }
        puVar6[-1] = uVar7;
      }
      else {
        for (; uVar4 != 0; uVar4 = uVar4 - 1) {
          puVar6[-1] = *(undefined1 *)(iVar8 + -1);
          puVar6[-2] = *(undefined1 *)(iVar8 + -2);
          puVar1 = (undefined1 *)(iVar8 + -3);
          iVar8 += -3;
          puVar6[-3] = *puVar1;
          puVar6 = puVar6 + -4;
          *puVar6 = uVar7;
        }
      }
      *(undefined2 *)((int)puVar5 + 10) = 0x2004;
      puVar5[1] = uVar2 * 4;
      return;
    }
    if (*(char *)((int)param_3 + 9) == '\x10') {
      iVar8 = in_EAX + uVar2 * 6;
      puVar6 = (undefined1 *)(iVar8 + uVar2 * 2);
      uVar4 = uVar2;
      if (param_4 < '\0') {
        if (1 < uVar2) {
          iVar9 = uVar2 - 1;
          do {
            puVar6[-1] = uVar3;
            puVar6[-2] = uVar7;
            puVar6[-3] = *(undefined1 *)(iVar8 + -1);
            puVar6[-4] = *(undefined1 *)(iVar8 + -2);
            puVar6[-5] = *(undefined1 *)(iVar8 + -3);
            puVar6[-6] = *(undefined1 *)(iVar8 + -4);
            puVar6[-7] = *(undefined1 *)(iVar8 + -5);
            puVar1 = (undefined1 *)(iVar8 + -6);
            iVar8 += -6;
            puVar6 = puVar6 + -8;
            iVar9 += -1;
            *puVar6 = *puVar1;
          } while (iVar9 != 0);
        }
        puVar6[-1] = uVar3;
        puVar6[-2] = uVar7;
        param_3[1] = uVar2 * 8;
        *(undefined2 *)((int)param_3 + 10) = 0x4004;
        return;
      }
      for (; uVar4 != 0; uVar4 = uVar4 - 1) {
        puVar6[-1] = *(undefined1 *)(iVar8 + -1);
        puVar6[-2] = *(undefined1 *)(iVar8 + -2);
        puVar6[-3] = *(undefined1 *)(iVar8 + -3);
        puVar6[-4] = *(undefined1 *)(iVar8 + -4);
        puVar6[-5] = *(undefined1 *)(iVar8 + -5);
        puVar1 = (undefined1 *)(iVar8 + -6);
        iVar8 += -6;
        puVar6[-6] = *puVar1;
        puVar6[-7] = uVar3;
        puVar6 = puVar6 + -8;
        *puVar6 = uVar7;
      }
      param_3[1] = uVar2 * 8;
      *(undefined2 *)((int)param_3 + 10) = 0x4004;
    }
  }
  return;
}



void FUN_00444b40(void)

{
  byte bVar1;
  int iVar2;
  byte bVar3;
  int in_EAX;
  undefined1 *puVar4;
  undefined1 *puVar5;
  int iVar6;
  int *unaff_EDI;
  
  bVar3 = *(byte *)((int)unaff_EDI + 9);
  iVar2 = *unaff_EDI;
  if ((7 < bVar3) && (bVar1 = *(byte *)(unaff_EDI + 2), (bVar1 & 2) == 0)) {
    if (bVar1 == 0) {
      if (bVar3 == 8) {
        puVar5 = (undefined1 *)(iVar2 + -1 + in_EAX);
        puVar4 = puVar5 + iVar2 * 2;
        for (iVar6 = iVar2; iVar6 != 0; iVar6 += -1) {
          *puVar4 = *puVar5;
          puVar4[-1] = *puVar5;
          puVar4[-2] = *puVar5;
          puVar4 = puVar4 + -3;
          puVar5 = puVar5 + -1;
        }
      }
      else {
        puVar5 = (undefined1 *)(in_EAX + -1 + iVar2 * 2);
        puVar4 = puVar5 + iVar2 * 4;
        for (iVar6 = iVar2; iVar6 != 0; iVar6 += -1) {
          *puVar4 = *puVar5;
          puVar4[-1] = puVar5[-1];
          puVar4[-2] = *puVar5;
          puVar4[-3] = puVar5[-1];
          puVar4[-4] = *puVar5;
          puVar4[-5] = puVar5[-1];
          puVar4 = puVar4 + -6;
          puVar5 = puVar5 + -2;
        }
      }
    }
    else if (bVar1 == 4) {
      if (bVar3 == 8) {
        puVar5 = (undefined1 *)(in_EAX + -1 + iVar2 * 2);
        puVar4 = puVar5 + iVar2 * 2;
        for (iVar6 = iVar2; iVar6 != 0; iVar6 += -1) {
          *puVar4 = *puVar5;
          puVar4[-1] = puVar5[-1];
          puVar4[-2] = puVar5[-1];
          puVar4[-3] = puVar5[-1];
          puVar4 = puVar4 + -4;
          puVar5 = puVar5 + -2;
        }
      }
      else {
        puVar5 = (undefined1 *)(in_EAX + -1 + iVar2 * 4);
        puVar4 = puVar5 + iVar2 * 4;
        for (iVar6 = iVar2; iVar6 != 0; iVar6 += -1) {
          *puVar4 = *puVar5;
          puVar4[-1] = puVar5[-1];
          puVar4[-2] = puVar5[-2];
          puVar4[-3] = puVar5[-3];
          puVar4[-4] = puVar5[-2];
          puVar4[-5] = puVar5[-3];
          puVar4[-6] = puVar5[-2];
          puVar4[-7] = puVar5[-3];
          puVar4 = puVar4 + -8;
          puVar5 = puVar5 + -4;
        }
      }
    }
    *(char *)((int)unaff_EDI + 10) = *(char *)((int)unaff_EDI + 10) + '\x02';
    *(byte *)(unaff_EDI + 2) = *(byte *)(unaff_EDI + 2) | 2;
    bVar3 = *(char *)((int)unaff_EDI + 9) * *(char *)((int)unaff_EDI + 10);
    *(byte *)((int)unaff_EDI + 0xb) = bVar3;
    if (7 < bVar3) {
      unaff_EDI[1] = (uint)(bVar3 >> 3) * iVar2;
      return;
    }
    unaff_EDI[1] = (uint)bVar3 * iVar2 + 7 >> 3;
  }
  return;
}



undefined4 __cdecl FUN_00444ca0(int param_1,int *param_2)

{
  int iVar1;
  int iVar2;
  int iVar3;
  byte *pbVar4;
  byte bVar5;
  byte *in_EAX;
  int iVar6;
  byte bVar7;
  byte bVar8;
  ushort uVar9;
  ushort uVar10;
  ushort uVar11;
  uint uVar12;
  uint uVar13;
  byte *pbVar14;
  uint uVar15;
  int iVar16;
  byte *pbVar17;
  byte *local_10;
  undefined4 local_c;
  
  bVar5 = *(byte *)(param_2 + 2);
  local_c = 0;
  if (((bVar5 & 1) != 0) || ((bVar5 & 2) == 0)) {
    return 0;
  }
  uVar15 = (uint)*(ushort *)(param_1 + 0x256);
  uVar13 = (uint)*(ushort *)(param_1 + 0x254);
  bVar5 >>= 2;
  iVar16 = (0x8000 - uVar15) - uVar13;
  iVar1 = *param_2;
  if (*(char *)((int)param_2 + 9) == '\b') {
    iVar3 = iVar1;
    pbVar4 = in_EAX;
    if ((*(int *)(param_1 + 0x188) == 0) || (*(int *)(param_1 + 0x18c) == 0)) {
      for (; iVar3 != 0; iVar3 = iVar3 + -1) {
        bVar7 = *in_EAX;
        pbVar14 = in_EAX + 3;
        if ((bVar7 == in_EAX[1]) && (bVar7 == in_EAX[2])) {
          *pbVar4 = bVar7;
        }
        else {
          local_c = 1;
          *pbVar4 = (byte)((uint)in_EAX[2] * iVar16 + in_EAX[1] * uVar15 + bVar7 * uVar13 >> 0xf);
        }
        pbVar17 = pbVar4 + 1;
        if ((bVar5 & 1) != 0) {
          *pbVar17 = *pbVar14;
          pbVar17 = pbVar4 + 2;
          pbVar14 = in_EAX + 4;
        }
        in_EAX = pbVar14;
        pbVar4 = pbVar17;
      }
    }
    else {
      for (; iVar3 != 0; iVar3 = iVar3 + -1) {
        bVar7 = *in_EAX;
        pbVar14 = in_EAX + 3;
        if ((bVar7 == in_EAX[1]) && (bVar7 == in_EAX[2])) {
          iVar6 = *(int *)(param_1 + 0x180);
          if (iVar6 != 0) {
            uVar12 = (uint)bVar7;
            goto LAB_00444d9d;
          }
        }
        else {
          iVar2 = *(int *)(param_1 + 0x18c);
          local_c = 1;
          iVar6 = *(int *)(param_1 + 0x188);
          uVar12 = (uint)*(byte *)((uint)in_EAX[2] + iVar2) * iVar16 +
                   *(byte *)((uint)in_EAX[1] + iVar2) * uVar15 + 0x4000 +
                   *(byte *)((uint)bVar7 + iVar2) * uVar13 >> 0xf;
LAB_00444d9d:
          bVar7 = *(byte *)(uVar12 + iVar6);
        }
        *pbVar4 = bVar7;
        pbVar17 = pbVar4 + 1;
        if ((bVar5 & 1) != 0) {
          *pbVar17 = *pbVar14;
          pbVar17 = pbVar4 + 2;
          pbVar14 = in_EAX + 4;
        }
        in_EAX = pbVar14;
        pbVar4 = pbVar17;
      }
    }
  }
  else {
    iVar3 = iVar1;
    pbVar4 = in_EAX;
    if ((*(int *)(param_1 + 0x194) == 0) || (*(int *)(param_1 + 400) == 0)) {
      for (; iVar3 != 0; iVar3 = iVar3 + -1) {
        uVar9 = CONCAT11(*pbVar4,pbVar4[1]);
        pbVar14 = pbVar4 + 6;
        if ((uVar9 != CONCAT11(pbVar4[2],pbVar4[3])) || (uVar9 != CONCAT11(pbVar4[4],pbVar4[5]))) {
          local_c = 1;
        }
        uVar12 = (uint)CONCAT11(pbVar4[4],pbVar4[5]) * iVar16 +
                 CONCAT11(pbVar4[2],pbVar4[3]) * uVar15 + 0x4000 + uVar9 * uVar13 >> 0xf & 0xffff;
        *in_EAX = (byte)(uVar12 >> 8);
        in_EAX[1] = (byte)uVar12;
        pbVar17 = in_EAX + 2;
        if ((bVar5 & 1) != 0) {
          *pbVar17 = *pbVar14;
          in_EAX[3] = pbVar4[7];
          pbVar17 = in_EAX + 4;
          pbVar14 = pbVar4 + 8;
        }
        in_EAX = pbVar17;
        pbVar4 = pbVar14;
      }
    }
    else {
      for (; iVar3 != 0; iVar3 = iVar3 + -1) {
        bVar7 = *in_EAX;
        uVar9 = CONCAT11(bVar7,in_EAX[1]);
        uVar10 = CONCAT11(in_EAX[2],in_EAX[3]);
        uVar11 = CONCAT11(in_EAX[4],in_EAX[5]);
        pbVar14 = in_EAX + 6;
        if ((uVar9 == uVar10) && (uVar9 == uVar11)) {
          if (*(int *)(param_1 + 0x184) != 0) {
            uVar9 = *(ushort *)
                     (*(int *)(*(int *)(param_1 + 0x184) +
                              ((uVar9 & 0xff) >> (*(byte *)(param_1 + 0x174) & 0x1f)) * 4) +
                     (uint)bVar7 * 2);
          }
        }
        else {
          iVar6 = *(int *)(param_1 + 0x194);
          bVar8 = (byte)*(undefined2 *)(param_1 + 0x174);
          uVar12 = *(ushort *)
                    (*(int *)(iVar6 + ((uVar10 & 0xff) >> (bVar8 & 0x1f)) * 4) + (uint)in_EAX[2] * 2
                    ) * uVar15 +
                   (uint)*(ushort *)
                          (*(int *)(iVar6 + ((uVar11 & 0xff) >> (bVar8 & 0x1f)) * 4) +
                          (uint)in_EAX[4] * 2) * iVar16 + 0x4000 +
                   *(ushort *)
                    (*(int *)(iVar6 + ((uVar9 & 0xff) >> (bVar8 & 0x1f)) * 4) + (uint)bVar7 * 2) *
                   uVar13 >> 0xf;
          local_c = 1;
          uVar9 = *(ushort *)
                   (*(int *)(*(int *)(param_1 + 400) + ((uVar12 & 0xff) >> (bVar8 & 0x1f)) * 4) +
                   ((uVar12 & 0xffff) >> 8) * 2);
        }
        *pbVar4 = (byte)(uVar9 >> 8);
        pbVar4[1] = (byte)uVar9;
        local_10 = pbVar4 + 2;
        if ((bVar5 & 1) != 0) {
          *local_10 = *pbVar14;
          pbVar4[3] = in_EAX[7];
          local_10 = pbVar4 + 4;
          pbVar14 = in_EAX + 8;
        }
        in_EAX = pbVar14;
        pbVar4 = local_10;
      }
    }
  }
  *(char *)((int)param_2 + 10) = *(char *)((int)param_2 + 10) + -2;
  bVar5 = *(char *)((int)param_2 + 10) * *(char *)((int)param_2 + 9);
  *(byte *)(param_2 + 2) = *(byte *)(param_2 + 2) & 0xfd;
  *(byte *)((int)param_2 + 0xb) = bVar5;
  if (7 < bVar5) {
    param_2[1] = (uint)(bVar5 >> 3) * iVar1;
    return local_c;
  }
  param_2[1] = (uint)bVar5 * iVar1 + 7 >> 3;
  return local_c;
}



void __cdecl FUN_00445070(byte *param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  byte bVar4;
  undefined2 uVar5;
  byte *in_EAX;
  byte *pbVar6;
  ushort uVar7;
  int iVar8;
  uint uVar9;
  byte bVar10;
  uint uVar11;
  uint uVar12;
  int iVar13;
  int iVar14;
  byte bVar15;
  int unaff_ESI;
  short sVar16;
  byte *local_20;
  byte *local_14;
  byte local_c;
  
  iVar13 = *(int *)(unaff_ESI + 0x180);
  iVar14 = *(int *)(unaff_ESI + 0x188);
  iVar8 = *(int *)(unaff_ESI + 400);
  iVar1 = *(int *)(unaff_ESI + 0x18c);
  iVar2 = *(int *)(unaff_ESI + 0x194);
  local_20 = *(byte **)param_1;
  iVar3 = *(int *)(unaff_ESI + 0x184);
  uVar11 = *(uint *)(unaff_ESI + 0x70) >> 0xd & 1;
  if (true) {
    local_c = (byte)*(undefined4 *)(unaff_ESI + 0x174);
    switch(param_1[8]) {
    case 0:
      if (true) {
        switch(param_1[9]) {
        case 1:
          iVar13 = 7;
          param_1 = local_20;
          if (local_20 != NULL) {
            do {
              bVar10 = (byte)iVar13;
              if ((ushort)(*in_EAX >> (bVar10 & 0x1f) & 1) == *(ushort *)(unaff_ESI + 0x1b0)) {
                bVar4 = (byte)(0x7f7f >> (7 - bVar10 & 0x1f)) & *in_EAX;
                *in_EAX = bVar4;
                *in_EAX = *(char *)(unaff_ESI + 0x15c) << (bVar10 & 0x1f) | bVar4;
              }
              if (iVar13 == 0) {
                iVar13 = 7;
                in_EAX = in_EAX + 1;
              }
              else {
                iVar13 += -1;
              }
              param_1 = param_1 + -1;
            } while (param_1 != NULL);
            return;
          }
          break;
        case 2:
          if (iVar13 == 0) {
            iVar13 = 6;
            param_1 = local_20;
            if (local_20 != NULL) {
              do {
                bVar10 = (byte)iVar13;
                if ((ushort)(*in_EAX >> (bVar10 & 0x1f) & 3) == *(ushort *)(unaff_ESI + 0x1b0)) {
                  bVar4 = (byte)(0x3f3f >> (6 - bVar10 & 0x1f)) & *in_EAX;
                  *in_EAX = bVar4;
                  *in_EAX = *(char *)(unaff_ESI + 0x15c) << (bVar10 & 0x1f) | bVar4;
                }
                if (iVar13 == 0) {
                  iVar13 = 6;
                  in_EAX = in_EAX + 1;
                }
                else {
                  iVar13 += -2;
                }
                param_1 = param_1 + -1;
              } while (param_1 != NULL);
              return;
            }
          }
          else {
            iVar14 = 6;
            param_1 = local_20;
            if (local_20 != NULL) {
              do {
                bVar10 = (byte)iVar14;
                bVar4 = *in_EAX >> (bVar10 & 0x1f) & 3;
                if ((ushort)bVar4 == *(ushort *)(unaff_ESI + 0x1b0)) {
                  bVar4 = (byte)(0x3f3f >> (6 - bVar10 & 0x1f)) & *in_EAX;
                  *in_EAX = bVar4;
                  bVar15 = *(char *)(unaff_ESI + 0x15c) << (bVar10 & 0x1f);
                }
                else {
                  uVar11 = (uint)bVar4;
                  bVar15 = (byte)(0x3f3f >> (6 - bVar10 & 0x1f)) & *in_EAX;
                  bVar4 = (*(byte *)((((uVar11 * 4 | uVar11) * 4 | uVar11) * 4 | uVar11) + iVar13)
                          >> 6) << (bVar10 & 0x1f);
                }
                *in_EAX = bVar15 | bVar4;
                if (iVar14 == 0) {
                  iVar14 = 6;
                  in_EAX = in_EAX + 1;
                }
                else {
                  iVar14 += -2;
                }
                param_1 = param_1 + -1;
              } while (param_1 != NULL);
              return;
            }
          }
          break;
        case 4:
          iVar14 = 4;
          if (iVar13 == 0) {
            param_1 = local_20;
            if (local_20 != NULL) {
              do {
                bVar10 = (byte)iVar14;
                if ((ushort)(*in_EAX >> (bVar10 & 0x1f) & 0xf) == *(ushort *)(unaff_ESI + 0x1b0)) {
                  bVar4 = (byte)(0xf0f >> (4 - bVar10 & 0x1f)) & *in_EAX;
                  *in_EAX = bVar4;
                  *in_EAX = *(char *)(unaff_ESI + 0x15c) << (bVar10 & 0x1f) | bVar4;
                }
                if (iVar14 == 0) {
                  iVar14 = 4;
                  in_EAX = in_EAX + 1;
                }
                else {
                  iVar14 += -4;
                }
                param_1 = param_1 + -1;
              } while (param_1 != NULL);
              return;
            }
          }
          else {
            param_1 = local_20;
            if (local_20 != NULL) {
              do {
                bVar10 = (byte)iVar14;
                bVar4 = *in_EAX >> (bVar10 & 0x1f) & 0xf;
                if ((ushort)bVar4 == *(ushort *)(unaff_ESI + 0x1b0)) {
                  bVar4 = (byte)(0xf0f >> (4 - bVar10 & 0x1f)) & *in_EAX;
                  *in_EAX = bVar4;
                  bVar15 = *(char *)(unaff_ESI + 0x15c) << (bVar10 & 0x1f);
                }
                else {
                  bVar15 = (byte)(0xf0f >> (4 - bVar10 & 0x1f)) & *in_EAX;
                  bVar4 = (*(byte *)(((uint)bVar4 << 4 | (uint)bVar4) + iVar13) >> 4) <<
                          (bVar10 & 0x1f);
                }
                *in_EAX = bVar15 | bVar4;
                if (iVar14 == 0) {
                  iVar14 = 4;
                  in_EAX = in_EAX + 1;
                }
                else {
                  iVar14 += -4;
                }
                param_1 = param_1 + -1;
              } while (param_1 != NULL);
              return;
            }
          }
          break;
        case 8:
          if (iVar13 == 0) {
            if (local_20 != NULL) {
              do {
                if ((ushort)*in_EAX == *(ushort *)(unaff_ESI + 0x1b0)) {
                  *in_EAX = *(byte *)(unaff_ESI + 0x15c);
                }
                in_EAX = in_EAX + 1;
                local_20 = local_20 + -1;
              } while (local_20 != NULL);
              return;
            }
          }
          else if (local_20 != NULL) {
            do {
              if ((ushort)*in_EAX == *(ushort *)(unaff_ESI + 0x1b0)) {
                bVar10 = *(byte *)(unaff_ESI + 0x15c);
              }
              else {
                bVar10 = *(byte *)((uint)*in_EAX + iVar13);
              }
              *in_EAX = bVar10;
              in_EAX = in_EAX + 1;
              local_20 = local_20 + -1;
            } while (local_20 != NULL);
            return;
          }
          break;
        case 0x10:
          if (iVar3 == 0) {
            if (local_20 != NULL) {
              do {
                if ((ushort)((ushort)*in_EAX * 0x100 + (ushort)in_EAX[1]) ==
                    *(short *)(unaff_ESI + 0x1b0)) {
                  *in_EAX = *(byte *)(unaff_ESI + 0x15d);
                  in_EAX[1] = *(byte *)(unaff_ESI + 0x15c);
                }
                in_EAX = in_EAX + 2;
                local_20 = local_20 + -1;
              } while (local_20 != NULL);
              return;
            }
          }
          else {
            param_1 = local_20;
            if (local_20 != NULL) {
              do {
                if ((ushort)((ushort)*in_EAX * 0x100 + (ushort)in_EAX[1]) ==
                    *(short *)(unaff_ESI + 0x1b0)) {
                  *in_EAX = *(byte *)(unaff_ESI + 0x15d);
                  uVar7 = (ushort)*(byte *)(unaff_ESI + 0x15c);
                }
                else {
                  uVar7 = *(ushort *)
                           (*(int *)(iVar3 + (uint)(in_EAX[1] >> (local_c & 0x1f)) * 4) +
                           (uint)*in_EAX * 2);
                  *in_EAX = (byte)(uVar7 >> 8);
                }
                in_EAX[1] = (byte)uVar7;
                in_EAX = in_EAX + 2;
                param_1 = param_1 + -1;
              } while (param_1 != NULL);
              return;
            }
          }
        }
      }
      break;
    case 2:
      if (param_1[9] == 8) {
        if (iVar13 == 0) {
          if (local_20 != NULL) {
            pbVar6 = in_EAX + 2;
            do {
              if ((((ushort)pbVar6[-2] == *(ushort *)(unaff_ESI + 0x1aa)) &&
                  ((ushort)pbVar6[-1] == *(ushort *)(unaff_ESI + 0x1ac))) &&
                 ((ushort)*pbVar6 == *(ushort *)(unaff_ESI + 0x1ae))) {
                pbVar6[-2] = *(byte *)(unaff_ESI + 0x156);
                pbVar6[-1] = *(byte *)(unaff_ESI + 0x158);
                *pbVar6 = *(byte *)(unaff_ESI + 0x15a);
              }
              pbVar6 = pbVar6 + 3;
              local_20 = local_20 + -1;
            } while (local_20 != NULL);
            return;
          }
        }
        else if (local_20 != NULL) {
          pbVar6 = in_EAX + 2;
          do {
            if ((((ushort)pbVar6[-2] == *(ushort *)(unaff_ESI + 0x1aa)) &&
                ((ushort)pbVar6[-1] == *(ushort *)(unaff_ESI + 0x1ac))) &&
               ((ushort)*pbVar6 == *(ushort *)(unaff_ESI + 0x1ae))) {
              pbVar6[-2] = *(byte *)(unaff_ESI + 0x156);
              pbVar6[-1] = *(byte *)(unaff_ESI + 0x158);
              bVar10 = *(byte *)(unaff_ESI + 0x15a);
            }
            else {
              pbVar6[-2] = *(byte *)((uint)pbVar6[-2] + iVar13);
              pbVar6[-1] = *(byte *)((uint)pbVar6[-1] + iVar13);
              bVar10 = *(byte *)((uint)*pbVar6 + iVar13);
            }
            *pbVar6 = bVar10;
            pbVar6 = pbVar6 + 3;
            local_20 = local_20 + -1;
          } while (local_20 != NULL);
          return;
        }
      }
      else if (iVar3 == 0) {
        if (local_20 != NULL) {
          pbVar6 = in_EAX + 2;
          do {
            if ((((ushort)((ushort)pbVar6[-2] * 0x100 + (ushort)pbVar6[-1]) ==
                  *(short *)(unaff_ESI + 0x1aa)) &&
                ((ushort)((ushort)*pbVar6 * 0x100 + (ushort)pbVar6[1]) ==
                 *(short *)(unaff_ESI + 0x1ac))) &&
               ((ushort)((ushort)pbVar6[2] * 0x100 + (ushort)pbVar6[3]) ==
                *(short *)(unaff_ESI + 0x1ae))) {
              pbVar6[-2] = *(byte *)(unaff_ESI + 0x157);
              pbVar6[-1] = *(byte *)(unaff_ESI + 0x156);
              *pbVar6 = *(byte *)(unaff_ESI + 0x159);
              pbVar6[1] = *(byte *)(unaff_ESI + 0x158);
              pbVar6[2] = *(byte *)(unaff_ESI + 0x15b);
              pbVar6[3] = *(byte *)(unaff_ESI + 0x15a);
            }
            pbVar6 = pbVar6 + 6;
            local_20 = local_20 + -1;
          } while (local_20 != NULL);
          return;
        }
      }
      else if (local_20 != NULL) {
        pbVar6 = in_EAX + 2;
        param_1 = local_20;
        do {
          if ((((ushort)((ushort)pbVar6[-2] * 0x100 + (ushort)pbVar6[-1]) ==
                *(short *)(unaff_ESI + 0x1aa)) &&
              ((ushort)((ushort)*pbVar6 * 0x100 + (ushort)pbVar6[1]) ==
               *(short *)(unaff_ESI + 0x1ac))) &&
             ((ushort)((ushort)pbVar6[2] * 0x100 + (ushort)pbVar6[3]) ==
              *(short *)(unaff_ESI + 0x1ae))) {
            pbVar6[-2] = *(byte *)(unaff_ESI + 0x157);
            pbVar6[-1] = *(byte *)(unaff_ESI + 0x156);
            *pbVar6 = *(byte *)(unaff_ESI + 0x159);
            pbVar6[1] = *(byte *)(unaff_ESI + 0x158);
            pbVar6[2] = *(byte *)(unaff_ESI + 0x15b);
            pbVar6[3] = *(byte *)(unaff_ESI + 0x15a);
          }
          else {
            uVar5 = *(undefined2 *)
                     (*(int *)(iVar3 + (uint)(pbVar6[-1] >> (local_c & 0x1f)) * 4) +
                     (uint)pbVar6[-2] * 2);
            pbVar6[-2] = (byte)((ushort)uVar5 >> 8);
            pbVar6[-1] = (byte)uVar5;
            uVar5 = *(undefined2 *)
                     (*(int *)(iVar3 + (uint)(pbVar6[1] >> (local_c & 0x1f)) * 4) +
                     (uint)*pbVar6 * 2);
            *pbVar6 = (byte)((ushort)uVar5 >> 8);
            pbVar6[1] = (byte)uVar5;
            uVar5 = *(undefined2 *)
                     (*(int *)(iVar3 + (uint)(pbVar6[3] >> (local_c & 0x1f)) * 4) +
                     (uint)pbVar6[2] * 2);
            pbVar6[2] = (byte)((ushort)uVar5 >> 8);
            pbVar6[3] = (byte)uVar5;
          }
          pbVar6 = pbVar6 + 6;
          param_1 = param_1 + -1;
        } while (param_1 != NULL);
        return;
      }
      break;
    case 4:
      if (param_1[9] == 8) {
        if (((iVar1 == 0) || (iVar14 == 0)) || (iVar13 == 0)) {
          if (local_20 != NULL) {
            do {
              bVar10 = in_EAX[1];
              if (bVar10 == 0) {
                *in_EAX = *(byte *)(unaff_ESI + 0x15c);
              }
              else if (bVar10 != 0xff) {
                uVar7 = (0xff - (ushort)bVar10) * *(short *)(unaff_ESI + 0x166) +
                        (ushort)*in_EAX * (ushort)bVar10 + 0x80;
                *in_EAX = (byte)((uint)(uVar7 >> 8) + (uint)uVar7 >> 8);
              }
              in_EAX = in_EAX + 2;
              local_20 = local_20 + -1;
            } while (local_20 != NULL);
            return;
          }
        }
        else {
          param_1 = in_EAX;
          if (local_20 != NULL) {
            do {
              bVar10 = param_1[1];
              if (bVar10 == 0xff) {
                bVar10 = *(byte *)((uint)*param_1 + iVar13);
LAB_004457d5:
                *param_1 = bVar10;
              }
              else {
                if (bVar10 != 0) {
                  uVar7 = (0xff - (ushort)bVar10) * *(short *)(unaff_ESI + 0x166) +
                          (ushort)*(byte *)((uint)*param_1 + iVar1) * (ushort)bVar10 + 0x80;
                  iVar8 = (uint)uVar7 + (uint)(uVar7 >> 8);
                  bVar10 = (byte)((uint)iVar8 >> 8);
                  if (uVar11 == 0) {
                    bVar10 = *(byte *)((iVar8 >> 8 & 0xffU) + iVar14);
                  }
                  goto LAB_004457d5;
                }
                *param_1 = *(byte *)(unaff_ESI + 0x15c);
              }
              param_1 = param_1 + 2;
              local_20 = local_20 + -1;
              if (local_20 == NULL) {
                return;
              }
            } while( true );
          }
        }
      }
      else if (((iVar3 == 0) || (iVar8 == 0)) || (iVar2 == 0)) {
        if (local_20 != NULL) {
          pbVar6 = in_EAX + 1;
          param_1 = local_20;
          do {
            uVar7 = (ushort)pbVar6[1] * 0x100 + (ushort)pbVar6[2];
            if (uVar7 == 0) {
              pbVar6[-1] = *(byte *)(unaff_ESI + 0x15d);
              *pbVar6 = *(byte *)(unaff_ESI + 0x15c);
            }
            else if (uVar7 != 0xffff) {
              uVar11 = (uint)*(ushort *)(unaff_ESI + 0x166) * (0xffff - (uint)uVar7) + 0x8000 +
                       (uint)(ushort)((ushort)pbVar6[-1] * 0x100 + (ushort)*pbVar6) * (uint)uVar7;
              iVar13 = (uVar11 >> 0x10) + uVar11;
              pbVar6[-1] = (byte)((uint)iVar13 >> 0x18);
              *pbVar6 = (byte)((uint)iVar13 >> 0x10);
            }
            pbVar6 = pbVar6 + 4;
            param_1 = param_1 + -1;
          } while (param_1 != NULL);
          return;
        }
      }
      else if (local_20 != NULL) {
        pbVar6 = in_EAX + 1;
        param_1 = local_20;
        do {
          uVar7 = (ushort)pbVar6[1] * 0x100 + (ushort)pbVar6[2];
          if (uVar7 == 0xffff) {
            uVar5 = *(undefined2 *)
                     (*(int *)(iVar3 + (uint)(*pbVar6 >> (local_c & 0x1f)) * 4) +
                     (uint)pbVar6[-1] * 2);
LAB_00445927:
            *pbVar6 = (byte)uVar5;
            pbVar6[-1] = (byte)((ushort)uVar5 >> 8);
          }
          else {
            if (uVar7 != 0) {
              uVar12 = (uint)*(ushort *)
                              (*(int *)(iVar2 + (uint)(*pbVar6 >> (local_c & 0x1f)) * 4) +
                              (uint)pbVar6[-1] * 2) * (uint)uVar7 + 0x8000 +
                       (uint)*(ushort *)(unaff_ESI + 0x166) * (0xffff - (uint)uVar7);
              uVar12 = (uVar12 >> 0x10) + uVar12;
              uVar5 = (undefined2)(uVar12 >> 0x10);
              if (uVar11 == 0) {
                uVar5 = *(undefined2 *)
                         (*(int *)(iVar8 + ((uVar12 >> 0x10 & 0xff) >> (local_c & 0x1f)) * 4) +
                         (uVar12 >> 0x18) * 2);
              }
              goto LAB_00445927;
            }
            pbVar6[-1] = *(byte *)(unaff_ESI + 0x15d);
            *pbVar6 = *(byte *)(unaff_ESI + 0x15c);
          }
          pbVar6 = pbVar6 + 4;
          param_1 = param_1 + -1;
          if (param_1 == NULL) {
            return;
          }
        } while( true );
      }
      break;
    case 6:
      if (param_1[9] == 8) {
        if (((iVar1 == 0) || (iVar14 == 0)) || (iVar13 == 0)) {
          if (local_20 != NULL) {
            pbVar6 = in_EAX + 1;
            param_1 = local_20;
            do {
              bVar10 = pbVar6[2];
              if (bVar10 == 0) {
                pbVar6[-1] = *(byte *)(unaff_ESI + 0x156);
                *pbVar6 = *(byte *)(unaff_ESI + 0x158);
                pbVar6[1] = *(byte *)(unaff_ESI + 0x15a);
              }
              else if (bVar10 != 0xff) {
                sVar16 = 0xff - (ushort)bVar10;
                uVar7 = *(short *)(unaff_ESI + 0x156) * sVar16 + (ushort)pbVar6[-1] * (ushort)bVar10
                        + 0x80;
                pbVar6[-1] = (byte)((uint)(uVar7 >> 8) + (uint)uVar7 >> 8);
                uVar7 = *(short *)(unaff_ESI + 0x158) * sVar16 + (ushort)*pbVar6 * (ushort)bVar10 +
                        0x80;
                *pbVar6 = (byte)((uint)(uVar7 >> 8) + (uint)uVar7 >> 8);
                uVar7 = *(short *)(unaff_ESI + 0x15a) * sVar16 + (ushort)pbVar6[1] * (ushort)bVar10
                        + 0x80;
                pbVar6[1] = (byte)((uint)(uVar7 >> 8) + (uint)uVar7 >> 8);
              }
              pbVar6 = pbVar6 + 4;
              param_1 = param_1 + -1;
            } while (param_1 != NULL);
            return;
          }
        }
        else if (local_20 != NULL) {
          pbVar6 = in_EAX + 1;
          param_1 = local_20;
          do {
            bVar10 = pbVar6[2];
            if (bVar10 == 0xff) {
              pbVar6[-1] = *(byte *)((uint)pbVar6[-1] + iVar13);
              *pbVar6 = *(byte *)((uint)*pbVar6 + iVar13);
              pbVar6[1] = *(byte *)((uint)pbVar6[1] + iVar13);
            }
            else {
              if (bVar10 == 0) {
                pbVar6[-1] = *(byte *)(unaff_ESI + 0x156);
                *pbVar6 = *(byte *)(unaff_ESI + 0x158);
                bVar10 = *(byte *)(unaff_ESI + 0x15a);
              }
              else {
                sVar16 = 0xff - (ushort)bVar10;
                uVar7 = (ushort)*(byte *)((uint)pbVar6[-1] + iVar1) * (ushort)bVar10 +
                        *(short *)(unaff_ESI + 0x160) * sVar16 + 0x80;
                iVar8 = (uint)uVar7 + (uint)(uVar7 >> 8);
                bVar4 = (byte)((uint)iVar8 >> 8);
                if (uVar11 == 0) {
                  bVar4 = *(byte *)((iVar8 >> 8 & 0xffU) + iVar14);
                }
                pbVar6[-1] = bVar4;
                uVar7 = (ushort)*(byte *)((uint)*pbVar6 + iVar1) * (ushort)bVar10 +
                        *(short *)(unaff_ESI + 0x162) * sVar16 + 0x80;
                iVar8 = (uint)uVar7 + (uint)(uVar7 >> 8);
                bVar4 = (byte)((uint)iVar8 >> 8);
                if (uVar11 == 0) {
                  bVar4 = *(byte *)((iVar8 >> 8 & 0xffU) + iVar14);
                }
                *pbVar6 = bVar4;
                uVar7 = (ushort)*(byte *)((uint)pbVar6[1] + iVar1) * (ushort)bVar10 +
                        *(short *)(unaff_ESI + 0x164) * sVar16 + 0x80;
                bVar10 = (byte)((uint)(uVar7 >> 8) + (uint)uVar7 >> 8);
                if (uVar11 == 0) {
                  bVar10 = *(byte *)((uint)bVar10 + iVar14);
                }
              }
              pbVar6[1] = bVar10;
            }
            pbVar6 = pbVar6 + 4;
            param_1 = param_1 + -1;
          } while (param_1 != NULL);
          return;
        }
      }
      else if (((iVar3 == 0) || (iVar8 == 0)) || (iVar2 == 0)) {
        if (local_20 != NULL) {
          pbVar6 = in_EAX + 1;
          param_1 = local_20;
          do {
            uVar7 = (ushort)pbVar6[5] * 0x100 + (ushort)pbVar6[6];
            uVar11 = (uint)uVar7;
            if (uVar7 == 0) {
              pbVar6[-1] = *(byte *)(unaff_ESI + 0x157);
              *pbVar6 = *(byte *)(unaff_ESI + 0x156);
              pbVar6[1] = *(byte *)(unaff_ESI + 0x159);
              pbVar6[2] = *(byte *)(unaff_ESI + 0x158);
              pbVar6[3] = *(byte *)(unaff_ESI + 0x15b);
              pbVar6[4] = *(byte *)(unaff_ESI + 0x15a);
            }
            else if (uVar7 != 0xffff) {
              iVar14 = 0xffff - uVar11;
              uVar12 = (ushort)((ushort)pbVar6[-1] * 0x100 + (ushort)*pbVar6) * uVar11 + 0x8000 +
                       (uint)*(ushort *)(unaff_ESI + 0x156) * iVar14;
              iVar13 = (uVar12 >> 0x10) + uVar12;
              *pbVar6 = (byte)((uint)iVar13 >> 0x10);
              pbVar6[-1] = (byte)((uint)iVar13 >> 0x18);
              uVar12 = (ushort)((ushort)pbVar6[1] * 0x100 + (ushort)pbVar6[2]) * uVar11 + 0x8000 +
                       (uint)*(ushort *)(unaff_ESI + 0x158) * iVar14;
              iVar13 = (uVar12 >> 0x10) + uVar12;
              pbVar6[2] = (byte)((uint)iVar13 >> 0x10);
              pbVar6[1] = (byte)((uint)iVar13 >> 0x18);
              uVar11 = (ushort)((ushort)pbVar6[3] * 0x100 + (ushort)pbVar6[4]) * uVar11 + 0x8000 +
                       (uint)*(ushort *)(unaff_ESI + 0x15a) * iVar14;
              iVar13 = (uVar11 >> 0x10) + uVar11;
              pbVar6[3] = (byte)((uint)iVar13 >> 0x18);
              pbVar6[4] = (byte)((uint)iVar13 >> 0x10);
            }
            pbVar6 = pbVar6 + 8;
            param_1 = param_1 + -1;
          } while (param_1 != NULL);
        }
      }
      else if (local_20 != NULL) {
        pbVar6 = in_EAX + 1;
        local_14 = local_20;
        do {
          uVar7 = (ushort)pbVar6[5] * 0x100 + (ushort)pbVar6[6];
          uVar12 = (uint)uVar7;
          if (uVar7 == 0xffff) {
            uVar5 = *(undefined2 *)
                     (*(int *)(iVar3 + (uint)(*pbVar6 >> (local_c & 0x1f)) * 4) +
                     (uint)pbVar6[-1] * 2);
            pbVar6[-1] = (byte)((ushort)uVar5 >> 8);
            *pbVar6 = (byte)uVar5;
            uVar5 = *(undefined2 *)
                     (*(int *)(iVar3 + (uint)(pbVar6[2] >> (local_c & 0x1f)) * 4) +
                     (uint)pbVar6[1] * 2);
            pbVar6[1] = (byte)((ushort)uVar5 >> 8);
            pbVar6[2] = (byte)uVar5;
            uVar5 = *(undefined2 *)
                     (*(int *)(iVar3 + (uint)(pbVar6[4] >> (local_c & 0x1f)) * 4) +
                     (uint)pbVar6[3] * 2);
LAB_00445e3c:
            pbVar6[4] = (byte)uVar5;
            pbVar6[3] = (byte)((ushort)uVar5 >> 8);
          }
          else {
            if (uVar7 != 0) {
              iVar13 = 0xffff - uVar12;
              uVar9 = *(ushort *)
                       (*(int *)(iVar2 + (uint)(*pbVar6 >> (local_c & 0x1f)) * 4) +
                       (uint)pbVar6[-1] * 2) * uVar12 + 0x8000 +
                      (uint)*(ushort *)(unaff_ESI + 0x160) * iVar13;
              uVar9 = (uVar9 >> 0x10) + uVar9;
              uVar5 = (undefined2)(uVar9 >> 0x10);
              if (uVar11 == 0) {
                uVar5 = *(undefined2 *)
                         (*(int *)(iVar8 + ((uVar9 >> 0x10 & 0xff) >> (local_c & 0x1f)) * 4) +
                         (uVar9 >> 0x18) * 2);
              }
              *pbVar6 = (byte)uVar5;
              pbVar6[-1] = (byte)((ushort)uVar5 >> 8);
              uVar9 = *(ushort *)
                       (*(int *)(iVar2 + (uint)(pbVar6[2] >> (local_c & 0x1f)) * 4) +
                       (uint)pbVar6[1] * 2) * uVar12 + 0x8000 +
                      (uint)*(ushort *)(unaff_ESI + 0x162) * iVar13;
              uVar9 = (uVar9 >> 0x10) + uVar9;
              uVar5 = (undefined2)(uVar9 >> 0x10);
              if (uVar11 == 0) {
                uVar5 = *(undefined2 *)
                         (*(int *)(iVar8 + ((uVar9 >> 0x10 & 0xff) >> (local_c & 0x1f)) * 4) +
                         (uVar9 >> 0x18) * 2);
              }
              pbVar6[2] = (byte)uVar5;
              pbVar6[1] = (byte)((ushort)uVar5 >> 8);
              uVar12 = *(ushort *)
                        (*(int *)(iVar2 + (uint)(pbVar6[4] >> (local_c & 0x1f)) * 4) +
                        (uint)pbVar6[3] * 2) * uVar12 + 0x8000 +
                       (uint)*(ushort *)(unaff_ESI + 0x164) * iVar13;
              uVar12 = (uVar12 >> 0x10) + uVar12;
              uVar5 = (undefined2)(uVar12 >> 0x10);
              if (uVar11 == 0) {
                uVar5 = *(undefined2 *)
                         (*(int *)(iVar8 + ((uVar12 >> 0x10 & 0xff) >> (local_c & 0x1f)) * 4) +
                         (uVar12 >> 0x18) * 2);
              }
              goto LAB_00445e3c;
            }
            pbVar6[-1] = *(byte *)(unaff_ESI + 0x157);
            *pbVar6 = *(byte *)(unaff_ESI + 0x156);
            pbVar6[1] = *(byte *)(unaff_ESI + 0x159);
            pbVar6[2] = *(byte *)(unaff_ESI + 0x158);
            pbVar6[3] = *(byte *)(unaff_ESI + 0x15b);
            pbVar6[4] = *(byte *)(unaff_ESI + 0x15a);
          }
          pbVar6 = pbVar6 + 8;
          local_14 = local_14 + -1;
          if (local_14 == NULL) {
            return;
          }
        } while( true );
      }
    }
  }
  return;
}



void __cdecl FUN_00446000(int *param_1,byte *param_2)

{
  byte bVar1;
  char cVar2;
  undefined2 uVar3;
  int iVar4;
  int in_EAX;
  uint uVar5;
  uint uVar6;
  int iVar7;
  uint uVar8;
  int iVar9;
  uint uVar10;
  int local_10;
  byte *local_c;
  byte local_8;
  
  iVar9 = *(int *)(in_EAX + 0x184);
  iVar4 = *(int *)(in_EAX + 0x180);
  iVar7 = *param_1;
  bVar1 = *(byte *)((int)param_1 + 9);
  if ((((bVar1 < 9) && (iVar4 != 0)) || ((bVar1 == 0x10 && (iVar9 != 0)))) && (true)) {
    local_8 = (byte)*(undefined4 *)(in_EAX + 0x174);
    switch((char)param_1[2]) {
    case '\0':
      if ((bVar1 == 2) && (local_c = param_2, iVar7 != 0)) {
        local_10 = (iVar7 - 1U >> 2) + 1;
        do {
          uVar5 = (uint)*local_c;
          uVar6 = uVar5 & 3;
          uVar10 = uVar5 & 0xc;
          uVar8 = uVar5 & 0x30;
          uVar5 &= 0xc0;
          *local_c = (byte)((byte)(*(byte *)(((uVar10 * 4 | uVar10) * 4 | (int)uVar10 >> 2 | uVar10)
                                            + iVar4) & 0xcf |
                                  *(byte *)((((uVar6 * 4 | uVar6) * 4 | uVar6) * 4 | uVar6) + iVar4)
                                  >> 2) >> 2 |
                           *(byte *)(((int)((int)uVar8 >> 2 | uVar8) >> 2 | uVar8 * 4 | uVar8) +
                                    iVar4) & 0xc3) >> 2 |
                     *(byte *)(((int)((int)((int)uVar5 >> 2 | uVar5) >> 2 | uVar5) >> 2 | uVar5) +
                              iVar4) & 0xc0;
          local_c = local_c + 1;
          local_10 += -1;
        } while (local_10 != 0);
      }
      cVar2 = *(char *)((int)param_1 + 9);
      if (cVar2 == '\x04') {
        if (iVar7 != 0) {
          iVar9 = (iVar7 - 1U >> 1) + 1;
          do {
            uVar6 = *param_2 & 0xf0;
            uVar5 = *param_2 & 0xf;
            *param_2 = *(byte *)(((int)uVar6 >> 4 | uVar6) + iVar4) & 0xf0 |
                       *(byte *)((uVar5 << 4 | uVar5) + iVar4) >> 4;
            param_2 = param_2 + 1;
            iVar9 += -1;
          } while (iVar9 != 0);
          return;
        }
      }
      else if (cVar2 == '\b') {
        if (iVar7 != 0) {
          do {
            *param_2 = *(byte *)((uint)*param_2 + iVar4);
            param_2 = param_2 + 1;
            iVar7 += -1;
          } while (iVar7 != 0);
          return;
        }
      }
      else if (cVar2 == '\x10') {
        for (; iVar7 != 0; iVar7 += -1) {
          uVar3 = *(undefined2 *)
                   (*(int *)(iVar9 + (uint)(param_2[1] >> (local_8 & 0x1f)) * 4) +
                   (uint)*param_2 * 2);
          *param_2 = (byte)((ushort)uVar3 >> 8);
          param_2[1] = (byte)uVar3;
          param_2 = param_2 + 2;
        }
      }
      break;
    case '\x02':
      if (bVar1 == 8) {
        if (iVar7 != 0) {
          do {
            *param_2 = *(byte *)((uint)*param_2 + iVar4);
            param_2[1] = *(byte *)((uint)param_2[1] + iVar4);
            param_2[2] = *(byte *)((uint)param_2[2] + iVar4);
            param_2 = param_2 + 3;
            iVar7 += -1;
          } while (iVar7 != 0);
          return;
        }
      }
      else if (iVar7 != 0) {
        do {
          uVar3 = *(undefined2 *)
                   (*(int *)(iVar9 + (uint)(param_2[1] >> (local_8 & 0x1f)) * 4) +
                   (uint)*param_2 * 2);
          *param_2 = (byte)((ushort)uVar3 >> 8);
          param_1._0_1_ = (byte)uVar3;
          param_2[1] = (byte)param_1;
          uVar3 = *(undefined2 *)
                   (*(int *)(iVar9 + (uint)(param_2[3] >> (local_8 & 0x1f)) * 4) +
                   (uint)param_2[2] * 2);
          param_2[2] = (byte)((ushort)uVar3 >> 8);
          param_1._0_1_ = (byte)uVar3;
          param_2[3] = (byte)param_1;
          uVar3 = *(undefined2 *)
                   (*(int *)(iVar9 + (uint)(param_2[5] >> (local_8 & 0x1f)) * 4) +
                   (uint)param_2[4] * 2);
          param_2[4] = (byte)((ushort)uVar3 >> 8);
          param_1._0_1_ = (byte)uVar3;
          param_2[5] = (byte)param_1;
          param_2 = param_2 + 6;
          iVar7 += -1;
        } while (iVar7 != 0);
        return;
      }
      break;
    case '\x04':
      if (bVar1 == 8) {
        if (iVar7 != 0) {
          do {
            *param_2 = *(byte *)((uint)*param_2 + iVar4);
            param_2 = param_2 + 2;
            iVar7 += -1;
          } while (iVar7 != 0);
          return;
        }
      }
      else if (iVar7 != 0) {
        do {
          uVar3 = *(undefined2 *)
                   (*(int *)(iVar9 + (uint)(param_2[1] >> (local_8 & 0x1f)) * 4) +
                   (uint)*param_2 * 2);
          *param_2 = (byte)((ushort)uVar3 >> 8);
          param_2[1] = (byte)uVar3;
          param_2 = param_2 + 4;
          iVar7 += -1;
        } while (iVar7 != 0);
        return;
      }
      break;
    case '\x06':
      if (bVar1 == 8) {
        if (iVar7 != 0) {
          do {
            *param_2 = *(byte *)((uint)*param_2 + iVar4);
            param_2[1] = *(byte *)((uint)param_2[1] + iVar4);
            param_2[2] = *(byte *)((uint)param_2[2] + iVar4);
            param_2 = param_2 + 4;
            iVar7 += -1;
          } while (iVar7 != 0);
          return;
        }
      }
      else if (iVar7 != 0) {
        do {
          uVar3 = *(undefined2 *)
                   (*(int *)(iVar9 + (uint)(param_2[1] >> (local_8 & 0x1f)) * 4) +
                   (uint)*param_2 * 2);
          *param_2 = (byte)((ushort)uVar3 >> 8);
          param_1._0_1_ = (byte)uVar3;
          param_2[1] = (byte)param_1;
          uVar3 = *(undefined2 *)
                   (*(int *)(iVar9 + (uint)(param_2[3] >> (local_8 & 0x1f)) * 4) +
                   (uint)param_2[2] * 2);
          param_2[2] = (byte)((ushort)uVar3 >> 8);
          param_1._0_1_ = (byte)uVar3;
          param_2[3] = (byte)param_1;
          uVar3 = *(undefined2 *)
                   (*(int *)(iVar9 + (uint)(param_2[5] >> (local_8 & 0x1f)) * 4) +
                   (uint)param_2[4] * 2);
          param_2[4] = (byte)((ushort)uVar3 >> 8);
          param_1._0_1_ = (byte)uVar3;
          param_2[5] = (byte)param_1;
          param_2 = param_2 + 8;
          iVar7 += -1;
        } while (iVar7 != 0);
        return;
      }
    }
  }
  return;
}



void __thiscall FUN_00446400(void *this,int param_1)

{
  byte bVar1;
  undefined2 uVar2;
  int iVar3;
  undefined4 uVar4;
  int in_EAX;
  byte *pbVar5;
  int iVar6;
  byte local_8;
  
  bVar1 = *(byte *)((int)this + 8);
                    // WARNING: Load size is inaccurate
  iVar6 = *this;
  if ((bVar1 & 4) != 0) {
    if (*(char *)((int)this + 9) == '\b') {
      iVar3 = *(int *)(in_EAX + 0x188);
      if (iVar3 != 0) {
        pbVar5 = (byte *)(param_1 + -1);
        if (iVar6 == 0) {
          return;
        }
        do {
          pbVar5 = pbVar5 + (uint)((bVar1 & 2) != 0) * 2 + 2;
          *pbVar5 = *(byte *)((uint)*pbVar5 + iVar3);
          iVar6 += -1;
        } while (iVar6 != 0);
        return;
      }
    }
    else if (*(char *)((int)this + 9) == '\x10') {
      iVar3 = *(int *)(in_EAX + 400);
      uVar4 = *(undefined4 *)(in_EAX + 0x174);
      if (iVar3 != 0) {
        pbVar5 = (byte *)(param_1 + -2);
        if (iVar6 == 0) {
          return;
        }
        do {
          pbVar5 = pbVar5 + (uint)((bVar1 & 2) != 0) * 4 + 4;
          local_8 = (byte)uVar4;
          uVar2 = *(undefined2 *)
                   (*(int *)(iVar3 + (uint)(pbVar5[1] >> (local_8 & 0x1f)) * 4) + (uint)*pbVar5 * 2)
          ;
          *pbVar5 = (byte)((ushort)uVar2 >> 8);
          pbVar5[1] = (byte)uVar2;
          iVar6 += -1;
        } while (iVar6 != 0);
        return;
      }
    }
  }
  FUN_0043df90("png_do_encode_alpha: unexpected call");
  return;
}



void __cdecl FUN_004464e0(uint *param_1,int param_2,int param_3,int param_4,int param_5)

{
  byte bVar1;
  int iVar2;
  undefined1 *puVar3;
  byte *pbVar4;
  byte *pbVar5;
  uint uVar6;
  uint uVar7;
  
  uVar7 = *param_1;
  if ((char)param_1[2] == '\x03') {
    bVar1 = *(byte *)((int)param_1 + 9);
    if (bVar1 < 8) {
      if (bVar1 == 1) {
        pbVar5 = (byte *)((uVar7 - 1 >> 3) + param_2);
        pbVar4 = (byte *)(uVar7 + param_2 + -1);
        iVar2 = 7 - (uVar7 - 1 & 7);
        for (uVar6 = uVar7; uVar6 != 0; uVar6 -= 1) {
          *pbVar4 = *pbVar5 >> ((byte)iVar2 & 0x1f) & 1;
          if (iVar2 == 7) {
            iVar2 = 0;
            pbVar5 = pbVar5 + -1;
          }
          else {
            iVar2 += 1;
          }
          pbVar4 = pbVar4 + -1;
        }
      }
      else if (bVar1 == 2) {
        pbVar5 = (byte *)((uVar7 - 1 >> 2) + param_2);
        pbVar4 = (byte *)(uVar7 + param_2 + -1);
        iVar2 = (3 - (uVar7 - 1 & 3)) * 2;
        for (uVar6 = uVar7; uVar6 != 0; uVar6 -= 1) {
          *pbVar4 = *pbVar5 >> ((byte)iVar2 & 0x1f) & 3;
          if (iVar2 == 6) {
            iVar2 = 0;
            pbVar5 = pbVar5 + -1;
          }
          else {
            iVar2 += 2;
          }
          pbVar4 = pbVar4 + -1;
        }
      }
      else if (bVar1 == 4) {
        pbVar5 = (byte *)((uVar7 - 1 >> 1) + param_2);
        pbVar4 = (byte *)(uVar7 + param_2 + -1);
        iVar2 = (uVar7 & 1) * 4;
        for (uVar6 = uVar7; uVar6 != 0; uVar6 -= 1) {
          *pbVar4 = *pbVar5 >> ((byte)iVar2 & 0x1f) & 0xf;
          if (iVar2 == 4) {
            iVar2 = 0;
            pbVar5 = pbVar5 + -1;
          }
          else {
            iVar2 += 4;
          }
          pbVar4 = pbVar4 + -1;
        }
      }
      *(undefined1 *)((int)param_1 + 9) = 8;
      *(undefined1 *)((int)param_1 + 0xb) = 8;
      param_1[1] = uVar7;
    }
    if (*(char *)((int)param_1 + 9) == '\b') {
      pbVar4 = (byte *)(uVar7 + param_2 + -1);
      if (0 < param_5) {
        uVar6 = uVar7 * 4;
        puVar3 = (undefined1 *)((uVar6 - 1) + param_2);
        for (; uVar7 != 0; uVar7 -= 1) {
          if ((int)(uint)*pbVar4 < param_5) {
            *puVar3 = *(undefined1 *)((uint)*pbVar4 + param_4);
          }
          else {
            *puVar3 = 0xff;
          }
          puVar3[-1] = *(undefined1 *)((uint)*pbVar4 * 3 + 2 + param_3);
          puVar3[-2] = *(undefined1 *)((uint)*pbVar4 * 3 + 1 + param_3);
          puVar3[-3] = *(undefined1 *)(param_3 + (uint)*pbVar4 * 3);
          puVar3 = puVar3 + -4;
          pbVar4 = pbVar4 + -1;
        }
        param_1[1] = uVar6;
        param_1[2] = 0x20040806;
        return;
      }
      uVar6 = uVar7 * 3;
      puVar3 = (undefined1 *)((uVar6 - 1) + param_2);
      for (; uVar7 != 0; uVar7 -= 1) {
        *puVar3 = *(undefined1 *)((uint)*pbVar4 * 3 + 2 + param_3);
        puVar3[-1] = *(undefined1 *)((uint)*pbVar4 * 3 + 1 + param_3);
        puVar3[-2] = *(undefined1 *)(param_3 + (uint)*pbVar4 * 3);
        puVar3 = puVar3 + -3;
        pbVar4 = pbVar4 + -1;
      }
      param_1[2] = 0x18030802;
      param_1[1] = uVar6;
    }
  }
  return;
}



void __fastcall FUN_004466f0(undefined4 param_1,int param_2,int *param_3,int param_4)

{
  char cVar1;
  char cVar2;
  char cVar3;
  char cVar4;
  char cVar5;
  int iVar6;
  byte bVar7;
  char cVar8;
  int iVar9;
  char *pcVar10;
  undefined1 *puVar11;
  ushort uVar12;
  int iVar13;
  byte *pbVar14;
  byte *pbVar15;
  
  iVar6 = *param_3;
  if ((char)param_3[2] == '\0') {
    if (param_4 == 0) {
      uVar12 = 0;
    }
    else {
      uVar12 = *(ushort *)(param_4 + 8);
    }
    bVar7 = *(byte *)((int)param_3 + 9);
    if (bVar7 < 8) {
      if (bVar7 == 1) {
        uVar12 = (uVar12 & 1) * 0xff;
        pcVar10 = (char *)(iVar6 + -1 + param_2);
        pbVar15 = (byte *)((iVar6 - 1U >> 3) + param_2);
        iVar13 = 7 - (iVar6 - 1U & 7);
        for (iVar9 = iVar6; iVar9 != 0; iVar9 += -1) {
          *pcVar10 = -((*pbVar15 >> ((byte)iVar13 & 0x1f) & 1) != 0);
          if (iVar13 == 7) {
            iVar13 = 0;
            pbVar15 = pbVar15 + -1;
          }
          else {
            iVar13 += 1;
          }
          pcVar10 = pcVar10 + -1;
        }
      }
      else if (bVar7 == 2) {
        uVar12 = (uVar12 & 3) * 0x55;
        pbVar14 = (byte *)((iVar6 - 1U >> 2) + param_2);
        pbVar15 = (byte *)(iVar6 + -1 + param_2);
        iVar13 = (3 - (iVar6 - 1U & 3)) * 2;
        for (iVar9 = iVar6; iVar9 != 0; iVar9 += -1) {
          bVar7 = *pbVar14 >> ((byte)iVar13 & 0x1f) & 3;
          *pbVar15 = ((bVar7 * '\x04' | bVar7) * '\x04' | bVar7) * '\x04' | bVar7;
          if (iVar13 == 6) {
            iVar13 = 0;
            pbVar14 = pbVar14 + -1;
          }
          else {
            iVar13 += 2;
          }
          pbVar15 = pbVar15 + -1;
        }
      }
      else if (bVar7 == 4) {
        uVar12 = (uVar12 & 0xf) * 0x11;
        pbVar14 = (byte *)((iVar6 - 1U >> 1) + param_2);
        pbVar15 = (byte *)(iVar6 + -1 + param_2);
        iVar13 = (iVar6 - 1U & 1) * -4 + 4;
        for (iVar9 = iVar6; iVar9 != 0; iVar9 += -1) {
          bVar7 = *pbVar14 >> ((byte)iVar13 & 0x1f) & 0xf;
          *pbVar15 = bVar7 << 4 | bVar7;
          if (iVar13 == 4) {
            iVar13 = 0;
            pbVar14 = pbVar14 + -1;
          }
          else {
            iVar13 = 4;
          }
          pbVar15 = pbVar15 + -1;
        }
      }
      *(undefined1 *)((int)param_3 + 9) = 8;
      *(undefined1 *)((int)param_3 + 0xb) = 8;
      param_3[1] = iVar6;
    }
    if (param_4 == 0) {
      return;
    }
    if (*(char *)((int)param_3 + 9) == '\b') {
      pbVar15 = (byte *)(iVar6 + -1 + param_2);
      puVar11 = (undefined1 *)(param_2 + -1 + iVar6 * 2);
      iVar9 = iVar6;
      if (iVar6 != 0) {
        do {
          if ((ushort)*pbVar15 == (uVar12 & 0xff)) {
            *puVar11 = 0;
          }
          else {
            *puVar11 = 0xff;
          }
          puVar11[-1] = *pbVar15;
          puVar11 = puVar11 + -2;
          pbVar15 = pbVar15 + -1;
          iVar9 += -1;
        } while (iVar9 != 0);
        cVar8 = *(char *)((int)param_3 + 9);
        *(undefined1 *)(param_3 + 2) = 4;
        *(undefined1 *)((int)param_3 + 10) = 2;
        goto LAB_00446a93;
      }
    }
    else if (*(char *)((int)param_3 + 9) == '\x10') {
      pcVar10 = (char *)(param_3[1] + -1 + param_2);
      iVar9 = param_2 + -1 + param_3[1] * 2;
      for (iVar13 = iVar6; iVar13 != 0; iVar13 += -1) {
        if ((pcVar10[-1] == (char)(uVar12 >> 8)) && (*pcVar10 == (char)uVar12)) {
          *(undefined2 *)(iVar9 + -1) = 0;
        }
        else {
          *(undefined2 *)(iVar9 + -1) = 0xffff;
        }
        *(char *)(iVar9 + -2) = *pcVar10;
        *(char *)(iVar9 + -3) = pcVar10[-1];
        iVar9 += -4;
        pcVar10 = pcVar10 + -2;
      }
    }
    cVar8 = *(char *)((int)param_3 + 9);
    *(undefined1 *)(param_3 + 2) = 4;
    *(undefined1 *)((int)param_3 + 10) = 2;
  }
  else {
    if ((char)param_3[2] != '\x02') {
      return;
    }
    if (param_4 == 0) {
      return;
    }
    if (*(char *)((int)param_3 + 9) == '\b') {
      cVar8 = *(char *)(param_4 + 4);
      cVar1 = *(char *)(param_4 + 2);
      cVar2 = *(char *)(param_4 + 6);
      pcVar10 = (char *)(param_3[1] + -1 + param_2);
      puVar11 = (undefined1 *)(param_2 + -1 + iVar6 * 4);
      for (iVar9 = iVar6; iVar9 != 0; iVar9 += -1) {
        if (((pcVar10[-2] == cVar1) && (pcVar10[-1] == cVar8)) && (*pcVar10 == cVar2)) {
          *puVar11 = 0;
        }
        else {
          *puVar11 = 0xff;
        }
        puVar11[-1] = *pcVar10;
        puVar11[-2] = pcVar10[-1];
        puVar11[-3] = pcVar10[-2];
        puVar11 = puVar11 + -4;
        pcVar10 = pcVar10 + -3;
      }
    }
    else if (*(char *)((int)param_3 + 9) == '\x10') {
      cVar2 = *(char *)(param_4 + 5);
      cVar8 = *(char *)(param_4 + 3);
      cVar3 = *(char *)(param_4 + 7);
      cVar4 = *(char *)(param_4 + 2);
      cVar5 = *(char *)(param_4 + 4);
      cVar1 = *(char *)(param_4 + 6);
      pcVar10 = (char *)(param_3[1] + -1 + param_2);
      iVar9 = param_2 + -1 + iVar6 * 8;
      for (iVar13 = iVar6; iVar13 != 0; iVar13 += -1) {
        if (((((pcVar10[-5] == cVar8) && (pcVar10[-4] == cVar4)) && (pcVar10[-3] == cVar2)) &&
            ((pcVar10[-2] == cVar5 && (pcVar10[-1] == cVar3)))) && (*pcVar10 == cVar1)) {
          *(undefined2 *)(iVar9 + -1) = 0;
        }
        else {
          *(undefined2 *)(iVar9 + -1) = 0xffff;
        }
        *(char *)(iVar9 + -2) = *pcVar10;
        *(char *)(iVar9 + -3) = pcVar10[-1];
        *(char *)(iVar9 + -4) = pcVar10[-2];
        *(char *)(iVar9 + -5) = pcVar10[-3];
        *(char *)(iVar9 + -6) = pcVar10[-4];
        *(char *)(iVar9 + -7) = pcVar10[-5];
        iVar9 += -8;
        pcVar10 = pcVar10 + -6;
      }
    }
    *(undefined1 *)(param_3 + 2) = 6;
    *(undefined1 *)((int)param_3 + 10) = 4;
    cVar8 = *(char *)((int)param_3 + 9) * '\x02';
  }
LAB_00446a93:
  bVar7 = cVar8 * '\x02';
  *(byte *)((int)param_3 + 0xb) = bVar7;
  if (bVar7 < 8) {
    param_3[1] = (uint)bVar7 * iVar6 + 7 >> 3;
    return;
  }
  param_3[1] = (uint)(bVar7 >> 3) * iVar6;
  return;
}



void __fastcall FUN_00446ad0(int param_1)

{
  undefined1 uVar1;
  uint uVar2;
  uint uVar3;
  int unaff_ESI;
  
  if ((*(char *)(unaff_ESI + 9) == '\b') && (*(char *)(unaff_ESI + 8) != '\x03')) {
    uVar3 = param_1 + *(int *)(unaff_ESI + 4);
    uVar2 = *(int *)(unaff_ESI + 4) + uVar3;
    if (uVar3 < uVar2) {
      do {
        uVar1 = *(undefined1 *)(uVar3 - 1);
        uVar3 -= 1;
        *(undefined1 *)(uVar2 - 1) = uVar1;
        *(undefined1 *)(uVar2 - 2) = uVar1;
        uVar2 -= 2;
      } while (uVar3 < uVar2);
    }
    *(int *)(unaff_ESI + 4) = *(int *)(unaff_ESI + 4) * 2;
    *(undefined1 *)(unaff_ESI + 9) = 0x10;
    *(char *)(unaff_ESI + 0xb) = *(char *)(unaff_ESI + 10) << 4;
  }
  return;
}



void __fastcall FUN_00446b10(int param_1,byte *param_2,int *param_3)

{
  char cVar1;
  int iVar2;
  byte *pbVar3;
  byte bVar4;
  int in_EAX;
  int iVar5;
  
  iVar5 = *param_3;
  if (*(char *)((int)param_3 + 9) != '\b') {
    return;
  }
  cVar1 = (char)param_3[2];
  if ((cVar1 == '\x02') && (iVar2 = iVar5, pbVar3 = param_2, in_EAX != 0)) {
    for (; iVar2 != 0; iVar2 = iVar2 + -1) {
      *pbVar3 = *(byte *)((((*param_2 & 0xf8) << 5 | param_2[1] & 0xf8) * 4 |
                          (int)(uint)param_2[2] >> 3) + in_EAX);
      param_2 = param_2 + 3;
      pbVar3 = pbVar3 + 1;
    }
    bVar4 = *(byte *)((int)param_3 + 9);
    *(byte *)((int)param_3 + 0xb) = bVar4;
    *(undefined1 *)(param_3 + 2) = 3;
    *(undefined1 *)((int)param_3 + 10) = 1;
    if (7 < bVar4) {
      param_3[1] = (uint)(bVar4 >> 3) * iVar5;
      return;
    }
  }
  else {
    if ((cVar1 != '\x06') || (iVar2 = iVar5, pbVar3 = param_2, in_EAX == 0)) {
      if (cVar1 != '\x03') {
        return;
      }
      if (param_1 == 0) {
        return;
      }
      for (; iVar5 != 0; iVar5 += -1) {
        *param_2 = *(byte *)((uint)*param_2 + param_1);
        param_2 = param_2 + 1;
      }
      return;
    }
    for (; iVar2 != 0; iVar2 = iVar2 + -1) {
      *pbVar3 = *(byte *)((((*param_2 & 0xf8) << 5 | param_2[1] & 0xf8) * 4 |
                          (int)(uint)param_2[2] >> 3) + in_EAX);
      param_2 = param_2 + 4;
      pbVar3 = pbVar3 + 1;
    }
    bVar4 = *(byte *)((int)param_3 + 9);
    *(byte *)((int)param_3 + 0xb) = bVar4;
    *(undefined1 *)(param_3 + 2) = 3;
    *(undefined1 *)((int)param_3 + 10) = 1;
    if (7 < bVar4) {
      param_3[1] = (uint)(bVar4 >> 3) * iVar5;
      return;
    }
  }
  param_3[1] = (uint)bVar4 * iVar5 + 7 >> 3;
  return;
}



void __fastcall FUN_00446c60(int param_1)

{
  byte bVar1;
  int *in_EAX;
  char *pcVar2;
  undefined1 *puVar3;
  uint uVar4;
  int iVar5;
  uint uVar6;
  int iVar7;
  int local_8;
  
  bVar1 = *(byte *)(in_EAX + 2);
  if ((bVar1 & 2) != 0) {
    iVar5 = *in_EAX;
    if (*(char *)((int)in_EAX + 9) == '\b') {
      if (bVar1 == 2) {
        iVar7 = 3;
      }
      else {
        if (bVar1 != 6) {
          return;
        }
        iVar7 = 4;
      }
      if (iVar5 != 0) {
        pcVar2 = (char *)(param_1 + 2);
        do {
          pcVar2[-2] = pcVar2[-2] + pcVar2[-1];
          *pcVar2 = *pcVar2 + pcVar2[-1];
          pcVar2 = pcVar2 + iVar7;
          iVar5 += -1;
        } while (iVar5 != 0);
        return;
      }
    }
    else if (*(char *)((int)in_EAX + 9) == '\x10') {
      if (bVar1 == 2) {
        local_8 = 6;
      }
      else {
        if (bVar1 != 6) {
          return;
        }
        local_8 = 8;
      }
      if (iVar5 != 0) {
        puVar3 = (undefined1 *)(param_1 + 1);
        do {
          uVar4 = (uint)CONCAT11(puVar3[-1],*puVar3) + (uint)CONCAT11(puVar3[1],puVar3[2]) & 0xffff;
          uVar6 = (uint)CONCAT11(puVar3[3],puVar3[4]) + (uint)CONCAT11(puVar3[1],puVar3[2]) & 0xffff
          ;
          *puVar3 = (char)uVar4;
          puVar3[-1] = (char)(uVar4 >> 8);
          puVar3[3] = (char)(uVar6 >> 8);
          puVar3[4] = (char)uVar6;
          puVar3 = puVar3 + local_8;
          iVar5 += -1;
        } while (iVar5 != 0);
      }
    }
  }
  return;
}



void __fastcall FUN_00446d40(int param_1)

{
  byte *in_EAX;
  byte *pbVar1;
  int iVar2;
  
  if (*(char *)(param_1 + 8) == '\0') {
    iVar2 = *(int *)(param_1 + 4);
    if (iVar2 != 0) {
      do {
        *in_EAX = ~*in_EAX;
        in_EAX = in_EAX + 1;
        iVar2 += -1;
      } while (iVar2 != 0);
      return;
    }
  }
  else if (*(char *)(param_1 + 8) == '\x04') {
    if (*(char *)(param_1 + 9) == '\b') {
      if (*(int *)(param_1 + 4) != 0) {
        iVar2 = (*(int *)(param_1 + 4) - 1U >> 1) + 1;
        do {
          *in_EAX = ~*in_EAX;
          in_EAX = in_EAX + 2;
          iVar2 += -1;
        } while (iVar2 != 0);
        return;
      }
    }
    else if (((true) && (*(char *)(param_1 + 9) == '\x10')) && (*(int *)(param_1 + 4) != 0)) {
      pbVar1 = in_EAX + 1;
      iVar2 = (*(int *)(param_1 + 4) - 1U >> 2) + 1;
      do {
        pbVar1[-1] = ~pbVar1[-1];
        *pbVar1 = ~*pbVar1;
        pbVar1 = pbVar1 + 4;
        iVar2 += -1;
      } while (iVar2 != 0);
    }
  }
  return;
}



void __fastcall FUN_00446db0(int param_1)

{
  byte bVar1;
  byte *in_EAX;
  byte *pbVar2;
  undefined *puVar3;
  
  bVar1 = *(byte *)(param_1 + 9);
  if (bVar1 < 8) {
    pbVar2 = in_EAX + *(int *)(param_1 + 4);
    if (bVar1 == 1) {
      puVar3 = (undefined *)0x4623d8;
    }
    else if (bVar1 == 2) {
      puVar3 = &DAT_004624d8;
    }
    else {
      if (bVar1 != 4) {
        return;
      }
      puVar3 = &DAT_004625d8;
    }
    if (in_EAX < pbVar2) {
      do {
        *in_EAX = puVar3[*in_EAX];
        in_EAX = in_EAX + 1;
      } while (in_EAX < pbVar2);
    }
  }
  return;
}



void __fastcall FUN_00446e00(undefined4 param_1,int param_2)

{
  undefined1 *puVar1;
  undefined1 *puVar2;
  undefined1 *puVar3;
  int unaff_EDI;
  
  puVar3 = (undefined1 *)(*(int *)(param_2 + 4) + unaff_EDI);
  if (*(char *)(param_2 + 10) == '\x02') {
    if (*(char *)(param_2 + 9) == '\b') {
      puVar1 = (undefined1 *)(unaff_EDI + 1);
      for (puVar2 = (undefined1 *)(unaff_EDI + 2); puVar2 < puVar3; puVar2 = puVar2 + 2) {
        *puVar1 = *puVar2;
        puVar1 = puVar1 + 1;
      }
      *(undefined1 *)(param_2 + 0xb) = 8;
    }
    else {
      if (*(char *)(param_2 + 9) != '\x10') {
        return;
      }
      puVar1 = (undefined1 *)(unaff_EDI + 2);
      for (puVar2 = (undefined1 *)(unaff_EDI + 4); puVar2 < puVar3; puVar2 = puVar2 + 4) {
        *puVar1 = *puVar2;
        puVar1[1] = puVar2[1];
        puVar1 = puVar1 + 2;
      }
      *(undefined1 *)(param_2 + 0xb) = 0x10;
    }
    *(undefined1 *)(param_2 + 10) = 1;
    if (*(char *)(param_2 + 8) == '\x04') {
      *(undefined1 *)(param_2 + 8) = 0;
      *(int *)(param_2 + 4) = (int)puVar1 - unaff_EDI;
      return;
    }
  }
  else {
    if (*(char *)(param_2 + 10) != '\x04') {
      return;
    }
    if (*(char *)(param_2 + 9) == '\b') {
      puVar1 = (undefined1 *)(unaff_EDI + 3);
      for (puVar2 = (undefined1 *)(unaff_EDI + 4); puVar2 < puVar3; puVar2 = puVar2 + 4) {
        *puVar1 = *puVar2;
        puVar1[1] = puVar2[1];
        puVar1[2] = puVar2[2];
        puVar1 = puVar1 + 3;
      }
      *(undefined1 *)(param_2 + 0xb) = 0x18;
    }
    else {
      if (*(char *)(param_2 + 9) != '\x10') {
        return;
      }
      puVar1 = (undefined1 *)(unaff_EDI + 6);
      for (puVar2 = (undefined1 *)(unaff_EDI + 8); puVar2 < puVar3; puVar2 = puVar2 + 8) {
        *puVar1 = *puVar2;
        puVar1[1] = puVar2[1];
        puVar1[2] = puVar2[2];
        puVar1[3] = puVar2[3];
        puVar1[4] = puVar2[4];
        puVar1[5] = puVar2[5];
        puVar1 = puVar1 + 6;
      }
      *(undefined1 *)(param_2 + 0xb) = 0x30;
    }
    *(undefined1 *)(param_2 + 10) = 3;
    if (*(char *)(param_2 + 8) == '\x06') {
      *(undefined1 *)(param_2 + 8) = 2;
    }
  }
  *(int *)(param_2 + 4) = (int)puVar1 - unaff_EDI;
  return;
}



void __fastcall FUN_00446f10(undefined4 param_1,int *param_2)

{
  byte bVar1;
  undefined1 uVar2;
  undefined1 *in_EAX;
  undefined1 *puVar3;
  int iVar4;
  
  bVar1 = *(byte *)(param_2 + 2);
  if ((bVar1 & 2) != 0) {
    iVar4 = *param_2;
    if (*(char *)((int)param_2 + 9) == '\b') {
      if (bVar1 == 2) {
        if (iVar4 != 0) {
          do {
            uVar2 = *in_EAX;
            *in_EAX = in_EAX[2];
            in_EAX[2] = uVar2;
            in_EAX = in_EAX + 3;
            iVar4 += -1;
          } while (iVar4 != 0);
          return;
        }
      }
      else if ((bVar1 == 6) && (iVar4 != 0)) {
        do {
          uVar2 = *in_EAX;
          *in_EAX = in_EAX[2];
          in_EAX[2] = uVar2;
          in_EAX = in_EAX + 4;
          iVar4 += -1;
        } while (iVar4 != 0);
        return;
      }
    }
    else if (*(char *)((int)param_2 + 9) == '\x10') {
      if (bVar1 == 2) {
        if (iVar4 != 0) {
          puVar3 = in_EAX + 1;
          do {
            uVar2 = puVar3[-1];
            puVar3[-1] = puVar3[3];
            puVar3[3] = uVar2;
            uVar2 = *puVar3;
            *puVar3 = puVar3[4];
            puVar3[4] = uVar2;
            puVar3 = puVar3 + 6;
            iVar4 += -1;
          } while (iVar4 != 0);
          return;
        }
      }
      else if ((bVar1 == 6) && (iVar4 != 0)) {
        puVar3 = in_EAX + 1;
        do {
          uVar2 = puVar3[-1];
          puVar3[-1] = puVar3[3];
          puVar3[3] = uVar2;
          uVar2 = *puVar3;
          *puVar3 = puVar3[4];
          puVar3[4] = uVar2;
          puVar3 = puVar3 + 8;
          iVar4 += -1;
        } while (iVar4 != 0);
      }
    }
  }
  return;
}



void FUN_00446fe0(void)

{
  byte *pbVar1;
  int *in_EAX;
  byte *pbVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  sbyte sVar6;
  int unaff_EDI;
  
  if (((int)(uint)*(ushort *)(unaff_EDI + 300) < 1 << (*(byte *)((int)in_EAX + 9) & 0x1f)) &&
     (*(ushort *)(unaff_EDI + 300) != 0)) {
    pbVar1 = *(byte **)(unaff_EDI + 0x108);
    uVar3 = -((uint)*(byte *)((int)in_EAX + 0xb) * *in_EAX) & 7;
    pbVar2 = pbVar1 + in_EAX[1];
    if (true) {
      switch(*(byte *)((int)in_EAX + 9)) {
      case 1:
        if (pbVar1 < pbVar2) {
          do {
            if (*pbVar2 >> (sbyte)uVar3 != 0) {
              *(undefined4 *)(unaff_EDI + 0x130) = 1;
            }
            pbVar2 = pbVar2 + -1;
            uVar3 = 0;
          } while (*(byte **)(unaff_EDI + 0x108) < pbVar2);
          return;
        }
        break;
      case 2:
        if (pbVar1 < pbVar2) {
          uVar4 = *(uint *)(unaff_EDI + 0x130);
          do {
            sVar6 = (sbyte)uVar3;
            uVar3 = *pbVar2 >> sVar6 & 3;
            if ((int)uVar4 < (int)uVar3) {
              *(uint *)(unaff_EDI + 0x130) = uVar3;
              uVar4 = uVar3;
            }
            uVar3 = (byte)((*pbVar2 >> sVar6) >> 2) & 3;
            if ((int)uVar4 < (int)uVar3) {
              *(uint *)(unaff_EDI + 0x130) = uVar3;
              uVar4 = uVar3;
            }
            uVar3 = (byte)((*pbVar2 >> sVar6) >> 4) & 3;
            if ((int)uVar4 < (int)uVar3) {
              *(uint *)(unaff_EDI + 0x130) = uVar3;
              uVar4 = uVar3;
            }
            uVar3 = (uint)(byte)((*pbVar2 >> sVar6) >> 6);
            if ((int)uVar4 < (int)uVar3) {
              *(uint *)(unaff_EDI + 0x130) = uVar3;
              uVar4 = uVar3;
            }
            pbVar2 = pbVar2 + -1;
            uVar3 = 0;
          } while (*(byte **)(unaff_EDI + 0x108) < pbVar2);
          return;
        }
        break;
      case 4:
        if (pbVar1 < pbVar2) {
          uVar4 = *(uint *)(unaff_EDI + 0x130);
          do {
            uVar5 = *pbVar2 >> (sbyte)uVar3 & 0xf;
            if ((int)uVar4 < (int)uVar5) {
              *(uint *)(unaff_EDI + 0x130) = uVar5;
              uVar4 = uVar5;
            }
            uVar3 = (uint)(byte)((*pbVar2 >> (sbyte)uVar3) >> 4);
            if ((int)uVar4 < (int)uVar3) {
              *(uint *)(unaff_EDI + 0x130) = uVar3;
              uVar4 = uVar3;
            }
            pbVar2 = pbVar2 + -1;
            uVar3 = 0;
          } while (*(byte **)(unaff_EDI + 0x108) < pbVar2);
          return;
        }
        break;
      case 8:
        if (pbVar1 < pbVar2) {
          uVar3 = *(uint *)(unaff_EDI + 0x130);
          do {
            uVar4 = (uint)*pbVar2;
            if ((int)uVar3 < (int)uVar4) {
              *(uint *)(unaff_EDI + 0x130) = uVar4;
              uVar3 = uVar4;
            }
            pbVar2 = pbVar2 + -1;
          } while (*(byte **)(unaff_EDI + 0x108) < pbVar2);
        }
      }
    }
  }
  return;
}



void __cdecl FUN_00447170(int param_1,int param_2,int param_3,int param_4,int param_5,int param_6)

{
  int in_EAX;
  int iVar1;
  int unaff_EBX;
  int unaff_ESI;
  undefined4 unaff_EDI;
  
  if ((in_EAX != 0) && (unaff_ESI != 0)) {
    iVar1 = FUN_0043ca60(unaff_EBX,param_5,in_EAX,param_1,param_2,param_3,param_4,param_6);
    if (iVar1 != 0) {
      *(uint *)(unaff_ESI + 8) = *(uint *)(unaff_ESI + 8) | 4;
      *(int *)(unaff_ESI + 0x80) = param_1;
      *(int *)(unaff_ESI + 0x84) = param_2;
      *(int *)(unaff_ESI + 0x88) = param_3;
      *(int *)(unaff_ESI + 0x8c) = param_4;
      *(int *)(unaff_ESI + 0x90) = param_5;
      *(int *)(unaff_ESI + 0x94) = param_6;
      *(int *)(unaff_ESI + 0x98) = unaff_EBX;
      *(undefined4 *)(unaff_ESI + 0x9c) = unaff_EDI;
    }
  }
  return;
}



void __fastcall FUN_004471f0(int param_1,int param_2)

{
  int in_EAX;
  
  if ((in_EAX != 0) && (param_1 != 0)) {
    if (0x2540be30 < param_2 - 0x10U) {
      FUN_0043df90("Out of range gamma value ignored");
      return;
    }
    *(uint *)(param_1 + 8) = *(uint *)(param_1 + 8) | 1;
    *(int *)(param_1 + 0x28) = param_2;
  }
  return;
}



void FUN_00447220(void)

{
  undefined4 uVar1;
  int in_EAX;
  void *pvVar2;
  int iVar3;
  int unaff_EBX;
  int unaff_ESI;
  
  if ((in_EAX != 0) && (unaff_ESI != 0)) {
    if ((*(ushort *)(unaff_ESI + 0x14) == 0) || (0x100 < *(ushort *)(unaff_ESI + 0x14))) {
      FUN_0043df90("Invalid palette size, hIST allocation skipped");
      return;
    }
    FUN_0043c360(in_EAX,unaff_ESI,8,0);
    pvVar2 = FUN_0043e420(0x200);
    *(void **)(in_EAX + 0x200) = pvVar2;
    if (pvVar2 == NULL) {
      FUN_0043df90("Insufficient memory for hIST chunk data");
      return;
    }
    iVar3 = 0;
    if (*(short *)(unaff_ESI + 0x14) != 0) {
      do {
        *(undefined2 *)(*(int *)(in_EAX + 0x200) + iVar3 * 2) =
             *(undefined2 *)(unaff_EBX + iVar3 * 2);
        iVar3 += 1;
      } while (iVar3 < (int)(uint)*(ushort *)(unaff_ESI + 0x14));
    }
    uVar1 = *(undefined4 *)(in_EAX + 0x200);
    *(uint *)(unaff_ESI + 8) = *(uint *)(unaff_ESI + 8) | 0x40;
    *(uint *)(unaff_ESI + 0xb8) = *(uint *)(unaff_ESI + 0xb8) | 8;
    *(undefined4 *)(unaff_ESI + 0x7c) = uVar1;
  }
  return;
}



void __fastcall
FUN_004472c0(undefined4 param_1,uint param_2,int param_3,byte param_4,byte param_5,byte param_6,
            byte param_7,byte param_8)

{
  byte bVar1;
  uint unaff_EBX;
  uint *unaff_ESI;
  
  if ((param_3 != 0) && (unaff_ESI != NULL)) {
    *(byte *)(unaff_ESI + 6) = param_4;
    *(byte *)((int)unaff_ESI + 0x1b) = param_8;
    *(byte *)((int)unaff_ESI + 0x19) = param_5;
    *(byte *)((int)unaff_ESI + 0x1a) = param_7;
    *(byte *)(unaff_ESI + 7) = param_6;
    unaff_ESI[1] = param_2;
    *unaff_ESI = unaff_EBX;
    FUN_0043cfd0(param_2,(uint)param_4,(uint)param_5,(uint)param_6,(uint)param_7,(uint)param_8);
    bVar1 = *(byte *)((int)unaff_ESI + 0x19);
    if ((bVar1 == 3) || ((bVar1 & 2) == 0)) {
      *(undefined1 *)((int)unaff_ESI + 0x1d) = 1;
    }
    else {
      *(undefined1 *)((int)unaff_ESI + 0x1d) = 3;
    }
    if ((bVar1 & 4) != 0) {
      *(char *)((int)unaff_ESI + 0x1d) = *(char *)((int)unaff_ESI + 0x1d) + '\x01';
    }
    bVar1 = (char)unaff_ESI[6] * *(char *)((int)unaff_ESI + 0x1d);
    *(byte *)((int)unaff_ESI + 0x1e) = bVar1;
    if (0x1fffff8e < unaff_EBX) {
      unaff_ESI[3] = 0;
      return;
    }
    if (7 < bVar1) {
      unaff_ESI[3] = (bVar1 >> 3) * unaff_EBX;
      return;
    }
    unaff_ESI[3] = bVar1 * unaff_EBX + 7 >> 3;
  }
  return;
}



void __cdecl
FUN_00447380(void *param_1,LPCSTR param_2,undefined4 param_3,undefined4 param_4,uint param_5,
            int param_6,LPCSTR param_7,int param_8)

{
  size_t _Size;
  code *pcVar1;
  char *in_EAX;
  int iVar2;
  uint uVar3;
  uint uVar4;
  void *pvVar5;
  int iVar6;
  uint local_10;
  uint local_c;
  size_t local_8;
  
  if ((param_1 != NULL) && (in_EAX != NULL)) {
    iVar2 = lstrlenA(param_2);
    local_8 = iVar2 + 1;
    if (3 < param_5) {
      FUN_0043de50();
      pcVar1 = (code *)swi(3);
      (*pcVar1)();
      return;
    }
    iVar2 = 0;
    if (0 < param_6) {
      do {
        uVar3 = lstrlenA(*(LPCSTR *)(param_8 + iVar2 * 4));
        local_10 = 0;
        local_c = 0;
        iVar6 = *(int *)(param_8 + iVar2 * 4);
        uVar4 = FUN_0043d1c0(iVar6,&local_10,&local_c);
        if ((uVar4 == 0) ||
           (((local_c != uVar3 && (*(char *)(local_c + iVar6) != '\0')) || (local_10 == 0)))) {
          in_EAX = "Invalid format for pCAL parameter";
          FUN_0043de50();
          goto LAB_00447449;
        }
        iVar2 += 1;
      } while (iVar2 < param_6);
    }
    param_1 = FUN_0043e420(local_8);
    *(void **)(in_EAX + 0xa0) = param_1;
    if (param_1 == NULL) {
      FUN_0043df90("Insufficient memory for pCAL purpose");
      return;
    }
LAB_00447449:
    memcpy(param_1,param_2,local_8);
    *(undefined4 *)(in_EAX + 0xa8) = param_4;
    *(undefined4 *)(in_EAX + 0xa4) = param_3;
    in_EAX[0xb4] = (char)param_5;
    in_EAX[0xb5] = (char)param_6;
    iVar2 = lstrlenA(param_7);
    pvVar5 = FUN_0043e420(iVar2 + 1U);
    *(void **)(in_EAX + 0xac) = pvVar5;
    if (pvVar5 != NULL) {
      memcpy(pvVar5,param_7,iVar2 + 1U);
      _Size = param_6 * 4 + 4;
      pvVar5 = FUN_0043e420(_Size);
      *(void **)(in_EAX + 0xb0) = pvVar5;
      if (pvVar5 == NULL) {
        FUN_0043df90("Insufficient memory for pCAL params");
        return;
      }
      memset(pvVar5,0,_Size);
      iVar2 = 0;
      if (0 < param_6) {
        do {
          iVar6 = lstrlenA(*(LPCSTR *)(param_8 + iVar2 * 4));
          local_8 = iVar6 + 1;
          pvVar5 = FUN_0043e420(local_8);
          *(void **)(*(int *)(in_EAX + 0xb0) + iVar2 * 4) = pvVar5;
          if (*(int *)(*(int *)(in_EAX + 0xb0) + iVar2 * 4) == 0) {
            FUN_0043df90("Insufficient memory for pCAL parameter");
            return;
          }
          memcpy(*(void **)(*(int *)(in_EAX + 0xb0) + iVar2 * 4),*(void **)(param_8 + iVar2 * 4),
                 local_8);
          iVar2 += 1;
        } while (iVar2 < param_6);
      }
      *(uint *)(in_EAX + 8) = *(uint *)(in_EAX + 8) | 0x400;
      *(uint *)(in_EAX + 0xb8) = *(uint *)(in_EAX + 0xb8) | 0x80;
      return;
    }
    FUN_0043df90("Insufficient memory for pCAL units");
  }
  return;
}



void __cdecl FUN_00447590(int param_1,LPCSTR param_2,LPCSTR param_3)

{
  code *pcVar1;
  int in_EAX;
  int iVar2;
  uint uVar3;
  int iVar4;
  void *pvVar5;
  int unaff_EBX;
  
  if ((in_EAX == 0) || (unaff_EBX == 0)) {
    return;
  }
  if ((param_1 != 1) && (param_1 != 2)) {
    FUN_0043de50();
  }
  if ((((param_2 != NULL) && (iVar2 = lstrlenA(param_2), iVar2 != 0)) && (*param_2 != '-')) &&
     (uVar3 = FUN_0043d350(), uVar3 != 0)) {
    if (((param_3 != NULL) && (iVar4 = lstrlenA(param_3), iVar4 != 0)) &&
       ((*param_3 != '-' && (uVar3 = FUN_0043d350(), uVar3 != 0)))) {
      *(undefined1 *)(unaff_EBX + 0xdc) = (undefined1)param_1;
      pvVar5 = FUN_0043e420(iVar2 + 1U);
      *(void **)(unaff_EBX + 0xe0) = pvVar5;
      if (pvVar5 != NULL) {
        memcpy(pvVar5,param_2,iVar2 + 1U);
        pvVar5 = FUN_0043e420(iVar4 + 1U);
        *(void **)(unaff_EBX + 0xe4) = pvVar5;
        if (pvVar5 != NULL) {
          memcpy(pvVar5,param_3,iVar4 + 1U);
          *(uint *)(unaff_EBX + 8) = *(uint *)(unaff_EBX + 8) | 0x4000;
          *(uint *)(unaff_EBX + 0xb8) = *(uint *)(unaff_EBX + 0xb8) | 0x100;
          return;
        }
        FUN_0043e3f0(in_EAX,*(void **)(unaff_EBX + 0xe0));
        *(undefined4 *)(unaff_EBX + 0xe0) = 0;
      }
      FUN_0043df90("Memory allocation failed while processing sCAL");
      return;
    }
    FUN_0043de50();
  }
  FUN_0043de50();
  pcVar1 = (code *)swi(3);
  (*pcVar1)();
  return;
}



void __cdecl FUN_004476e0(void *param_1)

{
  int in_EAX;
  void *_Dst;
  uint unaff_EBX;
  void *unaff_EDI;
  
  if ((unaff_EDI != NULL) && (in_EAX != 0)) {
    if (0x100 < unaff_EBX) {
      if (*(char *)(in_EAX + 0x19) == '\x03') {
        FUN_0043de50();
      }
      FUN_0043df90("Invalid palette length");
      return;
    }
    FUN_0043c360((int)unaff_EDI,in_EAX,0x1000,0);
    _Dst = FUN_0043e350(unaff_EDI);
    *(void **)((int)unaff_EDI + 0x128) = _Dst;
    memcpy(_Dst,param_1,unaff_EBX * 3);
    *(undefined4 *)(in_EAX + 0x10) = *(undefined4 *)((int)unaff_EDI + 0x128);
    *(short *)((int)unaff_EDI + 300) = (short)unaff_EBX;
    *(uint *)(in_EAX + 0xb8) = *(uint *)(in_EAX + 0xb8) | 0x1000;
    *(uint *)(in_EAX + 8) = *(uint *)(in_EAX + 8) | 8;
    *(short *)(in_EAX + 0x14) = (short)unaff_EBX;
  }
  return;
}



void __thiscall FUN_00447770(void *this,undefined1 param_1)

{
  int in_EAX;
  
  if ((in_EAX != 0) && (this != NULL)) {
    *(uint *)((int)this + 8) = *(uint *)((int)this + 8) | 0x801;
    *(undefined1 *)((int)this + 0x2c) = param_1;
    *(undefined4 *)((int)this + 0x28) = 0xb18f;
    FUN_00447170(0x7a26,0x8084,64000,33000,30000,60000);
  }
  return;
}



void __cdecl FUN_004477d0(LPCSTR param_1,undefined1 param_2,void *param_3,size_t param_4)

{
  int iVar1;
  void *_Dst;
  void *_Dst_00;
  int unaff_EBX;
  int unaff_ESI;
  
  if ((((unaff_EBX != 0) && (unaff_ESI != 0)) && (param_1 != NULL)) && (param_3 != NULL)) {
    iVar1 = lstrlenA(param_1);
    _Dst = FUN_0043e420(iVar1 + 1U);
    if (_Dst == NULL) {
      FUN_0043df90("Insufficient memory to process iCCP chunk");
      return;
    }
    memcpy(_Dst,param_1,iVar1 + 1U);
    _Dst_00 = FUN_0043e420(param_4);
    if (_Dst_00 == NULL) {
      FUN_0043e3f0(unaff_EBX,_Dst);
      FUN_0043df90("Insufficient memory to process iCCP profile");
      return;
    }
    memcpy(_Dst_00,param_3,param_4);
    FUN_0043c360(unaff_EBX,unaff_ESI,0x10,0);
    *(uint *)(unaff_ESI + 0xb8) = *(uint *)(unaff_ESI + 0xb8) | 0x10;
    *(uint *)(unaff_ESI + 8) = *(uint *)(unaff_ESI + 8) | 0x1000;
    *(void **)(unaff_ESI + 200) = _Dst_00;
    *(size_t *)(unaff_ESI + 0xcc) = param_4;
    *(void **)(unaff_ESI + 0xc4) = _Dst;
    *(undefined1 *)(unaff_ESI + 0xd0) = param_2;
  }
  return;
}



undefined4 __cdecl FUN_004478c0(int param_1,int param_2,int param_3)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  LPCSTR lpString;
  void *_Dst;
  size_t _Size;
  void *pvVar4;
  undefined4 *puVar5;
  int local_18;
  size_t local_10;
  size_t local_c;
  size_t local_8;
  
  if ((param_1 == 0) || (param_2 == 0)) {
    return 0;
  }
  iVar2 = *(int *)(param_2 + 0x30);
  iVar3 = *(int *)(param_2 + 0x34);
  if (iVar3 < iVar2 + 1) {
    pvVar4 = *(void **)(param_2 + 0x38);
    if (pvVar4 != NULL) {
      *(int *)(param_2 + 0x34) = iVar2 + 9;
      _Dst = FUN_0043e420((iVar2 + 9) * 0x1c);
      *(void **)(param_2 + 0x38) = _Dst;
      if (_Dst == NULL) {
        *(int *)(param_2 + 0x34) = iVar3;
        *(void **)(param_2 + 0x38) = pvVar4;
        return 1;
      }
      memcpy(_Dst,pvVar4,iVar3 * 0x1c);
      FUN_0043e3f0(param_1,pvVar4);
      local_18 = 0;
      puVar5 = (undefined4 *)(param_3 + 0x14);
      goto LAB_004479c3;
    }
    *(undefined4 *)(param_2 + 0x34) = 9;
    *(undefined4 *)(param_2 + 0x30) = 0;
    pvVar4 = FUN_0043e420(*(int *)(param_2 + 0x34) * 0x1c);
    *(void **)(param_2 + 0x38) = pvVar4;
    if (pvVar4 == NULL) {
      *(int *)(param_2 + 0x34) = iVar3;
      *(int *)(param_2 + 0x30) = iVar2;
      return 1;
    }
    *(uint *)(param_2 + 0xb8) = *(uint *)(param_2 + 0xb8) | 0x4000;
  }
  local_18 = 0;
  puVar5 = (undefined4 *)(param_3 + 0x14);
LAB_004479c3:
  do {
    piVar1 = (int *)(*(int *)(param_2 + 0x38) + *(int *)(param_2 + 0x30) * 0x1c);
    if ((LPCSTR)puVar5[-4] != NULL) {
      if (((int)puVar5[-5] < -1) || (2 < (int)puVar5[-5])) {
        FUN_0043df90("text compression mode is out of range");
      }
      else {
        _Size = lstrlenA((LPCSTR)puVar5[-4]);
        if ((int)puVar5[-5] < 1) {
          local_8 = 0;
LAB_00447a0b:
          local_c = 0;
        }
        else {
          if ((LPCSTR)*puVar5 == NULL) {
            local_8 = 0;
          }
          else {
            local_8 = lstrlenA((LPCSTR)*puVar5);
          }
          if ((LPCSTR)puVar5[1] == NULL) goto LAB_00447a0b;
          local_c = lstrlenA((LPCSTR)puVar5[1]);
        }
        lpString = (LPCSTR)puVar5[-3];
        if ((lpString == NULL) || (*lpString == '\0')) {
          local_10 = 0;
          *piVar1 = (uint)(0 < (int)puVar5[-5]) * 2 + -1;
        }
        else {
          local_10 = lstrlenA(lpString);
          *piVar1 = puVar5[-5];
        }
        pvVar4 = FUN_0043e420(local_10 + local_c + local_8 + 4 + _Size);
        piVar1[1] = (int)pvVar4;
        if (pvVar4 == NULL) {
          return 1;
        }
        memcpy(pvVar4,(void *)puVar5[-4],_Size);
        *(undefined1 *)(_Size + piVar1[1]) = 0;
        if ((int)puVar5[-5] < 1) {
          piVar1[5] = 0;
          piVar1[6] = 0;
          pvVar4 = (void *)(piVar1[1] + 1 + _Size);
        }
        else {
          pvVar4 = (void *)(piVar1[1] + 1 + _Size);
          piVar1[5] = (int)pvVar4;
          memcpy(pvVar4,(void *)*puVar5,local_8);
          *(undefined1 *)(local_8 + piVar1[5]) = 0;
          pvVar4 = (void *)(piVar1[5] + 1 + local_8);
          piVar1[6] = (int)pvVar4;
          memcpy(pvVar4,(void *)puVar5[1],local_c);
          *(undefined1 *)(local_c + piVar1[6]) = 0;
          pvVar4 = (void *)(local_c + 1 + piVar1[6]);
        }
        piVar1[2] = (int)pvVar4;
        if (local_10 != 0) {
          memcpy(pvVar4,(void *)puVar5[-3],local_10);
        }
        *(undefined1 *)(local_10 + piVar1[2]) = 0;
        if (*piVar1 < 1) {
          piVar1[4] = 0;
          piVar1[3] = local_10;
          *(int *)(param_2 + 0x30) = *(int *)(param_2 + 0x30) + 1;
        }
        else {
          piVar1[3] = 0;
          piVar1[4] = local_10;
          *(int *)(param_2 + 0x30) = *(int *)(param_2 + 0x30) + 1;
        }
      }
    }
    local_18 += 1;
    puVar5 = puVar5 + 7;
    if (0 < local_18) {
      return 0;
    }
  } while( true );
}



void __fastcall FUN_00447b70(undefined4 *param_1,int param_2)

{
  undefined4 uVar1;
  undefined4 uVar2;
  int in_EAX;
  
  if (((in_EAX != 0) && (param_2 != 0)) && ((*(uint *)(in_EAX + 0x6c) & 0x200) == 0)) {
    if (((((*(byte *)((int)param_1 + 2) == 0) || (0xc < *(byte *)((int)param_1 + 2))) ||
         ((*(byte *)((int)param_1 + 3) == 0 ||
          ((0x1f < *(byte *)((int)param_1 + 3) || (0x17 < *(byte *)(param_1 + 1))))))) ||
        (0x3b < *(byte *)((int)param_1 + 5))) || (0x3c < *(byte *)((int)param_1 + 6))) {
      FUN_0043df90("Ignoring invalid time value");
      return;
    }
    uVar1 = *param_1;
    uVar2 = param_1[1];
    *(uint *)(param_2 + 8) = *(uint *)(param_2 + 8) | 0x200;
    *(undefined4 *)(param_2 + 0x3c) = uVar1;
    *(undefined4 *)(param_2 + 0x40) = uVar2;
  }
  return;
}



void __cdecl FUN_00447bd0(void *param_1,size_t param_2)

{
  char *in_EAX;
  void *pvVar1;
  int iVar2;
  undefined4 *unaff_EBX;
  void *unaff_EDI;
  
  if ((unaff_EDI != NULL) && (in_EAX != NULL)) {
    if (param_1 != NULL) {
      FUN_0043c360((int)unaff_EDI,(int)in_EAX,0x2000,0);
      if (*(code **)((int)unaff_EDI + 0x264) == NULL) {
        pvVar1 = malloc(0x100);
      }
      else {
        pvVar1 = (void *)(**(code **)((int)unaff_EDI + 0x264))();
      }
      if ((pvVar1 == NULL) && ((*(uint *)((int)unaff_EDI + 0x70) & 0x100000) == 0)) {
        in_EAX = s_Out_of_Memory_0046968c;
        pvVar1 = unaff_EDI;
        FUN_0043de50();
      }
      *(void **)(in_EAX + 0x4c) = pvVar1;
      *(void **)((int)unaff_EDI + 0x1a4) = pvVar1;
      if (param_2 - 1 < 0x100) {
        memcpy(*(void **)(in_EAX + 0x4c),param_1,param_2);
      }
    }
    if (unaff_EBX != NULL) {
      iVar2 = 1 << (in_EAX[0x18] & 0x1fU);
      if (((in_EAX[0x19] == '\0') && (iVar2 < (int)(uint)*(ushort *)(unaff_EBX + 2))) ||
         ((in_EAX[0x19] == '\x02' &&
          (((iVar2 < (int)(uint)*(ushort *)((int)unaff_EBX + 2) ||
            (iVar2 < (int)(uint)*(ushort *)(unaff_EBX + 1))) ||
           (iVar2 < (int)(uint)*(ushort *)((int)unaff_EBX + 6))))))) {
        FUN_0043df90("tRNS chunk has out-of-range samples for bit_depth");
      }
      *(undefined4 *)(in_EAX + 0x50) = *unaff_EBX;
      *(undefined4 *)(in_EAX + 0x54) = unaff_EBX[1];
      *(undefined2 *)(in_EAX + 0x58) = *(undefined2 *)(unaff_EBX + 2);
      if (param_2 == 0) {
        param_2 = 1;
      }
    }
    *(short *)(in_EAX + 0x16) = (short)param_2;
    if (param_2 != 0) {
      *(uint *)(in_EAX + 8) = *(uint *)(in_EAX + 8) | 0x10;
      *(uint *)(in_EAX + 0xb8) = *(uint *)(in_EAX + 0xb8) | 0x2000;
    }
  }
  return;
}



void __cdecl FUN_00447ce0(int param_1,int param_2)

{
  uint uVar1;
  code *pcVar2;
  void *_Dst;
  int iVar3;
  void *pvVar4;
  int unaff_EBX;
  undefined4 *puVar5;
  size_t _Size;
  int local_c;
  int *local_8;
  
  if ((unaff_EBX != 0) && (param_1 != 0)) {
    _Dst = FUN_0043e420((*(int *)(param_1 + 0xd8) + 1) * 0x10);
    if (_Dst == NULL) {
      FUN_0043df90("No memory for sPLT palettes");
      return;
    }
    memcpy(_Dst,*(void **)(param_1 + 0xd4),*(int *)(param_1 + 0xd8) << 4);
    if (*(void **)(param_1 + 0xd4) != NULL) {
      if (*(code **)(unaff_EBX + 0x268) == NULL) {
        free(*(void **)(param_1 + 0xd4));
      }
      else {
        (**(code **)(unaff_EBX + 0x268))();
      }
    }
    local_8 = (int *)(param_2 + 0xc);
    *(undefined4 *)(param_1 + 0xd4) = 0;
    local_c = 0;
    do {
      puVar5 = (undefined4 *)((*(int *)(param_1 + 0xd8) + local_c) * 0x10 + (int)_Dst);
      iVar3 = lstrlenA((LPCSTR)local_8[-3]);
      uVar1 = *(uint *)(unaff_EBX + 0x70);
      _Size = iVar3 + 1;
      *(uint *)(unaff_EBX + 0x70) = uVar1 | 0x100000;
      if (_Size == 0) {
        pvVar4 = NULL;
      }
      else {
        if (*(code **)(unaff_EBX + 0x264) == NULL) {
          pvVar4 = malloc(_Size);
        }
        else {
          pvVar4 = (void *)(**(code **)(unaff_EBX + 0x264))();
        }
        if ((pvVar4 == NULL) && ((*(uint *)(unaff_EBX + 0x70) & 0x100000) == 0)) {
          FUN_0043de50();
          pcVar2 = (code *)swi(3);
          (*pcVar2)();
          return;
        }
      }
      *(uint *)(unaff_EBX + 0x70) = uVar1;
      *puVar5 = pvVar4;
      if (pvVar4 == NULL) {
        FUN_0043df90("Out of memory while processing sPLT chunk");
      }
      else {
        memcpy(pvVar4,(void *)local_8[-3],_Size);
        pvVar4 = FUN_0043e420(*local_8 * 10);
        puVar5[2] = pvVar4;
        if (pvVar4 == NULL) {
          FUN_0043df90("Out of memory while processing sPLT chunk");
          if ((void *)*puVar5 != NULL) {
            if (*(code **)(unaff_EBX + 0x268) != NULL) {
              (**(code **)(unaff_EBX + 0x268))();
              *puVar5 = 0;
              goto LAB_00447e91;
            }
            free((void *)*puVar5);
          }
          *puVar5 = 0;
        }
        else {
          memcpy(pvVar4,(void *)local_8[-1],*local_8 * 10);
          puVar5[3] = *local_8;
          *(char *)(puVar5 + 1) = (char)local_8[-2];
        }
      }
LAB_00447e91:
      local_c += 1;
      local_8 = local_8 + 4;
    } while (local_c < 1);
    *(int *)(param_1 + 0xd8) = *(int *)(param_1 + 0xd8) + 1;
    *(uint *)(param_1 + 8) = *(uint *)(param_1 + 8) | 0x2000;
    *(uint *)(param_1 + 0xb8) = *(uint *)(param_1 + 0xb8) | 0x20;
    *(void **)(param_1 + 0xd4) = _Dst;
  }
  return;
}



void __cdecl FUN_00447ee0(undefined4 *param_1)

{
  undefined4 *puVar1;
  int in_EAX;
  void *_Dst;
  void *_Dst_00;
  int unaff_EBX;
  
  if ((in_EAX != 0) && (unaff_EBX != 0)) {
    _Dst = FUN_0043e420((*(int *)(unaff_EBX + 0xc0) * 5 + 5) * 4);
    if (_Dst == NULL) {
      FUN_0043df90("Out of memory while processing unknown chunk");
      return;
    }
    memcpy(_Dst,*(void **)(unaff_EBX + 0xbc),*(int *)(unaff_EBX + 0xc0) * 0x14);
    if (*(void **)(unaff_EBX + 0xbc) != NULL) {
      if (*(code **)(in_EAX + 0x268) == NULL) {
        free(*(void **)(unaff_EBX + 0xbc));
      }
      else {
        (**(code **)(in_EAX + 0x268))();
      }
    }
    *(undefined4 *)(unaff_EBX + 0xbc) = 0;
    puVar1 = (undefined4 *)((int)_Dst + *(int *)(unaff_EBX + 0xc0) * 0x14);
    *puVar1 = *param_1;
    *(undefined1 *)(puVar1 + 1) = 0;
    puVar1[3] = param_1[3];
    *(undefined1 *)(puVar1 + 4) = *(undefined1 *)(in_EAX + 0x6c);
    if (param_1[3] == 0) {
      puVar1[2] = 0;
    }
    else {
      _Dst_00 = FUN_0043e420(param_1[3]);
      puVar1[2] = _Dst_00;
      if (_Dst_00 == NULL) {
        FUN_0043df90("Out of memory while processing unknown chunk");
        puVar1[3] = 0;
      }
      else {
        memcpy(_Dst_00,(void *)param_1[2],param_1[3]);
      }
    }
    *(int *)(unaff_EBX + 0xc0) = *(int *)(unaff_EBX + 0xc0) + 1;
    *(uint *)(unaff_EBX + 0xb8) = *(uint *)(unaff_EBX + 0xb8) | 0x200;
    *(void **)(unaff_EBX + 0xbc) = _Dst;
  }
  return;
}



undefined4 __fastcall FUN_00448000(undefined4 param_1,int param_2)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  
  if ((param_2 != 0) && (puVar2 = *(undefined4 **)(param_2 + 0x1c), puVar2 != NULL)) {
    puVar2[7] = 0;
    *(undefined4 *)(param_2 + 0x14) = 0;
    *(undefined4 *)(param_2 + 8) = 0;
    *(undefined4 *)(param_2 + 0x18) = 0;
    *(undefined4 *)(param_2 + 0x30) = 1;
    *puVar2 = 0;
    puVar2[1] = 0;
    puVar2[3] = 0;
    puVar2[8] = 0;
    puVar2[10] = 0;
    puVar2[0xb] = 0;
    puVar2[0xc] = 0;
    puVar2[0xe] = 0;
    puVar2[0xf] = 0;
    puVar1 = puVar2 + 0x14c;
    puVar2[5] = 0x8000;
    puVar2[0x1b] = puVar1;
    puVar2[0x14] = puVar1;
    puVar2[0x13] = puVar1;
    puVar2[0x6f0] = 1;
    puVar2[0x6f1] = 0xffffffff;
    return 0;
  }
  return 0xfffffffe;
}



undefined4 __fastcall FUN_00448070(undefined4 param_1)

{
  int iVar1;
  undefined4 uVar2;
  undefined4 extraout_ECX;
  int unaff_EDI;
  
  if ((unaff_EDI != 0) && (iVar1 = *(int *)(unaff_EDI + 0x1c), iVar1 != 0)) {
    if ((*(int *)(iVar1 + 0x34) != 0) && (*(int *)(iVar1 + 0x24) != 0xf)) {
      (**(code **)(unaff_EDI + 0x24))(*(undefined4 *)(unaff_EDI + 0x28),*(int *)(iVar1 + 0x34));
      *(undefined4 *)(iVar1 + 0x34) = 0;
      param_1 = extraout_ECX;
    }
    *(undefined4 *)(iVar1 + 8) = 1;
    *(undefined4 *)(iVar1 + 0x24) = 0xf;
    uVar2 = FUN_00448000(param_1,unaff_EDI);
    return uVar2;
  }
  return 0xfffffffe;
}



int FUN_004480c0(void)

{
  int in_EAX;
  int iVar1;
  int iVar2;
  undefined4 extraout_ECX;
  
  if (s_1_2_5_0047aa44[0] != '1') {
    return -6;
  }
  if (in_EAX == 0) {
    return -2;
  }
  *(undefined4 *)(in_EAX + 0x18) = 0;
  if (*(int *)(in_EAX + 0x20) == 0) {
    *(code **)(in_EAX + 0x20) = FUN_0044a0e0;
    *(undefined4 *)(in_EAX + 0x28) = 0;
  }
  if (*(int *)(in_EAX + 0x24) == 0) {
    *(code **)(in_EAX + 0x24) = FUN_0044a100;
  }
  iVar1 = (**(code **)(in_EAX + 0x20))(*(undefined4 *)(in_EAX + 0x28),1,0x1bcc);
  if (iVar1 == 0) {
    return -4;
  }
  *(int *)(in_EAX + 0x1c) = iVar1;
  *(undefined4 *)(iVar1 + 0x34) = 0;
  iVar2 = FUN_00448070(extraout_ECX);
  if (iVar2 != 0) {
    (**(code **)(in_EAX + 0x24))(*(undefined4 *)(in_EAX + 0x28),iVar1);
    *(undefined4 *)(in_EAX + 0x1c) = 0;
  }
  return iVar2;
}



undefined4 FUN_00448150(void)

{
  int iVar1;
  int in_EAX;
  int iVar2;
  uint uVar3;
  int unaff_EBX;
  uint uVar4;
  size_t _Size;
  
  iVar1 = *(int *)(unaff_EBX + 0x1c);
  if (*(int *)(iVar1 + 0x34) == 0) {
    iVar2 = (**(code **)(unaff_EBX + 0x20))
                      (*(undefined4 *)(unaff_EBX + 0x28),
                       1 << ((byte)*(undefined4 *)(iVar1 + 0x24) & 0x1f),1);
    *(int *)(iVar1 + 0x34) = iVar2;
    if (iVar2 == 0) {
      return 1;
    }
  }
  if (*(int *)(iVar1 + 0x28) == 0) {
    *(undefined4 *)(iVar1 + 0x30) = 0;
    *(undefined4 *)(iVar1 + 0x2c) = 0;
    *(int *)(iVar1 + 0x28) = 1 << ((byte)*(undefined4 *)(iVar1 + 0x24) & 0x1f);
  }
  uVar4 = in_EAX - *(int *)(unaff_EBX + 0x10);
  uVar3 = *(uint *)(iVar1 + 0x28);
  if (uVar3 <= uVar4) {
    memcpy(*(void **)(iVar1 + 0x34),(void *)(*(int *)(unaff_EBX + 0xc) - uVar3),uVar3);
    *(undefined4 *)(iVar1 + 0x2c) = *(undefined4 *)(iVar1 + 0x28);
    *(undefined4 *)(iVar1 + 0x30) = 0;
    return 0;
  }
  uVar3 -= *(int *)(iVar1 + 0x30);
  if (uVar4 < uVar3) {
    uVar3 = uVar4;
  }
  memcpy((void *)(*(int *)(iVar1 + 0x34) + *(int *)(iVar1 + 0x30)),
         (void *)(*(int *)(unaff_EBX + 0xc) - uVar4),uVar3);
  _Size = uVar4 - uVar3;
  if (_Size != 0) {
    memcpy(*(void **)(iVar1 + 0x34),(void *)(*(int *)(unaff_EBX + 0xc) - _Size),_Size);
    *(size_t *)(iVar1 + 0x30) = _Size;
    *(undefined4 *)(iVar1 + 0x2c) = *(undefined4 *)(iVar1 + 0x28);
    return 0;
  }
  *(int *)(iVar1 + 0x30) = *(int *)(iVar1 + 0x30) + uVar3;
  if (*(uint *)(iVar1 + 0x30) == *(uint *)(iVar1 + 0x28)) {
    *(undefined4 *)(iVar1 + 0x30) = 0;
  }
  if (*(uint *)(iVar1 + 0x2c) < *(uint *)(iVar1 + 0x28)) {
    *(uint *)(iVar1 + 0x2c) = *(uint *)(iVar1 + 0x2c) + uVar3;
  }
  return 0;
}



int __cdecl FUN_00448250(int *param_1)

{
  undefined2 uVar1;
  uint *puVar2;
  int *piVar3;
  char cVar4;
  int iVar5;
  uint uVar6;
  uint uVar7;
  int iVar8;
  uint uVar9;
  byte bVar10;
  byte bVar11;
  size_t _Size;
  uint *puVar12;
  uint *puVar13;
  uint uVar14;
  uint uVar15;
  uint uVar16;
  int local_30;
  int local_2c;
  uint local_28;
  uint local_24;
  undefined1 *local_1c;
  undefined2 local_18;
  undefined1 local_16;
  undefined1 local_15;
  uint local_14;
  undefined4 local_10;
  uint *local_c;
  uint local_8;
  
  piVar3 = param_1;
  if ((((param_1 == NULL) || (puVar2 = (uint *)param_1[7], puVar2 == NULL)) || (param_1[3] == 0)) ||
     ((*param_1 == 0 && (param_1[1] != 0)))) {
    return -2;
  }
  if (*puVar2 == 0xb) {
    *puVar2 = 0xc;
  }
  local_1c = (undefined1 *)param_1[3];
  puVar12 = (uint *)*param_1;
  local_24 = param_1[4];
  uVar9 = param_1[1];
  uVar15 = puVar2[0xe];
  uVar7 = *puVar2;
  uVar16 = puVar2[0xf];
  local_2c = 0;
  local_c = puVar12;
  local_14 = local_24;
  local_8 = uVar9;
  do {
    puVar13 = puVar12;
    uVar6 = local_10;
    switch(uVar7) {
    case 0:
      if (puVar2[2] == 0) {
        *puVar2 = 0xc;
      }
      else {
        for (; puVar12 = local_c, local_c = puVar12, uVar16 < 0x10; uVar16 += 8) {
          if (local_8 == 0) goto LAB_004495d1;
          local_8 -= 1;
          local_c = (uint *)((int)puVar13 + 1);
          uVar15 += (uint)(byte)*puVar13 << ((byte)uVar16 & 0x1f);
          puVar13 = local_c;
        }
        if (((puVar2[2] & 2) == 0) || (uVar15 != 0x8b1f)) {
          puVar2[4] = 0;
          if (puVar2[8] != 0) {
            *(undefined4 *)(puVar2[8] + 0x30) = 0xffffffff;
          }
          if (((puVar2[2] & 1) == 0) || (((uVar15 & 0xff) * 0x100 + (uVar15 >> 8)) % 0x1f != 0)) {
            param_1[6] = (int)s_incorrect_header_check_0047aa4c;
          }
          else {
            if (((byte)uVar15 & 0xf) == 8) {
              uVar16 -= 4;
              uVar7 = (uVar15 >> 4 & 0xf) + 8;
              if (puVar2[9] == 0) {
                puVar2[9] = uVar7;
              }
              else if (puVar2[9] < uVar7) {
                param_1[6] = (int)s_invalid_window_size_0047aa80;
                uVar15 = uVar15 >> 4;
                goto LAB_00449571;
              }
              puVar2[5] = 1 << (sbyte)uVar7;
              uVar7 = FUN_00449a60(0,NULL);
              puVar2[6] = uVar7;
              param_1[0xc] = uVar7;
              *puVar2 = ~(uVar15 >> 0xc) & 2 | 9;
              uVar15 = 0;
              uVar16 = 0;
              puVar12 = local_c;
              break;
            }
            param_1[6] = (int)s_unknown_compression_method_0047aa64;
          }
          goto LAB_00449571;
        }
        uVar7 = FUN_00449780(NULL,0,0);
        puVar2[6] = uVar7;
        local_18 = 0x8b1f;
        uVar7 = FUN_004497a0((uint *)&local_18,2);
        uVar15 = 0;
        puVar2[6] = uVar7;
        uVar16 = 0;
        *puVar2 = 1;
        puVar12 = local_c;
      }
      break;
    case 1:
      for (; uVar16 < 0x10; uVar16 += 8) {
        puVar13 = puVar12;
        if (local_8 == 0) goto LAB_004495d1;
        uVar7 = *puVar12;
        local_8 -= 1;
        puVar12 = (uint *)((int)puVar12 + 1);
        uVar15 += (uint)(byte)uVar7 << ((byte)uVar16 & 0x1f);
        local_c = puVar12;
      }
      puVar2[4] = uVar15;
      if ((char)uVar15 == '\b') {
        if ((uVar15 & 0xe000) == 0) {
          if ((uint *)puVar2[8] != NULL) {
            *(uint *)puVar2[8] = uVar15 >> 8 & 1;
          }
          if ((puVar2[4] & 0x200) != 0) {
            local_18 = (undefined2)uVar15;
            uVar7 = FUN_004497a0((uint *)&local_18,2);
            puVar2[6] = uVar7;
            puVar12 = local_c;
          }
          uVar15 = 0;
          uVar16 = 0;
          *puVar2 = 2;
          do {
            puVar13 = puVar12;
            uVar6 = local_10;
            if (local_8 == 0) goto LAB_004495d1;
            uVar7 = *puVar12;
            local_8 -= 1;
            bVar11 = (byte)uVar16;
            puVar12 = (uint *)((int)puVar12 + 1);
            uVar16 += 8;
            uVar15 += (uint)(byte)uVar7 << (bVar11 & 0x1f);
            local_c = puVar12;
joined_r0x004484b9:
          } while (uVar16 < 0x20);
          if (puVar2[8] != 0) {
            *(uint *)(puVar2[8] + 4) = uVar15;
          }
          if ((puVar2[4] & 0x200) != 0) {
            local_18 = (undefined2)uVar15;
            local_16 = (undefined1)(uVar15 >> 0x10);
            local_15 = (undefined1)(uVar15 >> 0x18);
            uVar7 = FUN_004497a0((uint *)&local_18,4);
            puVar2[6] = uVar7;
            puVar12 = local_c;
          }
          uVar15 = 0;
          uVar16 = 0;
          *puVar2 = 3;
          do {
            puVar13 = puVar12;
            uVar6 = local_10;
            if (local_8 == 0) goto LAB_004495d1;
            uVar7 = *puVar12;
            local_8 -= 1;
            bVar11 = (byte)uVar16;
            puVar12 = (uint *)((int)puVar12 + 1);
            uVar16 += 8;
            uVar15 += (uint)(byte)uVar7 << (bVar11 & 0x1f);
            local_c = puVar12;
joined_r0x00448533:
          } while (uVar16 < 0x10);
          if (puVar2[8] != 0) {
            *(uint *)(puVar2[8] + 8) = uVar15 & 0xff;
            *(uint *)(puVar2[8] + 0xc) = uVar15 >> 8;
          }
          if ((puVar2[4] & 0x200) != 0) {
            local_18 = (undefined2)uVar15;
            uVar7 = FUN_004497a0((uint *)&local_18,2);
            puVar2[6] = uVar7;
            puVar12 = local_c;
          }
          uVar15 = 0;
          uVar16 = 0;
          *puVar2 = 4;
          goto switchD_004482c8_caseD_4;
        }
        param_1[6] = (int)s_unknown_header_flags_set_0047aab0;
      }
      else {
        param_1[6] = (int)s_unknown_compression_method_0047aa94;
      }
      goto LAB_00449571;
    case 2:
      goto joined_r0x004484b9;
    case 3:
      goto joined_r0x00448533;
    case 4:
switchD_004482c8_caseD_4:
      if ((puVar2[4] & 0x400) == 0) {
        if (puVar2[8] != 0) {
          *(undefined4 *)(puVar2[8] + 0x10) = 0;
        }
      }
      else {
        for (; uVar16 < 0x10; uVar16 += 8) {
          puVar13 = puVar12;
          uVar6 = local_10;
          if (local_8 == 0) goto LAB_004495d1;
          uVar7 = *puVar12;
          local_8 -= 1;
          puVar12 = (uint *)((int)puVar12 + 1);
          uVar15 += (uint)(byte)uVar7 << ((byte)uVar16 & 0x1f);
          local_c = puVar12;
        }
        puVar2[0x10] = uVar15;
        if (puVar2[8] != 0) {
          *(uint *)(puVar2[8] + 0x14) = uVar15;
        }
        if ((puVar2[4] & 0x200) != 0) {
          local_18 = (undefined2)uVar15;
          uVar7 = FUN_004497a0((uint *)&local_18,2);
          puVar2[6] = uVar7;
          puVar12 = local_c;
        }
        uVar15 = 0;
        uVar16 = 0;
      }
      *puVar2 = 5;
    case 5:
      if ((puVar2[4] & 0x400) == 0) {
LAB_004486c8:
        puVar2[0x10] = 0;
        *puVar2 = 6;
switchD_004482c8_caseD_6:
        if ((puVar2[4] & 0x800) == 0) {
          if (puVar2[8] != 0) {
            *(undefined4 *)(puVar2[8] + 0x1c) = 0;
          }
LAB_0044877b:
          puVar2[0x10] = 0;
          *puVar2 = 7;
switchD_004482c8_caseD_7:
          if ((puVar2[4] & 0x1000) == 0) {
            if (puVar2[8] != 0) {
              *(undefined4 *)(puVar2[8] + 0x24) = 0;
            }
LAB_0044882c:
            *puVar2 = 8;
switchD_004482c8_caseD_8:
            if ((puVar2[4] & 0x200) != 0) {
              for (; uVar16 < 0x10; uVar16 += 8) {
                puVar13 = puVar12;
                uVar6 = local_10;
                if (local_8 == 0) goto LAB_004495d1;
                uVar7 = *puVar12;
                local_8 -= 1;
                puVar12 = (uint *)((int)puVar12 + 1);
                uVar15 += (uint)(byte)uVar7 << ((byte)uVar16 & 0x1f);
                local_c = puVar12;
              }
              if (uVar15 != (ushort)puVar2[6]) {
                param_1[6] = (int)s_header_crc_mismatch_0047aacc;
                goto LAB_00449571;
              }
              uVar15 = 0;
              uVar16 = 0;
            }
            if (puVar2[8] != 0) {
              *(uint *)(puVar2[8] + 0x2c) = (int)puVar2[4] >> 9 & 1;
              *(undefined4 *)(puVar2[8] + 0x30) = 1;
            }
            uVar7 = FUN_00449780(NULL,0,0);
            puVar2[6] = uVar7;
            param_1[0xc] = uVar7;
            *puVar2 = 0xb;
            puVar12 = local_c;
            break;
          }
          puVar13 = puVar12;
          uVar6 = local_10;
          if (local_8 != 0) {
            local_10 = 0;
            do {
              bVar11 = *(byte *)(local_10 + (int)puVar12);
              local_10 += 1;
              uVar7 = puVar2[8];
              if (((uVar7 != 0) && (*(int *)(uVar7 + 0x24) != 0)) &&
                 (puVar2[0x10] < *(uint *)(uVar7 + 0x28))) {
                *(byte *)(*(int *)(uVar7 + 0x24) + puVar2[0x10]) = bVar11;
                puVar2[0x10] = puVar2[0x10] + 1;
                puVar12 = local_c;
              }
            } while ((bVar11 != 0) && (local_10 < local_8));
            if ((puVar2[4] & 0x200) != 0) {
              if (puVar12 == NULL) {
                uVar7 = 0;
                local_c = puVar12;
              }
              else {
                uVar7 = FUN_004497a0(local_c,local_10);
              }
              puVar2[6] = uVar7;
              puVar12 = local_c;
            }
            local_8 -= local_10;
            puVar12 = (uint *)((int)puVar12 + local_10);
            puVar13 = puVar12;
            uVar6 = local_10;
            local_c = puVar12;
            if (bVar11 == 0) goto LAB_0044882c;
          }
        }
        else {
          puVar13 = puVar12;
          uVar6 = local_10;
          if (local_8 != 0) {
            local_10 = 0;
            do {
              bVar11 = *(byte *)(local_10 + (int)puVar12);
              local_10 += 1;
              uVar7 = puVar2[8];
              if (((uVar7 != 0) && (*(int *)(uVar7 + 0x1c) != 0)) &&
                 (puVar2[0x10] < *(uint *)(uVar7 + 0x20))) {
                *(byte *)(*(int *)(uVar7 + 0x1c) + puVar2[0x10]) = bVar11;
                puVar2[0x10] = puVar2[0x10] + 1;
                puVar12 = local_c;
              }
            } while ((bVar11 != 0) && (local_10 < local_8));
            if ((puVar2[4] & 0x200) != 0) {
              if (puVar12 == NULL) {
                uVar7 = 0;
                local_c = puVar12;
              }
              else {
                uVar7 = FUN_004497a0(local_c,local_10);
              }
              puVar2[6] = uVar7;
              puVar12 = local_c;
            }
            local_8 -= local_10;
            puVar12 = (uint *)((int)puVar12 + local_10);
            puVar13 = puVar12;
            uVar6 = local_10;
            local_c = puVar12;
            if (bVar11 == 0) goto LAB_0044877b;
          }
        }
      }
      else {
        local_10 = puVar2[0x10];
        if (local_8 < puVar2[0x10]) {
          local_10 = local_8;
        }
        if (local_10 != 0) {
          if ((puVar2[8] != 0) && (iVar8 = *(int *)(puVar2[8] + 0x10), iVar8 != 0)) {
            iVar5 = *(int *)(puVar2[8] + 0x14) - puVar2[0x10];
            uVar7 = *(uint *)(puVar2[8] + 0x18);
            _Size = local_10;
            if (uVar7 < local_10 + iVar5) {
              _Size = uVar7 - iVar5;
            }
            memcpy((void *)(iVar8 + iVar5),local_c,_Size);
            puVar12 = local_c;
          }
          if ((puVar2[4] & 0x200) != 0) {
            if (puVar12 == NULL) {
              uVar7 = 0;
              local_c = puVar12;
            }
            else {
              uVar7 = FUN_004497a0(local_c,local_10);
            }
            puVar2[6] = uVar7;
            puVar12 = local_c;
          }
          local_8 -= local_10;
          puVar12 = (uint *)((int)puVar12 + local_10);
          puVar2[0x10] = puVar2[0x10] - local_10;
          local_c = puVar12;
        }
        puVar13 = puVar12;
        uVar6 = local_10;
        if (puVar2[0x10] == 0) goto LAB_004486c8;
      }
LAB_004495d1:
      local_10 = uVar6;
      param_1[3] = (int)local_1c;
      *param_1 = (int)puVar13;
      param_1[4] = local_14;
      param_1[1] = local_8;
      puVar2[0xe] = uVar15;
      puVar2[0xf] = uVar16;
      if (((puVar2[10] == 0) && ((0x19 < (int)*puVar2 || (local_24 == param_1[4])))) ||
         (iVar8 = FUN_00448150(), iVar8 == 0)) {
        iVar8 = uVar9 - param_1[1];
        local_24 -= param_1[4];
        param_1[2] = param_1[2] + iVar8;
        param_1[5] = param_1[5] + local_24;
        puVar2[7] = puVar2[7] + local_24;
        if ((puVar2[2] != 0) && (local_24 != 0)) {
          if (puVar2[4] == 0) {
            uVar9 = FUN_00449a60(puVar2[6],(byte *)(param_1[3] - local_24));
          }
          else if ((uint *)(param_1[3] - local_24) == NULL) {
            uVar9 = 0;
          }
          else {
            uVar9 = FUN_004497a0((uint *)(param_1[3] - local_24),local_24);
          }
          puVar2[6] = uVar9;
          param_1[0xc] = uVar9;
        }
        uVar9 = *puVar2;
        if ((uVar9 == 0x13) || (param_1 = NULL, uVar9 == 0xe)) {
          param_1 = (int *)0x100;
        }
        piVar3[0xb] = (int)param_1 +
                      puVar2[0xf] + ((uVar9 != 0xb) - 1 & 0x80) + (-(uint)(puVar2[1] != 0) & 0x40);
        if ((iVar8 == 0) && (local_24 == 0)) {
          if (local_2c != 0) {
            return local_2c;
          }
          return -5;
        }
        return local_2c;
      }
      *puVar2 = 0x1e;
switchD_004482c8_caseD_1e:
      return -4;
    case 6:
      goto switchD_004482c8_caseD_6;
    case 7:
      goto switchD_004482c8_caseD_7;
    case 8:
      goto switchD_004482c8_caseD_8;
    case 9:
      for (; uVar16 < 0x20; uVar16 += 8) {
        puVar13 = puVar12;
        if (local_8 == 0) goto LAB_004495d1;
        uVar7 = *puVar12;
        local_8 -= 1;
        puVar12 = (uint *)((int)puVar12 + 1);
        uVar15 += (uint)(byte)uVar7 << ((byte)uVar16 & 0x1f);
        local_c = puVar12;
      }
      uVar7 = (uVar15 >> 8 & 0xff00) + ((uVar15 & 0xff00) + uVar15 * 0x10000) * 0x100 +
              (uVar15 >> 0x18);
      puVar2[6] = uVar7;
      param_1[0xc] = uVar7;
      uVar15 = 0;
      uVar16 = 0;
      *puVar2 = 10;
    case 10:
      if (puVar2[3] == 0) {
        param_1[3] = (int)local_1c;
        *param_1 = (int)puVar12;
        param_1[4] = local_14;
        param_1[1] = local_8;
        puVar2[0xf] = uVar16;
        puVar2[0xe] = uVar15;
        return 2;
      }
      uVar7 = FUN_00449a60(0,NULL);
      puVar2[6] = uVar7;
      param_1[0xc] = uVar7;
      *puVar2 = 0xb;
      puVar12 = local_c;
switchD_004482c8_caseD_b:
      if (puVar2[1] == 0) {
        for (; uVar16 < 3; uVar16 += 8) {
          puVar13 = puVar12;
          uVar6 = local_10;
          if (local_8 == 0) goto LAB_004495d1;
          uVar7 = *puVar12;
          local_8 -= 1;
          puVar12 = (uint *)((int)puVar12 + 1);
          uVar15 += (uint)(byte)uVar7 << ((byte)uVar16 & 0x1f);
          local_c = puVar12;
        }
        puVar2[1] = uVar15 & 1;
        switch(uVar15 >> 1 & 3) {
        case 0:
          uVar15 >>= 3;
          *puVar2 = 0xd;
          uVar16 -= 3;
          break;
        case 1:
          uVar15 >>= 3;
          puVar2[0x13] = (uint)&DAT_00461b30;
          puVar2[0x15] = 9;
          puVar2[0x14] = (uint)&DAT_00462330;
          puVar2[0x16] = 5;
          *puVar2 = 0x13;
          uVar16 -= 3;
          break;
        case 2:
          uVar15 >>= 3;
          *puVar2 = 0x10;
          uVar16 -= 3;
          break;
        case 3:
          param_1[6] = (int)s_invalid_block_type_0047aae0;
          *puVar2 = 0x1d;
        default:
          uVar15 >>= 3;
          uVar16 -= 3;
        }
      }
      else {
        uVar15 >>= (sbyte)(uVar16 & 7);
        uVar16 -= uVar16 & 7;
        *puVar2 = 0x1a;
      }
      break;
    case 0xb:
    case 0xc:
      goto switchD_004482c8_caseD_b;
    case 0xd:
      uVar15 >>= (sbyte)(uVar16 & 7);
      for (uVar16 -= uVar16 & 7; uVar16 < 0x20; uVar16 += 8) {
        puVar13 = puVar12;
        if (local_8 == 0) goto LAB_004495d1;
        uVar7 = *puVar12;
        local_8 -= 1;
        puVar12 = (uint *)((int)puVar12 + 1);
        uVar15 += (uint)(byte)uVar7 << ((byte)uVar16 & 0x1f);
        local_c = puVar12;
      }
      uVar7 = uVar15 & 0xffff;
      if (uVar7 == ~uVar15 >> 0x10) {
        uVar15 = 0;
        puVar2[0x10] = uVar7;
        uVar16 = 0;
        *puVar2 = 0xe;
        goto switchD_004482c8_caseD_e;
      }
      param_1[6] = (int)s_invalid_stored_block_lengths_0047aaf4;
      goto LAB_00449571;
    case 0xe:
switchD_004482c8_caseD_e:
      *puVar2 = 0xf;
    case 0xf:
      local_10 = puVar2[0x10];
      if (local_10 == 0) {
LAB_00449131:
        *puVar2 = 0xb;
        break;
      }
      if (local_8 < local_10) {
        local_10 = local_8;
      }
      if (local_14 < local_10) {
        local_10 = local_14;
      }
      puVar13 = puVar12;
      uVar6 = local_10;
      if (local_10 != 0) {
        memcpy(local_1c,local_c,local_10);
        local_c = (uint *)((int)local_c + local_10);
        local_8 -= local_10;
        local_14 -= local_10;
        local_1c = local_1c + local_10;
        puVar2[0x10] = puVar2[0x10] - local_10;
        puVar12 = local_c;
        break;
      }
      goto LAB_004495d1;
    case 0x10:
      for (; uVar16 < 0xe; uVar16 += 8) {
        puVar13 = puVar12;
        if (local_8 == 0) goto LAB_004495d1;
        uVar7 = *puVar12;
        local_8 -= 1;
        puVar12 = (uint *)((int)puVar12 + 1);
        uVar15 += (uint)(byte)uVar7 << ((byte)uVar16 & 0x1f);
        local_c = puVar12;
      }
      puVar2[0x18] = (uVar15 & 0x1f) + 0x101;
      uVar14 = uVar15 >> 10;
      uVar7 = (uVar15 >> 5 & 0x1f) + 1;
      uVar15 >>= 0xe;
      uVar16 -= 0xe;
      puVar2[0x19] = uVar7;
      puVar2[0x17] = (uVar14 & 0xf) + 4;
      if ((puVar2[0x18] < 0x11f) && (uVar7 < 0x1f)) {
        puVar2[0x1a] = 0;
        *puVar2 = 0x11;
        goto switchD_004482c8_caseD_11;
      }
      param_1[6] = (int)s_too_many_length_or_distance_symb_0047ab14;
      goto LAB_00449571;
    case 0x11:
switchD_004482c8_caseD_11:
      if (puVar2[0x1a] < puVar2[0x17]) {
        do {
          for (; uVar16 < 3; uVar16 += 8) {
            puVar13 = puVar12;
            if (local_8 == 0) goto LAB_004495d1;
            uVar7 = *puVar12;
            local_8 -= 1;
            puVar12 = (uint *)((int)puVar12 + 1);
            uVar15 += (uint)(byte)uVar7 << ((byte)uVar16 & 0x1f);
            local_c = puVar12;
          }
          *(ushort *)((int)puVar2 + (uint)USHORT_ARRAY_004623b0[puVar2[0x1a]] * 2 + 0x70) =
               (ushort)uVar15 & 7;
          puVar2[0x1a] = puVar2[0x1a] + 1;
          uVar15 >>= 3;
          uVar16 -= 3;
        } while (puVar2[0x1a] < puVar2[0x17]);
      }
      uVar7 = puVar2[0x1a];
      while (uVar7 < 0x13) {
        *(undefined2 *)((int)puVar2 + (uint)USHORT_ARRAY_004623b0[puVar2[0x1a]] * 2 + 0x70) = 0;
        puVar2[0x1a] = puVar2[0x1a] + 1;
        uVar7 = puVar2[0x1a];
      }
      puVar2[0x1b] = (uint)(puVar2 + 0x14c);
      puVar2[0x13] = (uint)(puVar2 + 0x14c);
      puVar2[0x15] = 7;
      local_2c = FUN_0044a120(0,(int)(puVar2 + 0x1c),0x13,(int *)(puVar2 + 0x1b),puVar2 + 0x15,
                              (ushort *)(puVar2 + 0xbc));
      puVar12 = local_c;
      if (local_2c == 0) {
        puVar2[0x1a] = 0;
        *puVar2 = 0x12;
        goto switchD_004482c8_caseD_12;
      }
      param_1[6] = (int)s_invalid_code_lengths_set_0047ab38;
LAB_00449571:
      *puVar2 = 0x1d;
      break;
    case 0x12:
switchD_004482c8_caseD_12:
      if (puVar2[0x1a] < puVar2[0x19] + puVar2[0x18]) {
        do {
          uVar6 = *(uint *)(puVar2[0x13] + ((1 << ((byte)puVar2[0x15] & 0x1f)) - 1U & uVar15) * 4);
          local_10 = uVar6;
          if (uVar16 < (uVar6 >> 8 & 0xff)) {
            do {
              puVar13 = puVar12;
              uVar6 = local_10;
              if (local_8 == 0) goto LAB_004495d1;
              uVar7 = *puVar12;
              local_8 -= 1;
              bVar11 = (byte)uVar16;
              puVar12 = (uint *)((int)puVar12 + 1);
              uVar16 += 8;
              uVar15 += (uint)(byte)uVar7 << (bVar11 & 0x1f);
              uVar6 = *(uint *)(puVar2[0x13] +
                               ((1 << ((byte)puVar2[0x15] & 0x1f)) - 1U & uVar15) * 4);
              local_10 = uVar6;
              local_c = puVar12;
            } while (uVar16 < (uVar6 >> 8 & 0xff));
          }
          local_10._2_2_ = (short)(uVar6 >> 0x10);
          bVar11 = (byte)(uVar6 >> 8);
          local_10 = uVar6;
          if (uVar6 >> 0x10 < 0x10) {
            if (uVar16 < (uVar6 >> 8 & 0xff)) {
              do {
                puVar13 = puVar12;
                if (local_8 == 0) goto LAB_004495d1;
                uVar7 = *puVar12;
                local_8 -= 1;
                bVar10 = (byte)uVar16;
                puVar12 = (uint *)((int)puVar12 + 1);
                uVar16 += 8;
                uVar15 += (uint)(byte)uVar7 << (bVar10 & 0x1f);
                local_c = puVar12;
              } while (uVar16 < (uVar6 >> 8 & 0xff));
            }
            uVar15 >>= bVar11 & 0x1f;
            uVar16 -= uVar6 >> 8 & 0xff;
            *(short *)((int)puVar2 + puVar2[0x1a] * 2 + 0x70) = local_10._2_2_;
            puVar2[0x1a] = puVar2[0x1a] + 1;
          }
          else {
            if (local_10._2_2_ == 0x10) {
              uVar7 = uVar6 >> 8 & 0xff;
              if (uVar16 < uVar7 + 2) {
                do {
                  puVar13 = puVar12;
                  if (local_8 == 0) goto LAB_004495d1;
                  uVar14 = *puVar12;
                  local_8 -= 1;
                  bVar10 = (byte)uVar16;
                  puVar12 = (uint *)((int)puVar12 + 1);
                  uVar16 += 8;
                  uVar15 += (uint)(byte)uVar14 << (bVar10 & 0x1f);
                  local_c = puVar12;
                } while (uVar16 < uVar7 + 2);
              }
              uVar15 >>= bVar11 & 0x1f;
              uVar16 -= uVar7;
              if (puVar2[0x1a] == 0) {
                param_1[6] = (int)s_invalid_bit_length_repeat_0047ab54;
                goto LAB_00449571;
              }
              uVar1 = *(undefined2 *)((int)puVar2 + puVar2[0x1a] * 2 + 0x6e);
              local_10 = (uVar15 & 3) + 3;
              uVar15 >>= 2;
              uVar16 -= 2;
            }
            else {
              uVar7 = uVar6 >> 8 & 0xff;
              if (local_10._2_2_ == 0x11) {
                if (uVar16 < uVar7 + 3) {
                  do {
                    puVar13 = puVar12;
                    if (local_8 == 0) goto LAB_004495d1;
                    uVar14 = *puVar12;
                    local_8 -= 1;
                    bVar10 = (byte)uVar16;
                    puVar12 = (uint *)((int)puVar12 + 1);
                    uVar16 += 8;
                    uVar15 += (uint)(byte)uVar14 << (bVar10 & 0x1f);
                    local_c = puVar12;
                  } while (uVar16 < uVar7 + 3);
                }
                uVar15 >>= bVar11 & 0x1f;
                local_10 = (uVar15 & 7) + 3;
                uVar15 >>= 3;
                iVar8 = -3;
              }
              else {
                if (uVar16 < uVar7 + 7) {
                  do {
                    puVar13 = puVar12;
                    if (local_8 == 0) goto LAB_004495d1;
                    uVar14 = *puVar12;
                    local_8 -= 1;
                    bVar10 = (byte)uVar16;
                    puVar12 = (uint *)((int)puVar12 + 1);
                    uVar16 += 8;
                    uVar15 += (uint)(byte)uVar14 << (bVar10 & 0x1f);
                    local_c = puVar12;
                  } while (uVar16 < uVar7 + 7);
                }
                uVar15 >>= bVar11 & 0x1f;
                local_10 = (uVar15 & 0x7f) + 0xb;
                uVar15 >>= 7;
                iVar8 = -7;
              }
              uVar16 += iVar8 - uVar7;
              uVar1 = 0;
            }
            if (puVar2[0x19] + puVar2[0x18] < puVar2[0x1a] + local_10) {
              param_1[6] = (int)s_invalid_bit_length_repeat_0047ab70;
              goto LAB_00449571;
            }
            for (; local_10 != 0; local_10 -= 1) {
              *(undefined2 *)((int)puVar2 + puVar2[0x1a] * 2 + 0x70) = uVar1;
              puVar2[0x1a] = puVar2[0x1a] + 1;
            }
          }
        } while (puVar2[0x1a] < puVar2[0x19] + puVar2[0x18]);
      }
      if (*puVar2 != 0x1d) {
        if ((short)puVar2[0x9c] == 0) {
          param_1[6] = (int)s_invalid_code____missing_end_of_b_0047ab8c;
        }
        else {
          puVar2[0x1b] = (uint)(puVar2 + 0x14c);
          puVar2[0x13] = (uint)(puVar2 + 0x14c);
          puVar2[0x15] = 9;
          local_2c = FUN_0044a120(1,(int)(puVar2 + 0x1c),puVar2[0x18],(int *)(puVar2 + 0x1b),
                                  puVar2 + 0x15,(ushort *)(puVar2 + 0xbc));
          if (local_2c == 0) {
            puVar2[0x14] = puVar2[0x1b];
            puVar2[0x16] = 6;
            local_2c = FUN_0044a120(2,(int)puVar2 + puVar2[0x18] * 2 + 0x70,puVar2[0x19],
                                    (int *)(puVar2 + 0x1b),puVar2 + 0x16,(ushort *)(puVar2 + 0xbc));
            puVar12 = local_c;
            if (local_2c == 0) {
              *puVar2 = 0x13;
              goto switchD_004482c8_caseD_13;
            }
            param_1[6] = (int)s_invalid_distances_set_0047abd0;
          }
          else {
            param_1[6] = (int)s_invalid_literal_lengths_set_0047abb4;
            puVar12 = local_c;
          }
        }
        goto LAB_00449571;
      }
      break;
    case 0x13:
switchD_004482c8_caseD_13:
      *puVar2 = 0x14;
    case 0x14:
      if ((5 < local_8) && (0x101 < local_14)) {
        param_1[3] = (int)local_1c;
        *param_1 = (int)local_c;
        param_1[4] = local_14;
        param_1[1] = local_8;
        puVar2[0xe] = uVar15;
        puVar2[0xf] = uVar16;
        FUN_00449cd0(param_1,local_24);
        local_1c = (undefined1 *)param_1[3];
        local_14 = param_1[4];
        uVar15 = puVar2[0xe];
        uVar16 = puVar2[0xf];
        local_c = (uint *)*param_1;
        local_8 = param_1[1];
        puVar12 = local_c;
        if (*puVar2 == 0xb) {
          puVar2[0x6f1] = 0xffffffff;
        }
        break;
      }
      puVar2[0x6f1] = 0;
      uVar7 = *(uint *)(puVar2[0x13] + ((1 << ((byte)puVar2[0x15] & 0x1f)) - 1U & uVar15) * 4);
      local_10 = uVar7;
      if (uVar16 < (uVar7 >> 8 & 0xff)) {
        do {
          puVar13 = puVar12;
          uVar6 = local_10;
          if (local_8 == 0) goto LAB_004495d1;
          uVar7 = *puVar12;
          local_8 -= 1;
          bVar11 = (byte)uVar16;
          puVar12 = (uint *)((int)puVar12 + 1);
          uVar16 += 8;
          uVar15 += (uint)(byte)uVar7 << (bVar11 & 0x1f);
          uVar7 = *(uint *)(puVar2[0x13] + ((1 << ((byte)puVar2[0x15] & 0x1f)) - 1U & uVar15) * 4);
          local_10 = uVar7;
          local_c = puVar12;
        } while (uVar16 < (uVar7 >> 8 & 0xff));
      }
      cVar4 = (char)uVar7;
      local_10 = uVar7;
      if ((cVar4 != '\0') && ((uVar7 & 0xf0) == 0)) {
        bVar11 = (byte)(uVar7 >> 8);
        local_10 = *(uint *)(puVar2[0x13] +
                            ((((1 << (cVar4 + bVar11 & 0x1f)) - 1U & uVar15) >> (bVar11 & 0x1f)) +
                            (uVar7 >> 0x10)) * 4);
        if (uVar16 < (local_10 >> 8 & 0xff) + (uVar7 >> 8 & 0xff)) {
          do {
            puVar13 = puVar12;
            uVar6 = local_10;
            if (local_8 == 0) goto LAB_004495d1;
            uVar6 = *puVar12;
            local_8 -= 1;
            puVar12 = (uint *)((int)puVar12 + 1);
            uVar15 += (uint)(byte)uVar6 << ((byte)uVar16 & 0x1f);
            uVar16 += 8;
            local_10 = *(uint *)(puVar2[0x13] +
                                ((((1 << (cVar4 + bVar11 & 0x1f)) - 1U & uVar15) >> (bVar11 & 0x1f))
                                + (uVar7 >> 0x10)) * 4);
            local_c = puVar12;
          } while (uVar16 < (local_10 >> 8 & 0xff) + (uVar7 >> 8 & 0xff));
        }
        uVar15 >>= bVar11 & 0x1f;
        uVar16 -= bVar11;
        puVar2[0x6f1] = (uint)bVar11;
      }
      uVar7 = local_10 >> 8 & 0xff;
      puVar2[0x6f1] = puVar2[0x6f1] + uVar7;
      uVar15 >>= (byte)(local_10 >> 8) & 0x1f;
      uVar16 -= uVar7;
      puVar2[0x10] = local_10 >> 0x10;
      if ((char)local_10 == '\0') {
        *puVar2 = 0x19;
        break;
      }
      if ((local_10 & 0x20) != 0) {
        puVar2[0x6f1] = 0xffffffff;
        goto LAB_00449131;
      }
      if ((local_10 & 0x40) != 0) {
        param_1[6] = (int)s_invalid_literal_length_code_0047abe8;
        goto LAB_00449571;
      }
      puVar2[0x12] = local_10 & 0xf;
      *puVar2 = 0x15;
switchD_004482c8_caseD_15:
      if (puVar2[0x12] != 0) {
        if (uVar16 < puVar2[0x12]) {
          do {
            puVar13 = puVar12;
            uVar6 = local_10;
            if (local_8 == 0) goto LAB_004495d1;
            uVar7 = *puVar12;
            local_8 -= 1;
            bVar11 = (byte)uVar16;
            puVar12 = (uint *)((int)puVar12 + 1);
            uVar16 += 8;
            uVar15 += (uint)(byte)uVar7 << (bVar11 & 0x1f);
            local_c = puVar12;
          } while (uVar16 < puVar2[0x12]);
        }
        uVar7 = puVar2[0x12];
        uVar16 -= uVar7;
        puVar2[0x10] = puVar2[0x10] + ((1 << ((byte)uVar7 & 0x1f)) - 1U & uVar15);
        uVar15 >>= (byte)uVar7 & 0x1f;
        puVar2[0x6f1] = puVar2[0x6f1] + uVar7;
      }
      puVar2[0x6f2] = puVar2[0x10];
      *puVar2 = 0x16;
switchD_004482c8_caseD_16:
      uVar7 = *(uint *)(puVar2[0x14] + ((1 << ((byte)puVar2[0x16] & 0x1f)) - 1U & uVar15) * 4);
      local_10 = uVar7;
      if (uVar16 < (uVar7 >> 8 & 0xff)) {
        do {
          puVar13 = puVar12;
          uVar6 = local_10;
          if (local_8 == 0) goto LAB_004495d1;
          uVar7 = *puVar12;
          local_8 -= 1;
          bVar11 = (byte)uVar16;
          puVar12 = (uint *)((int)puVar12 + 1);
          uVar16 += 8;
          uVar15 += (uint)(byte)uVar7 << (bVar11 & 0x1f);
          uVar7 = *(uint *)(puVar2[0x14] + ((1 << ((byte)puVar2[0x16] & 0x1f)) - 1U & uVar15) * 4);
          local_10 = uVar7;
          local_c = puVar12;
        } while (uVar16 < (uVar7 >> 8 & 0xff));
      }
      local_10 = uVar7;
      if ((uVar7 & 0xf0) == 0) {
        bVar11 = (byte)(uVar7 >> 8);
        local_10 = *(uint *)(puVar2[0x14] +
                            ((((1 << ((char)uVar7 + bVar11 & 0x1f)) - 1U & uVar15) >>
                             (bVar11 & 0x1f)) + (uVar7 >> 0x10)) * 4);
        if (uVar16 < (local_10 >> 8 & 0xff) + (uVar7 >> 8 & 0xff)) {
          do {
            puVar13 = puVar12;
            uVar6 = local_10;
            if (local_8 == 0) goto LAB_004495d1;
            uVar6 = *puVar12;
            local_8 -= 1;
            puVar12 = (uint *)((int)puVar12 + 1);
            uVar15 += (uint)(byte)uVar6 << ((byte)uVar16 & 0x1f);
            uVar16 += 8;
            local_10 = *(uint *)(puVar2[0x14] +
                                ((((1 << ((char)uVar7 + bVar11 & 0x1f)) - 1U & uVar15) >>
                                 (bVar11 & 0x1f)) + (uVar7 >> 0x10)) * 4);
            local_c = puVar12;
          } while (uVar16 < (local_10 >> 8 & 0xff) + (uVar7 >> 8 & 0xff));
        }
        uVar15 >>= bVar11 & 0x1f;
        uVar16 -= bVar11;
        puVar2[0x6f1] = puVar2[0x6f1] + (uint)bVar11;
      }
      uVar7 = local_10 >> 8 & 0xff;
      puVar2[0x6f1] = puVar2[0x6f1] + uVar7;
      uVar15 >>= (byte)(local_10 >> 8) & 0x1f;
      uVar16 -= uVar7;
      if ((local_10 & 0x40) != 0) {
        param_1[6] = (int)s_invalid_distance_code_0047ac04;
        goto LAB_00449571;
      }
      puVar2[0x11] = local_10 >> 0x10;
      puVar2[0x12] = local_10 & 0xf;
      *puVar2 = 0x17;
switchD_004482c8_caseD_17:
      if (puVar2[0x12] != 0) {
        if (uVar16 < puVar2[0x12]) {
          do {
            puVar13 = puVar12;
            uVar6 = local_10;
            if (local_8 == 0) goto LAB_004495d1;
            uVar7 = *puVar12;
            local_8 -= 1;
            bVar11 = (byte)uVar16;
            puVar12 = (uint *)((int)puVar12 + 1);
            uVar16 += 8;
            uVar15 += (uint)(byte)uVar7 << (bVar11 & 0x1f);
            local_c = puVar12;
          } while (uVar16 < puVar2[0x12]);
        }
        uVar7 = puVar2[0x12];
        uVar16 -= uVar7;
        puVar2[0x11] = puVar2[0x11] + ((1 << ((byte)uVar7 & 0x1f)) - 1U & uVar15);
        uVar15 >>= (byte)uVar7 & 0x1f;
        puVar2[0x6f1] = puVar2[0x6f1] + uVar7;
      }
      *puVar2 = 0x18;
switchD_004482c8_caseD_18:
      puVar13 = puVar12;
      uVar6 = local_10;
      if (local_14 != 0) {
        uVar7 = puVar2[0x11];
        if (local_24 - local_14 < uVar7) {
          local_10 = uVar7 - (local_24 - local_14);
          if ((puVar2[0xb] < local_10) && (puVar2[0x6f0] != 0)) {
            param_1[6] = (int)s_invalid_distance_too_far_back_0047ac1c;
            goto LAB_00449571;
          }
          if (puVar2[0xc] < local_10) {
            local_10 -= puVar2[0xc];
            local_30 = (puVar2[0xd] + puVar2[10]) - local_10;
          }
          else {
            local_30 = (puVar2[0xd] - local_10) + puVar2[0xc];
          }
          local_28 = puVar2[0x10];
          if (local_28 < local_10) goto LAB_004493dc;
        }
        else {
          local_30 = (int)local_1c - uVar7;
          local_28 = puVar2[0x10];
LAB_004493dc:
          local_10 = local_28;
        }
        if (local_14 < local_10) {
          local_10 = local_14;
        }
        local_14 -= local_10;
        puVar2[0x10] = local_28 - local_10;
        local_30 -= (int)local_1c;
        do {
          *local_1c = local_1c[local_30];
          local_1c = local_1c + 1;
          local_10 -= 1;
        } while (local_10 != 0);
        local_10 = 0;
        if (puVar2[0x10] == 0) {
          *puVar2 = 0x14;
        }
        break;
      }
      goto LAB_004495d1;
    case 0x15:
      goto switchD_004482c8_caseD_15;
    case 0x16:
      goto switchD_004482c8_caseD_16;
    case 0x17:
      goto switchD_004482c8_caseD_17;
    case 0x18:
      goto switchD_004482c8_caseD_18;
    case 0x19:
      if (local_14 == 0) goto LAB_004495d1;
      *local_1c = (char)puVar2[0x10];
      local_1c = local_1c + 1;
      local_14 -= 1;
      *puVar2 = 0x14;
      break;
    case 0x1a:
      if (puVar2[2] != 0) {
        for (; uVar16 < 0x20; uVar16 += 8) {
          puVar13 = puVar12;
          if (local_8 == 0) goto LAB_004495d1;
          uVar7 = *puVar12;
          local_8 -= 1;
          puVar12 = (uint *)((int)puVar12 + 1);
          uVar15 += (uint)(byte)uVar7 << ((byte)uVar16 & 0x1f);
          local_c = puVar12;
        }
        local_24 -= local_14;
        param_1[5] = param_1[5] + local_24;
        puVar2[7] = puVar2[7] + local_24;
        if (local_24 != 0) {
          if (puVar2[4] == 0) {
            uVar7 = FUN_00449a60(puVar2[6],local_1c + -local_24);
            puVar12 = local_c;
          }
          else if ((uint *)(local_1c + -local_24) == NULL) {
            uVar7 = 0;
          }
          else {
            uVar7 = FUN_004497a0((uint *)(local_1c + -local_24),local_24);
            puVar12 = local_c;
          }
          puVar2[6] = uVar7;
          param_1[0xc] = uVar7;
        }
        local_24 = local_14;
        uVar7 = uVar15;
        if (puVar2[4] == 0) {
          uVar7 = ((uVar15 & 0xff00) + uVar15 * 0x10000) * 0x100 + (uVar15 >> 8 & 0xff00) +
                  (uVar15 >> 0x18);
        }
        if (uVar7 != puVar2[6]) {
          param_1[6] = (int)s_incorrect_data_check_0047ac3c;
          goto LAB_00449571;
        }
        uVar15 = 0;
        uVar16 = 0;
      }
      *puVar2 = 0x1b;
    case 0x1b:
      if ((puVar2[2] != 0) && (puVar2[4] != 0)) {
        for (; uVar16 < 0x20; uVar16 += 8) {
          puVar13 = puVar12;
          uVar6 = local_10;
          if (local_8 == 0) goto LAB_004495d1;
          uVar7 = *puVar12;
          local_8 -= 1;
          puVar12 = (uint *)((int)puVar12 + 1);
          uVar15 += (uint)(byte)uVar7 << ((byte)uVar16 & 0x1f);
          local_c = puVar12;
        }
        if (uVar15 != puVar2[7]) {
          param_1[6] = (int)s_incorrect_length_check_0047ac54;
          goto LAB_00449571;
        }
        uVar15 = 0;
        uVar16 = 0;
      }
      *puVar2 = 0x1c;
switchD_004482c8_caseD_1c:
      local_2c = 1;
      puVar13 = puVar12;
      uVar6 = local_10;
      goto LAB_004495d1;
    case 0x1c:
      goto switchD_004482c8_caseD_1c;
    case 0x1d:
      local_2c = -3;
      goto LAB_004495d1;
    case 0x1e:
      goto switchD_004482c8_caseD_1e;
    default:
      return -2;
    }
    uVar7 = *puVar2;
  } while( true );
}



uint __fastcall FUN_00449780(uint *param_1,uint param_2,undefined4 param_3)

{
  uint uVar1;
  
  if (param_1 == NULL) {
    return 0;
  }
  uVar1 = FUN_004497a0(param_1,param_2);
  return uVar1;
}



uint __fastcall FUN_004497a0(uint *param_1,uint param_2)

{
  uint in_EAX;
  uint uVar1;
  uint *puVar2;
  uint uVar3;
  
  uVar1 = ~in_EAX;
  if (param_2 != 0) {
    do {
      if (((uint)param_1 & 3) == 0) break;
      uVar1 = uVar1 >> 8 ^ ULONG_ARRAY_0045fb30[((byte)*param_1 ^ uVar1) & 0xff];
      param_1 = (uint *)((int)param_1 + 1);
      param_2 -= 1;
    } while (param_2 != 0);
  }
  if (0x1f < param_2) {
    uVar3 = param_2 >> 5;
    puVar2 = param_1;
    do {
      uVar1 ^= *puVar2;
      uVar1 = ULONG_ARRAY_0045fb30[(uVar1 >> 0x10 & 0xff) + 0x100] ^
              ULONG_ARRAY_0045fb30[(uVar1 >> 8 & 0xff) + 0x200] ^
              ULONG_ARRAY_0045fb30[uVar1 >> 0x18] ^ ULONG_ARRAY_0045fb30[(uVar1 & 0xff) + 0x300] ^
              puVar2[1];
      uVar1 = ULONG_ARRAY_0045fb30[(uVar1 >> 0x10 & 0xff) + 0x100] ^
              ULONG_ARRAY_0045fb30[(uVar1 >> 8 & 0xff) + 0x200] ^
              ULONG_ARRAY_0045fb30[uVar1 >> 0x18] ^ ULONG_ARRAY_0045fb30[(uVar1 & 0xff) + 0x300] ^
              puVar2[2];
      uVar1 = ULONG_ARRAY_0045fb30[(uVar1 >> 0x10 & 0xff) + 0x100] ^
              ULONG_ARRAY_0045fb30[(uVar1 >> 8 & 0xff) + 0x200] ^
              ULONG_ARRAY_0045fb30[uVar1 >> 0x18] ^ ULONG_ARRAY_0045fb30[(uVar1 & 0xff) + 0x300] ^
              puVar2[3];
      uVar1 = ULONG_ARRAY_0045fb30[(uVar1 >> 0x10 & 0xff) + 0x100] ^
              ULONG_ARRAY_0045fb30[(uVar1 >> 8 & 0xff) + 0x200] ^
              ULONG_ARRAY_0045fb30[uVar1 >> 0x18] ^ ULONG_ARRAY_0045fb30[(uVar1 & 0xff) + 0x300] ^
              puVar2[4];
      uVar1 = ULONG_ARRAY_0045fb30[(uVar1 >> 0x10 & 0xff) + 0x100] ^
              ULONG_ARRAY_0045fb30[(uVar1 >> 8 & 0xff) + 0x200] ^
              ULONG_ARRAY_0045fb30[uVar1 >> 0x18] ^ ULONG_ARRAY_0045fb30[(uVar1 & 0xff) + 0x300] ^
              puVar2[5];
      param_1 = puVar2 + 8;
      uVar1 = ULONG_ARRAY_0045fb30[(uVar1 >> 0x10 & 0xff) + 0x100] ^
              ULONG_ARRAY_0045fb30[(uVar1 >> 8 & 0xff) + 0x200] ^
              ULONG_ARRAY_0045fb30[uVar1 >> 0x18] ^ ULONG_ARRAY_0045fb30[(uVar1 & 0xff) + 0x300] ^
              puVar2[6];
      param_2 -= 0x20;
      uVar1 = ULONG_ARRAY_0045fb30[(uVar1 >> 0x10 & 0xff) + 0x100] ^
              ULONG_ARRAY_0045fb30[(uVar1 >> 8 & 0xff) + 0x200] ^
              ULONG_ARRAY_0045fb30[uVar1 >> 0x18] ^ ULONG_ARRAY_0045fb30[(uVar1 & 0xff) + 0x300] ^
              puVar2[7];
      uVar1 = ULONG_ARRAY_0045fb30[(uVar1 >> 0x10 & 0xff) + 0x100] ^
              ULONG_ARRAY_0045fb30[(uVar1 >> 8 & 0xff) + 0x200] ^
              ULONG_ARRAY_0045fb30[uVar1 >> 0x18] ^ ULONG_ARRAY_0045fb30[(uVar1 & 0xff) + 0x300];
      uVar3 -= 1;
      puVar2 = param_1;
    } while (uVar3 != 0);
  }
  if (3 < param_2) {
    uVar3 = param_2 >> 2;
    do {
      uVar1 ^= *param_1;
      param_1 = param_1 + 1;
      uVar1 = ULONG_ARRAY_0045fb30[(uVar1 >> 0x10 & 0xff) + 0x100] ^
              ULONG_ARRAY_0045fb30[(uVar1 >> 8 & 0xff) + 0x200] ^
              ULONG_ARRAY_0045fb30[uVar1 >> 0x18] ^ ULONG_ARRAY_0045fb30[(uVar1 & 0xff) + 0x300];
      param_2 -= 4;
      uVar3 -= 1;
    } while (uVar3 != 0);
  }
  for (; param_2 != 0; param_2 -= 1) {
    uVar1 = uVar1 >> 8 ^ ULONG_ARRAY_0045fb30[((byte)*param_1 ^ uVar1) & 0xff];
    param_1 = (uint *)((int)param_1 + 1);
  }
  return ~uVar1;
}



uint __fastcall FUN_00449a60(uint param_1,byte *param_2)

{
  uint in_EAX;
  int iVar1;
  uint uVar2;
  uint uVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  int iVar10;
  int iVar11;
  int iVar12;
  int iVar13;
  int iVar14;
  int iVar15;
  int iVar16;
  int iVar17;
  int iVar18;
  uint uVar19;
  uint local_8;
  
  uVar19 = param_1 >> 0x10;
  uVar3 = param_1 & 0xffff;
  if (in_EAX == 1) {
    uVar3 += *param_2;
    if (0xfff0 < uVar3) {
      uVar3 -= 0xfff1;
    }
    uVar19 += uVar3;
    if (0xfff0 < uVar19) {
      return (uVar19 - 0xfff1) * 0x10000 | uVar3;
    }
  }
  else {
    if (param_2 == NULL) {
      return 1;
    }
    if (in_EAX < 0x10) {
      if (in_EAX != 0) {
        do {
          uVar3 += *param_2;
          param_2 = param_2 + 1;
          uVar19 += uVar3;
          in_EAX -= 1;
        } while (in_EAX != 0);
      }
      if (0xfff0 < uVar3) {
        uVar3 -= 0xfff1;
      }
      return ((uVar19 / 0xfff1) * 0xf + uVar19) * 0x10000 | uVar3;
    }
    if (0x15af < in_EAX) {
      local_8 = in_EAX / 0x15b0;
      do {
        in_EAX -= 0x15b0;
        iVar1 = 0x15b;
        do {
          iVar4 = uVar3 + *param_2;
          iVar5 = iVar4 + (uint)param_2[1];
          iVar6 = iVar5 + (uint)param_2[2];
          iVar7 = iVar6 + (uint)param_2[3];
          iVar8 = iVar7 + (uint)param_2[4];
          iVar9 = iVar8 + (uint)param_2[5];
          iVar10 = iVar9 + (uint)param_2[6];
          iVar11 = iVar10 + (uint)param_2[7];
          iVar12 = iVar11 + (uint)param_2[8];
          iVar13 = iVar12 + (uint)param_2[9];
          iVar14 = iVar13 + (uint)param_2[10];
          iVar15 = iVar14 + (uint)param_2[0xb];
          iVar16 = iVar15 + (uint)param_2[0xc];
          iVar17 = iVar16 + (uint)param_2[0xd];
          iVar18 = iVar17 + (uint)param_2[0xe];
          uVar3 = iVar18 + (uint)param_2[0xf];
          uVar19 = uVar19 + iVar4 + iVar5 + iVar6 + iVar7 + iVar8 + iVar9 + iVar10 + iVar11 + iVar12
                   + iVar13 + iVar14 + iVar15 + iVar16 + iVar17 + iVar18 + uVar3;
          param_2 = param_2 + 0x10;
          iVar1 += -1;
        } while (iVar1 != 0);
        uVar3 %= 0xfff1;
        uVar19 %= 0xfff1;
        local_8 -= 1;
      } while (local_8 != 0);
    }
    if (in_EAX != 0) {
      if (0xf < in_EAX) {
        uVar2 = in_EAX >> 4;
        do {
          iVar1 = uVar3 + *param_2;
          iVar4 = iVar1 + (uint)param_2[1];
          iVar5 = iVar4 + (uint)param_2[2];
          iVar6 = iVar5 + (uint)param_2[3];
          iVar7 = iVar6 + (uint)param_2[4];
          iVar8 = iVar7 + (uint)param_2[5];
          iVar9 = iVar8 + (uint)param_2[6];
          iVar10 = iVar9 + (uint)param_2[7];
          iVar11 = iVar10 + (uint)param_2[8];
          iVar12 = iVar11 + (uint)param_2[9];
          iVar13 = iVar12 + (uint)param_2[10];
          iVar14 = iVar13 + (uint)param_2[0xb];
          iVar15 = iVar14 + (uint)param_2[0xc];
          iVar16 = iVar15 + (uint)param_2[0xd];
          iVar17 = iVar16 + (uint)param_2[0xe];
          uVar3 = iVar17 + (uint)param_2[0xf];
          in_EAX -= 0x10;
          uVar19 = uVar19 + iVar1 + iVar4 + iVar5 + iVar6 + iVar7 + iVar8 + iVar9 + iVar10 + iVar11
                   + iVar12 + iVar13 + iVar14 + iVar15 + iVar16 + iVar17 + uVar3;
          param_2 = param_2 + 0x10;
          uVar2 -= 1;
        } while (uVar2 != 0);
      }
      for (; in_EAX != 0; in_EAX -= 1) {
        uVar3 += *param_2;
        param_2 = param_2 + 1;
        uVar19 += uVar3;
      }
      uVar3 %= 0xfff1;
      uVar19 %= 0xfff1;
    }
  }
  return uVar19 << 0x10 | uVar3;
}



void __cdecl FUN_00449cd0(int *param_1,uint param_2)

{
  byte *pbVar1;
  undefined1 *puVar2;
  undefined4 *puVar3;
  int iVar4;
  uint uVar5;
  uint uVar6;
  int iVar7;
  int iVar8;
  undefined4 uVar9;
  undefined4 uVar10;
  char cVar11;
  undefined1 uVar12;
  byte *pbVar13;
  uint uVar14;
  int iVar15;
  undefined1 *puVar16;
  uint uVar17;
  int iVar18;
  uint uVar19;
  undefined1 *puVar20;
  undefined1 *puVar21;
  uint uVar22;
  uint uVar23;
  int iVar24;
  byte *local_8;
  
  puVar3 = (undefined4 *)param_1[7];
  local_8 = (byte *)(*param_1 + -1);
  uVar19 = puVar3[0xe];
  pbVar1 = local_8 + param_1[1] + -5;
  puVar20 = (undefined1 *)(param_1[3] + -1);
  puVar16 = puVar20 + (param_1[4] - param_2);
  puVar2 = puVar20 + param_1[4] + -0x101;
  iVar4 = puVar3[10];
  uVar5 = puVar3[0xb];
  uVar6 = puVar3[0xc];
  iVar24 = puVar3[0xd];
  iVar7 = puVar3[0x13];
  iVar8 = puVar3[0x14];
  uVar9 = puVar3[0x15];
  uVar10 = puVar3[0x16];
  uVar22 = puVar3[0xf];
LAB_00449d58:
  if (uVar22 < 0xf) {
    pbVar13 = local_8 + 1;
    local_8 = local_8 + 2;
    uVar19 = uVar19 + ((uint)*pbVar13 << ((byte)uVar22 & 0x1f)) +
             ((uint)*local_8 << ((byte)uVar22 + 8 & 0x1f));
    uVar22 += 0x10;
  }
  uVar17 = *(uint *)(iVar7 + ((1 << ((byte)uVar9 & 0x1f)) - 1U & uVar19) * 4);
  uVar19 >>= (byte)(uVar17 >> 8) & 0x1f;
  uVar22 -= uVar17 >> 8 & 0xff;
  cVar11 = (char)uVar17;
  while (cVar11 != '\0') {
    if ((uVar17 & 0x10) != 0) {
      param_2 = uVar17 >> 0x10;
      uVar17 &= 0xf;
      if (uVar17 != 0) {
        if (uVar22 < uVar17) {
          local_8 = local_8 + 1;
          uVar19 += (uint)*local_8 << ((byte)uVar22 & 0x1f);
          uVar22 += 8;
        }
        param_2 += (1 << (sbyte)uVar17) - 1U & uVar19;
        uVar19 >>= (sbyte)uVar17;
        uVar22 -= uVar17;
      }
      if (uVar22 < 0xf) {
        pbVar13 = local_8 + 1;
        local_8 = local_8 + 2;
        uVar19 = uVar19 + ((uint)*pbVar13 << ((byte)uVar22 & 0x1f)) +
                 ((uint)*local_8 << ((byte)uVar22 + 8 & 0x1f));
        uVar22 += 0x10;
      }
      uVar17 = *(uint *)(iVar8 + ((1 << ((byte)uVar10 & 0x1f)) - 1U & uVar19) * 4);
      uVar19 >>= (byte)(uVar17 >> 8) & 0x1f;
      uVar22 -= uVar17 >> 8 & 0xff;
      goto joined_r0x00449e5a;
    }
    if ((uVar17 & 0x40) != 0) {
      if ((uVar17 & 0x20) == 0) {
        param_1[6] = (int)s_invalid_literal_length_code_0047aa28;
        goto LAB_0044a076;
      }
      *puVar3 = 0xb;
      goto LAB_0044a07f;
    }
    uVar17 = *(uint *)(iVar7 + (((1 << ((byte)uVar17 & 0x1f)) - 1U & uVar19) + (uVar17 >> 0x10)) * 4
                      );
    uVar19 >>= (byte)(uVar17 >> 8) & 0x1f;
    uVar22 -= uVar17 >> 8 & 0xff;
    cVar11 = (char)uVar17;
  }
  uVar12 = (undefined1)(uVar17 >> 0x10);
  goto LAB_0044a02a;
joined_r0x00449e5a:
  if ((uVar17 & 0x10) != 0) goto LAB_00449e96;
  if ((uVar17 & 0x40) != 0) {
    param_1[6] = (int)s_invalid_distance_code_0047aa10;
    goto LAB_0044a076;
  }
  uVar17 = *(uint *)(iVar8 + (((1 << ((byte)uVar17 & 0x1f)) - 1U & uVar19) + (uVar17 >> 0x10)) * 4);
  uVar19 >>= (byte)(uVar17 >> 8) & 0x1f;
  uVar22 -= uVar17 >> 8 & 0xff;
  goto joined_r0x00449e5a;
LAB_00449e96:
  uVar14 = uVar17 & 0xf;
  uVar23 = uVar22;
  pbVar13 = local_8;
  if (uVar22 < uVar14) {
    uVar23 = uVar22 + 8;
    uVar19 += (uint)local_8[1] << ((byte)uVar22 & 0x1f);
    pbVar13 = local_8 + 1;
    if (uVar23 < uVar14) {
      uVar19 += (uint)local_8[2] << ((byte)uVar23 & 0x1f);
      uVar23 = uVar22 + 0x10;
      pbVar13 = local_8 + 2;
    }
  }
  local_8 = pbVar13;
  uVar22 = uVar23 - uVar14;
  uVar23 = (1 << (sbyte)uVar14) - 1U & uVar19;
  uVar19 >>= (sbyte)uVar14;
  uVar23 = (uVar17 >> 0x10) + uVar23;
  if ((uint)((int)puVar20 - (int)puVar16) < uVar23) {
    uVar17 = uVar23 - ((int)puVar20 - (int)puVar16);
    if ((uVar5 < uVar17) && (puVar3[0x6f0] != 0)) {
      param_1[6] = (int)s_invalid_distance_too_far_back_0047a9f0;
LAB_0044a076:
      *puVar3 = 0x1d;
LAB_0044a07f:
      iVar4 = (int)local_8 - (uVar22 >> 3);
      iVar24 = uVar22 + (uVar22 >> 3) * -8;
      *param_1 = iVar4 + 1;
      param_1[3] = (int)(puVar20 + 1);
      param_1[4] = (int)(puVar2 + (0x101 - (int)puVar20));
      param_1[1] = (int)(pbVar1 + (5 - iVar4));
      puVar3[0xf] = iVar24;
      puVar3[0xe] = uVar19 & (1 << ((byte)iVar24 & 0x1f)) - 1U;
      return;
    }
    iVar15 = iVar24 + -1;
    if (uVar6 == 0) {
      iVar15 += iVar4 - uVar17;
      if (uVar17 < param_2) {
        param_2 -= uVar17;
        do {
          puVar21 = (undefined1 *)(iVar15 + 1);
          iVar15 += 1;
          puVar20 = puVar20 + 1;
          uVar17 -= 1;
          *puVar20 = *puVar21;
        } while (uVar17 != 0);
LAB_00449f9a:
        iVar15 = (int)puVar20 - uVar23;
      }
    }
    else if (uVar6 < uVar17) {
      uVar14 = uVar17 - uVar6;
      iVar15 += (uVar6 - uVar17) + iVar4;
      if (uVar14 < param_2) {
        param_2 -= uVar14;
        iVar15 -= (int)puVar20;
        do {
          puVar21 = puVar20 + iVar15 + 1;
          puVar20 = puVar20 + 1;
          uVar14 -= 1;
          *puVar20 = *puVar21;
        } while (uVar14 != 0);
        iVar15 = iVar24 + -1;
        if (uVar6 < param_2) {
          param_2 -= uVar6;
          uVar17 = uVar6;
          do {
            puVar21 = (undefined1 *)(iVar15 + 1);
            iVar15 += 1;
            puVar20 = puVar20 + 1;
            uVar17 -= 1;
            *puVar20 = *puVar21;
          } while (uVar17 != 0);
          goto LAB_00449f9a;
        }
      }
    }
    else {
      iVar15 += uVar6 - uVar17;
      if (uVar17 < param_2) {
        param_2 -= uVar17;
        do {
          puVar21 = (undefined1 *)(iVar15 + 1);
          iVar15 += 1;
          puVar20 = puVar20 + 1;
          uVar17 -= 1;
          *puVar20 = *puVar21;
        } while (uVar17 != 0);
        goto LAB_00449f9a;
      }
    }
    if (2 < param_2) {
      iVar18 = (param_2 - 3) / 3 + 1;
      do {
        param_2 -= 3;
        puVar20[1] = *(undefined1 *)(iVar15 + 1);
        puVar20[2] = *(undefined1 *)(iVar15 + 2);
        puVar21 = (undefined1 *)(iVar15 + 3);
        iVar15 += 3;
        puVar20 = puVar20 + 3;
        iVar18 += -1;
        *puVar20 = *puVar21;
      } while (iVar18 != 0);
    }
    if (param_2 == 0) goto LAB_0044a02c;
    puVar20 = puVar20 + 1;
    *puVar20 = *(undefined1 *)(iVar15 + 1);
    if (param_2 < 2) goto LAB_0044a02c;
    uVar12 = *(undefined1 *)(iVar15 + 2);
  }
  else {
    iVar15 = (int)puVar20 - uVar23;
    do {
      puVar21 = puVar20;
      iVar18 = iVar15;
      puVar21[1] = *(undefined1 *)(iVar18 + 1);
      puVar21[2] = *(undefined1 *)(iVar18 + 2);
      puVar20 = puVar21 + 3;
      *puVar20 = *(undefined1 *)(iVar18 + 3);
      param_2 -= 3;
      iVar15 = iVar18 + 3;
    } while (2 < param_2);
    if (param_2 == 0) goto LAB_0044a02c;
    puVar20 = puVar21 + 4;
    *puVar20 = *(undefined1 *)(iVar18 + 4);
    if (param_2 < 2) goto LAB_0044a02c;
    uVar12 = *(undefined1 *)(iVar18 + 5);
  }
LAB_0044a02a:
  puVar20 = puVar20 + 1;
  *puVar20 = uVar12;
LAB_0044a02c:
  if ((pbVar1 <= local_8) || (puVar2 <= puVar20)) goto LAB_0044a07f;
  goto LAB_00449d58;
}



void __cdecl FUN_0044a0e0(undefined4 param_1,int param_2,int param_3)

{
  malloc(param_2 * param_3);
  return;
}



void __cdecl FUN_0044a100(undefined4 param_1,void *param_2)

{
  free(param_2);
  return;
}



undefined4 __cdecl
FUN_0044a120(int param_1,int param_2,uint param_3,int *param_4,uint *param_5,ushort *param_6)

{
  ushort uVar1;
  char cVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  uint uVar6;
  byte bVar7;
  uint *puVar8;
  int iVar9;
  byte bVar10;
  ushort *puVar11;
  int iVar12;
  bool bVar13;
  ushort auStack_80 [16];
  ushort local_60 [16];
  uint local_40;
  uint local_3c;
  uint local_38;
  uint local_34;
  uint local_30;
  uint local_2c;
  ushort *local_28;
  ushort *local_24;
  int local_20;
  ushort *local_1c;
  uint local_18;
  int local_14;
  uint local_10;
  uint local_c;
  uint local_8;
  
  local_60[0] = 0;
  local_60[1] = 0;
  local_60[2] = 0;
  local_60[3] = 0;
  local_60[4] = 0;
  local_60[5] = 0;
  local_60[6] = 0;
  local_60[7] = 0;
  local_60[8] = 0;
  local_60[9] = 0;
  local_60[10] = 0;
  local_60[0xb] = 0;
  local_60[0xc] = 0;
  local_60[0xd] = 0;
  local_60[0xe] = 0;
  local_60[0xf] = 0;
  uVar3 = 0;
  if (param_3 != 0) {
    do {
      local_60[*(ushort *)(param_2 + uVar3 * 2)] = local_60[*(ushort *)(param_2 + uVar3 * 2)] + 1;
      uVar3 += 1;
    } while (uVar3 < param_3);
  }
  local_8 = *param_5;
  local_10 = 0xf;
  do {
    if (local_60[local_10] != 0) break;
    local_10 -= 1;
  } while (local_10 != 0);
  if (local_10 < local_8) {
    local_8 = local_10;
  }
  if (local_10 == 0) {
    *(undefined4 *)*param_4 = 0x140;
    *param_4 = *param_4 + 4;
    *(undefined4 *)*param_4 = 0x140;
    *param_4 = *param_4 + 4;
    *param_5 = 1;
    return 0;
  }
  local_c = 1;
  if (1 < local_10) {
    do {
      if (local_60[local_c] != 0) break;
      local_c += 1;
    } while (local_c < local_10);
  }
  if (local_8 < local_c) {
    local_8 = local_c;
  }
  iVar12 = 1;
  uVar3 = 1;
  do {
    iVar12 = iVar12 * 2 - (uint)local_60[uVar3];
    if (iVar12 < 0) {
      return 0xffffffff;
    }
    uVar3 += 1;
  } while (uVar3 < 0x10);
  if ((0 < iVar12) && ((param_1 == 0 || (local_10 != 1)))) {
    return 0xffffffff;
  }
  auStack_80[1] = 0;
  uVar3 = 2;
  do {
    uVar4 = uVar3 + 2;
    *(short *)((int)auStack_80 + uVar3 + 2) =
         *(short *)((int)auStack_80 + uVar3) + *(short *)((int)local_60 + uVar3);
    uVar3 = uVar4;
  } while (uVar4 < 0x1e);
  uVar3 = 0;
  if (param_3 != 0) {
    do {
      if (*(short *)(param_2 + uVar3 * 2) != 0) {
        param_6[auStack_80[*(ushort *)(param_2 + uVar3 * 2)]] = (ushort)uVar3;
        auStack_80[*(ushort *)(param_2 + uVar3 * 2)] =
             auStack_80[*(ushort *)(param_2 + uVar3 * 2)] + 1;
      }
      uVar3 += 1;
    } while (uVar3 < param_3);
  }
  if (param_1 == 0) {
    local_24 = param_6;
    local_28 = param_6;
    local_20 = 0x13;
  }
  else if (param_1 == 1) {
    local_28 = (ushort *)((int)&DOUBLE_0045f800 + 6);
    local_24 = (ushort *)((int)INT_ARRAY_0045f810 + 0x36);
    local_20 = 0x100;
  }
  else {
    local_28 = USHORT_ARRAY_0045fa88;
    local_24 = (ushort *)&DAT_0045fac8;
    local_20 = -1;
  }
  local_14 = *param_4;
  local_34 = 1 << ((byte)local_8 & 0x1f);
  local_2c = 0xffffffff;
  uVar3 = 0;
  local_18 = 0;
  local_30 = local_34;
  local_38 = local_34 - 1;
  if (param_1 == 1) {
    bVar13 = local_34 < 0x354;
  }
  else {
    if (param_1 != 2) goto LAB_0044a317;
    bVar13 = local_34 < 0x250;
  }
  if (!bVar13) {
    return 1;
  }
LAB_0044a317:
  local_1c = param_6;
  do {
    uVar4 = local_c;
    cVar2 = (char)local_c;
    uVar1 = *local_1c;
    bVar10 = (byte)uVar3;
    bVar7 = (char)local_c - bVar10;
    if ((int)(uint)uVar1 < local_20) {
      param_3 = (uint)CONCAT21(uVar1,bVar7) << 8;
    }
    else if (local_20 < (int)(uint)uVar1) {
      param_3 = CONCAT22(local_28[*local_1c],CONCAT11(bVar7,(char)local_24[*local_1c]));
    }
    else {
      param_3 = CONCAT31((uint3)bVar7,0x60);
    }
    iVar12 = 1 << ((char)local_c - bVar10 & 0x1f);
    local_3c = local_34;
    puVar8 = (uint *)(local_14 + ((local_18 >> (bVar10 & 0x1f)) + local_34) * 4);
    uVar5 = local_34;
    do {
      puVar8 = puVar8 + -iVar12;
      uVar5 -= iVar12;
      *puVar8 = param_3;
    } while (uVar5 != 0);
    for (uVar5 = 1 << ((char)local_c - 1U & 0x1f); (local_18 & uVar5) != 0; uVar5 >>= 1) {
    }
    if (uVar5 == 0) {
      uVar5 = 0;
    }
    else {
      uVar5 = (uVar5 - 1 & local_18) + uVar5;
    }
    local_1c = local_1c + 1;
    puVar11 = local_60 + local_c;
    *puVar11 = *puVar11 - 1;
    local_18 = uVar5;
    if (*puVar11 == 0) {
      if (uVar4 == local_10) {
        param_3._0_2_ = CONCAT11(cVar2 - bVar10,0x40);
        param_3 = (uint)(ushort)param_3;
        break;
      }
      uVar4 = (uint)*(ushort *)(param_2 + (uint)*local_1c * 2);
      local_c = uVar4;
    }
    if (local_8 < uVar4) {
      local_40 = local_38 & uVar5;
      if (local_40 != local_2c) {
        if (uVar3 == 0) {
          uVar3 = local_8;
        }
        local_14 += local_3c * 4;
        iVar9 = local_c - uVar3;
        uVar4 = uVar3 + iVar9;
        iVar12 = 1 << ((byte)iVar9 & 0x1f);
        if (uVar4 < local_10) {
          puVar11 = local_60 + uVar4;
          do {
            uVar1 = *puVar11;
            if ((int)(iVar12 - (uint)uVar1) < 1) break;
            uVar4 += 1;
            iVar9 += 1;
            puVar11 = puVar11 + 1;
            iVar12 = (iVar12 - (uint)uVar1) * 2;
          } while (uVar4 < local_10);
        }
        local_34 = 1 << ((byte)iVar9 & 0x1f);
        local_30 += local_34;
        if (param_1 == 1) {
          bVar13 = local_30 < 0x354;
LAB_0044a485:
          if (!bVar13) {
            return 1;
          }
        }
        else if (param_1 == 2) {
          bVar13 = local_30 < 0x250;
          goto LAB_0044a485;
        }
        *(byte *)(*param_4 + local_40 * 4) = (byte)iVar9;
        *(undefined1 *)(*param_4 + 1 + local_40 * 4) = (undefined1)local_8;
        local_2c = local_40;
        *(short *)(*param_4 + 2 + local_40 * 4) = (short)(local_14 - *param_4 >> 2);
      }
    }
  } while( true );
joined_r0x0044a4c8:
  if (uVar5 == 0) {
LAB_0044a523:
    *param_4 = *param_4 + local_30 * 4;
    *param_5 = local_8;
    return 0;
  }
  if ((uVar3 != 0) && ((local_38 & uVar5) != local_2c)) {
    local_14 = *param_4;
    uVar3 = 0;
    param_3._0_2_ = CONCAT11((undefined1)local_8,(undefined1)param_3);
    param_3 = (uint)(ushort)param_3;
    uVar4 = local_8;
  }
  *(uint *)(local_14 + (uVar5 >> ((byte)uVar3 & 0x1f)) * 4) = param_3;
  for (uVar6 = 1 << ((char)uVar4 - 1U & 0x1f); (uVar5 & uVar6) != 0; uVar6 >>= 1) {
  }
  if (uVar6 == 0) goto LAB_0044a523;
  uVar5 = (uVar5 & uVar6 - 1) + uVar6;
  goto joined_r0x0044a4c8;
}



int FUN_0044a570(void)

{
  int *in_EAX;
  int *piVar1;
  int iVar2;
  
  piVar1 = _errno();
  *piVar1 = 0;
  if (in_EAX[0xb0] == 0) {
    return -1;
  }
  if (*in_EAX != 0) {
    iVar2 = FUN_0044d040(in_EAX + 6,0x10000);
    iVar2 = (*(code *)in_EAX[0xb0])(iVar2,1,0x10000,*in_EAX);
    if (0 < iVar2) {
      FUN_0044d0c0((int)(in_EAX + 6),iVar2);
    }
    if ((iVar2 == 0) && (piVar1 = _errno(), *piVar1 != 0)) {
      return -1;
    }
    return iVar2;
  }
  return 0;
}



undefined4 __cdecl FUN_0044a5e0(int param_1,int param_2)

{
  int *in_EAX;
  int iVar1;
  
  if (*in_EAX == 0) {
    return 0xffffff7f;
  }
  if ((code *)in_EAX[0xb1] != NULL) {
    iVar1 = (*(code *)in_EAX[0xb1])(*in_EAX,param_1,param_2,0);
    if (iVar1 != -1) {
      in_EAX[2] = param_1;
      in_EAX[3] = param_2;
      FUN_0044d490((int)(in_EAX + 6));
      return 0;
    }
  }
  return 0xffffff80;
}



undefined8 __cdecl FUN_0044a640(int *param_1,uint param_2,int param_3)

{
  uint *puVar1;
  uint uVar2;
  undefined8 uVar3;
  uint uVar4;
  int iVar5;
  int unaff_ESI;
  bool bVar6;
  
  if (param_3 < 0) goto LAB_0044a67d;
  if ((0 < param_3) || (param_2 != 0)) {
    bVar6 = CARRY4(param_2,*(uint *)(unaff_ESI + 8));
    param_2 += *(uint *)(unaff_ESI + 8);
    param_3 = param_3 + *(int *)(unaff_ESI + 0xc) + (uint)bVar6;
  }
  while( true ) {
    while( true ) {
      if (((-1 < param_3) && ((0 < param_3 || (param_2 != 0)))) &&
         ((param_3 < *(int *)(unaff_ESI + 0xc) ||
          ((param_3 <= *(int *)(unaff_ESI + 0xc) && (param_2 <= *(uint *)(unaff_ESI + 8))))))) {
        return 0xffffffffffffffff;
      }
LAB_0044a67d:
      uVar4 = FUN_0044d0e0((int *)(unaff_ESI + 0x18),param_1);
      if (-1 < (int)uVar4) break;
      puVar1 = (uint *)(unaff_ESI + 8);
      uVar2 = *puVar1;
      *puVar1 = *puVar1 - uVar4;
      *(int *)(unaff_ESI + 0xc) =
           (*(int *)(unaff_ESI + 0xc) - ((int)uVar4 >> 0x1f)) - (uint)(uVar2 < uVar4);
    }
    if (uVar4 != 0) {
      uVar2 = *(uint *)(unaff_ESI + 8);
      uVar3 = *(undefined8 *)(unaff_ESI + 8);
      *(uint *)(unaff_ESI + 0xc) =
           ((int)uVar4 >> 0x1f) + *(int *)(unaff_ESI + 0xc) + (uint)CARRY4(uVar4,uVar2);
      *(uint *)(unaff_ESI + 8) = uVar4 + uVar2;
      return uVar3;
    }
    if (param_2 == 0 && param_3 == 0) break;
    iVar5 = FUN_0044a570();
    if (iVar5 == 0) {
      return 0xfffffffffffffffe;
    }
    if (iVar5 < 0) {
      return 0xffffffffffffff80;
    }
  }
  return 0xffffffffffffffff;
}



longlong __cdecl FUN_0044a6f0(int *param_1)

{
  uint uVar1;
  longlong lVar2;
  int in_EAX;
  int iVar3;
  int iVar4;
  uint uVar5;
  bool bVar6;
  longlong lVar7;
  longlong lVar8;
  uint local_10;
  int local_c;
  int local_4;
  
  uVar1 = *(uint *)(in_EAX + 8);
  iVar4 = *(int *)(in_EAX + 0xc);
  lVar2 = -1;
  local_c = iVar4;
  local_10 = uVar1;
  do {
    bVar6 = 0xffff < local_10;
    local_10 -= 0x10000;
    local_c = local_c + -1 + (uint)bVar6;
    if ((local_c < 1) && ((local_c < 0 || (false)))) {
      local_10 = 0;
      local_c = 0;
    }
    iVar3 = FUN_0044a5e0(local_10,local_c);
    if (iVar3 != 0) {
      return (longlong)iVar3;
    }
    iVar3 = *(int *)(in_EAX + 0xc);
    uVar5 = *(uint *)(in_EAX + 8);
    if (iVar3 <= iVar4) {
      lVar7 = lVar2;
      if (iVar3 < iVar4) goto LAB_0044a768;
      while (lVar2 = lVar7, uVar5 < uVar1) {
LAB_0044a768:
        do {
          lVar7 = FUN_0044a640(param_1,uVar1 - uVar5,(iVar4 - iVar3) - (uint)(uVar1 < uVar5));
          if ((lVar7 == -0x80) && (true)) {
            return -0x80;
          }
          if ((lVar7 < 0) || (((int)((ulonglong)lVar7 >> 0x20) == 0 || lVar7 < 0 && (false))))
          goto LAB_0044a7a9;
          uVar5 = *(uint *)(in_EAX + 8);
          iVar3 = *(int *)(in_EAX + 0xc);
          lVar2 = lVar7;
        } while (iVar3 < iVar4);
        if (iVar4 < iVar3) break;
      }
    }
LAB_0044a7a9:
    local_4 = (int)((ulonglong)lVar2 >> 0x20);
    if (lVar2 != -1) {
      iVar4 = FUN_0044a5e0((int)lVar2,local_4);
      lVar7 = (longlong)iVar4;
      if (iVar4 == 0) {
        lVar8 = FUN_0044a640(param_1,0x10000,0);
        lVar7 = lVar2;
        if (((int)((ulonglong)lVar8 >> 0x20) == 0 || lVar8 < 0) && ((lVar8 < 0 || (false)))) {
          return -0x81;
        }
      }
      return lVar7;
    }
  } while( true );
}



void FUN_0044a820(void)

{
  int *in_EAX;
  undefined4 uVar1;
  void *pvVar2;
  int *unaff_ESI;
  int *unaff_EDI;
  
  uVar1 = FUN_0044cdc0(in_EAX);
  *unaff_ESI = *unaff_ESI + 1;
  if (unaff_EDI != NULL) {
    pvVar2 = realloc((void *)*unaff_EDI,*unaff_ESI * 4);
    *unaff_EDI = (int)pvVar2;
    *(undefined4 *)(*unaff_EDI + -4 + *unaff_ESI * 4) = uVar1;
    return;
  }
  pvRam00000000 = malloc(4);
  *(undefined4 *)((int)pvRam00000000 + *unaff_ESI * 4 + -4) = uVar1;
  return;
}



undefined4 __fastcall FUN_0044a870(int param_1,int *param_2)

{
  int *in_EAX;
  int iVar1;
  
  iVar1 = FUN_0044cdc0(in_EAX);
  if ((param_2 != NULL) && (param_1 != 0)) {
    do {
      param_1 += -1;
      if (*param_2 == iVar1) {
        return 1;
      }
      param_2 = param_2 + 1;
    } while (param_1 != 0);
  }
  return 0;
}



undefined4 FUN_0044a8a0(void)

{
  byte bVar1;
  undefined4 *in_EAX;
  undefined3 extraout_var;
  int iVar2;
  int *unaff_EBX;
  longlong lVar3;
  int local_10 [4];
  
  *in_EAX = 0;
  *unaff_EBX = 0;
  lVar3 = FUN_0044a640(local_10,0x10000,0);
  if ((lVar3 != -2) || (false)) {
    do {
      if ((lVar3 < 0) || (((int)((ulonglong)lVar3 >> 0x20) == 0 || lVar3 < 0 && (false)))) {
        return (int)lVar3;
      }
      bVar1 = FUN_0044cd10(local_10);
      if (CONCAT31(extraout_var,bVar1) == 0) {
        return 0;
      }
      iVar2 = FUN_0044a870(*unaff_EBX,(int *)*in_EAX);
      if (iVar2 != 0) {
        if ((void *)*in_EAX != NULL) {
          free((void *)*in_EAX);
        }
        *in_EAX = 0;
        *unaff_EBX = 0;
        return 0xffffff7b;
      }
      FUN_0044a820();
      lVar3 = FUN_0044a640(local_10,0x10000,0);
    } while ((lVar3 != -2) || (false));
  }
  return 0;
}



int __cdecl
FUN_0044a960(int param_1,undefined4 param_2,undefined4 param_3,uint param_4,int param_5,uint param_6
            ,int param_7,int *param_8,int param_9,int param_10)

{
  uint uVar1;
  longlong lVar2;
  longlong lVar3;
  int iVar4;
  int iVar5;
  void *pvVar6;
  uint uVar7;
  bool bVar8;
  longlong lVar9;
  longlong lVar10;
  uint local_28;
  int local_24;
  int local_20;
  int local_1c;
  int local_10;
  uint local_c;
  uint local_4;
  
  lVar3 = CONCAT44(param_5,param_4);
  local_28 = param_6;
  local_24 = param_7;
  lVar2 = CONCAT44(param_5,param_4);
  lVar9 = CONCAT44(param_7,param_6);
  if ((param_5 <= param_7) &&
     ((lVar2 = lVar3, lVar3 = CONCAT44(param_7,param_6), param_5 < param_7 ||
      (lVar9 = CONCAT44(param_7,param_6), lVar3 = CONCAT44(param_7,param_6), param_4 < param_6)))) {
    do {
      uVar7 = (uint)(local_28 < (uint)lVar2);
      uVar1 = local_24 - (int)((ulonglong)lVar2 >> 0x20);
      bVar8 = -1 < (int)(uVar1 - uVar7);
      if ((uVar1 != uVar7 && bVar8) || ((lVar9 = lVar2, bVar8 && (0xffff < local_28 - (uint)lVar2)))
         ) {
        lVar9 = lVar2 + CONCAT44(local_24,local_28);
        lVar9 = __alldiv((uint)lVar9,(uint)((ulonglong)lVar9 >> 0x20),2,0);
      }
      param_5 = (int)((ulonglong)lVar9 >> 0x20);
      uVar7 = (uint)lVar9;
      iVar4 = FUN_0044a5e0(uVar7,param_5);
      if (iVar4 != 0) {
        return iVar4;
      }
      lVar10 = FUN_0044a640(&local_10,0xffffffff,-1);
      iVar4 = (int)((ulonglong)lVar10 >> 0x20);
      if ((lVar10 == -0x80) && (true)) {
        return -0x80;
      }
      lVar9 = lVar3;
      if ((lVar10 < 0) ||
         (((iVar4 == 0 || lVar10 < 0 && (false)) ||
          (iVar5 = FUN_0044a870(param_9,param_8), iVar5 == 0)))) {
        local_24 = param_5;
        local_28 = uVar7;
        if ((-1 < lVar10) && ((iVar4 != 0 && -1 < lVar10 || (true)))) {
          lVar9 = lVar10;
        }
      }
      else {
        lVar2 = lVar10 + CONCAT44(((int)local_4 >> 0x1f) + ((int)local_c >> 0x1f) +
                                  (uint)CARRY4(local_4,local_c),local_4 + local_c);
      }
      lVar3 = lVar9;
    } while ((lVar2 < CONCAT44(local_24,local_28)) || ((false && ((uint)lVar2 < local_28))));
  }
  local_1c = (int)((ulonglong)lVar9 >> 0x20);
  local_20 = (int)lVar9;
  iVar4 = FUN_0044a5e0(local_20,local_1c);
  if ((iVar4 == 0) && (iVar4 = FUN_0044a8a0(), iVar4 == 0)) {
    if ((CONCAT44(param_7,param_6) <= lVar2) || (((false && (param_6 <= (uint)lVar2)) || (true)))) {
      *(int *)(param_1 + 0x34) = param_10 + 1;
      pvVar6 = malloc((param_10 + 1) * 8 + 8);
      *(void **)(param_1 + 0x38) = pvVar6;
      *(uint *)((int)pvVar6 + param_10 * 8 + 8) = (uint)lVar2;
      *(int *)((int)pvVar6 + param_10 * 8 + 0xc) = (int)((ulonglong)lVar2 >> 0x20);
    }
    else {
      iVar4 = FUN_0044a960(param_1,local_20,local_1c,*(uint *)(param_1 + 8),*(int *)(param_1 + 0xc),
                           param_6,param_7,NULL,0,param_10 + 1);
      if (iVar4 != 0) {
        return iVar4;
      }
    }
    if (false) {
      free(NULL);
    }
    iVar4 = *(int *)(param_1 + 0x38);
    *(undefined4 *)(iVar4 + param_10 * 8) = param_2;
    *(undefined4 *)(iVar4 + 4 + param_10 * 8) = param_3;
    iVar4 = 0;
  }
  return iVar4;
}



undefined4 * __thiscall
FUN_0044abb0(void *this,undefined4 *param_1,int *param_2,undefined4 *param_3)

{
  int *piVar1;
  bool bVar2;
  byte bVar3;
  int *in_EAX;
  undefined3 extraout_var;
  undefined4 uVar4;
  undefined3 extraout_var_00;
  int iVar5;
  undefined3 extraout_var_01;
  int iVar6;
  undefined4 *puVar7;
  longlong lVar8;
  int local_30 [4];
  undefined4 local_20 [8];
  
  iVar6 = 0;
  bVar2 = false;
  if (in_EAX == NULL) {
    lVar8 = FUN_0044a640(local_30,0x10000,0);
    if ((lVar8 == -0x80) && (true)) {
      return (undefined4 *)lVar8;
    }
    if ((lVar8 < 0x100000000) && ((lVar8 < 0 || (false)))) {
      return (undefined4 *)0xffffff7c;
    }
    in_EAX = local_30;
  }
  FUN_0044d750(param_1);
  FUN_0044d6a0(param_2);
  bVar3 = FUN_0044cd10(in_EAX);
  if (CONCAT31(extraout_var,bVar3) != 0) {
    piVar1 = (int *)((int)this + 0x78);
    do {
      uVar4 = FUN_0044cdc0(in_EAX);
      FUN_0044d500((int)piVar1,uVar4);
      FUN_0044d200(piVar1,in_EAX);
      puVar7 = local_20;
      FUN_0044d630(piVar1,puVar7);
      if ((0 < (int)puVar7) && (FUN_0044dd20(local_20), puVar7 != NULL)) {
        if (param_3 != NULL) {
          *param_3 = *(undefined4 *)((int)this + 0x1c8);
        }
        puVar7 = local_20;
        *(undefined4 *)((int)this + 0x58) = 3;
        FUN_0044ddd0(param_1,(int)param_2,puVar7);
        if (puVar7 == NULL) goto joined_r0x0044ace3;
        goto LAB_0044ad94;
      }
      lVar8 = FUN_0044a640(in_EAX,0x10000,0);
      if ((lVar8 == -0x80) && (true)) {
        return (undefined4 *)0xffffff80;
      }
      if ((lVar8 < 0) || (((int)((ulonglong)lVar8 >> 0x20) < 1 && (false)))) {
        return (undefined4 *)0xffffff7c;
      }
      bVar3 = FUN_0044cd10(in_EAX);
    } while (CONCAT31(extraout_var_00,bVar3) != 0);
  }
  puVar7 = (undefined4 *)0xffffff7c;
LAB_0044ad94:
  FUN_0044d790(param_1);
  FUN_0044d6c0(param_2);
  *(undefined4 *)((int)this + 0x58) = 2;
  return puVar7;
joined_r0x0044ace3:
  while( true ) {
    if (1 < iVar6) {
      return NULL;
    }
    iVar5 = (int)this + 0x78;
    FUN_0044d630(iVar5,local_20);
    if (iVar5 != 0) break;
    if (1 < iVar6) {
      return NULL;
    }
    while( true ) {
      lVar8 = FUN_0044a640(in_EAX,0x10000,0);
      if ((lVar8 < 0) || (((int)((ulonglong)lVar8 >> 0x20) == 0 || lVar8 < 0 && (false))))
      goto LAB_0044ad8f;
      iVar5 = FUN_0044cdc0(in_EAX);
      if (*(int *)((int)this + 0x1c8) == iVar5) break;
      bVar3 = FUN_0044cd10(in_EAX);
      if (CONCAT31(extraout_var_01,bVar3) != 0) {
        if (bVar2) goto LAB_0044ad8f;
        bVar2 = true;
      }
    }
    FUN_0044d200((int *)((int)this + 0x78),in_EAX);
  }
  if (iVar5 == -1) {
LAB_0044ad8f:
    puVar7 = (undefined4 *)0xffffff7b;
    goto LAB_0044ad94;
  }
  puVar7 = param_1;
  FUN_0044ddd0(param_1,(int)param_2,local_20);
  if (puVar7 != NULL) goto LAB_0044ad94;
  iVar6 += 1;
  goto joined_r0x0044ace3;
}



void __cdecl FUN_0044ade0(int param_1,int param_2)

{
  uint *puVar1;
  int *piVar2;
  byte bVar3;
  void *in_EAX;
  void *pvVar4;
  int iVar5;
  undefined4 *puVar6;
  undefined3 extraout_var;
  int iVar7;
  uint uVar8;
  int iVar9;
  bool bVar10;
  longlong lVar11;
  longlong lVar12;
  undefined8 uVar13;
  uint local_38;
  int local_34;
  int local_30 [4];
  undefined4 local_20 [8];
  
  pvVar4 = realloc(*(void **)((int)in_EAX + 0x48),*(int *)((int)in_EAX + 0x34) << 5);
  *(void **)((int)in_EAX + 0x48) = pvVar4;
  pvVar4 = realloc(*(void **)((int)in_EAX + 0x4c),*(int *)((int)in_EAX + 0x34) << 4);
  *(void **)((int)in_EAX + 0x4c) = pvVar4;
  pvVar4 = malloc(*(int *)((int)in_EAX + 0x34) * 4);
  *(void **)((int)in_EAX + 0x40) = pvVar4;
  pvVar4 = malloc(*(int *)((int)in_EAX + 0x34) * 8);
  *(void **)((int)in_EAX + 0x3c) = pvVar4;
  pvVar4 = malloc(*(int *)((int)in_EAX + 0x34) << 4);
  iVar9 = 0;
  *(void **)((int)in_EAX + 0x44) = pvVar4;
  if (0 < *(int *)((int)in_EAX + 0x34)) {
    do {
      if (iVar9 == 0) {
        **(undefined4 **)((int)in_EAX + 0x40) = *(undefined4 *)((int)in_EAX + 0x5c);
        piVar2 = *(int **)((int)in_EAX + 0x3c);
        *piVar2 = param_1;
        piVar2[1] = param_2;
        iVar5 = FUN_0044a5e0(param_1,param_2);
        if (iVar5 != 0) {
          puVar6 = *(undefined4 **)((int)in_EAX + 0x3c);
          *puVar6 = 0xffffffff;
          puVar6[1] = 0xffffffff;
        }
      }
      else {
        iVar5 = FUN_0044a5e0(*(int *)(*(int *)((int)in_EAX + 0x38) + iVar9 * 8),
                             *(int *)(*(int *)((int)in_EAX + 0x38) + 4 + iVar9 * 8));
        if (iVar5 == 0) {
          puVar6 = FUN_0044abb0(in_EAX,(undefined4 *)(iVar9 * 0x20 + *(int *)((int)in_EAX + 0x48)),
                                (int *)(iVar9 * 0x10 + *(int *)((int)in_EAX + 0x4c)),
                                (undefined4 *)(*(int *)((int)in_EAX + 0x40) + iVar9 * 4));
          iVar5 = *(int *)((int)in_EAX + 0x3c);
          if ((int)puVar6 < 0) {
            *(undefined4 *)(iVar5 + iVar9 * 8) = 0xffffffff;
            *(undefined4 *)(iVar5 + 4 + iVar9 * 8) = 0xffffffff;
          }
          else {
            *(undefined4 *)(iVar5 + iVar9 * 8) = *(undefined4 *)((int)in_EAX + 8);
            *(undefined4 *)(iVar5 + 4 + iVar9 * 8) = *(undefined4 *)((int)in_EAX + 0xc);
          }
        }
        else {
          iVar5 = *(int *)((int)in_EAX + 0x3c);
          *(undefined4 *)(iVar5 + iVar9 * 8) = 0xffffffff;
          *(undefined4 *)(iVar5 + 4 + iVar9 * 8) = 0xffffffff;
        }
      }
      if ((*(uint *)(*(int *)((int)in_EAX + 0x3c) + iVar9 * 8) &
          *(uint *)(*(int *)((int)in_EAX + 0x3c) + 4 + iVar9 * 8)) != 0xffffffff) {
        piVar2 = (int *)((int)in_EAX + 0x78);
        local_38 = 0;
        local_34 = 0;
        iVar5 = -1;
        FUN_0044d500((int)piVar2,*(undefined4 *)(*(int *)((int)in_EAX + 0x40) + iVar9 * 4));
        lVar11 = FUN_0044a640(local_30,0xffffffff,-1);
        lVar12 = 0;
        if ((-1 < lVar11) &&
           (((int)((ulonglong)lVar11 >> 0x20) != 0 && -1 < lVar11 || (lVar12 = 0, true)))) {
          while( true ) {
            bVar3 = FUN_0044cd10(local_30);
            lVar12 = CONCAT44(local_34,local_38);
            if (CONCAT31(extraout_var,bVar3) != 0) break;
            iVar7 = FUN_0044cdc0(local_30);
            if (iVar7 == *(int *)(*(int *)((int)in_EAX + 0x40) + iVar9 * 4)) {
              FUN_0044d200(piVar2,local_30);
              puVar6 = local_20;
              FUN_0044d630(piVar2,puVar6);
              while (puVar6 != NULL) {
                iVar7 = iVar5;
                if ((0 < (int)puVar6) &&
                   (iVar7 = FUN_0044e150(iVar9 * 0x20 + *(int *)((int)in_EAX + 0x48),local_20),
                   iVar5 != -1)) {
                  uVar8 = iVar7 + iVar5 >> 2;
                  bVar10 = CARRY4(local_38,uVar8);
                  local_38 += uVar8;
                  local_34 = local_34 + (iVar7 + iVar5 >> 0x1f) + (uint)bVar10;
                }
                puVar6 = local_20;
                FUN_0044d630(piVar2,puVar6);
                iVar5 = iVar7;
              }
              lVar12 = FUN_0044cd30(local_30);
              if (lVar12 != -1) {
                lVar12 = FUN_0044cd30(local_30);
                lVar12 = lVar12 - CONCAT44(local_34,local_38);
                break;
              }
            }
            lVar11 = FUN_0044a640(local_30,0xffffffff,-1);
            if (((int)((ulonglong)lVar11 >> 0x20) == 0 || lVar11 < 0) &&
               ((lVar12 = CONCAT44(local_34,local_38), lVar11 < 0 ||
                (lVar12 = CONCAT44(local_34,local_38), false)))) break;
          }
          local_34 = (int)((ulonglong)lVar12 >> 0x20);
          if ((local_34 < 1) && ((lVar12 < 0 || (false)))) {
            lVar12 = 0;
          }
        }
        local_34 = (int)((ulonglong)lVar12 >> 0x20);
        local_38 = (uint)lVar12;
        iVar5 = *(int *)((int)in_EAX + 0x44);
        *(uint *)(iVar9 * 0x10 + iVar5) = local_38;
        *(int *)(iVar9 * 0x10 + 4 + iVar5) = local_34;
      }
      iVar5 = FUN_0044a5e0(*(int *)(*(int *)((int)in_EAX + 0x38) + 8 + iVar9 * 8),
                           *(int *)(*(int *)((int)in_EAX + 0x38) + 0xc + iVar9 * 8));
      if (iVar5 == 0) {
        lVar12 = FUN_0044a6f0(local_30);
        if ((-1 < lVar12) && (((int)((ulonglong)lVar12 >> 0x20) != 0 && -1 < lVar12 || (true)))) {
          do {
            iVar5 = FUN_0044cdc0(local_30);
            if ((iVar5 == *(int *)(*(int *)((int)in_EAX + 0x40) + iVar9 * 4)) &&
               (lVar11 = FUN_0044cd30(local_30), lVar11 != -1)) {
              puVar1 = (uint *)(iVar9 * 0x10 + *(int *)((int)in_EAX + 0x44));
              uVar13 = FUN_0044cd30(local_30);
              puVar1[2] = (uint)uVar13 - *puVar1;
              puVar1[3] = ((int)((ulonglong)uVar13 >> 0x20) - puVar1[1]) -
                          (uint)((uint)uVar13 < *puVar1);
              goto LAB_0044b160;
            }
            *(longlong *)((int)in_EAX + 8) = lVar12;
            lVar12 = FUN_0044a6f0(local_30);
          } while (((int)((ulonglong)lVar12 >> 0x20) != 0 && -1 < lVar12) ||
                  ((-1 < lVar12 && (true))));
        }
        FUN_0044d790((undefined4 *)(iVar9 * 0x20 + *(int *)((int)in_EAX + 0x48)));
        FUN_0044d6c0((int *)(iVar9 * 0x10 + *(int *)((int)in_EAX + 0x4c)));
      }
      else {
        FUN_0044d790((undefined4 *)(iVar9 * 0x20 + *(int *)((int)in_EAX + 0x48)));
        FUN_0044d6c0((int *)(iVar9 * 0x10 + *(int *)((int)in_EAX + 0x4c)));
      }
LAB_0044b160:
      iVar9 += 1;
    } while (iVar9 < *(int *)((int)in_EAX + 0x34));
  }
  return;
}



undefined4 FUN_0044b180(void)

{
  int iVar1;
  int unaff_ESI;
  
  if (3 < *(int *)(unaff_ESI + 0x58)) {
    return 0;
  }
  if (*(int *)(unaff_ESI + 0x58) < 3) {
    return 0xffffff7f;
  }
  if (*(int *)(unaff_ESI + 4) == 0) {
    iVar1 = *(int *)(unaff_ESI + 0x48);
  }
  else {
    iVar1 = *(int *)(unaff_ESI + 0x60) * 0x20 + *(int *)(unaff_ESI + 0x48);
  }
  iVar1 = FUN_0044ea10(unaff_ESI + 0x1e0,iVar1);
  if (iVar1 != 0) {
    return 0xffffff77;
  }
  FUN_0044e1f0((int *)(unaff_ESI + 0x1e0),(void *)(unaff_ESI + 0x250));
  *(undefined8 *)(unaff_ESI + 0x68) = 0;
  *(undefined8 *)(unaff_ESI + 0x70) = 0;
  *(undefined4 *)(unaff_ESI + 0x58) = 4;
  return 0;
}



void FUN_0044b1f0(void)

{
  int unaff_ESI;
  
  FUN_0044e750((void *)(unaff_ESI + 0x1e0));
  FUN_0044e350((void *)(unaff_ESI + 0x250));
  *(undefined4 *)(unaff_ESI + 0x58) = 2;
  return;
}



undefined4 * __cdecl FUN_0044b220(undefined4 *param_1,int param_2,int param_3)

{
  byte bVar1;
  void *in_EAX;
  int iVar2;
  undefined3 extraout_var;
  undefined4 *puVar3;
  uint uVar4;
  uint *puVar5;
  int iVar6;
  int *piVar7;
  int iVar8;
  uint uVar9;
  bool bVar10;
  longlong lVar11;
  int local_54;
  int local_50;
  uint local_48;
  uint local_44;
  uint local_40;
  int local_3c;
  int local_38;
  int local_34;
  undefined4 local_28 [9];
  
  do {
    if (*(int *)((int)in_EAX + 0x58) == 4) {
      while( true ) {
        puVar3 = param_1;
        if (param_1 == NULL) {
          puVar3 = local_28;
        }
        iVar2 = (int)in_EAX + 0x78;
        FUN_0044d630(iVar2,puVar3);
        param_1 = NULL;
        if (iVar2 == -1) {
          return (undefined4 *)0xfffffffd;
        }
        if (iVar2 < 1) break;
        local_48 = puVar3[4];
        local_44 = puVar3[5];
        iVar2 = FUN_0044df30((int *)((int)in_EAX + 0x250),puVar3);
        if (iVar2 == 0) {
          iVar2 = FUN_0044f440((int)in_EAX + 0x1e0,NULL);
          if (iVar2 != 0) {
            return (undefined4 *)0xffffff7f;
          }
          FUN_0044ea40((int)in_EAX + 0x1e0,(int *)((int)in_EAX + 0x250));
          iVar2 = FUN_0044f440((int)in_EAX + 0x1e0,NULL);
          *(double *)((int)in_EAX + 0x70) = (double)iVar2 + *(double *)((int)in_EAX + 0x70);
          *(double *)((int)in_EAX + 0x68) =
               (double)(puVar3[1] * 8) + *(double *)((int)in_EAX + 0x68);
          if (((local_48 & local_44) != 0xffffffff) && (puVar3[3] == 0)) {
            if (*(int *)((int)in_EAX + 4) == 0) {
              local_54 = 0;
            }
            else {
              local_54 = *(int *)((int)in_EAX + 0x60);
              if (0 < local_54) {
                uVar4 = *(uint *)(local_54 * 0x10 + *(int *)((int)in_EAX + 0x44));
                bVar10 = local_48 < uVar4;
                local_48 -= uVar4;
                local_44 = (local_44 - *(int *)(local_54 * 0x10 + 4 + *(int *)((int)in_EAX + 0x44)))
                           - (uint)bVar10;
              }
            }
            if (((int)local_44 < 1) && (((int)local_44 < 0 || (false)))) {
              local_48 = 0;
              local_44 = 0;
            }
            local_40 = 0;
            local_3c = 0;
            uVar9 = 0;
            iVar8 = 0;
            uVar4 = FUN_0044f440((int)in_EAX + 0x1e0,NULL);
            bVar10 = local_48 < uVar4;
            local_48 -= uVar4;
            local_44 = (local_44 - ((int)uVar4 >> 0x1f)) - (uint)bVar10;
            iVar2 = 0;
            if (1 < local_54) {
              puVar5 = (uint *)(*(int *)((int)in_EAX + 0x44) + 0x18);
              local_50 = (local_54 - 2U >> 1) + 1;
              iVar2 = local_50 * 2;
              do {
                bVar10 = CARRY4(local_40,puVar5[-4]);
                local_40 += puVar5[-4];
                local_3c = local_3c + puVar5[-3] + (uint)bVar10;
                bVar10 = CARRY4(uVar9,*puVar5);
                uVar9 += *puVar5;
                iVar8 = iVar8 + puVar5[1] + (uint)bVar10;
                puVar5 = puVar5 + 8;
                local_50 += -1;
              } while (local_50 != 0);
            }
            if (iVar2 < local_54) {
              uVar4 = *(uint *)(iVar2 * 0x10 + 8 + *(int *)((int)in_EAX + 0x44));
              bVar10 = CARRY4(local_48,uVar4);
              local_48 += uVar4;
              local_44 = local_44 + *(int *)(iVar2 * 0x10 + 0xc + *(int *)((int)in_EAX + 0x44)) +
                         (uint)bVar10;
            }
            *(uint *)((int)in_EAX + 0x50) = uVar9 + local_40 + local_48;
            *(uint *)((int)in_EAX + 0x54) =
                 iVar8 + local_3c + (uint)CARRY4(uVar9,local_40) + local_44 +
                 (uint)CARRY4(uVar9 + local_40,local_48);
          }
          return (undefined4 *)0x1;
        }
      }
    }
    if (1 < *(int *)((int)in_EAX + 0x58)) {
      do {
        if (param_2 == 0) {
          return NULL;
        }
        lVar11 = FUN_0044a640(&local_38,0xffffffff,-1);
        if (lVar11 < 0) {
          return (undefined4 *)0xfffffffe;
        }
        if (((int)((ulonglong)lVar11 >> 0x20) == 0 || lVar11 < 0) && (false)) {
          return (undefined4 *)0xfffffffe;
        }
        *(double *)((int)in_EAX + 0x68) = (double)(local_34 * 8) + *(double *)((int)in_EAX + 0x68);
        if (*(int *)((int)in_EAX + 0x58) != 4) goto LAB_0044b344;
        iVar2 = FUN_0044cdc0(&local_38);
        if (*(int *)((int)in_EAX + 0x5c) == iVar2) goto LAB_0044b33b;
        bVar1 = FUN_0044cd10(&local_38);
      } while (CONCAT31(extraout_var,bVar1) == 0);
      if (param_3 == 0) {
        return (undefined4 *)0xfffffffe;
      }
      FUN_0044b1f0();
      if (*(int *)((int)in_EAX + 4) == 0) {
        FUN_0044d790(*(undefined4 **)((int)in_EAX + 0x48));
        FUN_0044d6c0(*(int **)((int)in_EAX + 0x4c));
      }
    }
LAB_0044b33b:
    if (*(int *)((int)in_EAX + 0x58) == 4) goto LAB_0044b3d1;
LAB_0044b344:
    if (2 < *(int *)((int)in_EAX + 0x58)) goto LAB_0044b3c4;
    if (*(int *)((int)in_EAX + 4) == 0) {
      puVar3 = FUN_0044abb0(in_EAX,*(undefined4 **)((int)in_EAX + 0x48),
                            *(int **)((int)in_EAX + 0x4c),(undefined4 *)((int)in_EAX + 0x5c));
      if (puVar3 != NULL) {
        return puVar3;
      }
      *(int *)((int)in_EAX + 0x60) = *(int *)((int)in_EAX + 0x60) + 1;
      goto LAB_0044b3c4;
    }
    iVar8 = FUN_0044cdc0(&local_38);
    iVar2 = *(int *)((int)in_EAX + 0x34);
    iVar6 = 0;
    if (0 < iVar2) {
      piVar7 = *(int **)((int)in_EAX + 0x40);
      do {
        if (*piVar7 == iVar8) break;
        iVar6 += 1;
        piVar7 = piVar7 + 1;
      } while (iVar6 < iVar2);
    }
    if (iVar6 != iVar2) {
      *(int *)((int)in_EAX + 0x60) = iVar6;
      *(int *)((int)in_EAX + 0x5c) = iVar8;
      FUN_0044d500((int)in_EAX + 0x78,iVar8);
      *(undefined4 *)((int)in_EAX + 0x58) = 3;
LAB_0044b3c4:
      puVar3 = (undefined4 *)FUN_0044b180();
      if ((int)puVar3 < 0) {
        return puVar3;
      }
LAB_0044b3d1:
      FUN_0044d200((int *)((int)in_EAX + 0x78),&local_38);
    }
  } while( true );
}



undefined4 __cdecl FUN_0044b590(int *param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  
  if (param_1 != NULL) {
    FUN_0044e350(param_1 + 0x94);
    FUN_0044e750(param_1 + 0x78);
    FUN_0044ce90(param_1 + 0x1e);
    if ((param_1[0x12] != 0) && (param_1[0xd] != 0)) {
      iVar2 = 0;
      if (0 < param_1[0xd]) {
        iVar1 = 0;
        iVar3 = 0;
        do {
          FUN_0044d790((undefined4 *)(param_1[0x12] + iVar3));
          FUN_0044d6c0((int *)(param_1[0x13] + iVar1));
          iVar2 += 1;
          iVar3 += 0x20;
          iVar1 += 0x10;
        } while (iVar2 < param_1[0xd]);
      }
      free((void *)param_1[0x12]);
      free((void *)param_1[0x13]);
    }
    if ((void *)param_1[0xf] != NULL) {
      free((void *)param_1[0xf]);
    }
    if ((void *)param_1[0x11] != NULL) {
      free((void *)param_1[0x11]);
    }
    if ((void *)param_1[0x10] != NULL) {
      free((void *)param_1[0x10]);
    }
    if ((void *)param_1[0xe] != NULL) {
      free((void *)param_1[0xe]);
    }
    FUN_0044d010(param_1 + 6);
    if ((*param_1 != 0) && ((code *)param_1[0xb2] != NULL)) {
      (*(code *)param_1[0xb2])(*param_1);
    }
    memset(param_1,0,0x2d0);
  }
  return 0;
}



longlong __cdecl FUN_0044b6a0(int param_1,int param_2)

{
  longlong lVar1;
  int iVar2;
  longlong lVar3;
  
  if (((1 < *(int *)(param_1 + 0x58)) && (*(int *)(param_1 + 4) != 0)) &&
     (param_2 < *(int *)(param_1 + 0x34))) {
    if (-1 < param_2) {
      return CONCAT44(*(undefined4 *)(*(int *)(param_1 + 0x44) + 0xc + param_2 * 0x10),
                      *(undefined4 *)(*(int *)(param_1 + 0x44) + 8 + param_2 * 0x10));
    }
    lVar1 = 0;
    lVar3 = 0;
    iVar2 = 0;
    if (0 < *(int *)(param_1 + 0x34)) {
      do {
        lVar3 = FUN_0044b6a0(param_1,iVar2);
        lVar3 += lVar1;
        iVar2 += 1;
        lVar1 = lVar3;
      } while (iVar2 < *(int *)(param_1 + 0x34));
    }
    return lVar3;
  }
  return -0x83;
}



float10 __cdecl FUN_0044b710(int param_1,int param_2)

{
  int iVar1;
  float10 fVar2;
  double local_10;
  
  if (((*(int *)(param_1 + 0x58) < 2) || (*(int *)(param_1 + 4) == 0)) ||
     (*(int *)(param_1 + 0x34) <= param_2)) {
    return (float10)-131.0;
  }
  if (-1 < param_2) {
    return (float10)*(longlong *)(*(int *)(param_1 + 0x44) + 8 + param_2 * 0x10) /
           (float10)*(int *)(*(int *)(param_1 + 0x48) + 8 + param_2 * 0x20);
  }
  fVar2 = (float10)0;
  iVar1 = 0;
  if (*(int *)(param_1 + 0x34) < 1) {
    return fVar2;
  }
  do {
    local_10 = (double)fVar2;
    fVar2 = FUN_0044b710(param_1,iVar1);
    fVar2 = fVar2 + (float10)local_10;
    iVar1 += 1;
  } while (iVar1 < *(int *)(param_1 + 0x34));
  return fVar2;
}



void __cdecl FUN_0044b790(int param_1,uint param_2,int param_3)

{
  byte bVar1;
  int iVar2;
  int iVar3;
  undefined3 extraout_var;
  undefined3 extraout_var_00;
  uint *puVar4;
  undefined4 uVar5;
  int *piVar6;
  uint uVar7;
  uint uVar8;
  int iVar9;
  int iVar10;
  bool bVar11;
  longlong lVar12;
  int local_1b4;
  uint local_1b0;
  int local_1ac;
  uint local_1a8;
  int local_1a4;
  uint local_1a0;
  int local_19c [4];
  undefined4 local_18c [4];
  uint local_17c;
  uint local_178;
  int local_16c [90];
  uint local_4;
  
  local_4 = (uint)PTR_DAT_0047a940 ^ (uint)&local_1b4;
  if (*(int *)(param_1 + 0x58) < 2) {
    __security_check_cookie(local_4 ^ (uint)&local_1b4);
    return;
  }
  if (*(int *)(param_1 + 4) == 0) {
    __security_check_cookie(local_4 ^ (uint)&local_1b4);
    return;
  }
  if ((param_3 < 0) ||
     ((((param_3 < 1 && (false)) || (*(int *)(param_1 + 0x14) < param_3)) ||
      ((*(int *)(param_1 + 0x14) <= param_3 && (*(uint *)(param_1 + 0x10) < param_2)))))) {
    __security_check_cookie(local_4 ^ (uint)&local_1b4);
    return;
  }
  *(undefined4 *)(param_1 + 0x50) = 0xffffffff;
  *(undefined4 *)(param_1 + 0x54) = 0xffffffff;
  FUN_0044d500(param_1 + 0x78,*(undefined4 *)(param_1 + 0x5c));
  FUN_0044e9a0(param_1 + 0x1e0);
  iVar2 = FUN_0044a5e0(param_2,param_3);
  if (iVar2 == 0) {
    iVar9 = 0;
    local_1a0 = 0;
    local_1b4 = 0;
    FUN_0044ce20(local_16c,*(undefined4 *)(param_1 + 0x5c));
    iVar2 = FUN_0044d4b0((int)local_16c);
LAB_0044b8b2:
    do {
      if ((*(int *)(param_1 + 0x58) < 3) || (FUN_0044d630(local_16c,local_18c), iVar2 < 1)) {
LAB_0044b960:
        if (iVar9 == 0) {
          lVar12 = FUN_0044a640(local_19c,0xffffffff,-1);
          if ((-1 < lVar12) && (((int)((ulonglong)lVar12 >> 0x20) != 0 && -1 < lVar12 || (true)))) {
            if (*(int *)(param_1 + 0x58) < 3) {
LAB_0044b9ca:
              iVar10 = FUN_0044cdc0(local_19c);
              iVar3 = *(int *)(param_1 + 0x34);
              iVar2 = 0;
              if (0 < iVar3) {
                piVar6 = *(int **)(param_1 + 0x40);
                do {
                  if (*piVar6 == iVar10) break;
                  iVar2 += 1;
                  piVar6 = piVar6 + 1;
                } while (iVar2 < iVar3);
              }
              if (iVar2 == iVar3) goto LAB_0044b8b2;
              *(int *)(param_1 + 0x60) = iVar2;
              *(int *)(param_1 + 0x5c) = iVar10;
              FUN_0044d500(param_1 + 0x78,iVar10);
              FUN_0044d500((int)local_16c,iVar10);
              *(undefined4 *)(param_1 + 0x58) = 3;
            }
            else {
              iVar2 = FUN_0044cdc0(local_19c);
              if ((*(int *)(param_1 + 0x5c) != iVar2) &&
                 (bVar1 = FUN_0044cd10(local_19c), CONCAT31(extraout_var,bVar1) != 0)) {
                FUN_0044b1f0();
                FUN_0044ce90(local_16c);
              }
              if (*(int *)(param_1 + 0x58) < 3) goto LAB_0044b9ca;
            }
            FUN_0044d200((int *)(param_1 + 0x78),local_19c);
            FUN_0044d200(local_16c,local_19c);
            bVar1 = FUN_0044cd20(local_19c);
            iVar2 = CONCAT31(extraout_var_00,bVar1);
            local_1b4 = iVar2;
            goto LAB_0044b8b2;
          }
          lVar12 = FUN_0044b6a0(param_1,-1);
          uVar5 = (undefined4)lVar12;
          *(int *)(param_1 + 0x54) = (int)((ulonglong)lVar12 >> 0x20);
        }
        else {
          uVar5 = 0xffffffff;
          *(undefined4 *)(param_1 + 0x54) = 0xffffffff;
        }
        *(undefined4 *)(param_1 + 0x50) = uVar5;
        goto LAB_0044bb19;
      }
      iVar2 = *(int *)(param_1 + 0x60) * 0x20 + *(int *)(param_1 + 0x48);
      if (*(int *)(iVar2 + 0x1c) == 0) {
        FUN_0044d630(param_1 + 0x78,0);
        goto LAB_0044b960;
      }
      iVar3 = FUN_0044e150(iVar2,local_18c);
      if (iVar3 < 0) {
        iVar2 = param_1 + 0x78;
        FUN_0044d630(iVar2,0);
        iVar3 = 0;
      }
      else if (local_1b4 == 0) {
        iVar2 = iVar3;
        if (iVar9 != 0) {
          iVar2 = iVar9 + iVar3 >> 2;
          local_1a0 += iVar2;
        }
      }
      else {
        iVar2 = param_1 + 0x78;
        FUN_0044d630(iVar2,0);
      }
      iVar9 = iVar3;
    } while ((local_17c & local_178) == 0xffffffff);
    iVar2 = *(int *)(param_1 + 0x60);
    iVar9 = *(int *)(param_1 + 0x44);
    puVar4 = (uint *)(iVar2 * 0x10 + iVar9);
    local_1b0 = local_17c - *puVar4;
    local_1ac = (local_178 - *(int *)(iVar2 * 0x10 + 4 + iVar9)) - (uint)(local_17c < *puVar4);
    uVar7 = 0;
    if ((local_1ac < 1) && ((local_1ac < 0 || (false)))) {
      local_1b0 = 0;
      local_1ac = 0;
    }
    iVar10 = 0;
    iVar3 = 0;
    local_1a8 = 0;
    local_1a4 = 0;
    if (1 < iVar2) {
      iVar2 = (iVar2 - 2U >> 1) + 1;
      iVar3 = iVar2 * 2;
      puVar4 = (uint *)(iVar9 + 0x18);
      do {
        bVar11 = CARRY4(local_1a8,puVar4[-4]);
        local_1a8 += puVar4[-4];
        local_1a4 = local_1a4 + puVar4[-3] + (uint)bVar11;
        bVar11 = CARRY4(uVar7,*puVar4);
        uVar7 += *puVar4;
        iVar10 = iVar10 + puVar4[1] + (uint)bVar11;
        puVar4 = puVar4 + 8;
        iVar2 += -1;
        local_1b4 = iVar3;
      } while (iVar2 != 0);
    }
    iVar2 = local_1ac;
    if (iVar3 < *(int *)(param_1 + 0x60)) {
      uVar8 = *(uint *)(iVar3 * 0x10 + 8 + iVar9);
      bVar11 = CARRY4(local_1b0,uVar8);
      local_1b0 += uVar8;
      iVar2 = local_1ac + *(int *)(iVar3 * 0x10 + 0xc + iVar9) + (uint)bVar11;
    }
    uVar8 = (uVar7 - local_1a0) + local_1a8;
    *(uint *)(param_1 + 0x50) = uVar8 + local_1b0;
    *(uint *)(param_1 + 0x54) =
         ((iVar10 - ((int)local_1a0 >> 0x1f)) - (uint)(uVar7 < local_1a0)) + local_1a4 +
         (uint)CARRY4(uVar7 - local_1a0,local_1a8) + iVar2 + (uint)CARRY4(uVar8,local_1b0);
LAB_0044bb19:
    FUN_0044ce90(local_16c);
    *(undefined8 *)(param_1 + 0x68) = 0;
    *(undefined8 *)(param_1 + 0x70) = 0;
  }
  else {
    *(undefined4 *)(param_1 + 0x50) = 0xffffffff;
    *(undefined4 *)(param_1 + 0x54) = 0xffffffff;
    FUN_0044ce90(local_16c);
    FUN_0044b1f0();
  }
  __security_check_cookie(local_4 ^ (uint)&local_1b4);
  return;
}



int __cdecl FUN_0044bb60(int param_1,uint param_2,int param_3)

{
  int *piVar1;
  int iVar2;
  longlong lVar3;
  longlong lVar4;
  longlong lVar5;
  longlong lVar6;
  byte bVar7;
  uint uVar8;
  int iVar9;
  uint uVar10;
  undefined3 extraout_var;
  uint *puVar11;
  int iVar12;
  uint uVar13;
  int iVar14;
  int iVar15;
  uint uVar16;
  uint uVar17;
  bool bVar18;
  longlong lVar19;
  longlong lVar20;
  longlong lVar21;
  ulonglong uVar22;
  uint local_84;
  uint local_80;
  uint local_7c;
  int local_78;
  undefined8 local_74;
  uint local_60;
  int local_5c;
  int local_58;
  int local_54;
  undefined8 local_48;
  uint local_40;
  uint local_3c;
  int local_30 [4];
  undefined1 local_20 [16];
  uint local_10;
  uint local_c;
  
  local_74 = FUN_0044b6a0(param_1,-1);
  if (*(int *)(param_1 + 0x58) < 2) {
    return -0x83;
  }
  if (*(int *)(param_1 + 4) == 0) {
    return -0x8a;
  }
  if ((param_3 < 0) ||
     ((((param_3 < 1 && (false)) || (local_74 < CONCAT44(param_3,param_2))) ||
      ((false && ((uint)local_74 < param_2)))))) {
    return -0x83;
  }
  iVar14 = *(int *)(param_1 + 0x34) + -1;
  if (-1 < iVar14) {
    puVar11 = (uint *)(iVar14 * 0x10 + 8 + *(int *)(param_1 + 0x44));
    do {
      uVar8 = (uint)local_74 - *puVar11;
      iVar12 = ((int)((ulonglong)local_74 >> 0x20) - puVar11[1]) - (uint)((uint)local_74 < *puVar11)
      ;
      local_74 -= *(longlong *)puVar11;
      if ((iVar12 < param_3) || ((iVar12 <= param_3 && (uVar8 <= param_2)))) break;
      iVar14 += -1;
      puVar11 = puVar11 + -4;
    } while (-1 < iVar14);
    local_74 = CONCAT44(iVar12,uVar8);
  }
  uVar8 = *(uint *)(*(int *)(param_1 + 0x38) + 8 + iVar14 * 8);
  puVar11 = (uint *)(*(int *)(param_1 + 0x38) + iVar14 * 8);
  uVar17 = puVar11[3];
  iVar15 = iVar14 * 0x10;
  iVar12 = *(int *)(param_1 + 0x44);
  uVar10 = *(uint *)(iVar15 + iVar12);
  uVar13 = *(uint *)(iVar15 + 8 + iVar12);
  iVar2 = *(int *)(iVar15 + iVar12 + 4);
  uVar16 = (uVar10 - (uint)local_74) + param_2;
  local_84 = *puVar11;
  local_80 = puVar11[1];
  iVar9 = ((iVar2 - local_74._4_4_) - (uint)(uVar10 < (uint)local_74)) + param_3 +
          (uint)CARRY4(uVar10 - (uint)local_74,param_2);
  local_48 = CONCAT44(*(int *)(iVar15 + iVar12 + 0xc) + iVar2 + (uint)CARRY4(uVar13,uVar10),
                      uVar13 + uVar10);
  lVar21 = *(longlong *)puVar11;
  if (((int)local_80 <= (int)uVar17) &&
     ((lVar3 = CONCAT44(iVar2,uVar10), lVar4 = CONCAT44(uVar17,uVar8), lVar19 = *(longlong *)puVar11
      , (int)local_80 < (int)uVar17 ||
      (lVar3 = CONCAT44(iVar2,uVar10), lVar21 = *(longlong *)puVar11, lVar4 = CONCAT44(uVar17,uVar8)
      , lVar19 = *(longlong *)puVar11, local_84 < uVar8)))) {
    do {
      lVar21 = lVar19;
      local_5c = (int)((ulonglong)lVar3 >> 0x20);
      local_60 = (uint)lVar3;
      lVar19 = lVar4 - CONCAT44(local_80,local_84);
      if ((0xffff < lVar19) ||
         ((uVar8 = local_84, uVar17 = local_80, false && (0xffff < (uint)lVar19)))) {
        lVar19 = __allmul(uVar16 - local_60,(iVar9 - local_5c) - (uint)(uVar16 < local_60),
                          (uint)lVar19,(int)((ulonglong)lVar19 >> 0x20));
        lVar19 = __alldiv((uint)lVar19,(uint)((ulonglong)lVar19 >> 0x20),(uint)local_48 - local_60,
                          (local_48._4_4_ - local_5c) - (uint)((uint)local_48 < local_60));
        lVar19 += CONCAT44(local_80,local_84);
        uVar17 = (uint)lVar19;
        uVar8 = uVar17 - 0x10000;
        uVar17 = (int)((ulonglong)lVar19 >> 0x20) - (uint)(uVar17 < 0x10000);
        if (((int)uVar17 <= (int)local_80) && (((int)uVar17 < (int)local_80 || (uVar8 <= local_84)))
           ) {
          uVar8 = local_84 + 1;
          uVar17 = local_80 + (0xfffffffe < local_84);
        }
      }
      iVar12 = FUN_0044a5e0(uVar8,uVar17);
      if (iVar12 != 0) goto LAB_0044c197;
LAB_0044bd50:
      lVar5 = CONCAT44(uVar17,uVar8);
      local_78 = (int)((ulonglong)lVar4 >> 0x20);
      local_7c = (uint)lVar4;
      lVar19 = FUN_0044a640(local_30,local_7c - *(uint *)(param_1 + 8),
                            (local_78 - *(int *)(param_1 + 0xc)) -
                            (uint)(local_7c < *(uint *)(param_1 + 8)));
      iVar12 = (int)lVar19;
      if ((lVar19 == -0x80) && (true)) goto LAB_0044c197;
      if ((lVar19 < 0x100000000) && ((lVar19 < 0 || (false)))) {
        uVar10 = local_80 + (0xfffffffe < local_84);
        if (((int)uVar17 < (int)uVar10) || (((int)uVar17 <= (int)uVar10 && (uVar8 <= local_84 + 1)))
           ) break;
        if (uVar8 == 0 && uVar17 == 0) goto LAB_0044c197;
        uVar13 = uVar8 - 0x10000;
        uVar17 = (uVar17 - 1) + (uint)(0xffff < uVar8);
        uVar8 = uVar13;
        lVar19 = lVar4;
        if (((int)uVar17 <= (int)local_80) &&
           (((int)uVar17 < (int)local_80 || (uVar13 <= local_84)))) {
          uVar8 = local_84 + 1;
          uVar17 = uVar10;
        }
LAB_0044bed6:
        iVar12 = FUN_0044a5e0(uVar8,uVar17);
        lVar4 = lVar19;
        if (iVar12 != 0) goto LAB_0044c197;
LAB_0044beed:
        local_7c = (uint)lVar4;
        if ((lVar4 <= CONCAT44(local_80,local_84)) || ((false && (local_7c <= local_84)))) break;
        goto LAB_0044bd50;
      }
      iVar12 = FUN_0044cdc0(local_30);
      if (iVar12 != *(int *)(*(int *)(param_1 + 0x40) + iVar14 * 4)) goto LAB_0044beed;
      lVar20 = FUN_0044cd30(local_30);
      uVar10 = (uint)lVar20;
      if (lVar20 == -1) goto LAB_0044beed;
      if ((lVar20 < CONCAT44(iVar9,uVar16)) && ((true || (uVar10 < uVar16)))) {
        uVar8 = *(uint *)(param_1 + 8);
        uVar17 = *(uint *)(param_1 + 0xc);
        uVar13 = iVar9 - (int)((ulonglong)lVar20 >> 0x20);
        bVar18 = -1 < (int)(uVar13 - (uVar16 < uVar10));
        local_84 = uVar8;
        local_80 = uVar17;
        lVar6 = local_48;
        lVar3 = lVar20;
        lVar5 = lVar4;
        lVar21 = lVar19;
        if ((uVar13 != uVar16 < uVar10 && bVar18) || ((bVar18 && (0xac44 < uVar16 - uVar10))))
        goto LAB_0044bf1c;
        goto LAB_0044beed;
      }
      local_40 = local_84 + 1;
      local_3c = local_80 + (0xfffffffe < local_84);
      if (((int)uVar17 < (int)local_3c) || (((int)uVar17 <= (int)local_3c && (uVar8 <= local_40))))
      break;
      lVar6 = lVar20;
      if ((local_7c == *(uint *)(param_1 + 8)) && (local_78 == *(int *)(param_1 + 0xc))) {
        uVar10 = uVar8 - 0x10000;
        uVar17 = (uVar17 - 1) + (uint)(0xffff < uVar8);
        uVar8 = uVar10;
        if (((int)uVar17 <= (int)local_80) &&
           (((int)uVar17 < (int)local_80 || (uVar10 <= local_84)))) {
          uVar8 = local_40;
          uVar17 = local_3c;
        }
        goto LAB_0044bed6;
      }
LAB_0044bf1c:
      local_48 = lVar6;
      local_7c = (uint)lVar5;
      lVar4 = lVar5;
      lVar19 = lVar21;
    } while ((CONCAT44(local_80,local_84) < lVar5) || ((false && (local_84 < local_7c))));
  }
  local_54 = (int)((ulonglong)lVar21 >> 0x20);
  local_58 = (int)lVar21;
  iVar12 = FUN_0044a5e0(local_58,local_54);
  *(undefined4 *)(param_1 + 0x50) = 0xffffffff;
  *(undefined4 *)(param_1 + 0x54) = 0xffffffff;
  if (iVar12 == 0) {
    lVar21 = FUN_0044a640((int *)&local_40,0xffffffff,-1);
    iVar12 = (int)lVar21;
    if ((-1 < lVar21) && (((int)((ulonglong)lVar21 >> 0x20) != 0 && -1 < lVar21 || (true)))) {
      if (iVar14 == *(int *)(param_1 + 0x60)) {
        FUN_0044e9a0(param_1 + 0x1e0);
      }
      else {
        FUN_0044b1f0();
        *(int *)(param_1 + 0x60) = iVar14;
        *(undefined4 *)(param_1 + 0x5c) = *(undefined4 *)(*(int *)(param_1 + 0x40) + iVar14 * 4);
        *(undefined4 *)(param_1 + 0x58) = 3;
      }
      piVar1 = (int *)(param_1 + 0x78);
      FUN_0044d500((int)piVar1,*(undefined4 *)(param_1 + 0x5c));
      uVar8 = FUN_0044d200(piVar1,(int *)&local_40);
      FUN_0044d650(piVar1,local_20);
      while (uVar8 != 0) {
        bVar18 = (int)uVar8 >> 0x1f < 0;
        if ((bVar18) || ((-1 < (int)uVar8 || bVar18 && (false)))) {
          iVar12 = -0x88;
          goto LAB_0044c197;
        }
        uVar8 = local_10 & local_c;
        if (uVar8 != 0xffffffff) {
          iVar14 = *(int *)(param_1 + 0x60) * 0x10;
          puVar11 = (uint *)(iVar14 + *(int *)(param_1 + 0x44));
          iVar14 = (local_c - *(int *)(iVar14 + 4 + *(int *)(param_1 + 0x44))) -
                   (uint)(local_10 < *puVar11);
          *(uint *)(param_1 + 0x50) = local_10 - *puVar11;
          *(int *)(param_1 + 0x54) = iVar14;
          if ((iVar14 < 1) && ((iVar14 < 0 || (false)))) {
            *(undefined4 *)(param_1 + 0x50) = 0;
            *(undefined4 *)(param_1 + 0x54) = 0;
          }
          puVar11 = (uint *)(param_1 + 0x50);
          uVar8 = *puVar11;
          *puVar11 = *puVar11 + (uint)local_74;
          *(int *)(param_1 + 0x54) =
               *(int *)(param_1 + 0x54) + local_74._4_4_ + (uint)CARRY4(uVar8,(uint)local_74);
          if ((*(int *)(param_1 + 0x54) <= param_3) &&
             ((*(int *)(param_1 + 0x54) < param_3 || (*(uint *)(param_1 + 0x50) <= param_2)))) {
            lVar21 = FUN_0044b6a0(param_1,-1);
            if ((CONCAT44(param_3,param_2) <= lVar21) && ((true || (param_2 <= (uint)lVar21)))) {
              *(undefined8 *)(param_1 + 0x68) = 0;
              *(undefined8 *)(param_1 + 0x70) = 0;
              return 0;
            }
          }
          iVar12 = -0x81;
          goto LAB_0044c197;
        }
        FUN_0044d630(piVar1,0);
        FUN_0044d650(piVar1,local_20);
      }
      iVar12 = FUN_0044a5e0(local_58,local_54);
      bVar18 = -1 < iVar12 >> 0x1f;
      if ((bVar18) && ((iVar12 < 0 && bVar18 || (true)))) {
        lVar21 = FUN_0044a6f0((int *)&local_40);
        iVar12 = (int)lVar21;
        if ((-1 < lVar21) && (((int)((ulonglong)lVar21 >> 0x20) != 0 && -1 < lVar21 || (true)))) {
          do {
            iVar14 = FUN_0044cdc0((int *)&local_40);
            if (iVar14 == *(int *)(param_1 + 0x5c)) {
              uVar22 = FUN_0044cd30((int *)&local_40);
              iVar14 = (int)uVar22;
              if ((uVar22 < 0x8000000000000000) || ((-0x100000001 < (longlong)uVar22 && (false)))) {
LAB_0044c0eb:
                FUN_0044b790(param_1,(uint)lVar21,(int)((ulonglong)lVar21 >> 0x20));
                return iVar14;
              }
              bVar7 = FUN_0044cd00((int *)&local_40);
              iVar14 = CONCAT31(extraout_var,bVar7);
              if (iVar14 == 0) goto LAB_0044c0eb;
            }
            *(longlong *)(param_1 + 8) = lVar21;
            lVar21 = FUN_0044a6f0((int *)&local_40);
            iVar12 = (int)lVar21;
          } while (((int)((ulonglong)lVar21 >> 0x20) != 0 && -1 < lVar21) ||
                  ((-1 < lVar21 && (true))));
        }
      }
    }
  }
LAB_0044c197:
  *(undefined4 *)(param_1 + 0x50) = 0xffffffff;
  *(undefined4 *)(param_1 + 0x54) = 0xffffffff;
  FUN_0044b1f0();
  return iVar12;
}



int __cdecl FUN_0044c1c0(int param_1,uint param_2,int param_3)

{
  uint uVar1;
  byte bVar2;
  int iVar3;
  uint *puVar4;
  uint uVar5;
  int iVar6;
  uint uVar7;
  uint *puVar8;
  undefined3 extraout_var;
  undefined4 uVar9;
  undefined4 *puVar10;
  int iVar11;
  int *piVar12;
  uint *puVar13;
  longlong lVar14;
  int local_30 [4];
  undefined4 local_20 [4];
  uint local_10;
  uint local_c;
  
  iVar3 = FUN_0044bb60(param_1,param_2,param_3);
  if ((-1 < iVar3) && (iVar3 = FUN_0044b180(), iVar3 == 0)) {
    puVar8 = NULL;
    puVar13 = NULL;
LAB_0044c1f5:
    while( true ) {
      iVar3 = param_1 + 0x78;
      FUN_0044d650(iVar3,local_20);
      if ((int)puVar8 < 1) break;
      puVar4 = (uint *)FUN_0044e150(*(int *)(param_1 + 0x60) * 0x20 + *(int *)(param_1 + 0x48),
                                    local_20);
      if ((int)puVar4 < 0) {
        FUN_0044d630(iVar3,0);
        puVar8 = puVar4;
      }
      else {
        if (puVar13 != NULL) {
          uVar5 = (int)puVar4 + (int)puVar13 >> 2;
          puVar8 = (uint *)(param_1 + 0x50);
          uVar7 = *puVar8;
          *puVar8 = *puVar8 + uVar5;
          *(int *)(param_1 + 0x54) =
               *(int *)(param_1 + 0x54) + ((int)puVar4 + (int)puVar13 >> 0x1f) +
               (uint)CARRY4(uVar7,uVar5);
        }
        iVar6 = FUN_0044d730(*(int *)(param_1 + 0x48),1);
        uVar7 = iVar6 + (int)puVar4 >> 2;
        iVar6 = (iVar6 + (int)puVar4 >> 0x1f) + *(int *)(param_1 + 0x54) +
                (uint)CARRY4(uVar7,*(uint *)(param_1 + 0x50));
        if ((param_3 < iVar6) ||
           ((param_3 <= iVar6 && (param_2 <= uVar7 + *(uint *)(param_1 + 0x50)))))
        goto LAB_0044c3c1;
        FUN_0044d630(iVar3,0);
        FUN_0044e080((int *)(param_1 + 0x250),local_20);
        puVar8 = (uint *)FUN_0044ea40(param_1 + 0x1e0,(int *)(param_1 + 0x250));
        puVar13 = puVar4;
        if ((-2 < (int)local_c) && ((local_c < 0x80000000 || (false)))) {
          iVar3 = *(int *)(param_1 + 0x60);
          iVar6 = *(int *)(param_1 + 0x44);
          puVar8 = (uint *)(iVar3 * 0x10);
          uVar7 = *(uint *)((int)puVar8 + iVar6);
          iVar11 = *(int *)((int)puVar8 + iVar6 + 4);
          *(uint *)(param_1 + 0x50) = local_10 - *(uint *)((int)puVar8 + iVar6);
          *(uint *)(param_1 + 0x54) = (local_c - iVar11) - (uint)(local_10 < uVar7);
          iVar11 = 0;
          if ((*(int *)(param_1 + 0x54) < 1) && ((*(int *)(param_1 + 0x54) < 0 || (false)))) {
            *(undefined4 *)(param_1 + 0x50) = 0;
            *(undefined4 *)(param_1 + 0x54) = 0;
          }
          if (0 < iVar3) {
            puVar8 = (uint *)(iVar6 + 8);
            do {
              uVar5 = *puVar8;
              puVar4 = (uint *)(param_1 + 0x50);
              uVar7 = *puVar4;
              *puVar4 = *puVar4 + uVar5;
              *(int *)(param_1 + 0x54) =
                   *(int *)(param_1 + 0x54) + puVar8[1] + (uint)CARRY4(uVar7,uVar5);
              iVar11 += 1;
              puVar8 = puVar8 + 4;
            } while (iVar11 < iVar3);
          }
        }
      }
    }
    if ((-1 < (int)puVar8) || (puVar8 == (uint *)0xfffffffd)) {
      lVar14 = FUN_0044a640(local_30,0xffffffff,-1);
      if ((-1 < lVar14) && (((int)((ulonglong)lVar14 >> 0x20) != 0 && -1 < lVar14 || (true)))) {
        bVar2 = FUN_0044cd10(local_30);
        if (CONCAT31(extraout_var,bVar2) != 0) {
          FUN_0044b1f0();
        }
        if (*(int *)(param_1 + 0x58) < 3) goto code_r0x0044c34c;
        goto LAB_0044c3ae;
      }
    }
LAB_0044c3c1:
    *(undefined8 *)(param_1 + 0x68) = 0;
    *(undefined8 *)(param_1 + 0x70) = 0;
    if (*(int *)(param_1 + 0x54) <= param_3) {
      if (*(int *)(param_1 + 0x54) < param_3) goto LAB_0044c3e5;
      uVar7 = *(uint *)(param_1 + 0x50);
      while (uVar7 < param_2) {
LAB_0044c3e5:
        do {
          uVar5 = param_2 - *(uint *)(param_1 + 0x50);
          iVar3 = (param_3 - *(int *)(param_1 + 0x54)) - (uint)(param_2 < *(uint *)(param_1 + 0x50))
          ;
          uVar7 = FUN_0044f440(param_1 + 0x1e0,NULL);
          if ((iVar3 <= (int)uVar7 >> 0x1f) && ((iVar3 < (int)uVar7 >> 0x1f || (uVar5 < uVar7)))) {
            uVar7 = uVar5;
          }
          FUN_0044f490(param_1 + 0x1e0,uVar7);
          iVar6 = (int)uVar7 >> 0x1f;
          puVar8 = (uint *)(param_1 + 0x50);
          uVar1 = *puVar8;
          *puVar8 = *puVar8 + uVar7;
          *(int *)(param_1 + 0x54) = *(int *)(param_1 + 0x54) + iVar6 + (uint)CARRY4(uVar1,uVar7);
          if ((iVar6 <= iVar3) &&
             (((iVar6 < iVar3 || (uVar7 < uVar5)) &&
              (puVar10 = FUN_0044b220(NULL,1,1), (int)puVar10 < 1)))) {
            lVar14 = FUN_0044b6a0(param_1,-1);
            *(longlong *)(param_1 + 0x50) = lVar14;
          }
        } while (*(int *)(param_1 + 0x54) < param_3);
        if (param_3 < *(int *)(param_1 + 0x54)) break;
        uVar7 = *(uint *)(param_1 + 0x50);
      }
    }
    iVar3 = 0;
  }
  return iVar3;
code_r0x0044c34c:
  iVar3 = FUN_0044cdc0(local_30);
  puVar4 = *(uint **)(param_1 + 0x34);
  puVar8 = NULL;
  if (0 < (int)puVar4) {
    piVar12 = *(int **)(param_1 + 0x40);
    do {
      if (*piVar12 == iVar3) break;
      puVar8 = (uint *)((int)puVar8 + 1);
      piVar12 = piVar12 + 1;
    } while ((int)puVar8 < (int)puVar4);
  }
  if (puVar8 != puVar4) {
    *(uint **)(param_1 + 0x60) = puVar8;
    *(undefined4 *)(param_1 + 0x58) = 3;
    uVar9 = FUN_0044cdc0(local_30);
    *(undefined4 *)(param_1 + 0x5c) = uVar9;
    FUN_0044d500(param_1 + 0x78,iVar3);
    iVar3 = FUN_0044b180();
    if (iVar3 != 0) {
      return iVar3;
    }
    puVar13 = NULL;
LAB_0044c3ae:
    puVar8 = (uint *)FUN_0044d200((int *)(param_1 + 0x78),local_30);
  }
  goto LAB_0044c1f5;
}



int __cdecl FUN_0044c480(int param_1,double param_2)

{
  int iVar1;
  bool bVar2;
  float10 fVar3;
  ulonglong uVar4;
  undefined8 local_10;
  
  local_10 = 0.0;
  iVar1 = 0;
  if (*(int *)(param_1 + 0x58) < 2) {
    return -0x83;
  }
  if (*(int *)(param_1 + 4) == 0) {
    return -0x8a;
  }
  if (param_2 < 0.0 == NAN(param_2)) {
    bVar2 = *(int *)(param_1 + 0x34) == 0;
    if (0 < *(int *)(param_1 + 0x34)) {
      do {
        fVar3 = FUN_0044b710(param_1,iVar1);
        fVar3 = fVar3 + (float10)local_10;
        if ((float10)param_2 < fVar3 != (NAN((float10)param_2) || NAN(fVar3))) break;
        local_10 = (double)fVar3;
        iVar1 += 1;
      } while (iVar1 < *(int *)(param_1 + 0x34));
      bVar2 = iVar1 == *(int *)(param_1 + 0x34);
    }
    if (!bVar2) {
      uVar4 = FUN_0045db86();
      iVar1 = FUN_0044c1c0(param_1,(uint)uVar4,(int)(uVar4 >> 0x20));
      return iVar1;
    }
  }
  return -0x83;
}



int __cdecl FUN_0044c570(int param_1,int param_2)

{
  if (*(int *)(param_1 + 4) != 0) {
    if (param_2 < 0) {
      if (*(int *)(param_1 + 0x58) < 3) goto LAB_0044c59a;
      param_2 = *(int *)(param_1 + 0x60);
    }
    else if (*(int *)(param_1 + 0x34) <= param_2) {
      return 0;
    }
    return param_2 * 0x20 + *(int *)(param_1 + 0x48);
  }
LAB_0044c59a:
  return *(int *)(param_1 + 0x48);
}



undefined4 FUN_0044c5a0(void)

{
  return 0;
}



short * __cdecl
FUN_0044c5b0(int param_1,short *param_2,int param_3,int param_4,int param_5,int param_6,
            undefined4 *param_7)

{
  uint *puVar1;
  uint uVar2;
  undefined4 uVar3;
  short *psVar4;
  int iVar5;
  short *psVar6;
  int iVar7;
  int iVar8;
  int local_34;
  int local_30;
  int local_2c;
  short *local_28;
  int local_24;
  int local_20;
  double local_1c;
  int local_14;
  double local_10;
  
  uVar3 = FUN_0044c5a0();
  local_1c = (double)CONCAT44(local_1c._4_4_,uVar3);
  if (1 < *(int *)(param_1 + 0x58)) {
    while ((*(int *)(param_1 + 0x58) != 4 ||
           (psVar4 = (short *)FUN_0044f440(param_1 + 0x1e0,&local_34), local_28 = psVar4,
           psVar4 == NULL))) {
      psVar4 = (short *)FUN_0044b220(NULL,1,1);
      if (psVar4 == (short *)0xfffffffe) {
        return NULL;
      }
      if ((int)psVar4 < 1) {
        return psVar4;
      }
    }
    if ((int)psVar4 < 1) {
      return psVar4;
    }
    iVar5 = FUN_0044c570(param_1,-1);
    local_30 = *(int *)(iVar5 + 4);
    local_14 = local_30 * param_5;
    psVar6 = (short *)(param_3 / local_14);
    if ((int)psVar6 < (int)psVar4) {
      psVar4 = psVar6;
      local_28 = psVar6;
    }
    if (0 < (int)psVar4) {
      if (param_5 == 1) {
        iVar5 = 0;
        if (0 < (int)psVar4) {
          do {
            iVar7 = 0;
            if (0 < local_30) {
              do {
                local_1c = (double)(*(float *)(*(int *)(local_34 + iVar7 * 4) + iVar5 * 4) * 128.0);
                local_24 = (int)ROUND(local_1c);
                if (local_24 < 0x80) {
                  iVar8 = local_24;
                  if (local_24 < -0x80) {
                    iVar8 = -0x80;
                  }
                }
                else {
                  iVar8 = 0x7f;
                }
                *(byte *)param_2 = (-(param_6 != 0) & 0x80U) + 0x80 + (char)iVar8;
                iVar7 += 1;
                param_2 = (short *)((int)param_2 + 1);
                psVar4 = local_28;
              } while (iVar7 < local_30);
            }
            iVar5 += 1;
          } while (iVar5 < (int)psVar4);
        }
      }
      else {
        local_24 = (-(uint)(param_6 != 0) & 0xffff8000) + 0x8000;
        if (local_1c._0_4_ == param_4) {
          if (param_6 == 0) {
            local_2c = 0;
            if (0 < local_30) {
              local_1c = (double)CONCAT44(local_1c._4_4_,param_2);
              do {
                iVar5 = *(int *)(local_34 + local_2c * 4);
                iVar7 = 0;
                if (0 < (int)psVar4) {
                  do {
                    local_10 = (double)(*(float *)(iVar5 + iVar7 * 4) * 32768.0);
                    local_20 = (int)ROUND(local_10);
                    if (local_20 < 0x8000) {
                      iVar8 = local_20;
                      if (local_20 < -0x8000) {
                        iVar8 = -0x8000;
                      }
                    }
                    else {
                      iVar8 = 0x7fff;
                    }
                    *param_2 = (short)local_24 + (short)iVar8;
                    iVar7 += 1;
                    param_2 = param_2 + local_30;
                    psVar4 = local_28;
                  } while (iVar7 < (int)local_28);
                }
                local_2c += 1;
                param_2 = (short *)(local_1c._0_4_ + 2);
                local_1c = (double)CONCAT44(local_1c._4_4_,param_2);
              } while (local_2c < local_30);
            }
          }
          else {
            local_2c = 0;
            if (0 < local_30) {
              do {
                iVar5 = *(int *)(local_34 + local_2c * 4);
                iVar7 = 0;
                psVar6 = param_2;
                if (0 < (int)psVar4) {
                  do {
                    local_1c = (double)(*(float *)(iVar5 + iVar7 * 4) * 32768.0);
                    local_24 = (int)ROUND(local_1c);
                    if (local_24 < 0x8000) {
                      iVar8 = local_24;
                      if (local_24 < -0x8000) {
                        iVar8 = -0x8000;
                      }
                    }
                    else {
                      iVar8 = 0x7fff;
                    }
                    *psVar6 = (short)iVar8;
                    iVar7 += 1;
                    psVar6 = psVar6 + local_30;
                  } while (iVar7 < (int)psVar4);
                }
                local_2c += 1;
                param_2 = param_2 + 1;
                local_28 = param_2;
              } while (local_2c < local_30);
            }
          }
        }
        else {
          local_2c = 0;
          if (param_4 == 0) {
            if (0 < (int)psVar4) {
              do {
                iVar5 = 0;
                if (0 < local_30) {
                  do {
                    local_10 = (double)(*(float *)(*(int *)(local_34 + iVar5 * 4) + local_2c * 4) *
                                       32768.0);
                    iVar7 = (int)ROUND(local_10);
                    local_1c = (double)CONCAT44(local_1c._4_4_,iVar7);
                    if (iVar7 < 0x8000) {
                      if (iVar7 < -0x8000) {
                        iVar7 = -0x8000;
                      }
                    }
                    else {
                      iVar7 = 0x7fff;
                    }
                    *(char *)param_2 = (char)(iVar7 + local_24);
                    *(char *)((int)param_2 + 1) = (char)((uint)(iVar7 + local_24) >> 8);
                    iVar5 += 1;
                    param_2 = param_2 + 1;
                  } while (iVar5 < local_30);
                }
                local_2c += 1;
              } while (local_2c < (int)psVar4);
            }
          }
          else if (0 < (int)psVar4) {
            do {
              iVar5 = 0;
              if (0 < local_30) {
                do {
                  local_10 = (double)(*(float *)(*(int *)(local_34 + iVar5 * 4) + local_2c * 4) *
                                     32768.0);
                  iVar7 = (int)ROUND(local_10);
                  local_1c = (double)CONCAT44(local_1c._4_4_,iVar7);
                  if (iVar7 < 0x8000) {
                    if (iVar7 < -0x8000) {
                      iVar7 = -0x8000;
                    }
                  }
                  else {
                    iVar7 = 0x7fff;
                  }
                  *(char *)param_2 = (char)((uint)(iVar7 + local_24) >> 8);
                  *(char *)((int)param_2 + 1) = (char)(iVar7 + local_24);
                  iVar5 += 1;
                  param_2 = param_2 + 1;
                } while (iVar5 < local_30);
              }
              local_2c += 1;
            } while (local_2c < (int)psVar4);
          }
        }
      }
      FUN_0044f490(param_1 + 0x1e0,(int)psVar4);
      puVar1 = (uint *)(param_1 + 0x50);
      uVar2 = *puVar1;
      *puVar1 = *puVar1 + (int)psVar4;
      *(int *)(param_1 + 0x54) =
           *(int *)(param_1 + 0x54) + ((int)psVar4 >> 0x1f) + (uint)CARRY4(uVar2,(uint)psVar4);
      if (param_7 != NULL) {
        *param_7 = *(undefined4 *)(param_1 + 0x60);
      }
      return (short *)(local_14 * (int)psVar4);
    }
  }
  return (short *)0xffffff7d;
}



undefined4 * FUN_0044c970(void)

{
  int iVar1;
  int iVar2;
  int iVar3;
  undefined4 *puVar4;
  undefined4 *unaff_ESI;
  longlong lVar5;
  int aiStack_10 [4];
  
  iVar1 = unaff_ESI[2];
  iVar2 = unaff_ESI[3];
  if (((code *)unaff_ESI[0xb1] == NULL) || (unaff_ESI[0xb3] == 0)) {
    unaff_ESI[4] = 0xffffffff;
    unaff_ESI[5] = 0xffffffff;
    unaff_ESI[2] = 0xffffffff;
    unaff_ESI[3] = 0xffffffff;
  }
  else {
    (*(code *)unaff_ESI[0xb1])(*unaff_ESI,0,0,2);
    iVar3 = (*(code *)unaff_ESI[0xb3])();
    unaff_ESI[5] = iVar3 >> 0x1f;
    unaff_ESI[4] = iVar3;
    unaff_ESI[2] = iVar3;
    unaff_ESI[3] = unaff_ESI[5];
  }
  if ((unaff_ESI[4] & unaff_ESI[5]) == 0xffffffff) {
    return (undefined4 *)0xffffff7d;
  }
  lVar5 = FUN_0044a6f0(aiStack_10);
  if ((lVar5 < 0x100000000) && ((lVar5 < 0 || (false)))) {
    return (undefined4 *)lVar5;
  }
  puVar4 = (undefined4 *)FUN_0044a5e0(0,0);
  if (puVar4 == NULL) {
    puVar4 = (undefined4 *)FUN_0044a8a0();
    if (puVar4 == NULL) {
      iVar3 = FUN_0044a960((int)unaff_ESI,0,0,0,0,(uint)(lVar5 + 1),
                           (int)((ulonglong)(lVar5 + 1) >> 0x20),NULL,0,0);
      if (iVar3 < 0) {
        return (undefined4 *)0xffffff80;
      }
      if (false) {
        free(NULL);
      }
      puVar4 = unaff_ESI;
      FUN_0044ade0(iVar1,iVar2);
      FUN_0044b790((int)unaff_ESI,0,0);
    }
  }
  return puVar4;
}



undefined4 * __cdecl
FUN_0044caa0(void *param_1,size_t param_2,int param_3,undefined *param_4,int param_5,int param_6)

{
  int *piVar1;
  int in_EAX;
  void *_Dst;
  void *pvVar2;
  undefined4 *puVar3;
  int *unaff_ESI;
  
  pvVar2 = param_1;
  if ((in_EAX == 0) || (param_4 == NULL)) {
    param_1 = (void *)0xffffffff;
  }
  else {
    param_1 = (void *)(*(code *)param_4)();
  }
  memset(unaff_ESI,0,0x2d0);
  unaff_ESI[0xb0] = param_3;
  *unaff_ESI = in_EAX;
  unaff_ESI[0xb1] = (int)param_4;
  piVar1 = unaff_ESI + 6;
  unaff_ESI[0xb2] = param_5;
  unaff_ESI[0xb3] = param_6;
  FUN_0044cff0(piVar1);
  if (pvVar2 != NULL) {
    _Dst = (void *)FUN_0044d040(piVar1,param_2);
    memcpy(_Dst,pvVar2,param_2);
    FUN_0044d0c0((int)piVar1,param_2);
  }
  if (param_1 != (void *)0xffffffff) {
    unaff_ESI[1] = 1;
  }
  unaff_ESI[0xd] = 1;
  pvVar2 = calloc(1,0x20);
  unaff_ESI[0x12] = (int)pvVar2;
  pvVar2 = calloc(unaff_ESI[0xd],0x10);
  unaff_ESI[0x13] = (int)pvVar2;
  FUN_0044ce20(unaff_ESI + 0x1e,0xffffffff);
  puVar3 = FUN_0044abb0(unaff_ESI,(undefined4 *)unaff_ESI[0x12],(int *)unaff_ESI[0x13],
                        unaff_ESI + 0x17);
  if ((int)puVar3 < 0) {
    *unaff_ESI = 0;
    FUN_0044b590(unaff_ESI);
    return puVar3;
  }
  unaff_ESI[0x16] = 1;
  return puVar3;
}



undefined4 * FUN_0044cbb0(void)

{
  int *in_EAX;
  undefined4 *puVar1;
  
  if (in_EAX[0x16] != 1) {
    return (undefined4 *)0xffffff7d;
  }
  in_EAX[0x16] = 2;
  if (in_EAX[1] != 0) {
    puVar1 = FUN_0044c970();
    if (puVar1 != NULL) {
      *in_EAX = 0;
      FUN_0044b590(in_EAX);
    }
    return puVar1;
  }
  in_EAX[0x16] = 3;
  return NULL;
}



void __cdecl
FUN_0044cc00(undefined4 param_1,undefined4 param_2,void *param_3,size_t param_4,int param_5,
            undefined *param_6,int param_7,int param_8)

{
  undefined4 *puVar1;
  
  puVar1 = FUN_0044caa0(param_3,param_4,param_5,param_6,param_7,param_8);
  if (puVar1 == NULL) {
    FUN_0044cbb0();
    return;
  }
  return;
}



void __cdecl FUN_0044cc50(undefined4 param_1,undefined4 param_2,void *param_3,size_t param_4)

{
  FUN_0044cc00(param_1,param_2,param_3,param_4,0x45d764,&LAB_0044a550,0x45d776,0x45d76a);
  return;
}



FILE * __cdecl FUN_0044cca0(char *param_1,undefined4 param_2)

{
  FILE *_File;
  FILE *pFVar1;
  
  _File = fopen(param_1,"rb");
  if (_File == NULL) {
    return (FILE *)0xffffffff;
  }
  pFVar1 = _File;
  FUN_0044cc50(_File,param_2,NULL,0);
  if (pFVar1 != NULL) {
    fclose(_File);
  }
  return pFVar1;
}



undefined1 __cdecl FUN_0044ccf0(int *param_1)

{
  return *(undefined1 *)(*param_1 + 4);
}



byte __cdecl FUN_0044cd00(int *param_1)

{
  return *(byte *)(*param_1 + 5) & 1;
}



byte __cdecl FUN_0044cd10(int *param_1)

{
  return *(byte *)(*param_1 + 5) & 2;
}



byte __cdecl FUN_0044cd20(int *param_1)

{
  return *(byte *)(*param_1 + 5) & 4;
}



undefined8 __cdecl FUN_0044cd30(int *param_1)

{
  int iVar1;
  uint uVar2;
  uint uVar3;
  uint uVar4;
  
  iVar1 = *param_1;
  uVar2 = *(int *)(iVar1 + 10) << 8;
  uVar3 = (uVar2 | *(byte *)(iVar1 + 9)) << 8;
  uVar4 = (uVar3 | *(byte *)(iVar1 + 8)) << 8;
  return CONCAT44((((uint)*(byte *)(iVar1 + 0xd) << 8 | uVar2 >> 0x18) << 8 | uVar3 >> 0x18) << 8 |
                  uVar4 >> 0x18,(uVar4 | *(byte *)(iVar1 + 7)) << 8 | (uint)*(byte *)(iVar1 + 6));
}



undefined4 __cdecl FUN_0044cdc0(int *param_1)

{
  return *(undefined4 *)(*param_1 + 0xe);
}



undefined4 __cdecl FUN_0044cdf0(int *param_1)

{
  return *(undefined4 *)(*param_1 + 0x12);
}



undefined4 __cdecl FUN_0044ce20(undefined4 *param_1,undefined4 param_2)

{
  void *pvVar1;
  
  if (param_1 != NULL) {
    memset(param_1,0,0x168);
    param_1[1] = 0x4000;
    pvVar1 = malloc(0x4000);
    *param_1 = pvVar1;
    param_1[6] = 0x400;
    pvVar1 = malloc(0x1000);
    param_1[4] = pvVar1;
    pvVar1 = malloc(param_1[6] * 8);
    param_1[5] = pvVar1;
    param_1[0x54] = param_2;
    return 0;
  }
  return 0xffffffff;
}



undefined4 __cdecl FUN_0044ce90(undefined4 *param_1)

{
  if (param_1 != NULL) {
    if ((void *)*param_1 != NULL) {
      free((void *)*param_1);
    }
    if ((void *)param_1[4] != NULL) {
      free((void *)param_1[4]);
    }
    if ((void *)param_1[5] != NULL) {
      free((void *)param_1[5]);
    }
    memset(param_1,0,0x168);
  }
  return 0;
}



void __fastcall FUN_0044cee0(int param_1)

{
  size_t _NewSize;
  void *pvVar1;
  undefined4 *unaff_ESI;
  
  if ((int)unaff_ESI[1] <= unaff_ESI[2] + param_1) {
    _NewSize = unaff_ESI[1] + 0x400 + param_1;
    unaff_ESI[1] = _NewSize;
    pvVar1 = realloc((void *)*unaff_ESI,_NewSize);
    *unaff_ESI = pvVar1;
  }
  return;
}



void __fastcall FUN_0044cf10(int param_1)

{
  int iVar1;
  void *pvVar2;
  int unaff_ESI;
  
  if (*(int *)(unaff_ESI + 0x18) <= *(int *)(unaff_ESI + 0x1c) + param_1) {
    iVar1 = *(int *)(unaff_ESI + 0x18) + 0x20 + param_1;
    *(int *)(unaff_ESI + 0x18) = iVar1;
    pvVar2 = realloc(*(void **)(unaff_ESI + 0x10),iVar1 * 4);
    *(void **)(unaff_ESI + 0x10) = pvVar2;
    pvVar2 = realloc(*(void **)(unaff_ESI + 0x14),*(int *)(unaff_ESI + 0x18) * 8);
    *(void **)(unaff_ESI + 0x14) = pvVar2;
  }
  return;
}



void __cdecl FUN_0044cf50(int *param_1)

{
  uint uVar1;
  int iVar2;
  
  iVar2 = 0;
  if (param_1 != NULL) {
    *(undefined1 *)(*param_1 + 0x16) = 0;
    *(undefined1 *)(*param_1 + 0x17) = 0;
    *(undefined1 *)(*param_1 + 0x18) = 0;
    *(undefined1 *)(*param_1 + 0x19) = 0;
    uVar1 = 0;
    if (0 < param_1[1]) {
      do {
        uVar1 = uVar1 << 8 ^ UINT_ARRAY_0045f3c8[(uint)*(byte *)(*param_1 + iVar2) ^ uVar1 >> 0x18];
        iVar2 += 1;
      } while (iVar2 < param_1[1]);
    }
    iVar2 = 0;
    if (0 < param_1[3]) {
      do {
        uVar1 = uVar1 << 8 ^
                UINT_ARRAY_0045f3c8[(uint)*(byte *)(param_1[2] + iVar2) ^ uVar1 >> 0x18];
        iVar2 += 1;
      } while (iVar2 < param_1[3]);
    }
    *(char *)(*param_1 + 0x16) = (char)uVar1;
    *(char *)(*param_1 + 0x17) = (char)(uVar1 >> 8);
    *(char *)(*param_1 + 0x18) = (char)(uVar1 >> 0x10);
    *(char *)(*param_1 + 0x19) = (char)(uVar1 >> 0x18);
  }
  return;
}



void __cdecl FUN_0044cff0(undefined4 *param_1)

{
  if (param_1 != NULL) {
    *param_1 = 0;
    param_1[1] = 0;
    param_1[2] = 0;
    param_1[3] = 0;
    param_1[4] = 0;
    param_1[5] = 0;
    param_1[6] = 0;
  }
  return;
}



undefined4 __cdecl FUN_0044d010(undefined4 *param_1)

{
  if (param_1 != NULL) {
    if ((void *)*param_1 != NULL) {
      free((void *)*param_1);
    }
    FUN_0044cff0(param_1);
  }
  return 0;
}



int __cdecl FUN_0044d040(int *param_1,int param_2)

{
  size_t _Size;
  int iVar1;
  void *pvVar2;
  
  iVar1 = param_1[3];
  if (iVar1 != 0) {
    param_1[2] = param_1[2] - iVar1;
    if (0 < param_1[2]) {
      memmove((void *)*param_1,(void *)(iVar1 + *param_1),param_1[2]);
    }
    param_1[3] = 0;
  }
  if (param_1[1] - param_1[2] < param_2) {
    _Size = param_1[2] + 0x1000 + param_2;
    if ((void *)*param_1 != NULL) {
      pvVar2 = realloc((void *)*param_1,_Size);
      param_1[1] = _Size;
      *param_1 = (int)pvVar2;
      return (int)pvVar2 + param_1[2];
    }
    pvVar2 = malloc(_Size);
    param_1[1] = _Size;
    *param_1 = (int)pvVar2;
  }
  return *param_1 + param_1[2];
}



undefined4 __cdecl FUN_0044d0c0(int param_1,int param_2)

{
  int iVar1;
  
  iVar1 = *(int *)(param_1 + 8) + param_2;
  if (*(int *)(param_1 + 4) < iVar1) {
    return 0xffffffff;
  }
  *(int *)(param_1 + 8) = iVar1;
  return 0;
}



int __cdecl FUN_0044d0e0(int *param_1,int *param_2)

{
  int iVar1;
  int iVar2;
  void *pvVar3;
  int iVar4;
  int *piVar5;
  int *local_10;
  int local_c;
  int local_8;
  int local_4;
  
  piVar5 = (int *)(*param_1 + param_1[3]);
  iVar4 = param_1[2] - param_1[3];
  if (param_1[5] == 0) {
    if (iVar4 < 0x1b) {
      return 0;
    }
    if (*piVar5 != 0x5367674f) goto LAB_0044d1c0;
    iVar1 = *(byte *)((int)piVar5 + 0x1a) + 0x1b;
    iVar2 = 0;
    if (iVar4 < iVar1) {
      return 0;
    }
    if (*(byte *)((int)piVar5 + 0x1a) != 0) {
      do {
        param_1[6] = param_1[6] + (uint)*(byte *)((int)piVar5 + iVar2 + 0x1b);
        iVar2 += 1;
      } while (iVar2 < (int)(uint)*(byte *)((int)piVar5 + 0x1a));
    }
    param_1[5] = iVar1;
  }
  if (iVar4 < param_1[5] + param_1[6]) {
    return 0;
  }
  iVar1 = *(int *)((int)piVar5 + 0x16);
  *(undefined4 *)((int)piVar5 + 0x16) = 0;
  local_c = param_1[5];
  local_4 = param_1[6];
  local_8 = local_c + (int)piVar5;
  local_10 = piVar5;
  FUN_0044cf50((int *)&local_10);
  if (iVar1 == *(int *)((int)piVar5 + 0x16)) {
    iVar4 = *param_1;
    iVar1 = param_1[3];
    if (param_2 != NULL) {
      *param_2 = iVar4 + iVar1;
      param_2[1] = param_1[5];
      param_2[2] = param_1[5] + iVar4 + iVar1;
      param_2[3] = param_1[6];
    }
    iVar4 = param_1[5];
    iVar1 = param_1[6];
    param_1[3] = param_1[3] + iVar4 + iVar1;
    param_1[4] = 0;
    param_1[5] = 0;
    param_1[6] = 0;
    return iVar4 + iVar1;
  }
  *(int *)((int)piVar5 + 0x16) = iVar1;
LAB_0044d1c0:
  param_1[5] = 0;
  param_1[6] = 0;
  pvVar3 = memchr((void *)((int)piVar5 + 1),0x4f,iVar4 - 1);
  if (pvVar3 == NULL) {
    pvVar3 = (void *)(param_1[2] + *param_1);
  }
  param_1[3] = (int)pvVar3 - *param_1;
  return (int)piVar5 - (int)pvVar3;
}



undefined4 __cdecl FUN_0044d200(int *param_1,int *param_2)

{
  int *piVar1;
  int iVar2;
  undefined1 uVar3;
  byte bVar4;
  byte bVar5;
  undefined3 extraout_var;
  undefined3 extraout_var_00;
  undefined3 extraout_var_01;
  undefined3 extraout_var_02;
  int iVar6;
  int iVar7;
  int iVar8;
  uint uVar9;
  uint *puVar10;
  uint uVar11;
  int iVar12;
  int iVar13;
  undefined8 uVar14;
  size_t local_28;
  void *local_24;
  int local_20;
  undefined4 local_8;
  undefined4 local_4;
  
  local_24 = (void *)param_2[2];
  local_28 = param_2[3];
  iVar2 = *param_2;
  iVar12 = 0;
  uVar3 = FUN_0044ccf0(param_2);
  bVar4 = FUN_0044cd00(param_2);
  bVar5 = FUN_0044cd10(param_2);
  local_20 = CONCAT31(extraout_var_01,bVar5);
  bVar5 = FUN_0044cd20(param_2);
  uVar14 = FUN_0044cd30(param_2);
  iVar6 = FUN_0044cdc0(param_2);
  iVar7 = FUN_0044cdf0(param_2);
  uVar11 = (uint)*(byte *)(iVar2 + 0x1a);
  iVar13 = param_1[9];
  iVar8 = param_1[3];
  if (iVar8 != 0) {
    piVar1 = param_1 + 2;
    *piVar1 = *piVar1 - iVar8;
    if (*piVar1 != 0) {
      memmove((void *)*param_1,(void *)(iVar8 + *param_1),param_1[2]);
    }
    param_1[3] = 0;
  }
  if (iVar13 != 0) {
    if (param_1[7] - iVar13 != 0) {
      memmove((void *)param_1[4],(void *)(param_1[4] + iVar13 * 4),(param_1[7] - iVar13) * 4);
      memmove((void *)param_1[5],(void *)(param_1[5] + iVar13 * 8),(param_1[7] - iVar13) * 8);
    }
    param_1[7] = param_1[7] - iVar13;
    param_1[8] = param_1[8] - iVar13;
    param_1[9] = 0;
  }
  if ((iVar6 != param_1[0x54]) || (0 < CONCAT31(extraout_var,uVar3))) {
    return 0xffffffff;
  }
  FUN_0044cf10(uVar11 + 1);
  if (iVar7 != param_1[0x55]) {
    iVar13 = param_1[8];
    if (iVar13 < param_1[7]) {
      puVar10 = (uint *)(param_1[4] + iVar13 * 4);
      iVar8 = iVar13;
      do {
        param_1[2] = param_1[2] - (*puVar10 & 0xff);
        iVar8 += 1;
        puVar10 = puVar10 + 1;
      } while (iVar8 < param_1[7]);
    }
    param_1[7] = iVar13;
    if (param_1[0x55] != -1) {
      *(undefined4 *)(param_1[4] + iVar13 * 4) = 0x400;
      param_1[7] = param_1[7] + 1;
      param_1[8] = param_1[8] + 1;
    }
  }
  if ((CONCAT31(extraout_var_00,bVar4) != 0) &&
     (((param_1[7] < 1 || (*(int *)(param_1[4] + -4 + param_1[7] * 4) == 0x400)) &&
      (local_20 = 0, uVar11 != 0)))) {
    do {
      uVar9 = (uint)*(byte *)(iVar2 + 0x1b + iVar12);
      local_24 = (void *)((int)local_24 + uVar9);
      local_28 -= uVar9;
      iVar12 += 1;
      if (uVar9 < 0xff) break;
    } while (iVar12 < (int)uVar11);
  }
  if (local_28 != 0) {
    FUN_0044cee0(local_28);
    memcpy((void *)(param_1[2] + *param_1),local_24,local_28);
    param_1[2] = param_1[2] + local_28;
  }
  iVar13 = -1;
  if (iVar12 < (int)uVar11) {
    do {
      uVar9 = (uint)*(byte *)(iVar2 + 0x1b + iVar12);
      *(uint *)(param_1[4] + param_1[7] * 4) = uVar9;
      iVar8 = param_1[5];
      iVar6 = param_1[7];
      *(undefined4 *)(iVar8 + iVar6 * 8) = 0xffffffff;
      *(undefined4 *)(iVar8 + 4 + iVar6 * 8) = 0xffffffff;
      if (local_20 != 0) {
        puVar10 = (uint *)(param_1[4] + param_1[7] * 4);
        *puVar10 = *puVar10 | 0x100;
        local_20 = 0;
      }
      if (uVar9 < 0xff) {
        iVar13 = param_1[7];
      }
      param_1[7] = param_1[7] + 1;
      iVar12 += 1;
      if (uVar9 < 0xff) {
        param_1[8] = param_1[7];
      }
    } while (iVar12 < (int)uVar11);
    if (iVar13 != -1) {
      iVar2 = param_1[5];
      local_8 = (undefined4)uVar14;
      local_4 = (undefined4)((ulonglong)uVar14 >> 0x20);
      *(undefined4 *)(iVar2 + iVar13 * 8) = local_8;
      *(undefined4 *)(iVar2 + 4 + iVar13 * 8) = local_4;
    }
  }
  if (CONCAT31(extraout_var_02,bVar5) != 0) {
    param_1[0x52] = 1;
    if (0 < param_1[7]) {
      puVar10 = (uint *)(param_1[4] + -4 + param_1[7] * 4);
      *puVar10 = *puVar10 | 0x200;
    }
  }
  param_1[0x55] = iVar7 + 1;
  return 0;
}



undefined4 __cdecl FUN_0044d490(int param_1)

{
  *(undefined4 *)(param_1 + 8) = 0;
  *(undefined4 *)(param_1 + 0xc) = 0;
  *(undefined4 *)(param_1 + 0x10) = 0;
  *(undefined4 *)(param_1 + 0x14) = 0;
  *(undefined4 *)(param_1 + 0x18) = 0;
  return 0;
}



undefined4 __cdecl FUN_0044d4b0(int param_1)

{
  *(undefined4 *)(param_1 + 8) = 0;
  *(undefined4 *)(param_1 + 0xc) = 0;
  *(undefined4 *)(param_1 + 0x1c) = 0;
  *(undefined4 *)(param_1 + 0x20) = 0;
  *(undefined4 *)(param_1 + 0x24) = 0;
  *(undefined4 *)(param_1 + 0x144) = 0;
  *(undefined4 *)(param_1 + 0x148) = 0;
  *(undefined4 *)(param_1 + 0x14c) = 0;
  *(undefined4 *)(param_1 + 0x154) = 0xffffffff;
  *(undefined4 *)(param_1 + 0x158) = 0;
  *(undefined4 *)(param_1 + 0x15c) = 0;
  *(undefined4 *)(param_1 + 0x160) = 0;
  *(undefined4 *)(param_1 + 0x164) = 0;
  return 0;
}



undefined4 __cdecl FUN_0044d500(int param_1,undefined4 param_2)

{
  int extraout_EDX;
  
  FUN_0044d4b0(param_1);
  *(undefined4 *)(extraout_EDX + 0x150) = param_2;
  return 0;
}



undefined4 __cdecl FUN_0044d520(int param_1)

{
  uint *puVar1;
  uint uVar2;
  int iVar3;
  int *in_EAX;
  uint uVar4;
  int iVar5;
  uint *puVar6;
  int *unaff_ESI;
  uint uVar7;
  uint local_8;
  
  iVar5 = in_EAX[9];
  if (in_EAX[8] <= iVar5) {
    return 0;
  }
  puVar6 = (uint *)(in_EAX[4] + iVar5 * 4);
  if ((*(uint *)(in_EAX[4] + iVar5 * 4) & 0x400) != 0) {
    puVar6 = (uint *)(in_EAX + 0x56);
    uVar2 = *puVar6;
    *puVar6 = *puVar6 + 1;
    in_EAX[9] = iVar5 + 1;
    in_EAX[0x57] = in_EAX[0x57] + (uint)(0xfffffffe < uVar2);
    return 0xffffffff;
  }
  if ((unaff_ESI != NULL) || (param_1 != 0)) {
    uVar2 = *puVar6;
    uVar7 = uVar2 & 0xff;
    local_8 = uVar2 & 0x200;
    uVar4 = uVar7;
    while (uVar4 == 0xff) {
      puVar1 = puVar6 + 1;
      puVar6 = puVar6 + 1;
      iVar5 += 1;
      uVar4 = *puVar1 & 0xff;
      if ((*puVar1 & 0x200) != 0) {
        local_8 = 0x200;
      }
      uVar7 += uVar4;
    }
    if (unaff_ESI != NULL) {
      unaff_ESI[3] = local_8;
      unaff_ESI[2] = uVar2 & 0x100;
      *unaff_ESI = in_EAX[3] + *in_EAX;
      unaff_ESI[6] = in_EAX[0x56];
      unaff_ESI[7] = in_EAX[0x57];
      iVar3 = in_EAX[5];
      unaff_ESI[4] = *(int *)(iVar3 + iVar5 * 8);
      unaff_ESI[5] = *(int *)(iVar3 + 4 + iVar5 * 8);
      unaff_ESI[1] = uVar7;
    }
    if (param_1 != 0) {
      in_EAX[3] = in_EAX[3] + uVar7;
      puVar6 = (uint *)(in_EAX + 0x56);
      uVar2 = *puVar6;
      *puVar6 = *puVar6 + 1;
      in_EAX[9] = iVar5 + 1;
      in_EAX[0x57] = in_EAX[0x57] + (uint)(0xfffffffe < uVar2);
    }
  }
  return 1;
}



void FUN_0044d630(undefined4 param_1,undefined4 param_2)

{
  FUN_0044d520(1);
  return;
}



void FUN_0044d650(undefined4 param_1,undefined4 param_2)

{
  FUN_0044d520(0);
  return;
}



void __fastcall FUN_0044d670(undefined1 *param_1)

{
  int in_EAX;
  uint uVar1;
  int *unaff_EBX;
  
  if (in_EAX != 0) {
    do {
      in_EAX += -1;
      uVar1 = FUN_0044f700(unaff_EBX,8);
      *param_1 = (char)uVar1;
      param_1 = param_1 + 1;
    } while (in_EAX != 0);
  }
  return;
}



void __cdecl FUN_0044d6a0(undefined4 *param_1)

{
  *param_1 = 0;
  param_1[1] = 0;
  param_1[2] = 0;
  param_1[3] = 0;
  return;
}



void __cdecl FUN_0044d6c0(int *param_1)

{
  int iVar1;
  
  if (param_1 != NULL) {
    iVar1 = 0;
    if (0 < param_1[2]) {
      do {
        if (*(int *)(*param_1 + iVar1 * 4) != 0) {
          free(*(void **)(*param_1 + iVar1 * 4));
        }
        iVar1 += 1;
      } while (iVar1 < param_1[2]);
    }
    if ((void *)*param_1 != NULL) {
      free((void *)*param_1);
    }
    if ((void *)param_1[1] != NULL) {
      free((void *)param_1[1]);
    }
    if ((void *)param_1[3] != NULL) {
      free((void *)param_1[3]);
    }
    *param_1 = 0;
    param_1[1] = 0;
    param_1[2] = 0;
    param_1[3] = 0;
  }
  return;
}



undefined4 __cdecl FUN_0044d730(int param_1,int param_2)

{
  if (*(int *)(param_1 + 0x1c) != 0) {
    return *(undefined4 *)(*(int *)(param_1 + 0x1c) + param_2 * 4);
  }
  return 0xffffffff;
}



void __cdecl FUN_0044d750(undefined4 *param_1)

{
  void *pvVar1;
  
  *param_1 = 0;
  param_1[1] = 0;
  param_1[2] = 0;
  param_1[3] = 0;
  param_1[4] = 0;
  param_1[5] = 0;
  param_1[6] = 0;
  param_1[7] = 0;
  pvVar1 = calloc(1,0xe50);
  param_1[7] = pvVar1;
  return;
}



void __cdecl FUN_0044d790(undefined4 *param_1)

{
  void *_Memory;
  undefined4 *puVar1;
  int iVar2;
  int iVar3;
  int *piVar4;
  
  _Memory = (void *)param_1[7];
  if (_Memory != NULL) {
    iVar3 = 0;
    if (0 < *(int *)((int)_Memory + 8)) {
      puVar1 = (undefined4 *)((int)_Memory + 0x20);
      do {
        if ((void *)*puVar1 != NULL) {
          free((void *)*puVar1);
        }
        iVar3 += 1;
        puVar1 = puVar1 + 1;
      } while (iVar3 < *(int *)((int)_Memory + 8));
    }
    iVar3 = 0;
    if (0 < *(int *)((int)_Memory + 0xc)) {
      piVar4 = (int *)((int)_Memory + 0x220);
      do {
        if (*piVar4 != 0) {
          (**(code **)((&PTR_PTR_FUN_0047200c)[piVar4[-0x40]] + 8))(*piVar4);
        }
        iVar3 += 1;
        piVar4 = piVar4 + 1;
      } while (iVar3 < *(int *)((int)_Memory + 0xc));
    }
    iVar3 = 0;
    if (0 < *(int *)((int)_Memory + 0x10)) {
      piVar4 = (int *)((int)_Memory + 0x420);
      do {
        if (*piVar4 != 0) {
          (**(code **)((&PTR_DAT_00471ff8)[piVar4[-0x40]] + 0xc))(*piVar4);
        }
        iVar3 += 1;
        piVar4 = piVar4 + 1;
      } while (iVar3 < *(int *)((int)_Memory + 0x10));
    }
    iVar3 = 0;
    if (0 < *(int *)((int)_Memory + 0x14)) {
      piVar4 = (int *)((int)_Memory + 0x620);
      do {
        if (*piVar4 != 0) {
          (**(code **)((&PTR_DAT_00472000)[piVar4[-0x40]] + 0xc))(*piVar4);
        }
        iVar3 += 1;
        piVar4 = piVar4 + 1;
      } while (iVar3 < *(int *)((int)_Memory + 0x14));
    }
    iVar3 = 0;
    if (0 < *(int *)((int)_Memory + 0x18)) {
      iVar2 = 0;
      puVar1 = (undefined4 *)((int)_Memory + 0x720);
      do {
        if ((void *)*puVar1 != NULL) {
          FUN_00453ff0((void *)*puVar1);
        }
        if (*(int *)((int)_Memory + 0xb20) != 0) {
          FUN_00454010((void *)(*(int *)((int)_Memory + 0xb20) + iVar2));
        }
        iVar3 += 1;
        puVar1 = puVar1 + 1;
        iVar2 += 0x2c;
      } while (iVar3 < *(int *)((int)_Memory + 0x18));
    }
    if (*(void **)((int)_Memory + 0xb20) != NULL) {
      free(*(void **)((int)_Memory + 0xb20));
    }
    iVar3 = 0;
    if (0 < *(int *)((int)_Memory + 0x1c)) {
      puVar1 = (undefined4 *)((int)_Memory + 0xb24);
      do {
        FUN_0044f810((void *)*puVar1);
        iVar3 += 1;
        puVar1 = puVar1 + 1;
      } while (iVar3 < *(int *)((int)_Memory + 0x1c));
    }
    free(_Memory);
  }
  *param_1 = 0;
  param_1[1] = 0;
  param_1[2] = 0;
  param_1[3] = 0;
  param_1[4] = 0;
  param_1[5] = 0;
  param_1[6] = 0;
  param_1[7] = 0;
  return;
}



undefined4 FUN_0044d910(void)

{
  int *piVar1;
  uint uVar2;
  int iVar3;
  int *unaff_ESI;
  uint *unaff_EDI;
  
  piVar1 = (int *)unaff_EDI[7];
  if (piVar1 == NULL) {
    return 0xffffff7f;
  }
  uVar2 = FUN_0044f700(unaff_ESI,0x20);
  *unaff_EDI = uVar2;
  if (uVar2 != 0) {
    return 0xffffff7a;
  }
  uVar2 = FUN_0044f700(unaff_ESI,8);
  unaff_EDI[1] = uVar2;
  uVar2 = FUN_0044f700(unaff_ESI,0x20);
  unaff_EDI[2] = uVar2;
  uVar2 = FUN_0044f700(unaff_ESI,0x20);
  unaff_EDI[3] = uVar2;
  uVar2 = FUN_0044f700(unaff_ESI,0x20);
  unaff_EDI[4] = uVar2;
  uVar2 = FUN_0044f700(unaff_ESI,0x20);
  unaff_EDI[5] = uVar2;
  uVar2 = FUN_0044f700(unaff_ESI,4);
  *piVar1 = 1 << ((byte)uVar2 & 0x1f);
  uVar2 = FUN_0044f700(unaff_ESI,4);
  iVar3 = 1 << ((byte)uVar2 & 0x1f);
  piVar1[1] = iVar3;
  if ((((0 < (int)unaff_EDI[2]) && (0 < (int)unaff_EDI[1])) && (0x3f < *piVar1)) &&
     ((*piVar1 <= iVar3 && (iVar3 < 0x2001)))) {
    uVar2 = FUN_0044f700(unaff_ESI,1);
    if (uVar2 == 1) {
      return 0;
    }
  }
  FUN_0044d790(unaff_EDI);
  return 0xffffff7b;
}



undefined4 FUN_0044d9e0(void)

{
  int *in_EAX;
  uint uVar1;
  undefined1 *puVar2;
  void *pvVar3;
  int *unaff_ESI;
  int iVar4;
  
  uVar1 = FUN_0044f700(in_EAX,0x20);
  if (-1 < (int)uVar1) {
    puVar2 = (undefined1 *)calloc(uVar1 + 1,1);
    unaff_ESI[3] = (int)puVar2;
    FUN_0044d670(puVar2);
    uVar1 = FUN_0044f700(in_EAX,0x20);
    unaff_ESI[2] = uVar1;
    if (-1 < (int)uVar1) {
      pvVar3 = calloc(uVar1 + 1,4);
      *unaff_ESI = (int)pvVar3;
      pvVar3 = calloc(unaff_ESI[2] + 1,4);
      iVar4 = 0;
      unaff_ESI[1] = (int)pvVar3;
      if (0 < unaff_ESI[2]) {
        do {
          uVar1 = FUN_0044f700(in_EAX,0x20);
          if ((int)uVar1 < 0) goto LAB_0044da93;
          *(uint *)(unaff_ESI[1] + iVar4 * 4) = uVar1;
          pvVar3 = calloc(uVar1 + 1,1);
          *(void **)(*unaff_ESI + iVar4 * 4) = pvVar3;
          FUN_0044d670(*(undefined1 **)(*unaff_ESI + iVar4 * 4));
          iVar4 += 1;
        } while (iVar4 < unaff_ESI[2]);
      }
      uVar1 = FUN_0044f700(in_EAX,1);
      if (uVar1 == 1) {
        return 0;
      }
    }
  }
LAB_0044da93:
  FUN_0044d6c0(unaff_ESI);
  return 0xffffff7b;
}



undefined4 __cdecl FUN_0044dab0(undefined4 *param_1)

{
  int iVar1;
  uint uVar2;
  uint *puVar3;
  int iVar4;
  uint uVar5;
  void *pvVar6;
  undefined4 *puVar7;
  int *unaff_ESI;
  int iVar8;
  int *piVar9;
  
  iVar1 = param_1[7];
  if (iVar1 == 0) {
    return 0xffffff7f;
  }
  uVar2 = FUN_0044f700(unaff_ESI,8);
  iVar8 = 0;
  *(uint *)(iVar1 + 0x18) = uVar2 + 1;
  if (0 < (int)(uVar2 + 1)) {
    puVar7 = (undefined4 *)(iVar1 + 0x720);
    do {
      puVar3 = (uint *)calloc(1,0x34);
      *puVar7 = puVar3;
      iVar4 = FUN_00454480(unaff_ESI,puVar3);
      if (iVar4 != 0) goto LAB_0044dcfc;
      iVar8 += 1;
      puVar7 = puVar7 + 1;
    } while (iVar8 < *(int *)(iVar1 + 0x18));
  }
  uVar2 = FUN_0044f700(unaff_ESI,6);
  iVar8 = 0;
  if (0 < (int)(uVar2 + 1)) {
    do {
      uVar5 = FUN_0044f700(unaff_ESI,0x10);
      if (uVar5 != 0) goto LAB_0044dcfc;
      iVar8 += 1;
    } while (iVar8 < (int)(uVar2 + 1));
  }
  uVar2 = FUN_0044f700(unaff_ESI,6);
  iVar8 = 0;
  *(uint *)(iVar1 + 0x10) = uVar2 + 1;
  if (0 < (int)(uVar2 + 1)) {
    piVar9 = (int *)(iVar1 + 0x420);
    do {
      uVar2 = FUN_0044f700(unaff_ESI,0x10);
      piVar9[-0x40] = uVar2;
      if (((int)uVar2 < 0) || (1 < (int)uVar2)) goto LAB_0044dcfc;
      iVar4 = (**(code **)((&PTR_DAT_00471ff8)[uVar2] + 4))(param_1);
      *piVar9 = iVar4;
      if (iVar4 == 0) goto LAB_0044dcfc;
      iVar8 += 1;
      piVar9 = piVar9 + 1;
    } while (iVar8 < *(int *)(iVar1 + 0x10));
  }
  uVar2 = FUN_0044f700(unaff_ESI,6);
  iVar8 = 0;
  *(uint *)(iVar1 + 0x14) = uVar2 + 1;
  if (0 < (int)(uVar2 + 1)) {
    piVar9 = (int *)(iVar1 + 0x620);
    do {
      uVar2 = FUN_0044f700(unaff_ESI,0x10);
      piVar9[-0x40] = uVar2;
      if (((int)uVar2 < 0) || (2 < (int)uVar2)) goto LAB_0044dcfc;
      iVar4 = (**(code **)((&PTR_DAT_00472000)[uVar2] + 4))(param_1);
      *piVar9 = iVar4;
      if (iVar4 == 0) goto LAB_0044dcfc;
      iVar8 += 1;
      piVar9 = piVar9 + 1;
    } while (iVar8 < *(int *)(iVar1 + 0x14));
  }
  uVar2 = FUN_0044f700(unaff_ESI,6);
  iVar8 = 0;
  *(uint *)(iVar1 + 0xc) = uVar2 + 1;
  if (0 < (int)(uVar2 + 1)) {
    piVar9 = (int *)(iVar1 + 0x220);
    do {
      uVar2 = FUN_0044f700(unaff_ESI,0x10);
      piVar9[-0x40] = uVar2;
      if (((int)uVar2 < 0) || (0 < (int)uVar2)) goto LAB_0044dcfc;
      iVar4 = (**(code **)((&PTR_PTR_FUN_0047200c)[uVar2] + 4))(param_1);
      *piVar9 = iVar4;
      if (iVar4 == 0) goto LAB_0044dcfc;
      iVar8 += 1;
      piVar9 = piVar9 + 1;
    } while (iVar8 < *(int *)(iVar1 + 0xc));
  }
  uVar2 = FUN_0044f700(unaff_ESI,6);
  iVar8 = 0;
  *(uint *)(iVar1 + 8) = uVar2 + 1;
  if (0 < (int)(uVar2 + 1)) {
    piVar9 = (int *)(iVar1 + 0x20);
    do {
      pvVar6 = calloc(1,0x10);
      *piVar9 = (int)pvVar6;
      uVar2 = FUN_0044f700(unaff_ESI,1);
      *(uint *)*piVar9 = uVar2;
      uVar2 = FUN_0044f700(unaff_ESI,0x10);
      *(uint *)(*piVar9 + 4) = uVar2;
      uVar2 = FUN_0044f700(unaff_ESI,0x10);
      *(uint *)(*piVar9 + 8) = uVar2;
      uVar2 = FUN_0044f700(unaff_ESI,8);
      *(uint *)(*piVar9 + 0xc) = uVar2;
      iVar4 = *piVar9;
      if (((0 < *(int *)(iVar4 + 4)) || (0 < *(int *)(iVar4 + 8))) ||
         (*(int *)(iVar1 + 0xc) <= *(int *)(iVar4 + 0xc))) goto LAB_0044dcfc;
      iVar8 += 1;
      piVar9 = piVar9 + 1;
    } while (iVar8 < *(int *)(iVar1 + 8));
  }
  uVar2 = FUN_0044f700(unaff_ESI,1);
  if (uVar2 == 1) {
    return 0;
  }
LAB_0044dcfc:
  FUN_0044d790(param_1);
  return 0xffffff7b;
}



void __cdecl FUN_0044dd20(undefined4 *param_1)

{
  uint uVar1;
  int local_20 [5];
  int local_c;
  undefined2 local_8;
  uint local_4;
  
  local_4 = (uint)PTR_DAT_0047a940 ^ (uint)local_20;
  if (param_1 != NULL) {
    FUN_0044f610(local_20,*param_1,param_1[1]);
    if (param_1[2] != 0) {
      uVar1 = FUN_0044f700(local_20,8);
      if (uVar1 == 1) {
        local_c = 0;
        local_8 = 0;
        FUN_0044d670((undefined1 *)&local_c);
        if (((local_c == 0x62726f76) && ((char)local_8 == 'i')) && (local_8._1_1_ == 's')) {
          __security_check_cookie(local_4 ^ (uint)local_20);
          return;
        }
      }
    }
  }
  __security_check_cookie(local_4 ^ (uint)local_20);
  return;
}



void __cdecl FUN_0044ddd0(undefined4 *param_1,int param_2,undefined4 *param_3)

{
  uint uVar1;
  int local_24;
  int local_20 [5];
  int local_c;
  undefined2 local_8;
  uint local_4;
  
  local_4 = (uint)PTR_DAT_0047a940 ^ (uint)&local_24;
  local_24 = param_2;
  if (param_3 == NULL) {
    __security_check_cookie(local_4 ^ (uint)&local_24);
    return;
  }
  FUN_0044f610(local_20,*param_3,param_3[1]);
  uVar1 = FUN_0044f700(local_20,8);
  local_c = 0;
  local_8 = 0;
  FUN_0044d670((undefined1 *)&local_c);
  if (((local_c == 0x62726f76) && ((char)local_8 == 'i')) && (local_8._1_1_ == 's')) {
    if (uVar1 == 1) {
      if ((param_3[2] != 0) && (param_1[2] == 0)) {
        FUN_0044d910();
        __security_check_cookie(local_4 ^ (uint)&local_24);
        return;
      }
    }
    else if (uVar1 == 3) {
      if (param_1[2] != 0) {
        FUN_0044d9e0();
        __security_check_cookie(local_4 ^ (uint)&local_24);
        return;
      }
    }
    else if (((uVar1 == 5) && (param_1[2] != uVar1 - 5)) && (*(int *)(local_24 + 0xc) != uVar1 - 5))
    {
      FUN_0044dab0(param_1);
      __security_check_cookie(local_4 ^ (uint)&local_24);
      return;
    }
    __security_check_cookie(local_4 ^ (uint)&local_24);
    return;
  }
  __security_check_cookie(local_4 ^ (uint)&local_24);
  return;
}



undefined4 __cdecl FUN_0044df30(int *param_1,undefined4 *param_2)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  uint uVar5;
  int iVar6;
  undefined4 uVar7;
  int iVar8;
  
  iVar2 = *(int *)(param_1[0x10] + 4);
  iVar6 = *(int *)(param_1[0x10] + 0x68);
  iVar3 = *(int *)(iVar2 + 0x1c);
  piVar1 = param_1 + 1;
  FUN_0044e2e0((int)param_1);
  FUN_0044f610(piVar1,*param_2,param_2[1]);
  uVar4 = FUN_0044f700(piVar1,1);
  if (uVar4 != 0) {
    return 0xffffff79;
  }
  uVar4 = FUN_0044f700(piVar1,*(int *)(iVar6 + 0x2c));
  if (uVar4 == 0xffffffff) {
    return 0xffffff78;
  }
  param_1[10] = uVar4;
  iVar6 = **(int **)(iVar3 + 0x20 + uVar4 * 4);
  param_1[7] = iVar6;
  if (iVar6 == 0) {
    param_1[6] = 0;
    param_1[8] = 0;
  }
  else {
    uVar5 = FUN_0044f700(piVar1,1);
    param_1[6] = uVar5;
    uVar5 = FUN_0044f700(piVar1,1);
    param_1[8] = uVar5;
    if (uVar5 == 0xffffffff) {
      return 0xffffff78;
    }
  }
  param_1[0xc] = param_2[4];
  param_1[0xd] = param_2[5];
  param_1[0xe] = param_2[6];
  param_1[0xf] = param_2[7];
  param_1[0xb] = param_2[3];
  param_1[9] = *(int *)(iVar3 + param_1[7] * 4);
  iVar6 = FUN_0044e270((int)param_1,*(int *)(iVar2 + 4) * 4);
  iVar8 = 0;
  *param_1 = iVar6;
  if (0 < *(int *)(iVar2 + 4)) {
    do {
      iVar6 = FUN_0044e270((int)param_1,param_1[9] * 4);
      *(int *)(*param_1 + iVar8 * 4) = iVar6;
      iVar8 += 1;
    } while (iVar8 < *(int *)(iVar2 + 4));
  }
  iVar2 = *(int *)(*(int *)(iVar3 + 0x20 + uVar4 * 4) + 0xc);
  uVar7 = (**(code **)((&PTR_PTR_FUN_0047200c)[*(int *)(iVar3 + 0x120 + iVar2 * 4)] + 0x10))
                    (param_1,*(undefined4 *)(iVar3 + 0x220 + iVar2 * 4));
  return uVar7;
}



undefined4 __cdecl FUN_0044e080(undefined4 *param_1,undefined4 *param_2)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  undefined4 uVar4;
  uint uVar5;
  
  iVar2 = *(int *)(param_1[0x10] + 0x68);
  iVar3 = *(int *)(*(int *)(param_1[0x10] + 4) + 0x1c);
  piVar1 = param_1 + 1;
  FUN_0044e2e0((int)param_1);
  FUN_0044f610(piVar1,*param_2,param_2[1]);
  uVar5 = FUN_0044f700(piVar1,1);
  if (uVar5 != 0) {
    return 0xffffff79;
  }
  uVar5 = FUN_0044f700(piVar1,*(int *)(iVar2 + 0x2c));
  if (uVar5 == 0xffffffff) {
    return 0xffffff78;
  }
  param_1[10] = uVar5;
  iVar2 = **(int **)(iVar3 + 0x20 + uVar5 * 4);
  param_1[7] = iVar2;
  if (iVar2 == 0) {
    param_1[6] = 0;
    param_1[8] = 0;
  }
  else {
    uVar5 = FUN_0044f700(piVar1,1);
    param_1[6] = uVar5;
    uVar5 = FUN_0044f700(piVar1,1);
    param_1[8] = uVar5;
    if (uVar5 == 0xffffffff) {
      return 0xffffff78;
    }
  }
  param_1[0xc] = param_2[4];
  param_1[0xd] = param_2[5];
  param_1[0xe] = param_2[6];
  param_1[0xf] = param_2[7];
  uVar4 = param_2[3];
  param_1[9] = 0;
  *param_1 = 0;
  param_1[0xb] = uVar4;
  return 0;
}



undefined4 __cdecl FUN_0044e150(int param_1,undefined4 *param_2)

{
  int iVar1;
  uint uVar2;
  int iVar3;
  int iVar4;
  int local_14 [5];
  
  iVar1 = *(int *)(param_1 + 0x1c);
  FUN_0044f610(local_14,*param_2,param_2[1]);
  uVar2 = FUN_0044f700(local_14,1);
  if (uVar2 != 0) {
    return 0xffffff79;
  }
  iVar4 = 0;
  for (iVar3 = *(int *)(iVar1 + 8); 1 < iVar3; iVar3 >>= 1) {
    iVar4 += 1;
  }
  uVar2 = FUN_0044f700(local_14,iVar4);
  if (uVar2 != 0xffffffff) {
    return *(undefined4 *)(iVar1 + **(int **)(iVar1 + 0x20 + uVar2 * 4) * 4);
  }
  return 0xffffff78;
}



int __fastcall FUN_0044e1d0(int param_1)

{
  int iVar1;
  uint uVar2;
  
  iVar1 = 0;
  if (param_1 != 0) {
    for (uVar2 = param_1 - 1; uVar2 != 0; uVar2 >>= 1) {
      iVar1 += 1;
    }
  }
  return iVar1;
}



undefined4 __cdecl FUN_0044e1f0(int *param_1,void *param_2)

{
  void *pvVar1;
  void *pvVar2;
  int iVar3;
  
  iVar3 = 0;
  memset(param_2,0,0x70);
  *(int **)((int)param_2 + 0x40) = param_1;
  *(undefined4 *)((int)param_2 + 0x4c) = 0;
  *(undefined4 *)((int)param_2 + 0x44) = 0;
  if (*param_1 != 0) {
    pvVar1 = calloc(1,0x48);
    *(void **)((int)param_2 + 0x68) = pvVar1;
    *(undefined4 *)((int)pvVar1 + 4) = 0xc61c3c00;
    do {
      if (iVar3 == 7) {
        *(int *)((int)pvVar1 + 0x28) = (int)param_2 + 4;
      }
      else {
        pvVar2 = calloc(1,0x14);
        *(void **)((int)pvVar1 + iVar3 * 4 + 0xc) = pvVar2;
      }
      FUN_0044f4c0(*(undefined4 **)((int)pvVar1 + iVar3 * 4 + 0xc));
      iVar3 += 1;
    } while (iVar3 < 0xf);
  }
  return 0;
}



int __cdecl FUN_0044e270(int param_1,int param_2)

{
  int iVar1;
  undefined4 *puVar2;
  void *pvVar3;
  uint _Size;
  
  _Size = param_2 + 7U & 0xfffffff8;
  if (*(int *)(param_1 + 0x4c) < (int)(*(int *)(param_1 + 0x48) + _Size)) {
    if (*(int *)(param_1 + 0x44) != 0) {
      puVar2 = (undefined4 *)malloc(8);
      *(int *)(param_1 + 0x50) = *(int *)(param_1 + 0x50) + *(int *)(param_1 + 0x48);
      puVar2[1] = *(undefined4 *)(param_1 + 0x54);
      *puVar2 = *(undefined4 *)(param_1 + 0x44);
      *(undefined4 **)(param_1 + 0x54) = puVar2;
    }
    *(uint *)(param_1 + 0x4c) = _Size;
    pvVar3 = malloc(_Size);
    *(void **)(param_1 + 0x44) = pvVar3;
    *(undefined4 *)(param_1 + 0x48) = 0;
  }
  iVar1 = *(int *)(param_1 + 0x48);
  *(uint *)(param_1 + 0x48) = iVar1 + _Size;
  return *(int *)(param_1 + 0x44) + iVar1;
}



void __cdecl FUN_0044e2e0(int param_1)

{
  undefined4 *puVar1;
  undefined4 *_Memory;
  void *pvVar2;
  
  _Memory = *(undefined4 **)(param_1 + 0x54);
  while (_Memory != NULL) {
    puVar1 = (undefined4 *)_Memory[1];
    free((void *)*_Memory);
    *_Memory = 0;
    _Memory[1] = 0;
    free(_Memory);
    _Memory = puVar1;
  }
  if (*(int *)(param_1 + 0x50) != 0) {
    pvVar2 = realloc(*(void **)(param_1 + 0x44),*(int *)(param_1 + 0x4c) + *(int *)(param_1 + 0x50))
    ;
    *(void **)(param_1 + 0x44) = pvVar2;
    *(int *)(param_1 + 0x4c) = *(int *)(param_1 + 0x4c) + *(int *)(param_1 + 0x50);
    *(undefined4 *)(param_1 + 0x50) = 0;
  }
  *(undefined4 *)(param_1 + 0x54) = 0;
  *(undefined4 *)(param_1 + 0x48) = 0;
  return;
}



undefined4 __cdecl FUN_0044e350(void *param_1)

{
  void *_Memory;
  int iVar1;
  undefined4 *puVar2;
  
  _Memory = *(void **)((int)param_1 + 0x68);
  FUN_0044e2e0((int)param_1);
  if (*(void **)((int)param_1 + 0x44) != NULL) {
    free(*(void **)((int)param_1 + 0x44));
  }
  if (_Memory != NULL) {
    iVar1 = 0;
    puVar2 = (undefined4 *)((int)_Memory + 0xc);
    do {
      FUN_0044f5e0((undefined4 *)*puVar2);
      if (iVar1 != 7) {
        free((void *)*puVar2);
      }
      iVar1 += 1;
      puVar2 = puVar2 + 1;
    } while (iVar1 < 0xf);
    free(_Memory);
  }
  memset(param_1,0,0x70);
  return 0;
}



undefined4 __cdecl FUN_0044e3d0(int param_1,int param_2)

{
  int *piVar1;
  void *pvVar2;
  int iVar3;
  void *pvVar4;
  int iVar5;
  undefined4 uVar6;
  undefined4 *unaff_EBX;
  int *piVar7;
  int local_8;
  int local_4;
  
  piVar1 = *(int **)(param_1 + 0x1c);
  if (piVar1 != NULL) {
    iVar5 = piVar1[0x392];
    memset(unaff_EBX,0,0x70);
    pvVar2 = calloc(1,0x88);
    unaff_EBX[1] = param_1;
    unaff_EBX[0x1a] = pvVar2;
    iVar3 = FUN_0044e1d0(piVar1[2]);
    *(int *)((int)pvVar2 + 0x2c) = iVar3;
    pvVar4 = calloc(1,4);
    *(void **)((int)pvVar2 + 0xc) = pvVar4;
    pvVar4 = calloc(1,4);
    *(void **)((int)pvVar2 + 0x10) = pvVar4;
    pvVar4 = calloc(1,0x14);
    **(undefined4 **)((int)pvVar2 + 0xc) = pvVar4;
    pvVar4 = calloc(1,0x14);
    **(undefined4 **)((int)pvVar2 + 0x10) = pvVar4;
    FUN_00457340((int *)**(undefined4 **)((int)pvVar2 + 0xc),*piVar1 >> ((byte)iVar5 & 0x1f));
    FUN_00457340((int *)**(undefined4 **)((int)pvVar2 + 0x10),piVar1[1] >> ((byte)iVar5 & 0x1f));
    iVar5 = FUN_0044e1d0(*piVar1);
    *(int *)((int)pvVar2 + 4) = iVar5 + -6;
    iVar5 = FUN_0044e1d0(piVar1[1]);
    *(int *)((int)pvVar2 + 8) = iVar5 + -6;
    if (param_2 == 0) {
      if (piVar1[0x2c8] == 0) {
        pvVar4 = calloc(piVar1[6],0x2c);
        piVar1[0x2c8] = (int)pvVar4;
        local_8 = 0;
        if (0 < piVar1[6]) {
          local_4 = 0;
          piVar7 = piVar1 + 0x1c8;
          do {
            FUN_004540f0((undefined4 *)(piVar1[0x2c8] + local_4),(undefined4 *)*piVar7);
            FUN_00453ff0((void *)*piVar7);
            local_4 += 0x2c;
            *piVar7 = 0;
            local_8 += 1;
            piVar7 = piVar7 + 1;
          } while (local_8 < piVar1[6]);
        }
      }
    }
    else {
      FUN_004572c0((int *)((int)pvVar2 + 0x14),*piVar1);
      FUN_004572c0((int *)((int)pvVar2 + 0x20),piVar1[1]);
      if (piVar1[0x2c8] == 0) {
        pvVar4 = calloc(piVar1[6],0x2c);
        piVar1[0x2c8] = (int)pvVar4;
        local_8 = 0;
        if (0 < piVar1[6]) {
          local_4 = 0;
          piVar7 = piVar1 + 0x1c8;
          do {
            FUN_00454080((int *)(piVar1[0x2c8] + local_4),(int *)*piVar7);
            local_4 += 0x2c;
            local_8 += 1;
            piVar7 = piVar7 + 1;
          } while (local_8 < piVar1[6]);
        }
      }
      pvVar4 = calloc(piVar1[7],0x34);
      *(void **)((int)pvVar2 + 0x38) = pvVar4;
      local_8 = 0;
      if (0 < piVar1[7]) {
        local_4 = 0;
        piVar7 = piVar1 + 0x2c9;
        do {
          FUN_004505c0((undefined4 *)(*(int *)((int)pvVar2 + 0x38) + local_4),*piVar7,piVar1 + 0x2cd
                       ,(float *)(piVar1[*(int *)*piVar7] / 2),*(int *)(param_1 + 8));
          local_4 += 0x34;
          local_8 += 1;
          piVar7 = piVar7 + 1;
        } while (local_8 < piVar1[7]);
      }
      *unaff_EBX = 1;
    }
    unaff_EBX[4] = piVar1[1];
    pvVar4 = malloc(*(int *)(param_1 + 4) * 4);
    unaff_EBX[2] = pvVar4;
    pvVar4 = malloc(*(int *)(param_1 + 4) * 4);
    iVar5 = 0;
    unaff_EBX[3] = pvVar4;
    if (0 < *(int *)(param_1 + 4)) {
      do {
        pvVar4 = calloc(unaff_EBX[4],4);
        *(void **)(unaff_EBX[2] + iVar5 * 4) = pvVar4;
        iVar5 += 1;
      } while (iVar5 < *(int *)(param_1 + 4));
    }
    unaff_EBX[9] = 0;
    unaff_EBX[10] = 0;
    iVar5 = piVar1[1];
    unaff_EBX[0xc] = iVar5 / 2;
    unaff_EBX[5] = iVar5 / 2;
    pvVar4 = calloc(piVar1[4],4);
    *(void **)((int)pvVar2 + 0x30) = pvVar4;
    pvVar4 = calloc(piVar1[5],4);
    *(void **)((int)pvVar2 + 0x34) = pvVar4;
    local_8 = 0;
    if (0 < piVar1[4]) {
      piVar7 = piVar1 + 0x108;
      do {
        uVar6 = (**(code **)((&PTR_DAT_00471ff8)[piVar7[-0x40]] + 8))();
        *(undefined4 *)((int)piVar7 + *(int *)((int)pvVar2 + 0x30) + (-0x420 - (int)piVar1)) = uVar6
        ;
        local_8 += 1;
        piVar7 = piVar7 + 1;
      } while (local_8 < piVar1[4]);
    }
    local_8 = 0;
    if (0 < piVar1[5]) {
      piVar7 = piVar1 + 0x188;
      do {
        uVar6 = (**(code **)((&PTR_DAT_00472000)[piVar7[-0x40]] + 8))();
        *(undefined4 *)((int)piVar7 + *(int *)((int)pvVar2 + 0x34) + (-0x620 - (int)piVar1)) = uVar6
        ;
        local_8 += 1;
        piVar7 = piVar7 + 1;
      } while (local_8 < piVar1[5]);
    }
    return 0;
  }
  return 1;
}



void __cdecl FUN_0044e750(void *param_1)

{
  int iVar1;
  undefined4 *_Memory;
  int iVar2;
  int *piVar3;
  int iVar4;
  int iVar5;
  
  if (param_1 != NULL) {
    iVar1 = *(int *)((int)param_1 + 4);
    if (iVar1 == 0) {
      iVar5 = 0;
    }
    else {
      iVar5 = *(int *)(iVar1 + 0x1c);
    }
    _Memory = *(undefined4 **)((int)param_1 + 0x68);
    if (_Memory != NULL) {
      if ((void *)*_Memory != NULL) {
        FUN_00458430((void *)*_Memory);
        free((void *)*_Memory);
      }
      if ((undefined4 *)_Memory[3] != NULL) {
        FUN_00457cd0(*(undefined4 **)_Memory[3]);
        free(*(void **)_Memory[3]);
        free((void *)_Memory[3]);
      }
      if ((undefined4 *)_Memory[4] != NULL) {
        FUN_00457cd0(*(undefined4 **)_Memory[4]);
        free(*(void **)_Memory[4]);
        free((void *)_Memory[4]);
      }
      if (_Memory[0xc] != 0) {
        if ((iVar5 != 0) && (iVar2 = 0, 0 < *(int *)(iVar5 + 0x10))) {
          piVar3 = (int *)(iVar5 + 800);
          do {
            (**(code **)((&PTR_DAT_00471ff8)[*piVar3] + 0x10))
                      (*(undefined4 *)(_Memory[0xc] + iVar2 * 4));
            iVar2 += 1;
            piVar3 = piVar3 + 1;
          } while (iVar2 < *(int *)(iVar5 + 0x10));
        }
        free((void *)_Memory[0xc]);
      }
      if (_Memory[0xd] != 0) {
        if ((iVar5 != 0) && (iVar2 = 0, 0 < *(int *)(iVar5 + 0x14))) {
          piVar3 = (int *)(iVar5 + 0x520);
          do {
            (**(code **)((&PTR_DAT_00472000)[*piVar3] + 0x10))
                      (*(undefined4 *)(_Memory[0xd] + iVar2 * 4));
            iVar2 += 1;
            piVar3 = piVar3 + 1;
          } while (iVar2 < *(int *)(iVar5 + 0x14));
        }
        free((void *)_Memory[0xd]);
      }
      if (_Memory[0xe] != 0) {
        if ((iVar5 != 0) && (iVar2 = 0, 0 < *(int *)(iVar5 + 0x1c))) {
          iVar4 = 0;
          do {
            FUN_00450d30((void *)(_Memory[0xe] + iVar4));
            iVar2 += 1;
            iVar4 += 0x34;
          } while (iVar2 < *(int *)(iVar5 + 0x1c));
        }
        free((void *)_Memory[0xe]);
      }
      if ((undefined4 *)_Memory[0xf] != NULL) {
        FUN_0044f7e0((undefined4 *)_Memory[0xf]);
      }
      FUN_004583f0(_Memory + 0x14);
      FUN_00457300(_Memory + 5);
      FUN_00457300(_Memory + 8);
    }
    if (*(int *)((int)param_1 + 8) != 0) {
      if ((iVar1 != 0) && (iVar5 = 0, 0 < *(int *)(iVar1 + 4))) {
        do {
          if (*(int *)(*(int *)((int)param_1 + 8) + iVar5 * 4) != 0) {
            free(*(void **)(*(int *)((int)param_1 + 8) + iVar5 * 4));
          }
          iVar5 += 1;
        } while (iVar5 < *(int *)(iVar1 + 4));
      }
      free(*(void **)((int)param_1 + 8));
      if (*(void **)((int)param_1 + 0xc) != NULL) {
        free(*(void **)((int)param_1 + 0xc));
      }
    }
    if (_Memory != NULL) {
      if ((void *)_Memory[0x10] != NULL) {
        free((void *)_Memory[0x10]);
      }
      if ((void *)_Memory[0x11] != NULL) {
        free((void *)_Memory[0x11]);
      }
      if ((void *)_Memory[0x12] != NULL) {
        free((void *)_Memory[0x12]);
      }
      free(_Memory);
    }
    memset(param_1,0,0x70);
  }
  return;
}



undefined4 __cdecl FUN_0044e9a0(int param_1)

{
  int iVar1;
  byte bVar2;
  int iVar3;
  
  iVar1 = *(int *)(param_1 + 0x68);
  if (((iVar1 != 0) && (*(int *)(param_1 + 4) != 0)) &&
     (iVar3 = *(int *)(*(int *)(param_1 + 4) + 0x1c), iVar3 != 0)) {
    bVar2 = (byte)*(undefined4 *)(iVar3 + 0xe48);
    iVar3 = *(int *)(iVar3 + 4) >> (bVar2 + 1 & 0x1f);
    *(undefined4 *)(param_1 + 0x20) = 0;
    *(int *)(param_1 + 0x30) = iVar3;
    *(undefined4 *)(param_1 + 0x18) = 0xffffffff;
    *(undefined4 *)(param_1 + 0x38) = 0xffffffff;
    *(int *)(param_1 + 0x14) = iVar3 >> (bVar2 & 0x1f);
    *(undefined4 *)(param_1 + 0x3c) = 0xffffffff;
    *(undefined4 *)(param_1 + 0x40) = 0xffffffff;
    *(undefined4 *)(param_1 + 0x44) = 0xffffffff;
    *(undefined4 *)(iVar1 + 0x80) = 0xffffffff;
    *(undefined4 *)(iVar1 + 0x84) = 0xffffffff;
    return 0;
  }
  return 0xffffffff;
}



undefined4 __cdecl FUN_0044ea10(int param_1,int param_2)

{
  int iVar1;
  
  iVar1 = FUN_0044e3d0(param_2,0);
  if (iVar1 != 0) {
    return 1;
  }
  FUN_0044e9a0(param_1);
  return 0;
}



undefined4 __cdecl FUN_0044ea40(int param_1,int *param_2)

{
  uint *puVar1;
  int *piVar2;
  int iVar3;
  int iVar4;
  uint uVar5;
  byte bVar6;
  int iVar7;
  undefined *puVar8;
  float *pfVar9;
  float *pfVar10;
  int iVar11;
  float *pfVar12;
  undefined4 *puVar13;
  uint uVar14;
  int iVar15;
  byte bVar16;
  int iVar17;
  int iVar18;
  int iVar19;
  int iVar20;
  undefined4 *puVar21;
  int iVar22;
  float *pfVar23;
  uint uVar24;
  int iVar25;
  int iVar26;
  undefined8 uVar27;
  int local_3c;
  uint local_2c;
  float *local_18;
  uint local_14;
  float *local_10;
  float *local_8;
  
  iVar15 = *(int *)(param_1 + 4);
  piVar2 = *(int **)(iVar15 + 0x1c);
  iVar3 = *(int *)(param_1 + 0x68);
  iVar4 = piVar2[0x392];
  if (param_2 == NULL) {
    return 0xffffff7d;
  }
  if ((*(int *)(param_1 + 0x18) < *(int *)(param_1 + 0x14)) && (*(int *)(param_1 + 0x18) != -1)) {
    return 0xffffff7d;
  }
  *(undefined4 *)(param_1 + 0x24) = *(undefined4 *)(param_1 + 0x28);
  *(int *)(param_1 + 0x28) = param_2[7];
  uVar5 = *(uint *)(param_1 + 0x40);
  *(undefined4 *)(param_1 + 0x2c) = 0xffffffff;
  if ((((uVar5 & *(uint *)(param_1 + 0x44)) == 0xffffffff) || (uVar5 + 1 != param_2[0xe])) ||
     (*(uint *)(param_1 + 0x44) + (uint)(0xfffffffe < uVar5) != param_2[0xf])) {
    *(undefined4 *)(param_1 + 0x38) = 0xffffffff;
    *(undefined4 *)(param_1 + 0x3c) = 0xffffffff;
    *(undefined4 *)(iVar3 + 0x80) = 0xffffffff;
    *(undefined4 *)(iVar3 + 0x84) = 0xffffffff;
  }
  *(int *)(param_1 + 0x40) = param_2[0xe];
  *(int *)(param_1 + 0x44) = param_2[0xf];
  bVar6 = (byte)iVar4;
  if (*param_2 != 0) {
    bVar16 = bVar6 + 1;
    iVar7 = piVar2[*(int *)(param_1 + 0x28)] >> (bVar16 & 0x1f);
    iVar22 = *piVar2 >> (bVar16 & 0x1f);
    uVar24 = piVar2[1] >> (bVar16 & 0x1f);
    uVar14 = param_2[0x16];
    puVar1 = (uint *)(param_1 + 0x48);
    uVar5 = *puVar1;
    *puVar1 = *puVar1 + uVar14;
    *(int *)(param_1 + 0x4c) =
         *(int *)(param_1 + 0x4c) + ((int)uVar14 >> 0x1f) + (uint)CARRY4(uVar5,uVar14);
    uVar14 = param_2[0x17];
    puVar1 = (uint *)(param_1 + 0x50);
    uVar5 = *puVar1;
    *puVar1 = *puVar1 + uVar14;
    *(int *)(param_1 + 0x54) =
         *(int *)(param_1 + 0x54) + ((int)uVar14 >> 0x1f) + (uint)CARRY4(uVar5,uVar14);
    uVar14 = param_2[0x18];
    puVar1 = (uint *)(param_1 + 0x58);
    uVar5 = *puVar1;
    *puVar1 = *puVar1 + uVar14;
    *(int *)(param_1 + 0x5c) =
         *(int *)(param_1 + 0x5c) + ((int)uVar14 >> 0x1f) + (uint)CARRY4(uVar5,uVar14);
    uVar14 = param_2[0x19];
    puVar1 = (uint *)(param_1 + 0x60);
    uVar5 = *puVar1;
    *puVar1 = *puVar1 + uVar14;
    *(int *)(param_1 + 100) =
         *(int *)(param_1 + 100) + ((int)uVar14 >> 0x1f) + (uint)CARRY4(uVar5,uVar14);
    if (*(int *)(param_1 + 0x30) == 0) {
      local_14 = 0;
      local_2c = uVar24;
    }
    else {
      local_2c = 0;
      local_14 = uVar24;
    }
    local_3c = 0;
    if (0 < *(int *)(iVar15 + 4)) {
      do {
        if (*(int *)(param_1 + 0x24) == 0) {
          if (*(int *)(param_1 + 0x28) == 0) {
            puVar8 = FUN_004584a0(*(int *)(iVar3 + 4) - iVar4);
            iVar20 = *(int *)(*(int *)(param_1 + 8) + local_3c * 4) + local_2c * 4;
            iVar18 = *(int *)(*param_2 + local_3c * 4);
            iVar19 = 0;
            if (3 < iVar22) {
              pfVar10 = (float *)(iVar20 + 4);
              pfVar12 = (float *)(puVar8 + 8);
              pfVar23 = (float *)(puVar8 + iVar22 * 4 + -8);
              do {
                iVar25 = iVar19 * 4;
                pfVar9 = (float *)(((int)puVar8 - iVar20) + (int)pfVar10);
                iVar19 += 4;
                pfVar10[-1] = pfVar23[1] * pfVar10[-1] + *(float *)(iVar18 + iVar25) * pfVar12[-2];
                *pfVar10 = *pfVar23 * *pfVar10 +
                           *(float *)((iVar18 - (int)puVar8) + (int)pfVar9) * *pfVar9;
                pfVar10[1] = pfVar23[-1] * pfVar10[1] +
                             *(float *)((int)pfVar12 + (iVar18 - (int)puVar8)) * *pfVar12;
                pfVar10[2] = pfVar23[-2] * pfVar10[2] +
                             *(float *)(iVar18 + -4 + iVar19 * 4) * pfVar12[1];
                pfVar10 = pfVar10 + 4;
                pfVar12 = pfVar12 + 4;
                pfVar23 = pfVar23 + -4;
              } while (iVar19 < iVar22 + -3);
            }
            if (iVar19 < iVar22) {
              iVar25 = iVar22 - iVar19;
              pfVar10 = (float *)(iVar20 + iVar19 * 4);
              local_8 = (float *)(puVar8 + (iVar22 - iVar19) * 4 + -4);
              do {
                pfVar12 = (float *)((int)pfVar10 + ((int)puVar8 - iVar20));
                iVar25 += -1;
                *pfVar10 = *pfVar10 * *local_8 +
                           *(float *)((int)pfVar12 + (iVar18 - (int)puVar8)) * *pfVar12;
                pfVar10 = pfVar10 + 1;
                local_8 = local_8 + -1;
              } while (iVar25 != 0);
            }
          }
          else {
            puVar8 = FUN_004584a0(*(int *)(iVar3 + 4) - iVar4);
            iVar20 = *(int *)(*(int *)(param_1 + 8) + local_3c * 4) + local_2c * 4;
            iVar18 = *(int *)(*param_2 + local_3c * 4) + ((int)uVar24 / 2 - iVar22 / 2) * 4;
            iVar19 = 0;
            if (3 < iVar22) {
              pfVar10 = (float *)(iVar20 + 4);
              pfVar12 = (float *)(puVar8 + 8);
              pfVar23 = (float *)(puVar8 + iVar22 * 4 + -8);
              do {
                iVar25 = iVar19 * 4;
                pfVar9 = (float *)(((int)puVar8 - iVar20) + (int)pfVar10);
                iVar19 += 4;
                pfVar10[-1] = pfVar23[1] * pfVar10[-1] + *(float *)(iVar18 + iVar25) * pfVar12[-2];
                *pfVar10 = *pfVar23 * *pfVar10 +
                           *(float *)((iVar18 - (int)puVar8) + (int)pfVar9) * *pfVar9;
                pfVar10[1] = pfVar23[-1] * pfVar10[1] +
                             *(float *)((int)pfVar12 + (iVar18 - (int)puVar8)) * *pfVar12;
                pfVar10[2] = pfVar23[-2] * pfVar10[2] +
                             *(float *)(iVar18 + -4 + iVar19 * 4) * pfVar12[1];
                pfVar10 = pfVar10 + 4;
                pfVar12 = pfVar12 + 4;
                pfVar23 = pfVar23 + -4;
              } while (iVar19 < iVar22 + -3);
            }
            if (iVar19 < iVar22) {
              iVar11 = iVar22 - iVar19;
              iVar26 = iVar22 - iVar19;
              iVar25 = iVar19 * 4;
              iVar19 += iVar26;
              pfVar10 = (float *)(iVar20 + iVar25);
              local_10 = (float *)(puVar8 + iVar11 * 4 + -4);
              do {
                pfVar12 = (float *)(((int)puVar8 - iVar20) + (int)pfVar10);
                iVar26 += -1;
                *pfVar10 = *pfVar10 * *local_10 +
                           *(float *)((int)pfVar12 + (iVar18 - (int)puVar8)) * *pfVar12;
                pfVar10 = pfVar10 + 1;
                local_10 = local_10 + -1;
              } while (iVar26 != 0);
            }
            iVar25 = (int)uVar24 / 2 + iVar22 / 2;
            if (iVar19 < iVar25) {
              if (3 < iVar25 - iVar19) {
                iVar11 = iVar19 * 4;
                iVar26 = iVar19 * 4;
                iVar17 = ((iVar25 - iVar19) - 4U >> 2) + 1;
                iVar19 += iVar17 * 4;
                puVar13 = (undefined4 *)(iVar20 + 4 + iVar11);
                puVar21 = (undefined4 *)(iVar18 + 0xc + iVar26);
                do {
                  puVar13[-1] = puVar21[-3];
                  iVar17 += -1;
                  *puVar13 = *(undefined4 *)((iVar18 - iVar20) + -0x10 + (int)(puVar13 + 4));
                  puVar13[1] = puVar21[-1];
                  puVar13[2] = *puVar21;
                  puVar13 = puVar13 + 4;
                  puVar21 = puVar21 + 4;
                } while (iVar17 != 0);
              }
              if (iVar19 < iVar25) {
                iVar25 -= iVar19;
                puVar13 = (undefined4 *)(iVar20 + iVar19 * 4);
                do {
                  iVar25 += -1;
                  *puVar13 = *(undefined4 *)((int)puVar13 + (iVar18 - iVar20));
                  puVar13 = puVar13 + 1;
                } while (iVar25 != 0);
              }
            }
          }
        }
        else if (*(int *)(param_1 + 0x28) == 0) {
          puVar8 = FUN_004584a0(*(int *)(iVar3 + 4) - iVar4);
          iVar20 = *(int *)(*(int *)(param_1 + 8) + local_3c * 4) +
                   (((int)uVar24 / 2 - iVar22 / 2) + local_2c) * 4;
          iVar18 = *(int *)(*param_2 + local_3c * 4);
          iVar19 = 0;
          if (3 < iVar22) {
            pfVar10 = (float *)(iVar20 + 4);
            pfVar12 = (float *)(puVar8 + 8);
            pfVar23 = (float *)(puVar8 + iVar22 * 4 + -8);
            do {
              iVar25 = iVar19 * 4;
              pfVar9 = (float *)(((int)puVar8 - iVar20) + (int)pfVar10);
              iVar19 += 4;
              pfVar10[-1] = pfVar23[1] * pfVar10[-1] + *(float *)(iVar18 + iVar25) * pfVar12[-2];
              *pfVar10 = *pfVar23 * *pfVar10 +
                         *(float *)((iVar18 - (int)puVar8) + (int)pfVar9) * *pfVar9;
              pfVar10[1] = pfVar23[-1] * pfVar10[1] +
                           *(float *)((int)pfVar12 + (iVar18 - (int)puVar8)) * *pfVar12;
              pfVar10[2] = pfVar23[-2] * pfVar10[2] +
                           *(float *)(iVar18 + -4 + iVar19 * 4) * pfVar12[1];
              pfVar10 = pfVar10 + 4;
              pfVar12 = pfVar12 + 4;
              pfVar23 = pfVar23 + -4;
            } while (iVar19 < iVar22 + -3);
          }
          if (iVar19 < iVar22) {
            iVar25 = iVar22 - iVar19;
            pfVar10 = (float *)(iVar20 + iVar19 * 4);
            local_10 = (float *)(puVar8 + (iVar22 - iVar19) * 4 + -4);
            do {
              pfVar12 = (float *)((int)pfVar10 + ((int)puVar8 - iVar20));
              iVar25 += -1;
              *pfVar10 = *pfVar10 * *local_10 +
                         *(float *)((int)pfVar12 + (iVar18 - (int)puVar8)) * *pfVar12;
              pfVar10 = pfVar10 + 1;
              local_10 = local_10 + -1;
            } while (iVar25 != 0);
          }
        }
        else {
          puVar8 = FUN_004584a0(*(int *)(iVar3 + 8) - iVar4);
          iVar20 = *(int *)(*(int *)(param_1 + 8) + local_3c * 4) + local_2c * 4;
          iVar18 = *(int *)(*param_2 + local_3c * 4);
          iVar19 = 0;
          if (3 < (int)uVar24) {
            pfVar10 = (float *)(iVar20 + 4);
            pfVar12 = (float *)(puVar8 + 8);
            pfVar23 = (float *)(puVar8 + uVar24 * 4 + -8);
            do {
              iVar25 = iVar19 * 4;
              pfVar9 = (float *)(((int)puVar8 - iVar20) + (int)pfVar10);
              iVar19 += 4;
              pfVar10[-1] = pfVar23[1] * pfVar10[-1] + *(float *)(iVar18 + iVar25) * pfVar12[-2];
              *pfVar10 = *pfVar23 * *pfVar10 +
                         *(float *)((int)pfVar9 + (iVar18 - (int)puVar8)) * *pfVar9;
              pfVar10[1] = pfVar23[-1] * pfVar10[1] +
                           *(float *)((int)pfVar12 + (iVar18 - (int)puVar8)) * *pfVar12;
              pfVar10[2] = pfVar23[-2] * pfVar10[2] +
                           *(float *)(iVar18 + -4 + iVar19 * 4) * pfVar12[1];
              pfVar10 = pfVar10 + 4;
              pfVar12 = pfVar12 + 4;
              pfVar23 = pfVar23 + -4;
            } while (iVar19 < (int)(uVar24 - 3));
          }
          if (iVar19 < (int)uVar24) {
            iVar25 = uVar24 - iVar19;
            pfVar10 = (float *)(iVar20 + iVar19 * 4);
            local_18 = (float *)(puVar8 + (uVar24 - iVar19) * 4 + -4);
            do {
              pfVar12 = (float *)((int)pfVar10 + ((int)puVar8 - iVar20));
              iVar25 += -1;
              *pfVar10 = *pfVar10 * *local_18 +
                         *(float *)((int)pfVar12 + (iVar18 - (int)puVar8)) * *pfVar12;
              pfVar10 = pfVar10 + 1;
              local_18 = local_18 + -1;
            } while (iVar25 != 0);
          }
        }
        iVar18 = *(int *)(*(int *)(param_1 + 8) + local_3c * 4) + local_14 * 4;
        iVar19 = *(int *)(*param_2 + local_3c * 4) + iVar7 * 4;
        iVar20 = 0;
        if (3 < iVar7) {
          iVar25 = (iVar7 - 4U >> 2) + 1;
          iVar20 = iVar25 * 4;
          puVar13 = (undefined4 *)(iVar18 + 4);
          puVar21 = (undefined4 *)(iVar19 + 0xc);
          do {
            puVar13[-1] = puVar21[-3];
            iVar25 += -1;
            *puVar13 = *(undefined4 *)((iVar19 - iVar18) + -0x10 + (int)(puVar13 + 4));
            puVar13[1] = puVar21[-1];
            puVar13[2] = *puVar21;
            puVar13 = puVar13 + 4;
            puVar21 = puVar21 + 4;
          } while (iVar25 != 0);
        }
        if (iVar20 < iVar7) {
          iVar25 = iVar7 - iVar20;
          puVar13 = (undefined4 *)(iVar18 + iVar20 * 4);
          do {
            iVar25 += -1;
            *puVar13 = *(undefined4 *)((int)puVar13 + (iVar19 - iVar18));
            puVar13 = puVar13 + 1;
          } while (iVar25 != 0);
        }
        local_3c += 1;
      } while (local_3c < *(int *)(iVar15 + 4));
    }
    *(uint *)(param_1 + 0x30) = ~-(uint)(*(int *)(param_1 + 0x30) != 0) & uVar24;
    if (*(int *)(param_1 + 0x18) == -1) {
      *(uint *)(param_1 + 0x18) = local_14;
      *(uint *)(param_1 + 0x14) = local_14;
    }
    else {
      *(uint *)(param_1 + 0x18) = local_2c;
      *(uint *)(param_1 + 0x14) =
           (((int)(piVar2[*(int *)(param_1 + 0x28)] +
                  (piVar2[*(int *)(param_1 + 0x28)] >> 0x1f & 3U)) >> 2) +
            ((int)(piVar2[*(int *)(param_1 + 0x24)] +
                  (piVar2[*(int *)(param_1 + 0x24)] >> 0x1f & 3U)) >> 2) >> (bVar6 & 0x1f)) +
           local_2c;
    }
  }
  uVar5 = *(uint *)(iVar3 + 0x80);
  if ((uVar5 & *(uint *)(iVar3 + 0x84)) == 0xffffffff) {
    *(undefined4 *)(iVar3 + 0x80) = 0;
    *(undefined4 *)(iVar3 + 0x84) = 0;
  }
  else {
    uVar14 = ((int)(piVar2[*(int *)(param_1 + 0x24)] +
                   (piVar2[*(int *)(param_1 + 0x24)] >> 0x1f & 3U)) >> 2) +
             ((int)(piVar2[*(int *)(param_1 + 0x28)] +
                   (piVar2[*(int *)(param_1 + 0x28)] >> 0x1f & 3U)) >> 2);
    *(uint *)(iVar3 + 0x80) = uVar14 + uVar5;
    *(uint *)(iVar3 + 0x84) =
         ((int)uVar14 >> 0x1f) + *(uint *)(iVar3 + 0x84) + (uint)CARRY4(uVar14,uVar5);
  }
  uVar5 = *(uint *)(param_1 + 0x38);
  if ((uVar5 & *(uint *)(param_1 + 0x3c)) == 0xffffffff) {
    uVar5 = param_2[0xc];
    if ((uVar5 & param_2[0xd]) != 0xffffffff) {
      *(int *)(param_1 + 0x3c) = param_2[0xd];
      *(uint *)(param_1 + 0x38) = uVar5;
      iVar15 = *(int *)(iVar3 + 0x84);
      uVar5 = *(uint *)(iVar3 + 0x80);
      iVar3 = *(int *)(param_1 + 0x3c);
      uVar14 = *(uint *)(param_1 + 0x38);
      if ((iVar3 <= iVar15) && ((iVar3 < iVar15 || (uVar14 < uVar5)))) {
        if (param_2[0xb] == 0) {
          uVar27 = __allshr(bVar6,(iVar15 - iVar3) - (uint)(uVar5 < uVar14));
          *(int *)(param_1 + 0x18) = *(int *)(param_1 + 0x18) + (int)uVar27;
          if (*(int *)(param_1 + 0x14) < *(int *)(param_1 + 0x18)) {
            *(int *)(param_1 + 0x18) = *(int *)(param_1 + 0x14);
          }
        }
        else {
          uVar27 = __allshr(bVar6,(iVar15 - iVar3) - (uint)(uVar5 < uVar14));
          *(int *)(param_1 + 0x14) = *(int *)(param_1 + 0x14) - (int)uVar27;
        }
      }
    }
  }
  else {
    uVar14 = ((int)(piVar2[*(int *)(param_1 + 0x24)] +
                   (piVar2[*(int *)(param_1 + 0x24)] >> 0x1f & 3U)) >> 2) +
             ((int)(piVar2[*(int *)(param_1 + 0x28)] +
                   (piVar2[*(int *)(param_1 + 0x28)] >> 0x1f & 3U)) >> 2);
    *(uint *)(param_1 + 0x3c) =
         ((int)uVar14 >> 0x1f) + *(uint *)(param_1 + 0x3c) + (uint)CARRY4(uVar14,uVar5);
    *(uint *)(param_1 + 0x38) = uVar14 + uVar5;
    uVar5 = param_2[0xc];
    uVar14 = param_2[0xd];
    if ((uVar5 & uVar14) != 0xffffffff) {
      uVar24 = *(uint *)(param_1 + 0x3c);
      if ((*(uint *)(param_1 + 0x38) != uVar5) || (uVar24 != uVar14)) {
        if (((((int)uVar14 <= (int)uVar24) &&
             (((int)uVar14 < (int)uVar24 || (uVar5 < *(uint *)(param_1 + 0x38))))) &&
            (iVar15 = *(int *)(param_1 + 0x38) - param_2[0xc], iVar15 != 0)) && (param_2[0xb] != 0))
        {
          *(int *)(param_1 + 0x14) = *(int *)(param_1 + 0x14) - (iVar15 >> (bVar6 & 0x1f));
        }
        *(int *)(param_1 + 0x38) = param_2[0xc];
        *(int *)(param_1 + 0x3c) = param_2[0xd];
      }
    }
  }
  if (param_2[0xb] != 0) {
    *(undefined4 *)(param_1 + 0x20) = 1;
  }
  return 0;
}



int __cdecl FUN_0044f440(int param_1,undefined4 *param_2)

{
  int iVar1;
  int iVar2;
  
  iVar1 = *(int *)(param_1 + 4);
  if ((-1 < *(int *)(param_1 + 0x18)) && (*(int *)(param_1 + 0x18) < *(int *)(param_1 + 0x14))) {
    if (param_2 != NULL) {
      iVar2 = 0;
      if (0 < *(int *)(iVar1 + 4)) {
        do {
          *(int *)(*(int *)(param_1 + 0xc) + iVar2 * 4) =
               *(int *)(*(int *)(param_1 + 8) + iVar2 * 4) + *(int *)(param_1 + 0x18) * 4;
          iVar2 += 1;
        } while (iVar2 < *(int *)(iVar1 + 4));
      }
      *param_2 = *(undefined4 *)(param_1 + 0xc);
    }
    return *(int *)(param_1 + 0x14) - *(int *)(param_1 + 0x18);
  }
  return 0;
}



undefined4 __cdecl FUN_0044f490(int param_1,int param_2)

{
  if ((param_2 != 0) && (*(int *)(param_1 + 0x14) < *(int *)(param_1 + 0x18) + param_2)) {
    return 0xffffff7d;
  }
  *(int *)(param_1 + 0x18) = *(int *)(param_1 + 0x18) + param_2;
  return 0;
}



void __cdecl FUN_0044f4c0(undefined4 *param_1)

{
  undefined1 *puVar1;
  
  *param_1 = 0;
  param_1[1] = 0;
  param_1[2] = 0;
  param_1[3] = 0;
  param_1[4] = 0;
  puVar1 = (undefined1 *)malloc(0x100);
  param_1[2] = puVar1;
  param_1[3] = puVar1;
  *puVar1 = 0;
  param_1[4] = 0x100;
  return;
}



void __cdecl FUN_0044f500(int *param_1,uint param_2,int param_3)

{
  void *pvVar1;
  uint uVar2;
  int iVar3;
  uint uVar4;
  
  if (param_1[4] <= *param_1 + 4) {
    pvVar1 = realloc((void *)param_1[2],param_1[4] + 0x100);
    param_1[4] = param_1[4] + 0x100;
    param_1[2] = (int)pvVar1;
    param_1[3] = *param_1 + (int)pvVar1;
  }
  uVar2 = param_2 & INT_ARRAY_0045f810[param_3];
  uVar4 = param_3 + param_1[1];
  *(byte *)param_1[3] = *(byte *)param_1[3] | (char)uVar2 << ((byte)param_1[1] & 0x1f);
  if ((((7 < (int)uVar4) &&
       (*(char *)(param_1[3] + 1) = (char)(uVar2 >> (8U - (char)param_1[1] & 0x1f)),
       0xf < (int)uVar4)) &&
      (*(char *)(param_1[3] + 2) = (char)(uVar2 >> (0x10U - (char)param_1[1] & 0x1f)),
      0x17 < (int)uVar4)) &&
     (*(char *)(param_1[3] + 3) = (char)(uVar2 >> (0x18U - (char)param_1[1] & 0x1f)),
     0x1f < (int)uVar4)) {
    if (param_1[1] == 0) {
      *(undefined1 *)(param_1[3] + 4) = 0;
    }
    else {
      *(char *)(param_1[3] + 4) = (char)(uVar2 >> (0x20U - (char)param_1[1] & 0x1f));
    }
  }
  iVar3 = (int)(uVar4 + ((int)uVar4 >> 0x1f & 7U)) >> 3;
  *param_1 = *param_1 + iVar3;
  param_1[3] = param_1[3] + iVar3;
  param_1[1] = uVar4 & 7;
  return;
}



void __cdecl FUN_0044f5e0(undefined4 *param_1)

{
  free((void *)param_1[2]);
  *param_1 = 0;
  param_1[1] = 0;
  param_1[2] = 0;
  param_1[3] = 0;
  param_1[4] = 0;
  return;
}



void __cdecl FUN_0044f610(undefined4 *param_1,undefined4 param_2,undefined4 param_3)

{
  *param_1 = 0;
  param_1[1] = 0;
  param_1[3] = param_2;
  param_1[2] = param_2;
  param_1[4] = param_3;
  return;
}



uint __cdecl FUN_0044f630(int *param_1,int param_2)

{
  int iVar1;
  byte *pbVar2;
  char cVar3;
  uint uVar4;
  int iVar5;
  
  iVar1 = param_1[1];
  iVar5 = param_2 + iVar1;
  if ((param_1[4] <= *param_1 + 4) && (param_1[4] * 8 < iVar5 + *param_1 * 8)) {
    return 0xffffffff;
  }
  pbVar2 = (byte *)param_1[3];
  uVar4 = (uint)(*pbVar2 >> (*(byte *)(param_1 + 1) & 0x1f));
  if (((8 < iVar5) &&
      (((cVar3 = (char)iVar1, uVar4 |= (uint)pbVar2[1] << (8U - cVar3 & 0x1f), 0x10 < iVar5 &&
        (uVar4 |= (uint)pbVar2[2] << (0x10U - cVar3 & 0x1f), 0x18 < iVar5)) &&
       (uVar4 |= (uint)pbVar2[3] << (0x18U - cVar3 & 0x1f), 0x20 < iVar5)))) && (iVar1 != 0)) {
    uVar4 |= (uint)pbVar2[4] << (0x20U - cVar3 & 0x1f);
  }
  return uVar4 & INT_ARRAY_0045f810[param_2];
}



void __cdecl FUN_0044f6d0(int *param_1,int param_2)

{
  int iVar1;
  uint uVar2;
  
  uVar2 = param_2 + param_1[1];
  iVar1 = (int)(uVar2 + ((int)uVar2 >> 0x1f & 7U)) >> 3;
  param_1[3] = param_1[3] + iVar1;
  *param_1 = *param_1 + iVar1;
  param_1[1] = uVar2 & 7;
  return;
}



uint __cdecl FUN_0044f700(int *param_1,int param_2)

{
  byte *pbVar1;
  byte bVar2;
  int iVar3;
  uint uVar4;
  uint uVar5;
  
  iVar3 = param_1[1];
  uVar4 = param_2 + iVar3;
  if ((*param_1 + 4 < param_1[4]) ||
     (uVar5 = 0xffffffff, (int)(uVar4 + *param_1 * 8) <= param_1[4] * 8)) {
    pbVar1 = (byte *)param_1[3];
    bVar2 = (byte)iVar3;
    uVar5 = (uint)(*pbVar1 >> (bVar2 & 0x1f));
    if (((8 < (int)uVar4) &&
        (((uVar5 |= (uint)pbVar1[1] << (8 - bVar2 & 0x1f), 0x10 < (int)uVar4 &&
          (uVar5 |= (uint)pbVar1[2] << (0x10 - bVar2 & 0x1f), 0x18 < (int)uVar4)) &&
         (uVar5 |= (uint)pbVar1[3] << (0x18 - bVar2 & 0x1f), 0x20 < (int)uVar4)))) && (iVar3 != 0))
    {
      uVar5 |= (uint)pbVar1[4] << (0x20 - bVar2 & 0x1f);
    }
    uVar5 &= INT_ARRAY_0045f810[param_2];
  }
  iVar3 = (int)(uVar4 + ((int)uVar4 >> 0x1f & 7U)) >> 3;
  param_1[3] = param_1[3] + iVar3;
  *param_1 = iVar3 + *param_1;
  param_1[1] = uVar4 & 7;
  return uVar5;
}



float10 __cdecl FUN_0044f7c0(uint param_1)

{
  return (float10)(float)(param_1 & 0xbf800000 | 0x3f800000);
}



void __cdecl FUN_0044f7e0(undefined4 *param_1)

{
  if (param_1 != NULL) {
    *param_1 = 0;
    param_1[1] = 0;
    param_1[2] = 0;
    param_1[3] = 0;
    param_1[4] = 0;
    param_1[5] = 0;
    param_1[6] = 0;
    param_1[7] = 0;
    param_1[8] = 0;
    free(param_1);
    return;
  }
  return;
}



void __cdecl FUN_0044f810(void *param_1)

{
  if (param_1 != NULL) {
    memset(param_1,0,0x210);
    free(param_1);
  }
  return;
}



void __fastcall FUN_0044f840(int param_1)

{
  int in_EAX;
  float *pfVar1;
  float *pfVar2;
  int iVar3;
  
  pfVar1 = (float *)(param_1 + 4);
  pfVar2 = (float *)(in_EAX + 0xc);
  iVar3 = 0xe;
  do {
    if (pfVar2[-3] < pfVar1[-1]) {
      pfVar1[-1] = pfVar2[-3];
    }
    if (*(float *)((in_EAX - param_1) + (int)pfVar1) < *pfVar1) {
      *pfVar1 = *(float *)((in_EAX - param_1) + (int)pfVar1);
    }
    if (pfVar2[-1] < pfVar1[1]) {
      pfVar1[1] = pfVar2[-1];
    }
    if (*pfVar2 < pfVar1[2]) {
      pfVar1[2] = *pfVar2;
    }
    pfVar1 = pfVar1 + 4;
    pfVar2 = pfVar2 + 4;
    iVar3 += -1;
  } while (iVar3 != 0);
  return;
}



void __fastcall FUN_0044f8c0(int param_1)

{
  float fVar1;
  int in_EAX;
  float *pfVar2;
  float *pfVar3;
  int iVar4;
  
  pfVar2 = (float *)(param_1 + 4);
  pfVar3 = (float *)(in_EAX + 0xc);
  iVar4 = 0xe;
  do {
    if (pfVar2[-1] < pfVar3[-3] != (NAN(pfVar2[-1]) || NAN(pfVar3[-3]))) {
      pfVar2[-1] = pfVar3[-3];
    }
    fVar1 = *(float *)((in_EAX - param_1) + (int)pfVar2);
    if (*pfVar2 < fVar1 != (NAN(*pfVar2) || NAN(fVar1))) {
      *pfVar2 = *(float *)((in_EAX - param_1) + (int)pfVar2);
    }
    if (pfVar2[1] < pfVar3[-1] != (NAN(pfVar2[1]) || NAN(pfVar3[-1]))) {
      pfVar2[1] = pfVar3[-1];
    }
    if (pfVar2[2] < *pfVar3 != (NAN(pfVar2[2]) || NAN(*pfVar3))) {
      pfVar2[2] = *pfVar3;
    }
    pfVar2 = pfVar2 + 4;
    pfVar3 = pfVar3 + 4;
    iVar4 += -1;
  } while (iVar4 != 0);
  return;
}



void __cdecl FUN_0044f940(float param_1)

{
  int in_EAX;
  float *pfVar1;
  int iVar2;
  
  iVar2 = 7;
  pfVar1 = (float *)(in_EAX + 8);
  do {
    iVar2 += -1;
    pfVar1[-2] = pfVar1[-2] + param_1;
    pfVar1[-1] = param_1 + pfVar1[-1];
    *pfVar1 = *pfVar1 + param_1;
    pfVar1[1] = pfVar1[1] + param_1;
    pfVar1[2] = pfVar1[2] + param_1;
    pfVar1[3] = pfVar1[3] + param_1;
    pfVar1[4] = param_1 + pfVar1[4];
    pfVar1[5] = pfVar1[5] + param_1;
    pfVar1 = pfVar1 + 8;
  } while (iVar2 != 0);
  return;
}



// WARNING: Function: __alloca_probe replaced with injection: alloca_probe
// WARNING: Function: __alloca_probe_16 replaced with injection: alloca_probe
// WARNING: Unable to track spacebase fully for stack
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __thiscall FUN_0044f9a0(void *this,float param_1,float *param_2,float param_3,float param_4)

{
  float fVar1;
  float fVar2;
  int iVar3;
  void *pvVar4;
  double dVar5;
  int iVar6;
  float *extraout_ECX;
  undefined4 extraout_ECX_00;
  undefined4 extraout_ECX_01;
  undefined4 extraout_ECX_02;
  undefined4 extraout_ECX_03;
  undefined4 extraout_ECX_04;
  undefined4 extraout_ECX_05;
  undefined4 extraout_ECX_06;
  undefined4 extraout_ECX_07;
  uint uVar7;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  undefined4 extraout_EDX_01;
  undefined4 extraout_EDX_02;
  undefined4 extraout_EDX_03;
  float *pfVar8;
  undefined4 extraout_EDX_04;
  undefined4 extraout_EDX_05;
  undefined4 extraout_EDX_06;
  undefined4 *puVar9;
  uint uVar10;
  undefined1 *puVar11;
  float *pfVar12;
  int iVar13;
  float *pfVar14;
  float10 fVar15;
  ulonglong uVar16;
  ulonglong uVar17;
  int aiStack_7f58 [3];
  undefined8 uStack_7f4c;
  float local_7f38 [55];
  float afStack_7e5c [7561];
  float local_838 [56];
  undefined1 local_758 [1568];
  float local_138 [56];
  int local_58;
  int local_54;
  double local_50;
  void *local_48;
  double local_44;
  void *local_3c;
  undefined8 local_38;
  float *local_30;
  int local_2c;
  float *local_28;
  float *local_24;
  float *local_20;
  float *local_1c;
  undefined4 *local_18;
  float *local_14;
  float *local_10;
  float local_c;
  uint local_8;
  
  local_8 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  uStack_7f4c._4_4_ = 0x44f9c8;
  iVar3 = (int)param_2 * -4;
  local_18 = local_7f38 + (-3 - (int)param_2);
  *(undefined4 *)((int)&uStack_7f4c + iVar3 + 4) = 0x44;
  *(undefined4 *)((int)&uStack_7f4c + iVar3) = 0x44f9d2;
  local_3c = malloc(*(size_t *)((int)&uStack_7f4c + iVar3 + 4));
  *(undefined4 *)((int)&uStack_7f4c + iVar3) = 0x7700;
  aiStack_7f58[2 - (int)param_2] = 0;
  aiStack_7f58[1 - (int)param_2] = (int)local_7f38;
  aiStack_7f58[-(int)param_2] = 0x44f9e8;
  memset((void *)aiStack_7f58[1 - (int)param_2],aiStack_7f58[2 - (int)param_2],
         *(size_t *)((int)&uStack_7f4c + iVar3));
  local_14 = local_7f38;
  local_24 = (float *)this;
  local_28 = (float *)&DAT_0046c1a8;
  local_30 = (float *)&DAT_0046c04c;
  local_1c = (float *)(2 - (int)this);
  do {
    iVar6 = (int)local_1c + (int)local_24;
    pfVar12 = local_138;
    iVar13 = 0x38;
    pfVar8 = local_30;
    do {
      local_c = 999.0;
      if (iVar6 + -2 < 0x58) {
        if (pfVar8[-1] < 999.0 != NAN(pfVar8[-1])) {
          local_c = pfVar8[-1];
        }
      }
      else if (_DAT_0046c1a4 < 999.0) {
        local_c = _DAT_0046c1a4;
      }
      if (iVar6 + -1 < 0x58) {
        if (*pfVar8 < local_c != (NAN(*pfVar8) || NAN(local_c))) {
          local_c = *pfVar8;
        }
      }
      else if (_DAT_0046c1a4 < local_c) {
        local_c = _DAT_0046c1a4;
      }
      if (iVar6 < 0x58) {
        if (pfVar8[1] < local_c != (NAN(pfVar8[1]) || NAN(local_c))) {
          local_c = pfVar8[1];
        }
      }
      else if (_DAT_0046c1a4 < local_c) {
        local_c = _DAT_0046c1a4;
      }
      iVar6 += 1;
      if (iVar6 < 0x58) {
        if (pfVar8[2] < local_c != (NAN(pfVar8[2]) || NAN(local_c))) {
          local_c = pfVar8[2];
        }
      }
      else if (_DAT_0046c1a4 < local_c) {
        local_c = _DAT_0046c1a4;
      }
      pfVar8 = pfVar8 + 1;
      *pfVar12 = local_c;
      pfVar12 = pfVar12 + 1;
      iVar13 += -1;
    } while (iVar13 != 0);
    pfVar12 = local_14 + 1;
    pfVar8 = local_28;
    pfVar14 = local_14 + 0x70;
    for (iVar6 = 0x150; iVar6 != 0; iVar6 += -1) {
      *pfVar14 = *pfVar8;
      pfVar8 = pfVar8 + 1;
      pfVar14 = pfVar14 + 1;
    }
    pfVar8 = local_28;
    pfVar14 = local_14;
    for (iVar6 = 0x38; iVar6 != 0; iVar6 += -1) {
      *pfVar14 = *pfVar8;
      pfVar8 = pfVar8 + 1;
      pfVar14 = pfVar14 + 1;
    }
    local_38 = (double)CONCAT44(local_14 + 0x38,(undefined4)local_38);
    pfVar8 = local_28;
    pfVar14 = local_14 + 0x38;
    for (iVar6 = 0x38; iVar6 != 0; iVar6 += -1) {
      *pfVar14 = *pfVar8;
      pfVar8 = pfVar8 + 1;
      pfVar14 = pfVar14 + 1;
    }
    iVar6 = 8;
    do {
      uVar10 = 0xf;
      pfVar8 = pfVar12;
      do {
        uVar7 = (int)(uVar10 + 1) >> 0x1f;
        local_c = (float)(int)((uVar10 + 1 ^ uVar7) - uVar7) * param_4 + param_3;
        if (((local_c < 0.0 != NAN(local_c)) && (0.0 < param_3)) ||
           ((0.0 < local_c && (param_3 < 0.0)))) {
          local_c = 0.0;
        }
        pfVar8[-1] = pfVar8[-1] + local_c;
        local_c = (float)(int)((uVar10 ^ (int)uVar10 >> 0x1f) - ((int)uVar10 >> 0x1f)) * param_4 +
                  param_3;
        if (((local_c < 0.0 != NAN(local_c)) && (0.0 < param_3)) ||
           ((0.0 < local_c && (param_3 < 0.0)))) {
          local_c = 0.0;
        }
        uVar7 = (int)(uVar10 - 1) >> 0x1f;
        *pfVar8 = *pfVar8 + local_c;
        local_c = (float)(int)((uVar10 - 1 ^ uVar7) - uVar7) * param_4 + param_3;
        if (((local_c < 0.0 != NAN(local_c)) && (0.0 < param_3)) ||
           ((0.0 < local_c && (param_3 < 0.0)))) {
          local_c = 0.0;
        }
        uVar7 = (int)(uVar10 - 2) >> 0x1f;
        pfVar8[1] = pfVar8[1] + local_c;
        local_c = (float)(int)((uVar10 - 2 ^ uVar7) - uVar7) * param_4 + param_3;
        if (((local_c < 0.0 != NAN(local_c)) && (0.0 < param_3)) ||
           ((0.0 < local_c && (param_3 < 0.0)))) {
          local_c = 0.0;
        }
        uVar10 -= 4;
        pfVar12 = pfVar8 + 4;
        pfVar8[2] = pfVar8[2] + local_c;
        pfVar8 = pfVar12;
      } while (-0x29 < (int)uVar10);
      iVar6 += -1;
    } while (iVar6 != 0);
    local_c = (float)iVar6;
    pfVar12 = local_838;
    local_44 = (double)(*local_24 + 100.0);
    pfVar8 = local_24;
    do {
      local_10 = (float *)0x2;
      if (1 < (int)local_c) {
        local_10 = (float *)local_c;
      }
      *(float **)((int)&uStack_7f4c + iVar3 + 4) = pfVar8;
      local_10 = (float *)(((float)local_44 - (float)(int)local_10 * 10.0) - 30.0);
      *(float **)((int)&uStack_7f4c + iVar3 + 4) = local_10;
      *(undefined4 *)((int)&uStack_7f4c + iVar3) = 0x44fd39;
      FUN_0044f940(*(float *)((int)&uStack_7f4c + iVar3 + 4));
      fVar1 = (float)(int)local_c;
      pfVar8 = local_138;
      pfVar14 = pfVar12;
      for (iVar6 = 0x38; iVar6 != 0; iVar6 += -1) {
        *pfVar14 = *pfVar8;
        pfVar8 = pfVar8 + 1;
        pfVar14 = pfVar14 + 1;
      }
      local_10 = (float *)((100.0 - fVar1 * 10.0) - 30.0);
      *(float **)((int)&uStack_7f4c + iVar3 + 4) = local_10;
      *(undefined4 *)((int)&uStack_7f4c + iVar3) = 0x44fd6d;
      FUN_0044f940(*(float *)((int)&uStack_7f4c + iVar3 + 4));
      *(undefined4 *)((int)&uStack_7f4c + iVar3 + 4) = 0x44fd79;
      FUN_0044f8c0((int)pfVar12);
      local_14 = local_14 + 0x38;
      local_c = (float)((int)local_c + 1);
      pfVar12 = pfVar12 + 0x38;
      pfVar8 = extraout_ECX;
    } while ((int)local_c < 8);
    puVar11 = local_758;
    iVar13 = 7;
    iVar6 = (int)local_38._4_4_;
    do {
      *(undefined4 *)((int)&uStack_7f4c + iVar3 + 4) = 0x44fdbd;
      FUN_0044f840((int)puVar11);
      *(undefined4 *)((int)&uStack_7f4c + iVar3 + 4) = 0x44fdc6;
      FUN_0044f840(iVar6);
      puVar11 = puVar11 + 0xe0;
      iVar6 += 0xe0;
      iVar13 += -1;
    } while (iVar13 != 0);
    local_28 = local_28 + 0x150;
    local_24 = local_24 + 1;
    local_30 = local_30 + 4;
  } while ((int)local_30 < 0x46c15c);
  local_1c = NULL;
  do {
    pfVar12 = local_1c;
    *(undefined4 *)((int)&uStack_7f4c + iVar3 + 4) = 0x20;
    *(undefined4 *)((int)&uStack_7f4c + iVar3) = 0x44fe08;
    local_48 = malloc(*(size_t *)((int)&uStack_7f4c + iVar3 + 4));
    pvVar4 = local_3c;
    local_44 = (double)(int)local_1c * 0.5;
    *(void **)((int)local_3c + (int)pfVar12 * 4) = local_48;
    *(undefined4 *)((int)&uStack_7f4c + iVar3 + 4) = 0x44fe31;
    fVar15 = (float10)_CIexp();
    *(double *)((int)&uStack_7f4c + iVar3) = (double)(fVar15 / (float10)param_1);
    aiStack_7f58[2 - (int)param_2] = 0x44fe3f;
    floor(*(double *)((int)&uStack_7f4c + iVar3));
    *(undefined4 *)((int)&uStack_7f4c + iVar3 + 4) = 0x44fe47;
    uVar16 = FUN_0045db50(extraout_ECX_00,extraout_EDX);
    *(undefined4 *)((int)&uStack_7f4c + iVar3 + 4) = 0x44fe5d;
    local_1c = (float *)(int)uVar16;
    fVar15 = (float10)_CIlog();
    fVar15 = fVar15 * (float10)1.4426950216293335 - (float10)5.965784072875977;
    *(double *)((int)&uStack_7f4c + iVar3) = (double)(fVar15 + fVar15);
    aiStack_7f58[2 - (int)param_2] = 0x44fe76;
    ceil(*(double *)((int)&uStack_7f4c + iVar3));
    *(undefined4 *)((int)&uStack_7f4c + iVar3 + 4) = 0x44fe7e;
    uVar17 = FUN_0045db50(extraout_ECX_01,extraout_EDX_00);
    local_14 = (float *)uVar17;
    local_1c = (float *)((int)uVar16 + 1);
    *(undefined4 *)((int)&uStack_7f4c + iVar3 + 4) = 0x44fe90;
    fVar15 = (float10)_CIlog();
    fVar15 = fVar15 * (float10)1.4426950216293335 - (float10)5.965784072875977;
    *(double *)((int)&uStack_7f4c + iVar3) = (double)(fVar15 + fVar15);
    aiStack_7f58[2 - (int)param_2] = 0x44fea9;
    floor(*(double *)((int)&uStack_7f4c + iVar3));
    *(undefined4 *)((int)&uStack_7f4c + iVar3 + 4) = 0x44feb1;
    uVar16 = FUN_0045db50(extraout_ECX_02,extraout_EDX_01);
    local_28 = (float *)uVar16;
    if ((int)pfVar12 < (int)local_14) {
      local_14 = pfVar12;
    }
    if ((int)local_14 < 0) {
      local_14 = NULL;
    }
    if (0x10 < (int)(float *)uVar16) {
      local_28 = (float *)0x10;
    }
    local_2c = 0;
    local_54 = *(int *)((int)pvVar4 + (int)pfVar12 * 4);
    local_24 = (float *)((int)pfVar12 + 1);
    local_58 = local_54;
    do {
      *(undefined4 *)((int)&uStack_7f4c + iVar3 + 4) = 0xe8;
      *(undefined4 *)((int)&uStack_7f4c + iVar3) = 0x44fefa;
      local_1c = (float *)malloc(*(size_t *)((int)&uStack_7f4c + iVar3 + 4));
      *(float **)((int)local_48 + local_2c * 4) = local_1c;
      pfVar12 = param_2;
      puVar9 = local_18;
      if (0 < (int)param_2) {
        for (; pfVar12 != NULL; pfVar12 = (float *)((int)pfVar12 + -1)) {
          *puVar9 = 0x4479c000;
          puVar9 = puVar9 + 1;
        }
      }
      local_10 = local_14;
      if ((int)local_14 <= (int)local_28) {
        iVar6 = local_2c + (int)local_14 * 8;
        local_30 = (float *)(iVar6 * 0x38);
        local_20 = afStack_7e5c + iVar6 * 0x38;
        do {
          pfVar12 = NULL;
          local_c = 0.0;
          local_50 = (double)(int)local_10 * 0.5;
          do {
            local_38 = (double)(int)local_c * 0.125 + local_50;
            *(undefined4 *)((int)&uStack_7f4c + iVar3 + 4) = 0x44ff97;
            _CIexp();
            *(undefined4 *)((int)&uStack_7f4c + iVar3 + 4) = 0x44ff9f;
            uVar16 = FUN_0045db50(extraout_ECX_03,extraout_EDX_02);
            pfVar14 = (float *)uVar16;
            *(undefined4 *)((int)&uStack_7f4c + iVar3 + 4) = 0x44ffbb;
            _CIexp();
            *(undefined4 *)((int)&uStack_7f4c + iVar3 + 4) = 0x44ffc9;
            uVar16 = FUN_0045db50(extraout_ECX_04,extraout_EDX_03);
            dVar5 = local_38;
            pfVar8 = (float *)uVar16;
            local_38 = (double)CONCAT44(pfVar8,(undefined4)local_38);
            if ((int)pfVar14 < 0) {
              pfVar14 = NULL;
            }
            if ((int)param_2 < (int)pfVar14) {
              pfVar14 = param_2;
            }
            if ((int)pfVar14 < (int)pfVar12) {
              pfVar12 = pfVar14;
            }
            if ((int)pfVar8 < 0) {
              pfVar8 = NULL;
              local_38 = (double)((ulonglong)dVar5 & 0xffffffff);
            }
            if ((int)param_2 < (int)pfVar8) {
              local_38 = (double)CONCAT44(param_2,(undefined4)local_38);
              pfVar8 = param_2;
            }
            if ((int)pfVar12 < (int)pfVar8) {
              if (3 < (int)pfVar8 - (int)pfVar12) {
                iVar6 = (int)pfVar12 + 2;
                pfVar14 = (float *)(local_18 + iVar6);
                do {
                  if ((int)param_2 <= (int)pfVar12) goto LAB_004500ee;
                  pfVar8 = local_7f38 + (int)local_30 + (int)local_c;
                  if (local_7f38[(int)local_30 + (int)local_c] < pfVar14[-2] !=
                      (NAN(local_7f38[(int)local_30 + (int)local_c]) || NAN(pfVar14[-2]))) {
                    pfVar14[-2] = *pfVar8;
                  }
                  if ((int)param_2 <= iVar6 + -1) {
                    pfVar12 = (float *)((int)pfVar12 + 1);
                    goto LAB_004500ee;
                  }
                  if (*pfVar8 < pfVar14[-1] != (NAN(*pfVar8) || NAN(pfVar14[-1]))) {
                    pfVar14[-1] = *pfVar8;
                  }
                  if ((int)param_2 <= iVar6) {
                    pfVar12 = (float *)((int)pfVar12 + 2);
                    goto LAB_004500ee;
                  }
                  if (*pfVar8 < *pfVar14 != (NAN(*pfVar8) || NAN(*pfVar14))) {
                    *pfVar14 = *pfVar8;
                  }
                  if ((int)param_2 <= iVar6 + 1) {
                    pfVar12 = (float *)((int)pfVar12 + 3);
                    goto LAB_004500ee;
                  }
                  if (*pfVar8 < pfVar14[1] != (NAN(*pfVar8) || NAN(pfVar14[1]))) {
                    pfVar14[1] = *pfVar8;
                  }
                  pfVar12 = pfVar12 + 1;
                  pfVar14 = pfVar14 + 4;
                  iVar6 += 4;
                  pfVar8 = local_38._4_4_;
                } while ((int)pfVar12 < (int)local_38._4_4_ + -3);
              }
              for (; ((int)pfVar12 < (int)pfVar8 && ((int)pfVar12 < (int)param_2));
                  pfVar12 = (float *)((int)pfVar12 + 1)) {
                if (local_7f38[(int)local_c + (int)local_30] < (float)local_18[(int)pfVar12] !=
                    (NAN(local_7f38[(int)local_c + (int)local_30]) ||
                    NAN((float)local_18[(int)pfVar12]))) {
                  local_18[(int)pfVar12] = local_7f38[(int)local_c + (int)local_30];
                }
              }
            }
LAB_004500ee:
            local_c = (float)((int)local_c + 1);
          } while ((int)local_c < 0x38);
          if ((int)pfVar12 < (int)param_2) {
            if (3 < (int)param_2 - (int)pfVar12) {
              iVar6 = ((uint)((int)param_2 + (-4 - (int)pfVar12)) >> 2) + 1;
              pfVar8 = (float *)(local_18 + (int)pfVar12 + 2);
              pfVar12 = pfVar12 + iVar6;
              do {
                if (*local_20 < pfVar8[-2] != (NAN(*local_20) || NAN(pfVar8[-2]))) {
                  pfVar8[-2] = *local_20;
                }
                if (*local_20 < pfVar8[-1] != (NAN(*local_20) || NAN(pfVar8[-1]))) {
                  pfVar8[-1] = *local_20;
                }
                if (*local_20 < *pfVar8 != (NAN(*local_20) || NAN(*pfVar8))) {
                  *pfVar8 = *local_20;
                }
                if (*local_20 < pfVar8[1] != (NAN(*local_20) || NAN(pfVar8[1]))) {
                  pfVar8[1] = *local_20;
                }
                pfVar8 = pfVar8 + 4;
                iVar6 += -1;
              } while (iVar6 != 0);
            }
            for (; (int)pfVar12 < (int)param_2; pfVar12 = (float *)((int)pfVar12 + 1)) {
              if (*local_20 < (float)local_18[(int)pfVar12] !=
                  (NAN(*local_20) || NAN((float)local_18[(int)pfVar12]))) {
                local_18[(int)pfVar12] = *local_20;
              }
            }
          }
          local_30 = local_30 + 0x70;
          local_20 = local_20 + 0x1c0;
          local_10 = (float *)((int)local_10 + 1);
        } while ((int)local_10 <= (int)local_28);
      }
      puVar9 = local_18;
      if ((int)local_24 < 0x11) {
        pfVar12 = NULL;
        local_c = 0.0;
        do {
          local_50 = (double)(int)local_c * 0.125 + local_44;
          *(undefined4 *)((int)&uStack_7f4c + iVar3 + 4) = 0x450206;
          _CIexp();
          *(undefined4 *)((int)&uStack_7f4c + iVar3 + 4) = 0x45020e;
          uVar16 = FUN_0045db50(extraout_ECX_05,extraout_EDX_04);
          pfVar8 = (float *)uVar16;
          *(undefined4 *)((int)&uStack_7f4c + iVar3 + 4) = 0x45022a;
          _CIexp();
          *(undefined4 *)((int)&uStack_7f4c + iVar3 + 4) = 0x450238;
          uVar16 = FUN_0045db50(extraout_ECX_06,extraout_EDX_05);
          local_10 = (float *)uVar16;
          if ((int)pfVar8 < 0) {
            pfVar8 = NULL;
          }
          if ((int)param_2 < (int)pfVar8) {
            pfVar8 = param_2;
          }
          if ((int)pfVar8 < (int)pfVar12) {
            pfVar12 = pfVar8;
          }
          if ((int)(float *)uVar16 < 0) {
            local_10 = NULL;
          }
          if ((int)param_2 < (int)local_10) {
            local_10 = param_2;
          }
          if ((int)pfVar12 < (int)local_10) {
            if (3 < (int)local_10 - (int)pfVar12) {
              iVar6 = (int)pfVar12 + 2;
              pfVar8 = (float *)(puVar9 + iVar6);
              do {
                if ((int)param_2 <= (int)pfVar12) goto LAB_00450383;
                iVar13 = (int)local_c + (local_2c + (int)local_24 * 8) * 0x38;
                pfVar14 = local_7f38 + iVar13;
                if (local_7f38[iVar13] < pfVar8[-2] != (NAN(local_7f38[iVar13]) || NAN(pfVar8[-2])))
                {
                  pfVar8[-2] = *pfVar14;
                }
                puVar9 = local_18;
                if ((int)param_2 <= iVar6 + -1) {
                  pfVar12 = (float *)((int)pfVar12 + 1);
                  goto LAB_00450383;
                }
                if (*pfVar14 < pfVar8[-1] != (NAN(*pfVar14) || NAN(pfVar8[-1]))) {
                  pfVar8[-1] = *pfVar14;
                }
                if ((int)param_2 <= iVar6) {
                  pfVar12 = (float *)((int)pfVar12 + 2);
                  goto LAB_00450383;
                }
                if (*pfVar14 < *pfVar8 != (NAN(*pfVar14) || NAN(*pfVar8))) {
                  *pfVar8 = *pfVar14;
                }
                if ((int)param_2 <= iVar6 + 1) {
                  pfVar12 = (float *)((int)pfVar12 + 3);
                  goto LAB_00450383;
                }
                if (*pfVar14 < pfVar8[1] != (NAN(*pfVar14) || NAN(pfVar8[1]))) {
                  pfVar8[1] = *pfVar14;
                }
                pfVar12 = pfVar12 + 1;
                pfVar8 = pfVar8 + 4;
                iVar6 += 4;
              } while ((int)pfVar12 < (int)local_10 + -3);
            }
            for (; ((int)pfVar12 < (int)local_10 && ((int)pfVar12 < (int)param_2));
                pfVar12 = (float *)((int)pfVar12 + 1)) {
              iVar6 = (int)local_c + (local_2c + (int)local_24 * 8) * 0x38;
              if (local_7f38[iVar6] < (float)puVar9[(int)pfVar12] !=
                  (NAN(local_7f38[iVar6]) || NAN((float)puVar9[(int)pfVar12]))) {
                puVar9[(int)pfVar12] = local_7f38[iVar6];
              }
            }
          }
LAB_00450383:
          local_c = (float)((int)local_c + 1);
        } while ((int)local_c < 0x38);
        if ((int)pfVar12 < (int)param_2) {
          if (3 < (int)param_2 - (int)pfVar12) {
            iVar6 = ((uint)((int)param_2 + (-4 - (int)pfVar12)) >> 2) + 1;
            pfVar8 = (float *)(puVar9 + (int)pfVar12 + 2);
            pfVar14 = afStack_7e5c + (local_2c + (int)local_24 * 8) * 0x38;
            pfVar12 = pfVar12 + iVar6;
            do {
              if (*pfVar14 < pfVar8[-2] != (NAN(*pfVar14) || NAN(pfVar8[-2]))) {
                pfVar8[-2] = *pfVar14;
              }
              if (*pfVar14 < pfVar8[-1] != (NAN(*pfVar14) || NAN(pfVar8[-1]))) {
                pfVar8[-1] = *pfVar14;
              }
              if (*pfVar14 < *pfVar8 != (NAN(*pfVar14) || NAN(*pfVar8))) {
                *pfVar8 = *pfVar14;
              }
              if (*pfVar14 < pfVar8[1] != (NAN(*pfVar14) || NAN(pfVar8[1]))) {
                pfVar8[1] = *pfVar14;
              }
              pfVar8 = pfVar8 + 4;
              iVar6 += -1;
            } while (iVar6 != 0);
          }
          if ((int)pfVar12 < (int)param_2) {
            do {
              fVar1 = afStack_7e5c[(local_2c + (int)local_24 * 8) * 0x38];
              if (fVar1 < (float)puVar9[(int)pfVar12] !=
                  (NAN(fVar1) || NAN((float)puVar9[(int)pfVar12]))) {
                puVar9[(int)pfVar12] = afStack_7e5c[(local_2c + (int)local_24 * 8) * 0x38];
              }
              pfVar12 = (float *)((int)pfVar12 + 1);
            } while ((int)pfVar12 < (int)param_2);
          }
        }
      }
      local_c = 0.0;
      pfVar12 = local_1c + 2;
      do {
        fVar1 = local_c;
        *(undefined4 *)((int)&uStack_7f4c + iVar3 + 4) = 0x4504a3;
        _CIexp();
        *(undefined4 *)((int)&uStack_7f4c + iVar3 + 4) = 0x4504ab;
        uVar16 = FUN_0045db50(extraout_ECX_07,extraout_EDX_06);
        iVar6 = (int)uVar16;
        if (iVar6 < 0) {
          fVar2 = -999.0;
        }
        else if (iVar6 < (int)param_2) {
          fVar2 = (float)puVar9[iVar6];
        }
        else {
          fVar2 = -999.0;
        }
        local_c = (float)((int)fVar1 + 1);
        *pfVar12 = fVar2;
        pfVar12 = pfVar12 + 1;
      } while ((int)local_c < 0x38);
      iVar6 = 0;
      pfVar12 = (float *)(*(int *)(local_54 + local_2c * 4) + 0xc);
      do {
        if (-200.0 < pfVar12[-1]) break;
        if (-200.0 < *pfVar12) {
          iVar6 += 1;
          break;
        }
        if (-200.0 < pfVar12[1]) {
          iVar6 += 2;
          break;
        }
        if (-200.0 < pfVar12[2]) {
          iVar6 += 3;
          break;
        }
        iVar6 += 4;
        pfVar12 = pfVar12 + 4;
      } while (iVar6 < 0x10);
      local_c = 7.70714e-44;
      pfVar12 = (float *)(*(int *)(local_58 + local_2c * 4) + 0xe0);
      *local_1c = (float)iVar6;
      do {
        if (-200.0 < pfVar12[1]) break;
        if (-200.0 < *pfVar12) {
          local_c = (float)((int)local_c + -1);
          break;
        }
        local_c = (float)((int)local_c + -2);
        pfVar12 = pfVar12 + -2;
      } while (0x11 < (int)local_c);
      local_2c += 1;
      local_1c[1] = (float)(int)local_c;
    } while (local_2c < 8);
    local_1c = local_24;
    if (0x10 < (int)local_24) {
      __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
      return;
    }
  } while( true );
}



void __cdecl
FUN_004505c0(undefined4 *param_1,int param_2,undefined4 *param_3,float *param_4,int param_5)

{
  size_t _Size;
  float fVar1;
  float fVar2;
  undefined4 uVar3;
  void *pvVar4;
  int iVar5;
  undefined4 extraout_ECX;
  undefined4 extraout_ECX_00;
  int iVar6;
  undefined4 extraout_ECX_01;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  int iVar7;
  undefined4 extraout_EDX_01;
  undefined4 extraout_EDX_02;
  int iVar8;
  float10 fVar9;
  float10 fVar10;
  float10 extraout_ST0;
  float10 extraout_ST0_00;
  ulonglong uVar11;
  ulonglong uVar12;
  int local_88;
  int local_84;
  int local_80;
  int local_78;
  int local_70;
  int local_68;
  
  local_84 = -99;
  local_80 = 1;
  memset(param_1,0,0x34);
  param_1[9] = *param_3;
  fVar9 = (float10)_CIlog();
  fVar10 = (float10)_CIlog();
  floor((double)((float10)(double)fVar9 / fVar10 + (float10)0.5));
  uVar11 = FUN_0045db50(extraout_ECX,extraout_EDX);
  iVar8 = (int)uVar11;
  param_1[8] = iVar8;
  _CIlog();
  uVar11 = FUN_0045db50(iVar8 + 1,1 << ((byte)(iVar8 + 1) & 0x1f));
  param_1[7] = (int)uVar11;
  _CIlog();
  uVar12 = FUN_0045db50(iVar8 + 1,extraout_EDX_00);
  _Size = (int)param_4 * 4;
  param_1[10] = ((int)uVar12 - (int)uVar11) + 1;
  pvVar4 = malloc(_Size);
  param_1[4] = pvVar4;
  pvVar4 = malloc(_Size);
  param_1[5] = pvVar4;
  pvVar4 = malloc(_Size);
  param_1[6] = pvVar4;
  param_1[0xc] = 0x3f800000;
  param_1[1] = param_2;
  *param_1 = param_4;
  param_1[0xb] = param_5;
  if (param_5 < 26000) {
    uVar3 = 0;
  }
  else if (param_5 < 38000) {
    uVar3 = 0x3f70a3d7;
  }
  else {
    if (param_5 < 0xb3b1) goto LAB_0045073b;
    uVar3 = 0x3fa33333;
  }
  param_1[0xc] = uVar3;
LAB_0045073b:
  iVar8 = 0;
  local_88 = 0;
  do {
    iVar7 = local_88 + 1;
    fVar9 = (float10)_CIexp();
    floor((double)(((fVar9 + fVar9) * (float10)(int)param_4) / (float10)param_5 + (float10)0.5));
    uVar11 = FUN_0045db50(extraout_ECX_00,extraout_EDX_01);
    iVar5 = (int)uVar11;
    fVar1 = (float)(&DAT_0046c048)[local_88];
    if (iVar8 < iVar5) {
      fVar2 = ((float)(&DAT_0046c04c)[local_88] - fVar1) / (float)(iVar5 - iVar8);
      if (3 < iVar5 - iVar8) {
        iVar6 = iVar8 + 2;
        do {
          if ((int)param_4 <= iVar8) goto LAB_004508a9;
          *(float *)(param_1[4] + iVar8 * 4) = fVar1 + 100.0;
          if ((int)param_4 <= iVar6 + -1) {
            iVar8 += 1;
            goto LAB_004508a9;
          }
          *(float *)(param_1[4] + 4 + iVar8 * 4) = fVar2 + fVar1 + 100.0;
          fVar1 = fVar2 + fVar1 + fVar2;
          if ((int)param_4 <= iVar6) {
            iVar8 += 2;
            goto LAB_004508a9;
          }
          *(float *)(param_1[4] + 8 + iVar8 * 4) = fVar1 + 100.0;
          fVar1 = fVar1 + fVar2;
          if ((int)param_4 <= iVar6 + 1) {
            iVar8 += 3;
            goto LAB_004508a9;
          }
          iVar8 += 4;
          iVar6 += 4;
          *(float *)(param_1[4] + -4 + iVar8 * 4) = fVar1 + 100.0;
          fVar1 = fVar1 + fVar2;
        } while (iVar8 < iVar5 + -3);
      }
      while ((iVar8 < iVar5 && (iVar8 < (int)param_4))) {
        iVar8 += 1;
        *(float *)(param_1[4] + -4 + iVar8 * 4) = fVar1 + 100.0;
        fVar1 = fVar1 + fVar2;
      }
    }
LAB_004508a9:
    local_88 = iVar7;
  } while (iVar7 < 0x57);
  local_88 = 0;
  if (0 < (int)param_4) {
    iVar8 = param_5 / ((int)param_4 * 2);
    local_70 = 0;
    do {
      fVar9 = (float10)_CIatan();
      fVar10 = (float10)_CIatan();
      local_68 = *(int *)(param_2 + 0x78) + local_84;
      fVar1 = (float)((float10)local_70 * (float10)9.999999747378752e-05 +
                     fVar10 * (float10)13.100000381469727 +
                     (float10)(double)(fVar9 * (float10)2.240000009536743));
      if (local_68 < local_88) {
        fVar2 = *(float *)(param_2 + 0x70);
        local_78 = iVar8 * local_84;
        do {
          fVar9 = (float10)_CIatan();
          fVar10 = (float10)_CIatan();
          fVar10 = (float10)local_78 * (float10)9.999999747378752e-05 +
                   fVar10 * (float10)13.100000381469727 +
                   (float10)(double)(fVar9 * (float10)2.240000009536743);
          fVar9 = (float10)(fVar1 - fVar2);
          if (fVar10 < fVar9 == (NAN(fVar10) || NAN(fVar9))) break;
          local_84 += 1;
          local_78 += iVar8;
          local_68 += 1;
        } while (local_68 < local_88);
      }
      if (local_80 <= (int)param_4) {
        iVar5 = *(int *)(param_2 + 0x7c);
        local_78 = iVar8 * local_80;
        do {
          if (iVar5 + local_88 <= local_80) {
            fVar9 = (float10)_CIatan();
            fVar10 = (float10)_CIatan();
            if ((float10)*(float *)(param_2 + 0x74) + (float10)fVar1 <=
                (float10)local_78 * (float10)9.999999747378752e-05 +
                fVar10 * (float10)13.100000381469727 +
                (float10)(double)(fVar9 * (float10)2.240000009536743)) break;
          }
          local_78 += iVar8;
          local_80 += 1;
        } while (local_80 <= (int)param_4);
      }
      local_70 += iVar8;
      *(int *)(param_1[6] + local_88 * 4) = local_84 * 0x10000 + -0x10001 + local_80;
      local_88 += 1;
    } while (local_88 < (int)param_4);
  }
  fVar9 = (float10)0.5;
  iVar8 = 0;
  if (0 < (int)param_4) {
    do {
      _CIlog();
      uVar11 = FUN_0045db50(param_1[8] + 1,1 << ((byte)(param_1[8] + 1) & 0x1f));
      *(int *)(param_1[5] + iVar8 * 4) = (int)uVar11;
      iVar8 += 1;
      fVar9 = extraout_ST0;
    } while (iVar8 < (int)param_4);
  }
  FUN_0044f9a0((void *)(param_2 + 0x24),(float)((fVar9 * (float10)param_5) / (float10)(int)param_4),
               param_4,*(float *)(param_2 + 0x18),*(float *)(param_2 + 0x1c));
  param_1[2] = param_2;
  pvVar4 = malloc(0xc);
  param_1[3] = pvVar4;
  iVar8 = 0;
  do {
    pvVar4 = malloc((int)param_4 * 4);
    *(void **)(iVar8 + param_1[3]) = pvVar4;
    iVar8 += 4;
  } while (iVar8 < 0xc);
  iVar8 = 0;
  if (0 < (int)param_4) {
    do {
      _CIlog();
      uVar11 = FUN_0045db50(extraout_ECX_01,extraout_EDX_02);
      iVar5 = (int)uVar11;
      iVar8 += 1;
      fVar1 = (float)(extraout_ST0_00 - (float10)iVar5);
      fVar2 = 1.0 - fVar1;
      *(float *)(*(int *)param_1[3] + -4 + iVar8 * 4) =
           *(float *)(param_1[1] + 0x84 + iVar5 * 4) * fVar2 +
           *(float *)(param_1[1] + 0x88 + iVar5 * 4) * fVar1;
      *(float *)(*(int *)(param_1[3] + 4) + -4 + iVar8 * 4) =
           *(float *)(param_1[1] + 200 + iVar5 * 4) * fVar2 +
           *(float *)(param_1[1] + 0xcc + iVar5 * 4) * fVar1;
      *(float *)(*(int *)(param_1[3] + 8) + -4 + iVar8 * 4) =
           fVar2 * *(float *)(param_1[1] + 0x10c + iVar5 * 4) +
           *(float *)(param_1[1] + 0x110 + iVar5 * 4) * fVar1;
    } while (iVar8 < (int)param_4);
  }
  return;
}



void __cdecl FUN_00450d30(void *param_1)

{
  int iVar1;
  int iVar2;
  
  if (param_1 != NULL) {
    if (*(void **)((int)param_1 + 0x10) != NULL) {
      free(*(void **)((int)param_1 + 0x10));
    }
    if (*(void **)((int)param_1 + 0x14) != NULL) {
      free(*(void **)((int)param_1 + 0x14));
    }
    if (*(void **)((int)param_1 + 0x18) != NULL) {
      free(*(void **)((int)param_1 + 0x18));
    }
    if (*(int *)((int)param_1 + 8) != 0) {
      iVar1 = 0;
      do {
        iVar2 = 0;
        do {
          free(*(void **)(*(int *)(iVar1 + *(int *)((int)param_1 + 8)) + iVar2));
          iVar2 += 4;
        } while (iVar2 < 0x20);
        free(*(void **)(iVar1 + *(int *)((int)param_1 + 8)));
        iVar1 += 4;
      } while (iVar1 < 0x44);
      free(*(void **)((int)param_1 + 8));
    }
    if (*(int *)((int)param_1 + 0xc) != 0) {
      iVar1 = 0;
      do {
        free(*(void **)(*(int *)((int)param_1 + 0xc) + iVar1));
        iVar1 += 4;
      } while (iVar1 < 0xc);
      free(*(void **)((int)param_1 + 0xc));
    }
    memset(param_1,0,0x34);
  }
  return;
}



void __fastcall
FUN_00450e00(undefined4 param_1,undefined4 param_2,int param_3,undefined4 param_4,undefined4 param_5
            ,int param_6,int param_7)

{
  float fVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  uint uVar5;
  undefined4 extraout_ECX;
  int iVar6;
  float *pfVar7;
  int iVar8;
  int unaff_EDI;
  float10 extraout_ST0;
  ulonglong uVar9;
  
  uVar9 = FUN_0045db50(param_1,param_2);
  uVar5 = ((int)(uint)uVar9 < 1) - 1;
  uVar3 = (uint)uVar9 & uVar5;
  if (6 < (int)uVar3) {
    uVar3 = 7;
  }
  iVar2 = *(int *)(param_3 + uVar3 * 4);
  uVar9 = FUN_0045db50(uVar5,param_3);
  iVar4 = (int)uVar9;
  uVar9 = FUN_0045db50(extraout_ECX,(int)(uVar9 >> 0x20));
  iVar8 = (int)uVar9;
  uVar9 = FUN_0045db50(iVar2,(int)(uVar9 >> 0x20));
  iVar6 = (int)uVar9;
  if (iVar6 < iVar4) {
    if (3 < iVar4 - iVar6) {
      pfVar7 = (float *)(iVar2 + 0x10 + iVar6 * 4);
      do {
        if ((0 < iVar8) &&
           (*(float *)(unaff_EDI + iVar8 * 4) < (float)((float10)pfVar7[-2] + extraout_ST0))) {
          *(float *)(unaff_EDI + iVar8 * 4) = (float)((float10)pfVar7[-2] + extraout_ST0);
        }
        iVar8 += param_7;
        if (param_6 <= iVar8) {
          return;
        }
        if ((0 < iVar8) &&
           (*(float *)(unaff_EDI + iVar8 * 4) < (float)((float10)pfVar7[-1] + extraout_ST0))) {
          *(float *)(unaff_EDI + iVar8 * 4) = (float)((float10)pfVar7[-1] + extraout_ST0);
        }
        iVar8 += param_7;
        if (param_6 <= iVar8) {
          return;
        }
        if ((0 < iVar8) &&
           (*(float *)(unaff_EDI + iVar8 * 4) < (float)((float10)*pfVar7 + extraout_ST0))) {
          *(float *)(unaff_EDI + iVar8 * 4) = (float)((float10)*pfVar7 + extraout_ST0);
        }
        iVar8 += param_7;
        if (param_6 <= iVar8) {
          return;
        }
        if ((0 < iVar8) &&
           (*(float *)(unaff_EDI + iVar8 * 4) < (float)((float10)pfVar7[1] + extraout_ST0))) {
          *(float *)(unaff_EDI + iVar8 * 4) = (float)((float10)pfVar7[1] + extraout_ST0);
        }
        iVar8 += param_7;
        if (param_6 <= iVar8) {
          return;
        }
        iVar6 += 4;
        pfVar7 = pfVar7 + 4;
      } while (iVar6 < iVar4 + -3);
    }
    for (; iVar6 < iVar4; iVar6 += 1) {
      if ((0 < iVar8) &&
         (fVar1 = (float)((float10)*(float *)(iVar2 + 8 + iVar6 * 4) + extraout_ST0),
         *(float *)(unaff_EDI + iVar8 * 4) < fVar1)) {
        *(float *)(unaff_EDI + iVar8 * 4) = fVar1;
      }
      iVar8 += param_7;
      if (param_6 <= iVar8) {
        return;
      }
    }
  }
  return;
}



void __cdecl FUN_00450fb0(int param_1,int param_2,int param_3)

{
  float fVar1;
  float fVar2;
  int iVar3;
  int iVar4;
  undefined4 uVar5;
  int iVar6;
  int iVar7;
  int *unaff_EBX;
  int iVar8;
  
  iVar3 = *unaff_EBX;
  iVar8 = 0;
  if (0 < iVar3) {
    do {
      fVar1 = *(float *)(param_2 + iVar8 * 4);
      iVar4 = unaff_EBX[5];
      iVar7 = *(int *)(iVar4 + iVar8 * 4);
      iVar6 = iVar8;
      while ((iVar6 += 1, iVar6 < iVar3 && (*(int *)(iVar4 + 4 + iVar8 * 4) == iVar7))) {
        fVar2 = *(float *)(param_2 + 4 + iVar8 * 4);
        iVar8 += 1;
        if (fVar1 < fVar2 != (NAN(fVar1) || NAN(fVar2))) {
          fVar1 = *(float *)(param_2 + iVar8 * 4);
        }
      }
      fVar2 = *(float *)(param_3 + iVar8 * 4);
      if (fVar2 < fVar1 + 6.0 != (NAN(fVar2) || NAN(fVar1 + 6.0))) {
        iVar7 >>= (byte)unaff_EBX[8] & 0x1f;
        if (iVar7 < 0x11) {
          if (iVar7 < 0) {
            iVar7 = 0;
          }
        }
        else {
          iVar7 = 0x10;
        }
        uVar5 = *(undefined4 *)(param_1 + iVar7 * 4);
        FUN_00450e00(uVar5,iVar7,uVar5,fVar1,*(int *)(iVar4 + iVar8 * 4) - unaff_EBX[7],
                     unaff_EBX[10],unaff_EBX[9]);
      }
      iVar8 += 1;
    } while (iVar8 < iVar3);
  }
  return;
}



// WARNING: Function: __alloca_probe_16 replaced with injection: alloca_probe
// WARNING: Unable to track spacebase fully for stack

void __cdecl FUN_004510a0(int param_1,int param_2,int param_3)

{
  int iVar1;
  float fVar2;
  undefined4 uVar3;
  uint uVar4;
  int iVar5;
  int iVar6;
  int *piVar7;
  float *pfVar8;
  int iVar9;
  float *pfVar10;
  int iVar11;
  float afStack_30 [2];
  float *local_c;
  
  uVar4 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  afStack_30[1] = 6.34266e-39;
  pfVar10 = (float *)(&stack0xffffffd8 + param_3 * -8);
  afStack_30[1 - param_3] = 6.342672e-39;
  iVar6 = 0;
  iVar9 = 0;
  if (0 < param_3) {
    do {
      if ((1 < iVar9) &&
         (fVar2 = *(float *)(param_1 + iVar6 * 4), afStack_30[param_3 * -2 + iVar9 + 1] <= fVar2)) {
        local_c = afStack_30 + (iVar9 - param_3);
        do {
          if (((((int)afStack_30[(iVar9 + 1) - param_3] + param_2 <= iVar6) || (iVar9 < 2)) ||
              (local_c[-param_3] < afStack_30[param_3 * -2 + iVar9 + 1])) ||
             ((int)*local_c + param_2 <= iVar6)) break;
          iVar11 = param_3 * -2 + iVar9;
          local_c = local_c + -1;
          iVar9 += -1;
        } while (afStack_30[iVar11] <= fVar2);
      }
      uVar3 = *(undefined4 *)(param_1 + iVar6 * 4);
      *(int *)(&stack0xffffffd8 + iVar9 * 4 + param_3 * -4) = iVar6;
      *(undefined4 *)(&stack0xffffffd8 + iVar9 * 4 + param_3 * -8) = uVar3;
      iVar6 += 1;
      iVar9 += 1;
    } while (iVar6 < param_3);
  }
  iVar6 = 0;
  local_c = NULL;
  if (0 < iVar9) {
    piVar7 = (int *)(&stack0xffffffdc + param_3 * -4);
    do {
      if (((int)local_c < iVar9 + -1) &&
         (*pfVar10 < (float)piVar7[-param_3] != (NAN(*pfVar10) || NAN((float)piVar7[-param_3])))) {
        iVar11 = *piVar7;
      }
      else {
        iVar11 = piVar7[-1] + 1 + param_2;
      }
      if (param_3 < iVar11) {
        iVar11 = param_3;
      }
      if (iVar6 < iVar11) {
        if (3 < iVar11 - iVar6) {
          iVar5 = ((iVar11 - iVar6) - 4U >> 2) + 1;
          iVar1 = iVar6 * 4;
          iVar6 += iVar5 * 4;
          pfVar8 = (float *)(param_1 + 8 + iVar1);
          do {
            iVar5 += -1;
            pfVar8[-2] = *pfVar10;
            pfVar8[-1] = *pfVar10;
            *pfVar8 = *pfVar10;
            pfVar8[1] = *pfVar10;
            pfVar8 = pfVar8 + 4;
          } while (iVar5 != 0);
        }
        if (iVar6 < iVar11) {
          fVar2 = *pfVar10;
          iVar11 -= iVar6;
          iVar1 = iVar6 * 4;
          iVar6 += iVar11;
          pfVar8 = (float *)(param_1 + iVar1);
          for (; iVar11 != 0; iVar11 += -1) {
            *pfVar8 = fVar2;
            pfVar8 = pfVar8 + 1;
          }
        }
      }
      local_c = (float *)((int)local_c + 1);
      piVar7 = piVar7 + 1;
      pfVar10 = pfVar10 + 1;
    } while ((int)local_c < iVar9);
  }
  __security_check_cookie(uVar4 ^ (uint)&stack0xfffffffc);
  return;
}



void __cdecl FUN_00451240(int param_1,int param_2)

{
  float fVar1;
  float fVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int *unaff_EDI;
  
  iVar4 = unaff_EDI[9];
  iVar5 = 0;
  FUN_004510a0(param_1,iVar4,unaff_EDI[10]);
  iVar4 = (*(int *)unaff_EDI[5] - (iVar4 >> 1)) - unaff_EDI[7];
  if (1 < *unaff_EDI) {
    do {
      fVar1 = *(float *)(param_1 + iVar4 * 4);
      fVar2 = *(float *)(unaff_EDI[1] + 0x20);
      iVar3 = iVar4;
      if (fVar2 < fVar1 != (NAN(fVar2) || NAN(fVar1))) {
        fVar1 = *(float *)(unaff_EDI[1] + 0x20);
      }
      while (iVar3 += 1,
            iVar3 <= (*(int *)(unaff_EDI[5] + 4 + iVar5 * 4) + *(int *)(unaff_EDI[5] + iVar5 * 4) >>
                     1) - unaff_EDI[7]) {
        iVar4 += 1;
        fVar2 = *(float *)(param_1 + iVar4 * 4);
        if (((-9999.0 < fVar2 != NAN(fVar2)) &&
            (fVar2 = *(float *)(param_1 + iVar4 * 4), fVar2 < fVar1 != (NAN(fVar2) || NAN(fVar1))))
           || (NAN(fVar1) != (fVar1 == -9999.0))) {
          fVar1 = *(float *)(param_1 + iVar4 * 4);
        }
      }
      iVar3 = unaff_EDI[7];
      if (iVar5 < *unaff_EDI) {
        do {
          if (iVar3 + iVar4 < *(int *)(unaff_EDI[5] + iVar5 * 4)) break;
          fVar2 = *(float *)(param_2 + iVar5 * 4);
          if (fVar2 < fVar1 != (NAN(fVar2) || NAN(fVar1))) {
            *(float *)(param_2 + iVar5 * 4) = fVar1;
          }
          iVar5 += 1;
        } while (iVar5 < *unaff_EDI);
      }
    } while (iVar5 + 1 < *unaff_EDI);
  }
  fVar1 = *(float *)(param_1 + -4 + unaff_EDI[10] * 4);
  if (iVar5 < *unaff_EDI) {
    do {
      fVar2 = *(float *)(param_2 + iVar5 * 4);
      if (fVar2 < fVar1 != (NAN(fVar2) || NAN(fVar1))) {
        *(float *)(param_2 + iVar5 * 4) = fVar1;
      }
      iVar5 += 1;
    } while (iVar5 < *unaff_EDI);
  }
  return;
}



// WARNING: Function: __alloca_probe_16 replaced with injection: alloca_probe
// WARNING: Unable to track spacebase fully for stack

void __cdecl
FUN_00451370(int param_1,uint *param_2,float *param_3,int param_4,float param_5,int param_6)

{
  undefined1 **ppuVar1;
  float fVar2;
  float *pfVar3;
  float *pfVar4;
  float fVar5;
  float fVar6;
  float fVar7;
  float *pfVar8;
  undefined1 *puVar9;
  float *pfVar10;
  float *pfVar11;
  int iVar12;
  int iVar13;
  float *pfVar14;
  undefined4 *puVar15;
  uint uVar16;
  float *pfVar17;
  undefined4 uStack_94;
  undefined1 *local_84;
  float local_80;
  int local_7c;
  int local_78;
  int local_74;
  int local_70;
  int local_6c;
  float *local_68;
  float *local_64;
  int local_60;
  float *local_5c;
  float *local_54;
  undefined4 *local_50;
  undefined4 *local_4c;
  float local_48;
  float local_44;
  float *local_40;
  undefined1 **local_3c;
  float *local_38;
  float *local_34;
  float *local_30;
  float local_2c;
  float *local_28;
  int local_24;
  float local_20;
  float local_1c;
  float local_18;
  float *local_14;
  float local_10;
  float local_c;
  uint local_8;
  
  local_8 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  uStack_94 = 0x451394;
  pfVar17 = (float *)(param_1 * -4);
  (&uStack_94)[-param_1] = 0x45139d;
  (&uStack_94)[param_1 * -2] = 0x4513a6;
  (&uStack_94)[param_1 * -3] = 0x4513b4;
  local_34 = (float *)(&stack0xffffff70 + param_1 * -0x10);
  (&uStack_94)[param_1 * -4] = 0x4513c3;
  pfVar11 = local_34;
  local_44 = 0.0;
  local_48 = 0.0;
  local_2c = 1.0;
  local_18 = 0.0;
  local_c = 0.0;
  local_1c = param_5 + *param_3;
  if (local_1c < 1.0 != NAN(local_1c)) {
    local_1c = 1.0;
  }
  local_24 = 1;
  fVar2 = local_1c * local_1c * 0.5;
  pfVar4 = (float *)(fVar2 + 0.0);
  local_38 = pfVar4;
  local_14 = pfVar4;
  local_28 = pfVar4;
  local_20 = fVar2 * local_1c + 0.0;
  *(float **)(&stack0xffffff70 + (int)pfVar17) = pfVar4;
  pfVar8 = local_28;
  *(float **)(&stack0xffffff70 + param_1 * -8) = local_28;
  *(undefined4 *)(&stack0xffffff70 + param_1 * -0xc) = 0;
  fVar2 = local_20;
  *pfVar11 = local_20;
  *(undefined4 *)(&stack0xffffff70 + param_1 * -0x14) = 0;
  local_10 = 1.0;
  if (1 < param_1) {
    if (3 < param_1 + -1) {
      local_64 = pfVar11 + 1;
      local_5c = &local_80 + param_1 * -3;
      local_3c = &local_84 + param_1 * -2;
      local_30 = (float *)(&stack0xffffff78 + (int)pfVar17);
      local_60 = (int)param_3 - (int)(&stack0xffffff70 + (int)pfVar17);
      local_54 = pfVar17;
      local_50 = (undefined4 *)(param_1 * -8);
      local_40 = (float *)((int)pfVar11 - (int)(&stack0xffffff70 + (int)pfVar17));
      local_34 = (float *)(param_1 * -0x10);
      local_70 = (int)param_3 - (int)(&stack0xffffff70 + param_1 * -8);
      local_68 = pfVar17;
      local_78 = (int)pfVar11 - (int)(&stack0xffffff70 + param_1 * -8);
      local_6c = param_1 * -0xc;
      local_74 = (int)param_3 - (int)(&stack0xffffff70 + param_1 * -0xc);
      local_7c = (int)pfVar11 - (int)(&stack0xffffff70 + param_1 * -0xc);
      local_4c = (undefined4 *)(param_1 * -8);
      local_80 = (float)((int)param_3 - (int)pfVar11);
      local_38 = (float *)((param_1 - 5U >> 2) + 1);
      local_84 = &stack0xffffff70 + (param_1 * -0x14 - (int)pfVar11);
      local_24 = (int)local_38 * 4 + 1;
      do {
        pfVar10 = local_64;
        fVar2 = *(float *)((int)local_80 + (int)local_64) + param_5;
        if (fVar2 < 1.0 != NAN(fVar2)) {
          fVar2 = 1.0;
        }
        fVar5 = fVar2 * fVar2;
        fVar6 = local_10 * fVar5;
        local_28 = (float *)((float)pfVar8 + fVar6);
        local_c = local_10 * fVar6 + local_c;
        local_20 = local_20 + fVar2 * fVar5;
        local_18 = local_18 + fVar2 * fVar6;
        local_30[-1] = fVar5 + (float)pfVar4;
        local_3c[-2] = (undefined1 *)local_28;
        local_5c[-3] = local_c;
        puVar9 = local_84;
        *pfVar10 = local_20;
        pfVar3 = local_30;
        pfVar8 = local_54;
        *(float *)(puVar9 + (int)pfVar10) = local_18;
        local_10 = local_10 + 1.0;
        fVar2 = *(float *)(local_60 + (int)local_30) + param_5;
        if (fVar2 < 1.0 != NAN(fVar2)) {
          fVar2 = 1.0;
        }
        fVar7 = fVar2 * fVar2;
        fVar6 = fVar7 + fVar5 + (float)pfVar4;
        fVar5 = local_10 * fVar7;
        local_28 = (float *)((float)local_28 + fVar5);
        local_c = local_10 * fVar5 + local_c;
        local_20 = local_20 + fVar2 * fVar7;
        local_18 = fVar5 * fVar2 + local_18;
        *local_30 = fVar6;
        ppuVar1 = local_3c;
        *(float **)((int)pfVar8 + (int)pfVar3) = local_28;
        *(float *)((int)local_50 + (int)pfVar3) = local_c;
        *(float *)((int)local_40 + (int)pfVar3) = local_20;
        *(float *)((int)local_34 + (int)pfVar3) = local_18;
        local_10 = local_10 + 1.0;
        fVar2 = *(float *)(local_70 + (int)local_3c) + param_5;
        if (fVar2 < 1.0 != NAN(fVar2)) {
          fVar2 = 1.0;
        }
        fVar7 = fVar2 * fVar2;
        fVar6 = fVar7 + fVar6;
        fVar5 = local_10 * fVar7;
        local_28 = (float *)((float)local_28 + fVar5);
        local_c = local_c + local_10 * fVar5;
        local_20 = local_20 + fVar2 * fVar7;
        local_18 = fVar2 * fVar5 + local_18;
        local_30[1] = fVar6;
        pfVar4 = local_68;
        *ppuVar1 = (undefined1 *)local_28;
        pfVar8 = local_30;
        pfVar10 = local_5c;
        *(float *)((int)pfVar4 + (int)ppuVar1) = local_c;
        *(float *)(local_78 + (int)ppuVar1) = local_20;
        *(float *)(local_6c + (int)ppuVar1) = local_18;
        local_10 = local_10 + 1.0;
        local_1c = *(float *)(local_74 + (int)local_5c) + param_5;
        if (local_1c < 1.0 != NAN(local_1c)) {
          local_1c = 1.0;
        }
        fVar5 = local_1c * local_1c;
        local_30 = local_30 + 4;
        local_64 = local_64 + 4;
        pfVar14 = local_5c + 4;
        local_5c = pfVar14;
        pfVar4 = (float *)(fVar5 + fVar6);
        local_14 = pfVar4;
        fVar2 = local_10 * fVar5;
        local_28 = (float *)((float)local_28 + fVar2);
        local_c = local_10 * fVar2 + local_c;
        local_20 = local_20 + local_1c * fVar5;
        local_18 = fVar2 * local_1c + local_18;
        pfVar8[2] = (float)pfVar4;
        pfVar8 = local_28;
        pfVar3 = (float *)((int)local_38 + -1);
        local_38 = pfVar3;
        ppuVar1 = local_3c + 1;
        local_3c = local_3c + 4;
        *ppuVar1 = (undefined1 *)local_28;
        iVar12 = local_7c;
        *pfVar10 = local_c;
        *(float *)(iVar12 + -0x10 + (int)pfVar14) = local_20;
        *(float *)((int)(local_4c + -4) + (int)pfVar14) = local_18;
        local_10 = local_10 + 1.0;
        fVar2 = local_20;
      } while (pfVar3 != NULL);
    }
    if (local_24 < param_1) {
      local_4c = (undefined4 *)(&stack0xffffff70 + (int)pfVar17 + local_24 * 4);
      local_60 = (int)param_3 - (int)(&stack0xffffff70 + (int)pfVar17);
      local_54 = pfVar17;
      local_50 = (undefined4 *)(param_1 * -8);
      local_40 = (float *)((int)pfVar11 - (int)(&stack0xffffff70 + (int)pfVar17));
      local_34 = (float *)(param_1 * -0x10);
      local_38 = (float *)(param_1 - local_24);
      puVar15 = (undefined4 *)(&stack0xffffff70 + (int)pfVar17 + local_24 * 4);
      local_28 = pfVar8;
      local_20 = fVar2;
      local_14 = pfVar4;
      do {
        local_1c = *(float *)((int)puVar15 + ((int)param_3 - (int)(&stack0xffffff70 + (int)pfVar17))
                             ) + param_5;
        if (local_1c < 1.0) {
          local_1c = 1.0;
        }
        fVar6 = local_1c * local_1c;
        pfVar4 = (float *)((int)local_38 + -1);
        local_38 = pfVar4;
        local_14 = (float *)(fVar6 + (float)local_14);
        fVar2 = local_10 * fVar6;
        pfVar8 = (float *)((float)local_28 + fVar2);
        local_28 = pfVar8;
        fVar5 = local_10 * fVar2 + local_c;
        local_c = fVar5;
        fVar6 = local_1c * fVar6 + local_20;
        local_20 = fVar6;
        fVar2 = fVar2 * local_1c + local_18;
        local_18 = fVar2;
        *puVar15 = local_14;
        puVar15[-param_1] = pfVar8;
        puVar15[param_1 * -2] = fVar5;
        *(float *)((int)puVar15 + ((int)pfVar11 - (int)(&stack0xffffff70 + (int)pfVar17))) = fVar6;
        puVar15[param_1 * -4] = fVar2;
        local_10 = local_10 + 1.0;
        puVar15 = puVar15 + 1;
      } while (pfVar4 != NULL);
    }
  }
  uVar16 = *param_2;
  local_10 = 0.0;
  iVar12 = (int)uVar16 >> 0x10;
  local_24 = 0;
  fVar2 = local_2c;
  if (iVar12 < 0) {
    local_3c = NULL;
    do {
      uVar16 &= 0xffff;
      local_4c = (undefined4 *)(iVar12 * -4);
      local_14 = (float *)(*(float *)(&stack0xffffff70 + (int)pfVar17 + uVar16 * 4) +
                          *(float *)((int)local_4c + (int)(&stack0xffffff70 + (int)pfVar17)));
      local_28 = (float *)(*(float *)(&stack0xffffff70 + uVar16 * 4 + param_1 * -8) -
                          *(float *)((int)local_4c + (int)(&stack0xffffff70 + param_1 * -8)));
      local_c = *(float *)(&stack0xffffff70 + uVar16 * 4 + param_1 * -0xc) +
                *(float *)((int)local_4c + (int)(&stack0xffffff70 + param_1 * -0xc));
      local_20 = pfVar11[uVar16] + *(float *)((int)local_4c + (int)pfVar11);
      local_18 = *(float *)(&stack0xffffff70 + uVar16 * 4 + param_1 * -0x14) -
                 *(float *)((int)local_4c + (int)(&stack0xffffff70 + param_1 * -0x14));
      local_44 = local_20 * local_c - (float)local_28 * local_18;
      local_48 = (float)local_14 * local_18 - (float)local_28 * local_20;
      fVar2 = local_c * (float)local_14 - (float)local_28 * (float)local_28;
      local_2c = fVar2;
      local_c = (local_44 + local_48 * local_10) / fVar2;
      if (local_c < 0.0) {
        local_c = 0.0;
      }
      *(float *)((int)local_3c + param_4) = local_c - param_5;
      local_24 += 1;
      local_10 = local_10 + 1.0;
      uVar16 = param_2[local_24];
      local_3c = (undefined1 **)(local_24 * 4);
      iVar12 = (int)uVar16 >> 0x10;
    } while (iVar12 < 0);
  }
  local_3c = (undefined1 **)(local_24 * 4);
  uVar16 = param_2[local_24];
  local_2c = (float)((int)uVar16 >> 0x10);
  while (uVar16 &= 0xffff, iVar12 = local_24, (int)uVar16 < param_1) {
    local_14 = (float *)(*(float *)(&stack0xffffff70 + (int)pfVar17 + uVar16 * 4) -
                        *(float *)(&stack0xffffff70 + (int)pfVar17 + (int)local_2c * 4));
    local_28 = (float *)(*(float *)(&stack0xffffff70 + uVar16 * 4 + param_1 * -8) -
                        *(float *)(&stack0xffffff70 + (int)local_2c * 4 + param_1 * -8));
    local_c = *(float *)(&stack0xffffff70 + uVar16 * 4 + param_1 * -0xc) -
              *(float *)(&stack0xffffff70 + (int)local_2c * 4 + param_1 * -0xc);
    local_20 = pfVar11[uVar16] - pfVar11[(int)local_2c];
    local_18 = *(float *)(&stack0xffffff70 + uVar16 * 4 + param_1 * -0x14) -
               *(float *)(&stack0xffffff70 + (int)local_2c * 4 + param_1 * -0x14);
    local_44 = local_20 * local_c - (float)local_28 * local_18;
    local_48 = (float)local_14 * local_18 - (float)local_28 * local_20;
    fVar2 = local_c * (float)local_14 - (float)local_28 * (float)local_28;
    local_c = (local_44 + local_48 * local_10) / fVar2;
    if (local_c < 0.0) {
      local_c = 0.0;
    }
    *(float *)((int)local_3c + param_4) = local_c - param_5;
    local_24 += 1;
    local_10 = local_10 + 1.0;
    local_3c = (undefined1 **)(local_24 * 4);
    uVar16 = param_2[local_24];
    local_2c = (float)((int)uVar16 >> 0x10);
  }
  while (iVar12 < param_1) {
    local_c = (local_10 * local_48 + local_44) / fVar2;
    if (local_c < 0.0) {
      local_c = 0.0;
    }
    *(float *)(param_4 + -4 + (iVar12 + 1) * 4) = local_c - param_5;
    local_10 = local_10 + 1.0;
    iVar12 = iVar12 + 1;
  }
  if (0 < param_6) {
    local_10 = 0.0;
    local_30 = (float *)(param_6 / 2);
    local_2c = (float)((int)local_30 - param_6);
    local_24 = 0;
    if ((int)local_2c < 0) {
      local_4c = (undefined4 *)((int)local_30 * 4);
      local_50 = (undefined4 *)((int)local_30 - param_6);
      local_34 = (float *)((int)local_30 * 4);
      local_40 = (float *)((int)local_2c * -4);
      local_38 = (float *)((param_6 - (int)local_30) * 4);
      do {
        local_14 = (float *)(*(float *)((int)local_40 + (int)(&stack0xffffff70 + (int)pfVar17)) +
                            *(float *)((int)local_34 + (int)(&stack0xffffff70 + (int)pfVar17)));
        local_28 = (float *)(*(float *)((int)local_34 + (int)(&stack0xffffff70 + param_1 * -8)) -
                            *(float *)((int)local_40 + (int)(&stack0xffffff70 + param_1 * -8)));
        local_c = *(float *)((int)local_40 + (int)(&stack0xffffff70 + param_1 * -0xc)) +
                  *(float *)((int)local_34 + (int)(&stack0xffffff70 + param_1 * -0xc));
        local_20 = *(float *)((int)local_40 + (int)pfVar11) +
                   *(float *)((int)local_34 + (int)pfVar11);
        local_18 = *(float *)((int)local_34 + (int)(&stack0xffffff70 + param_1 * -0x14)) -
                   *(float *)((int)local_40 + (int)(&stack0xffffff70 + param_1 * -0x14));
        local_44 = local_c * local_20 - (float)local_28 * local_18;
        local_48 = (float)local_14 * local_18 - (float)local_28 * local_20;
        fVar2 = local_c * (float)local_14 - (float)local_28 * (float)local_28;
        local_2c = fVar2;
        local_c = (local_44 + local_48 * local_10) / fVar2;
        fVar6 = local_c - param_5;
        if (fVar6 < *(float *)(param_4 + local_24 * 4)) {
          *(float *)(param_4 + local_24 * 4) = fVar6;
        }
        local_34 = local_34 + 1;
        local_24 = local_24 + 1;
        local_10 = local_10 + 1.0;
        local_40 = local_38 + -1;
        local_50 = (undefined4 *)((int)local_50 + 1);
        local_38 = local_40;
      } while ((int)local_50 < 0);
    }
    local_4c = (undefined4 *)(local_24 + (int)local_30);
    local_2c = (float)((int)local_4c - param_6);
    if ((int)local_4c < param_1) {
      local_50 = local_4c;
      local_40 = (float *)(((int)local_4c - param_6) * 4);
      local_38 = (float *)((int)local_4c * 4);
      local_54 = (float *)((int)local_4c * 4);
      local_34 = (float *)(((int)local_30 + (local_24 - param_6)) * 4);
      do {
        local_14 = (float *)(*(float *)((int)local_38 + (int)(&stack0xffffff70 + (int)pfVar17)) -
                            *(float *)((int)local_40 + (int)(&stack0xffffff70 + (int)pfVar17)));
        local_28 = (float *)(*(float *)((int)local_38 + (int)(&stack0xffffff70 + param_1 * -8)) -
                            *(float *)((int)local_40 + (int)(&stack0xffffff70 + param_1 * -8)));
        local_c = *(float *)((int)local_38 + (int)(&stack0xffffff70 + param_1 * -0xc)) -
                  *(float *)((int)local_40 + (int)(&stack0xffffff70 + param_1 * -0xc));
        local_20 = *(float *)((int)local_38 + (int)pfVar11) -
                   *(float *)((int)local_40 + (int)pfVar11);
        local_18 = *(float *)((int)local_38 + (int)(&stack0xffffff70 + param_1 * -0x14)) -
                   *(float *)((int)local_40 + (int)(&stack0xffffff70 + param_1 * -0x14));
        local_44 = local_c * local_20 - (float)local_28 * local_18;
        local_48 = (float)local_14 * local_18 - (float)local_28 * local_20;
        fVar2 = local_c * (float)local_14 - (float)local_28 * (float)local_28;
        local_2c = fVar2;
        local_c = (local_44 + local_48 * local_10) / fVar2;
        fVar6 = local_c - param_5;
        if (fVar6 < *(float *)(param_4 + local_24 * 4)) {
          *(float *)(param_4 + local_24 * 4) = fVar6;
        }
        local_34 = local_34 + 1;
        local_38 = local_38 + 1;
        local_24 = local_24 + 1;
        local_10 = local_10 + 1.0;
        local_50 = (undefined4 *)((int)local_50 + 1);
        local_54 = local_38;
        local_40 = local_34;
      } while ((int)local_50 < param_1);
    }
    if (local_24 < param_1) {
      iVar12 = local_24;
      if (3 < param_1 - local_24) {
        iVar13 = ((param_1 - local_24) - 4U >> 2) + 1;
        iVar12 = local_24 + iVar13 * 4;
        pfVar17 = (float *)(param_4 + 8 + local_24 * 4);
        do {
          fVar6 = (local_10 * local_48 + local_44) / fVar2 - param_5;
          if (fVar6 < pfVar17[-2]) {
            pfVar17[-2] = fVar6;
          }
          fVar6 = ((local_10 + 1.0) * local_48 + local_44) / fVar2 - param_5;
          if (fVar6 < pfVar17[-1]) {
            pfVar17[-1] = fVar6;
          }
          local_10 = local_10 + 1.0 + 1.0;
          fVar6 = (local_10 * local_48 + local_44) / fVar2 - param_5;
          if (fVar6 < *pfVar17) {
            *pfVar17 = fVar6;
          }
          local_10 = local_10 + 1.0;
          local_c = (local_10 * local_48 + local_44) / fVar2;
          if (local_c - param_5 < pfVar17[1]) {
            pfVar17[1] = local_c - param_5;
          }
          local_10 = local_10 + 1.0;
          pfVar17 = pfVar17 + 4;
          iVar13 += -1;
          local_24 = iVar12;
        } while (iVar13 != 0);
      }
      for (; iVar12 < param_1; iVar12 = iVar12 + 1) {
        local_c = (local_10 * local_48 + local_44) / fVar2;
        if (local_c - param_5 < *(float *)(param_4 + iVar12 * 4)) {
          *(float *)(param_4 + iVar12 * 4) = local_c - param_5;
        }
        local_10 = local_10 + 1.0;
      }
    }
  }
  __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



void __cdecl FUN_00451ef0(int *param_1,int param_2,int param_3,int param_4,int param_5)

{
  int iVar1;
  float *pfVar2;
  int iVar3;
  int iVar4;
  float *pfVar5;
  int iVar6;
  undefined4 *puVar7;
  
  iVar3 = *param_1;
  if (iVar3 < param_5) {
    param_5 = iVar3;
  }
  iVar4 = 0;
  if (3 < param_5) {
    pfVar2 = (float *)(param_2 + 4);
    pfVar5 = (float *)(param_4 + 8);
    do {
      iVar1 = iVar4 * 4;
      iVar4 += 4;
      pfVar5[-2] = *(float *)(&DAT_00471b78 + *(int *)(param_3 + iVar1) * 4) * pfVar2[-1];
      *(float *)((param_4 - param_2) + -0x10 + (int)(pfVar2 + 4)) =
           *(float *)(&DAT_00471b78 + *(int *)((int)pfVar2 + (param_3 - param_2)) * 4) * *pfVar2;
      *pfVar5 = *(float *)(&DAT_00471b78 +
                          *(int *)((param_3 - param_4) + -0x10 + (int)(pfVar5 + 4)) * 4) * pfVar2[1]
      ;
      pfVar5[1] = *(float *)(&DAT_00471b78 + *(int *)(param_3 + -4 + iVar4 * 4) * 4) * pfVar2[2];
      pfVar2 = pfVar2 + 4;
      pfVar5 = pfVar5 + 4;
    } while (iVar4 < param_5 + -3);
  }
  if (iVar4 < param_5) {
    iVar6 = param_5 - iVar4;
    iVar1 = iVar4 * 4;
    iVar4 += iVar6;
    pfVar2 = (float *)(param_2 + iVar1);
    do {
      iVar6 += -1;
      *(float *)((int)pfVar2 + (param_4 - param_2)) =
           *(float *)(&DAT_00471b78 + *(int *)((param_3 - param_2) + (int)pfVar2) * 4) * *pfVar2;
      pfVar2 = pfVar2 + 1;
    } while (iVar6 != 0);
  }
  if (iVar4 < iVar3) {
    puVar7 = (undefined4 *)(param_4 + iVar4 * 4);
    for (iVar3 -= iVar4; iVar3 != 0; iVar3 += -1) {
      *puVar7 = 0;
      puVar7 = puVar7 + 1;
    }
  }
  return;
}



// WARNING: Function: __alloca_probe_16 replaced with injection: alloca_probe
// WARNING: Unable to track spacebase fully for stack

void __thiscall FUN_00452000(void *this,float *param_1,int param_2,float *param_3)

{
  int iVar1;
  float fVar2;
  float fVar3;
  int iVar4;
  uint uVar5;
  float *pfVar6;
  float *extraout_ECX;
  float *pfVar7;
  float *pfVar8;
  int iVar9;
  undefined1 *puVar10;
  float fVar11;
  ulonglong uVar12;
  float afStack_44 [3];
  int aiStack_38 [2];
  float fStack_30;
  int iStack_2c;
  int local_10;
  
  uVar5 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  fVar2 = *param_1;
  iStack_2c = 0x452027;
  iVar4 = (int)fVar2 * -4;
  puVar10 = &stack0xffffffd8 + iVar4;
  (&iStack_2c)[-(int)fVar2] = 0xffffffff;
  (&fStack_30)[-(int)fVar2] = (float)this;
  (&fStack_30)[-(int)fVar2] = 140.0;
  fVar11 = param_1[6];
  aiStack_38[1 - (int)fVar2] = (int)param_3;
  aiStack_38[-(int)fVar2] = param_2;
  afStack_44[2 - (int)fVar2] = fVar11;
  afStack_44[1 - (int)fVar2] = fVar2;
  afStack_44[-(int)fVar2] = 6.348234e-39;
  FUN_00451370((int)afStack_44[1 - (int)fVar2],(uint *)afStack_44[2 - (int)fVar2],
               (float *)aiStack_38[-(int)fVar2],aiStack_38[1 - (int)fVar2],(&fStack_30)[-(int)fVar2]
               ,(&iStack_2c)[-(int)fVar2]);
  iVar9 = 0;
  if (3 < (int)fVar2) {
    pfVar8 = param_3 + 1;
    pfVar6 = (float *)(&stack0xffffffe0 + iVar4);
    do {
      iVar1 = iVar9 * 4;
      iVar9 += 4;
      pfVar7 = pfVar8 + 4;
      pfVar6[-2] = *(float *)(param_2 + iVar1) - pfVar8[-1];
      *(float *)((int)aiStack_38 + (iVar4 - (int)param_3) + (int)pfVar7) =
           *(float *)((param_2 - (int)param_3) + -0x10 + (int)pfVar7) - *pfVar8;
      *pfVar6 = *(float *)((param_2 - (int)(&stack0xffffffd8 + iVar4)) + -0x10 + (int)(pfVar6 + 4))
                - pfVar8[1];
      pfVar6[1] = *(float *)(param_2 + -4 + iVar9 * 4) - pfVar8[2];
      pfVar8 = pfVar7;
      pfVar6 = pfVar6 + 4;
    } while (iVar9 < (int)fVar2 + -3);
  }
  if (iVar9 < (int)fVar2) {
    pfVar8 = param_3 + iVar9;
    iVar9 = (int)fVar2 - iVar9;
    do {
      pfVar6 = (float *)((param_2 - (int)param_3) + (int)pfVar8);
      fVar11 = *pfVar8;
      pfVar8 = pfVar8 + 1;
      iVar9 += -1;
      *(float *)((int)&iStack_2c + (iVar4 - (int)param_3) + (int)pfVar8) = *pfVar6 - fVar11;
    } while (iVar9 != 0);
  }
  fVar11 = param_1[1];
  (&iStack_2c)[-(int)fVar2] = *(undefined4 *)((int)fVar11 + 0x80);
  fVar3 = param_1[6];
  (&fStack_30)[-(int)fVar2] = fVar11;
  (&fStack_30)[-(int)fVar2] = 0.0;
  aiStack_38[1 - (int)fVar2] = (int)param_3;
  aiStack_38[-(int)fVar2] = (int)(&stack0xffffffd8 + iVar4);
  afStack_44[2 - (int)fVar2] = fVar3;
  afStack_44[1 - (int)fVar2] = fVar2;
  afStack_44[-(int)fVar2] = 6.348508e-39;
  FUN_00451370((int)afStack_44[1 - (int)fVar2],(uint *)afStack_44[2 - (int)fVar2],
               (float *)aiStack_38[-(int)fVar2],aiStack_38[1 - (int)fVar2],(&fStack_30)[-(int)fVar2]
               ,(&iStack_2c)[-(int)fVar2]);
  local_10 = 0;
  pfVar8 = extraout_ECX;
  if (3 < (int)fVar2) {
    iVar9 = ((int)fVar2 - 4U >> 2) + 1;
    local_10 = iVar9 * 4;
    pfVar6 = (float *)(&stack0xffffffdc + iVar4);
    pfVar7 = (float *)(param_2 + 0xc);
    do {
      pfVar8 = pfVar7 + 4;
      iVar9 += -1;
      pfVar6[-1] = pfVar7[-3] - pfVar6[-1];
      *pfVar6 = *(float *)((param_2 - (int)(&stack0xffffffd8 + iVar4)) + -0x10 + (int)(pfVar6 + 4))
                - *pfVar6;
      pfVar6[1] = pfVar7[-1] - pfVar6[1];
      pfVar6[2] = *pfVar7 - pfVar6[2];
      pfVar6 = pfVar6 + 4;
      pfVar7 = pfVar8;
    } while (iVar9 != 0);
  }
  if (local_10 < (int)fVar2) {
    pfVar8 = (float *)((int)fVar2 - local_10);
    pfVar6 = (float *)(&stack0xffffffd8 + local_10 * 4 + iVar4);
    do {
      pfVar8 = (float *)((int)pfVar8 + -1);
      *pfVar6 = *(float *)((param_2 - (int)(&stack0xffffffd8 + iVar4)) + (int)pfVar6) - *pfVar6;
      pfVar6 = pfVar6 + 1;
    } while (pfVar8 != NULL);
  }
  if (0 < (int)fVar2) {
    pfVar6 = param_3;
    fVar11 = fVar2;
    do {
      (&iStack_2c)[-(int)fVar2] = 0x4521b8;
      uVar12 = FUN_0045db50(pfVar8,puVar10);
      iVar9 = (int)uVar12;
      if (iVar9 < 0x28) {
        if (iVar9 < 0) {
          iVar9 = 0;
        }
      }
      else {
        iVar9 = 0x27;
      }
      puVar10 = (undefined1 *)param_1[1];
      fVar11 = (float)((int)fVar11 + -1);
      *pfVar6 = *(float *)(puVar10 + iVar9 * 4 + 0x150) +
                *(float *)((int)&iStack_2c + (iVar4 - (int)param_3) + (int)(pfVar6 + 1));
      pfVar8 = param_1;
      pfVar6 = pfVar6 + 1;
    } while (fVar11 != 0.0);
  }
  __security_check_cookie(uVar5 ^ (uint)&stack0xfffffffc);
  return;
}



// WARNING: Function: __alloca_probe_16 replaced with injection: alloca_probe
// WARNING: Unable to track spacebase fully for stack
// WARNING: Type propagation algorithm not settling

void __cdecl
FUN_00452200(int *param_1,undefined4 param_2,int param_3,undefined4 param_4,float param_5)

{
  float fVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  uint uVar5;
  int iVar6;
  float *pfVar7;
  int iVar8;
  int aiStack_48 [6];
  undefined1 auStack_30 [4];
  undefined4 uStack_2c;
  int local_c;
  
  uVar5 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  iVar2 = param_1[10];
  iVar3 = *param_1;
  uStack_2c = 0x45222a;
  iVar4 = iVar2 * -4;
  fVar1 = *(float *)(param_1[1] + 4) + param_5;
  iVar6 = 0;
  if (0 < iVar2) {
    do {
      *(undefined4 *)(&stack0xffffffd8 + iVar6 * 4 + iVar4) = 0xc61c3c00;
      iVar6 += 1;
    } while (iVar6 < param_1[10]);
  }
  if (fVar1 < *(float *)(param_1[1] + 8)) {
    fVar1 = *(float *)(param_1[1] + 8);
  }
  iVar6 = 0;
  if (3 < iVar3) {
    iVar8 = (iVar3 - 4U >> 2) + 1;
    local_c = 8;
    iVar6 = iVar8 * 4;
    pfVar7 = (float *)(param_3 + 8);
    do {
      pfVar7[-2] = *(float *)((int)pfVar7 + param_1[4] + -param_3 + -8) + fVar1;
      pfVar7[-1] = *(float *)((int)pfVar7 + param_1[4] + -param_3 + -4) + fVar1;
      iVar8 += -1;
      *pfVar7 = *(float *)(local_c + param_1[4]) + fVar1;
      pfVar7[1] = *(float *)((int)pfVar7 + param_1[4] + (4 - param_3)) + fVar1;
      pfVar7 = pfVar7 + 4;
      local_c = local_c + 0x10;
    } while (iVar8 != 0);
  }
  while (iVar6 < iVar3) {
    iVar8 = iVar6 * 4;
    iVar6 += 1;
    *(float *)(param_3 + -4 + iVar6 * 4) = *(float *)(param_1[4] + iVar8) + fVar1;
  }
  (&uStack_2c)[-iVar2] = &stack0xffffffd8 + iVar4;
  (&uStack_2c)[-iVar2] = param_4;
  *(undefined1 **)(auStack_30 + iVar4) = &stack0xffffffd8 + iVar4;
  iVar3 = param_1[2];
  aiStack_48[5 - iVar2] = param_3;
  aiStack_48[4 - iVar2] = param_2;
  aiStack_48[3 - iVar2] = iVar3;
  aiStack_48[2 - iVar2] = 0x452327;
  FUN_00450fb0(aiStack_48[3 - iVar2],aiStack_48[4 - iVar2],aiStack_48[5 - iVar2]);
  aiStack_48[2 - iVar2] = param_3;
  aiStack_48[1 - iVar2] = (int)(&stack0xffffffd8 + iVar4);
  aiStack_48[-iVar2] = 0x452331;
  FUN_00451240(aiStack_48[1 - iVar2],aiStack_48[2 - iVar2]);
  __security_check_cookie(uVar5 ^ (uint)&stack0xfffffffc);
  return;
}



void __cdecl
FUN_00452350(int *param_1,int param_2,int param_3,int param_4,int param_5,int param_6,float *param_7
            )

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  int iVar5;
  int *piVar6;
  float *pfVar7;
  float *pfVar8;
  int iVar9;
  int iVar10;
  int iVar11;
  float *local_4c;
  float *local_48;
  float *local_40;
  int local_3c;
  
  piVar6 = param_1;
  fVar1 = *(float *)(param_1[1] + 0xc + param_4 * 4);
  iVar5 = *param_1;
  fVar2 = (float)param_1[0xc];
  local_3c = 0;
  if (3 < iVar5) {
    iVar9 = param_6 - param_3;
    local_48 = (float *)(param_6 + 0xc);
    iVar10 = param_6 - param_5;
    local_4c = (float *)(param_5 + 8);
    iVar11 = (iVar5 - 4U >> 2) + 1;
    local_3c = iVar11 * 4;
    local_40 = param_7;
    pfVar8 = (float *)(param_3 + 4);
    do {
      fVar4 = *(float *)((int)pfVar8 + *(int *)(piVar6[3] + param_4 * 4) + -param_3 + -4) +
              *(float *)((param_2 - (int)param_7) + (int)local_40);
      fVar3 = *(float *)(piVar6[1] + 0x6c);
      if (fVar3 < fVar4 != (NAN(fVar3) || NAN(fVar4))) {
        fVar4 = *(float *)(piVar6[1] + 0x6c);
      }
      fVar3 = pfVar8[-1] + fVar1;
      if (fVar3 < fVar4 != (NAN(fVar3) || NAN(fVar4))) {
        fVar3 = fVar4;
      }
      local_4c[-2] = fVar3;
      if (param_4 == 1) {
        fVar3 = (fVar4 - *local_40) - -17.2;
        if (fVar4 - *local_40 <= -17.2) {
          param_1 = (int *)(1.0 - fVar3 * 0.0003 * fVar2);
        }
        else {
          param_1 = (int *)(1.0 - fVar3 * 0.005 * fVar2);
          if ((float)param_1 < 0.0) {
            local_48[-3] = local_48[-3] * 0.0001;
            goto LAB_0045251a;
          }
        }
        local_48[-3] = local_48[-3] * (float)param_1;
      }
LAB_0045251a:
      fVar4 = *(float *)((int)pfVar8 + *(int *)(piVar6[3] + param_4 * 4) + -param_3) +
              *(float *)((param_2 - param_3) + (int)pfVar8);
      fVar3 = *(float *)(piVar6[1] + 0x6c);
      if (fVar3 < fVar4 != (NAN(fVar3) || NAN(fVar4))) {
        fVar4 = *(float *)(piVar6[1] + 0x6c);
      }
      fVar3 = *pfVar8 + fVar1;
      if (fVar3 < fVar4 != (NAN(fVar3) || NAN(fVar4))) {
        fVar3 = fVar4;
      }
      *(float *)((param_5 - param_3) + (int)pfVar8) = fVar3;
      if (param_4 == 1) {
        fVar4 = fVar4 - *(float *)(((int)param_7 - param_3) + (int)pfVar8);
        fVar3 = fVar4 - -17.2;
        if (fVar4 <= -17.2) {
          param_1 = (int *)(1.0 - fVar3 * 0.0003 * fVar2);
        }
        else {
          param_1 = (int *)(1.0 - fVar3 * 0.005 * fVar2);
          if ((float)param_1 < 0.0) {
            *(float *)(iVar9 + (int)pfVar8) = *(float *)(iVar9 + (int)pfVar8) * 0.0001;
            goto LAB_004525e9;
          }
        }
        *(float *)(iVar9 + (int)pfVar8) = (float)param_1 * *(float *)(iVar9 + (int)pfVar8);
      }
LAB_004525e9:
      fVar4 = *(float *)(*(int *)(piVar6[3] + param_4 * 4) + (4 - param_3) + (int)pfVar8) +
              *(float *)((param_2 - param_5) + (int)local_4c);
      fVar3 = *(float *)(piVar6[1] + 0x6c);
      if (fVar3 < fVar4 != (NAN(fVar3) || NAN(fVar4))) {
        fVar4 = *(float *)(piVar6[1] + 0x6c);
      }
      fVar3 = pfVar8[1] + fVar1;
      if (fVar3 < fVar4 != (NAN(fVar3) || NAN(fVar4))) {
        fVar3 = fVar4;
      }
      *local_4c = fVar3;
      if (param_4 == 1) {
        fVar4 = fVar4 - *(float *)(((int)param_7 - param_5) + (int)local_4c);
        fVar3 = fVar4 - -17.2;
        if (fVar4 <= -17.2) {
          param_1 = (int *)(1.0 - fVar3 * 0.0003 * fVar2);
        }
        else {
          param_1 = (int *)(1.0 - fVar3 * 0.005 * fVar2);
          if ((float)param_1 < 0.0) {
            *(float *)(iVar10 + (int)local_4c) = *(float *)(iVar10 + (int)local_4c) * 0.0001;
            goto LAB_004526b8;
          }
        }
        *(float *)(iVar10 + (int)local_4c) = (float)param_1 * *(float *)(iVar10 + (int)local_4c);
      }
LAB_004526b8:
      pfVar7 = (float *)(((int)param_7 - param_6) + (int)local_48);
      fVar4 = *(float *)(*(int *)(piVar6[3] + param_4 * 4) + (8 - param_3) + (int)pfVar8) +
              *(float *)((param_2 - (int)param_7) + (int)pfVar7);
      fVar3 = *(float *)(piVar6[1] + 0x6c);
      if (fVar3 < fVar4 != (NAN(fVar3) || NAN(fVar4))) {
        fVar4 = *(float *)(piVar6[1] + 0x6c);
      }
      fVar3 = pfVar8[2] + fVar1;
      if (fVar3 < fVar4 != (NAN(fVar3) || NAN(fVar4))) {
        fVar3 = fVar4;
      }
      local_4c[1] = fVar3;
      if (param_4 == 1) {
        fVar4 = fVar4 - *pfVar7;
        fVar3 = fVar4 - -17.2;
        if (fVar4 <= -17.2) {
          param_1 = (int *)(1.0 - fVar3 * 0.0003 * fVar2);
        }
        else {
          param_1 = (int *)(1.0 - fVar3 * 0.005 * fVar2);
          if ((float)param_1 < 0.0) {
            *local_48 = *local_48 * 0.0001;
            goto LAB_00452796;
          }
        }
        *local_48 = *local_48 * (float)param_1;
      }
LAB_00452796:
      local_40 = local_40 + 4;
      local_4c = local_4c + 4;
      local_48 = local_48 + 4;
      pfVar8 = pfVar8 + 4;
      iVar11 += -1;
    } while (iVar11 != 0);
  }
  if (local_3c < iVar5) {
    pfVar8 = (float *)(param_3 + local_3c * 4);
    iVar9 = param_6 - param_3;
    do {
      fVar4 = *(float *)(*(int *)(piVar6[3] + param_4 * 4) + local_3c * 4) +
              *(float *)((int)pfVar8 + (param_2 - param_3));
      fVar3 = *(float *)(piVar6[1] + 0x6c);
      if (fVar3 < fVar4 != (NAN(fVar3) || NAN(fVar4))) {
        fVar4 = *(float *)(piVar6[1] + 0x6c);
      }
      fVar3 = *pfVar8 + fVar1;
      if (fVar3 < fVar4 != (NAN(fVar3) || NAN(fVar4))) {
        fVar3 = fVar4;
      }
      *(float *)((param_5 - param_3) + (int)pfVar8) = fVar3;
      if (param_4 == 1) {
        fVar4 = fVar4 - *(float *)(((int)param_7 - param_3) + (int)pfVar8);
        fVar3 = fVar4 - -17.2;
        if (fVar4 <= -17.2) {
          param_1 = (int *)(1.0 - fVar3 * 0.0003 * fVar2);
        }
        else {
          param_1 = (int *)(1.0 - fVar3 * 0.005 * fVar2);
          if ((float)param_1 < 0.0) {
            *(float *)(iVar9 + (int)pfVar8) = *(float *)(iVar9 + (int)pfVar8) * 0.0001;
            goto LAB_004528a4;
          }
        }
        *(float *)(iVar9 + (int)pfVar8) = (float)param_1 * *(float *)(iVar9 + (int)pfVar8);
      }
LAB_004528a4:
      local_3c += 1;
      pfVar8 = pfVar8 + 1;
    } while (local_3c < iVar5);
  }
  return;
}



void __fastcall FUN_004528d0(float *param_1,float *param_2,float param_3,float param_4)

{
  float fVar1;
  float fVar2;
  int iVar3;
  
  fVar1 = ABS(*param_2);
  fVar2 = ABS(*param_1);
  iVar3 = (uint)(fVar2 < fVar1 != (NAN(fVar2) || NAN(fVar1))) - (uint)(fVar1 < fVar2);
  if (iVar3 == 0) {
    iVar3 = (uint)(ABS(param_4) < ABS(param_3) != (NAN(ABS(param_4)) || NAN(ABS(param_3)))) * 2 + -1
    ;
  }
  if (iVar3 == 1) {
    if (0.0 < *param_2 == NAN(*param_2)) {
      *param_1 = *param_1 - *param_2;
    }
    else {
      *param_1 = *param_2 - *param_1;
    }
  }
  else {
    fVar1 = *param_1;
    if (0.0 < *param_1 == NAN(*param_1)) {
      fVar2 = *param_1 - *param_2;
    }
    else {
      fVar2 = *param_2 - *param_1;
    }
    *param_1 = fVar2;
    *param_2 = fVar1;
  }
  fVar1 = ABS(*param_2) * 1.9999;
  if (fVar1 < *param_1 != (NAN(fVar1) || NAN(*param_1))) {
    *param_1 = ABS(*param_2) * -2.0;
    *param_2 = -*param_2;
    return;
  }
  return;
}



void __cdecl FUN_00452990(float param_1,float *param_2,undefined4 *param_3)

{
  uint uVar1;
  uint uVar2;
  uint unaff_ESI;
  uint unaff_EDI;
  
  uVar2 = (int)(unaff_EDI - unaff_ESI) >> 0x1f;
  uVar1 = ((int)unaff_ESI < (int)unaff_EDI) - 1;
  uVar2 = 0x1f - ((unaff_EDI - unaff_ESI ^ uVar2) - uVar2);
  *param_2 = *(float *)(&DAT_00471b78 + (~uVar1 & unaff_EDI | uVar1 & unaff_ESI) * 4) *
             (*(float *)(&DAT_00471f78 + (((int)uVar2 < 0) - 1 & uVar2) * 4) + 1.0) * param_1;
  *param_3 = 0;
  return;
}



float10 __cdecl FUN_00452a00(float param_1,float param_2)

{
  float10 fVar1;
  
  if (param_1 <= 0.0) {
    if (param_2 < 0.0 != NAN(param_2)) {
      fVar1 = (float10)_CIsqrt();
      return (float10)(float)-fVar1;
    }
    if (param_2 < -param_1) {
      fVar1 = (float10)_CIsqrt();
      return (float10)(float)-fVar1;
    }
    fVar1 = (float10)_CIsqrt();
    return (float10)(float)fVar1;
  }
  if (0.0 < param_2) {
    fVar1 = (float10)_CIsqrt();
    return (float10)(float)fVar1;
  }
  if (-param_2 < param_1 != (NAN(-param_2) || NAN(param_1))) {
    fVar1 = (float10)_CIsqrt();
    return (float10)(float)fVar1;
  }
  fVar1 = (float10)_CIsqrt();
  return (float10)(float)-fVar1;
}



float10 __cdecl FUN_00452ad0(float param_1,float param_2)

{
  float10 fVar1;
  
  if (param_1 <= 0.0) {
    if (param_2 < 0.0 != NAN(param_2)) {
      fVar1 = (float10)_CIsqrt();
      return (float10)(float)-fVar1;
    }
    if (param_2 < -param_1) {
      fVar1 = (float10)_CIsqrt();
      return (float10)(float)-fVar1;
    }
    fVar1 = (float10)_CIsqrt();
    return (float10)(float)fVar1;
  }
  if (0.0 < param_2) {
    fVar1 = (float10)_CIsqrt();
    return (float10)(float)fVar1;
  }
  if (-param_2 < param_1 != (NAN(-param_2) || NAN(param_1))) {
    fVar1 = (float10)_CIsqrt();
    return (float10)(float)fVar1;
  }
  fVar1 = (float10)_CIsqrt();
  return (float10)(float)-fVar1;
}



int __cdecl FUN_00452b90(int param_1,int param_2,int *param_3,int param_4,int param_5)

{
  int iVar1;
  int iVar2;
  float *pfVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int *piVar7;
  int iVar8;
  float *pfVar9;
  float10 fVar10;
  int local_18;
  int local_10;
  
  iVar1 = *param_3;
  iVar5 = FUN_0044e270(param_1,*(int *)(param_4 + 0x484) * 4);
  iVar2 = *(int *)(param_2 + 0xa0 + *(int *)param_3[1] * 0x3c);
  local_10 = 0;
  if (*(int *)(param_4 + 0x484) < 1) {
    return iVar5;
  }
  piVar7 = (int *)(param_4 + 0x888);
  do {
    pfVar3 = *(float **)(param_5 + piVar7[-0x100] * 4);
    iVar4 = *(int *)(param_5 + *piVar7 * 4);
    iVar6 = FUN_0044e270(param_1,iVar1 * 4);
    *(int *)(iVar5 + local_10 * 4) = iVar6;
    iVar8 = 0;
    if (0 < iVar2) {
      pfVar9 = pfVar3;
      local_18 = iVar2;
      do {
        fVar10 = FUN_00452a00(*pfVar9,*(float *)((iVar4 - (int)pfVar3) + (int)pfVar9));
        *(float *)((iVar6 - (int)pfVar3) + (int)pfVar9) = (float)fVar10;
        pfVar9 = pfVar9 + 1;
        local_18 += -1;
        iVar8 = iVar2;
      } while (local_18 != 0);
    }
    if (iVar8 < iVar1) {
      pfVar9 = pfVar3 + iVar8;
      iVar8 = iVar1 - iVar8;
      do {
        fVar10 = FUN_00452ad0(*pfVar9,*(float *)((int)pfVar9 + (iVar4 - (int)pfVar3)));
        *(float *)((int)pfVar9 + (iVar6 - (int)pfVar3)) = (float)fVar10;
        pfVar9 = pfVar9 + 1;
        iVar8 += -1;
      } while (iVar8 != 0);
    }
    local_10 += 1;
    piVar7 = piVar7 + 1;
  } while (local_10 < *(int *)(param_4 + 0x484));
  return iVar5;
}



// _PtFuncCompare parameter of qsort
// 

uint __cdecl _PtFuncCompare_00452d10(undefined4 *param_1,undefined4 *param_2)

{
  float fVar1;
  float fVar2;
  
  fVar1 = ABS(*(float *)*param_1);
  fVar2 = ABS(*(float *)*param_2);
  if (fVar2 < fVar1 != (NAN(fVar2) || NAN(fVar1))) {
    return (fVar1 < fVar2) - 1;
  }
  return (uint)(fVar1 < fVar2);
}



// WARNING: Function: __alloca_probe_16 replaced with injection: alloca_probe
// WARNING: Unable to track spacebase fully for stack

void __cdecl FUN_00452d60(int param_1,int *param_2,int param_3,int param_4)

{
  int iVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  size_t asStackY_40 [3];
  int local_18;
  int *local_10;
  int local_c;
  
  uVar4 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  if (*(int *)(param_2[1] + 0x1f8) == 0) {
    __security_check_cookie(uVar4 ^ (uint)&stack0xfffffffc);
    return;
  }
  iVar1 = *param_2;
  asStackY_40[2] = 0x452da2;
  local_10 = (int *)FUN_0044e270(param_1,*(int *)(param_3 + 0x484) * 4);
  iVar2 = *(int *)(param_2[1] + 0x200);
  iVar3 = iVar2 * -4;
  iVar7 = 0;
  if (0 < *(int *)(param_3 + 0x484)) {
    do {
      *(int *)(&stack0xffffffd0 + iVar3) = iVar1 * 4;
      *(int *)(&stack0xffffffcc + iVar3) = param_1;
      asStackY_40[2 - iVar2] = 0x452df1;
      iVar5 = FUN_0044e270(*(int *)(&stack0xffffffcc + iVar3),*(int *)(&stack0xffffffd0 + iVar3));
      *local_10 = iVar5;
      local_18 = 0;
      if (0 < iVar1) {
        local_c = 0;
        do {
          iVar6 = 0;
          iVar5 = local_c;
          if (0 < iVar2) {
            do {
              *(int *)(&stack0xffffffd4 + iVar3 + iVar6 * 4) = *(int *)(param_4 + iVar7 * 4) + iVar5
              ;
              iVar6 += 1;
              iVar5 = iVar5 + 4;
            } while (iVar6 < iVar2);
          }
          *(code **)(&stack0xffffffd0 + iVar3) = _PtFuncCompare_00452d10;
          *(undefined4 *)(&stack0xffffffcc + iVar3) = 4;
          asStackY_40[2 - iVar2] = iVar2;
          asStackY_40[1 - iVar2] = (size_t)(&stack0xffffffd4 + iVar3);
          asStackY_40[-iVar2] = 0x452e30;
          qsort((void *)asStackY_40[1 - iVar2],asStackY_40[2 - iVar2],
                *(size_t *)(&stack0xffffffcc + iVar3),*(_PtFuncCompare **)(&stack0xffffffd0 + iVar3)
               );
          iVar6 = 0;
          iVar5 = local_c;
          if (0 < iVar2) {
            do {
              *(int *)(iVar5 + *local_10) =
                   *(int *)(&stack0xffffffd4 + iVar6 * 4 + iVar3) - *(int *)(param_4 + iVar7 * 4) >>
                   2;
              iVar6 += 1;
              iVar5 = iVar5 + 4;
            } while (iVar6 < iVar2);
          }
          local_18 += iVar2;
          local_c += iVar2 * 4;
        } while (local_18 < iVar1);
      }
      local_10 = local_10 + 1;
      iVar7 += 1;
    } while (iVar7 < *(int *)(param_3 + 0x484));
  }
  __security_check_cookie(uVar4 ^ (uint)&stack0xfffffffc);
  return;
}



// WARNING: Function: __alloca_probe_16 replaced with injection: alloca_probe
// WARNING: Unable to track spacebase fully for stack
// WARNING: Type propagation algorithm not settling

void __cdecl FUN_00452ec0(int *param_1,int param_2,int param_3)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  uint uVar5;
  int iVar6;
  int iVar7;
  int *piVar8;
  int iVar9;
  int iVar10;
  size_t asStack_30 [4];
  undefined4 uStack_20;
  
  uVar5 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  iVar1 = *param_1;
  iVar2 = *(int *)(param_1[1] + 0x200);
  uStack_20 = 0x452ef0;
  iVar4 = iVar2 * -4;
  iVar3 = *(int *)(param_1[1] + 0x1fc);
  iVar10 = iVar2;
  for (iVar9 = iVar3; iVar9 < iVar1; iVar9 += iVar10) {
    if (iVar1 < iVar9 + iVar10) {
      iVar10 = iVar1 - iVar9;
    }
    iVar6 = 0;
    if (0 < iVar10) {
      iVar7 = param_2 + iVar9 * 4;
      do {
        *(int *)(&stack0xffffffe4 + iVar6 * 4 + iVar4) = iVar7;
        iVar6 += 1;
        iVar7 += 4;
      } while (iVar6 < iVar10);
    }
    asStack_30[4 - iVar2] = (size_t)_PtFuncCompare_00452d10;
    asStack_30[3 - iVar2] = 4;
    asStack_30[2 - iVar2] = iVar10;
    asStack_30[1 - iVar2] = (size_t)(&stack0xffffffe4 + iVar4);
    asStack_30[-iVar2] = 0x452f39;
    qsort((void *)asStack_30[1 - iVar2],asStack_30[2 - iVar2],asStack_30[3 - iVar2],
          (_PtFuncCompare *)asStack_30[4 - iVar2]);
    iVar6 = 0;
    if (0 < iVar10) {
      piVar8 = (int *)(param_3 + (iVar9 - iVar3) * 4);
      do {
        iVar7 = iVar6 * 4;
        iVar6 += 1;
        *piVar8 = *(int *)(&stack0xffffffe4 + iVar7 + iVar4) - param_2 >> 2;
        piVar8 = piVar8 + 1;
      } while (iVar6 < iVar10);
    }
  }
  __security_check_cookie(uVar5 ^ (uint)&stack0xfffffffc);
  return;
}



void __cdecl FUN_00452f80(int *param_1,int param_2,float *param_3,int param_4)

{
  int *piVar1;
  float fVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  float *pfVar7;
  float *pfVar8;
  int *piVar9;
  int iVar10;
  int iVar11;
  int iVar12;
  int iVar13;
  float10 fVar14;
  double dVar15;
  float local_64;
  int *local_54;
  int *local_50;
  
  iVar3 = param_1[1];
  iVar12 = *param_1;
  iVar4 = *(int *)(iVar3 + 0x200);
  iVar10 = 0;
  iVar5 = *(int *)(iVar3 + 0x1fc);
  if (iVar12 < *(int *)(iVar3 + 0x1fc)) {
    iVar5 = iVar12;
  }
  if (*(int *)(iVar3 + 500) != 0) {
    if (0 < iVar5) {
      pfVar7 = param_3;
      local_54 = (int *)iVar5;
      do {
        dVar15 = floor((double)(*(float *)((param_2 - (int)param_3) + (int)pfVar7) + 0.5));
        *pfVar7 = (float)dVar15;
        pfVar7 = pfVar7 + 1;
        local_54 = (int *)((int)local_54 + -1);
        iVar10 = iVar5;
      } while (local_54 != NULL);
    }
    iVar13 = iVar4 + iVar10;
    if (iVar13 <= iVar12) {
      local_50 = (int *)(param_4 + (iVar10 - iVar5) * 4);
      pfVar7 = (float *)(param_2 + 8 + iVar10 * 4);
      do {
        local_64 = 0.0;
        if (iVar10 < iVar13) {
          iVar11 = iVar10;
          if (3 < iVar13 - iVar10) {
            iVar6 = ((iVar13 - iVar10) - 4U >> 2) + 1;
            iVar11 = iVar10 + iVar6 * 4;
            pfVar8 = pfVar7;
            do {
              iVar6 += -1;
              local_64 = pfVar8[1] * pfVar8[1] +
                         *pfVar8 * *pfVar8 +
                         local_64 + pfVar8[-2] * pfVar8[-2] + pfVar8[-1] * pfVar8[-1];
              pfVar8 = pfVar8 + 4;
            } while (iVar6 != 0);
          }
          for (; iVar11 < iVar13; iVar11 = iVar11 + 1) {
            fVar2 = *(float *)(param_2 + iVar11 * 4);
            local_64 = fVar2 * fVar2 + local_64;
          }
        }
        iVar11 = 0;
        if (0 < iVar4) {
          local_54 = local_50;
          do {
            iVar6 = *local_54;
            fVar2 = *(float *)(param_2 + iVar6 * 4);
            if (fVar2 * fVar2 < 0.25) {
              if (local_64 < (float)*(double *)(iVar3 + 0x208) !=
                  (NAN(local_64) || NAN((float)*(double *)(iVar3 + 0x208)))) {
                if (iVar11 < iVar4) {
                  if (3 < iVar4 - iVar11) {
                    iVar6 = ((iVar4 - iVar11) - 4U >> 2) + 1;
                    piVar9 = (int *)(param_4 + 8 + ((iVar11 - iVar5) + iVar10) * 4);
                    iVar11 += iVar6 * 4;
                    do {
                      param_3[piVar9[-2]] = 0.0;
                      param_3[piVar9[-1]] = 0.0;
                      param_3[*piVar9] = 0.0;
                      piVar1 = piVar9 + 1;
                      piVar9 = piVar9 + 4;
                      param_3[*piVar1] = 0.0;
                      iVar6 += -1;
                    } while (iVar6 != 0);
                  }
                  if (iVar11 < iVar4) {
                    piVar9 = (int *)(param_4 + ((iVar11 - iVar5) + iVar10) * 4);
                    iVar11 = iVar4 - iVar11;
                    do {
                      iVar6 = *piVar9;
                      piVar9 = piVar9 + 1;
                      param_3[iVar6] = 0.0;
                      iVar11 += -1;
                    } while (iVar11 != 0);
                  }
                }
                break;
              }
              fVar14 = FUN_0044f7c0(*(uint *)(param_2 + iVar6 * 4));
              param_3[iVar6] = (float)fVar14;
              local_64 = local_64 - 1.0;
            }
            else {
              dVar15 = floor((double)(*(float *)(param_2 + iVar6 * 4) + 0.5));
              param_3[iVar6] = (float)dVar15;
              fVar2 = *(float *)(param_2 + iVar6 * 4);
              local_64 = local_64 - fVar2 * fVar2;
            }
            local_54 = local_54 + 1;
            iVar11 += 1;
          } while (iVar11 < iVar4);
        }
        iVar13 += iVar4;
        iVar10 += iVar4;
        local_50 = local_50 + iVar4;
        pfVar7 = pfVar7 + iVar4;
      } while (iVar13 <= iVar12);
    }
  }
  if (iVar10 < iVar12) {
    pfVar7 = param_3 + iVar10;
    iVar12 -= iVar10;
    do {
      dVar15 = floor((double)(*(float *)((int)pfVar7 + (param_2 - (int)param_3)) + 0.5));
      *pfVar7 = (float)dVar15;
      pfVar7 = pfVar7 + 1;
      iVar12 += -1;
    } while (iVar12 != 0);
  }
  return;
}



void __cdecl
FUN_00453270(int param_1,int param_2,int *param_3,int param_4,int param_5,int param_6,int *param_7,
            undefined4 param_8,int param_9,int param_10)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int *piVar5;
  int iVar6;
  float fVar7;
  int iVar8;
  int *piVar9;
  int extraout_ECX;
  int iVar10;
  int iVar11;
  float *pfVar12;
  int iVar13;
  float10 fVar14;
  double dVar15;
  float local_a4;
  int *local_9c;
  int local_8c;
  int local_84;
  float local_7c;
  int local_70;
  int local_68;
  int local_64;
  
  iVar2 = *param_3;
  local_64 = 0;
  if (0 < *(int *)(param_4 + 0x484)) {
    piVar9 = (int *)(param_4 + 0x888);
    local_9c = param_7;
    iVar10 = iVar2;
    do {
      if ((*(int *)(param_9 + piVar9[-0x100] * 4) != 0) || (*(int *)(param_9 + *piVar9 * 4) != 0)) {
        iVar3 = *(int *)(piVar9[-0x100] * 4 + param_5);
        iVar4 = *(int *)(*piVar9 * 4 + param_5);
        iVar1 = iVar3 + iVar2 * 4;
        fVar7 = (float)*(double *)(&DAT_00471ae8 + *(int *)(param_2 + 0xfc + param_1 * 4) * 8);
        dVar15 = *(double *)(&DAT_00471ae8 + *(int *)(param_2 + 0x138 + param_1 * 4) * 8);
        piVar5 = (int *)param_3[1];
        iVar11 = iVar10;
        if (piVar5[0x7e] != 0) {
          iVar11 = piVar5[0x80];
        }
        iVar6 = *(int *)(param_2 + 0x84 + (*piVar5 * 0xf + param_1) * 4);
        *(undefined4 *)(param_9 + piVar9[-0x100] * 4) = 1;
        *(undefined4 *)(param_9 + *piVar9 * 4) = 1;
        if (1000 < iVar2) {
          dVar15 = *(double *)(&DAT_00471b30 + *(int *)(param_2 + 0x138 + param_1 * 4) * 8);
        }
        local_7c = (float)dVar15;
        iVar10 = *param_3;
        local_68 = 0;
        if (0 < iVar10) {
          local_84 = 0;
          do {
            local_a4 = 0.0;
            if (0 < iVar11) {
              pfVar12 = (float *)(local_84 + iVar4);
              iVar8 = iVar3 - iVar4;
              iVar13 = iVar1 - iVar4;
              iVar10 = local_68;
              local_8c = local_84;
              local_70 = iVar11;
              do {
                if (iVar10 < param_10) {
                  if ((((iVar6 <= iVar10) && (ABS(*(float *)(iVar8 + (int)pfVar12)) < local_7c)) &&
                      (ABS(*pfVar12) < local_7c != (NAN(ABS(*pfVar12)) || NAN(local_7c)))) ||
                     ((ABS(*(float *)(iVar8 + (int)pfVar12)) < fVar7 &&
                      (ABS(*pfVar12) < fVar7 != (NAN(ABS(*pfVar12)) || NAN(fVar7)))))) {
                    FUN_00452990(*(float *)(*(int *)((int)local_9c + (param_6 - (int)param_7)) +
                                           local_8c),(float *)(iVar13 + (int)pfVar12),
                                 pfVar12 + iVar2);
                    dVar15 = floor((double)(*(float *)(iVar13 + (int)pfVar12) + 0.5));
                    if (NAN(dVar15) != (dVar15 == 0.0)) {
                      local_a4 = *(float *)(iVar13 + (int)pfVar12) *
                                 *(float *)(iVar13 + (int)pfVar12) + local_a4;
                    }
                  }
                  else {
                    FUN_004528d0(pfVar12 + iVar2,(float *)(iVar13 + (int)pfVar12),
                                 *(float *)(iVar8 + (int)pfVar12),*pfVar12);
                  }
                }
                else {
                  *(undefined4 *)(iVar13 + (int)pfVar12) = 0;
                  pfVar12[iVar2] = 0.0;
                }
                local_8c += 4;
                iVar10 += 1;
                pfVar12 = pfVar12 + 1;
                local_70 += -1;
              } while (local_70 != 0);
            }
            if ((*(int *)(param_3[1] + 0x1f8) != 0) && (local_70 = 0, iVar10 = local_84, 0 < iVar11)
               ) {
              do {
                if (local_a4 < (float)*(double *)(param_3[1] + 0x208)) break;
                iVar8 = *(int *)(iVar10 + *local_9c);
                if (((iVar8 < param_10) && (iVar6 <= iVar8)) &&
                   (dVar15 = floor((double)(*(float *)(iVar1 + iVar8 * 4) + 0.5)),
                   NAN(dVar15) != (dVar15 == 0.0))) {
                  fVar14 = FUN_0044f7c0(*(uint *)(iVar1 + iVar8 * 4));
                  *(float *)(extraout_ECX + iVar8 * 4) = (float)fVar14;
                  local_a4 = local_a4 - 1.0;
                }
                local_70 += 1;
                iVar10 = iVar10 + 4;
              } while (local_70 < iVar11);
            }
            iVar10 = *param_3;
            local_68 += iVar11;
            local_84 += iVar11 * 4;
          } while (local_68 < iVar10);
        }
      }
      local_9c = local_9c + 1;
      local_64 += 1;
      piVar9 = piVar9 + 1;
    } while (local_64 < *(int *)(param_4 + 0x484));
  }
  return;
}



void __fastcall
FUN_00453660(undefined4 param_1,undefined4 param_2,int param_3,int *param_4,int param_5,int param_6)

{
  int iVar1;
  int iVar2;
  float fVar3;
  float fVar4;
  int iVar5;
  float *pfVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  ulonglong uVar10;
  int local_10;
  int local_4;
  
  iVar1 = *param_4;
  uVar10 = FUN_0045db50(param_1,param_2);
  iVar2 = *(int *)(param_3 + 0xa0 + *(int *)param_4[1] * 0x3c);
  local_4 = 0;
  if (0 < *(int *)(param_5 + 0x484)) {
    do {
      if (iVar2 < iVar1) {
        iVar5 = iVar1 - iVar2;
        iVar9 = iVar2;
        if (3 < iVar5) {
          fVar3 = (float)iVar5;
          fVar4 = (float)(int)uVar10;
          iVar7 = ((iVar1 - iVar2) - 4U >> 2) + 1;
          local_10 = 2;
          iVar9 = iVar2 + iVar7 * 4;
          pfVar6 = (float *)(*(int *)(param_6 + local_4 * 4) + 8 + iVar2 * 4);
          do {
            iVar7 += -1;
            pfVar6[-2] = (1.0 - ((float)(local_10 + -2) / fVar3) * fVar4) * pfVar6[-2];
            pfVar6[-1] = (1.0 - ((float)(local_10 + -1) / fVar3) * fVar4) * pfVar6[-1];
            *pfVar6 = (1.0 - ((float)local_10 / fVar3) * fVar4) * *pfVar6;
            pfVar6[1] = (1.0 - ((float)(local_10 + 1) / fVar3) * fVar4) * pfVar6[1];
            pfVar6 = pfVar6 + 4;
            local_10 = local_10 + 4;
          } while (iVar7 != 0);
        }
        if (iVar9 < iVar1) {
          iVar7 = iVar9 - iVar2;
          iVar8 = iVar1 - iVar9;
          pfVar6 = (float *)(*(int *)(param_6 + local_4 * 4) + iVar9 * 4);
          do {
            fVar3 = (float)iVar7;
            iVar7 += 1;
            iVar8 += -1;
            *pfVar6 = (1.0 - (fVar3 / (float)iVar5) * (float)(int)uVar10) * *pfVar6;
            pfVar6 = pfVar6 + 1;
          } while (iVar8 != 0);
        }
      }
      local_4 += 1;
    } while (local_4 < *(int *)(param_5 + 0x484));
  }
  return;
}



int __cdecl FUN_004537f0(uint param_1)

{
  int iVar1;
  
  iVar1 = 0;
  if (param_1 != 0) {
    do {
      iVar1 += 1;
      param_1 >>= 1;
    } while (param_1 != 0);
  }
  return iVar1;
}



float10 __cdecl FUN_00453810(uint param_1)

{
  double dVar1;
  
  dVar1 = (double)(param_1 & 0x1fffff);
  if ((int)param_1 < 0) {
    dVar1 = -dVar1;
  }
  dVar1 = ldexp(dVar1,((int)param_1 >> 0x15 & 0x3ffU) - 0x314);
  return (float10)(float)dVar1;
}



uint * __cdecl FUN_00453850(int param_1,int param_2,int param_3)

{
  int iVar1;
  uint uVar2;
  uint *_Memory;
  int iVar3;
  uint uVar4;
  byte bVar5;
  uint *puVar6;
  int iVar7;
  uint local_84 [33];
  
  iVar7 = param_3;
  if (param_3 == 0) {
    iVar7 = param_2;
  }
  _Memory = (uint *)malloc(iVar7 * 4);
  memset(local_84,0,0x84);
  iVar7 = 0;
  puVar6 = _Memory;
  if (0 < param_2) {
    do {
      iVar1 = *(int *)(param_1 + iVar7 * 4);
      if (iVar1 < 1) {
        if (param_3 == 0) {
          puVar6 = puVar6 + 1;
        }
      }
      else {
        uVar4 = local_84[iVar1];
        if ((iVar1 < 0x20) && (uVar4 >> ((byte)iVar1 & 0x1f) != 0)) {
          free(_Memory);
          return NULL;
        }
        *puVar6 = uVar4;
        puVar6 = puVar6 + 1;
        iVar3 = iVar1;
        do {
          if ((local_84[iVar3] & 1) != 0) {
            if (iVar3 == 1) {
              local_84[1] = local_84[1] + 1;
            }
            else {
              local_84[iVar3] = local_84[iVar3 + -1] * 2;
            }
            break;
          }
          local_84[iVar3] = local_84[iVar3] + 1;
          iVar3 += -1;
        } while (0 < iVar3);
        while ((iVar3 = iVar1 + 1, iVar3 < 0x21 && (uVar2 = local_84[iVar3], uVar2 >> 1 == uVar4)))
        {
          local_84[iVar3] = local_84[iVar1] * 2;
          uVar4 = uVar2;
          iVar1 = iVar3;
        }
      }
      iVar7 += 1;
    } while (iVar7 < param_2);
  }
  iVar7 = 0;
  puVar6 = _Memory;
  if (0 < param_2) {
    do {
      iVar1 = *(int *)(param_1 + iVar7 * 4);
      uVar4 = 0;
      iVar3 = 0;
      if (0 < iVar1) {
        do {
          bVar5 = (byte)iVar3;
          iVar3 += 1;
          uVar4 = uVar4 * 2 | *puVar6 >> (bVar5 & 0x1f) & 1;
        } while (iVar3 < iVar1);
      }
      if ((param_3 == 0) || (iVar1 != 0)) {
        *puVar6 = uVar4;
        puVar6 = puVar6 + 1;
      }
      iVar7 += 1;
    } while (iVar7 < param_2);
  }
  return _Memory;
}



void __cdecl FUN_004539c0(int *param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  undefined4 extraout_ECX;
  int iVar4;
  undefined4 extraout_EDX;
  int iVar5;
  int iVar6;
  float10 fVar7;
  ulonglong uVar8;
  
  iVar1 = *param_1;
  iVar2 = param_1[1];
  fVar7 = (float10)_CIpow();
  floor((double)fVar7);
  uVar8 = FUN_0045db50(extraout_ECX,extraout_EDX);
  iVar3 = (int)uVar8;
  while( true ) {
    while( true ) {
      iVar4 = 1;
      iVar5 = 1;
      if (0 < iVar1) {
        iVar6 = iVar1;
        do {
          iVar4 *= iVar3;
          iVar5 *= iVar3 + 1;
          iVar6 += -1;
        } while (iVar6 != 0);
      }
      if (iVar4 <= iVar2) break;
      iVar3 += -1;
    }
    if (iVar2 < iVar5) break;
    iVar3 += 1;
  }
  return;
}



void * __cdecl FUN_00453a40(int *param_1,int param_2,int param_3)

{
  float fVar1;
  float fVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  float fVar6;
  void *pvVar7;
  int iVar8;
  int iVar9;
  int iVar10;
  int iVar11;
  int iVar12;
  int *piVar13;
  float10 fVar14;
  int local_24;
  float local_1c;
  int *local_8;
  
  iVar12 = 0;
  if ((param_1[3] != 1) && (param_1[3] != 2)) {
    return NULL;
  }
  fVar14 = FUN_00453810(param_1[4]);
  fVar1 = (float)fVar14;
  fVar14 = FUN_00453810(param_1[5]);
  fVar2 = (float)fVar14;
  pvVar7 = calloc(*param_1 * param_2,4);
  iVar8 = param_1[3] + -1;
  if (iVar8 == 0) {
    FUN_004539c0(param_1);
    iVar3 = param_1[1];
    local_24 = 0;
    if (0 < iVar3) {
      do {
        if ((param_3 == 0) || (*(int *)(param_1[2] + local_24 * 4) != 0)) {
          iVar9 = *param_1;
          local_1c = 0.0;
          iVar10 = 0;
          iVar11 = 1;
          if (3 < iVar9) {
            iVar4 = param_1[8];
            iVar5 = param_1[7];
            do {
              fVar6 = ABS((float)*(int *)(iVar4 + ((local_24 / iVar11) % iVar8) * 4)) * fVar2 +
                      fVar1 + local_1c;
              if (iVar5 != 0) {
                local_1c = fVar6;
              }
              if (param_3 == 0) {
                *(float *)((int)pvVar7 + (iVar9 * iVar12 + iVar10) * 4) = fVar6;
              }
              else {
                *(float *)((int)pvVar7 + (*(int *)(param_3 + iVar12 * 4) * iVar9 + iVar10) * 4) =
                     fVar6;
              }
              fVar6 = ABS((float)*(int *)(iVar4 + ((local_24 / (iVar11 * iVar8)) % iVar8) * 4)) *
                      fVar2 + fVar1 + local_1c;
              if (iVar5 != 0) {
                local_1c = fVar6;
              }
              if (param_3 == 0) {
                *(float *)((int)pvVar7 + (iVar9 * iVar12 + iVar10) * 4 + 4) = fVar6;
              }
              else {
                *(float *)((int)pvVar7 + (*(int *)(param_3 + iVar12 * 4) * iVar9 + iVar10) * 4 + 4)
                     = fVar6;
              }
              iVar11 = iVar11 * iVar8 * iVar8;
              fVar6 = ABS((float)*(int *)(iVar4 + ((local_24 / iVar11) % iVar8) * 4)) * fVar2 +
                      fVar1 + local_1c;
              if (iVar5 != 0) {
                local_1c = fVar6;
              }
              if (param_3 == 0) {
                *(float *)((int)pvVar7 + (iVar9 * iVar12 + iVar10) * 4 + 8) = fVar6;
              }
              else {
                *(float *)((int)pvVar7 + (*(int *)(param_3 + iVar12 * 4) * iVar9 + iVar10) * 4 + 8)
                     = fVar6;
              }
              iVar11 *= iVar8;
              fVar6 = ABS((float)*(int *)(iVar4 + ((local_24 / iVar11) % iVar8) * 4)) * fVar2 +
                      fVar1 + local_1c;
              if (iVar5 != 0) {
                local_1c = fVar6;
              }
              if (param_3 == 0) {
                *(float *)((int)pvVar7 + (iVar9 * iVar12 + iVar10) * 4 + 0xc) = fVar6;
              }
              else {
                *(float *)((int)pvVar7 + (*(int *)(param_3 + iVar12 * 4) * iVar9 + iVar10) * 4 + 0xc
                          ) = fVar6;
              }
              iVar11 *= iVar8;
              iVar10 += 4;
            } while (iVar10 < iVar9 + -3);
          }
          if (iVar10 < iVar9) {
            iVar4 = param_1[8];
            iVar5 = param_1[7];
            do {
              fVar6 = ABS((float)*(int *)(iVar4 + ((local_24 / iVar11) % iVar8) * 4)) * fVar2 +
                      fVar1 + local_1c;
              if (iVar5 != 0) {
                local_1c = fVar6;
              }
              if (param_3 == 0) {
                *(float *)((int)pvVar7 + (iVar9 * iVar12 + iVar10) * 4) = fVar6;
              }
              else {
                *(float *)((int)pvVar7 + (*(int *)(param_3 + iVar12 * 4) * iVar9 + iVar10) * 4) =
                     fVar6;
              }
              iVar11 *= iVar8;
              iVar10 += 1;
            } while (iVar10 < iVar9);
          }
          iVar12 += 1;
        }
        local_24 += 1;
      } while (local_24 < iVar3);
    }
  }
  else if (iVar8 == 1) {
    iVar8 = param_1[1];
    local_24 = 0;
    if (0 < iVar8) {
      do {
        if ((param_3 == 0) || (*(int *)(param_1[2] + local_24 * 4) != 0)) {
          iVar3 = *param_1;
          local_1c = 0.0;
          iVar9 = 0;
          if (3 < iVar3) {
            iVar11 = param_1[7];
            piVar13 = (int *)(param_1[8] + 8 + iVar3 * local_24 * 4);
            local_8 = (int *)(param_1[8] + 4 + iVar3 * local_24 * 4);
            do {
              fVar6 = ABS((float)piVar13[-2]) * fVar2 + fVar1 + local_1c;
              if (iVar11 != 0) {
                local_1c = fVar6;
              }
              iVar10 = iVar12;
              if (param_3 != 0) {
                iVar10 = *(int *)(param_3 + iVar12 * 4);
              }
              *(float *)((int)pvVar7 + (iVar10 * iVar3 + iVar9) * 4) = fVar6;
              fVar6 = ABS((float)*local_8) * fVar2 + fVar1 + local_1c;
              if (iVar11 != 0) {
                local_1c = fVar6;
              }
              iVar10 = iVar12;
              if (param_3 != 0) {
                iVar10 = *(int *)(param_3 + iVar12 * 4);
              }
              *(float *)((int)pvVar7 + (iVar10 * iVar3 + iVar9) * 4 + 4) = fVar6;
              fVar6 = ABS((float)*piVar13) * fVar2 + fVar1 + local_1c;
              if (iVar11 != 0) {
                local_1c = fVar6;
              }
              iVar10 = iVar12;
              if (param_3 != 0) {
                iVar10 = *(int *)(param_3 + iVar12 * 4);
              }
              *(float *)((int)pvVar7 + (iVar10 * iVar3 + iVar9) * 4 + 8) = fVar6;
              fVar6 = ABS((float)piVar13[1]) * fVar2 + fVar1 + local_1c;
              if (iVar11 != 0) {
                local_1c = fVar6;
              }
              iVar10 = iVar12;
              if (param_3 != 0) {
                iVar10 = *(int *)(param_3 + iVar12 * 4);
              }
              local_8 = local_8 + 4;
              *(float *)((int)pvVar7 + (iVar10 * iVar3 + iVar9) * 4 + 0xc) = fVar6;
              iVar9 += 4;
              piVar13 = piVar13 + 4;
            } while (iVar9 < iVar3 + -3);
          }
          if (iVar9 < iVar3) {
            local_8 = (int *)(param_1[8] + (iVar3 * local_24 + iVar9) * 4);
            do {
              fVar6 = ABS((float)*local_8) * fVar2 + fVar1 + local_1c;
              if (param_1[7] != 0) {
                local_1c = fVar6;
              }
              iVar11 = iVar12;
              if (param_3 != 0) {
                iVar11 = *(int *)(param_3 + iVar12 * 4);
              }
              local_8 = local_8 + 1;
              iVar11 = iVar11 * iVar3 + iVar9;
              iVar9 += 1;
              *(float *)((int)pvVar7 + iVar11 * 4) = fVar6;
            } while (iVar9 < iVar3);
          }
          iVar12 += 1;
        }
        local_24 += 1;
      } while (local_24 < iVar8);
      return pvVar7;
    }
  }
  return pvVar7;
}



void __cdecl FUN_00453f20(void *param_1)

{
  undefined4 *puVar1;
  
  if (*(int *)((int)param_1 + 0x30) != 0) {
    if (*(void **)((int)param_1 + 0x20) != NULL) {
      free(*(void **)((int)param_1 + 0x20));
    }
    if (*(void **)((int)param_1 + 8) != NULL) {
      free(*(void **)((int)param_1 + 8));
    }
    if (*(undefined4 **)((int)param_1 + 0x24) != NULL) {
      free((void *)**(undefined4 **)((int)param_1 + 0x24));
      free(*(void **)(*(int *)((int)param_1 + 0x24) + 4));
      free(*(void **)(*(int *)((int)param_1 + 0x24) + 8));
      free(*(void **)(*(int *)((int)param_1 + 0x24) + 0xc));
      puVar1 = *(undefined4 **)((int)param_1 + 0x24);
      *puVar1 = 0;
      puVar1[1] = 0;
      puVar1[2] = 0;
      puVar1[3] = 0;
      puVar1[4] = 0;
      puVar1[5] = 0;
      free(*(void **)((int)param_1 + 0x24));
    }
    if (*(undefined4 **)((int)param_1 + 0x28) != NULL) {
      free((void *)**(undefined4 **)((int)param_1 + 0x28));
      free(*(void **)(*(int *)((int)param_1 + 0x28) + 4));
      puVar1 = *(undefined4 **)((int)param_1 + 0x28);
      *puVar1 = 0;
      puVar1[1] = 0;
      puVar1[2] = 0;
      puVar1[3] = 0;
      free(*(void **)((int)param_1 + 0x28));
    }
    memset(param_1,0,0x34);
  }
  return;
}



void __cdecl FUN_00453ff0(void *param_1)

{
  if (*(int *)((int)param_1 + 0x30) != 0) {
    FUN_00453f20(param_1);
    free(param_1);
  }
  return;
}



void __cdecl FUN_00454010(void *param_1)

{
  if (*(void **)((int)param_1 + 0x10) != NULL) {
    free(*(void **)((int)param_1 + 0x10));
  }
  if (*(void **)((int)param_1 + 0x14) != NULL) {
    free(*(void **)((int)param_1 + 0x14));
  }
  if (*(void **)((int)param_1 + 0x18) != NULL) {
    free(*(void **)((int)param_1 + 0x18));
  }
  if (*(void **)((int)param_1 + 0x1c) != NULL) {
    free(*(void **)((int)param_1 + 0x1c));
  }
  if (*(void **)((int)param_1 + 0x20) != NULL) {
    free(*(void **)((int)param_1 + 0x20));
  }
  memset(param_1,0,0x2c);
  return;
}



undefined4 __cdecl FUN_00454080(int *param_1,int *param_2)

{
  uint *puVar1;
  void *pvVar2;
  
  memset(param_1,0,0x2c);
  param_1[3] = (int)param_2;
  param_1[1] = param_2[1];
  param_1[2] = param_2[1];
  *param_1 = *param_2;
  puVar1 = FUN_00453850(param_2[2],param_2[1],0);
  param_1[5] = (int)puVar1;
  pvVar2 = FUN_00453a40(param_2,param_2[1],0);
  param_1[4] = (int)pvVar2;
  return 0;
}



// _PtFuncCompare parameter of qsort
// 

int __cdecl _PtFuncCompare_004540d0(undefined4 *param_1,undefined4 *param_2)

{
  return (uint)(*(uint *)*param_2 < *(uint *)*param_1) -
         (uint)(*(uint *)*param_1 < *(uint *)*param_2);
}



// WARNING: Function: __alloca_probe_16 replaced with injection: alloca_probe
// WARNING: Unable to track spacebase fully for stack

void __cdecl FUN_004540f0(undefined4 *param_1,undefined4 *param_2)

{
  undefined4 *puVar1;
  char cVar2;
  undefined4 uVar3;
  uint uVar4;
  uint *puVar5;
  uint uVar6;
  void *pvVar7;
  int *piVar8;
  int iVar9;
  int iVar10;
  uint uVar11;
  int iVar12;
  uint *puVar13;
  uint uVar14;
  int iVar15;
  int iVar16;
  size_t asStackY_44 [3];
  int local_18;
  int local_14;
  uint local_10;
  int local_c;
  
  uVar4 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  iVar15 = 0;
  asStackY_44[2] = 0x454111;
  memset(param_1,0,0x2c);
  iVar9 = param_2[1];
  if (0 < iVar9) {
    piVar8 = (int *)param_2[2];
    iVar12 = iVar9;
    do {
      if (0 < *piVar8) {
        iVar15 += 1;
      }
      piVar8 = piVar8 + 1;
      iVar12 += -1;
    } while (iVar12 != 0);
  }
  param_1[1] = iVar9;
  param_1[2] = iVar15;
  *param_1 = *param_2;
  if (0 < iVar15) {
    asStackY_44[2] = 0x454151;
    puVar5 = FUN_00453850(param_2[2],param_2[1],iVar15);
    iVar9 = iVar15 * -4;
    piVar8 = (int *)(&stack0xffffffd4 + iVar15 * -8);
    if (puVar5 == NULL) {
      *(undefined4 **)(&stack0xffffffd0 + iVar9) = param_1;
      *(undefined4 *)(&stack0xffffffcc + iVar9) = 0x454178;
      FUN_00454010(*(void **)(&stack0xffffffd0 + iVar9));
      __security_check_cookie(uVar4 ^ (uint)&stack0xfffffffc);
      return;
    }
    if (0 < iVar15) {
      puVar13 = puVar5;
      local_10 = iVar15;
      do {
        uVar6 = *puVar13;
        *(undefined4 *)(&stack0xffffffd0 + iVar9) = 0x4541a8;
        uVar6 = FUN_00454710(uVar6);
        *puVar13 = uVar6;
        *(uint **)(&stack0xffffffd4 + (iVar9 - (int)puVar5) + (int)puVar13) = puVar13;
        puVar13 = puVar13 + 1;
        local_10 += -1;
      } while (local_10 != 0);
    }
    *(code **)(&stack0xffffffd0 + iVar9) = _PtFuncCompare_004540d0;
    *(undefined4 *)(&stack0xffffffcc + iVar9) = 4;
    *(int *)(&stack0xffffffc8 + iVar9) = iVar15;
    asStackY_44[2 - iVar15] = (size_t)(&stack0xffffffd4 + iVar9);
    asStackY_44[1 - iVar15] = 0x4541cd;
    qsort((void *)asStackY_44[2 - iVar15],*(size_t *)(&stack0xffffffc8 + iVar9),
          *(size_t *)(&stack0xffffffcc + iVar9),*(_PtFuncCompare **)(&stack0xffffffd0 + iVar9));
    *(undefined4 *)(&stack0xffffffd0 + iVar9) = 0x4541d8;
    *(int *)(&stack0xffffffd0 + iVar15 * -8) = iVar15 * 4;
    *(undefined4 *)(&stack0xffffffcc + iVar15 * -8) = 0x4541e4;
    pvVar7 = malloc(*(size_t *)(&stack0xffffffd0 + iVar15 * -8));
    param_1[5] = pvVar7;
    iVar12 = 0;
    if (0 < iVar15) {
      do {
        *(int *)(&stack0xffffffd4 +
                (*(int *)(&stack0xffffffd4 + iVar12 * 4 + iVar9) - (int)puVar5 >> 2) * 4 +
                iVar15 * -8) = iVar12;
        iVar12 += 1;
      } while (iVar12 < iVar15);
      if (0 < iVar15) {
        local_14 = iVar15;
        do {
          iVar9 = *piVar8;
          puVar1 = (undefined4 *)
                   (((int)puVar5 - (int)(&stack0xffffffd4 + iVar15 * -8)) + (int)piVar8);
          piVar8 = piVar8 + 1;
          local_14 += -1;
          *(undefined4 *)(param_1[5] + iVar9 * 4) = *puVar1;
        } while (local_14 != 0);
      }
    }
    *(uint **)(&stack0xffffffd0 + iVar15 * -8) = puVar5;
    *(undefined4 *)(&stack0xffffffcc + iVar15 * -8) = 0x454243;
    free(*(void **)(&stack0xffffffd0 + iVar15 * -8));
    *(undefined1 **)(&stack0xffffffcc + iVar15 * -8) = &stack0xffffffd4 + iVar15 * -8;
    *(int *)(&stack0xffffffc8 + iVar15 * -8) = iVar15;
    asStackY_44[iVar15 * -2 + 2] = (size_t)param_2;
    asStackY_44[iVar15 * -2 + 1] = 0x45424e;
    pvVar7 = FUN_00453a40((int *)asStackY_44[iVar15 * -2 + 2],
                          *(int *)(&stack0xffffffc8 + iVar15 * -8),
                          *(int *)(&stack0xffffffcc + iVar15 * -8));
    asStackY_44[iVar15 * -2 + 1] = iVar15 * 4;
    param_1[4] = pvVar7;
    asStackY_44[iVar15 * -2] = 0x45425a;
    pvVar7 = malloc(asStackY_44[iVar15 * -2 + 1]);
    param_1[6] = pvVar7;
    iVar9 = 0;
    iVar12 = 0;
    if (0 < (int)param_2[1]) {
      do {
        if (0 < *(int *)(param_2[2] + iVar9 * 4)) {
          *(int *)(param_1[6] + *(int *)(&stack0xffffffd4 + iVar12 * 4 + iVar15 * -8) * 4) = iVar9;
          iVar12 += 1;
        }
        iVar9 += 1;
      } while (iVar9 < (int)param_2[1]);
    }
    *(int *)(&stack0xffffffd0 + iVar15 * -8) = iVar12;
    *(undefined4 *)(&stack0xffffffcc + iVar15 * -8) = 0x45428b;
    pvVar7 = malloc(*(size_t *)(&stack0xffffffd0 + iVar15 * -8));
    iVar9 = 0;
    param_1[7] = pvVar7;
    local_c = 0;
    if (0 < (int)param_2[1]) {
      do {
        if (0 < *(int *)(param_2[2] + iVar9 * 4)) {
          iVar12 = local_c * 4;
          local_c += 1;
          *(undefined1 *)(*(int *)(&stack0xffffffd4 + iVar12 + iVar15 * -8) + param_1[7]) =
               *(undefined1 *)(param_2[2] + iVar9 * 4);
        }
        iVar9 += 1;
      } while (iVar9 < (int)param_2[1]);
    }
    iVar9 = local_c;
    *(undefined4 *)(&stack0xffffffd0 + iVar15 * -8) = param_1[2];
    *(undefined4 *)(&stack0xffffffcc + iVar15 * -8) = 0x4542ca;
    iVar12 = FUN_004537f0(*(uint *)(&stack0xffffffd0 + iVar15 * -8));
    param_1[9] = iVar12 + -4;
    if (iVar12 + -4 < 5) {
      param_1[9] = 5;
    }
    if (8 < (int)param_1[9]) {
      param_1[9] = 8;
    }
    iVar12 = 1 << ((byte)param_1[9] & 0x1f);
    *(undefined4 *)(&stack0xffffffd0 + iVar15 * -8) = 4;
    *(int *)(&stack0xffffffcc + iVar15 * -8) = iVar12;
    *(undefined4 *)(&stack0xffffffc8 + iVar15 * -8) = 0x454301;
    pvVar7 = calloc(*(size_t *)(&stack0xffffffcc + iVar15 * -8),
                    *(size_t *)(&stack0xffffffd0 + iVar15 * -8));
    iVar16 = 0;
    param_1[8] = pvVar7;
    param_1[10] = 0;
    if (0 < local_c) {
      do {
        iVar10 = (int)*(char *)(param_1[7] + iVar16);
        if ((int)param_1[10] < iVar10) {
          param_1[10] = iVar10;
        }
        cVar2 = *(char *)(param_1[7] + iVar16);
        if ((int)cVar2 <= (int)param_1[9]) {
          uVar6 = *(uint *)(param_1[5] + iVar16 * 4);
          *(undefined4 *)(&stack0xffffffd0 + iVar15 * -8) = 0x45433a;
          uVar6 = FUN_00454710(uVar6);
          iVar10 = 0;
          if (0 < 1 << ((char)param_1[9] - cVar2 & 0x1fU)) {
            do {
              uVar14 = iVar10 << (*(byte *)(iVar16 + param_1[7]) & 0x1f);
              iVar10 += 1;
              *(int *)(param_1[8] + (uVar14 | uVar6) * 4) = iVar16 + 1;
            } while (iVar10 < 1 << ((char)param_1[9] - *(char *)(param_1[7] + iVar16) & 0x1fU));
          }
        }
        iVar16 += 1;
      } while (iVar16 < local_c);
    }
    uVar3 = param_1[9];
    local_10 = 0;
    local_c = 0;
    local_18 = 0;
    if (0 < iVar12) {
      do {
        uVar14 = local_18 << (0x20U - (char)param_1[9] & 0x1f);
        *(undefined4 *)(&stack0xffffffd0 + iVar15 * -8) = 0x4543c0;
        uVar6 = FUN_00454710(uVar14);
        if (*(int *)(param_1[8] + uVar6 * 4) == 0) {
          iVar16 = local_10 + 1;
          if (iVar16 < iVar9) {
            puVar5 = (uint *)(param_1[5] + 4 + local_10 * 4);
            do {
              if (uVar14 < *puVar5) break;
              iVar16 += 1;
              local_10 += 1;
              puVar5 = puVar5 + 1;
            } while (iVar16 < iVar9);
          }
          if (local_c < iVar9) {
            puVar5 = (uint *)(param_1[5] + local_c * 4);
            do {
              if (uVar14 < (*puVar5 & -2 << (0x1fU - (char)uVar3 & 0x1f))) break;
              local_c += 1;
              puVar5 = puVar5 + 1;
            } while (local_c < iVar9);
          }
          uVar11 = iVar9 - local_c;
          uVar14 = local_10;
          if (0x7fff < local_10) {
            uVar14 = 0x7fff;
          }
          if (0x7fff < uVar11) {
            uVar11 = 0x7fff;
          }
          *(uint *)(param_1[8] + uVar6 * 4) = (uVar14 | 0xffff0000) << 0xf | uVar11;
        }
        local_18 += 1;
      } while (local_18 < iVar12);
    }
  }
  __security_check_cookie(uVar4 ^ (uint)&stack0xfffffffc);
  return;
}



undefined4 __cdecl FUN_00454480(int *param_1,uint *param_2)

{
  uint uVar1;
  void *pvVar2;
  int iVar3;
  uint uVar4;
  int iVar5;
  bool bVar6;
  
  memset(param_2,0,0x34);
  param_2[0xc] = 1;
  uVar1 = FUN_0044f700(param_1,0x18);
  if (uVar1 == 0x564342) {
    uVar1 = FUN_0044f700(param_1,0x10);
    *param_2 = uVar1;
    uVar1 = FUN_0044f700(param_1,0x18);
    param_2[1] = uVar1;
    if (uVar1 != 0xffffffff) {
      uVar1 = FUN_0044f700(param_1,1);
      if (uVar1 == 0) {
        pvVar2 = malloc(param_2[1] * 4);
        param_2[2] = (uint)pvVar2;
        uVar1 = FUN_0044f700(param_1,1);
        iVar5 = 0;
        if (uVar1 == 0) {
          if (0 < (int)param_2[1]) {
            do {
              uVar1 = FUN_0044f700(param_1,5);
              if (uVar1 == 0xffffffff) goto LAB_0045469f;
              *(uint *)(param_2[2] + iVar5 * 4) = uVar1 + 1;
              iVar5 += 1;
            } while (iVar5 < (int)param_2[1]);
          }
        }
        else if (0 < (int)param_2[1]) {
          do {
            uVar1 = FUN_0044f700(param_1,1);
            if (uVar1 == 0) {
              *(undefined4 *)(param_2[2] + iVar5 * 4) = 0;
            }
            else {
              uVar1 = FUN_0044f700(param_1,5);
              if (uVar1 == 0xffffffff) goto LAB_0045469f;
              *(uint *)(param_2[2] + iVar5 * 4) = uVar1 + 1;
            }
            iVar5 += 1;
          } while (iVar5 < (int)param_2[1]);
        }
      }
      else {
        if (uVar1 != 1) {
          return 0xffffffff;
        }
        uVar1 = FUN_0044f700(param_1,5);
        pvVar2 = malloc(param_2[1] * 4);
        iVar5 = 0;
        param_2[2] = (uint)pvVar2;
        if (0 < (int)param_2[1]) {
          do {
            uVar1 += 1;
            iVar3 = FUN_004537f0(param_2[1] - iVar5);
            uVar4 = FUN_0044f700(param_1,iVar3);
            if (uVar4 == 0xffffffff) goto LAB_0045469f;
            iVar3 = 0;
            if (0 < (int)uVar4) {
              do {
                if ((int)param_2[1] <= iVar5) break;
                *(uint *)(param_2[2] + iVar5 * 4) = uVar1;
                iVar3 += 1;
                iVar5 += 1;
              } while (iVar3 < (int)uVar4);
            }
          } while (iVar5 < (int)param_2[1]);
        }
      }
      uVar1 = FUN_0044f700(param_1,4);
      param_2[3] = uVar1;
      if (uVar1 == 0) {
        return 0;
      }
      if (uVar1 - 1 < 2) {
        uVar1 = FUN_0044f700(param_1,0x20);
        param_2[4] = uVar1;
        uVar1 = FUN_0044f700(param_1,0x20);
        param_2[5] = uVar1;
        uVar1 = FUN_0044f700(param_1,4);
        param_2[6] = uVar1 + 1;
        uVar1 = FUN_0044f700(param_1,1);
        param_2[7] = uVar1;
        iVar5 = param_2[3] - 1;
        if (iVar5 == 0) {
          FUN_004539c0((int *)param_2);
        }
        else {
          bVar6 = iVar5 == 1;
          iVar5 = 0;
          if (bVar6) {
            iVar5 = *param_2 * param_2[1];
          }
        }
        pvVar2 = malloc(iVar5 * 4);
        iVar3 = 0;
        param_2[8] = (uint)pvVar2;
        if (0 < iVar5) {
          do {
            uVar1 = FUN_0044f700(param_1,param_2[6]);
            *(uint *)(param_2[8] + iVar3 * 4) = uVar1;
            iVar3 += 1;
          } while (iVar3 < iVar5);
        }
        if (iVar5 == 0) {
          return 0;
        }
        if (*(int *)((param_2[8] - 4) + iVar5 * 4) != -1) {
          return 0;
        }
      }
    }
  }
LAB_0045469f:
  FUN_00453f20(param_2);
  return 0xffffffff;
}



undefined4 __cdecl FUN_004546c0(int param_1,int param_2,int *param_3)

{
  if (-1 < param_2) {
    if (param_2 < *(int *)(*(int *)(param_1 + 0xc) + 4)) {
      FUN_0044f500(param_3,*(uint *)(*(int *)(param_1 + 0x14) + param_2 * 4),
                   *(int *)(*(int *)(*(int *)(param_1 + 0xc) + 8) + param_2 * 4));
      return *(undefined4 *)(*(int *)(*(int *)(param_1 + 0xc) + 8) + param_2 * 4);
    }
  }
  return 0;
}



uint __fastcall FUN_00454710(uint param_1)

{
  uint uVar1;
  
  uVar1 = param_1 << 0x10 | param_1 >> 0x10;
  uVar1 = (uVar1 >> 8 ^ uVar1 << 8) & 0xff00ff ^ uVar1 << 8;
  uVar1 = (uVar1 >> 4 ^ uVar1 << 4) & 0xf0f0f0f ^ uVar1 << 4;
  uVar1 = (uVar1 >> 2 ^ uVar1 * 4) & 0x33333333 ^ uVar1 * 4;
  return (uVar1 >> 1 ^ uVar1 * 2) & 0x55555555 ^ uVar1 * 2;
}



uint __cdecl FUN_00454770(int param_1,int *param_2)

{
  uint uVar1;
  uint uVar2;
  uint uVar3;
  int iVar4;
  uint uVar5;
  int iVar6;
  int iVar7;
  
  iVar6 = *(int *)(param_1 + 0x28);
  uVar2 = FUN_0044f630(param_2,*(int *)(param_1 + 0x24));
  if ((int)uVar2 < 0) {
    iVar7 = *(int *)(param_1 + 8);
    uVar2 = 0;
  }
  else {
    uVar3 = *(uint *)(*(int *)(param_1 + 0x20) + uVar2 * 4);
    if (-1 < (int)uVar3) {
      FUN_0044f6d0(param_2,(int)*(char *)(*(int *)(param_1 + 0x1c) + -1 + uVar3));
      return uVar3 - 1;
    }
    uVar2 = (int)uVar3 >> 0xf & 0x7fff;
    iVar7 = *(int *)(param_1 + 8) - (uVar3 & 0x7fff);
  }
  uVar3 = FUN_0044f630(param_2,iVar6);
  do {
    if (-1 < (int)uVar3) {
LAB_004547ff:
      uVar3 = FUN_00454710(uVar3);
      iVar4 = iVar7 - uVar2;
      if (1 < iVar4) {
        do {
          uVar5 = iVar4 >> 1;
          uVar1 = (uint)(uVar3 < *(uint *)(*(int *)(param_1 + 0x14) + (uVar5 + uVar2) * 4));
          iVar7 -= -uVar1 & uVar5;
          uVar2 += uVar1 - 1 & uVar5;
          iVar4 = iVar7 - uVar2;
        } while (1 < iVar4);
      }
      iVar7 = (int)*(char *)(*(int *)(param_1 + 0x1c) + uVar2);
      if (iVar6 < iVar7) {
        FUN_0044f6d0(param_2,iVar6);
        return 0xffffffff;
      }
      FUN_0044f6d0(param_2,iVar7);
      return uVar2;
    }
    if (iVar6 < 2) {
      if ((int)uVar3 < 0) {
        return 0xffffffff;
      }
      goto LAB_004547ff;
    }
    iVar6 += -1;
    uVar3 = FUN_0044f630(param_2,iVar6);
  } while( true );
}



undefined4 __cdecl FUN_00454880(int param_1,int *param_2)

{
  uint uVar1;
  
  if (0 < *(int *)(param_1 + 8)) {
    uVar1 = FUN_00454770(param_1,param_2);
    if (-1 < (int)uVar1) {
      return *(undefined4 *)(*(int *)(param_1 + 0x18) + uVar1 * 4);
    }
  }
  return 0xffffffff;
}



// WARNING: Function: __alloca_probe_16 replaced with injection: alloca_probe
// WARNING: Unable to track spacebase fully for stack

void __cdecl FUN_004548b0(int *param_1,float *param_2,undefined4 param_3,int param_4)

{
  int iVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  uint uVar5;
  float *pfVar6;
  int *piVar7;
  int iVar8;
  int iVar9;
  int iVar10;
  int aiStack_34 [3];
  int local_14;
  int local_10;
  float *local_c;
  
  uVar3 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  if (0 < param_1[2]) {
    iVar4 = param_4 / *param_1;
    aiStack_34[2] = 0x4548e9;
    piVar7 = (int *)(&stack0xffffffd8 + iVar4 * -8);
    aiStack_34[2 - iVar4] = 0x4548f3;
    local_10 = 0;
    if (0 < iVar4) {
      do {
        aiStack_34[iVar4 * -2 + 2] = param_3;
        aiStack_34[iVar4 * -2 + 1] = (int)param_1;
        aiStack_34[iVar4 * -2] = 0x45491a;
        uVar5 = FUN_00454770(aiStack_34[iVar4 * -2 + 1],(int *)aiStack_34[iVar4 * -2 + 2]);
        piVar7[iVar4] = uVar5;
        if (uVar5 == 0xffffffff) {
          __security_check_cookie(uVar3 ^ (uint)&stack0xfffffffc);
          return;
        }
        local_10 += 1;
        *piVar7 = param_1[4] + *param_1 * uVar5 * 4;
        piVar7 = piVar7 + 1;
      } while (local_10 < iVar4);
    }
    iVar8 = 0;
    local_10 = 0;
    local_14 = 0;
    if (0 < *param_1) {
      local_c = param_2;
      do {
        iVar9 = 0;
        if (3 < iVar4) {
          iVar10 = (iVar4 - 4U >> 2) + 1;
          iVar9 = iVar10 * 4;
          pfVar6 = local_c;
          piVar7 = (int *)(&stack0xffffffe0 + iVar4 * -8);
          do {
            iVar1 = piVar7[-1];
            iVar10 += -1;
            *pfVar6 = *(float *)(piVar7[-2] + iVar8) + *pfVar6;
            iVar2 = *piVar7;
            pfVar6[1] = *(float *)(iVar1 + iVar8) + pfVar6[1];
            iVar1 = piVar7[1];
            pfVar6[2] = *(float *)(iVar8 + iVar2) + pfVar6[2];
            pfVar6[3] = *(float *)(iVar1 + iVar8) + pfVar6[3];
            pfVar6 = pfVar6 + 4;
            piVar7 = piVar7 + 4;
          } while (iVar10 != 0);
        }
        if (iVar9 < iVar4) {
          pfVar6 = param_2 + iVar9 + local_14;
          do {
            iVar10 = iVar9 * 4;
            iVar9 += 1;
            *pfVar6 = *(float *)(*(int *)(&stack0xffffffd8 + iVar10 + iVar4 * -8) + iVar8) + *pfVar6
            ;
            pfVar6 = pfVar6 + 1;
          } while (iVar9 < iVar4);
        }
        local_14 += iVar4;
        local_10 += 1;
        local_c = local_c + iVar4;
        iVar8 += 4;
      } while (local_10 < *param_1);
    }
  }
  __security_check_cookie(uVar3 ^ (uint)&stack0xfffffffc);
  return;
}



undefined4 __cdecl FUN_00454a40(int *param_1,int param_2,int *param_3,int param_4)

{
  int iVar1;
  int iVar2;
  float *pfVar3;
  float *pfVar4;
  int iVar5;
  uint uVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  
  if (0 < param_1[2]) {
    iVar9 = 0;
    if (*param_1 < 9) {
      if (0 < param_4) {
        do {
          uVar6 = FUN_00454770((int)param_1,param_3);
          if (uVar6 == 0xffffffff) {
            return 0xffffffff;
          }
          pfVar3 = (float *)(param_1[4] + *param_1 * uVar6 * 4);
          iVar8 = 0;
          switch(*param_1) {
          case 8:
            iVar8 = 1;
            iVar5 = iVar9 * 4;
            iVar9 += 1;
            *(float *)(param_2 + -4 + iVar9 * 4) = *pfVar3 + *(float *)(param_2 + iVar5);
          case 7:
            pfVar4 = pfVar3 + iVar8;
            iVar8 += 1;
            iVar5 = iVar9 * 4;
            iVar9 += 1;
            *(float *)(param_2 + -4 + iVar9 * 4) = *pfVar4 + *(float *)(param_2 + iVar5);
          case 6:
            pfVar4 = pfVar3 + iVar8;
            iVar8 += 1;
            iVar5 = iVar9 * 4;
            iVar9 += 1;
            *(float *)(param_2 + -4 + iVar9 * 4) = *pfVar4 + *(float *)(param_2 + iVar5);
          case 5:
            pfVar4 = pfVar3 + iVar8;
            iVar8 += 1;
            iVar5 = iVar9 * 4;
            iVar9 += 1;
            *(float *)(param_2 + -4 + iVar9 * 4) = *pfVar4 + *(float *)(param_2 + iVar5);
          case 4:
            pfVar4 = pfVar3 + iVar8;
            iVar8 += 1;
            iVar5 = iVar9 * 4;
            iVar9 += 1;
            *(float *)(param_2 + -4 + iVar9 * 4) = *pfVar4 + *(float *)(param_2 + iVar5);
          case 3:
            pfVar4 = pfVar3 + iVar8;
            iVar8 += 1;
            iVar5 = iVar9 * 4;
            iVar9 += 1;
            *(float *)(param_2 + -4 + iVar9 * 4) = *pfVar4 + *(float *)(param_2 + iVar5);
          case 2:
            pfVar4 = pfVar3 + iVar8;
            iVar8 += 1;
            iVar5 = iVar9 * 4;
            iVar9 += 1;
            *(float *)(param_2 + -4 + iVar9 * 4) = *pfVar4 + *(float *)(param_2 + iVar5);
          case 1:
            iVar9 += 1;
            *(float *)(param_2 + -4 + iVar9 * 4) =
                 pfVar3[iVar8] + *(float *)(param_2 + -4 + iVar9 * 4);
          }
        } while (iVar9 < param_4);
      }
    }
    else if (0 < param_4) {
      do {
        uVar6 = FUN_00454770((int)param_1,param_3);
        if (uVar6 == 0xffffffff) {
          return 0xffffffff;
        }
        iVar8 = *param_1;
        iVar5 = param_1[4];
        iVar7 = 0;
        if (0 < iVar8) {
          do {
            iVar1 = iVar7 * 4;
            iVar7 += 1;
            iVar2 = iVar9 * 4;
            iVar9 += 1;
            *(float *)(param_2 + -4 + iVar9 * 4) =
                 *(float *)(iVar5 + iVar8 * uVar6 * 4 + iVar1) + *(float *)(param_2 + iVar2);
          } while (iVar7 < *param_1);
        }
      } while (iVar9 < param_4);
      return 0;
    }
  }
  return 0;
}



undefined4 __cdecl FUN_00454b90(int *param_1,int param_2,int *param_3,int param_4)

{
  int iVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  int iVar5;
  int iVar6;
  
  if (param_1[2] < 1) {
    iVar6 = 0;
    if (0 < param_4) {
      iVar2 = *param_1;
      do {
        while (0 < iVar2) {
          *(undefined4 *)(param_2 + iVar6 * 4) = 0;
          iVar6 += 1;
          iVar2 = *param_1;
        }
      } while (iVar6 < param_4);
    }
  }
  else if (0 < param_4) {
    iVar6 = 0;
    do {
      uVar4 = FUN_00454770((int)param_1,param_3);
      if (uVar4 == 0xffffffff) {
        return 0xffffffff;
      }
      iVar2 = *param_1;
      iVar3 = param_1[4];
      iVar5 = 0;
      if (0 < iVar2) {
        do {
          iVar1 = iVar5 * 4;
          iVar5 += 1;
          *(undefined4 *)(param_2 + iVar6 * 4) = *(undefined4 *)(iVar3 + iVar2 * uVar4 * 4 + iVar1);
          iVar6 += 1;
        } while (iVar5 < *param_1);
      }
    } while (iVar6 < param_4);
    return 0;
  }
  return 0;
}



undefined4 __cdecl
FUN_00454c20(int *param_1,int param_2,int param_3,int param_4,int *param_5,int param_6)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  uint uVar5;
  int iVar6;
  int iVar7;
  
  iVar7 = 0;
  if (0 < param_1[2]) {
    iVar4 = param_3 / param_4;
    while (iVar4 < (param_6 + param_3) / param_4) {
      uVar5 = FUN_00454770((int)param_1,param_5);
      if (uVar5 == 0xffffffff) {
        return 0xffffffff;
      }
      iVar1 = *param_1;
      iVar2 = param_1[4];
      iVar6 = 0;
      if (0 < iVar1) {
        do {
          iVar3 = *(int *)(param_2 + iVar7 * 4);
          iVar7 += 1;
          *(float *)(iVar3 + iVar4 * 4) =
               *(float *)(iVar2 + iVar1 * uVar5 * 4 + iVar6 * 4) + *(float *)(iVar3 + iVar4 * 4);
          if (iVar7 == param_4) {
            iVar7 = 0;
            iVar4 += 1;
          }
          iVar6 += 1;
        } while (iVar6 < *param_1);
      }
    }
  }
  return 0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl FUN_00454cc0(int param_1,int param_2,int *param_3)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  int *piVar4;
  int iVar5;
  float *pfVar6;
  int iVar7;
  int iVar8;
  float10 fVar9;
  int local_20;
  int local_1c;
  int *local_18;
  int local_10;
  int local_c;
  
  iVar5 = 0;
  iVar3 = -1;
  iVar7 = 0;
  iVar8 = param_1;
  do {
    do {
      iVar3 += 1;
      if (iVar3 < 4) {
        iVar5 = *(int *)(&DAT_00472010 + iVar3 * 4);
      }
      else {
        iVar5 += 2;
      }
    } while (iVar8 != (iVar8 / iVar5) * iVar5);
    iVar2 = iVar8 / iVar5;
    piVar4 = param_3 + iVar7;
    local_c = iVar7;
    do {
      iVar8 = iVar2;
      iVar7 = local_c + 1;
      piVar4[2] = iVar5;
      if ((iVar5 == 2) && (iVar7 != 1)) {
        piVar1 = piVar4 + 1;
        iVar2 = local_c;
        if (1 < iVar7) {
          do {
            piVar1[1] = *piVar1;
            iVar2 += -1;
            piVar1 = piVar1 + -1;
          } while (iVar2 != 0);
        }
        param_3[2] = 2;
      }
      if (iVar8 == 1) {
        param_3[1] = iVar7;
        *param_3 = param_1;
        local_20 = 0;
        local_1c = 1;
        if ((local_c != 0) && (0 < local_c)) {
          local_18 = param_3 + 2;
          do {
            local_1c = *local_18 * local_1c;
            iVar5 = param_1 / local_1c;
            local_10 = *local_18 + -1;
            if (0 < local_10) {
              do {
                if (2 < iVar5) {
                  pfVar6 = (float *)(param_2 + local_20 * 4);
                  iVar8 = (iVar5 - 3U >> 1) + 1;
                  do {
                    fVar9 = (float10)_CIcos();
                    *pfVar6 = (float)fVar9;
                    fVar9 = (float10)_CIsin();
                    pfVar6[1] = (float)fVar9;
                    pfVar6 = pfVar6 + 2;
                    iVar8 += -1;
                  } while (iVar8 != 0);
                }
                local_20 += iVar5;
                local_10 += -1;
              } while (local_10 != 0);
            }
            local_18 = local_18 + 1;
            local_c += -1;
          } while (local_c != 0);
        }
        return;
      }
      iVar2 = iVar8 / iVar5;
      piVar4 = piVar4 + 1;
      local_c = iVar7;
    } while (iVar8 == (iVar8 / iVar5) * iVar5);
  } while( true );
}



void __fastcall FUN_00454e70(int *param_1,int param_2)

{
  int in_EAX;
  
  if (in_EAX != 1) {
    FUN_00454cc0(in_EAX,param_2 + in_EAX * 4,param_1);
  }
  return;
}



void __thiscall FUN_00454e90(void *this,int param_1,int param_2)

{
  float fVar1;
  float fVar2;
  float *in_EAX;
  float *pfVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  float *pfVar7;
  uint uVar8;
  void *pvVar9;
  float *pfVar10;
  float *pfVar11;
  int iVar12;
  int iVar13;
  int iVar14;
  float *pfVar15;
  float *pfVar16;
  float *unaff_EDI;
  float *local_2c;
  float *local_28;
  float *local_24;
  float *local_20;
  float *local_1c;
  int local_14;
  int local_10;
  int local_c;
  
  iVar13 = (int)this * param_1;
  iVar4 = 0;
  local_2c = NULL;
  iVar6 = iVar13;
  if (3 < param_1) {
    iVar12 = (param_1 - 4U >> 2) + 1;
    local_2c = (float *)(iVar12 * 4);
    pfVar11 = unaff_EDI + (int)this * 2 + -1;
    do {
      unaff_EDI[iVar4 * 2] = in_EAX[iVar4] + in_EAX[iVar6];
      iVar5 = iVar4 + (int)this;
      iVar14 = iVar6 + (int)this;
      *pfVar11 = in_EAX[iVar4] - in_EAX[iVar6];
      pfVar11 = pfVar11 + (int)this * 2;
      unaff_EDI[iVar5 * 2] = in_EAX[iVar5] + in_EAX[iVar14];
      iVar6 = iVar5 + (int)this;
      iVar4 = iVar14 + (int)this;
      *pfVar11 = in_EAX[iVar5] - in_EAX[iVar14];
      pfVar11 = pfVar11 + (int)this * 2;
      unaff_EDI[iVar6 * 2] = in_EAX[iVar6] + in_EAX[iVar4];
      iVar5 = iVar6 + (int)this;
      iVar14 = iVar4 + (int)this;
      *pfVar11 = in_EAX[iVar6] - in_EAX[iVar4];
      unaff_EDI[iVar5 * 2] = in_EAX[iVar5] + in_EAX[iVar14];
      iVar4 = iVar5 + (int)this;
      iVar6 = iVar14 + (int)this;
      pfVar11[(int)this * 2] = in_EAX[iVar5] - in_EAX[iVar14];
      pfVar11 = pfVar11 + (int)this * 2 + (int)this * 2;
      iVar12 += -1;
    } while (iVar12 != 0);
  }
  if ((int)local_2c < param_1) {
    pfVar11 = unaff_EDI + iVar4 * 2;
    pfVar3 = in_EAX + iVar4;
    local_28 = unaff_EDI + (int)this * 2 + iVar4 * 2 + -1;
    local_1c = (float *)(param_1 - (int)local_2c);
    pfVar10 = in_EAX + iVar6;
    do {
      *pfVar11 = *pfVar3 + *pfVar10;
      *local_28 = *pfVar3 - *pfVar10;
      local_28 = local_28 + (int)this * 2;
      pfVar11 = pfVar11 + (int)this * 2;
      pfVar3 = pfVar3 + (int)this;
      pfVar10 = pfVar10 + (int)this;
      local_1c = (float *)((int)local_1c + -1);
    } while (local_1c != NULL);
  }
  if (1 < (int)this) {
    if (this != (void *)0x2) {
      if (0 < param_1) {
        local_1c = in_EAX + iVar13;
        local_24 = unaff_EDI + (int)this * 2;
        local_10 = param_1;
        local_20 = in_EAX;
        pfVar11 = unaff_EDI;
        do {
          if (2 < (int)this) {
            local_2c = local_24;
            local_14 = ((int)this - 3U >> 1) + 1;
            pfVar3 = local_1c;
            pfVar10 = (float *)(param_2 + 4);
            pfVar15 = local_20;
            local_28 = pfVar11;
            do {
              pfVar7 = pfVar3 + 2;
              pfVar16 = pfVar15 + 2;
              fVar1 = pfVar3[1] * pfVar10[-1] + *pfVar10 * *pfVar7;
              local_14 += -1;
              fVar2 = pfVar10[-1] * *pfVar7 - pfVar3[1] * *pfVar10;
              local_28[2] = fVar2 + *pfVar16;
              local_2c[-2] = fVar2 - *pfVar16;
              local_28[1] = fVar1 + pfVar15[1];
              local_2c[-3] = pfVar15[1] - fVar1;
              pfVar3 = pfVar7;
              pfVar10 = pfVar10 + 2;
              pfVar15 = pfVar16;
              local_2c = local_2c + -2;
              local_28 = local_28 + 2;
            } while (local_14 != 0);
          }
          local_24 = local_24 + (int)this * 2;
          pfVar11 = pfVar11 + (int)this * 2;
          local_20 = local_20 + (int)this;
          local_1c = local_1c + (int)this;
          local_10 += -1;
        } while (local_10 != 0);
      }
      uVar8 = (uint)this & 0x80000001;
      if ((int)uVar8 < 0) {
        uVar8 = (uVar8 - 1 | 0xfffffffe) + 1;
      }
      if (uVar8 == 1) {
        return;
      }
    }
    iVar6 = (int)this + -1;
    iVar13 = iVar6 + iVar13;
    local_2c = NULL;
    pvVar9 = this;
    if (3 < param_1) {
      local_c = (param_1 - 4U >> 2) + 1;
      local_2c = (float *)(local_c * 4);
      do {
        iVar4 = (int)this * 2;
        unaff_EDI[(int)pvVar9] = -in_EAX[iVar13];
        unaff_EDI[(int)pvVar9 + -1] = in_EAX[iVar6];
        pvVar9 = (void *)((int)pvVar9 + iVar4);
        iVar12 = iVar13 + (int)this + (int)this;
        unaff_EDI[(int)pvVar9] = -in_EAX[iVar13 + (int)this];
        iVar13 = iVar6 + (int)this + (int)this;
        unaff_EDI[(int)pvVar9 + -1] = in_EAX[iVar6 + (int)this];
        pvVar9 = (void *)((int)pvVar9 + iVar4);
        iVar6 = iVar12 + (int)this;
        unaff_EDI[(int)pvVar9] = -in_EAX[iVar12];
        iVar12 = iVar13 + (int)this;
        unaff_EDI[(int)pvVar9 + -1] = in_EAX[iVar13];
        pvVar9 = (void *)((int)pvVar9 + iVar4);
        iVar13 = iVar6 + (int)this;
        unaff_EDI[(int)pvVar9] = -in_EAX[iVar6];
        iVar6 = iVar12 + (int)this;
        unaff_EDI[(int)pvVar9 + -1] = in_EAX[iVar12];
        pvVar9 = (void *)((int)pvVar9 + iVar4);
        local_c += -1;
      } while (local_c != 0);
    }
    if ((int)local_2c < param_1) {
      pfVar11 = in_EAX + iVar6;
      pfVar3 = in_EAX + iVar13;
      iVar6 = param_1 - (int)local_2c;
      pfVar10 = unaff_EDI + (int)pvVar9;
      do {
        fVar1 = *pfVar3;
        pfVar3 = pfVar3 + (int)this;
        *pfVar10 = -fVar1;
        fVar1 = *pfVar11;
        pfVar11 = pfVar11 + (int)this;
        pfVar10[-1] = fVar1;
        pfVar10 = pfVar10 + (int)this * 2;
        iVar6 += -1;
      } while (iVar6 != 0);
    }
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __fastcall
FUN_004551c0(uint param_1,float *param_2,int param_3,int param_4,int param_5,float *param_6)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  float fVar6;
  float fVar7;
  float fVar8;
  int in_EAX;
  float *pfVar9;
  float *pfVar10;
  float *pfVar11;
  int iVar12;
  int iVar13;
  int iVar14;
  int iVar15;
  int iVar16;
  int iVar17;
  float *pfVar18;
  int iVar19;
  int iVar20;
  int iVar21;
  float *pfVar22;
  uint uVar23;
  float *local_68;
  float *local_60;
  float *local_5c;
  float *local_54;
  float *local_50;
  float *local_48;
  float *local_44;
  int local_40;
  float *local_30;
  int local_2c;
  int local_28;
  int local_24;
  
  iVar14 = param_1 * param_3;
  local_60 = (float *)(iVar14 * 2);
  iVar15 = 0;
  local_68 = (float *)(iVar14 * 3);
  local_48 = NULL;
  iVar13 = iVar14;
  if (3 < param_3) {
    local_40 = (param_3 - 4U >> 2) + 1;
    local_48 = (float *)(local_40 * 4);
    do {
      fVar1 = *(float *)(in_EAX + iVar13 * 4) + *(float *)(in_EAX + (int)local_68 * 4);
      fVar2 = *(float *)(in_EAX + (int)local_60 * 4) + *(float *)(in_EAX + iVar15 * 4);
      param_2[iVar15 * 4] = fVar1 + fVar2;
      param_2[iVar15 * 4 + param_1 * 4 + -1] = fVar2 - fVar1;
      iVar12 = iVar15 * 4 + param_1 * 2;
      iVar16 = iVar15 + param_1;
      param_2[iVar12 + -1] =
           *(float *)(in_EAX + iVar15 * 4) - *(float *)(in_EAX + (int)local_60 * 4);
      iVar15 = (int)local_68 + param_1;
      iVar19 = iVar13 + param_1;
      param_2[iVar12] = *(float *)(in_EAX + (int)local_68 * 4) - *(float *)(in_EAX + iVar13 * 4);
      iVar12 = (int)local_60 + param_1;
      fVar1 = *(float *)(in_EAX + iVar19 * 4) + *(float *)(in_EAX + iVar15 * 4);
      fVar2 = *(float *)(in_EAX + iVar12 * 4) + *(float *)(in_EAX + iVar16 * 4);
      param_2[iVar16 * 4] = fVar1 + fVar2;
      param_2[iVar16 * 4 + param_1 * 4 + -1] = fVar2 - fVar1;
      iVar13 = iVar16 * 4 + param_1 * 2;
      iVar17 = iVar16 + param_1;
      param_2[iVar13 + -1] = *(float *)(in_EAX + iVar16 * 4) - *(float *)(in_EAX + iVar12 * 4);
      iVar16 = iVar15 + param_1;
      iVar20 = iVar19 + param_1;
      param_2[iVar13] = *(float *)(in_EAX + iVar15 * 4) - *(float *)(in_EAX + iVar19 * 4);
      iVar12 += param_1;
      fVar1 = *(float *)(in_EAX + iVar20 * 4) + *(float *)(in_EAX + iVar16 * 4);
      fVar2 = *(float *)(in_EAX + iVar12 * 4) + *(float *)(in_EAX + iVar17 * 4);
      param_2[iVar17 * 4] = fVar1 + fVar2;
      param_2[iVar17 * 4 + param_1 * 4 + -1] = fVar2 - fVar1;
      iVar13 = iVar17 * 4 + param_1 * 2;
      iVar19 = iVar17 + param_1;
      param_2[iVar13 + -1] = *(float *)(in_EAX + iVar17 * 4) - *(float *)(in_EAX + iVar12 * 4);
      iVar17 = iVar16 + param_1;
      iVar21 = iVar20 + param_1;
      param_2[iVar13] = *(float *)(in_EAX + iVar16 * 4) - *(float *)(in_EAX + iVar20 * 4);
      iVar12 += param_1;
      fVar1 = *(float *)(in_EAX + iVar21 * 4) + *(float *)(in_EAX + iVar17 * 4);
      fVar2 = *(float *)(in_EAX + iVar12 * 4) + *(float *)(in_EAX + iVar19 * 4);
      param_2[iVar19 * 4] = fVar1 + fVar2;
      param_2[iVar19 * 4 + param_1 * 4 + -1] = fVar2 - fVar1;
      iVar16 = iVar19 * 4 + param_1 * 2;
      local_60 = (float *)(iVar12 + param_1);
      iVar15 = iVar19 + param_1;
      param_2[iVar16 + -1] = *(float *)(in_EAX + iVar19 * 4) - *(float *)(in_EAX + iVar12 * 4);
      local_68 = (float *)(iVar17 + param_1);
      iVar13 = iVar21 + param_1;
      local_40 += -1;
      param_2[iVar16] = *(float *)(in_EAX + iVar17 * 4) - *(float *)(in_EAX + iVar21 * 4);
    } while (local_40 != 0);
  }
  if ((int)local_48 < param_3) {
    local_50 = (float *)(in_EAX + (int)local_60 * 4);
    local_48 = (float *)(param_3 - (int)local_48);
    pfVar22 = (float *)(in_EAX + iVar13 * 4);
    local_44 = (float *)(in_EAX + (int)local_68 * 4);
    do {
      fVar1 = *local_44;
      fVar2 = *pfVar22;
      fVar3 = *(float *)(in_EAX + iVar15 * 4) + *local_50;
      param_2[iVar15 * 4] = fVar1 + fVar2 + fVar3;
      param_2[iVar15 * 4 + param_1 * 4 + -1] = fVar3 - (fVar1 + fVar2);
      iVar13 = iVar15 * 4 + param_1 * 2;
      fVar1 = *local_50;
      local_50 = local_50 + param_1;
      param_2[iVar13 + -1] = *(float *)(in_EAX + iVar15 * 4) - fVar1;
      iVar15 += param_1;
      fVar1 = *pfVar22;
      pfVar22 = pfVar22 + param_1;
      local_48 = (float *)((int)local_48 + -1);
      param_2[iVar13] = *local_44 - fVar1;
      local_44 = local_44 + param_1;
    } while (local_48 != NULL);
  }
  if (1 < (int)param_1) {
    if (param_1 != 2) {
      local_28 = 0;
      if (0 < param_3) {
        local_40 = iVar14 * 4;
        local_24 = param_3;
        local_68 = param_2;
        do {
          iVar15 = param_1 * 2;
          iVar13 = iVar15 + local_28 * 4;
          if (2 < (int)param_1) {
            local_48 = local_68;
            local_30 = param_6;
            pfVar18 = (float *)(param_4 + 4);
            local_2c = (param_1 - 3 >> 1) + 1;
            iVar12 = local_40;
            pfVar22 = (float *)(in_EAX + local_28 * 4);
            local_60 = param_2 + iVar13 + iVar15;
            local_54 = param_2 + iVar15 + local_28 * 4;
            local_50 = param_2 + iVar13;
            do {
              iVar13 = iVar12 + 8;
              pfVar11 = pfVar22 + 2;
              fVar1 = *pfVar18 * *(float *)(iVar13 + in_EAX) +
                      pfVar18[-1] * *(float *)(iVar12 + 4 + in_EAX);
              iVar15 = iVar14 * 4 + iVar13;
              fVar2 = pfVar18[-1] * *(float *)(iVar13 + in_EAX) -
                      *pfVar18 * *(float *)(iVar12 + 4 + in_EAX);
              fVar3 = *(float *)((int)local_30 + (param_5 - (int)param_6)) *
                      *(float *)(iVar15 + -4 + in_EAX) +
                      *(float *)(iVar15 + in_EAX) * *(float *)((param_5 - param_4) + (int)pfVar18);
              fVar4 = *(float *)(iVar15 + in_EAX) *
                      *(float *)((int)local_30 + (param_5 - (int)param_6)) -
                      *(float *)(iVar15 + -4 + in_EAX) *
                      *(float *)((int)pfVar18 + (param_5 - param_4));
              iVar15 += iVar14 * 4;
              pfVar10 = (float *)(iVar15 + -4 + in_EAX);
              fVar5 = *(float *)(iVar15 + in_EAX) *
                      *(float *)((int)pfVar18 + ((int)param_6 - param_4)) + *pfVar10 * *local_30;
              fVar6 = *(float *)(iVar15 + in_EAX) * *local_30 -
                      *pfVar10 * *(float *)((int)pfVar18 + ((int)param_6 - param_4));
              fVar7 = fVar1 + fVar5;
              fVar5 = fVar5 - fVar1;
              fVar1 = fVar2 + fVar6;
              fVar2 = fVar2 - fVar6;
              local_30 = local_30 + 2;
              pfVar18 = pfVar18 + 2;
              local_2c += -1;
              fVar6 = fVar4 + *pfVar11;
              fVar4 = *pfVar11 - fVar4;
              fVar8 = fVar3 + pfVar22[1];
              fVar3 = pfVar22[1] - fVar3;
              local_48[1] = fVar7 + fVar8;
              local_48[2] = fVar1 + fVar6;
              local_50[-3] = fVar3 - fVar2;
              local_50[-2] = fVar5 - fVar4;
              local_54[1] = fVar2 + fVar3;
              local_54[2] = fVar4 + fVar5;
              local_60[-3] = fVar8 - fVar7;
              local_60[-2] = fVar1 - fVar6;
              iVar12 = iVar13;
              pfVar22 = pfVar11;
              local_60 = local_60 + -2;
              local_54 = local_54 + 2;
              local_50 = local_50 + -2;
              local_48 = local_48 + 2;
            } while (local_2c != 0);
          }
          local_68 = local_68 + param_1 * 4;
          local_40 += param_1 * 4;
          local_28 += param_1;
          local_24 += -1;
        } while (local_24 != 0);
      }
      if ((param_1 & 1) != 0) {
        return;
      }
    }
    fVar1 = _DAT_00472024;
    iVar13 = iVar14 + -1 + param_1;
    local_68 = (float *)(iVar13 + iVar14 * 2);
    local_48 = NULL;
    uVar23 = param_1;
    local_50 = (float *)param_1;
    if (3 < param_3) {
      fVar2 = -_DAT_00472024;
      local_60 = param_2 + param_1 * 3;
      local_5c = (float *)(in_EAX + (iVar14 + iVar13) * 4);
      local_54 = (float *)(param_1 * 4 + -4 + in_EAX);
      local_24 = (param_3 - 4U >> 2) + 1;
      local_48 = (float *)(local_24 * 4);
      do {
        iVar15 = (int)local_68 + param_1;
        local_50 = (float *)((int)local_50 + param_1 * 4);
        fVar3 = (*(float *)(in_EAX + iVar13 * 4) + *(float *)(in_EAX + (int)local_68 * 4)) * fVar2;
        iVar12 = iVar13 + param_1;
        fVar4 = (*(float *)(in_EAX + iVar13 * 4) - *(float *)(in_EAX + (int)local_68 * 4)) * fVar1;
        param_2[uVar23 - 1] = fVar4 + *local_54;
        local_60[-1] = *local_54 - fVar4;
        pfVar22 = local_5c + param_1;
        param_2[uVar23] = fVar3 - *local_5c;
        iVar17 = uVar23 + param_1 * 4;
        pfVar18 = local_60 + param_1 * 4;
        *local_60 = fVar3 + *local_5c;
        local_54 = local_54 + param_1;
        iVar13 = iVar15 + param_1;
        fVar3 = (*(float *)(in_EAX + iVar12 * 4) + *(float *)(in_EAX + iVar15 * 4)) * fVar2;
        iVar16 = iVar12 + param_1;
        fVar4 = (*(float *)(in_EAX + iVar12 * 4) - *(float *)(in_EAX + iVar15 * 4)) * fVar1;
        param_2[iVar17 + -1] = fVar4 + *local_54;
        pfVar18[-1] = *local_54 - fVar4;
        param_2[iVar17] = fVar3 - *pfVar22;
        *pfVar18 = fVar3 + *pfVar22;
        pfVar22 = pfVar22 + param_1;
        iVar17 += param_1 * 4;
        pfVar18 = pfVar18 + param_1 * 4;
        local_54 = local_54 + param_1;
        fVar3 = (*(float *)(in_EAX + iVar16 * 4) + *(float *)(in_EAX + iVar13 * 4)) * fVar2;
        iVar15 = iVar13 + param_1;
        iVar12 = iVar16 + param_1;
        fVar4 = (*(float *)(in_EAX + iVar16 * 4) - *(float *)(in_EAX + iVar13 * 4)) * fVar1;
        param_2[iVar17 + -1] = fVar4 + *local_54;
        pfVar18[-1] = *local_54 - fVar4;
        param_2[iVar17] = fVar3 - *pfVar22;
        *pfVar18 = fVar3 + *pfVar22;
        pfVar22 = pfVar22 + param_1;
        iVar17 += param_1 * 4;
        pfVar18 = pfVar18 + param_1 * 4;
        local_54 = local_54 + param_1;
        local_68 = (float *)(iVar15 + param_1);
        fVar3 = (*(float *)(in_EAX + iVar12 * 4) + *(float *)(in_EAX + iVar15 * 4)) * fVar2;
        iVar13 = iVar12 + param_1;
        fVar4 = (*(float *)(in_EAX + iVar12 * 4) - *(float *)(in_EAX + iVar15 * 4)) * fVar1;
        param_2[iVar17 + -1] = fVar4 + *local_54;
        pfVar18[-1] = *local_54 - fVar4;
        param_2[iVar17] = fVar3 - *pfVar22;
        *pfVar18 = fVar3 + *pfVar22;
        local_5c = pfVar22 + param_1;
        uVar23 = iVar17 + param_1 * 4;
        local_60 = pfVar18 + param_1 * 4;
        local_54 = local_54 + param_1;
        local_24 += -1;
      } while (local_24 != 0);
    }
    if ((int)local_48 < param_3) {
      pfVar22 = param_2 + uVar23 + param_1 * 2;
      local_54 = (float *)(in_EAX + (int)local_68 * 4);
      pfVar18 = (float *)(in_EAX + iVar13 * 4);
      pfVar10 = (float *)(in_EAX + (iVar13 + iVar14) * 4);
      pfVar9 = (float *)(in_EAX + -4 + (int)local_50 * 4);
      param_3 -= (int)local_48;
      pfVar11 = param_2 + uVar23;
      do {
        fVar4 = (*local_54 + *pfVar18) * -fVar1;
        fVar2 = *pfVar18;
        pfVar18 = pfVar18 + param_1;
        fVar3 = *local_54;
        local_54 = local_54 + param_1;
        fVar3 = (fVar2 - fVar3) * fVar1;
        pfVar11[-1] = fVar3 + *pfVar9;
        fVar2 = *pfVar9;
        pfVar9 = pfVar9 + param_1;
        pfVar22[-1] = fVar2 - fVar3;
        *pfVar11 = fVar4 - *pfVar10;
        pfVar11 = pfVar11 + param_1 * 4;
        fVar2 = *pfVar10;
        pfVar10 = pfVar10 + param_1;
        *pfVar22 = fVar4 + fVar2;
        pfVar22 = pfVar22 + param_1 * 4;
        param_3 += -1;
      } while (param_3 != 0);
    }
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __thiscall
FUN_00455af0(void *this,float *param_1,int param_2,float *param_3,int param_4,int param_5,
            int param_6,int param_7)

{
  float fVar1;
  float fVar2;
  float fVar3;
  undefined4 uVar4;
  float fVar5;
  float fVar6;
  int in_EAX;
  int iVar7;
  int iVar8;
  int iVar9;
  undefined4 *puVar10;
  float *pfVar11;
  float *pfVar12;
  float *pfVar13;
  float *pfVar14;
  int iVar15;
  int iVar16;
  int iVar17;
  int iVar18;
  float *pfVar19;
  float *pfVar20;
  int iVar21;
  float *pfVar22;
  undefined4 *puVar23;
  int iVar24;
  int iVar25;
  float *pfVar26;
  int iVar27;
  int unaff_EBX;
  float10 fVar28;
  float10 fVar29;
  float *local_60;
  int local_5c;
  int local_54;
  float *local_44;
  float *local_40;
  float *local_3c;
  float *local_38;
  float *local_34;
  float *local_30;
  float *local_2c;
  float *local_28;
  float *local_24;
  float *local_20;
  float local_1c;
  float local_18;
  int local_14;
  float *local_10;
  int local_c;
  int local_8;
  int local_4;
  
  pfVar19 = param_3;
  fVar28 = (float10)_CIcos();
  fVar29 = (float10)_CIsin();
  local_8 = (int)param_1 + 1 >> 1;
  iVar7 = unaff_EBX + -1 >> 1;
  iVar8 = unaff_EBX * param_2;
  iVar9 = unaff_EBX * (int)param_1;
  if (unaff_EBX != 1) {
    iVar24 = 0;
    if (3 < (int)param_3) {
      local_24 = (float *)(((uint)(param_3 + -1) >> 2) + 1);
      iVar24 = (int)local_24 * 4;
      puVar10 = (undefined4 *)(param_6 + 4);
      puVar23 = (undefined4 *)(param_5 + 0xc);
      do {
        puVar10[-1] = puVar23[-3];
        local_24 = (float *)((int)local_24 + -1);
        *puVar10 = *(undefined4 *)((param_5 - param_6) + -0x10 + (int)(puVar10 + 4));
        puVar10[1] = puVar23[-1];
        puVar10[2] = *puVar23;
        puVar10 = puVar10 + 4;
        puVar23 = puVar23 + 4;
      } while (local_24 != NULL);
    }
    if (iVar24 < (int)param_3) {
      iVar21 = (int)param_3 - iVar24;
      puVar10 = (undefined4 *)(param_6 + iVar24 * 4);
      do {
        iVar21 += -1;
        *puVar10 = *(undefined4 *)((int)puVar10 + (param_5 - param_6));
        puVar10 = puVar10 + 1;
      } while (iVar21 != 0);
    }
    iVar24 = 0;
    if (1 < (int)param_1) {
      local_24 = (float *)((int)param_1 + -1);
      do {
        iVar24 += iVar8;
        local_60 = NULL;
        iVar21 = iVar24;
        if (3 < param_2) {
          iVar25 = (param_2 - 4U >> 2) + 1;
          local_60 = (float *)(iVar25 * 4);
          do {
            *(undefined4 *)(in_EAX + iVar21 * 4) = *(undefined4 *)((int)this + iVar21 * 4);
            iVar21 += unaff_EBX;
            *(undefined4 *)(in_EAX + iVar21 * 4) = *(undefined4 *)((int)this + iVar21 * 4);
            iVar21 += unaff_EBX;
            *(undefined4 *)(in_EAX + iVar21 * 4) = *(undefined4 *)((int)this + iVar21 * 4);
            iVar21 += unaff_EBX;
            *(undefined4 *)(in_EAX + iVar21 * 4) = *(undefined4 *)((int)this + iVar21 * 4);
            iVar21 += unaff_EBX;
            iVar25 += -1;
          } while (iVar25 != 0);
        }
        if ((int)local_60 < param_2) {
          iVar25 = param_2 - (int)local_60;
          puVar10 = (undefined4 *)(in_EAX + iVar21 * 4);
          do {
            *puVar10 = *(undefined4 *)(((int)this - in_EAX) + (int)puVar10);
            puVar10 = puVar10 + unaff_EBX;
            iVar25 += -1;
          } while (iVar25 != 0);
        }
        local_24 = (float *)((int)local_24 + -1);
      } while (local_24 != NULL);
    }
    iVar24 = -unaff_EBX;
    iVar21 = 0;
    if (param_2 < iVar7) {
      if (1 < (int)param_1) {
        local_28 = (float *)(param_7 + -4 + unaff_EBX * -4);
        pfVar26 = (float *)(in_EAX + unaff_EBX * -4);
        pfVar11 = (float *)((int)this + unaff_EBX * -4 + -4);
        local_3c = (float *)((int)param_1 + -1);
        do {
          pfVar26 = pfVar26 + iVar8;
          pfVar11 = pfVar11 + iVar8;
          local_28 = local_28 + unaff_EBX;
          if (0 < param_2) {
            local_38 = (float *)param_2;
            pfVar20 = pfVar11;
            pfVar14 = pfVar26;
            do {
              pfVar14 = pfVar14 + unaff_EBX;
              pfVar20 = pfVar20 + unaff_EBX;
              if (2 < unaff_EBX) {
                local_34 = (float *)((unaff_EBX - 3U >> 1) + 1);
                pfVar12 = pfVar20;
                pfVar22 = local_28;
                local_2c = pfVar14;
                do {
                  local_2c = local_2c + 2;
                  pfVar13 = pfVar12 + 2;
                  local_34 = (float *)((int)local_34 + -1);
                  *(float *)((in_EAX - (int)this) + (int)pfVar13) =
                       pfVar22[1] * *pfVar13 + pfVar12[3] * pfVar22[2];
                  *local_2c = pfVar12[3] * pfVar22[1] - pfVar22[2] * *pfVar13;
                  pfVar12 = pfVar13;
                  pfVar22 = pfVar22 + 2;
                } while (local_34 != NULL);
              }
              local_38 = (float *)((int)local_38 + -1);
            } while (local_38 != NULL);
          }
          local_3c = (float *)((int)local_3c + -1);
        } while (local_3c != NULL);
      }
    }
    else if (1 < (int)param_1) {
      local_28 = (float *)(iVar24 + -1);
      local_2c = (float *)(param_7 + -4 + unaff_EBX * -4);
      local_40 = (float *)((int)param_1 + -1);
      iVar25 = iVar24;
      do {
        iVar21 += iVar8;
        local_28 = (float *)((int)local_28 + unaff_EBX);
        iVar25 += unaff_EBX;
        local_2c = local_2c + unaff_EBX;
        if (2 < unaff_EBX) {
          local_34 = (float *)(((int)local_28 - iVar25) + 1 + iVar21);
          local_3c = (float *)((unaff_EBX - 3U >> 1) + 1);
          pfVar11 = local_2c;
          do {
            local_34 = (float *)((int)local_34 + 2);
            pfVar26 = pfVar11 + 2;
            local_60 = NULL;
            iVar15 = (int)local_34;
            if (3 < param_2) {
              iVar27 = (param_2 - 4U >> 2) + 1;
              local_60 = (float *)(iVar27 * 4);
              do {
                *(float *)(in_EAX + -4 + iVar15 * 4) =
                     *(float *)((int)this + iVar15 * 4) * *pfVar26 +
                     pfVar11[1] * *(float *)((int)this + iVar15 * 4 + -4);
                *(float *)(in_EAX + iVar15 * 4) =
                     pfVar11[1] * *(float *)((int)this + iVar15 * 4) -
                     *(float *)((int)this + iVar15 * 4 + -4) * *pfVar26;
                iVar15 += unaff_EBX;
                *(float *)(in_EAX + -4 + iVar15 * 4) =
                     *(float *)((int)this + iVar15 * 4) * *pfVar26 +
                     pfVar11[1] * *(float *)((int)this + iVar15 * 4 + -4);
                *(float *)(in_EAX + iVar15 * 4) =
                     pfVar11[1] * *(float *)((int)this + iVar15 * 4) -
                     *(float *)((int)this + iVar15 * 4 + -4) * *pfVar26;
                iVar15 += unaff_EBX;
                *(float *)(in_EAX + -4 + iVar15 * 4) =
                     *(float *)((int)this + iVar15 * 4) * *pfVar26 +
                     pfVar11[1] * *(float *)((int)this + iVar15 * 4 + -4);
                *(float *)(in_EAX + iVar15 * 4) =
                     pfVar11[1] * *(float *)((int)this + iVar15 * 4) -
                     *(float *)((int)this + iVar15 * 4 + -4) * *pfVar26;
                iVar15 += unaff_EBX;
                *(float *)(in_EAX + -4 + iVar15 * 4) =
                     *(float *)((int)this + iVar15 * 4) * *pfVar26 +
                     pfVar11[1] * *(float *)((int)this + iVar15 * 4 + -4);
                *(float *)(in_EAX + iVar15 * 4) =
                     pfVar11[1] * *(float *)((int)this + iVar15 * 4) -
                     *(float *)((int)this + iVar15 * 4 + -4) * *pfVar26;
                iVar15 += unaff_EBX;
                iVar27 += -1;
              } while (iVar27 != 0);
            }
            if ((int)local_60 < param_2) {
              local_38 = (float *)(param_2 - (int)local_60);
              pfVar20 = (float *)(in_EAX + iVar15 * 4);
              pfVar14 = (float *)((int)this + iVar15 * 4 + -4);
              do {
                *(float *)((in_EAX - (int)this) + (int)pfVar14) =
                     pfVar14[1] * *pfVar26 + pfVar11[1] * *pfVar14;
                pfVar12 = pfVar14 + 1;
                fVar1 = *pfVar14;
                pfVar14 = pfVar14 + unaff_EBX;
                *pfVar20 = pfVar11[1] * *pfVar12 - *pfVar26 * fVar1;
                pfVar20 = pfVar20 + unaff_EBX;
                local_38 = (float *)((int)local_38 + -1);
              } while (local_38 != NULL);
            }
            local_3c = (float *)((int)local_3c + -1);
            pfVar11 = pfVar26;
          } while (local_3c != NULL);
        }
        local_40 = (float *)((int)local_40 + -1);
      } while (local_40 != NULL);
    }
    iVar21 = iVar8 * (int)param_1;
    local_5c = 0;
    if (iVar7 < param_2) {
      if (1 < local_8) {
        local_3c = (float *)(local_8 + -1);
        local_28 = (float *)iVar24;
        do {
          local_5c += iVar8;
          local_28 = (float *)((int)local_28 + iVar8);
          iVar21 -= iVar8;
          if (2 < unaff_EBX) {
            local_38 = (float *)((unaff_EBX - 3U >> 1) + 1);
            iVar24 = (int)local_28;
            do {
              iVar24 += 2;
              iVar25 = iVar24 + (iVar21 - local_5c);
              local_60 = NULL;
              iVar15 = iVar24;
              if (3 < param_2) {
                iVar27 = (param_2 - 4U >> 2) + 1;
                local_60 = (float *)(iVar27 * 4);
                do {
                  iVar25 += unaff_EBX;
                  iVar15 += unaff_EBX;
                  *(float *)((int)this + iVar15 * 4 + -4) =
                       *(float *)(in_EAX + -4 + iVar25 * 4) + *(float *)(in_EAX + -4 + iVar15 * 4);
                  *(float *)((int)this + iVar25 * 4 + -4) =
                       *(float *)(in_EAX + iVar15 * 4) - *(float *)(in_EAX + iVar25 * 4);
                  *(float *)((int)this + iVar15 * 4) =
                       *(float *)(in_EAX + iVar15 * 4) + *(float *)(in_EAX + iVar25 * 4);
                  iVar16 = iVar15 + unaff_EBX;
                  *(float *)((int)this + iVar25 * 4) =
                       *(float *)(in_EAX + -4 + iVar25 * 4) - *(float *)(in_EAX + -4 + iVar15 * 4);
                  iVar25 += unaff_EBX;
                  *(float *)((int)this + iVar16 * 4 + -4) =
                       *(float *)(in_EAX + -4 + iVar25 * 4) + *(float *)(in_EAX + -4 + iVar16 * 4);
                  *(float *)((int)this + iVar25 * 4 + -4) =
                       *(float *)(in_EAX + iVar16 * 4) - *(float *)(in_EAX + iVar25 * 4);
                  *(float *)((int)this + iVar16 * 4) =
                       *(float *)(in_EAX + iVar16 * 4) + *(float *)(in_EAX + iVar25 * 4);
                  iVar17 = iVar16 + unaff_EBX;
                  *(float *)((int)this + iVar25 * 4) =
                       *(float *)(in_EAX + -4 + iVar25 * 4) - *(float *)(in_EAX + -4 + iVar16 * 4);
                  iVar25 += unaff_EBX;
                  *(float *)((int)this + iVar17 * 4 + -4) =
                       *(float *)(in_EAX + -4 + iVar25 * 4) + *(float *)(in_EAX + -4 + iVar17 * 4);
                  *(float *)((int)this + iVar25 * 4 + -4) =
                       *(float *)(in_EAX + iVar17 * 4) - *(float *)(in_EAX + iVar25 * 4);
                  *(float *)((int)this + iVar17 * 4) =
                       *(float *)(in_EAX + iVar17 * 4) + *(float *)(in_EAX + iVar25 * 4);
                  iVar15 = iVar17 + unaff_EBX;
                  *(float *)((int)this + iVar25 * 4) =
                       *(float *)(in_EAX + -4 + iVar25 * 4) - *(float *)(in_EAX + -4 + iVar17 * 4);
                  iVar25 += unaff_EBX;
                  iVar27 += -1;
                  *(float *)((int)this + iVar15 * 4 + -4) =
                       *(float *)(in_EAX + -4 + iVar25 * 4) + *(float *)(in_EAX + -4 + iVar15 * 4);
                  *(float *)((int)this + iVar25 * 4 + -4) =
                       *(float *)(in_EAX + iVar15 * 4) - *(float *)(in_EAX + iVar25 * 4);
                  *(float *)((int)this + iVar15 * 4) =
                       *(float *)(in_EAX + iVar15 * 4) + *(float *)(in_EAX + iVar25 * 4);
                  *(float *)((int)this + iVar25 * 4) =
                       *(float *)(in_EAX + -4 + iVar25 * 4) - *(float *)(in_EAX + -4 + iVar15 * 4);
                } while (iVar27 != 0);
              }
              if ((int)local_60 < param_2) {
                local_30 = (float *)((int)this + iVar25 * 4);
                local_2c = (float *)((int)this + iVar15 * 4);
                local_24 = (float *)(param_2 - (int)local_60);
                pfVar11 = (float *)(in_EAX + -4 + iVar15 * 4);
                pfVar26 = (float *)(in_EAX + -4 + iVar25 * 4);
                do {
                  pfVar20 = pfVar11 + unaff_EBX;
                  pfVar14 = pfVar26 + unaff_EBX;
                  local_2c = local_2c + unaff_EBX;
                  local_30 = local_30 + unaff_EBX;
                  pfVar11 = pfVar11 + unaff_EBX;
                  pfVar26 = pfVar26 + unaff_EBX;
                  *(float *)((int)pfVar11 + ((int)this - in_EAX)) = *pfVar20 + *pfVar14;
                  local_24 = (float *)((int)local_24 + -1);
                  *(float *)((int)pfVar26 + ((int)this - in_EAX)) = pfVar11[1] - pfVar26[1];
                  *local_2c = pfVar26[1] + pfVar11[1];
                  *local_30 = *pfVar26 - *pfVar11;
                } while (local_24 != NULL);
              }
              local_38 = (float *)((int)local_38 + -1);
            } while (local_38 != NULL);
          }
          local_3c = (float *)((int)local_3c + -1);
        } while (local_3c != NULL);
      }
    }
    else if (1 < local_8) {
      local_2c = (float *)((int)this + iVar21 * 4);
      local_30 = (float *)(in_EAX + -4 + iVar21 * 4);
      local_28 = (float *)(in_EAX + -4);
      local_5c = local_8 + -1;
      pfVar11 = (float *)this;
      do {
        local_28 = local_28 + iVar8;
        local_2c = local_2c + -iVar8;
        local_30 = local_30 + -iVar8;
        pfVar11 = pfVar11 + iVar8;
        if (0 < param_2) {
          local_54 = param_2;
          pfVar26 = local_30;
          local_44 = local_2c;
          local_40 = local_28;
          local_3c = pfVar11;
          do {
            if (2 < unaff_EBX) {
              local_38 = local_44;
              local_34 = local_3c;
              iVar24 = (unaff_EBX - 3U >> 1) + 1;
              pfVar20 = local_40;
              pfVar14 = pfVar26;
              do {
                local_34 = local_34 + 2;
                local_38 = local_38 + 2;
                pfVar22 = pfVar14 + 2;
                pfVar12 = pfVar20 + 2;
                iVar24 += -1;
                *(float *)((int)pfVar12 + ((int)this - in_EAX)) = pfVar14[2] + pfVar20[2];
                *(float *)((int)pfVar22 + ((int)this - in_EAX)) = pfVar20[3] - pfVar14[3];
                *local_34 = pfVar14[3] + pfVar20[3];
                *local_38 = *pfVar22 - *pfVar12;
                pfVar20 = pfVar12;
                pfVar14 = pfVar22;
              } while (iVar24 != 0);
            }
            local_3c = local_3c + unaff_EBX;
            local_40 = local_40 + unaff_EBX;
            local_44 = local_44 + unaff_EBX;
            pfVar26 = pfVar26 + unaff_EBX;
            local_54 += -1;
          } while (local_54 != 0);
        }
        local_5c += -1;
      } while (local_5c != 0);
    }
  }
  iVar24 = 0;
  if (3 < (int)param_3) {
    local_24 = (float *)(((uint)(param_3 + -1) >> 2) + 1);
    iVar24 = (int)local_24 * 4;
    puVar10 = (undefined4 *)(param_5 + 4);
    puVar23 = (undefined4 *)(param_6 + 0xc);
    do {
      puVar10[-1] = puVar23[-3];
      local_24 = (float *)((int)local_24 + -1);
      *puVar10 = *(undefined4 *)((param_6 - param_5) + -0x10 + (int)(puVar10 + 4));
      puVar10[1] = puVar23[-1];
      puVar10[2] = *puVar23;
      puVar10 = puVar10 + 4;
      puVar23 = puVar23 + 4;
    } while (local_24 != NULL);
  }
  if (iVar24 < (int)param_3) {
    iVar21 = (int)param_3 - iVar24;
    puVar10 = (undefined4 *)(param_5 + iVar24 * 4);
    do {
      iVar21 += -1;
      *puVar10 = *(undefined4 *)((param_6 - param_5) + (int)puVar10);
      puVar10 = puVar10 + 1;
    } while (iVar21 != 0);
  }
  iVar24 = (int)param_1 * (int)param_3;
  if (1 < local_8) {
    iVar25 = iVar24 - unaff_EBX;
    iVar21 = -unaff_EBX;
    local_28 = (float *)(local_8 + -1);
    do {
      iVar21 += iVar8;
      iVar25 -= iVar8;
      local_60 = NULL;
      iVar15 = iVar21;
      iVar27 = iVar25;
      if (3 < param_2) {
        iVar16 = (param_2 - 4U >> 2) + 1;
        local_60 = (float *)(iVar16 * 4);
        do {
          iVar15 += unaff_EBX;
          iVar27 += unaff_EBX;
          *(float *)((int)this + iVar15 * 4) =
               *(float *)(in_EAX + iVar15 * 4) + *(float *)(in_EAX + iVar27 * 4);
          iVar17 = iVar15 + unaff_EBX;
          *(float *)((int)this + iVar27 * 4) =
               *(float *)(in_EAX + iVar27 * 4) - *(float *)(in_EAX + iVar15 * 4);
          iVar27 += unaff_EBX;
          *(float *)((int)this + iVar17 * 4) =
               *(float *)(in_EAX + iVar17 * 4) + *(float *)(in_EAX + iVar27 * 4);
          iVar18 = iVar17 + unaff_EBX;
          *(float *)((int)this + iVar27 * 4) =
               *(float *)(in_EAX + iVar27 * 4) - *(float *)(in_EAX + iVar17 * 4);
          iVar27 += unaff_EBX;
          *(float *)((int)this + iVar18 * 4) =
               *(float *)(in_EAX + iVar18 * 4) + *(float *)(in_EAX + iVar27 * 4);
          iVar15 = iVar18 + unaff_EBX;
          *(float *)((int)this + iVar27 * 4) =
               *(float *)(in_EAX + iVar27 * 4) - *(float *)(in_EAX + iVar18 * 4);
          iVar27 += unaff_EBX;
          iVar16 += -1;
          *(float *)((int)this + iVar15 * 4) =
               *(float *)(in_EAX + iVar15 * 4) + *(float *)(in_EAX + iVar27 * 4);
          *(float *)((int)this + iVar27 * 4) =
               *(float *)(in_EAX + iVar27 * 4) - *(float *)(in_EAX + iVar15 * 4);
        } while (iVar16 != 0);
      }
      if ((int)local_60 < param_2) {
        local_24 = (float *)(param_2 - (int)local_60);
        pfVar11 = (float *)(in_EAX + iVar15 * 4);
        pfVar26 = (float *)(in_EAX + iVar27 * 4);
        do {
          pfVar20 = pfVar26 + unaff_EBX;
          pfVar26 = pfVar26 + unaff_EBX;
          pfVar14 = pfVar11 + unaff_EBX;
          pfVar11 = pfVar11 + unaff_EBX;
          local_24 = (float *)((int)local_24 + -1);
          *(float *)(((int)this - in_EAX) + (int)pfVar11) = *pfVar20 + *pfVar14;
          *(float *)(((int)this - in_EAX) + (int)pfVar26) = *pfVar26 - *pfVar11;
        } while (local_24 != NULL);
      }
      local_28 = (float *)((int)local_28 + -1);
    } while (local_28 != NULL);
  }
  local_1c = 1.0;
  iVar21 = ((int)param_1 + -1) * (int)param_3;
  local_5c = 0;
  if (1 < local_8) {
    local_2c = (float *)(param_6 + 8);
    fVar1 = 0.0;
    local_30 = (float *)(param_6 + 8 + iVar24 * 4);
    local_4 = local_8 + -1;
    do {
      local_2c = local_2c + (int)param_3;
      local_30 = local_30 + -(int)param_3;
      iVar24 -= (int)param_3;
      local_5c += (int)param_3;
      fVar5 = local_1c * (float)fVar28 - fVar1 * (float)fVar29;
      iVar25 = 0;
      local_44 = param_3;
      fVar1 = local_1c * (float)fVar29 + (float)fVar28 * fVar1;
      iVar15 = iVar24;
      iVar27 = local_5c;
      local_28 = (float *)iVar21;
      if (3 < (int)param_3) {
        local_40 = (float *)(param_5 + 8 + (int)param_3 * 4);
        iVar16 = ((uint)(param_3 + -1) >> 2) + 1;
        iVar25 = iVar16 * 4;
        iVar27 = local_5c + iVar25;
        iVar15 = iVar24 + iVar25;
        local_28 = (float *)(iVar21 + iVar25);
        local_44 = param_3 + iVar16;
        pfVar11 = local_2c;
        local_60 = (float *)(param_5 + 8 + iVar21 * 4);
        local_3c = (float *)(param_5 + 8);
        local_34 = local_30;
        do {
          pfVar11[-2] = local_40[-2] * fVar5 + local_3c[-2];
          local_34[-2] = local_60[-2] * fVar1;
          pfVar11[-1] = local_40[-1] * fVar5 + local_3c[-1];
          local_34[-1] = local_60[-1] * fVar1;
          *pfVar11 = *local_40 * fVar5 + *local_3c;
          *local_34 = *local_60 * fVar1;
          pfVar26 = local_40 + 1;
          local_40 = local_40 + 4;
          pfVar11[1] = *pfVar26 * fVar5 + local_3c[1];
          iVar16 += -1;
          local_34[1] = local_60[1] * fVar1;
          pfVar11 = pfVar11 + 4;
          local_60 = local_60 + 4;
          local_3c = local_3c + 4;
          local_34 = local_34 + 4;
        } while (iVar16 != 0);
      }
      if (iVar25 < (int)param_3) {
        pfVar11 = (float *)(param_5 + (int)local_44 * 4);
        pfVar26 = (float *)(param_6 + iVar27 * 4);
        local_34 = (float *)(param_6 + iVar15 * 4);
        local_28 = (float *)(param_5 + (int)local_28 * 4);
        do {
          fVar2 = *pfVar11;
          iVar25 += 1;
          pfVar11 = pfVar11 + 1;
          *pfVar26 = fVar2 * fVar5 + *(float *)(param_5 + -4 + iVar25 * 4);
          *local_34 = fVar1 * *local_28;
          pfVar26 = pfVar26 + 1;
          local_34 = local_34 + 1;
          local_28 = local_28 + 1;
        } while (iVar25 < (int)param_3);
      }
      if (2 < local_8) {
        local_60 = (float *)(param_5 + 8 + (int)param_3 * 4);
        local_34 = (float *)(param_5 + 8 + iVar21 * 4);
        local_c = local_8 + -2;
        iVar25 = iVar21;
        pfVar11 = param_3;
        fVar2 = fVar1;
        local_18 = fVar5;
        do {
          iVar25 -= (int)param_3;
          local_60 = local_60 + (int)param_3;
          local_34 = local_34 + -(int)param_3;
          pfVar11 = (float *)((int)pfVar11 + (int)param_3);
          fVar6 = local_18 * fVar5 - fVar2 * fVar1;
          iVar15 = 0;
          fVar2 = local_18 * fVar1 + fVar5 * fVar2;
          iVar27 = local_5c;
          iVar16 = iVar24;
          local_14 = iVar25;
          local_10 = pfVar11;
          if (3 < (int)param_3) {
            iVar17 = ((uint)(param_3 + -1) >> 2) + 1;
            iVar15 = iVar17 * 4;
            iVar27 = local_5c + iVar15;
            iVar16 = iVar24 + iVar15;
            local_10 = pfVar11 + iVar17;
            local_14 = iVar25 + iVar15;
            pfVar26 = local_2c;
            pfVar20 = local_30;
            local_40 = local_34;
            local_3c = local_60;
            do {
              pfVar26[-2] = local_3c[-2] * fVar6 + pfVar26[-2];
              pfVar20[-2] = local_40[-2] * fVar2 + pfVar20[-2];
              pfVar26[-1] = local_3c[-1] * fVar6 + pfVar26[-1];
              pfVar20[-1] = local_40[-1] * fVar2 + pfVar20[-1];
              *pfVar26 = *local_3c * fVar6 + *pfVar26;
              *pfVar20 = *local_40 * fVar2 + *pfVar20;
              iVar17 += -1;
              pfVar26[1] = local_3c[1] * fVar6 + pfVar26[1];
              pfVar20[1] = local_40[1] * fVar2 + pfVar20[1];
              pfVar26 = pfVar26 + 4;
              pfVar20 = pfVar20 + 4;
              local_40 = local_40 + 4;
              local_3c = local_3c + 4;
            } while (iVar17 != 0);
          }
          if (iVar15 < (int)param_3) {
            local_28 = (float *)(param_5 + (int)local_10 * 4);
            iVar15 = (int)param_3 - iVar15;
            pfVar26 = (float *)(param_6 + iVar27 * 4);
            pfVar20 = (float *)(param_6 + iVar16 * 4);
            local_3c = (float *)(param_5 + local_14 * 4);
            do {
              fVar3 = *local_28;
              local_28 = local_28 + 1;
              iVar15 += -1;
              *pfVar26 = fVar6 * fVar3 + *pfVar26;
              *pfVar20 = fVar2 * *local_3c + *pfVar20;
              pfVar26 = pfVar26 + 1;
              pfVar20 = pfVar20 + 1;
              local_3c = local_3c + 1;
            } while (iVar15 != 0);
          }
          local_c += -1;
          local_18 = fVar6;
        } while (local_c != 0);
      }
      local_4 += -1;
      local_1c = fVar5;
    } while (local_4 != 0);
  }
  iVar24 = 0;
  if (1 < local_8) {
    param_3 = (float *)(param_5 + 8);
    local_4 = local_8 + -1;
    do {
      param_3 = param_3 + (int)pfVar19;
      iVar24 += (int)pfVar19;
      iVar21 = 0;
      iVar25 = iVar24;
      if (3 < (int)pfVar19) {
        iVar15 = ((uint)(pfVar19 + -1) >> 2) + 1;
        iVar21 = iVar15 * 4;
        iVar25 = iVar24 + iVar21;
        pfVar11 = (float *)(param_6 + 8);
        pfVar26 = param_3;
        do {
          iVar15 += -1;
          pfVar11[-2] = pfVar26[-2] + pfVar11[-2];
          pfVar11[-1] = pfVar26[-1] + pfVar11[-1];
          *pfVar11 = *pfVar11 + *pfVar26;
          pfVar11[1] = pfVar26[1] + pfVar11[1];
          pfVar11 = pfVar11 + 4;
          pfVar26 = pfVar26 + 4;
        } while (iVar15 != 0);
      }
      if (iVar21 < (int)pfVar19) {
        pfVar11 = (float *)(param_5 + iVar25 * 4);
        do {
          iVar25 = iVar21 * 4;
          iVar21 += 1;
          fVar1 = *pfVar11;
          pfVar11 = pfVar11 + 1;
          *(float *)(param_6 + -4 + iVar21 * 4) = *(float *)(param_6 + iVar25) + fVar1;
        } while (iVar21 < (int)pfVar19);
      }
      local_4 += -1;
    } while (local_4 != 0);
  }
  if (unaff_EBX < param_2) {
    local_28 = NULL;
    if (0 < unaff_EBX) {
      do {
        local_60 = NULL;
        pfVar19 = local_28;
        pfVar11 = local_28;
        if (3 < param_2) {
          iVar24 = (param_2 - 4U >> 2) + 1;
          local_60 = (float *)(iVar24 * 4);
          do {
            *(undefined4 *)(param_4 + (int)pfVar11 * 4) = *(undefined4 *)(in_EAX + (int)pfVar19 * 4)
            ;
            iVar21 = (int)pfVar19 + unaff_EBX + unaff_EBX;
            *(undefined4 *)(param_4 + ((int)pfVar11 + iVar9) * 4) =
                 *(undefined4 *)(in_EAX + ((int)pfVar19 + unaff_EBX) * 4);
            iVar15 = (int)pfVar11 + iVar9 + iVar9;
            iVar25 = iVar21 + unaff_EBX;
            *(undefined4 *)(param_4 + iVar15 * 4) = *(undefined4 *)(in_EAX + iVar21 * 4);
            iVar15 += iVar9;
            pfVar19 = (float *)(iVar25 + unaff_EBX);
            *(undefined4 *)(param_4 + iVar15 * 4) = *(undefined4 *)(in_EAX + iVar25 * 4);
            pfVar11 = (float *)(iVar15 + iVar9);
            iVar24 += -1;
          } while (iVar24 != 0);
        }
        if ((int)local_60 < param_2) {
          param_3 = (float *)(param_4 + (int)pfVar11 * 4);
          pfVar19 = (float *)(in_EAX + (int)pfVar19 * 4);
          iVar24 = param_2 - (int)local_60;
          do {
            *param_3 = *pfVar19;
            pfVar19 = pfVar19 + unaff_EBX;
            param_3 = param_3 + iVar9;
            iVar24 += -1;
          } while (iVar24 != 0);
        }
        local_28 = (float *)((int)local_28 + 1);
      } while ((int)local_28 < unaff_EBX);
    }
  }
  else {
    local_5c = 0;
    local_54 = 0;
    if (0 < param_2) {
      local_24 = (float *)(in_EAX + 8);
      local_2c = (float *)(param_4 + 8);
      local_4 = param_2;
      do {
        iVar24 = 0;
        iVar21 = local_5c;
        iVar25 = local_54;
        if (3 < unaff_EBX) {
          iVar15 = (unaff_EBX - 4U >> 2) + 1;
          iVar24 = iVar15 * 4;
          iVar21 = local_5c + iVar24;
          iVar25 = iVar24 + local_54;
          pfVar19 = local_24;
          pfVar11 = local_2c;
          do {
            pfVar11[-2] = pfVar19[-2];
            iVar15 += -1;
            pfVar11[-1] = pfVar19[-1];
            *pfVar11 = *pfVar19;
            pfVar11[1] = pfVar19[1];
            pfVar19 = pfVar19 + 4;
            pfVar11 = pfVar11 + 4;
          } while (iVar15 != 0);
        }
        if (iVar24 < unaff_EBX) {
          puVar10 = (undefined4 *)(param_4 + iVar25 * 4);
          puVar23 = (undefined4 *)(in_EAX + iVar21 * 4);
          iVar24 = unaff_EBX - iVar24;
          do {
            uVar4 = *puVar23;
            puVar23 = puVar23 + 1;
            *puVar10 = uVar4;
            puVar10 = puVar10 + 1;
            iVar24 += -1;
          } while (iVar24 != 0);
        }
        local_5c += unaff_EBX;
        local_24 = local_24 + unaff_EBX;
        local_54 += iVar9;
        local_2c = local_2c + iVar9;
        local_4 += -1;
      } while (local_4 != 0);
    }
  }
  iVar24 = iVar8 * (int)param_1;
  iVar21 = 0;
  iVar25 = 0;
  if (1 < local_8) {
    local_4 = local_8 + -1;
    iVar15 = iVar24;
    do {
      iVar25 += iVar8;
      iVar15 -= iVar8;
      iVar21 += unaff_EBX * 2;
      local_60 = NULL;
      iVar27 = iVar21;
      iVar16 = iVar25;
      iVar17 = iVar15;
      if (3 < param_2) {
        param_1 = (float *)((param_2 - 4U >> 2) + 1);
        local_60 = (float *)((int)param_1 * 4);
        do {
          *(undefined4 *)(param_4 + -4 + iVar27 * 4) = *(undefined4 *)(in_EAX + iVar16 * 4);
          *(undefined4 *)(param_4 + iVar27 * 4) = *(undefined4 *)(in_EAX + iVar17 * 4);
          iVar27 += iVar9;
          iVar18 = iVar16 + unaff_EBX + unaff_EBX;
          *(undefined4 *)(param_4 + -4 + iVar27 * 4) =
               *(undefined4 *)(in_EAX + (iVar16 + unaff_EBX) * 4);
          iVar16 = iVar17 + unaff_EBX + unaff_EBX;
          *(undefined4 *)(param_4 + iVar27 * 4) = *(undefined4 *)(in_EAX + (iVar17 + unaff_EBX) * 4)
          ;
          iVar27 += iVar9;
          iVar17 = iVar18 + unaff_EBX;
          *(undefined4 *)(param_4 + -4 + iVar27 * 4) = *(undefined4 *)(in_EAX + iVar18 * 4);
          iVar18 = iVar16 + unaff_EBX;
          *(undefined4 *)(param_4 + iVar27 * 4) = *(undefined4 *)(in_EAX + iVar16 * 4);
          iVar27 += iVar9;
          iVar16 = iVar17 + unaff_EBX;
          *(undefined4 *)(param_4 + -4 + iVar27 * 4) = *(undefined4 *)(in_EAX + iVar17 * 4);
          iVar17 = iVar18 + unaff_EBX;
          *(undefined4 *)(param_4 + iVar27 * 4) = *(undefined4 *)(in_EAX + iVar18 * 4);
          iVar27 += iVar9;
          param_1 = (float *)((int)param_1 + -1);
        } while (param_1 != NULL);
      }
      if ((int)local_60 < param_2) {
        param_1 = (float *)(in_EAX + iVar17 * 4);
        pfVar19 = (float *)(in_EAX + iVar16 * 4);
        iVar16 = param_2 - (int)local_60;
        pfVar11 = (float *)(param_4 + iVar27 * 4);
        do {
          pfVar11[-1] = *pfVar19;
          *pfVar11 = *param_1;
          pfVar11 = pfVar11 + iVar9;
          param_1 = param_1 + unaff_EBX;
          pfVar19 = pfVar19 + unaff_EBX;
          iVar16 += -1;
        } while (iVar16 != 0);
      }
      local_4 += -1;
    } while (local_4 != 0);
  }
  if (unaff_EBX != 1) {
    if (iVar7 < param_2) {
      iVar21 = 0;
      iVar7 = 0;
      if (1 < local_8) {
        local_14 = local_8 + -1;
        pfVar19 = (float *)0xfffffffe;
        do {
          pfVar19 = (float *)((int)pfVar19 + unaff_EBX * 2);
          iVar21 += unaff_EBX * 2;
          iVar7 += iVar8;
          iVar24 -= iVar8;
          if (2 < unaff_EBX) {
            local_10 = (float *)((unaff_EBX - 3U >> 1) + 1);
            param_1 = pfVar19;
            iVar25 = iVar7;
            do {
              iVar25 += 2;
              local_44 = (float *)((iVar21 - iVar7) + iVar25);
              iVar27 = (iVar24 - iVar7) + iVar25;
              local_60 = NULL;
              iVar15 = iVar25;
              pfVar11 = param_1;
              if (3 < param_2) {
                local_4 = (param_2 - 4U >> 2) + 1;
                local_60 = (float *)(local_4 * 4);
                do {
                  *(float *)(param_4 + -4 + (int)local_44 * 4) =
                       *(float *)(in_EAX + -4 + iVar27 * 4) + *(float *)(in_EAX + -4 + iVar15 * 4);
                  *(float *)(param_4 + -4 + (int)pfVar11 * 4) =
                       *(float *)(in_EAX + -4 + iVar15 * 4) - *(float *)(in_EAX + -4 + iVar27 * 4);
                  *(float *)(param_4 + (int)local_44 * 4) =
                       *(float *)(in_EAX + iVar15 * 4) + *(float *)(in_EAX + iVar27 * 4);
                  iVar17 = iVar27 + unaff_EBX;
                  iVar16 = iVar15 + unaff_EBX;
                  *(float *)(param_4 + (int)pfVar11 * 4) =
                       *(float *)(in_EAX + iVar27 * 4) - *(float *)(in_EAX + iVar15 * 4);
                  pfVar11 = (float *)((int)pfVar11 + iVar9);
                  iVar18 = (int)local_44 + iVar9;
                  *(float *)(param_4 + -4 + iVar18 * 4) =
                       *(float *)(in_EAX + -4 + iVar17 * 4) + *(float *)(in_EAX + -4 + iVar16 * 4);
                  *(float *)(param_4 + -4 + (int)pfVar11 * 4) =
                       *(float *)(in_EAX + -4 + iVar16 * 4) - *(float *)(in_EAX + -4 + iVar17 * 4);
                  *(float *)(param_4 + iVar18 * 4) =
                       *(float *)(in_EAX + iVar16 * 4) + *(float *)(in_EAX + iVar17 * 4);
                  iVar27 = iVar17 + unaff_EBX;
                  iVar15 = iVar16 + unaff_EBX;
                  *(float *)(param_4 + (int)pfVar11 * 4) =
                       *(float *)(in_EAX + iVar17 * 4) - *(float *)(in_EAX + iVar16 * 4);
                  pfVar11 = (float *)((int)pfVar11 + iVar9);
                  iVar18 += iVar9;
                  *(float *)(param_4 + -4 + iVar18 * 4) =
                       *(float *)(in_EAX + -4 + iVar27 * 4) + *(float *)(in_EAX + -4 + iVar15 * 4);
                  *(float *)(param_4 + -4 + (int)pfVar11 * 4) =
                       *(float *)(in_EAX + -4 + iVar15 * 4) - *(float *)(in_EAX + -4 + iVar27 * 4);
                  *(float *)(param_4 + iVar18 * 4) =
                       *(float *)(in_EAX + iVar15 * 4) + *(float *)(in_EAX + iVar27 * 4);
                  iVar17 = iVar27 + unaff_EBX;
                  iVar16 = iVar15 + unaff_EBX;
                  *(float *)(param_4 + (int)pfVar11 * 4) =
                       *(float *)(in_EAX + iVar27 * 4) - *(float *)(in_EAX + iVar15 * 4);
                  pfVar11 = (float *)((int)pfVar11 + iVar9);
                  iVar18 += iVar9;
                  *(float *)(param_4 + -4 + iVar18 * 4) =
                       *(float *)(in_EAX + -4 + iVar17 * 4) + *(float *)(in_EAX + -4 + iVar16 * 4);
                  *(float *)(param_4 + -4 + (int)pfVar11 * 4) =
                       *(float *)(in_EAX + -4 + iVar16 * 4) - *(float *)(in_EAX + -4 + iVar17 * 4);
                  *(float *)(param_4 + iVar18 * 4) =
                       *(float *)(in_EAX + iVar16 * 4) + *(float *)(in_EAX + iVar17 * 4);
                  iVar27 = iVar17 + unaff_EBX;
                  iVar15 = iVar16 + unaff_EBX;
                  *(float *)(param_4 + (int)pfVar11 * 4) =
                       *(float *)(in_EAX + iVar17 * 4) - *(float *)(in_EAX + iVar16 * 4);
                  pfVar11 = (float *)((int)pfVar11 + iVar9);
                  local_44 = (float *)(iVar18 + iVar9);
                  local_4 += -1;
                } while (local_4 != 0);
              }
              if ((int)local_60 < param_2) {
                pfVar26 = (float *)(param_4 + (int)local_44 * 4);
                pfVar11 = (float *)(param_4 + (int)pfVar11 * 4);
                iVar16 = param_2 - (int)local_60;
                pfVar20 = (float *)(in_EAX + iVar15 * 4);
                pfVar14 = (float *)(in_EAX + iVar27 * 4);
                do {
                  pfVar26[-1] = pfVar14[-1] + pfVar20[-1];
                  pfVar11[-1] = pfVar20[-1] - pfVar14[-1];
                  *pfVar26 = *pfVar20 + *pfVar14;
                  pfVar26 = pfVar26 + iVar9;
                  *pfVar11 = *pfVar14 - *pfVar20;
                  pfVar11 = pfVar11 + iVar9;
                  pfVar20 = pfVar20 + unaff_EBX;
                  pfVar14 = pfVar14 + unaff_EBX;
                  iVar16 += -1;
                } while (iVar16 != 0);
              }
              param_1 = (float *)((int)param_1 + -2);
              local_10 = (float *)((int)local_10 + -1);
            } while (local_10 != NULL);
          }
          local_14 += -1;
        } while (local_14 != 0);
        return;
      }
    }
    else if (1 < local_8) {
      local_24 = (float *)(in_EAX + 8 + iVar24 * 4);
      local_20 = (float *)(param_4 + 8);
      param_3 = (float *)(param_4 + -8);
      param_1 = (float *)(in_EAX + 8);
      local_8 += -1;
      do {
        param_3 = param_3 + unaff_EBX * 2;
        local_20 = local_20 + unaff_EBX * 2;
        param_1 = param_1 + iVar8;
        local_24 = local_24 + -iVar8;
        if (0 < param_2) {
          local_4 = param_2;
          pfVar19 = local_20;
          local_30 = local_24;
          local_2c = param_1;
          local_28 = param_3;
          do {
            if (2 < unaff_EBX) {
              iVar7 = (unaff_EBX - 3U >> 1) + 1;
              pfVar11 = local_30;
              pfVar26 = local_2c;
              pfVar20 = local_28;
              pfVar14 = pfVar19;
              do {
                iVar7 += -1;
                pfVar14[-1] = pfVar11[-1] + pfVar26[-1];
                pfVar20[-1] = pfVar26[-1] - pfVar11[-1];
                *pfVar14 = *pfVar11 + *pfVar26;
                *pfVar20 = *pfVar11 - *pfVar26;
                pfVar11 = pfVar11 + 2;
                pfVar26 = pfVar26 + 2;
                pfVar20 = pfVar20 + -2;
                pfVar14 = pfVar14 + 2;
              } while (iVar7 != 0);
            }
            local_28 = local_28 + iVar9;
            pfVar19 = pfVar19 + iVar9;
            local_2c = local_2c + unaff_EBX;
            local_30 = local_30 + unaff_EBX;
            local_4 += -1;
          } while (local_4 != 0);
        }
        local_8 += -1;
      } while (local_8 != 0);
    }
  }
  return;
}



void __thiscall FUN_004570b0(void *this,int param_1,float *param_2,int param_3)

{
  int iVar1;
  void *this_00;
  float *pfVar2;
  float *pfVar3;
  int iVar4;
  float *unaff_ESI;
  int iVar5;
  int local_14;
  undefined4 *local_10;
  int local_4;
  
  local_4 = *(int *)((int)this + 4);
  local_14 = 1;
  if (0 < local_4) {
    local_10 = (undefined4 *)((int)this + local_4 * 4 + 4);
    iVar4 = param_1;
    iVar5 = param_1;
    do {
      pfVar2 = (float *)*local_10;
      iVar1 = iVar4 / (int)pfVar2;
      this_00 = (void *)(param_1 / iVar4);
      local_14 = 1 - local_14;
      iVar5 -= ((int)pfVar2 + -1) * (int)this_00;
      if (pfVar2 == (float *)0x4) {
        pfVar2 = param_2;
        if (local_14 != 0) {
          pfVar2 = unaff_ESI;
        }
        FUN_004551c0((uint)this_00,pfVar2,iVar1,param_3 + -4 + iVar5 * 4,
                     param_3 + -4 + ((int)this_00 + iVar5) * 4,
                     (float *)(param_3 + -4 + ((int)this_00 + iVar5 + (int)this_00) * 4));
      }
      else if (pfVar2 == (float *)0x2) {
        if (local_14 == 0) {
          FUN_00454e90(this_00,iVar1,param_3 + -4 + iVar5 * 4);
        }
        else {
          FUN_00454e90(this_00,iVar1,param_3 + -4 + iVar5 * 4);
        }
      }
      else {
        if (this_00 == (void *)0x1) {
          local_14 = 1 - local_14;
        }
        iVar4 = param_3 + -4 + iVar5 * 4;
        if (local_14 == 0) {
          FUN_00455af0(unaff_ESI,pfVar2,iVar1,(float *)((int)this_00 * iVar1),(int)unaff_ESI,
                       (int)unaff_ESI,(int)param_2,iVar4);
          local_14 = 1;
        }
        else {
          FUN_00455af0(param_2,pfVar2,iVar1,(float *)((int)this_00 * iVar1),(int)param_2,
                       (int)param_2,(int)unaff_ESI,iVar4);
          local_14 = 0;
        }
      }
      local_10 = local_10 + -1;
      local_4 += -1;
      iVar4 = iVar1;
    } while (local_4 != 0);
    if (local_14 != 1) {
      iVar4 = 0;
      if (3 < param_1) {
        iVar5 = (param_1 - 4U >> 2) + 1;
        iVar4 = iVar5 * 4;
        pfVar2 = unaff_ESI + 1;
        pfVar3 = param_2 + 3;
        do {
          pfVar2[-1] = pfVar3[-3];
          iVar5 += -1;
          *pfVar2 = *(float *)((int)param_2 + (-0x10 - (int)unaff_ESI) + (int)(pfVar2 + 4));
          pfVar2[1] = pfVar3[-1];
          pfVar2[2] = *pfVar3;
          pfVar2 = pfVar2 + 4;
          pfVar3 = pfVar3 + 4;
        } while (iVar5 != 0);
      }
      if (iVar4 < param_1) {
        iVar5 = param_1 - iVar4;
        pfVar2 = unaff_ESI + iVar4;
        do {
          iVar5 += -1;
          *pfVar2 = *(float *)((int)pfVar2 + ((int)param_2 - (int)unaff_ESI));
          pfVar2 = pfVar2 + 1;
        } while (iVar5 != 0);
      }
    }
  }
  return;
}



void __cdecl FUN_00457290(int *param_1)

{
  int iVar1;
  
  iVar1 = *param_1;
  if (iVar1 != 1) {
    FUN_004570b0((void *)param_1[2],iVar1,(float *)param_1[1],(int)((float *)param_1[1] + iVar1));
  }
  return;
}



void __cdecl FUN_004572c0(int *param_1,int param_2)

{
  void *pvVar1;
  int *piVar2;
  
  *param_1 = param_2;
  pvVar1 = calloc(param_2 * 3,4);
  param_1[1] = (int)pvVar1;
  piVar2 = (int *)calloc(0x20,4);
  param_1[2] = (int)piVar2;
  FUN_00454e70(piVar2,param_1[1]);
  return;
}



void __cdecl FUN_00457300(undefined4 *param_1)

{
  if (param_1 != NULL) {
    if ((void *)param_1[1] != NULL) {
      free((void *)param_1[1]);
    }
    if ((void *)param_1[2] != NULL) {
      free((void *)param_1[2]);
    }
    *param_1 = 0;
    param_1[1] = 0;
    param_1[2] = 0;
  }
  return;
}



void __cdecl FUN_00457340(int *param_1,int param_2)

{
  void *pvVar1;
  void *pvVar2;
  uint uVar3;
  byte bVar4;
  undefined4 extraout_ECX;
  undefined4 extraout_EDX;
  uint uVar5;
  float *pfVar6;
  uint uVar7;
  int iVar8;
  uint uVar9;
  int iVar10;
  float10 fVar11;
  float10 fVar12;
  ulonglong uVar13;
  
  iVar10 = (int)(param_2 + (param_2 >> 0x1f & 3U)) >> 2;
  pvVar1 = malloc(iVar10 * 4);
  pvVar2 = malloc((iVar10 + param_2) * 4);
  fVar11 = (float10)_CIlog();
  fVar12 = (float10)_CIlog();
  floor((double)((float10)(double)fVar11 / fVar12 + (float10)0.5));
  uVar13 = FUN_0045db50(extraout_ECX,extraout_EDX);
  param_1[3] = (int)pvVar1;
  iVar8 = 0;
  param_1[1] = (int)uVar13;
  *param_1 = param_2;
  param_1[2] = (int)pvVar2;
  if (0 < iVar10) {
    pfVar6 = (float *)((int)pvVar2 + (param_2 >> 1) * 4);
    do {
      fVar11 = (float10)_CIcos();
      *(float *)((int)pvVar2 + iVar8 * 8) = (float)fVar11;
      fVar11 = (float10)_CIsin();
      *(float *)((int)pvVar2 + iVar8 * 8 + 4) = (float)-fVar11;
      fVar11 = (float10)_CIcos();
      *pfVar6 = (float)fVar11;
      fVar11 = (float10)_CIsin();
      pfVar6[1] = (float)fVar11;
      iVar8 += 1;
      pfVar6 = pfVar6 + 2;
    } while (iVar8 < iVar10);
  }
  iVar8 = (int)(param_2 + (param_2 >> 0x1f & 7U)) >> 3;
  if (0 < iVar8) {
    pfVar6 = (float *)((int)pvVar2 + param_2 * 4);
    iVar10 = iVar8;
    do {
      fVar11 = (float10)_CIcos();
      *pfVar6 = (float)(fVar11 * (float10)0.5);
      fVar11 = (float10)_CIsin();
      iVar10 += -1;
      pfVar6[1] = (float)(fVar11 * (float10)-0.5);
      pfVar6 = pfVar6 + 2;
    } while (iVar10 != 0);
  }
  uVar9 = 1 << ((char)uVar13 - 2U & 0x1f);
  uVar5 = 0;
  if (0 < iVar8) {
    do {
      uVar7 = 0;
      bVar4 = 0;
      if (uVar9 != 0) {
        uVar7 = 0;
        uVar3 = uVar9;
        do {
          if ((uVar5 & uVar3) != 0) {
            uVar7 |= 1 << (bVar4 & 0x1f);
          }
          bVar4 += 1;
          uVar3 = (int)uVar9 >> (bVar4 & 0x1f);
        } while (uVar3 != 0);
      }
      *(uint *)((int)pvVar1 + uVar5 * 8) = (~uVar7 & (1 << ((char)uVar13 - 1U & 0x1f)) - 1U) - 1;
      *(uint *)((int)pvVar1 + uVar5 * 8 + 4) = uVar7;
      uVar5 += 1;
    } while ((int)uVar5 < iVar8);
  }
  param_1[4] = (int)(4.0 / (float)param_2);
  return;
}



void FUN_00457560(void)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  float fVar6;
  float *in_EAX;
  
  fVar1 = in_EAX[6];
  fVar2 = in_EAX[6];
  fVar3 = in_EAX[4];
  fVar4 = *in_EAX;
  in_EAX[6] = fVar1 + in_EAX[2] + *in_EAX + in_EAX[4];
  in_EAX[4] = (fVar1 + in_EAX[2]) - (*in_EAX + in_EAX[4]);
  fVar1 = in_EAX[3];
  *in_EAX = (in_EAX[5] - in_EAX[1]) + (fVar2 - in_EAX[2]);
  in_EAX[2] = (fVar2 - in_EAX[2]) - (in_EAX[5] - in_EAX[1]);
  fVar2 = in_EAX[1];
  fVar5 = in_EAX[7];
  fVar6 = in_EAX[3];
  in_EAX[3] = (in_EAX[7] - fVar1) + (fVar3 - fVar4);
  in_EAX[1] = (in_EAX[7] - fVar1) - (fVar3 - fVar4);
  in_EAX[7] = in_EAX[5] + fVar2 + fVar5 + fVar6;
  in_EAX[5] = (fVar5 + fVar6) - (in_EAX[5] + fVar2);
  return;
}



void FUN_00457610(void)

{
  float *pfVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float *in_EAX;
  
  pfVar1 = in_EAX + 8;
  fVar2 = in_EAX[9];
  fVar3 = *in_EAX;
  fVar4 = *pfVar1;
  *pfVar1 = *pfVar1 + *in_EAX;
  in_EAX[9] = in_EAX[9] + in_EAX[1];
  *in_EAX = ((in_EAX[1] - fVar2) + (fVar3 - fVar4)) * 0.70710677;
  in_EAX[1] = ((in_EAX[1] - fVar2) - (fVar3 - fVar4)) * 0.70710677;
  fVar2 = in_EAX[0xb];
  fVar3 = in_EAX[10];
  fVar4 = in_EAX[2];
  in_EAX[10] = in_EAX[10] + in_EAX[2];
  in_EAX[0xb] = in_EAX[0xb] + in_EAX[3];
  in_EAX[2] = in_EAX[3] - fVar2;
  in_EAX[3] = fVar3 - fVar4;
  fVar2 = in_EAX[0xc];
  fVar3 = in_EAX[4];
  fVar4 = in_EAX[0xd];
  in_EAX[0xc] = in_EAX[0xc] + in_EAX[4];
  in_EAX[0xd] = in_EAX[0xd] + in_EAX[5];
  in_EAX[4] = ((fVar2 - fVar3) - (fVar4 - in_EAX[5])) * 0.70710677;
  in_EAX[5] = ((fVar4 - in_EAX[5]) + (fVar2 - fVar3)) * 0.70710677;
  fVar2 = in_EAX[0xe];
  fVar3 = in_EAX[0xf];
  in_EAX[0xe] = in_EAX[0xe] + in_EAX[6];
  in_EAX[0xf] = in_EAX[0xf] + in_EAX[7];
  in_EAX[6] = fVar2 - in_EAX[6];
  in_EAX[7] = fVar3 - in_EAX[7];
  FUN_00457560();
  FUN_00457560();
  return;
}



void FUN_00457710(void)

{
  float *pfVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float *in_EAX;
  
  fVar2 = in_EAX[0x1e];
  fVar3 = in_EAX[0x1f];
  in_EAX[0x1e] = in_EAX[0x1e] + in_EAX[0xe];
  in_EAX[0x1f] = in_EAX[0x1f] + in_EAX[0xf];
  in_EAX[0xe] = fVar2 - in_EAX[0xe];
  in_EAX[0xf] = fVar3 - in_EAX[0xf];
  fVar2 = in_EAX[0x1c];
  fVar3 = in_EAX[0xc];
  fVar4 = in_EAX[0x1d];
  in_EAX[0x1c] = in_EAX[0x1c] + in_EAX[0xc];
  in_EAX[0x1d] = in_EAX[0x1d] + in_EAX[0xd];
  in_EAX[0xc] = (fVar2 - fVar3) * 0.9238795 - (fVar4 - in_EAX[0xd]) * 0.38268343;
  in_EAX[0xd] = (fVar2 - fVar3) * 0.38268343 + (fVar4 - in_EAX[0xd]) * 0.9238795;
  fVar2 = in_EAX[0x1a];
  fVar3 = in_EAX[10];
  fVar4 = in_EAX[0x1b];
  in_EAX[0x1a] = in_EAX[0x1a] + in_EAX[10];
  in_EAX[0x1b] = in_EAX[0x1b] + in_EAX[0xb];
  in_EAX[10] = ((fVar2 - fVar3) - (fVar4 - in_EAX[0xb])) * 0.70710677;
  in_EAX[0xb] = ((fVar4 - in_EAX[0xb]) + (fVar2 - fVar3)) * 0.70710677;
  fVar2 = in_EAX[0x18];
  fVar3 = in_EAX[8];
  fVar4 = in_EAX[0x19];
  in_EAX[0x18] = in_EAX[0x18] + in_EAX[8];
  in_EAX[0x19] = in_EAX[0x19] + in_EAX[9];
  in_EAX[8] = (fVar2 - fVar3) * 0.38268343 - (fVar4 - in_EAX[9]) * 0.9238795;
  in_EAX[9] = (fVar2 - fVar3) * 0.9238795 + (fVar4 - in_EAX[9]) * 0.38268343;
  fVar2 = in_EAX[0x16];
  fVar3 = in_EAX[6];
  fVar4 = in_EAX[0x17];
  in_EAX[0x16] = in_EAX[0x16] + in_EAX[6];
  in_EAX[0x17] = in_EAX[0x17] + in_EAX[7];
  in_EAX[6] = in_EAX[7] - fVar4;
  in_EAX[7] = fVar2 - fVar3;
  fVar2 = in_EAX[4];
  fVar3 = in_EAX[0x14];
  fVar4 = in_EAX[0x15];
  in_EAX[0x14] = in_EAX[0x14] + in_EAX[4];
  in_EAX[0x15] = in_EAX[0x15] + in_EAX[5];
  in_EAX[4] = (fVar2 - fVar3) * 0.38268343 + (in_EAX[5] - fVar4) * 0.9238795;
  in_EAX[5] = (in_EAX[5] - fVar4) * 0.38268343 - (fVar2 - fVar3) * 0.9238795;
  fVar2 = in_EAX[2];
  fVar3 = in_EAX[0x12];
  fVar4 = in_EAX[0x13];
  in_EAX[0x12] = in_EAX[0x12] + in_EAX[2];
  in_EAX[0x13] = in_EAX[0x13] + in_EAX[3];
  in_EAX[2] = ((fVar2 - fVar3) + (in_EAX[3] - fVar4)) * 0.70710677;
  in_EAX[3] = ((in_EAX[3] - fVar4) - (fVar2 - fVar3)) * 0.70710677;
  fVar2 = *in_EAX;
  pfVar1 = in_EAX + 0x10;
  fVar3 = *pfVar1;
  fVar4 = in_EAX[0x11];
  *pfVar1 = *pfVar1 + *in_EAX;
  in_EAX[0x11] = in_EAX[0x11] + in_EAX[1];
  *in_EAX = (fVar2 - fVar3) * 0.9238795 + (in_EAX[1] - fVar4) * 0.38268343;
  in_EAX[1] = (in_EAX[1] - fVar4) * 0.9238795 - (fVar2 - fVar3) * 0.38268343;
  FUN_00457610();
  FUN_00457610();
  return;
}



void __fastcall FUN_00457940(int param_1,float *param_2)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float *pfVar5;
  float *pfVar6;
  float *pfVar7;
  float *unaff_EDI;
  
  pfVar5 = unaff_EDI + (param_1 >> 1) + -8;
  pfVar7 = unaff_EDI + (param_1 >> 1) + -8 + (param_1 - (param_1 >> 1)) + 7;
  do {
    fVar1 = pfVar7[-1];
    fVar2 = pfVar5[6];
    fVar3 = *pfVar7;
    fVar4 = pfVar5[7];
    pfVar7[-1] = pfVar5[6] + pfVar7[-1];
    *pfVar7 = pfVar5[7] + *pfVar7;
    pfVar5[6] = (fVar3 - fVar4) * param_2[1] + (fVar1 - fVar2) * *param_2;
    pfVar5[7] = (fVar3 - fVar4) * *param_2 - param_2[1] * (fVar1 - fVar2);
    fVar1 = pfVar7[-3];
    fVar2 = pfVar5[4];
    fVar3 = pfVar7[-2];
    fVar4 = pfVar5[5];
    pfVar7[-3] = pfVar5[4] + pfVar7[-3];
    pfVar7[-2] = pfVar7[-2] + pfVar5[5];
    pfVar5[4] = (fVar1 - fVar2) * param_2[4] + (fVar3 - fVar4) * param_2[5];
    pfVar5[5] = param_2[4] * (fVar3 - fVar4) - (fVar1 - fVar2) * param_2[5];
    fVar1 = pfVar7[-5];
    fVar2 = pfVar5[2];
    fVar3 = pfVar7[-4];
    fVar4 = pfVar5[3];
    pfVar7[-5] = pfVar7[-5] + pfVar5[2];
    pfVar7[-4] = pfVar7[-4] + pfVar5[3];
    pfVar5[2] = (fVar3 - fVar4) * param_2[9] + (fVar1 - fVar2) * param_2[8];
    pfVar6 = pfVar5 + -8;
    pfVar5[3] = param_2[8] * (fVar3 - fVar4) - (fVar1 - fVar2) * param_2[9];
    fVar1 = pfVar7[-7];
    fVar2 = *pfVar5;
    fVar3 = pfVar7[-6];
    fVar4 = pfVar5[1];
    pfVar7[-7] = *pfVar5 + pfVar7[-7];
    pfVar7[-6] = pfVar5[1] + pfVar7[-6];
    *pfVar5 = (fVar3 - fVar4) * param_2[0xd] + (fVar1 - fVar2) * param_2[0xc];
    pfVar5[1] = param_2[0xc] * (fVar3 - fVar4) - (fVar1 - fVar2) * param_2[0xd];
    pfVar5 = pfVar6;
    pfVar7 = pfVar7 + -8;
    param_2 = param_2 + 0x10;
  } while (unaff_EDI <= pfVar6);
  return;
}



void __fastcall FUN_00457aa0(int param_1,float *param_2,int param_3)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float *pfVar5;
  float *pfVar6;
  float *pfVar7;
  float *pfVar8;
  float *pfVar9;
  float *unaff_EBX;
  
  pfVar5 = unaff_EBX + (param_1 >> 1) + -8;
  pfVar6 = unaff_EBX + (param_1 >> 1) + -8 + (param_1 - (param_1 >> 1)) + 7;
  do {
    fVar1 = pfVar6[-1];
    fVar2 = pfVar5[6];
    fVar3 = *pfVar6;
    fVar4 = pfVar5[7];
    pfVar6[-1] = pfVar5[6] + pfVar6[-1];
    *pfVar6 = pfVar5[7] + *pfVar6;
    pfVar5[6] = (fVar3 - fVar4) * param_2[1] + (fVar1 - fVar2) * *param_2;
    pfVar7 = param_2 + param_3;
    pfVar5[7] = (fVar3 - fVar4) * *param_2 - param_2[1] * (fVar1 - fVar2);
    fVar1 = pfVar6[-3];
    fVar2 = pfVar5[4];
    fVar3 = pfVar6[-2];
    fVar4 = pfVar5[5];
    pfVar6[-3] = pfVar5[4] + pfVar6[-3];
    pfVar6[-2] = pfVar5[5] + pfVar6[-2];
    pfVar5[4] = (fVar3 - fVar4) * pfVar7[1] + (fVar1 - fVar2) * *pfVar7;
    pfVar8 = pfVar7 + param_3;
    pfVar5[5] = (fVar3 - fVar4) * *pfVar7 - pfVar7[1] * (fVar1 - fVar2);
    fVar1 = pfVar6[-5];
    fVar2 = pfVar5[2];
    fVar3 = pfVar6[-4];
    fVar4 = pfVar5[3];
    pfVar6[-5] = pfVar5[2] + pfVar6[-5];
    pfVar6[-4] = pfVar6[-4] + pfVar5[3];
    pfVar5[2] = (fVar3 - fVar4) * pfVar8[1] + (fVar1 - fVar2) * *pfVar8;
    pfVar7 = pfVar5 + -8;
    pfVar9 = pfVar8 + param_3;
    pfVar5[3] = (fVar3 - fVar4) * *pfVar8 - pfVar8[1] * (fVar1 - fVar2);
    fVar1 = pfVar6[-7];
    fVar2 = *pfVar5;
    fVar3 = pfVar6[-6];
    fVar4 = pfVar5[1];
    pfVar6[-7] = *pfVar5 + pfVar6[-7];
    pfVar6[-6] = pfVar5[1] + pfVar6[-6];
    *pfVar5 = (fVar3 - fVar4) * pfVar9[1] + (fVar1 - fVar2) * *pfVar9;
    param_2 = pfVar9 + param_3;
    pfVar5[1] = (fVar3 - fVar4) * *pfVar9 - pfVar9[1] * (fVar1 - fVar2);
    pfVar5 = pfVar7;
    pfVar6 = pfVar6 + -8;
  } while (unaff_EBX <= pfVar7);
  return;
}



void __cdecl FUN_00457c10(undefined4 param_1,int param_2)

{
  float *pfVar1;
  int in_EAX;
  int iVar2;
  byte bVar3;
  int iVar4;
  
  pfVar1 = *(float **)(in_EAX + 8);
  iVar4 = *(int *)(in_EAX + 4);
  if (0 < iVar4 + -6) {
    FUN_00457940(param_2,pfVar1);
  }
  bVar3 = 1;
  for (iVar4 += -7; 0 < iVar4; iVar4 += -1) {
    iVar2 = 1 << (bVar3 & 0x1f);
    if (0 < iVar2) {
      do {
        FUN_00457aa0(param_2 >> (bVar3 & 0x1f),pfVar1,4 << (bVar3 & 0x1f));
        iVar2 += -1;
      } while (iVar2 != 0);
    }
    bVar3 += 1;
  }
  if (0 < param_2) {
    iVar4 = (param_2 - 1U >> 5) + 1;
    do {
      FUN_00457710();
      iVar4 += -1;
    } while (iVar4 != 0);
  }
  return;
}



void __cdecl FUN_00457cd0(undefined4 *param_1)

{
  if (param_1 != NULL) {
    if ((void *)param_1[2] != NULL) {
      free((void *)param_1[2]);
    }
    if ((void *)param_1[3] != NULL) {
      free((void *)param_1[3]);
    }
    *param_1 = 0;
    param_1[1] = 0;
    param_1[2] = 0;
    param_1[3] = 0;
    param_1[4] = 0;
  }
  return;
}



void __fastcall FUN_00457d10(undefined4 param_1,float *param_2)

{
  float *pfVar1;
  float *pfVar2;
  float *pfVar3;
  float fVar4;
  float fVar5;
  float fVar6;
  float fVar7;
  int *in_EAX;
  float *pfVar8;
  float *pfVar9;
  float *pfVar10;
  float *pfVar11;
  int *piVar12;
  int iVar13;
  
  piVar12 = (int *)in_EAX[3];
  iVar13 = *in_EAX >> 1;
  pfVar8 = (float *)(in_EAX[2] + *in_EAX * 4);
  pfVar9 = param_2 + iVar13 + 3;
  pfVar10 = param_2;
  do {
    pfVar1 = param_2 + iVar13 + *piVar12;
    pfVar2 = param_2 + iVar13 + piVar12[1];
    fVar4 = (param_2[iVar13 + *piVar12 + 1] - param_2[iVar13 + piVar12[1] + 1]) * pfVar8[1] +
            (*pfVar2 + *pfVar1) * *pfVar8;
    fVar5 = (*pfVar2 + *pfVar1) * pfVar8[1] -
            *pfVar8 * (param_2[iVar13 + *piVar12 + 1] - param_2[iVar13 + piVar12[1] + 1]);
    fVar6 = (pfVar2[1] + pfVar1[1]) * 0.5;
    fVar7 = (*pfVar1 - *pfVar2) * 0.5;
    *pfVar10 = fVar6 + fVar4;
    pfVar9[-5] = fVar6 - fVar4;
    pfVar10[1] = fVar7 + fVar5;
    pfVar9[-4] = fVar5 - fVar7;
    pfVar2 = param_2 + iVar13 + piVar12[2];
    pfVar3 = param_2 + iVar13 + piVar12[3];
    fVar6 = (param_2[iVar13 + piVar12[2] + 1] - param_2[iVar13 + piVar12[3] + 1]) * pfVar8[3] +
            (*pfVar3 + *pfVar2) * pfVar8[2];
    fVar7 = pfVar8[3] * (*pfVar3 + *pfVar2) -
            (param_2[iVar13 + piVar12[2] + 1] - param_2[iVar13 + piVar12[3] + 1]) * pfVar8[2];
    fVar4 = (pfVar3[1] + pfVar2[1]) * 0.5;
    pfVar11 = pfVar10 + 4;
    pfVar1 = pfVar9 + -7;
    pfVar8 = pfVar8 + 4;
    piVar12 = piVar12 + 4;
    fVar5 = (*pfVar2 - *pfVar3) * 0.5;
    pfVar10[2] = fVar4 + fVar6;
    pfVar9[-7] = fVar4 - fVar6;
    pfVar10[3] = fVar5 + fVar7;
    pfVar9[-6] = fVar7 - fVar5;
    pfVar9 = pfVar9 + -4;
    pfVar10 = pfVar11;
  } while (pfVar11 < pfVar1);
  return;
}



void __cdecl FUN_00457e80(int *param_1,float *param_2,float *param_3)

{
  float fVar1;
  int iVar2;
  float *pfVar3;
  float *pfVar4;
  undefined4 extraout_ECX;
  float *pfVar5;
  float *pfVar6;
  float *pfVar7;
  float *pfVar8;
  int iVar9;
  float *pfVar10;
  
  iVar2 = *param_1 >> 2;
  iVar9 = *param_1 >> 1;
  pfVar4 = param_3 + iVar2 + iVar9;
  pfVar3 = (float *)(param_1[2] + iVar2 * 4);
  pfVar5 = param_2 + iVar9 + -7;
  pfVar8 = pfVar4;
  do {
    pfVar10 = pfVar5 + -8;
    pfVar8[-4] = -pfVar5[2] * pfVar3[3] - *pfVar5 * pfVar3[2];
    pfVar8[-3] = *pfVar5 * pfVar3[3] - pfVar3[2] * pfVar5[2];
    pfVar8[-2] = -pfVar5[6] * pfVar3[1] - *pfVar3 * pfVar5[4];
    pfVar8[-1] = pfVar3[1] * pfVar5[4] - pfVar5[6] * *pfVar3;
    pfVar3 = pfVar3 + 4;
    pfVar5 = pfVar10;
    pfVar8 = pfVar8 + -4;
  } while (param_2 <= pfVar10);
  pfVar3 = (float *)(param_1[2] + iVar2 * 4);
  pfVar5 = param_2 + iVar9 + -8;
  pfVar8 = pfVar4;
  do {
    pfVar10 = pfVar3 + -4;
    pfVar6 = pfVar5 + -8;
    *pfVar8 = pfVar3[-1] * pfVar5[4] + pfVar3[-2] * pfVar5[6];
    pfVar8[1] = pfVar3[-2] * pfVar5[4] - pfVar5[6] * pfVar3[-1];
    pfVar8[2] = *pfVar10 * pfVar5[2] + *pfVar5 * pfVar3[-3];
    pfVar8[3] = *pfVar5 * *pfVar10 - pfVar3[-3] * pfVar5[2];
    pfVar3 = pfVar10;
    pfVar5 = pfVar6;
    pfVar8 = pfVar8 + 4;
  } while (param_2 <= pfVar6);
  FUN_00457c10(param_3 + iVar9,iVar9);
  FUN_00457d10(extraout_ECX,param_3);
  pfVar3 = (float *)(param_1[2] + iVar9 * 4);
  pfVar5 = param_3 + 3;
  pfVar8 = pfVar4;
  pfVar10 = pfVar4;
  do {
    pfVar7 = pfVar8 + -4;
    pfVar6 = pfVar5 + 5;
    pfVar8[-1] = pfVar3[1] * pfVar5[-3] - pfVar5[-2] * *pfVar3;
    *pfVar10 = -(*pfVar3 * pfVar5[-3] + pfVar5[-2] * pfVar3[1]);
    pfVar8[-2] = pfVar5[-1] * pfVar3[3] - pfVar3[2] * *pfVar5;
    pfVar10[1] = -(pfVar3[3] * *pfVar5 + pfVar5[-1] * pfVar3[2]);
    pfVar8[-3] = pfVar5[1] * pfVar3[5] - pfVar5[2] * pfVar3[4];
    pfVar10[2] = -(pfVar5[1] * pfVar3[4] + pfVar5[2] * pfVar3[5]);
    *pfVar7 = pfVar5[3] * pfVar3[7] - pfVar3[6] * pfVar5[4];
    pfVar10[3] = -(pfVar5[4] * pfVar3[7] + pfVar3[6] * pfVar5[3]);
    pfVar3 = pfVar3 + 8;
    pfVar5 = pfVar5 + 8;
    pfVar8 = pfVar7;
    pfVar10 = pfVar10 + 4;
  } while (pfVar6 < pfVar7);
  pfVar3 = pfVar4;
  pfVar5 = param_3 + iVar2 + 2;
  pfVar8 = pfVar4 + (2 - iVar9);
  do {
    fVar1 = pfVar3[-1];
    pfVar7 = pfVar3 + -4;
    pfVar8[-3] = fVar1;
    pfVar10 = pfVar5 + 2;
    pfVar5[-2] = -fVar1;
    fVar1 = pfVar3[-2];
    pfVar8[-4] = fVar1;
    pfVar5[-1] = -fVar1;
    fVar1 = pfVar3[-3];
    pfVar8[-5] = fVar1;
    *pfVar5 = -fVar1;
    fVar1 = *pfVar7;
    pfVar8[-6] = fVar1;
    pfVar5[1] = -fVar1;
    pfVar3 = pfVar7;
    pfVar6 = pfVar4;
    pfVar5 = pfVar5 + 4;
    pfVar8 = pfVar8 + -4;
  } while (pfVar10 < pfVar7);
  do {
    pfVar3 = pfVar4 + -4;
    *pfVar3 = pfVar6[3];
    pfVar4[-3] = pfVar6[2];
    pfVar4[-2] = pfVar6[1];
    pfVar4[-1] = *pfVar6;
    pfVar4 = pfVar3;
    pfVar6 = pfVar6 + 4;
  } while (param_3 + iVar9 < pfVar3);
  return;
}



// WARNING: Function: __alloca_probe_16 replaced with injection: alloca_probe
// WARNING: Unable to track spacebase fully for stack

void __cdecl FUN_004580f0(int *param_1,int param_2,int param_3)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  int iVar5;
  uint uVar6;
  float *pfVar7;
  int iVar8;
  int iVar9;
  int iVar10;
  int iVar11;
  undefined4 extraout_ECX;
  float *pfVar12;
  float *pfVar13;
  int iVar14;
  float *pfVar15;
  int iVar16;
  float *pfVar17;
  int iVar18;
  float *pfVar19;
  float *pfVar20;
  float afStack_44 [3];
  float *local_10;
  float *local_c;
  
  uVar6 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  iVar18 = *param_1;
  iVar8 = iVar18 >> 1;
  iVar9 = iVar18 >> 2;
  iVar16 = iVar18 >> 3;
  afStack_44[2] = 6.382982e-39;
  iVar5 = iVar18 * -4;
  pfVar19 = (float *)(&stack0xffffffc8 + iVar5);
  iVar14 = iVar8 * 4;
  local_c = (float *)(param_2 + (iVar9 + iVar8) * 4);
  pfVar7 = (float *)(param_1[2] + iVar14);
  iVar10 = 0;
  pfVar12 = pfVar7;
  iVar11 = iVar10;
  local_10 = local_c + 1;
  if (0 < iVar16) {
    do {
      fVar1 = local_c[-2];
      local_c = local_c + -4;
      fVar2 = *local_10;
      pfVar7 = pfVar12 + -2;
      iVar10 = iVar11 + 2;
      fVar3 = local_10[2];
      fVar4 = *local_c;
      afStack_44[(iVar8 + iVar11 + 3) - iVar18] =
           (fVar1 + fVar2) * *pfVar7 + (fVar3 + fVar4) * pfVar12[-1];
      afStack_44[(iVar8 + iVar11 + 4) - iVar18] =
           *pfVar7 * (fVar3 + fVar4) - (fVar1 + fVar2) * pfVar12[-1];
      pfVar12 = pfVar7;
      iVar11 = iVar10;
      local_10 = local_10 + 4;
    } while (iVar10 < iVar16);
  }
  pfVar12 = (float *)(param_2 + 4);
  for (; iVar10 < iVar8 - iVar16; iVar10 += 2) {
    fVar1 = local_c[-2];
    local_c = local_c + -4;
    fVar2 = *pfVar12;
    pfVar17 = pfVar7 + -2;
    fVar3 = *local_c;
    fVar4 = pfVar12[2];
    afStack_44[(iVar8 + iVar10 + 3) - iVar18] =
         (fVar1 - fVar2) * *pfVar17 + (fVar3 - fVar4) * pfVar7[-1];
    afStack_44[(iVar8 + iVar10 + 4) - iVar18] =
         *pfVar17 * (fVar3 - fVar4) - (fVar1 - fVar2) * pfVar7[-1];
    pfVar12 = pfVar12 + 4;
    pfVar7 = pfVar17;
  }
  pfVar17 = (float *)(param_2 + iVar18 * 4);
  for (; iVar10 < iVar8; iVar10 += 2) {
    fVar1 = pfVar17[-2];
    pfVar17 = pfVar17 + -4;
    pfVar13 = pfVar7 + -2;
    fVar2 = *pfVar12;
    fVar3 = *pfVar17;
    fVar4 = pfVar12[2];
    afStack_44[(iVar8 + iVar10 + 3) - iVar18] =
         (-fVar1 - fVar2) * *pfVar13 + (-fVar3 - fVar4) * pfVar7[-1];
    afStack_44[(iVar8 + iVar10 + 4) - iVar18] =
         *pfVar13 * (-fVar3 - fVar4) - (-fVar1 - fVar2) * pfVar7[-1];
    pfVar12 = pfVar12 + 4;
    pfVar7 = pfVar13;
  }
  afStack_44[2 - iVar18] = (float)iVar8;
  afStack_44[1 - iVar18] = (float)(&stack0xffffffc8 + iVar14 + iVar5);
  afStack_44[-iVar18] = 6.383523e-39;
  FUN_00457c10(afStack_44[1 - iVar18],(int)afStack_44[2 - iVar18]);
  afStack_44[2 - iVar18] = 6.38354e-39;
  FUN_00457d10(extraout_ECX,(float *)(&stack0xffffffc8 + iVar5));
  pfVar7 = (float *)(param_1[2] + iVar14);
  pfVar12 = (float *)(param_3 + iVar14);
  iVar14 = 0;
  if (3 < iVar9) {
    iVar18 = (iVar9 - 4U >> 2) + 1;
    iVar14 = iVar18 * 4;
    pfVar17 = pfVar7;
    pfVar13 = pfVar12;
    pfVar15 = (float *)(param_3 + 8);
    pfVar20 = (float *)(&stack0xffffffc8 + iVar5);
    do {
      pfVar19 = pfVar20 + 8;
      pfVar12 = pfVar13 + -4;
      pfVar7 = pfVar17 + 8;
      iVar18 += -1;
      pfVar15[-2] = (pfVar20[1] * pfVar17[1] + *pfVar17 * *pfVar20) * (float)param_1[4];
      pfVar13[-1] = (pfVar17[1] * *pfVar20 - *pfVar17 * pfVar20[1]) * (float)param_1[4];
      pfVar15[-1] = (pfVar17[2] * pfVar20[2] + pfVar17[3] * pfVar20[3]) * (float)param_1[4];
      pfVar13[-2] = (pfVar17[3] * pfVar20[2] - pfVar20[3] * pfVar17[2]) * (float)param_1[4];
      *pfVar15 = (pfVar17[4] * pfVar20[4] + pfVar17[5] * pfVar20[5]) * (float)param_1[4];
      pfVar13[-3] = (pfVar20[4] * pfVar17[5] - pfVar17[4] * pfVar20[5]) * (float)param_1[4];
      pfVar15[1] = (pfVar17[7] * pfVar20[7] + pfVar17[6] * pfVar20[6]) * (float)param_1[4];
      *pfVar12 = (pfVar20[6] * pfVar17[7] - pfVar17[6] * pfVar20[7]) * (float)param_1[4];
      pfVar17 = pfVar7;
      pfVar13 = pfVar12;
      pfVar15 = pfVar15 + 4;
      pfVar20 = pfVar19;
    } while (iVar18 != 0);
  }
  while (iVar14 < iVar9) {
    pfVar12 = pfVar12 + -1;
    iVar14 += 1;
    *(float *)(param_3 + -4 + iVar14 * 4) =
         (pfVar19[1] * pfVar7[1] + *pfVar7 * *pfVar19) * (float)param_1[4];
    *pfVar12 = (pfVar7[1] * *pfVar19 - *pfVar7 * pfVar19[1]) * (float)param_1[4];
    pfVar7 = pfVar7 + 2;
    pfVar19 = pfVar19 + 2;
  }
  __security_check_cookie(uVar6 ^ (uint)&stack0xfffffffc);
  return;
}



void __cdecl FUN_004583f0(void *param_1)

{
  memset(param_1,0,0x30);
  return;
}



undefined4 __cdecl FUN_00458410(int param_1)

{
  int *piVar1;
  
  piVar1 = (int *)(*(int *)(*(int *)(param_1 + 0x40) + 0x68) + 0x50);
  if ((piVar1 != NULL) && (*piVar1 != 0)) {
    return 1;
  }
  return 0;
}



void __cdecl FUN_00458430(void *param_1)

{
  undefined4 *puVar1;
  int iVar2;
  
  FUN_00457cd0((undefined4 *)((int)param_1 + 0x10));
  puVar1 = (undefined4 *)((int)param_1 + 0x30);
  iVar2 = 7;
  do {
    free((void *)*puVar1);
    puVar1 = puVar1 + 4;
    iVar2 += -1;
  } while (iVar2 != 0);
  free(*(void **)((int)param_1 + 0x24));
  free(*(void **)((int)param_1 + 0x98));
  free(*(void **)((int)param_1 + 0xa0));
  memset(param_1,0,0xb4);
  return;
}



undefined * __cdecl FUN_004584a0(int param_1)

{
  return (&PTR_DAT_00479fc0)[param_1];
}



void __cdecl
FUN_004584b0(undefined4 *param_1,int param_2,int param_3,uint param_4,int param_5,uint param_6)

{
  float fVar1;
  undefined *puVar2;
  undefined *puVar3;
  int iVar4;
  uint uVar5;
  int iVar6;
  int iVar7;
  float *pfVar8;
  uint uVar9;
  int iVar10;
  int iVar11;
  int iVar12;
  float *pfVar13;
  int iVar14;
  int iVar15;
  undefined4 *puVar16;
  
  uVar5 = -(uint)(param_5 != 0) & param_4;
  uVar9 = -(uint)(param_5 != 0) & param_6;
  puVar2 = (&PTR_DAT_00479fc0)[*(int *)(param_2 + uVar9 * 4)];
  puVar3 = (&PTR_DAT_00479fc0)[*(int *)(param_2 + uVar5 * 4)];
  iVar4 = *(int *)(param_3 + uVar5 * 4);
  iVar11 = *(int *)(param_3 + param_5 * 4);
  iVar15 = *(int *)(param_3 + uVar9 * 4);
  iVar10 = (int)(iVar11 + (iVar11 >> 0x1f & 3U)) >> 2;
  iVar14 = iVar10 - ((int)(iVar4 + (iVar4 >> 0x1f & 3U)) >> 2);
  iVar10 = (iVar11 / 2 - ((int)(iVar15 + (iVar15 >> 0x1f & 3U)) >> 2)) + iVar10;
  iVar12 = iVar4 / 2 + iVar14;
  iVar4 = iVar15 / 2 + iVar10;
  iVar6 = 0;
  iVar7 = iVar14;
  puVar16 = param_1;
  if (0 < iVar14) {
    for (; iVar6 = iVar14, iVar7 != 0; iVar7 = iVar7 + -1) {
      *puVar16 = 0;
      puVar16 = puVar16 + 1;
    }
  }
  param_2 = 0;
  if (iVar6 < iVar12) {
    if (3 < iVar12 - iVar6) {
      iVar14 = ((iVar12 - iVar6) - 4U >> 2) + 1;
      iVar7 = iVar6 + 2;
      param_2 = iVar14 * 4;
      iVar6 += param_2;
      pfVar8 = (float *)(param_1 + iVar7);
      pfVar13 = (float *)(puVar3 + 8);
      do {
        iVar14 += -1;
        pfVar8[-2] = pfVar13[-2] * pfVar8[-2];
        pfVar8[-1] = pfVar13[-1] * pfVar8[-1];
        *pfVar8 = *pfVar8 * *pfVar13;
        pfVar8[1] = pfVar13[1] * pfVar8[1];
        pfVar8 = pfVar8 + 4;
        pfVar13 = pfVar13 + 4;
      } while (iVar14 != 0);
    }
    if (iVar6 < iVar12) {
      pfVar8 = (float *)(puVar3 + param_2 * 4);
      do {
        iVar7 = iVar6 + 1;
        fVar1 = *pfVar8;
        pfVar8 = pfVar8 + 1;
        param_1[iVar6] = (float)param_1[iVar6] * fVar1;
        iVar6 = iVar7;
      } while (iVar7 < iVar12);
    }
  }
  iVar15 = iVar15 / 2 + -1;
  if (iVar10 < iVar4) {
    if (3 < iVar4 - iVar10) {
      iVar12 = ((iVar4 - iVar10) - 4U >> 2) + 1;
      iVar7 = iVar10 + 2;
      iVar6 = iVar15 * 4;
      iVar10 += iVar12 * 4;
      iVar15 += iVar12 * -4;
      pfVar8 = (float *)(param_1 + iVar7);
      pfVar13 = (float *)(puVar2 + iVar6 + -8);
      do {
        iVar12 += -1;
        pfVar8[-2] = pfVar13[2] * pfVar8[-2];
        pfVar8[-1] = pfVar13[1] * pfVar8[-1];
        *pfVar8 = *pfVar8 * *pfVar13;
        pfVar8[1] = pfVar13[-1] * pfVar8[1];
        pfVar8 = pfVar8 + 4;
        pfVar13 = pfVar13 + -4;
      } while (iVar12 != 0);
    }
    if (iVar10 < iVar4) {
      pfVar8 = (float *)(puVar2 + iVar15 * 4);
      iVar15 = iVar10;
      do {
        fVar1 = *pfVar8;
        iVar10 = iVar15 + 1;
        pfVar8 = pfVar8 + -1;
        param_1[iVar15] = fVar1 * (float)param_1[iVar15];
        iVar15 = iVar10;
      } while (iVar10 < iVar4);
    }
  }
  if (iVar10 < iVar11) {
    puVar16 = param_1 + iVar10;
    for (iVar11 -= iVar10; iVar11 != 0; iVar11 += -1) {
      *puVar16 = 0;
      puVar16 = puVar16 + 1;
    }
  }
  return;
}



void __cdecl FUN_004586b0(void *param_1)

{
  if (param_1 != NULL) {
    memset(param_1,0,0xc88);
    free(param_1);
  }
  return;
}



void __cdecl FUN_004586e0(int param_1,uint *param_2,int *param_3)

{
  uint *puVar1;
  int iVar2;
  uint *puVar3;
  
  puVar1 = param_2;
  if ((int)*param_2 < 2) {
    FUN_0044f500(param_3,0,1);
  }
  else {
    FUN_0044f500(param_3,1,1);
    FUN_0044f500(param_3,*param_2 - 1,4);
  }
  if ((int)param_2[0x121] < 1) {
    FUN_0044f500(param_3,0,1);
  }
  else {
    FUN_0044f500(param_3,1,1);
    FUN_0044f500(param_3,param_2[0x121] - 1,8);
    puVar3 = param_2 + 0x121;
    param_2 = NULL;
    if (0 < (int)*puVar3) {
      puVar3 = puVar1 + 0x222;
      do {
        iVar2 = FUN_0044e1d0(*(int *)(param_1 + 4));
        FUN_0044f500(param_3,puVar3[-0x100],iVar2);
        iVar2 = FUN_0044e1d0(*(int *)(param_1 + 4));
        FUN_0044f500(param_3,*puVar3,iVar2);
        param_2 = (uint *)((int)param_2 + 1);
        puVar3 = puVar3 + 1;
      } while ((int)param_2 < (int)puVar1[0x121]);
    }
  }
  FUN_0044f500(param_3,0,2);
  if ((1 < (int)*puVar1) && (iVar2 = 0, 0 < *(int *)(param_1 + 4))) {
    param_2 = puVar1 + 1;
    do {
      FUN_0044f500(param_3,*param_2,4);
      param_2 = param_2 + 1;
      iVar2 += 1;
    } while (iVar2 < *(int *)(param_1 + 4));
  }
  iVar2 = 0;
  if (0 < (int)*puVar1) {
    puVar3 = puVar1 + 0x111;
    do {
      FUN_0044f500(param_3,0,8);
      FUN_0044f500(param_3,puVar3[-0x10],8);
      FUN_0044f500(param_3,*puVar3,8);
      iVar2 += 1;
      puVar3 = puVar3 + 1;
    } while (iVar2 < (int)*puVar1);
  }
  return;
}



uint * __cdecl FUN_00458830(int param_1,int *param_2)

{
  int iVar1;
  uint *_Dst;
  uint uVar2;
  int iVar3;
  uint uVar4;
  uint *puVar5;
  int local_8;
  
  _Dst = (uint *)calloc(1,0xc88);
  iVar1 = *(int *)(param_1 + 0x1c);
  memset(_Dst,0,0xc88);
  uVar2 = FUN_0044f700(param_2,1);
  if (uVar2 == 0) {
    *_Dst = 1;
  }
  else {
    uVar2 = FUN_0044f700(param_2,4);
    *_Dst = uVar2 + 1;
  }
  uVar2 = FUN_0044f700(param_2,1);
  if (uVar2 != 0) {
    uVar2 = FUN_0044f700(param_2,8);
    _Dst[0x121] = uVar2 + 1;
    local_8 = 0;
    if (0 < (int)(uVar2 + 1)) {
      puVar5 = _Dst + 0x222;
      do {
        iVar3 = FUN_0044e1d0(*(int *)(param_1 + 4));
        uVar2 = FUN_0044f700(param_2,iVar3);
        puVar5[-0x100] = uVar2;
        iVar3 = FUN_0044e1d0(*(int *)(param_1 + 4));
        uVar4 = FUN_0044f700(param_2,iVar3);
        *puVar5 = uVar4;
        if (((((int)uVar2 < 0) || ((int)uVar4 < 0)) || (uVar2 == uVar4)) ||
           ((*(int *)(param_1 + 4) <= (int)uVar2 || (*(int *)(param_1 + 4) <= (int)uVar4))))
        goto LAB_004589dd;
        local_8 += 1;
        puVar5 = puVar5 + 1;
      } while (local_8 < (int)_Dst[0x121]);
    }
  }
  uVar2 = FUN_0044f700(param_2,2);
  if ((int)uVar2 < 1) {
    if ((1 < (int)*_Dst) && (0 < *(int *)(param_1 + 4))) {
      iVar3 = 0;
      puVar5 = _Dst;
      do {
        puVar5 = puVar5 + 1;
        uVar2 = FUN_0044f700(param_2,4);
        *puVar5 = uVar2;
        if ((int)*_Dst <= (int)uVar2) goto LAB_004589dd;
        iVar3 += 1;
      } while (iVar3 < *(int *)(param_1 + 4));
    }
    local_8 = 0;
    if (0 < (int)*_Dst) {
      puVar5 = _Dst + 0x111;
      do {
        FUN_0044f700(param_2,8);
        uVar2 = FUN_0044f700(param_2,8);
        puVar5[-0x10] = uVar2;
        if (*(int *)(iVar1 + 0x10) <= (int)uVar2) goto LAB_004589dd;
        uVar2 = FUN_0044f700(param_2,8);
        *puVar5 = uVar2;
        if (*(int *)(iVar1 + 0x14) <= (int)uVar2) goto LAB_004589dd;
        local_8 += 1;
        puVar5 = puVar5 + 1;
      } while (local_8 < (int)*_Dst);
    }
    return _Dst;
  }
LAB_004589dd:
  FUN_004586b0(_Dst);
  return NULL;
}



float10 FUN_004589f0(void)

{
  float fVar1;
  uint *in_EAX;
  
  fVar1 = (float)(*in_EAX & 0x7fffffff);
  if (false) {
    fVar1 = fVar1 + 4.2949673e+09;
  }
  return (float10)(fVar1 * 7.1771143e-07 - 764.6162);
}



// WARNING: Function: __alloca_probe_16 replaced with injection: alloca_probe
// WARNING: Unable to track spacebase fully for stack

void __cdecl FUN_00458a30(int *param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int *piVar7;
  float *pfVar8;
  undefined4 uVar9;
  int iVar10;
  undefined *puVar11;
  code *pcVar12;
  int iVar13;
  int iVar14;
  uint uVar15;
  undefined4 *puVar16;
  int *piVar17;
  int *piVar18;
  int iVar19;
  int iVar20;
  int iVar21;
  int iVar22;
  int iVar23;
  int iVar24;
  int *piVar25;
  int iVar26;
  undefined4 uVar27;
  undefined4 *puVar28;
  undefined4 uVar29;
  int iVar30;
  int extraout_EDX;
  int extraout_EDX_00;
  float *extraout_EDX_01;
  void *this;
  int iVar31;
  undefined1 *puVar32;
  undefined1 *puVar33;
  undefined1 *puVar34;
  undefined1 *puVar35;
  int *piVar36;
  float10 fVar37;
  float10 fVar38;
  int aiStack_d4 [9];
  float fStack_b0;
  uint auStack_ac [3];
  float fStack_a0;
  uint auStack_9c [3];
  float afStack_90 [2];
  int *local_78;
  float local_48;
  int *local_38;
  undefined1 *local_30;
  undefined4 *local_28;
  int local_24;
  int local_14;
  int *local_10;
  float *local_c;
  
  uVar15 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  iVar1 = *(int *)(param_1[0x10] + 0x68);
  iVar2 = *(int *)(param_1[0x10] + 4);
  iVar3 = *(int *)(iVar2 + 4);
  iVar4 = *(int *)(iVar2 + 0x1c);
  iVar30 = param_1[0x1a];
  iVar26 = param_1[9];
  afStack_90[1] = 6.386318e-39;
  iVar13 = iVar3 * -4;
  afStack_90[1 - iVar3] = (float)(iVar3 * 4);
  afStack_90[-iVar3] = (float)param_1;
  auStack_9c[2 - iVar3] = 0x458a7f;
  puVar16 = (undefined4 *)FUN_0044e270((int)afStack_90[-iVar3],(int)afStack_90[1 - iVar3]);
  auStack_9c[2 - iVar3] = *(int *)(iVar2 + 4) * 4;
  auStack_9c[1 - iVar3] = (uint)param_1;
  auStack_9c[-iVar3] = 0x458a90;
  piVar17 = (int *)FUN_0044e270(auStack_9c[1 - iVar3],auStack_9c[2 - iVar3]);
  auStack_9c[-iVar3] = *(int *)(iVar2 + 4) * 4;
  (&fStack_a0)[-iVar3] = (float)param_1;
  auStack_ac[2 - iVar3] = 0x458aa1;
  piVar18 = (int *)FUN_0044e270((int)(&fStack_a0)[-iVar3],auStack_9c[-iVar3]);
  local_48 = *(float *)(iVar30 + 4);
  iVar5 = *(int *)(iVar2 + 4);
  afStack_90[1 - iVar3] = 6.386418e-39;
  iVar14 = iVar5 * -4;
  local_c = (float *)(&stack0xffffff78 + iVar14 + iVar13);
  iVar6 = param_1[7];
  piVar7 = *(int **)(iVar4 + 0x220 + iVar6 * 4);
  this = (void *)(((-(uint)(iVar6 != 0) & 2) + *(int *)(iVar30 + 8)) * 0x34 + *(int *)(iVar1 + 0x38)
                 );
  param_1[10] = iVar6;
  local_14 = 0;
  if (0 < *(int *)(iVar2 + 4)) {
    afStack_90[(1 - iVar5) - iVar3] = 6.386566e-39;
    fVar37 = FUN_004589f0();
    iVar19 = extraout_EDX;
    do {
      pfVar8 = *(float **)(*param_1 + local_14 * 4);
      afStack_90[(1 - iVar5) - iVar3] = (float)iVar19;
      afStack_90[-iVar3 - iVar5] = (float)param_1;
      auStack_9c[(-iVar3 - iVar5) + 2] = 0x458b52;
      iVar19 = FUN_0044e270((int)afStack_90[-iVar3 - iVar5],(int)afStack_90[(1 - iVar5) - iVar3]);
      *(int *)(((int)puVar16 - (int)(&stack0xffffff78 + iVar14 + iVar13)) + (int)local_c) = iVar19;
      iVar19 = param_1[7];
      iVar20 = param_1[6];
      auStack_9c[(-iVar3 - iVar5) + 2] = param_1[8];
      auStack_9c[(1 - iVar5) - iVar3] = iVar19;
      auStack_9c[-iVar3 - iVar5] = iVar20;
      (&fStack_a0)[-iVar3 - iVar5] = (float)iVar4;
      auStack_ac[(2 - iVar5) - iVar3] = iVar1 + 4;
      auStack_ac[(1 - iVar5) - iVar3] = (uint)pfVar8;
      auStack_ac[-iVar3 - iVar5] = 0x458b78;
      FUN_004584b0((undefined4 *)auStack_ac[(1 - iVar5) - iVar3],auStack_ac[(2 - iVar5) - iVar3],
                   (int)(&fStack_a0)[-iVar3 - iVar5],auStack_9c[-iVar3 - iVar5],
                   auStack_9c[(1 - iVar5) - iVar3],auStack_9c[(-iVar3 - iVar5) + 2]);
      iVar19 = param_1[7];
      auStack_ac[-iVar3 - iVar5] =
           *(undefined4 *)
            (((int)puVar16 - (int)(&stack0xffffff78 + iVar14 + iVar13)) + (int)local_c);
      uVar9 = **(undefined4 **)(iVar1 + 0xc + iVar19 * 4);
      (&fStack_b0)[-iVar3 - iVar5] = (float)pfVar8;
      aiStack_d4[(8 - iVar5) - iVar3] = uVar9;
      aiStack_d4[(7 - iVar5) - iVar3] = 0x458b95;
      FUN_004580f0((int *)aiStack_d4[(8 - iVar5) - iVar3],(int)(&fStack_b0)[-iVar3 - iVar5],
                   auStack_ac[-iVar3 - iVar5]);
      iVar19 = param_1[7];
      aiStack_d4[(7 - iVar5) - iVar3] = (int)pfVar8;
      aiStack_d4[(6 - iVar5) - iVar3] = iVar1 + 0x14 + iVar19 * 0xc;
      aiStack_d4[(5 - iVar5) - iVar3] = 0x458ba9;
      FUN_00457290((int *)aiStack_d4[(6 - iVar5) - iVar3]);
      afStack_90[(1 - iVar5) - iVar3] = 6.386764e-39;
      fVar38 = FUN_004589f0();
      local_30 = (undefined1 *)
                 (float)(fVar38 + (float10)(float)(fVar37 + (float10)0.345) + (float10)0.345);
      *pfVar8 = (float)local_30;
      *local_c = (float)local_30;
      if (1 < iVar26 + -1) {
        do {
          afStack_90[(1 - iVar5) - iVar3] = 6.386863e-39;
          fVar38 = FUN_004589f0();
          local_30 = (undefined1 *)
                     (float)(fVar38 * (float10)0.5 + (float10)(float)(fVar37 + (float10)0.345) +
                            (float10)0.345);
          pfVar8[extraout_EDX_00 + 1 >> 1] = (float)local_30;
          if (*local_c < (float)local_30 != (NAN(*local_c) || NAN((float)local_30))) {
            *local_c = (float)local_30;
          }
        } while (extraout_EDX_00 + 2 < iVar26 + -1);
      }
      if (0.0 < *local_c != NAN(*local_c)) {
        *local_c = 0.0;
      }
      if (local_48 < *local_c != (NAN(local_48) || NAN(*local_c))) {
        local_48 = *local_c;
      }
      local_14 += 1;
      local_c = local_c + 1;
      iVar19 = (iVar26 / 2) * 4;
    } while (local_14 < *(int *)(iVar2 + 4));
  }
  iVar20 = iVar26 / 2;
  iVar19 = iVar20 * 4;
  afStack_90[(1 - iVar5) - iVar3] = (float)iVar19;
  afStack_90[-iVar3 - iVar5] = (float)param_1;
  auStack_9c[(-iVar3 - iVar5) + 2] = 0x458c94;
  iVar21 = FUN_0044e270((int)afStack_90[-iVar3 - iVar5],(int)afStack_90[(1 - iVar5) - iVar3]);
  auStack_9c[(-iVar3 - iVar5) + 2] = iVar19;
  auStack_9c[(1 - iVar5) - iVar3] = (uint)param_1;
  auStack_9c[-iVar3 - iVar5] = 0x458ca1;
  iVar22 = FUN_0044e270(auStack_9c[(1 - iVar5) - iVar3],auStack_9c[(-iVar3 - iVar5) + 2]);
  local_14 = 0;
  if (0 < *(int *)(iVar2 + 4)) {
    local_30 = &stack0xffffff78 + ((iVar14 + iVar13) - (int)piVar18);
    piVar36 = piVar18;
    local_10 = piVar7;
    do {
      local_10 = local_10 + 1;
      iVar10 = *local_10;
      uVar9 = *(undefined4 *)
               ((int)puVar16 +
               (int)piVar36 + ((int)local_30 - (int)(&stack0xffffff78 + iVar14 + iVar13)));
      iVar31 = *(int *)(*param_1 + local_14 * 4);
      iVar23 = iVar19 + iVar31;
      afStack_90[(1 - iVar5) - iVar3] = 8.40779e-44;
      afStack_90[-iVar3 - iVar5] = (float)param_1;
      param_1[10] = iVar6;
      auStack_9c[(-iVar3 - iVar5) + 2] = 0x458d0a;
      iVar24 = FUN_0044e270((int)afStack_90[-iVar3 - iVar5],(int)afStack_90[(1 - iVar5) - iVar3]);
      auStack_9c[(-iVar3 - iVar5) + 2] = 0x3c;
      auStack_9c[(1 - iVar5) - iVar3] = 0;
      auStack_9c[-iVar3 - iVar5] = iVar24;
      *piVar36 = iVar24;
      (&fStack_a0)[-iVar3 - iVar5] = 6.387261e-39;
      memset((void *)auStack_9c[-iVar3 - iVar5],auStack_9c[(1 - iVar5) - iVar3],
             auStack_9c[(-iVar3 - iVar5) + 2]);
      local_24 = iVar20;
      if (0 < iVar20) {
        do {
          afStack_90[(1 - iVar5) - iVar3] = 6.387312e-39;
          fVar37 = FUN_004589f0();
          local_24 += -1;
          *extraout_EDX_01 = (float)(fVar37 + (float10)0.345);
        } while (local_24 != 0);
      }
      afStack_90[(1 - iVar5) - iVar3] = (float)iVar21;
      afStack_90[-iVar3 - iVar5] = (float)iVar23;
      auStack_9c[(-iVar3 - iVar5) + 2] = (uint)this;
      auStack_9c[(1 - iVar5) - iVar3] = 0x458d5d;
      FUN_00452000(this,(float *)auStack_9c[(-iVar3 - iVar5) + 2],(int)afStack_90[-iVar3 - iVar5],
                   (float *)afStack_90[(1 - iVar5) - iVar3]);
      afStack_90[(1 - iVar5) - iVar3] = *(float *)(local_30 + (int)piVar36);
      afStack_90[-iVar3 - iVar5] = local_48;
      auStack_9c[(-iVar3 - iVar5) + 2] = iVar22;
      auStack_9c[(1 - iVar5) - iVar3] = iVar31;
      auStack_9c[-iVar3 - iVar5] = (uint)this;
      (&fStack_a0)[-iVar3 - iVar5] = 6.387411e-39;
      FUN_00452200((int *)auStack_9c[-iVar3 - iVar5],auStack_9c[(1 - iVar5) - iVar3],
                   auStack_9c[(-iVar3 - iVar5) + 2],afStack_90[-iVar3 - iVar5],
                   afStack_90[(1 - iVar5) - iVar3]);
      (&fStack_a0)[-iVar3 - iVar5] = (float)iVar23;
      auStack_ac[(2 - iVar5) - iVar3] = uVar9;
      auStack_ac[(1 - iVar5) - iVar3] = iVar31;
      auStack_ac[-iVar3 - iVar5] = 1;
      (&fStack_b0)[-iVar3 - iVar5] = (float)iVar22;
      aiStack_d4[(8 - iVar5) - iVar3] = iVar21;
      aiStack_d4[(7 - iVar5) - iVar3] = (int)this;
      aiStack_d4[(6 - iVar5) - iVar3] = 0x458d9d;
      FUN_00452350((int *)aiStack_d4[(7 - iVar5) - iVar3],aiStack_d4[(8 - iVar5) - iVar3],
                   (int)(&fStack_b0)[-iVar3 - iVar5],auStack_ac[-iVar3 - iVar5],
                   auStack_ac[(1 - iVar5) - iVar3],auStack_ac[(2 - iVar5) - iVar3],
                   (float *)(&fStack_a0)[-iVar3 - iVar5]);
      iVar24 = piVar7[iVar10 + 0x101];
      if (*(int *)(iVar4 + 800 + iVar24 * 4) != 1) goto LAB_0045938f;
      afStack_90[(1 - iVar5) - iVar3] = (float)iVar31;
      afStack_90[-iVar3 - iVar5] = (float)iVar23;
      auStack_9c[(-iVar3 - iVar5) + 2] = *(undefined4 *)(*(int *)(iVar1 + 0x30) + iVar24 * 4);
      auStack_9c[(1 - iVar5) - iVar3] = (uint)param_1;
      auStack_9c[-iVar3 - iVar5] = 0x458dd3;
      piVar25 = FUN_0045c140(auStack_9c[(1 - iVar5) - iVar3],auStack_9c[(-iVar3 - iVar5) + 2],
                             (uint)afStack_90[-iVar3 - iVar5],(int)afStack_90[(1 - iVar5) - iVar3]);
      iVar24 = *piVar36;
      auStack_9c[-iVar3 - iVar5] = (uint)param_1;
      *(int **)(iVar24 + 0x1c) = piVar25;
      (&fStack_a0)[-iVar3 - iVar5] = 6.387542e-39;
      iVar24 = FUN_00458410(auStack_9c[-iVar3 - iVar5]);
      if ((iVar24 != 0) && (*(int *)(*piVar36 + 0x1c) != 0)) {
        afStack_90[(1 - iVar5) - iVar3] = (float)iVar23;
        afStack_90[-iVar3 - iVar5] = (float)uVar9;
        auStack_9c[(-iVar3 - iVar5) + 2] = iVar31;
        auStack_9c[(1 - iVar5) - iVar3] = 2;
        auStack_9c[-iVar3 - iVar5] = iVar22;
        (&fStack_a0)[-iVar3 - iVar5] = (float)iVar21;
        auStack_ac[(2 - iVar5) - iVar3] = (uint)this;
        auStack_ac[(1 - iVar5) - iVar3] = 0x458e11;
        FUN_00452350((int *)auStack_ac[(2 - iVar5) - iVar3],(int)(&fStack_a0)[-iVar3 - iVar5],
                     auStack_9c[-iVar3 - iVar5],auStack_9c[(1 - iVar5) - iVar3],
                     auStack_9c[(-iVar3 - iVar5) + 2],(int)afStack_90[-iVar3 - iVar5],
                     (float *)afStack_90[(1 - iVar5) - iVar3]);
        auStack_ac[(1 - iVar5) - iVar3] = iVar31;
        auStack_ac[-iVar3 - iVar5] = iVar23;
        (&fStack_b0)[-iVar3 - iVar5] =
             (float)*(undefined4 *)(*(int *)(iVar1 + 0x30) + piVar7[iVar10 + 0x101] * 4);
        aiStack_d4[(8 - iVar5) - iVar3] = (int)param_1;
        aiStack_d4[(7 - iVar5) - iVar3] = 0x458e33;
        piVar25 = FUN_0045c140(aiStack_d4[(8 - iVar5) - iVar3],(int)(&fStack_b0)[-iVar3 - iVar5],
                               auStack_ac[-iVar3 - iVar5],auStack_ac[(1 - iVar5) - iVar3]);
        iVar24 = *piVar36;
        aiStack_d4[(7 - iVar5) - iVar3] = iVar23;
        *(int **)(iVar24 + 0x38) = piVar25;
        aiStack_d4[(6 - iVar5) - iVar3] = uVar9;
        aiStack_d4[(5 - iVar5) - iVar3] = iVar31;
        aiStack_d4[(4 - iVar5) - iVar3] = 0;
        aiStack_d4[(3 - iVar5) - iVar3] = iVar22;
        aiStack_d4[(2 - iVar5) - iVar3] = iVar21;
        aiStack_d4[(1 - iVar5) - iVar3] = (int)this;
        aiStack_d4[-iVar3 - iVar5] = 0x458e54;
        FUN_00452350((int *)aiStack_d4[(1 - iVar5) - iVar3],aiStack_d4[(2 - iVar5) - iVar3],
                     aiStack_d4[(3 - iVar5) - iVar3],aiStack_d4[(4 - iVar5) - iVar3],
                     aiStack_d4[(5 - iVar5) - iVar3],aiStack_d4[(6 - iVar5) - iVar3],
                     (float *)aiStack_d4[(7 - iVar5) - iVar3]);
        afStack_90[(1 - iVar5) - iVar3] = (float)iVar31;
        afStack_90[-iVar3 - iVar5] = (float)iVar23;
        auStack_9c[(-iVar3 - iVar5) + 2] =
             *(undefined4 *)(*(int *)(iVar1 + 0x30) + piVar7[iVar10 + 0x101] * 4);
        auStack_9c[(1 - iVar5) - iVar3] = (uint)param_1;
        auStack_9c[-iVar3 - iVar5] = 0x458e79;
        piVar25 = FUN_0045c140(auStack_9c[(1 - iVar5) - iVar3],auStack_9c[(-iVar3 - iVar5) + 2],
                               (uint)afStack_90[-iVar3 - iVar5],(int)afStack_90[(1 - iVar5) - iVar3]
                              );
        *(int **)*piVar36 = piVar25;
        local_24 = 4;
        iVar31 = 0x10000;
        do {
          puVar28 = (undefined4 *)*piVar36;
          uVar9 = puVar28[7];
          afStack_90[(1 - iVar5) - iVar3] = (float)(iVar31 / 7);
          uVar29 = *puVar28;
          afStack_90[-iVar3 - iVar5] = (float)uVar9;
          auStack_9c[(-iVar3 - iVar5) + 2] = uVar29;
          auStack_9c[(1 - iVar5) - iVar3] =
               *(undefined4 *)(*(int *)(iVar1 + 0x30) + piVar7[iVar10 + 0x101] * 4);
          auStack_9c[-iVar3 - iVar5] = (uint)param_1;
          (&fStack_a0)[-iVar3 - iVar5] = 6.387872e-39;
          iVar23 = FUN_0045c5a0(auStack_9c[-iVar3 - iVar5],auStack_9c[(1 - iVar5) - iVar3],
                                auStack_9c[(-iVar3 - iVar5) + 2],(uint *)afStack_90[-iVar3 - iVar5],
                                (int)afStack_90[(1 - iVar5) - iVar3]);
          *(int *)(local_24 + *piVar36) = iVar23;
          iVar31 += 0x10000;
          local_24 += 4;
        } while (iVar31 < 0x70000);
        local_24 = 0x20;
        iVar31 = 0x10000;
        do {
          iVar23 = *piVar36;
          uVar9 = *(undefined4 *)(iVar23 + 0x38);
          afStack_90[(1 - iVar5) - iVar3] = (float)(iVar31 / 7);
          uVar29 = *(undefined4 *)(iVar23 + 0x1c);
          afStack_90[-iVar3 - iVar5] = (float)uVar9;
          auStack_9c[(-iVar3 - iVar5) + 2] = uVar29;
          auStack_9c[(1 - iVar5) - iVar3] =
               *(undefined4 *)(*(int *)(iVar1 + 0x30) + piVar7[iVar10 + 0x101] * 4);
          auStack_9c[-iVar3 - iVar5] = (uint)param_1;
          (&fStack_a0)[-iVar3 - iVar5] = 6.388015e-39;
          iVar23 = FUN_0045c5a0(auStack_9c[-iVar3 - iVar5],auStack_9c[(1 - iVar5) - iVar3],
                                auStack_9c[(-iVar3 - iVar5) + 2],(uint *)afStack_90[-iVar3 - iVar5],
                                (int)afStack_90[(1 - iVar5) - iVar3]);
          *(int *)(local_24 + *piVar36) = iVar23;
          iVar31 += 0x10000;
          local_24 += 4;
        } while (iVar31 < 0x70000);
      }
      local_14 += 1;
      piVar36 = piVar36 + 1;
    } while (local_14 < *(int *)(iVar2 + 4));
  }
  *(float *)(iVar30 + 4) = local_48;
  iVar20 = *(int *)(iVar2 + 4);
  afStack_90[(1 - iVar5) - iVar3] = 6.388136e-39;
  afStack_90[((1 - iVar20) - iVar5) - iVar3] = 6.388151e-39;
  afStack_90[((iVar20 * -2 + 1) - iVar5) - iVar3] = 6.388167e-39;
  afStack_90[((iVar20 * -3 + 1) - iVar5) - iVar3] = 6.388182e-39;
  if (piVar7[0x121] != 0) {
    afStack_90[((iVar20 * -4 + 1) - iVar5) - iVar3] = (float)puVar16;
    afStack_90[(iVar20 * -4 - iVar5) - iVar3] = (float)piVar7;
    auStack_9c[((iVar20 * -4 - iVar5) - iVar3) + 2] = (uint)this;
    auStack_9c[((iVar20 * -4 + 1) - iVar5) - iVar3] = iVar4 + 0xb34;
    auStack_9c[(iVar20 * -4 - iVar5) - iVar3] = (uint)param_1;
    (&fStack_a0)[(iVar20 * -4 - iVar5) - iVar3] = 6.388232e-39;
    local_30 = (undefined1 *)
               FUN_00452b90(auStack_9c[(iVar20 * -4 - iVar5) - iVar3],
                            auStack_9c[((iVar20 * -4 + 1) - iVar5) - iVar3],
                            (int *)auStack_9c[((iVar20 * -4 - iVar5) - iVar3) + 2],
                            (int)afStack_90[(iVar20 * -4 - iVar5) - iVar3],
                            (int)afStack_90[((iVar20 * -4 + 1) - iVar5) - iVar3]);
    (&fStack_a0)[(iVar20 * -4 - iVar5) - iVar3] = (float)local_30;
    auStack_ac[((iVar20 * -4 + 2) - iVar5) - iVar3] = (uint)piVar7;
    auStack_ac[((iVar20 * -4 + 1) - iVar5) - iVar3] = (uint)this;
    auStack_ac[(iVar20 * -4 - iVar5) - iVar3] = (uint)param_1;
    (&fStack_b0)[(iVar20 * -4 - iVar5) - iVar3] = 6.388253e-39;
    local_78 = piVar7;
    FUN_00452d60(auStack_ac[(iVar20 * -4 - iVar5) - iVar3],
                 (int *)auStack_ac[((iVar20 * -4 + 1) - iVar5) - iVar3],
                 auStack_ac[((iVar20 * -4 + 2) - iVar5) - iVar3],
                 (int)(&fStack_a0)[(iVar20 * -4 - iVar5) - iVar3]);
    (&fStack_b0)[(iVar20 * -4 - iVar5) - iVar3] = (float)local_30;
    aiStack_d4[((iVar20 * -4 + 8) - iVar5) - iVar3] = (int)piVar7;
    aiStack_d4[((iVar20 * -4 + 7) - iVar5) - iVar3] = (int)this;
    aiStack_d4[((iVar20 * -4 + 6) - iVar5) - iVar3] = iVar4 + 0xb34;
    aiStack_d4[((iVar20 * -4 + 5) - iVar5) - iVar3] = 0x458ff4;
    FUN_00453660(local_30,piVar7,aiStack_d4[((iVar20 * -4 + 6) - iVar5) - iVar3],
                 (int *)aiStack_d4[((iVar20 * -4 + 7) - iVar5) - iVar3],
                 aiStack_d4[((iVar20 * -4 + 8) - iVar5) - iVar3],
                 (int)(&fStack_b0)[(iVar20 * -4 - iVar5) - iVar3]);
  }
  afStack_90[((iVar20 * -4 + 1) - iVar5) - iVar3] = (float)(*(int *)(iVar2 + 4) * 4);
  afStack_90[(iVar20 * -4 - iVar5) - iVar3] = 0.0;
  auStack_9c[((iVar20 * -4 - iVar5) - iVar3) + 2] =
       (uint)(&stack0xffffff78 + iVar20 * -0x10 + iVar14 + iVar13);
  auStack_9c[((iVar20 * -4 + 1) - iVar5) - iVar3] = 0x45900a;
  memset((void *)auStack_9c[((iVar20 * -4 - iVar5) - iVar3) + 2],
         (int)afStack_90[(iVar20 * -4 - iVar5) - iVar3],
         (size_t)afStack_90[((iVar20 * -4 + 1) - iVar5) - iVar3]);
  puVar32 = &stack0xffffff78 + iVar20 * -0x10 + iVar14 + iVar13;
  if ((*(int *)(*(int *)((int)this + 4) + 500) != 0) &&
     (local_14 = 0, puVar32 = &stack0xffffff78 + iVar20 * -0x10 + iVar14 + iVar13,
     0 < *(int *)(iVar2 + 4))) {
    puVar35 = &stack0xffffff78 + iVar20 * -0x10 + iVar14 + iVar13;
    local_10 = puVar16;
    do {
      *(undefined4 *)(puVar35 + -4) = 0x459058;
      iVar21 = -((uint)(iVar26 * 4) >> 1);
      puVar32 = puVar35 + iVar21;
      *(int *)(puVar35 + iVar21 + -4) = (int)puVar35 + iVar21;
      *(int *)(&stack0xffffff78 + ((iVar20 * -0x10 + iVar14 + iVar13) - (int)puVar16) +
              (int)local_10) = (int)puVar35 + iVar21;
      *(int *)(puVar35 + iVar21 + -8) = *local_10;
      *(void **)(puVar35 + iVar21 + -0xc) = this;
      *(undefined4 *)(puVar35 + iVar21 + -0x10) = 0x45906d;
      FUN_00452ec0(*(int **)(puVar35 + iVar21 + -0xc),*(int *)(puVar35 + iVar21 + -8),
                   *(int *)(puVar35 + iVar21 + -4));
      local_10 = local_10 + 1;
      local_14 += 1;
      puVar35 = puVar35 + iVar21;
    } while (local_14 < *(int *)(iVar2 + 4));
  }
  *(int **)(puVar32 + -4) = param_1;
  *(undefined4 *)(puVar32 + -8) = 0x459086;
  iVar26 = FUN_00458410(*(int *)(puVar32 + -4));
  local_c = (float *)((-(uint)(iVar26 != 0) & 0xfffffff9) + 7);
  *(int **)(puVar32 + -8) = param_1;
  *(undefined4 *)(puVar32 + -0xc) = 0x459099;
  iVar26 = FUN_00458410(*(int *)(puVar32 + -8));
  if ((int)local_c <= (int)((-(uint)(iVar26 != 0) & 7) + 7)) {
    local_28 = (undefined4 *)(iVar30 + 0xc + (int)local_c * 4);
    do {
      uVar9 = *local_28;
      *(undefined4 *)(puVar32 + -4) = 1;
      *(undefined4 *)(puVar32 + -8) = 0;
      *(undefined4 *)(puVar32 + -0xc) = uVar9;
      *(undefined4 *)(puVar32 + -0x10) = 0x4590cf;
      FUN_0044f500(*(int **)(puVar32 + -0xc),*(uint *)(puVar32 + -8),*(int *)(puVar32 + -4));
      *(undefined4 *)(puVar32 + -0x10) = *(undefined4 *)(iVar1 + 0x2c);
      *(int *)(puVar32 + -0x14) = iVar6;
      *(undefined4 *)(puVar32 + -0x18) = uVar9;
      *(undefined4 *)(puVar32 + -0x1c) = 0x4590e3;
      FUN_0044f500(*(int **)(puVar32 + -0x18),*(uint *)(puVar32 + -0x14),*(int *)(puVar32 + -0x10));
      if (param_1[7] != 0) {
        iVar30 = param_1[6];
        *(undefined4 *)(puVar32 + -4) = 1;
        *(int *)(puVar32 + -8) = iVar30;
        *(undefined4 *)(puVar32 + -0xc) = uVar9;
        *(undefined4 *)(puVar32 + -0x10) = 0x4590fb;
        FUN_0044f500(*(int **)(puVar32 + -0xc),*(uint *)(puVar32 + -8),*(int *)(puVar32 + -4));
        iVar30 = param_1[8];
        *(undefined4 *)(puVar32 + -0x10) = 1;
        *(int *)(puVar32 + -0x14) = iVar30;
        *(undefined4 *)(puVar32 + -0x18) = uVar9;
        *(undefined4 *)(puVar32 + -0x1c) = 0x45910a;
        FUN_0044f500(*(int **)(puVar32 + -0x18),*(uint *)(puVar32 + -0x14),*(int *)(puVar32 + -0x10)
                    );
      }
      local_14 = 0;
      if (0 < *(int *)(iVar2 + 4)) {
        piVar36 = piVar17;
        local_10 = piVar7;
        do {
          local_10 = local_10 + 1;
          iVar30 = *local_10;
          uVar29 = *(undefined4 *)(((int)puVar16 - (int)piVar17) + (int)piVar36);
          iVar26 = *(int *)(*param_1 + local_14 * 4);
          *(int *)(puVar32 + -4) = iVar19;
          *(int **)(puVar32 + -8) = param_1;
          *(undefined4 *)(puVar32 + -0xc) = 0x459173;
          iVar21 = FUN_0044e270(*(int *)(puVar32 + -8),*(int *)(puVar32 + -4));
          *(int *)(puVar32 + -0xc) = iVar21;
          *piVar36 = iVar21;
          *(undefined4 *)(puVar32 + -0x10) =
               *(undefined4 *)
                (*(int *)(((int)piVar18 - (int)piVar17) + (int)piVar36) + (int)local_c * 4);
          *(undefined4 *)(puVar32 + -0x14) =
               *(undefined4 *)(*(int *)(iVar1 + 0x30) + piVar7[iVar30 + 0x101] * 4);
          *(int **)(puVar32 + -0x18) = param_1;
          *(undefined4 *)(puVar32 + -0x1c) = uVar9;
          *(undefined4 *)(puVar32 + -0x20) = 0x4591a7;
          uVar27 = FUN_0045c650(*(int **)(puVar32 + -0x1c),*(int *)(puVar32 + -0x18),
                                *(int *)(puVar32 + -0x14),*(uint **)(puVar32 + -0x10),
                                *(void **)(puVar32 + -0xc));
          *(undefined4 *)(&stack0xffffff78 + (iVar13 - (int)piVar17) + (int)piVar36) = uVar27;
          *(undefined4 *)(puVar32 + -0x20) =
               *(undefined4 *)(iVar4 + ((param_1[7] + 0x36) * 0xf + (int)local_c) * 4);
          *(int *)(puVar32 + -0x24) = iVar26;
          *(int *)(puVar32 + -0x28) = iVar21;
          *(undefined4 *)(puVar32 + -0x2c) = uVar29;
          *(void **)(puVar32 + -0x30) = this;
          *(undefined4 *)(puVar32 + -0x34) = 0x4591d6;
          FUN_00451ef0(*(int **)(puVar32 + -0x30),*(int *)(puVar32 + -0x2c),
                       *(int *)(puVar32 + -0x28),*(int *)(puVar32 + -0x24),*(int *)(puVar32 + -0x20)
                      );
          *(undefined4 *)(puVar32 + -0x34) =
               *(undefined4 *)
                (&stack0xffffff78 + ((iVar20 * -0x10 + iVar14 + iVar13) - (int)piVar17) +
                (int)piVar36);
          *(int *)(puVar32 + -0x38) = iVar19 + iVar26;
          *(int *)(puVar32 + -0x3c) = iVar26;
          *(void **)(puVar32 + -0x40) = this;
          *(undefined4 *)(puVar32 + -0x44) = 0x4591ed;
          FUN_00452f80(*(int **)(puVar32 + -0x40),*(int *)(puVar32 + -0x3c),
                       *(float **)(puVar32 + -0x38),*(int *)(puVar32 + -0x34));
          local_14 += 1;
          piVar36 = piVar36 + 1;
        } while (local_14 < *(int *)(iVar2 + 4));
      }
      if (piVar7[0x121] != 0) {
        *(undefined4 *)(puVar32 + -4) =
             *(undefined4 *)(iVar4 + ((param_1[7] + 0x36) * 0xf + (int)local_c) * 4);
        *(undefined1 **)(puVar32 + -8) = &stack0xffffff78 + iVar13;
        *(int **)(puVar32 + -0xc) = piVar17;
        *(int **)(puVar32 + -0x10) = local_78;
        *(undefined1 **)(puVar32 + -0x14) = local_30;
        *(int *)(puVar32 + -0x18) = *param_1;
        *(int **)(puVar32 + -0x1c) = piVar7;
        *(void **)(puVar32 + -0x20) = this;
        *(int *)(puVar32 + -0x24) = iVar4 + 0xb34;
        *(float **)(puVar32 + -0x28) = local_c;
        *(undefined4 *)(puVar32 + -0x2c) = 0x459259;
        FUN_00453270(*(int *)(puVar32 + -0x28),*(int *)(puVar32 + -0x24),*(int **)(puVar32 + -0x20),
                     *(int *)(puVar32 + -0x1c),*(int *)(puVar32 + -0x18),*(int *)(puVar32 + -0x14),
                     *(int **)(puVar32 + -0x10),*(undefined4 *)(puVar32 + -0xc),
                     *(int *)(puVar32 + -8),*(int *)(puVar32 + -4));
      }
      local_14 = 0;
      puVar35 = puVar32;
      if (0 < *piVar7) {
        local_38 = piVar7 + 0x111;
        do {
          iVar30 = *local_38;
          iVar26 = 0;
          iVar21 = 0;
          puVar28 = (undefined4 *)(&stack0xffffff78 + iVar20 * -0xc + iVar14 + iVar13);
          local_10 = piVar7;
          if (0 < *(int *)(iVar2 + 4)) {
            do {
              local_10 = local_10 + 1;
              if (*local_10 == local_14) {
                *puVar28 = 0;
                if (*(int *)(&stack0xffffff78 + iVar26 * 4 + iVar13) != 0) {
                  *puVar28 = 1;
                }
                iVar22 = *(int *)(*param_1 + iVar26 * 4);
                puVar28[iVar20 * 2] = iVar22;
                puVar28[iVar5 + iVar3 + iVar20 + (-iVar5 - iVar3)] = iVar19 + iVar22;
                iVar21 += 1;
                puVar28 = puVar28 + 1;
              }
              iVar26 += 1;
            } while (iVar26 < *(int *)(iVar2 + 4));
          }
          puVar11 = (&PTR_DAT_00472000)[*(int *)(iVar4 + 0x520 + iVar30 * 4)];
          *(int *)(puVar32 + -4) = iVar21;
          *(undefined1 **)(puVar32 + -8) = &stack0xffffff78 + iVar20 * -0xc + iVar14 + iVar13;
          *(undefined1 **)(puVar32 + -0xc) = &stack0xffffff78 + iVar20 * -8 + iVar14 + iVar13;
          pcVar12 = *(code **)(puVar11 + 0x14);
          *(undefined4 *)(puVar32 + -0x10) = *(undefined4 *)(*(int *)(iVar1 + 0x34) + iVar30 * 4);
          *(int **)(puVar32 + -0x14) = param_1;
          puVar33 = puVar32 + -0x18;
          *(undefined4 *)(puVar32 + -0x18) = 0x45931a;
          uVar29 = (*pcVar12)();
          pcVar12 = *(code **)((&PTR_DAT_00472000)[*(int *)(iVar4 + 0x520 + iVar30 * 4)] + 0x18);
          *(undefined4 *)(puVar33 + -4) = uVar29;
          *(int *)(puVar33 + -8) = iVar21;
          *(undefined1 **)(puVar33 + -0xc) = &stack0xffffff78 + iVar20 * -0xc + iVar14 + iVar13;
          *(undefined4 *)(puVar33 + -0x10) = 0;
          *(undefined1 **)(puVar33 + -0x14) = &stack0xffffff78 + iVar20 * -8 + iVar14 + iVar13;
          *(undefined4 *)(puVar33 + -0x18) = *(undefined4 *)(*(int *)(iVar1 + 0x34) + iVar30 * 4);
          *(int **)(puVar33 + -0x1c) = param_1;
          *(undefined4 *)(puVar33 + -0x20) = uVar9;
          puVar34 = puVar33 + -0x24;
          *(undefined4 *)(puVar33 + -0x24) = 0x45934b;
          (*pcVar12)();
          local_38 = local_38 + 1;
          local_14 += 1;
          puVar32 = puVar34 + 0x34;
          puVar35 = puVar34 + 0x34;
        } while (local_14 < *piVar7);
      }
      local_c = (float *)((int)local_c + 1);
      local_28 = local_28 + 1;
      *(int **)(puVar35 + -4) = param_1;
      *(undefined4 *)(puVar35 + -8) = 0x459377;
      iVar30 = FUN_00458410(*(int *)(puVar35 + -4));
      puVar32 = puVar35;
    } while ((int)local_c <= (int)((-(uint)(iVar30 != 0) & 7) + 7));
  }
LAB_0045938f:
  __security_check_cookie(uVar15 ^ (uint)&stack0xfffffffc);
  return;
}



// WARNING: Function: __alloca_probe_16 replaced with injection: alloca_probe
// WARNING: Unable to track spacebase fully for stack

void __cdecl FUN_004593b0(int *param_1,int *param_2)

{
  float fVar1;
  float fVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  code *pcVar6;
  int iVar7;
  undefined4 uVar8;
  uint uVar9;
  uint uVar10;
  int *piVar11;
  uint *puVar12;
  uint *puVar13;
  float *pfVar14;
  int iVar15;
  float *pfVar16;
  int iVar17;
  undefined1 *puVar18;
  undefined1 *puVar19;
  undefined1 *puVar20;
  undefined1 *puVar21;
  undefined1 *puVar22;
  undefined1 *puVar23;
  undefined1 *puVar24;
  int iVar25;
  int iVar26;
  int iVar27;
  int iVar28;
  int iVar29;
  undefined4 uStack_48;
  int local_1c;
  int *local_18;
  int *local_14;
  
  uVar9 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  iVar3 = *(int *)(param_1[0x10] + 4);
  iVar4 = *(int *)(param_1[0x10] + 0x68);
  iVar28 = *(int *)(iVar3 + 0x1c);
  iVar15 = *(int *)(iVar28 + param_1[7] * 4);
  param_1[9] = iVar15;
  iVar5 = *(int *)(iVar3 + 4);
  uStack_48 = 0x4593f8;
  puVar12 = (uint *)(&stack0xffffffbc + iVar5 * -0xc);
  puVar20 = &stack0xffffffbc + iVar5 * -0x10;
  puVar18 = &stack0xffffffbc + iVar5 * -0x10;
  (&uStack_48)[-iVar5] = 0x459402;
  (&uStack_48)[iVar5 * -2] = 0x45940c;
  (&uStack_48)[iVar5 * -3] = 0x459416;
  iVar25 = 0;
  if (0 < iVar5) {
    local_14 = param_2 + 1;
    do {
      pcVar6 = *(code **)((&PTR_DAT_00471ff8)
                          [*(int *)(iVar28 + 800 + param_2[*local_14 + 0x101] * 4)] + 0x14);
      *(undefined4 *)(puVar18 + -4) =
           *(undefined4 *)(*(int *)(iVar4 + 0x30) + param_2[*local_14 + 0x101] * 4);
      *(int **)(puVar18 + -8) = param_1;
      puVar19 = puVar18 + -0xc;
      *(undefined4 *)(puVar18 + -0xc) = 0x459472;
      uVar10 = (*pcVar6)();
      puVar12[-iVar5] = uVar10;
      iVar26 = *param_1;
      *(uint *)(puVar19 + -4) = (uint)(iVar15 * 4) >> 1;
      *(undefined4 *)(puVar19 + -8) = 0;
      *puVar12 = (uint)(uVar10 != 0);
      *(undefined4 *)(puVar19 + -0xc) = *(undefined4 *)(iVar26 + iVar25 * 4);
      *(undefined4 *)(puVar19 + -0x10) = 0x459492;
      memset(*(void **)(puVar19 + -0xc),*(int *)(puVar19 + -8),*(size_t *)(puVar19 + -4));
      local_14 = local_14 + 1;
      iVar25 += 1;
      puVar20 = puVar19 + 8;
      puVar18 = puVar19 + 8;
      puVar12 = puVar12 + 1;
    } while (iVar25 < *(int *)(iVar3 + 4));
  }
  iVar25 = param_2[0x121];
  if (0 < iVar25) {
    piVar11 = param_2 + 0x222;
    do {
      if ((*(int *)(&stack0xffffffbc + piVar11[-0x100] * 4 + iVar5 * -0xc) != 0) ||
         (*(int *)(&stack0xffffffbc + *piVar11 * 4 + iVar5 * -0xc) != 0)) {
        *(undefined4 *)(&stack0xffffffbc + piVar11[-0x100] * 4 + iVar5 * -0xc) = 1;
        *(undefined4 *)(&stack0xffffffbc + *piVar11 * 4 + iVar5 * -0xc) = 1;
      }
      piVar11 = piVar11 + 1;
      iVar25 += -1;
    } while (iVar25 != 0);
  }
  local_1c = 0;
  puVar24 = puVar20;
  if (0 < *param_2) {
    local_18 = param_2 + 0x111;
    do {
      iVar25 = 0;
      iVar26 = 0;
      if (0 < *(int *)(iVar3 + 4)) {
        local_14 = param_2 + 1;
        puVar12 = (uint *)(&stack0xffffffbc + iVar5 * -8);
        do {
          puVar13 = puVar12;
          if (*local_14 == local_1c) {
            iVar26 += 1;
            puVar13 = puVar12 + 1;
            *puVar12 = (uint)(*(int *)(&stack0xffffffbc + iVar25 * 4 + iVar5 * -0xc) != 0);
            puVar13[iVar5 + -1] = *(uint *)(*param_1 + iVar25 * 4);
          }
          local_14 = local_14 + 1;
          iVar25 += 1;
          puVar12 = puVar13;
        } while (iVar25 < *(int *)(iVar3 + 4));
      }
      iVar25 = *local_18;
      pcVar6 = *(code **)((&PTR_DAT_00472000)[*(int *)(iVar28 + 0x520 + iVar25 * 4)] + 0x1c);
      *(int *)(puVar20 + -4) = iVar26;
      *(undefined1 **)(puVar20 + -8) = &stack0xffffffbc + iVar5 * -8;
      *(undefined1 **)(puVar20 + -0xc) = &stack0xffffffbc + iVar5 * -4;
      *(undefined4 *)(puVar20 + -0x10) = *(undefined4 *)(*(int *)(iVar4 + 0x34) + iVar25 * 4);
      *(int **)(puVar20 + -0x14) = param_1;
      puVar21 = puVar20 + -0x18;
      *(undefined4 *)(puVar20 + -0x18) = 0x459594;
      (*pcVar6)();
      local_18 = local_18 + 1;
      local_1c += 1;
      puVar20 = puVar21 + 0x14;
      puVar24 = puVar21 + 0x14;
    } while (local_1c < *param_2);
  }
  iVar25 = param_2[0x121] + -1;
  if (-1 < iVar25) {
    iVar15 /= 2;
    piVar11 = param_2 + param_2[0x121] + 0x221;
    do {
      iVar7 = *(int *)(*param_1 + piVar11[-0x100] * 4);
      iVar17 = *(int *)(*param_1 + *piVar11 * 4);
      iVar26 = 0;
      if (3 < iVar15) {
        pfVar14 = (float *)(iVar7 + 4);
        iVar29 = iVar17 - iVar7;
        iVar27 = (iVar15 - 4U >> 2) + 1;
        pfVar16 = (float *)(iVar17 + 0xc);
        iVar26 = iVar27 * 4;
        do {
          fVar1 = pfVar14[-1];
          fVar2 = pfVar16[-3];
          if (fVar1 <= 0.0) {
            if (fVar2 <= 0.0) {
              pfVar16[-3] = fVar1;
              fVar1 = fVar1 - fVar2;
              goto LAB_00459662;
            }
            pfVar16[-3] = fVar2 + fVar1;
          }
          else if (fVar2 <= 0.0) {
            pfVar16[-3] = fVar1;
            fVar1 = fVar1 + fVar2;
LAB_00459662:
            pfVar14[-1] = fVar1;
          }
          else {
            pfVar16[-3] = fVar1 - fVar2;
          }
          fVar1 = *pfVar14;
          fVar2 = *(float *)(iVar29 + (int)pfVar14);
          if (fVar1 <= 0.0) {
            if (fVar2 <= 0.0) {
              *(float *)(iVar29 + (int)pfVar14) = fVar1;
              fVar1 = fVar1 - fVar2;
              goto LAB_004596ab;
            }
            *(float *)(iVar29 + (int)pfVar14) = fVar2 + fVar1;
          }
          else if (fVar2 <= 0.0) {
            *(float *)(iVar29 + (int)pfVar14) = fVar1;
            fVar1 = fVar1 + fVar2;
LAB_004596ab:
            *pfVar14 = fVar1;
          }
          else {
            *(float *)(iVar29 + (int)pfVar14) = fVar1 - fVar2;
          }
          fVar1 = pfVar14[1];
          fVar2 = pfVar16[-1];
          if (fVar1 <= 0.0) {
            if (fVar2 <= 0.0) {
              pfVar16[-1] = fVar1;
              fVar1 = fVar1 - fVar2;
              goto LAB_004596f4;
            }
            pfVar16[-1] = fVar2 + fVar1;
          }
          else if (fVar2 <= 0.0) {
            pfVar16[-1] = fVar1;
            fVar1 = fVar1 + fVar2;
LAB_004596f4:
            pfVar14[1] = fVar1;
          }
          else {
            pfVar16[-1] = fVar1 - fVar2;
          }
          fVar1 = pfVar14[2];
          fVar2 = *pfVar16;
          if (fVar1 <= 0.0) {
            if (fVar2 <= 0.0) {
              *pfVar16 = fVar1;
              fVar1 = fVar1 - fVar2;
              goto LAB_00459739;
            }
            *pfVar16 = fVar2 + fVar1;
          }
          else if (fVar2 <= 0.0) {
            *pfVar16 = fVar1;
            fVar1 = fVar1 + fVar2;
LAB_00459739:
            pfVar14[2] = fVar1;
          }
          else {
            *pfVar16 = fVar1 - fVar2;
          }
          pfVar14 = pfVar14 + 4;
          pfVar16 = pfVar16 + 4;
          iVar27 += -1;
        } while (iVar27 != 0);
      }
      if (iVar26 < iVar15) {
        pfVar14 = (float *)(iVar7 + iVar26 * 4);
        iVar17 -= iVar7;
        iVar26 = iVar15 - iVar26;
        do {
          fVar1 = *pfVar14;
          fVar2 = *(float *)((int)pfVar14 + iVar17);
          if (fVar1 <= 0.0) {
            if (fVar2 <= 0.0) {
              *(float *)((int)pfVar14 + iVar17) = fVar1;
              fVar1 = fVar1 - fVar2;
              goto LAB_004597b0;
            }
            *(float *)((int)pfVar14 + iVar17) = fVar2 + fVar1;
          }
          else if (fVar2 <= 0.0) {
            *(float *)((int)pfVar14 + iVar17) = fVar1;
            fVar1 = fVar1 + fVar2;
LAB_004597b0:
            *pfVar14 = fVar1;
          }
          else {
            *(float *)((int)pfVar14 + iVar17) = fVar1 - fVar2;
          }
          pfVar14 = pfVar14 + 1;
          iVar26 += -1;
        } while (iVar26 != 0);
      }
      piVar11 = piVar11 + -1;
      iVar25 += -1;
    } while (-1 < iVar25);
  }
  iVar15 = 0;
  puVar22 = puVar24;
  piVar11 = param_2;
  if (0 < *(int *)(iVar3 + 4)) {
    do {
      iVar25 = param_2[piVar11[1] + 0x101];
      pcVar6 = *(code **)((&PTR_DAT_00471ff8)[*(int *)(iVar28 + 800 + iVar25 * 4)] + 0x18);
      *(undefined4 *)(puVar22 + -4) = *(undefined4 *)(*param_1 + iVar15 * 4);
      *(undefined4 *)(puVar22 + -8) = *(undefined4 *)(&stack0xffffffbc + iVar15 * 4 + iVar5 * -0x10)
      ;
      *(undefined4 *)(puVar22 + -0xc) = *(undefined4 *)(*(int *)(iVar4 + 0x30) + iVar25 * 4);
      *(int **)(puVar22 + -0x10) = param_1;
      puVar23 = puVar22 + -0x14;
      *(undefined4 *)(puVar22 + -0x14) = 0x45981c;
      (*pcVar6)();
      iVar15 += 1;
      puVar24 = puVar23 + 0x10;
      puVar22 = puVar23 + 0x10;
      piVar11 = piVar11 + 1;
    } while (iVar15 < *(int *)(iVar3 + 4));
  }
  iVar28 = 0;
  if (0 < *(int *)(iVar3 + 4)) {
    do {
      uVar8 = *(undefined4 *)(*param_1 + iVar28 * 4);
      iVar15 = param_1[7];
      *(undefined4 *)(puVar24 + -4) = uVar8;
      *(undefined4 *)(puVar24 + -8) = uVar8;
      *(undefined4 *)(puVar24 + -0xc) = **(undefined4 **)(iVar4 + 0xc + iVar15 * 4);
      *(undefined4 *)(puVar24 + -0x10) = 0x45984e;
      FUN_00457e80(*(int **)(puVar24 + -0xc),*(float **)(puVar24 + -8),*(float **)(puVar24 + -4));
      iVar28 += 1;
    } while (iVar28 < *(int *)(iVar3 + 4));
  }
  __security_check_cookie(uVar9 ^ (uint)&stack0xfffffffc);
  return;
}



void __cdecl FUN_00459870(void *param_1)

{
  if (param_1 != NULL) {
    memset(param_1,0,0x714);
    free(param_1);
  }
  return;
}



void __cdecl FUN_004598a0(void *param_1)

{
  int iVar1;
  
  if (param_1 != NULL) {
    iVar1 = 0;
    if (0 < *(int *)((int)param_1 + 4)) {
      do {
        if (*(int *)(*(int *)((int)param_1 + 0x14) + iVar1 * 4) != 0) {
          free(*(void **)(*(int *)((int)param_1 + 0x14) + iVar1 * 4));
        }
        iVar1 += 1;
      } while (iVar1 < *(int *)((int)param_1 + 4));
    }
    free(*(void **)((int)param_1 + 0x14));
    iVar1 = 0;
    if (0 < *(int *)((int)param_1 + 0x18)) {
      do {
        free(*(void **)(*(int *)((int)param_1 + 0x1c) + iVar1 * 4));
        iVar1 += 1;
      } while (iVar1 < *(int *)((int)param_1 + 0x18));
    }
    free(*(void **)((int)param_1 + 0x1c));
    memset(param_1,0,0x2c);
    free(param_1);
  }
  return;
}



int __fastcall FUN_00459920(uint param_1)

{
  int iVar1;
  
  iVar1 = 0;
  if (param_1 != 0) {
    do {
      iVar1 += param_1 & 1;
      param_1 >>= 1;
    } while (param_1 != 0);
  }
  return iVar1;
}



uint * __cdecl FUN_00459a20(uint *param_1,int *param_2)

{
  uint uVar1;
  uint *puVar2;
  uint uVar3;
  uint uVar4;
  int iVar5;
  uint *puVar6;
  uint *puVar7;
  int iVar8;
  uint *local_8;
  
  puVar7 = NULL;
  local_8 = NULL;
  puVar2 = (uint *)calloc(1,0x714);
  uVar1 = param_1[7];
  uVar3 = FUN_0044f700(param_2,0x18);
  *puVar2 = uVar3;
  uVar3 = FUN_0044f700(param_2,0x18);
  puVar2[1] = uVar3;
  uVar3 = FUN_0044f700(param_2,0x18);
  puVar2[2] = uVar3 + 1;
  uVar3 = FUN_0044f700(param_2,6);
  puVar2[3] = uVar3 + 1;
  uVar3 = FUN_0044f700(param_2,8);
  iVar8 = 0;
  puVar2[4] = uVar3;
  if (0 < (int)puVar2[3]) {
    param_1 = puVar2 + 5;
    do {
      uVar3 = FUN_0044f700(param_2,3);
      uVar4 = FUN_0044f700(param_2,1);
      if (uVar4 != 0) {
        uVar4 = FUN_0044f700(param_2,5);
        uVar3 |= uVar4 * 8;
      }
      *param_1 = uVar3;
      iVar5 = FUN_00459920(uVar3);
      puVar7 = (uint *)((int)local_8 + iVar5);
      param_1 = param_1 + 1;
      iVar8 += 1;
      local_8 = puVar7;
    } while (iVar8 < (int)puVar2[3]);
  }
  if (0 < (int)puVar7) {
    puVar6 = puVar2 + 0x45;
    param_1 = puVar7;
    do {
      uVar3 = FUN_0044f700(param_2,8);
      *puVar6 = uVar3;
      puVar6 = puVar6 + 1;
      param_1 = (uint *)((int)param_1 + -1);
    } while (param_1 != NULL);
  }
  if (*(int *)(uVar1 + 0x18) <= (int)puVar2[4]) {
LAB_00459b36:
    FUN_00459870(puVar2);
    return NULL;
  }
  iVar8 = 0;
  if (0 < (int)puVar7) {
    puVar6 = puVar2 + 0x45;
    do {
      if (*(int *)(uVar1 + 0x18) <= (int)*puVar6) goto LAB_00459b36;
      iVar8 += 1;
      puVar6 = puVar6 + 1;
    } while (iVar8 < (int)puVar7);
  }
  return puVar2;
}



int * __cdecl FUN_00459b50(int param_1,int param_2)

{
  int iVar1;
  int iVar2;
  int *piVar3;
  void *pvVar4;
  size_t sVar5;
  void *pvVar6;
  int iVar7;
  int iVar8;
  int *piVar9;
  undefined4 extraout_ECX;
  int iVar10;
  undefined4 extraout_EDX;
  uint *puVar11;
  int iVar12;
  int iVar13;
  int iVar14;
  float10 fVar15;
  ulonglong uVar16;
  int local_1c;
  size_t local_14;
  uint local_10;
  
  piVar3 = (int *)calloc(1,0x2c);
  iVar1 = *(int *)(param_2 + 0x10);
  iVar2 = *(int *)(*(int *)(param_1 + 4) + 0x1c);
  sVar5 = *(size_t *)(param_2 + 0xc);
  iVar13 = *(int *)(iVar2 + 0xb20);
  piVar3[3] = iVar13;
  piVar9 = (int *)(iVar13 + iVar1 * 0x2c);
  piVar3[4] = (int)piVar9;
  iVar1 = *piVar9;
  iVar13 = 0;
  local_1c = 0;
  local_14 = 0;
  *piVar3 = param_2;
  piVar3[1] = sVar5;
  pvVar4 = calloc(sVar5,4);
  piVar3[5] = (int)pvVar4;
  if (0 < piVar3[1]) {
    puVar11 = (uint *)(param_2 + 0x14);
    do {
      sVar5 = FUN_0045b230(*puVar11);
      if (sVar5 != 0) {
        if ((int)local_14 < (int)sVar5) {
          local_14 = sVar5;
        }
        pvVar6 = calloc(sVar5,4);
        *(void **)((int)pvVar4 + iVar13 * 4) = pvVar6;
        iVar7 = 0;
        local_10 = 1;
        if (0 < (int)sVar5) {
          piVar9 = (int *)(param_2 + 0x114 + local_1c * 4);
          do {
            if ((*puVar11 & local_10) != 0) {
              local_1c += 1;
              *(int *)(*(int *)((int)pvVar4 + iVar13 * 4) + iVar7 * 4) =
                   *piVar9 * 0x2c + *(int *)(iVar2 + 0xb20);
              piVar9 = piVar9 + 1;
            }
            iVar7 += 1;
            local_10 = local_10 << 1 | (uint)((int)local_10 < 0);
          } while (iVar7 < (int)sVar5);
        }
      }
      iVar13 += 1;
      puVar11 = puVar11 + 1;
    } while (iVar13 < piVar3[1]);
  }
  fVar15 = (float10)_CIpow();
  floor((double)(fVar15 + (float10)0.5));
  uVar16 = FUN_0045db50(extraout_ECX,extraout_EDX);
  piVar3[6] = (int)uVar16;
  piVar3[2] = local_14;
  pvVar4 = malloc((int)uVar16 * 4);
  piVar3[7] = (int)pvVar4;
  iVar2 = piVar3[6];
  iVar13 = 0;
  if (0 < iVar2) {
    iVar7 = piVar3[1];
    do {
      pvVar6 = malloc(iVar1 * 4);
      *(void **)((int)pvVar4 + iVar13 * 4) = pvVar6;
      if (0 < iVar1) {
        iVar10 = 0;
        iVar12 = iVar13;
        iVar14 = iVar2;
        do {
          iVar14 /= iVar7;
          iVar8 = iVar12 / iVar14;
          iVar10 += 1;
          iVar12 -= iVar8 * iVar14;
          *(int *)(*(int *)((int)pvVar4 + iVar13 * 4) + -4 + iVar10 * 4) = iVar8;
        } while (iVar10 < iVar1);
      }
      iVar13 += 1;
    } while (iVar13 < iVar2);
  }
  return piVar3;
}



int __cdecl FUN_00459d30(int *param_1,float *param_2)

{
  float fVar1;
  float *pfVar2;
  float *pfVar3;
  int iVar4;
  int iVar5;
  int *piVar6;
  float *pfVar7;
  int iVar8;
  int iVar9;
  int iVar10;
  int iVar11;
  float local_24;
  int local_1c;
  int local_14;
  float local_10;
  
  piVar6 = *(int **)(param_1[3] + 0x28);
  iVar11 = *param_1;
  local_1c = 0;
  if (0 < iVar11) {
    iVar9 = piVar6[3];
    iVar10 = *piVar6;
    iVar4 = iVar9 >> 1;
    pfVar3 = param_2 + iVar11;
    local_14 = iVar11;
    do {
      fVar1 = pfVar3[-1];
      pfVar3 = pfVar3 + -1;
      if (*(float *)(iVar10 + iVar4 * 4) <= fVar1) {
        iVar5 = iVar4 + 1;
        iVar8 = iVar9 + -1;
        if (iVar5 < iVar8) {
          if (3 < iVar8 - iVar5) {
            pfVar2 = (float *)(iVar10 + 8 + iVar5 * 4);
            do {
              if (fVar1 < pfVar2[-2]) goto LAB_00459eb9;
              if (fVar1 < pfVar2[-1]) {
                iVar5 += 1;
                goto LAB_00459eb9;
              }
              if (fVar1 < *pfVar2) {
                iVar5 += 2;
                goto LAB_00459eb9;
              }
              if (fVar1 < pfVar2[1]) {
                iVar5 += 3;
                goto LAB_00459eb9;
              }
              iVar5 += 4;
              pfVar2 = pfVar2 + 4;
            } while (iVar5 < iVar9 + -4);
          }
          if (iVar5 < iVar8) {
            pfVar2 = (float *)(iVar10 + iVar5 * 4);
            do {
              if (fVar1 < *pfVar2) break;
              iVar5 += 1;
              pfVar2 = pfVar2 + 1;
            } while (iVar5 < iVar8);
          }
        }
      }
      else {
        iVar5 = iVar4;
        if (fVar1 < *(float *)(iVar10 + -4 + iVar4 * 4)) {
          iVar5 = iVar4 + -1;
          if (3 < iVar5) {
            pfVar2 = (float *)(iVar10 + -8 + iVar5 * 4);
            do {
              if (pfVar2[1] < fVar1 != (pfVar2[1] == fVar1)) goto LAB_00459eb9;
              if (*pfVar2 < fVar1 != (*pfVar2 == fVar1)) {
                iVar5 += -1;
                goto LAB_00459eb9;
              }
              if (pfVar2[-1] < fVar1 != (pfVar2[-1] == fVar1)) {
                iVar5 += -2;
                goto LAB_00459eb9;
              }
              if (pfVar2[-2] < fVar1 != (pfVar2[-2] == fVar1)) {
                iVar5 += -3;
                goto LAB_00459eb9;
              }
              iVar5 += -4;
              pfVar2 = pfVar2 + -4;
            } while (3 < iVar5);
          }
          if (0 < iVar5) {
            pfVar2 = (float *)(iVar10 + -4 + iVar5 * 4);
            do {
              if (*pfVar2 < fVar1 != (*pfVar2 == fVar1)) break;
              iVar5 += -1;
              pfVar2 = pfVar2 + -1;
            } while (0 < iVar5);
          }
        }
      }
LAB_00459eb9:
      local_1c = piVar6[2] * local_1c + *(int *)(piVar6[1] + iVar5 * 4);
      local_14 += -1;
    } while (local_14 != 0);
  }
  if (*(int *)(*(int *)(param_1[3] + 8) + local_1c * 4) < 1) {
    local_10 = 0.0;
    local_1c = -1;
    local_14 = 0;
    if (param_1[1] < 1) {
      return -1;
    }
    piVar6 = *(int **)(param_1[3] + 8);
    iVar9 = param_1[4] - (int)param_2;
    pfVar3 = (float *)(param_1[4] + 0xc);
    do {
      if (0 < *piVar6) {
        local_24 = 0.0;
        iVar10 = 0;
        if (3 < iVar11) {
          iVar4 = (iVar11 - 4U >> 2) + 1;
          iVar10 = iVar4 * 4;
          pfVar2 = param_2 + 1;
          pfVar7 = pfVar3;
          do {
            iVar4 += -1;
            fVar1 = *(float *)(iVar9 + -0x10 + (int)(pfVar2 + 4)) - *pfVar2;
            local_24 = (*pfVar7 - pfVar2[2]) * (*pfVar7 - pfVar2[2]) +
                       (pfVar7[-1] - pfVar2[1]) * (pfVar7[-1] - pfVar2[1]) +
                       fVar1 * fVar1 +
                       (pfVar7[-3] - pfVar2[-1]) * (pfVar7[-3] - pfVar2[-1]) + local_24;
            pfVar2 = pfVar2 + 4;
            pfVar7 = pfVar7 + 4;
          } while (iVar4 != 0);
        }
        if (iVar10 < iVar11) {
          iVar4 = iVar11 - iVar10;
          pfVar2 = param_2 + iVar10;
          do {
            iVar4 += -1;
            fVar1 = *(float *)(iVar9 + (int)pfVar2) - *pfVar2;
            local_24 = fVar1 * fVar1 + local_24;
            pfVar2 = pfVar2 + 1;
          } while (iVar4 != 0);
        }
        if ((local_1c == -1) || (local_24 < local_10)) {
          local_10 = local_24;
          local_1c = local_14;
        }
      }
      pfVar3 = pfVar3 + iVar11;
      iVar9 += iVar11 * 4;
      local_14 += 1;
      piVar6 = piVar6 + 1;
    } while (local_14 < param_1[1]);
  }
  if (-1 < local_1c) {
    pfVar3 = (float *)(param_1[4] + local_1c * iVar11 * 4);
    iVar9 = 0;
    if (3 < iVar11) {
      iVar10 = (iVar11 - 4U >> 2) + 1;
      iVar9 = iVar10 * 4;
      pfVar2 = pfVar3;
      pfVar7 = param_2;
      do {
        param_2 = pfVar7 + 4;
        pfVar3 = pfVar2 + 4;
        iVar10 += -1;
        *pfVar7 = *pfVar7 - *pfVar2;
        pfVar7[1] = pfVar7[1] - pfVar2[1];
        pfVar7[2] = pfVar7[2] - pfVar2[2];
        pfVar7[3] = pfVar7[3] - pfVar2[3];
        pfVar2 = pfVar3;
        pfVar7 = param_2;
      } while (iVar10 != 0);
    }
    if (iVar9 < iVar11) {
      iVar11 -= iVar9;
      do {
        fVar1 = *pfVar3;
        pfVar3 = pfVar3 + 1;
        iVar11 += -1;
        *param_2 = *param_2 - fVar1;
        param_2 = param_2 + 1;
      } while (iVar11 != 0);
    }
  }
  return local_1c;
}



int __cdecl FUN_0045a0e0(int *param_1,float *param_2,int param_3,int *param_4)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int local_4;
  
  iVar1 = *param_4;
  iVar2 = param_3 / iVar1;
  local_4 = 0;
  if (iVar2 < 1) {
    return 0;
  }
  do {
    iVar3 = FUN_00459d30(param_4,param_2);
    iVar3 = FUN_004546c0((int)param_4,iVar3,param_1);
    local_4 += iVar3;
    param_2 = param_2 + iVar1;
    iVar2 += -1;
  } while (iVar2 != 0);
  return local_4;
}



int * __cdecl FUN_0045a150(int *param_1,int param_2,uint param_3)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  float fVar4;
  int in_EAX;
  int iVar5;
  int *piVar6;
  void *_Dst;
  int extraout_ECX;
  int extraout_ECX_00;
  uint extraout_EDX;
  uint uVar7;
  int *piVar8;
  int iVar9;
  float *pfVar10;
  int iVar11;
  int iVar12;
  float10 extraout_ST0;
  float10 fVar13;
  ulonglong uVar14;
  float local_70;
  int local_6c;
  uint local_58;
  int local_54;
  
  piVar1 = (int *)*param_1;
  iVar2 = piVar1[3];
  iVar3 = piVar1[2];
  iVar5 = (piVar1[1] - *piVar1) / iVar3;
  piVar6 = (int *)FUN_0044e270(in_EAX,param_3 * 4);
  iVar9 = 0;
  if (0 < (int)param_3) {
    do {
      _Dst = (void *)FUN_0044e270(in_EAX,iVar5 * 4);
      piVar6[iVar9] = (int)_Dst;
      memset(_Dst,0,iVar5 * 4);
      iVar9 += 1;
    } while (iVar9 < (int)param_3);
  }
  local_54 = 0;
  if (0 < iVar5) {
    fVar13 = (float10)0;
    local_6c = 0;
    do {
      iVar9 = *piVar1;
      if (0 < (int)param_3) {
        uVar7 = param_3;
        piVar8 = piVar6;
        local_58 = param_3;
        do {
          local_70 = (float)fVar13;
          iVar12 = iVar9 + local_6c;
          if (0 < iVar3) {
            pfVar10 = (float *)(*(int *)((param_2 - (int)piVar6) + (int)piVar8) +
                               (iVar9 + local_6c) * 4);
            iVar12 = iVar3;
            do {
              fVar4 = ABS(*pfVar10);
              if (local_70 < fVar4 != (NAN(local_70) || NAN(fVar4))) {
                local_70 = fVar4;
              }
              floor((double)(*pfVar10 + 0.5));
              pfVar10 = pfVar10 + 1;
              iVar12 += -1;
            } while (iVar12 != 0);
            fVar13 = (float10)0;
            iVar12 = extraout_ECX;
            uVar7 = extraout_EDX;
          }
          iVar11 = 0;
          uVar14 = (ulonglong)uVar7 << 0x20;
          if (0 < iVar2 + -1) {
            pfVar10 = (float *)(piVar1 + 0x185);
            do {
              uVar7 = (uint)(uVar14 >> 0x20);
              if (local_70 <= pfVar10[-0x40]) {
                if ((float10)*pfVar10 < fVar13) break;
                uVar14 = FUN_0045db50(iVar12,uVar7);
                uVar7 = (uint)(uVar14 >> 0x20);
                iVar12 = extraout_ECX_00;
                fVar13 = extraout_ST0;
                if ((float)(int)uVar14 < *pfVar10) break;
              }
              uVar7 = (uint)(uVar14 >> 0x20);
              iVar11 += 1;
              pfVar10 = pfVar10 + 1;
            } while (iVar11 < iVar2 + -1);
          }
          iVar12 = *piVar8;
          piVar8 = piVar8 + 1;
          local_58 -= 1;
          *(int *)(iVar12 + local_54 * 4) = iVar11;
        } while (local_58 != 0);
      }
      local_6c += iVar3;
      local_54 += 1;
    } while (local_54 < iVar5);
  }
  param_1[10] = param_1[10] + 1;
  return piVar6;
}



int * __cdecl FUN_0045a340(int *param_1,int *param_2,int param_3)

{
  float fVar1;
  float fVar2;
  int *piVar3;
  int iVar4;
  int iVar5;
  size_t _Size;
  int in_EAX;
  int iVar6;
  int *piVar7;
  void *_Dst;
  int *piVar8;
  int iVar9;
  float *pfVar10;
  int iVar11;
  int iVar12;
  int iVar13;
  int local_1c;
  int local_10;
  int local_8;
  
  piVar3 = (int *)*param_1;
  iVar11 = piVar3[1];
  iVar12 = *piVar3;
  iVar4 = piVar3[2];
  iVar5 = piVar3[3];
  iVar6 = (iVar11 - iVar12) / iVar4;
  piVar7 = (int *)FUN_0044e270(in_EAX,4);
  _Size = (((iVar11 - iVar12) * param_3) / iVar4) * 4;
  _Dst = (void *)FUN_0044e270(in_EAX,_Size);
  *piVar7 = (int)_Dst;
  memset(_Dst,0,_Size);
  local_1c = *piVar3 / param_3;
  local_8 = 0;
  if (0 < iVar6) {
    iVar11 = iVar5 + -1;
    do {
      local_10 = 0;
      fVar1 = 0.0;
      fVar2 = 0.0;
      if (0 < iVar4) {
        iVar12 = local_1c * 4;
        do {
          if (fVar1 < ABS(*(float *)(iVar12 + *param_2))) {
            fVar1 = ABS(*(float *)(iVar12 + *param_2));
          }
          iVar13 = 1;
          if (1 < param_3) {
            if (3 < param_3 + -1) {
              iVar9 = (param_3 - 5U >> 2) + 1;
              piVar8 = param_2 + 3;
              iVar13 = iVar9 * 4 + 1;
              do {
                if (fVar2 < ABS(*(float *)(piVar8[-2] + iVar12))) {
                  fVar2 = ABS(*(float *)(piVar8[-2] + iVar12));
                }
                if (fVar2 < ABS(*(float *)(piVar8[-1] + iVar12))) {
                  fVar2 = ABS(*(float *)(piVar8[-1] + iVar12));
                }
                if (fVar2 < ABS(*(float *)(iVar12 + *piVar8))) {
                  fVar2 = ABS(*(float *)(iVar12 + *piVar8));
                }
                if (fVar2 < ABS(*(float *)(piVar8[1] + iVar12))) {
                  fVar2 = ABS(*(float *)(piVar8[1] + iVar12));
                }
                piVar8 = piVar8 + 4;
                iVar9 += -1;
              } while (iVar9 != 0);
            }
            for (; iVar13 < param_3; iVar13 += 1) {
              if (fVar2 < ABS(*(float *)(param_2[iVar13] + iVar12))) {
                fVar2 = ABS(*(float *)(param_2[iVar13] + iVar12));
              }
            }
          }
          local_1c += 1;
          local_10 += param_3;
          iVar12 += 4;
        } while (local_10 < iVar4);
      }
      iVar12 = 0;
      if (3 < iVar11) {
        pfVar10 = (float *)(piVar3 + 0x185);
        do {
          if ((fVar1 <= pfVar10[-0x40]) && (fVar2 <= *pfVar10)) goto LAB_0045a5ee;
          if ((fVar1 <= pfVar10[-0x3f]) && (fVar2 <= pfVar10[1])) {
            iVar12 += 1;
            goto LAB_0045a5ee;
          }
          if ((fVar1 <= pfVar10[-0x3e]) && (fVar2 <= pfVar10[2])) {
            iVar12 += 2;
            goto LAB_0045a5ee;
          }
          if ((fVar1 <= pfVar10[-0x3d]) && (fVar2 <= pfVar10[3])) {
            iVar12 += 3;
            goto LAB_0045a5ee;
          }
          iVar12 += 4;
          pfVar10 = pfVar10 + 4;
        } while (iVar12 < iVar5 + -4);
      }
      if (iVar12 < iVar11) {
        pfVar10 = (float *)(piVar3 + iVar12 + 0x185);
        do {
          if ((fVar1 <= pfVar10[-0x40]) && (fVar2 <= *pfVar10)) break;
          iVar12 += 1;
          pfVar10 = pfVar10 + 1;
        } while (iVar12 < iVar11);
      }
LAB_0045a5ee:
      *(int *)(*piVar7 + local_8 * 4) = iVar12;
      local_8 += 1;
    } while (local_8 < iVar6);
  }
  param_1[10] = param_1[10] + 1;
  return piVar7;
}



undefined4 __cdecl
FUN_0045a620(int *param_1,int param_2,int param_3,int *param_4,undefined *param_5)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  byte bVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  int *unaff_EBX;
  int *piVar10;
  int iVar11;
  int local_42c;
  int local_428;
  int local_418;
  int local_400 [128];
  int local_200 [128];
  
  piVar1 = (int *)*unaff_EBX;
  iVar2 = piVar1[3];
  iVar3 = *(int *)unaff_EBX[4];
  iVar4 = piVar1[2];
  iVar6 = (piVar1[1] - *piVar1) / iVar4;
  memset(local_200,0,0x200);
  memset(local_400,0,0x200);
  local_42c = 0;
  if (0 < unaff_EBX[2]) {
    do {
      iVar11 = 0;
      if (0 < iVar6) {
        do {
          if ((local_42c == 0) && (local_428 = 0, 0 < param_3)) {
            do {
              piVar10 = (int *)(param_4[local_428] + iVar11 * 4);
              iVar7 = *piVar10;
              iVar9 = 1;
              if (1 < iVar3) {
                do {
                  piVar10 = piVar10 + 1;
                  iVar7 *= iVar2;
                  if (iVar9 + iVar11 < iVar6) {
                    iVar7 += *piVar10;
                  }
                  iVar9 += 1;
                } while (iVar9 < iVar3);
              }
              if (iVar7 < *(int *)(unaff_EBX[4] + 4)) {
                iVar7 = FUN_004546c0(unaff_EBX[4],iVar7,param_1);
                unaff_EBX[9] = unaff_EBX[9] + iVar7;
              }
              local_428 += 1;
            } while (local_428 < param_3);
          }
          local_418 = 0;
          if (0 < iVar3) {
            iVar7 = iVar11 * iVar4;
            do {
              if (iVar6 <= iVar11) goto LAB_0045a83c;
              iVar9 = *piVar1;
              bVar5 = (byte)local_42c & 0x1f;
              if (0 < param_3) {
                local_428 = param_3;
                piVar10 = param_4;
                do {
                  if (local_42c == 0) {
                    local_400[*(int *)(*piVar10 + iVar11 * 4)] =
                         local_400[*(int *)(*piVar10 + iVar11 * 4)] + iVar4;
                  }
                  iVar8 = *(int *)(*piVar10 + iVar11 * 4);
                  if (((piVar1[iVar8 + 5] & (1 << bVar5 | 1U >> 0x20 - bVar5)) != 0) &&
                     (iVar8 = *(int *)(*(int *)(unaff_EBX[5] + iVar8 * 4) + local_42c * 4),
                     iVar8 != 0)) {
                    iVar8 = (*(code *)param_5)(param_1,*(int *)((param_2 - (int)param_4) +
                                                               (int)piVar10) + (iVar9 + iVar7) * 4,
                                               iVar4,iVar8,0);
                    unaff_EBX[8] = unaff_EBX[8] + iVar8;
                    local_200[*(int *)(*piVar10 + iVar11 * 4)] =
                         local_200[*(int *)(*piVar10 + iVar11 * 4)] + iVar8;
                  }
                  piVar10 = piVar10 + 1;
                  local_428 += -1;
                } while (local_428 != 0);
              }
              iVar7 += iVar4;
              local_418 += 1;
              iVar11 += 1;
            } while (local_418 < iVar3);
          }
        } while (iVar11 < iVar6);
      }
LAB_0045a83c:
      local_42c += 1;
    } while (local_42c < unaff_EBX[2]);
  }
  return 0;
}



// WARNING: Function: __alloca_probe_16 replaced with injection: alloca_probe
// WARNING: Unable to track spacebase fully for stack

void __cdecl FUN_0045a860(int param_1,int *param_2,int param_3,int param_4,undefined *param_5)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  undefined1 *puVar9;
  undefined1 *puVar10;
  int *piVar11;
  int iVar12;
  int aiStack_4c [3];
  undefined1 *local_30;
  int local_28;
  int local_24;
  int local_1c;
  int local_14;
  int local_10;
  int local_c;
  
  uVar4 = (uint)PTR_DAT_0047a940 ^ (uint)&stack0xfffffffc;
  piVar1 = (int *)*param_2;
  iVar2 = *(int *)param_2[4];
  iVar3 = piVar1[2];
  iVar5 = *(int *)(param_1 + 0x24) >> 1;
  if (piVar1[1] < iVar5) {
    iVar5 = piVar1[1];
  }
  if (0 < iVar5 - *piVar1) {
    iVar6 = (iVar5 - *piVar1) / iVar3;
    aiStack_4c[2] = 0x45a8c3;
    iVar5 = param_4 * -4;
    puVar10 = &stack0xffffffc0 + iVar5;
    iVar12 = 0;
    if (0 < param_4) {
      do {
        aiStack_4c[2 - param_4] = ((iVar6 + -1 + iVar2) / iVar2) * 4;
        aiStack_4c[1 - param_4] = param_1;
        aiStack_4c[-param_4] = 0x45a8df;
        iVar7 = FUN_0044e270(aiStack_4c[1 - param_4],aiStack_4c[2 - param_4]);
        *(int *)(&stack0xffffffc0 + iVar12 * 4 + iVar5) = iVar7;
        iVar12 += 1;
      } while (iVar12 < param_4);
    }
    local_c = 0;
    if (0 < param_2[2]) {
      do {
        local_30 = &stack0xffffffc0 + iVar5;
        iVar12 = 0;
        local_10 = 0;
        if (0 < iVar6) {
          local_14 = 0;
          do {
            if ((local_c == 0) && (iVar7 = 0, 0 < param_4)) {
              do {
                *(int *)(puVar10 + -4) = param_1 + 4;
                *(int *)(puVar10 + -8) = param_2[4];
                *(undefined4 *)(puVar10 + -0xc) = 0x45a92b;
                iVar8 = FUN_00454880(*(int *)(puVar10 + -8),*(int **)(puVar10 + -4));
                if ((iVar8 == -1) ||
                   (iVar8 = *(int *)(param_2[7] + iVar8 * 4),
                   *(int *)(local_14 + *(int *)(&stack0xffffffc0 + iVar7 * 4 + iVar5)) = iVar8,
                   iVar8 == 0)) goto LAB_0045aa37;
                iVar7 += 1;
              } while (iVar7 < param_4);
            }
            local_1c = 0;
            if (0 < iVar2) {
              local_24 = iVar12 * iVar3;
              do {
                piVar11 = (int *)(&stack0xffffffc0 + iVar5);
                if (iVar6 <= iVar12) break;
                local_28 = 0;
                if (0 < param_4) {
                  do {
                    iVar12 = *piVar1;
                    iVar7 = *(int *)(*(int *)(local_14 + *piVar11) + local_1c * 4);
                    if (((piVar1[iVar7 + 5] & 1 << ((byte)local_c & 0x1f)) != 0) &&
                       (iVar7 = *(int *)(*(int *)(param_2[5] + iVar7 * 4) + local_c * 4), iVar7 != 0
                       )) {
                      *(int *)(puVar10 + -4) = iVar3;
                      *(int *)(puVar10 + -8) = param_1 + 4;
                      *(int *)(puVar10 + -0xc) =
                           *(int *)((param_3 - (int)local_30) + (int)piVar11) +
                           (iVar12 + local_24) * 4;
                      *(int *)(puVar10 + -0x10) = iVar7;
                      puVar9 = puVar10 + -0x14;
                      *(undefined4 *)(puVar10 + -0x14) = 0x45a9e0;
                      iVar12 = (*(code *)param_5)();
                      puVar10 = puVar9 + 0x10;
                      if (iVar12 == -1) goto LAB_0045aa37;
                    }
                    local_28 += 1;
                    piVar11 = piVar11 + 1;
                    iVar12 = local_10;
                  } while (local_28 < param_4);
                }
                local_24 += iVar3;
                local_1c += 1;
                iVar12 += 1;
                local_10 = iVar12;
              } while (local_1c < iVar2);
            }
            local_14 += 4;
          } while (iVar12 < iVar6);
        }
        local_c += 1;
      } while (local_c < param_2[2]);
    }
  }
LAB_0045aa37:
  __security_check_cookie(uVar4 ^ (uint)&stack0xfffffffc);
  return;
}



undefined4 __cdecl
FUN_0045aab0(int *param_1,int param_2,undefined4 param_3,int *param_4,int *param_5,int param_6,
            int param_7,int *param_8)

{
  int iVar1;
  int iVar2;
  float *pfVar3;
  undefined4 uVar4;
  int iVar5;
  int iVar6;
  float *pfVar7;
  int *piVar8;
  int *piVar9;
  int iVar10;
  int iVar11;
  int local_10;
  int local_c;
  
  iVar5 = 0;
  iVar10 = *(int *)(param_2 + 0x24) / 2;
  local_10 = 0;
  if (0 < param_7) {
    iVar11 = param_6 - (int)param_5;
    local_c = param_7;
    piVar8 = param_4;
    do {
      piVar9 = (int *)(((int)param_5 - (int)param_4) + (int)piVar8);
      if (*(int *)(iVar11 + (int)piVar9) != 0) {
        if (param_5 != NULL) {
          iVar5 = 0;
          if (3 < iVar10) {
            iVar1 = *piVar8;
            iVar2 = *piVar9;
            iVar6 = (iVar10 - 4U >> 2) + 1;
            iVar5 = iVar6 * 4;
            pfVar3 = (float *)(iVar2 + 4);
            pfVar7 = (float *)(iVar1 + 0xc);
            do {
              iVar6 += -1;
              pfVar3[-1] = pfVar7[-3] + pfVar3[-1];
              *pfVar3 = *(float *)((iVar1 - iVar2) + -0x10 + (int)(pfVar3 + 4)) + *pfVar3;
              pfVar3[1] = pfVar7[-1] + pfVar3[1];
              pfVar3[2] = pfVar3[2] + *pfVar7;
              pfVar3 = pfVar3 + 4;
              pfVar7 = pfVar7 + 4;
            } while (iVar6 != 0);
          }
          if (iVar5 < iVar10) {
            iVar1 = *piVar9;
            iVar2 = *piVar8;
            iVar6 = iVar10 - iVar5;
            pfVar3 = (float *)(iVar1 + iVar5 * 4);
            do {
              iVar6 += -1;
              *pfVar3 = *(float *)((iVar2 - iVar1) + (int)pfVar3) + *pfVar3;
              pfVar3 = pfVar3 + 1;
            } while (iVar6 != 0);
          }
        }
        param_4[local_10] = *piVar8;
        iVar5 = local_10 + 1;
        local_10 = iVar5;
      }
      piVar8 = piVar8 + 1;
      local_c += -1;
    } while (local_c != 0);
    if (iVar5 != 0) {
      uVar4 = FUN_0045a620(param_1,(int)param_4,iVar5,param_8,FUN_0045a0e0);
      if (param_5 != NULL) {
        do {
          if (*(int *)(iVar11 + (int)param_5) != 0) {
            iVar5 = 0;
            if (3 < iVar10) {
              iVar1 = *param_4;
              iVar2 = *param_5;
              iVar6 = (iVar10 - 4U >> 2) + 1;
              iVar5 = iVar6 * 4;
              pfVar3 = (float *)(iVar2 + 4);
              pfVar7 = (float *)(iVar1 + 0xc);
              do {
                iVar6 += -1;
                pfVar3[-1] = pfVar3[-1] - pfVar7[-3];
                *pfVar3 = *pfVar3 - *(float *)((int)pfVar3 + (iVar1 - iVar2));
                pfVar3[1] = pfVar3[1] - pfVar7[-1];
                pfVar3[2] = pfVar3[2] - *pfVar7;
                pfVar3 = pfVar3 + 4;
                pfVar7 = pfVar7 + 4;
              } while (iVar6 != 0);
            }
            if (iVar5 < iVar10) {
              iVar1 = *param_5;
              iVar2 = *param_4;
              iVar6 = iVar10 - iVar5;
              pfVar3 = (float *)(iVar1 + iVar5 * 4);
              do {
                iVar6 += -1;
                *pfVar3 = *pfVar3 - *(float *)((int)pfVar3 + (iVar2 - iVar1));
                pfVar3 = pfVar3 + 1;
              } while (iVar6 != 0);
            }
            param_4 = param_4 + 1;
          }
          param_5 = param_5 + 1;
          param_7 += -1;
        } while (param_7 != 0);
      }
      return uVar4;
    }
  }
  return 0;
}



int * __cdecl
FUN_0045acc0(undefined4 param_1,int *param_2,undefined4 *param_3,int param_4,int param_5)

{
  undefined4 *puVar1;
  int *piVar2;
  uint uVar3;
  
  uVar3 = 0;
  if (0 < param_5) {
    puVar1 = param_3;
    do {
      if (*(int *)((param_4 - (int)param_3) + (int)puVar1) != 0) {
        param_3[uVar3] = *puVar1;
        uVar3 += 1;
      }
      puVar1 = puVar1 + 1;
      param_5 += -1;
    } while (param_5 != 0);
    if (uVar3 != 0) {
      piVar2 = FUN_0045a150(param_2,(int)param_3,uVar3);
      return piVar2;
    }
  }
  return NULL;
}



undefined4 * __cdecl
FUN_0045ad20(int param_1,int *param_2,undefined4 *param_3,int param_4,int param_5)

{
  undefined4 *puVar1;
  int iVar2;
  
  iVar2 = 0;
  if (0 < param_5) {
    puVar1 = param_3;
    do {
      if (*(int *)((param_4 - (int)param_3) + (int)puVar1) != 0) {
        param_3[iVar2] = *puVar1;
        iVar2 += 1;
      }
      puVar1 = puVar1 + 1;
      param_5 += -1;
    } while (param_5 != 0);
    if (iVar2 != 0) {
      FUN_0045a860(param_1,param_2,(int)param_3,iVar2,FUN_00454a40);
      return puVar1;
    }
  }
  return NULL;
}



undefined4 __cdecl
FUN_0045adc0(int *param_1,int param_2,undefined4 param_3,int param_4,int *param_5,int *param_6,
            int *param_7,int *param_8)

{
  float fVar1;
  int *piVar2;
  int iVar3;
  int iVar4;
  undefined4 *puVar5;
  undefined4 uVar6;
  int iVar7;
  float *pfVar8;
  int iVar9;
  int iVar10;
  int iVar11;
  float *pfVar12;
  int iVar13;
  int local_1c;
  int local_18;
  int local_14;
  int *local_10;
  int local_8;
  
  piVar2 = param_7;
  iVar13 = *(int *)(param_2 + 0x24) / 2;
  local_1c = 0;
  local_8 = iVar13;
  iVar3 = FUN_0044e270(param_2,iVar13 * (int)param_7 * 4);
  param_2 = 0;
  if (0 < (int)param_7) {
    local_10 = (int *)(param_4 - (int)param_6);
    param_7 = param_6;
    do {
      local_14 = *(int *)((int)local_10 + (int)param_7);
      if (*param_7 != 0) {
        local_1c += 1;
      }
      iVar11 = 0;
      iVar4 = param_2;
      if (3 < iVar13) {
        iVar9 = (iVar13 - 4U >> 2) + 1;
        iVar11 = iVar9 * 4;
        puVar5 = (undefined4 *)(local_14 + 8);
        do {
          *(undefined4 *)(iVar3 + iVar4 * 4) = puVar5[-2];
          *(undefined4 *)(iVar3 + (iVar4 + (int)piVar2) * 4) = puVar5[-1];
          iVar4 = iVar4 + (int)piVar2 + (int)piVar2;
          *(undefined4 *)(iVar3 + iVar4 * 4) = *puVar5;
          iVar4 += (int)piVar2;
          *(undefined4 *)(iVar3 + iVar4 * 4) = puVar5[1];
          iVar4 += (int)piVar2;
          iVar9 += -1;
          puVar5 = puVar5 + 4;
        } while (iVar9 != 0);
      }
      if (iVar11 < iVar13) {
        puVar5 = (undefined4 *)(iVar3 + iVar4 * 4);
        do {
          iVar4 = iVar11 * 4;
          iVar11 += 1;
          *puVar5 = *(undefined4 *)(local_14 + iVar4);
          puVar5 = puVar5 + (int)piVar2;
        } while (iVar11 < iVar13);
      }
      param_2 += 1;
      param_7 = param_7 + 1;
    } while (param_2 < (int)piVar2);
    if (local_1c != 0) {
      local_18 = iVar3;
      uVar6 = FUN_0045a620(param_1,(int)&local_18,1,param_8,FUN_0045a0e0);
      if (param_5 != NULL) {
        param_2 = 0;
        local_10 = param_5;
        do {
          iVar11 = *(int *)((param_4 - (int)param_5) + (int)local_10);
          iVar4 = *local_10;
          param_7 = NULL;
          iVar9 = param_2;
          if (3 < iVar13) {
            iVar7 = (iVar13 - 4U >> 2) + 1;
            param_7 = (int *)(iVar7 * 4);
            pfVar8 = (float *)(iVar4 + 4);
            pfVar12 = (float *)(iVar11 + 0xc);
            do {
              pfVar8[-1] = (pfVar12[-3] - *(float *)(iVar3 + iVar9 * 4)) + pfVar8[-1];
              iVar13 = iVar9 + (int)piVar2 + (int)piVar2;
              *pfVar8 = (*(float *)((int)pfVar8 + (iVar11 - iVar4)) -
                        *(float *)(iVar3 + (iVar9 + (int)piVar2) * 4)) + *pfVar8;
              iVar10 = iVar13 + (int)piVar2;
              pfVar8[1] = (pfVar12[-1] - *(float *)(iVar3 + iVar13 * 4)) + pfVar8[1];
              iVar9 = iVar10 + (int)piVar2;
              iVar7 += -1;
              pfVar8[2] = (*pfVar12 - *(float *)(iVar3 + iVar10 * 4)) + pfVar8[2];
              pfVar8 = pfVar8 + 4;
              pfVar12 = pfVar12 + 4;
              iVar13 = local_8;
            } while (iVar7 != 0);
          }
          if ((int)param_7 < iVar13) {
            iVar7 = iVar13 - (int)param_7;
            pfVar8 = (float *)(iVar3 + iVar9 * 4);
            pfVar12 = (float *)(iVar4 + (int)param_7 * 4);
            do {
              fVar1 = *pfVar8;
              pfVar8 = pfVar8 + (int)piVar2;
              iVar7 += -1;
              *pfVar12 = (*(float *)((int)pfVar12 + (iVar11 - iVar4)) - fVar1) + *pfVar12;
              pfVar12 = pfVar12 + 1;
            } while (iVar7 != 0);
          }
          param_2 += 1;
          local_10 = local_10 + 1;
        } while (param_2 < (int)piVar2);
      }
      return uVar6;
    }
  }
  return 0;
}



undefined4 __cdecl FUN_0045b020(int param_1,int *param_2,int param_3,int param_4,int param_5)

{
  int iVar1;
  int *piVar2;
  int iVar3;
  int *piVar4;
  int iVar5;
  int *piVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  int local_18;
  int local_14;
  int *local_10;
  
  iVar1 = *(int *)param_2[4];
  piVar2 = (int *)*param_2;
  iVar3 = piVar2[2];
  iVar5 = *(int *)(param_1 + 0x24) * param_5 >> 1;
  if (piVar2[1] < iVar5) {
    iVar5 = piVar2[1];
  }
  if (0 < iVar5 - *piVar2) {
    iVar5 = (iVar5 - *piVar2) / iVar3;
    piVar6 = (int *)FUN_0044e270(param_1,((iVar5 + -1 + iVar1) / iVar1) * 4);
    iVar7 = 0;
    if (0 < param_5) {
      do {
        if (*(int *)(param_4 + iVar7 * 4) != 0) break;
        iVar7 += 1;
      } while (iVar7 < param_5);
    }
    if ((iVar7 != param_5) && (local_14 = 0, 0 < param_2[2])) {
      do {
        local_18 = 0;
        local_10 = piVar6;
        if (0 < iVar5) {
          do {
            if (local_14 == 0) {
              iVar7 = FUN_00454880(param_2[4],(int *)(param_1 + 4));
              if (iVar7 == -1) {
                return 0;
              }
              iVar7 = *(int *)(param_2[7] + iVar7 * 4);
              *local_10 = iVar7;
              if (iVar7 == 0) {
                return 0;
              }
            }
            iVar7 = 0;
            if (0 < iVar1) {
              iVar9 = local_18 * iVar3;
              do {
                if (iVar5 <= local_18) break;
                iVar8 = *(int *)(*local_10 + iVar7 * 4);
                if ((((piVar2[iVar8 + 5] & 1 << ((byte)local_14 & 0x1f)) != 0) &&
                    (piVar4 = *(int **)(*(int *)(param_2[5] + iVar8 * 4) + local_14 * 4),
                    piVar4 != NULL)) &&
                   (iVar8 = FUN_00454c20(piVar4,param_3,*piVar2 + iVar9,param_5,(int *)(param_1 + 4)
                                         ,iVar3), iVar8 == -1)) {
                  return 0;
                }
                local_18 += 1;
                iVar7 += 1;
                iVar9 += iVar3;
              } while (iVar7 < iVar1);
            }
            local_10 = local_10 + 1;
          } while (local_18 < iVar5);
        }
        local_14 += 1;
      } while (local_14 < param_2[2]);
    }
  }
  return 0;
}



void __cdecl FUN_0045b1d0(void *param_1)

{
  if (param_1 != NULL) {
    memset(param_1,0,0x460);
    free(param_1);
  }
  return;
}



void __cdecl FUN_0045b200(void *param_1)

{
  if (param_1 != NULL) {
    memset(param_1,0,0x520);
    free(param_1);
  }
  return;
}



int __fastcall FUN_0045b230(uint param_1)

{
  int iVar1;
  
  iVar1 = 0;
  if (param_1 != 0) {
    do {
      iVar1 += 1;
      param_1 >>= 1;
    } while (param_1 != 0);
  }
  return iVar1;
}



void __cdecl FUN_0045b240(uint *param_1,int *param_2)

{
  uint *puVar1;
  uint uVar2;
  int iVar3;
  uint *puVar4;
  uint *puVar5;
  int iVar6;
  uint *local_10;
  int local_c;
  int local_8;
  
  puVar1 = param_1;
  uVar2 = param_1[0xd2];
  iVar3 = 0;
  local_c = 0;
  local_10 = (uint *)0xffffffff;
  FUN_0044f500(param_2,*param_1,5);
  puVar4 = param_1;
  if (0 < (int)*param_1) {
    do {
      puVar4 = puVar4 + 1;
      FUN_0044f500(param_2,*puVar4,4);
      if ((int)local_10 < (int)*puVar4) {
        local_10 = (uint *)*puVar4;
      }
      iVar3 += 1;
    } while (iVar3 < (int)*param_1);
  }
  local_8 = (int)local_10 + 1;
  if (0 < local_8) {
    local_10 = param_1 + 0x50;
    puVar4 = param_1 + 0x30;
    do {
      FUN_0044f500(param_2,puVar4[-0x10] - 1,3);
      FUN_0044f500(param_2,*puVar4,2);
      if (*puVar4 != 0) {
        FUN_0044f500(param_2,puVar4[0x10],8);
      }
      iVar3 = 0;
      puVar5 = local_10;
      if (0 < 1 << ((byte)*puVar4 & 0x1f)) {
        do {
          FUN_0044f500(param_2,*puVar5 + 1,8);
          iVar3 += 1;
          puVar5 = puVar5 + 1;
        } while (iVar3 < 1 << ((byte)*puVar4 & 0x1f));
      }
      local_10 = local_10 + 8;
      puVar4 = puVar4 + 1;
      local_8 += -1;
    } while (local_8 != 0);
  }
  FUN_0044f500(param_2,param_1[0xd0] - 1,2);
  uVar2 = FUN_0044e1d0(uVar2);
  FUN_0044f500(param_2,uVar2,4);
  iVar3 = 0;
  local_8 = 0;
  if (0 < (int)*param_1) {
    param_1 = param_1 + 1;
    do {
      local_c += puVar1[*param_1 + 0x20];
      if (iVar3 < local_c) {
        iVar6 = local_c - iVar3;
        puVar4 = puVar1 + iVar3 + 0xd3;
        iVar3 += iVar6;
        do {
          FUN_0044f500(param_2,*puVar4,uVar2);
          puVar4 = puVar4 + 1;
          iVar6 += -1;
        } while (iVar6 != 0);
      }
      param_1 = param_1 + 1;
      local_8 += 1;
    } while (local_8 < (int)*puVar1);
  }
  return;
}



uint * __cdecl FUN_0045b3e0(uint *param_1,int *param_2)

{
  uint *puVar1;
  uint uVar2;
  uint uVar3;
  uint uVar4;
  uint *puVar5;
  int iVar6;
  uint *puVar7;
  uint *local_14;
  int local_10;
  
  uVar3 = param_1[7];
  iVar6 = 0;
  local_10 = 0;
  uVar4 = 0xffffffff;
  puVar1 = (uint *)calloc(1,0x460);
  uVar2 = FUN_0044f700(param_2,5);
  *puVar1 = uVar2;
  param_1 = puVar1;
  if (0 < (int)uVar2) {
    do {
      param_1 = param_1 + 1;
      uVar2 = FUN_0044f700(param_2,4);
      *param_1 = uVar2;
      if ((int)uVar4 < (int)uVar2) {
        uVar4 = uVar2;
      }
      iVar6 += 1;
    } while (iVar6 < (int)*puVar1);
  }
  param_1 = NULL;
  if (0 < (int)(uVar4 + 1)) {
    local_14 = puVar1 + 0x50;
    puVar5 = puVar1 + 0x40;
    do {
      uVar2 = FUN_0044f700(param_2,3);
      puVar5[-0x20] = uVar2 + 1;
      uVar2 = FUN_0044f700(param_2,2);
      puVar5[-0x10] = uVar2;
      if ((int)uVar2 < 0) {
LAB_0045b5f9:
        FUN_0045b1d0(puVar1);
        return NULL;
      }
      if (uVar2 != 0) {
        uVar2 = FUN_0044f700(param_2,8);
        *puVar5 = uVar2;
      }
      if (((int)*puVar5 < 0) || (*(int *)(uVar3 + 0x18) <= (int)*puVar5)) goto LAB_0045b5f9;
      iVar6 = 0;
      puVar7 = local_14;
      if (0 < 1 << ((byte)puVar5[-0x10] & 0x1f)) {
        do {
          uVar2 = FUN_0044f700(param_2,8);
          uVar2 -= 1;
          *puVar7 = uVar2;
          if (((int)uVar2 < -1) || (*(int *)(uVar3 + 0x18) <= (int)uVar2)) goto LAB_0045b5f9;
          iVar6 += 1;
          puVar7 = puVar7 + 1;
        } while (iVar6 < 1 << ((byte)puVar5[-0x10] & 0x1f));
      }
      local_14 = local_14 + 8;
      param_1 = (uint *)((int)param_1 + 1);
      puVar5 = puVar5 + 1;
    } while ((int)param_1 < (int)(uVar4 + 1));
  }
  uVar3 = FUN_0044f700(param_2,2);
  puVar1[0xd0] = uVar3 + 1;
  uVar3 = FUN_0044f700(param_2,4);
  iVar6 = 0;
  param_1 = NULL;
  local_14 = puVar1;
  if (0 < (int)*puVar1) {
    do {
      local_14 = local_14 + 1;
      local_10 += puVar1[*local_14 + 0x20];
      if (iVar6 < local_10) {
        puVar5 = puVar1 + iVar6 + 0xd3;
        do {
          uVar4 = FUN_0044f700(param_2,uVar3);
          *puVar5 = uVar4;
          if (((int)uVar4 < 0) || (1 << ((byte)uVar3 & 0x1f) <= (int)uVar4)) goto LAB_0045b5f9;
          iVar6 += 1;
          puVar5 = puVar5 + 1;
        } while (iVar6 < local_10);
      }
      param_1 = (uint *)((int)param_1 + 1);
    } while ((int)param_1 < (int)*puVar1);
  }
  puVar1[0xd1] = 0;
  puVar1[0xd2] = 1 << ((byte)uVar3 & 0x1f);
  return puVar1;
}



int __cdecl FUN_0045b610(undefined4 *param_1,undefined4 *param_2)

{
  return *(int *)*param_1 - *(int *)*param_2;
}



int __fastcall FUN_0045b890(int param_1,uint param_2,int param_3,int param_4)

{
  uint in_EAX;
  uint uVar1;
  int iVar2;
  uint uVar3;
  
  uVar3 = param_2 & 0x7fff;
  uVar1 = (in_EAX & 0x7fff) - uVar3;
  iVar2 = (int)(((uVar1 ^ (int)uVar1 >> 0x1f) - ((int)uVar1 >> 0x1f)) * (param_1 - param_3)) /
          (param_4 - param_3);
  if ((int)uVar1 < 0) {
    return uVar3 - iVar2;
  }
  return iVar2 + uVar3;
}



uint __fastcall FUN_0045b8e0(undefined4 param_1,undefined4 param_2)

{
  uint uVar1;
  ulonglong uVar2;
  
  uVar2 = FUN_0045db50(param_1,param_2);
  uVar1 = (uint)uVar2;
  if (0x3ff < (int)uVar1) {
    return 0x3ff;
  }
  return uVar1 & ((int)uVar1 < 0) - 1;
}



void __thiscall FUN_0045b910(void *this,int param_1,int param_2,int param_3,int param_4,int param_5)

{
  int iVar1;
  int iVar2;
  float *pfVar3;
  uint uVar4;
  int iVar5;
  uint uVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  int iVar10;
  int local_8;
  
  iVar9 = param_3 - param_2;
  uVar4 = (int)this - param_4;
  iVar2 = (int)uVar4 / iVar9;
  if ((int)uVar4 < 0) {
    local_8 = iVar2 + -1;
  }
  else {
    local_8 = iVar2 + 1;
  }
  uVar6 = iVar2 * iVar9 >> 0x1f;
  iVar8 = ((uVar4 ^ (int)uVar4 >> 0x1f) - ((int)uVar4 >> 0x1f)) - ((iVar2 * iVar9 ^ uVar6) - uVar6);
  iVar5 = 0;
  if (param_3 < param_1) {
    param_1 = param_3;
  }
  if (param_2 < param_1) {
    *(float *)(param_5 + param_2 * 4) =
         *(float *)(&DAT_0047a058 + param_4 * 4) * *(float *)(param_5 + param_2 * 4);
  }
  iVar7 = param_2 + 1;
  if (iVar7 < param_1) {
    if (3 < param_1 - iVar7) {
      param_3 = ((param_1 - iVar7) - 4U >> 2) + 1;
      iVar1 = iVar7 * 4;
      iVar7 += param_3 * 4;
      pfVar3 = (float *)(param_5 + 8 + iVar1);
      do {
        iVar5 += iVar8;
        iVar1 = iVar2;
        if (iVar9 <= iVar5) {
          iVar5 -= iVar9;
          iVar1 = local_8;
        }
        iVar5 += iVar8;
        pfVar3[-2] = *(float *)(&DAT_0047a058 + (param_4 + iVar1) * 4) * pfVar3[-2];
        iVar10 = iVar2;
        if (iVar9 <= iVar5) {
          iVar5 -= iVar9;
          iVar10 = local_8;
        }
        iVar10 = param_4 + iVar1 + iVar10;
        iVar5 += iVar8;
        pfVar3[-1] = *(float *)(&DAT_0047a058 + iVar10 * 4) * pfVar3[-1];
        iVar1 = iVar2;
        if (iVar9 <= iVar5) {
          iVar5 -= iVar9;
          iVar1 = local_8;
        }
        iVar10 += iVar1;
        iVar5 += iVar8;
        *pfVar3 = *(float *)(&DAT_0047a058 + iVar10 * 4) * *pfVar3;
        iVar1 = iVar2;
        if (iVar9 <= iVar5) {
          iVar5 -= iVar9;
          iVar1 = local_8;
        }
        param_4 = iVar10 + iVar1;
        param_3 += -1;
        pfVar3[1] = *(float *)(&DAT_0047a058 + param_4 * 4) * pfVar3[1];
        pfVar3 = pfVar3 + 4;
      } while (param_3 != 0);
    }
    if (iVar7 < param_1) {
      pfVar3 = (float *)(&DAT_0047a058 + param_4 * 4);
      do {
        iVar5 += iVar8;
        iVar1 = iVar2;
        if (iVar9 <= iVar5) {
          iVar5 -= iVar9;
          iVar1 = local_8;
        }
        pfVar3 = pfVar3 + iVar1;
        iVar1 = iVar7 * 4;
        iVar7 += 1;
        *(float *)(param_5 + -4 + iVar7 * 4) = *pfVar3 * *(float *)(param_5 + iVar1);
      } while (iVar7 < param_1);
    }
  }
  return;
}



void __thiscall FUN_0045ba90(void *this,int param_1,int param_2,int param_3)

{
  int iVar1;
  int in_EAX;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  uint uVar6;
  int iVar7;
  uint uVar8;
  
  uVar8 = in_EAX - (int)this;
  iVar4 = param_2 - param_1;
  iVar2 = (int)uVar8 / iVar4;
  iVar5 = iVar2 + -1;
  if (-1 < (int)uVar8) {
    iVar5 = iVar2 + 1;
  }
  uVar6 = iVar2 * iVar4 >> 0x1f;
  iVar3 = param_1 + 1;
  *(void **)(param_3 + param_1 * 4) = this;
  if (iVar3 < param_2) {
    iVar7 = 0;
    do {
      iVar7 += ((uVar8 ^ (int)uVar8 >> 0x1f) - ((int)uVar8 >> 0x1f)) -
               ((iVar2 * iVar4 ^ uVar6) - uVar6);
      iVar1 = iVar2;
      if (iVar4 <= iVar7) {
        iVar7 -= iVar4;
        iVar1 = iVar5;
      }
      this = (void *)((int)this + iVar1);
      *(void **)(param_3 + iVar3 * 4) = this;
      iVar3 += 1;
    } while (iVar3 < param_2);
  }
  return;
}



int __fastcall FUN_0045bb20(uint param_1,int param_2,int param_3,uint param_4,int param_5)

{
  float fVar1;
  int in_EAX;
  int iVar2;
  int extraout_EDX;
  int iVar3;
  int iVar4;
  int *unaff_ESI;
  ulonglong uVar5;
  float *local_30;
  int local_2c;
  int local_28;
  int local_24;
  int local_20;
  int local_1c;
  int local_18;
  int local_14;
  int local_10;
  int local_c;
  int local_8;
  
  unaff_ESI[2] = 0;
  unaff_ESI[3] = 0;
  unaff_ESI[4] = 0;
  unaff_ESI[5] = 0;
  unaff_ESI[6] = 0;
  unaff_ESI[7] = 0;
  local_2c = 0;
  local_24 = 0;
  local_1c = 0;
  local_14 = 0;
  local_c = 0;
  local_28 = 0;
  local_20 = 0;
  local_18 = 0;
  local_10 = 0;
  local_8 = 0;
  iVar3 = 0;
  iVar4 = 0;
  *unaff_ESI = in_EAX;
  unaff_ESI[1] = param_4;
  if ((int)param_1 <= (int)param_4) {
    param_1 -= 1;
    param_4 = param_1;
  }
  if (in_EAX <= (int)param_4) {
    local_30 = (float *)(param_2 + in_EAX * 4);
    iVar2 = param_3 - param_2;
    do {
      param_1 = FUN_0045b8e0(param_1,param_2);
      param_2 = extraout_EDX;
      if (param_1 != 0) {
        fVar1 = *(float *)(iVar2 + (int)local_30) + *(float *)(param_5 + 0x458);
        param_2 = param_1 * param_1;
        if (*local_30 < fVar1 == (*local_30 == fVar1)) {
          local_20 += param_1;
          param_1 *= in_EAX;
          local_28 += in_EAX;
          local_18 += in_EAX * in_EAX;
          local_10 += param_2;
          local_8 += param_1;
          iVar4 += 1;
        }
        else {
          local_24 += param_1;
          param_1 *= in_EAX;
          local_2c += in_EAX;
          local_1c += in_EAX * in_EAX;
          local_14 += param_2;
          local_c += param_1;
          iVar3 += 1;
        }
      }
      local_30 = local_30 + 1;
      in_EAX += 1;
    } while (in_EAX <= (int)param_4);
  }
  uVar5 = FUN_0045db50(iVar3 + 1,param_2);
  iVar2 = (int)uVar5 + 1;
  unaff_ESI[2] = iVar2 * local_2c + local_28;
  unaff_ESI[3] = iVar2 * local_24 + local_20;
  unaff_ESI[4] = iVar2 * local_1c + local_18;
  unaff_ESI[7] = (int)uVar5 * iVar3 + iVar4 + iVar3;
  unaff_ESI[5] = iVar2 * local_14 + local_10;
  unaff_ESI[6] = iVar2 * local_c + local_8;
  return iVar3;
}



void __cdecl FUN_0045bc90(int *param_1,int param_2,int *param_3,int *param_4)

{
  int iVar1;
  int iVar2;
  double dVar3;
  double dVar4;
  double dVar5;
  int iVar6;
  int *piVar7;
  int iVar8;
  undefined4 extraout_ECX;
  undefined4 extraout_ECX_00;
  int iVar9;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  int iVar10;
  int iVar11;
  int iVar12;
  int iVar13;
  ulonglong uVar14;
  int local_40;
  int local_3c;
  int local_38;
  int local_34;
  int local_30;
  int local_2c;
  int local_28;
  int local_24;
  int local_20;
  int local_1c;
  
  iVar1 = *param_1;
  iVar8 = 0;
  iVar2 = param_1[param_2 * 8 + -7];
  iVar10 = 0;
  iVar13 = 0;
  iVar12 = 0;
  iVar9 = 0;
  iVar6 = 0;
  local_2c = 0;
  local_28 = 0;
  local_24 = 0;
  local_20 = 0;
  local_1c = 0;
  local_40 = 0;
  local_3c = 0;
  local_38 = 0;
  local_34 = 0;
  if (1 < param_2) {
    piVar7 = param_1 + 3;
    iVar11 = (param_2 - 2U >> 1) + 1;
    iVar6 = iVar11 * 2;
    do {
      local_1c += piVar7[7];
      local_20 += piVar7[8];
      local_24 += piVar7[9];
      local_28 += piVar7[0xb];
      iVar8 += piVar7[-1];
      iVar9 += *piVar7;
      iVar12 += piVar7[1];
      iVar13 += piVar7[3];
      iVar10 += piVar7[4];
      local_2c += piVar7[0xc];
      piVar7 = piVar7 + 0x10;
      iVar11 += -1;
    } while (iVar11 != 0);
  }
  if (iVar6 < param_2) {
    local_40 = param_1[iVar6 * 8 + 2];
    local_3c = param_1[iVar6 * 8 + 3];
    local_38 = param_1[iVar6 * 8 + 4];
    local_34 = param_1[iVar6 * 8 + 6];
    local_30 = param_1[iVar6 * 8 + 7];
  }
  else {
    local_30 = 0;
  }
  local_30 += local_2c + iVar10;
  local_34 += local_28 + iVar13;
  local_38 += local_24 + iVar12;
  local_3c += local_20 + iVar9;
  iVar6 = *param_3;
  local_40 += local_1c + iVar8;
  if (-1 < iVar6) {
    local_3c += iVar6;
    local_40 += iVar1;
    local_34 += iVar6 * iVar1;
    local_38 += iVar1 * iVar1;
    local_30 += 1;
  }
  iVar6 = *param_4;
  if (-1 < iVar6) {
    local_3c += iVar6;
    local_40 += iVar2;
    local_34 += iVar6 * iVar2;
    local_38 += iVar2 * iVar2;
    local_30 += 1;
  }
  if (local_30 == 0) {
    *param_3 = 0;
    *param_4 = 0;
  }
  else {
    dVar5 = (double)local_40;
    dVar4 = 1.0 / ((double)local_30 * (double)local_38 - dVar5 * dVar5);
    dVar3 = ((double)local_38 * (double)local_3c - (double)local_34 * dVar5) * dVar4;
    dVar4 = dVar4 * ((double)local_30 * (double)local_34 - (double)local_3c * dVar5);
    floor(dVar4 * (double)iVar1 + dVar3 + 0.5);
    uVar14 = FUN_0045db50(extraout_ECX,extraout_EDX);
    *param_3 = (int)uVar14;
    floor((double)iVar2 * dVar4 + dVar3 + 0.5);
    uVar14 = FUN_0045db50(extraout_ECX_00,extraout_EDX_00);
    *param_4 = (int)uVar14;
    if (0x3ff < *param_3) {
      *param_3 = 0x3ff;
    }
    if (0x3ff < *param_4) {
      *param_4 = 0x3ff;
    }
    if (*param_3 < 0) {
      *param_3 = 0;
    }
    if (*param_4 < 0) {
      *param_4 = 0;
      return;
    }
  }
  return;
}



undefined4 __thiscall
FUN_0045bee0(void *this,int param_1,int param_2,int param_3,int param_4,uint param_5,uint param_6)

{
  float fVar1;
  float fVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  uint uVar6;
  uint uVar7;
  uint uVar8;
  uint uVar9;
  int iVar10;
  int iVar11;
  float *pfVar12;
  int iVar13;
  int local_1c;
  int local_18;
  int local_14;
  
  uVar7 = (int)this - param_3;
  iVar13 = param_2 - param_1;
  uVar3 = (int)uVar7 / iVar13;
  if ((int)uVar7 < 0) {
    uVar4 = uVar3 - 1;
  }
  else {
    uVar4 = uVar3 + 1;
  }
  local_1c = param_3;
  local_14 = 0;
  uVar5 = FUN_0045b8e0(uVar7,(int)uVar7 % iVar13);
  uVar8 = (int)(uVar3 * iVar13) >> 0x1f;
  iVar11 = (param_3 - uVar5) * (param_3 - uVar5);
  local_18 = 1;
  fVar2 = *(float *)(param_5 + param_1 * 4) + *(float *)(param_6 + 0x458);
  fVar1 = *(float *)(param_4 + param_1 * 4);
  if (fVar1 < fVar2 != (fVar1 == fVar2)) {
    if ((float)param_3 + *(float *)(param_6 + 0x448) < (float)(int)uVar5) {
      return 1;
    }
    if ((float)(int)uVar5 < (float)param_3 - *(float *)(param_6 + 0x44c)) {
      return 1;
    }
  }
  param_3 = param_1 + 1;
  if (param_3 < param_2) {
    pfVar12 = (float *)(param_4 + param_3 * 4);
    iVar10 = param_5 - param_4;
    uVar5 = param_6;
    do {
      local_14 += ((uVar7 ^ (int)uVar7 >> 0x1f) - ((int)uVar7 >> 0x1f)) -
                  ((uVar3 * iVar13 ^ uVar8) - uVar8);
      uVar9 = uVar3;
      uVar6 = uVar3;
      if (iVar13 <= local_14) {
        local_14 -= iVar13;
        uVar5 = uVar4;
        uVar9 = param_5;
        uVar6 = uVar4;
      }
      local_1c += uVar6;
      uVar5 = FUN_0045b8e0(uVar5,uVar9);
      local_18 += 1;
      iVar11 += (local_1c - uVar5) * (local_1c - uVar5);
      fVar1 = *(float *)(iVar10 + (int)pfVar12) + *(float *)(param_6 + 0x458);
      if ((*pfVar12 < fVar1 != (*pfVar12 == fVar1)) && (uVar5 != 0)) {
        if ((float)local_1c + *(float *)(param_6 + 0x448) < (float)(int)uVar5) {
          return 1;
        }
        if ((float)(int)uVar5 < (float)local_1c - *(float *)(param_6 + 0x44c)) {
          return 1;
        }
      }
      param_3 += 1;
      pfVar12 = pfVar12 + 1;
      param_5 = param_6;
    } while (param_3 < param_2);
  }
  fVar1 = (*(float *)(param_6 + 0x448) * *(float *)(param_6 + 0x448)) / (float)local_18;
  if (*(float *)(param_6 + 0x450) < fVar1 != (NAN(*(float *)(param_6 + 0x450)) || NAN(fVar1))) {
    return 0;
  }
  fVar1 = (*(float *)(param_6 + 0x44c) * *(float *)(param_6 + 0x44c)) / (float)local_18;
  if ((*(float *)(param_6 + 0x450) < fVar1 == (NAN(*(float *)(param_6 + 0x450)) || NAN(fVar1))) &&
     (*(float *)(param_6 + 0x450) < (float)(iVar11 / local_18) !=
      (NAN(*(float *)(param_6 + 0x450)) || NAN((float)(iVar11 / local_18))))) {
    return 1;
  }
  return 0;
}



int __fastcall FUN_0045c120(int param_1,int param_2)

{
  int iVar1;
  int in_EAX;
  int iVar2;
  
  iVar2 = *(int *)(in_EAX + param_1 * 4);
  if (iVar2 < 0) {
    return *(int *)(param_2 + param_1 * 4);
  }
  iVar1 = *(int *)(param_2 + param_1 * 4);
  if (-1 < iVar1) {
    iVar2 = iVar2 + iVar1 >> 1;
  }
  return iVar2;
}



int * __cdecl FUN_0045c140(int param_1,int param_2,uint param_3,int param_4)

{
  void *this;
  int iVar1;
  uint uVar2;
  uint uVar3;
  int iVar4;
  int extraout_EDX;
  int extraout_EDX_00;
  int iVar5;
  int *piVar6;
  int *piVar7;
  int iVar8;
  int **ppiVar9;
  uint *puVar10;
  int *local_d34;
  int *local_d30;
  uint local_d2c;
  int *local_d28;
  int local_d24;
  int *local_d20;
  int *local_d1c;
  int *local_d18;
  int *local_d14 [65];
  int *local_c10 [65];
  int local_b0c [65];
  uint local_a08 [65];
  int local_904 [65];
  int local_800 [512];
  
  local_d2c = *(uint *)(param_2 + 0x510);
  iVar5 = *(int *)(param_2 + 0x504);
  local_d20 = *(int **)(param_2 + 0x508);
  piVar7 = NULL;
  local_d34 = NULL;
  if (0 < iVar5) {
    ppiVar9 = local_c10;
    for (iVar4 = iVar5; iVar4 != 0; iVar4 += -1) {
      *ppiVar9 = (int *)0xffffff38;
      ppiVar9 = ppiVar9 + 1;
    }
  }
  if (0 < iVar5) {
    ppiVar9 = local_d14;
    for (iVar4 = iVar5; iVar4 != 0; iVar4 += -1) {
      *ppiVar9 = (int *)0xffffff38;
      ppiVar9 = ppiVar9 + 1;
    }
    puVar10 = local_a08;
    for (iVar4 = iVar5; iVar4 != 0; iVar4 += -1) {
      *puVar10 = 0;
      puVar10 = puVar10 + 1;
    }
    if (0 < iVar5) {
      piVar6 = local_b0c;
      for (iVar4 = iVar5; iVar4 != 0; iVar4 += -1) {
        *piVar6 = 1;
        piVar6 = piVar6 + 1;
      }
      piVar6 = local_904;
      for (iVar4 = iVar5; iVar4 != 0; iVar4 += -1) {
        *piVar6 = -1;
        piVar6 = piVar6 + 1;
      }
    }
  }
  local_d24 = iVar5;
  if (iVar5 == 0) {
    local_d34 = (int *)FUN_0045bb20((uint)local_d20,param_4,param_3,(uint)local_d20,local_d2c);
  }
  else {
    iVar4 = 0;
    if (iVar5 == 1 || iVar5 + -1 < 0) {
      return NULL;
    }
    do {
      iVar8 = FUN_0045bb20((uint)local_d20,param_4,param_3,*(uint *)(param_2 + 4 + iVar4 * 4),
                           local_d2c);
      local_d34 = (int *)((int)local_d34 + iVar8);
      iVar4 += 1;
    } while (iVar4 < iVar5 + -1);
  }
  if (local_d34 != NULL) {
    local_d30 = (int *)0xffffff38;
    local_d34 = (int *)0xffffff38;
    FUN_0045bc90(local_800,iVar5 + -1,(int *)&local_d30,(int *)&local_d34);
    local_c10[0] = local_d30;
    local_d14[0] = local_d30;
    local_d14[1] = local_d34;
    local_c10[1] = local_d34;
    local_d34 = (int *)0x2;
    if (2 < iVar5) {
      local_d30 = (int *)(param_2 + 0x210);
      do {
        iVar5 = *local_d30;
        uVar2 = local_a08[iVar5];
        iVar4 = local_b0c[iVar5];
        if (local_904[uVar2] != iVar4) {
          iVar8 = *(int *)(param_2 + 0x208 + uVar2 * 4);
          local_904[uVar2] = iVar4;
          local_d28 = (int *)FUN_0045c120(uVar2,(int)local_d14);
          this = (void *)FUN_0045c120(iVar4,extraout_EDX);
          if ((local_d28 == (int *)0xffffffff) || (this == (void *)0xffffffff)) {
                    // WARNING: Subroutine does not return
            exit(1);
          }
          iVar1 = FUN_0045bee0(this,*(int *)(local_d2c + 0x344 + uVar2 * 4),
                               *(int *)(local_d2c + 0x344 + iVar4 * 4),(int)local_d28,param_4,
                               param_3,local_d2c);
          if (iVar1 == 0) {
            local_c10[(int)local_d34] = (int *)0xffffff38;
            local_d14[(int)local_d34] = (int *)0xffffff38;
          }
          else {
            local_d28 = (int *)0xffffff38;
            local_d18 = (int *)0xffffff38;
            local_d1c = (int *)0xffffff38;
            local_d20 = (int *)0xffffff38;
            FUN_0045bc90(local_800 + iVar8 * 8,iVar5 - iVar8,(int *)&local_d28,(int *)&local_d18);
            FUN_0045bc90(local_800 + iVar5 * 8,*(int *)(param_2 + 0x208 + iVar4 * 4) - iVar5,
                         (int *)&local_d1c,(int *)&local_d20);
            local_d14[uVar2] = local_d28;
            if (uVar2 == 0) {
              local_c10[0] = local_d28;
            }
            local_c10[(int)local_d34] = local_d18;
            local_d14[(int)local_d34] = local_d1c;
            local_c10[iVar4] = local_d20;
            if (iVar4 == 1) {
              local_d14[1] = local_d20;
            }
            iVar8 = iVar5;
            if ((-1 < (int)local_d18) || (-1 < (int)local_d1c)) {
              while ((iVar1 = iVar8 + -1, -1 < iVar1 && (local_b0c[iVar1] == iVar4))) {
                local_a08[iVar8 + -0x42] = (uint)local_d34;
                iVar8 = iVar1;
              }
              while ((iVar5 += 1, iVar5 < local_d24 && (local_a08[iVar5] == uVar2))) {
                local_a08[iVar5] = (uint)local_d34;
              }
            }
          }
        }
        local_d30 = local_d30 + 1;
        local_d34 = (int *)((int)local_d34 + 1);
        iVar5 = local_d24;
      } while ((int)local_d34 < local_d24);
    }
    piVar7 = (int *)FUN_0044e270(param_1,iVar5 * 4);
    iVar4 = FUN_0045c120(0,(int)local_d14);
    *piVar7 = iVar4;
    iVar4 = FUN_0045c120(1,extraout_EDX_00);
    iVar8 = 2;
    piVar7[1] = iVar4;
    if (2 < iVar5) {
      local_d30 = (int *)(local_d2c + 0x34c);
      piVar6 = (int *)(param_2 + 0x30c);
      do {
        uVar2 = FUN_0045b890(*local_d30,piVar7[piVar6[0x3f]],
                             *(int *)(local_d2c + 0x344 + piVar6[0x3f] * 4),
                             *(int *)(local_d2c + 0x344 + *piVar6 * 4));
        uVar3 = FUN_0045c120(iVar8,(int)local_d14);
        if (((int)uVar3 < 0) || (uVar2 == uVar3)) {
          piVar7[iVar8] = uVar2 | 0x8000;
        }
        else {
          piVar7[iVar8] = uVar3;
        }
        local_d30 = local_d30 + 1;
        iVar8 += 1;
        piVar6 = piVar6 + 1;
      } while (iVar8 < local_d24);
    }
  }
  return piVar7;
}



int __cdecl FUN_0045c5a0(int param_1,int param_2,int param_3,uint *param_4,int param_5)

{
  int iVar1;
  uint uVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  
  iVar3 = *(int *)(param_2 + 0x504);
  iVar1 = 0;
  if (((param_3 != 0) && (param_4 != NULL)) && (iVar1 = FUN_0044e270(param_1,iVar3 * 4), 0 < iVar3))
  {
    iVar4 = param_3 - (int)param_4;
    iVar5 = iVar1 - (int)param_4;
    do {
      uVar2 = (int)((*param_4 & 0x7fff) * param_5 + 0x8000 +
                   (*(uint *)(iVar4 + (int)param_4) & 0x7fff) * (0x10000 - param_5)) >> 0x10;
      *(uint *)(iVar5 + (int)param_4) = uVar2;
      if (((*(uint *)(iVar4 + (int)param_4) & 0x8000) != 0) && ((*param_4 & 0x8000) != 0)) {
        *(uint *)(iVar5 + (int)param_4) = uVar2 | 0x8000;
      }
      param_4 = param_4 + 1;
      iVar3 += -1;
    } while (iVar3 != 0);
  }
  return iVar1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 __cdecl FUN_0045c650(int *param_1,int param_2,int param_3,uint *param_4,void *param_5)

{
  int *piVar1;
  uint uVar2;
  int *piVar3;
  uint uVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  uint uVar8;
  int iVar9;
  void *pvVar10;
  void *this;
  uint uVar11;
  uint *puVar12;
  int iVar13;
  int iVar14;
  int iVar15;
  int iVar16;
  int *local_168;
  int *local_164;
  uint *local_15c;
  uint local_158;
  int local_154;
  int local_14c;
  int local_144 [16];
  uint local_104 [65];
  
  piVar1 = *(int **)(param_3 + 0x510);
  iVar5 = *(int *)(param_3 + 0x504);
  iVar13 = *(int *)(*(int *)(*(int *)(param_2 + 0x40) + 4) + 0x1c);
  iVar14 = *(int *)(iVar13 + 0xb20);
  if (param_4 == NULL) {
    FUN_0044f500(param_1,0,1);
    memset(param_5,0,(*(int *)(param_2 + 0x24) / 2) * 4);
    _DAT_0047adac += 1;
    return 0;
  }
  iVar16 = 0;
  if (0 < iVar5) {
    do {
      uVar8 = param_4[iVar16] & 0x7fff;
      switch(piVar1[0xd0]) {
      case 1:
        uVar8 = (int)uVar8 >> 2;
        break;
      case 2:
        uVar8 = (int)uVar8 >> 3;
        break;
      case 3:
        uVar8 /= 0xc;
        break;
      case 4:
        uVar8 = (int)uVar8 >> 4;
      }
      param_4[iVar16] = param_4[iVar16] & 0x8000 | uVar8;
      iVar16 += 1;
    } while (iVar16 < iVar5);
  }
  local_104[0] = *param_4;
  local_104[1] = param_4[1];
  if (2 < iVar5) {
    local_164 = piVar1 + 0xd3;
    piVar3 = (int *)(param_3 + 0x30c);
    local_168 = (int *)(iVar5 + -2);
    puVar12 = param_4 + 2;
    do {
      iVar5 = piVar3[0x3f];
      iVar16 = *piVar3;
      uVar8 = param_4[iVar5];
      uVar4 = FUN_0045b890(*local_164,uVar8,piVar1[iVar5 + 0xd1],piVar1[iVar16 + 0xd1]);
      uVar2 = *puVar12;
      if (((uVar2 & 0x8000) == 0) && (uVar4 != uVar2)) {
        uVar11 = *(int *)(param_3 + 0x50c) - uVar4;
        if ((int)uVar4 <= (int)uVar11) {
          uVar11 = uVar4;
        }
        iVar9 = uVar2 - uVar4;
        if (iVar9 < 0) {
          if (iVar9 < (int)-uVar11) {
            iVar9 = (uVar11 - iVar9) + -1;
          }
          else {
            iVar9 = iVar9 * -2 + -1;
          }
        }
        else if (iVar9 < (int)uVar11) {
          iVar9 *= 2;
        }
        else {
          iVar9 += uVar11;
        }
        *(int *)(((int)local_104 - (int)param_4) + (int)puVar12) = iVar9;
        param_4[iVar5] = uVar8 & 0x7fff;
        param_4[iVar16] = param_4[iVar16] & 0x7fff;
      }
      else {
        *puVar12 = uVar4 | 0x8000;
        *(undefined4 *)(((int)local_104 - (int)param_4) + (int)puVar12) = 0;
      }
      piVar3 = piVar3 + 1;
      local_164 = local_164 + 1;
      puVar12 = puVar12 + 1;
      local_168 = (int *)((int)local_168 + -1);
    } while (local_168 != NULL);
  }
  FUN_0044f500(param_1,1,1);
  *(int *)(param_3 + 0x51c) = *(int *)(param_3 + 0x51c) + 1;
  iVar5 = FUN_0045b230(*(int *)(param_3 + 0x50c) - 1);
  *(int *)(param_3 + 0x518) = *(int *)(param_3 + 0x518) + iVar5 * 2;
  FUN_0044f500(param_1,local_104[0],iVar5);
  iVar5 = FUN_0045b230(*(int *)(param_3 + 0x50c) - 1);
  FUN_0044f500(param_1,local_104[1],iVar5);
  local_14c = 0;
  local_164 = (int *)0x2;
  local_168 = piVar1;
  if (0 < *piVar1) {
    do {
      local_168 = local_168 + 1;
      iVar5 = *local_168;
      iVar16 = piVar1[iVar5 + 0x20];
      iVar9 = piVar1[iVar5 + 0x30];
      iVar15 = 1 << ((byte)iVar9 & 0x1f);
      local_144[0] = 0;
      local_144[1] = 0;
      local_144[2] = 0;
      local_144[3] = 0;
      local_144[4] = 0;
      local_144[5] = 0;
      local_144[6] = 0;
      local_144[7] = 0;
      local_158 = 0;
      local_154 = 0;
      if (iVar9 != 0) {
        iVar6 = 0;
        if (0 < iVar15) {
          piVar3 = piVar1 + (iVar5 + 10) * 8;
          do {
            if (*piVar3 < 0) {
              local_144[iVar6 + 8] = 1;
            }
            else {
              local_144[iVar6 + 8] = *(int *)(*(int *)(iVar13 + 0x720 + *piVar3 * 4) + 4);
            }
            iVar6 += 1;
            piVar3 = piVar3 + 1;
          } while (iVar6 < iVar15);
        }
        iVar6 = 0;
        if (0 < iVar16) {
          local_15c = local_104 + (int)local_164;
          do {
            iVar7 = 0;
            if (0 < iVar15) {
              do {
                if ((int)*local_15c < local_144[iVar7 + 8]) {
                  local_144[iVar6] = iVar7;
                  break;
                }
                iVar7 += 1;
              } while (iVar7 < iVar15);
            }
            piVar3 = local_144 + iVar6;
            local_15c = local_15c + 1;
            iVar6 += 1;
            local_158 |= *piVar3 << ((byte)local_154 & 0x1f);
            local_154 = local_154 + iVar9;
          } while (iVar6 < iVar16);
        }
        iVar9 = FUN_004546c0(piVar1[iVar5 + 0x40] * 0x2c + iVar14,local_158,param_1);
        *(int *)(param_3 + 0x514) = *(int *)(param_3 + 0x514) + iVar9;
      }
      iVar9 = 0;
      if (0 < iVar16) {
        puVar12 = local_104 + (int)local_164;
        do {
          if (-1 < piVar1[local_144[iVar9] + iVar5 * 8 + 0x50]) {
            iVar15 = piVar1[local_144[iVar9] + iVar5 * 8 + 0x50] * 0x2c + iVar14;
            if ((int)*puVar12 < *(int *)(iVar15 + 4)) {
              iVar15 = FUN_004546c0(iVar15,*puVar12,param_1);
              *(int *)(param_3 + 0x518) = *(int *)(param_3 + 0x518) + iVar15;
            }
          }
          iVar9 += 1;
          puVar12 = puVar12 + 1;
        } while (iVar9 < iVar16);
      }
      local_164 = (int *)((int)local_164 + iVar16);
      local_14c += 1;
    } while (local_14c < *piVar1);
  }
  pvVar10 = (void *)(piVar1[0xd0] * *param_4);
  iVar5 = 0;
  local_164 = (int *)0x1;
  if (1 < *(int *)(param_3 + 0x504)) {
    local_168 = (int *)(param_3 + 0x108);
    this = pvVar10;
    iVar13 = 0;
    do {
      uVar8 = param_4[*local_168] & 0x7fff;
      pvVar10 = this;
      iVar14 = iVar13;
      if (uVar8 == param_4[*local_168]) {
        iVar14 = piVar1[*local_168 + 0xd1];
        pvVar10 = (void *)(piVar1[0xd0] * uVar8);
        FUN_0045ba90(this,iVar13,iVar14,(int)param_5);
        iVar5 = iVar14;
      }
      local_168 = local_168 + 1;
      local_164 = (int *)((int)local_164 + 1);
      this = pvVar10;
      iVar13 = iVar14;
    } while ((int)local_164 < *(int *)(param_3 + 0x504));
  }
  if (iVar5 < *(int *)(param_2 + 0x24) / 2) {
    do {
      *(void **)((int)param_5 + iVar5 * 4) = pvVar10;
      iVar5 += 1;
    } while (iVar5 < *(int *)(param_2 + 0x24) / 2);
  }
  _DAT_0047adac += 1;
  return 1;
}



void __cdecl FUN_0045cfc0(void *param_1)

{
  if (param_1 != NULL) {
    memset(param_1,0,0x60);
    free(param_1);
  }
  return;
}



void __cdecl FUN_0045cfe0(undefined4 *param_1)

{
  int *piVar1;
  
  if (param_1 != NULL) {
    piVar1 = (int *)param_1[2];
    if (piVar1 != NULL) {
      if (*piVar1 != 0) {
        free((void *)*piVar1);
      }
      if (*(int *)(param_1[2] + 4) != 0) {
        free(*(void **)(param_1[2] + 4));
      }
      free((void *)param_1[2]);
    }
    *param_1 = 0;
    param_1[1] = 0;
    param_1[2] = 0;
    param_1[3] = 0;
    param_1[4] = 0;
    param_1[5] = 0;
    param_1[6] = 0;
    param_1[7] = 0;
    free(param_1);
  }
  return;
}



void __cdecl FUN_0045d110(int param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int in_EAX;
  void *pvVar4;
  int iVar5;
  undefined4 extraout_ECX;
  undefined4 extraout_EDX;
  int iVar6;
  int iVar7;
  int *unaff_EDI;
  float10 fVar8;
  float10 fVar9;
  float10 fVar10;
  float10 fVar11;
  ulonglong uVar12;
  
  iVar3 = *(int *)(in_EAX + 0x1c);
  if (*(int *)(unaff_EDI[2] + iVar3 * 4) == 0) {
    iVar7 = *(int *)(*(int *)(*(int *)(*(int *)(in_EAX + 0x40) + 4) + 0x1c) + iVar3 * 4) / 2;
    iVar1 = *(int *)(param_1 + 4);
    iVar2 = *unaff_EDI;
    fVar8 = (float10)_CIatan();
    fVar9 = (float10)_CIatan();
    pvVar4 = malloc(iVar7 * 4 + 4);
    *(void **)(unaff_EDI[2] + iVar3 * 4) = pvVar4;
    iVar6 = 0;
    if (0 < iVar7) {
      do {
        iVar5 = *(int *)(param_1 + 4);
        fVar10 = (float10)_CIatan();
        fVar11 = (float10)_CIatan();
        floor((double)(((float10)((float)iVar6 * (((float)iVar5 * 0.5) / (float)iVar7)) *
                        (float10)9.999999747378752e-05 +
                       fVar11 * (float10)13.100000381469727 +
                       (float10)(double)(fVar10 * (float10)2.240000009536743)) *
                      (float10)(float)((float10)iVar2 /
                                      ((float10)((double)iVar1 * 0.5) *
                                       (float10)9.999999747378752e-05 +
                                      fVar9 * (float10)13.100000381469727 +
                                      (float10)(double)(fVar8 * (float10)2.240000009536743)))));
        uVar12 = FUN_0045db50(extraout_ECX,extraout_EDX);
        iVar5 = (int)uVar12;
        if (*unaff_EDI <= iVar5) {
          iVar5 = *unaff_EDI + -1;
        }
        *(int *)(*(int *)(unaff_EDI[2] + iVar3 * 4) + iVar6 * 4) = iVar5;
        iVar6 += 1;
      } while (iVar6 < iVar7);
    }
    *(undefined4 *)(*(int *)(unaff_EDI[2] + iVar3 * 4) + iVar6 * 4) = 0xffffffff;
    unaff_EDI[iVar3 + 3] = iVar7;
  }
  return;
}



undefined4 __cdecl FUN_0045d400(int param_1,float *param_2,float *param_3,void *param_4)

{
  float fVar1;
  
  fVar1 = param_2[5];
  FUN_0045d110((int)fVar1);
  if (param_3 != NULL) {
    FUN_0045d5b0((int)param_4,*(int **)((int)param_2[2] + *(int *)(param_1 + 0x1c) * 4),
                 (int)param_2[*(int *)(param_1 + 0x1c) + 3],*param_2,param_3,(uint)param_2[1],
                 param_3[(int)param_2[1]],(float)*(int *)((int)fVar1 + 0x10));
    return 1;
  }
  memset(param_4,0,(int)param_2[*(int *)(param_1 + 0x1c) + 3] * 4);
  return 0;
}



float10 __cdecl FUN_0045d480(float param_1)

{
  int iVar1;
  
  iVar1 = (int)ROUND(param_1 * 40.743668 - 0.5);
  return (float10)((param_1 * 40.743668 - (float)iVar1) *
                   (*(float *)(&DAT_0047a494 + iVar1 * 4) - *(float *)(&DAT_0047a490 + iVar1 * 4)) +
                  *(float *)(&DAT_0047a490 + iVar1 * 4));
}



float10 __cdecl FUN_0045d4d0(float param_1)

{
  int iVar1;
  float fVar2;
  
  fVar2 = param_1 * 64.0 - 32.0;
  iVar1 = (int)ROUND(fVar2 - 0.5);
  return (float10)((fVar2 - (float)iVar1) *
                   (*(float *)(&DAT_0047a69c + iVar1 * 4) - *(float *)(&DAT_0047a698 + iVar1 * 4)) +
                  *(float *)(&DAT_0047a698 + iVar1 * 4));
}



float10 __cdecl FUN_0045d530(int param_1)

{
  return (float10)*(float *)(&DAT_0047a7a0 + param_1 * 4);
}



float10 __cdecl FUN_0045d540(float param_1)

{
  uint uVar1;
  
  uVar1 = (uint)ROUND(param_1 * -8.0 - 0.5);
  if ((int)uVar1 < 0) {
    return (float10)1.0;
  }
  if (0x45f < (int)uVar1) {
    return (float10)0.0;
  }
  return (float10)(*(float *)(&DAT_0047a8b8 + (uVar1 & 0x1f) * 4) *
                  *(float *)(&DAT_0047a828 + ((int)uVar1 >> 5) * 4));
}



void __cdecl
FUN_0045d5b0(int param_1,int *param_2,int param_3,float param_4,float *param_5,uint param_6,
            float param_7,float param_8)

{
  float fVar1;
  int iVar2;
  float fVar3;
  float fVar4;
  int *piVar5;
  float *pfVar6;
  float *pfVar7;
  int iVar8;
  int iVar9;
  int extraout_EDX;
  int extraout_EDX_00;
  int iVar10;
  float10 fVar11;
  float10 fVar12;
  double dVar13;
  float local_1c;
  int local_4;
  
  fVar3 = (float)(int)param_4;
  iVar9 = 0;
  if (0 < (int)param_6) {
    do {
      fVar11 = FUN_0045d480(param_5[iVar9]);
      param_5[extraout_EDX] = (float)fVar11;
      iVar9 = extraout_EDX + 1;
    } while (iVar9 < (int)param_6);
  }
  iVar9 = 0;
  if (0 < param_3) {
    iVar10 = 0;
    piVar5 = param_2;
    do {
      iVar2 = *piVar5;
      local_1c = 0.70710677;
      param_4 = 0.70710677;
      fVar11 = FUN_0045d480((float)iVar2 * (3.1415927 / fVar3));
      fVar1 = (float)fVar11;
      pfVar6 = param_5;
      iVar8 = extraout_EDX_00;
      do {
        pfVar7 = pfVar6 + 2;
        iVar8 += -1;
        param_4 = (*pfVar6 - fVar1) * param_4;
        local_1c = (pfVar6[1] - fVar1) * local_1c;
        pfVar6 = pfVar7;
      } while (iVar8 != 0);
      if ((param_6 & 1) == 0) {
        param_4 = param_4 * param_4 * (fVar1 + 1.0);
      }
      else {
        fVar4 = (*pfVar7 - fVar1) * param_4;
        param_4 = fVar4 * fVar4;
        fVar1 = fVar1 * fVar1;
      }
      dVar13 = frexp((double)(param_4 + local_1c * local_1c * (1.0 - fVar1)),&local_4);
      fVar11 = FUN_0045d530(local_4 + param_6);
      fVar12 = FUN_0045d4d0((float)dVar13);
      fVar11 = FUN_0045d540((float)(fVar12 * (float10)param_7 * (float10)(double)fVar11 -
                                   (float10)param_8));
      do {
        iVar9 += 1;
        *(float *)(iVar10 + param_1) = (float)fVar11 * *(float *)(iVar10 + param_1);
        iVar10 = iVar9 * 4;
        piVar5 = param_2 + iVar9;
      } while (*piVar5 == iVar2);
    } while (iVar9 < param_3);
  }
  return;
}



// Library Function - Single Match
//  @__security_check_cookie@4
// 
// Libraries: Visual Studio 2005 Release, Visual Studio 2008 Release, Visual Studio 2010 Release

void __fastcall __security_check_cookie(uintptr_t _StackCookie)

{
  if ((undefined *)_StackCookie == PTR_DAT_0047a940) {
    return;
  }
                    // WARNING: Subroutine does not return
  ___report_gsfailure();
}



size_t __cdecl fread(void *_DstBuf,size_t _ElementSize,size_t _Count,FILE *_File)

{
  size_t sVar1;
  
                    // WARNING: Could not recover jumptable at 0x0045d764. Too many branches
                    // WARNING: Treating indirect jump as call
  sVar1 = fread(_DstBuf,_ElementSize,_Count,_File);
  return sVar1;
}



int __cdecl fseek(FILE *_File,long _Offset,int _Origin)

{
  int iVar1;
  
                    // WARNING: Could not recover jumptable at 0x0045d770. Too many branches
                    // WARNING: Treating indirect jump as call
  iVar1 = fseek(_File,_Offset,_Origin);
  return iVar1;
}



int __cdecl fclose(FILE *_File)

{
  int iVar1;
  
                    // WARNING: Could not recover jumptable at 0x0045d776. Too many branches
                    // WARNING: Treating indirect jump as call
  iVar1 = fclose(_File);
  return iVar1;
}



void __cdecl free(void *_Memory)

{
                    // WARNING: Could not recover jumptable at 0x0045d77c. Too many branches
                    // WARNING: Treating indirect jump as call
  free(_Memory);
  return;
}



void * __cdecl calloc(size_t _Count,size_t _Size)

{
  void *pvVar1;
  
                    // WARNING: Could not recover jumptable at 0x0045d782. Too many branches
                    // WARNING: Treating indirect jump as call
  pvVar1 = calloc(_Count,_Size);
  return pvVar1;
}



int __cdecl fprintf(FILE *_File,char *_Format,...)

{
  int iVar1;
  
                    // WARNING: Could not recover jumptable at 0x0045d788. Too many branches
                    // WARNING: Treating indirect jump as call
  iVar1 = fprintf(_File,_Format);
  return iVar1;
}



// WARNING: Function: __SEH_prolog4 replaced with injection: SEH_prolog4
// WARNING: Function: __SEH_epilog4 replaced with injection: EH_epilog3
// WARNING: Globals starting with '_' overlap smaller symbols at the same address
// Library Function - Single Match
//  ___tmainCRTStartup
// 
// Library: Visual Studio 2010 Release

uint ___tmainCRTStartup(void)

{
  byte bVar1;
  void *Exchange;
  void *pvVar2;
  BOOL BVar3;
  uint _Code;
  int iVar4;
  byte *pbVar5;
  _STARTUPINFOW local_70;
  int local_28;
  byte *local_24;
  uint local_20;
  undefined4 uStack_c;
  undefined *local_8;
  
  local_8 = &DAT_0046b018;
  uStack_c = 0x45d7eb;
  local_20 = 0;
  GetStartupInfoW(&local_70);
  if (DAT_00482b20 == 0) {
    HeapSetInformation(NULL,HeapEnableTerminationOnCorruption,NULL,0);
  }
  Exchange = StackBase;
  local_8 = NULL;
  local_28 = 0;
  do {
    pvVar2 = (void *)InterlockedCompareExchange((LONG *)&DAT_00482b14,(LONG)Exchange,0);
    if (pvVar2 == NULL) {
LAB_0045d84a:
      if (DAT_00482b10 == 1) {
        _amsg_exit(0x1f);
      }
      else if (DAT_00482b10 == 0) {
        DAT_00482b10 = 1;
        iVar4 = initterm_e(&PTR_0045f398,&PTR_0045f3a8);
        if (iVar4 != 0) {
          return 0xff;
        }
      }
      else {
        DAT_0047adcc = 1;
      }
      if (DAT_00482b10 == 1) {
        initterm(&PTR_0045f2f8,&PTR_0045f394);
        DAT_00482b10 = 2;
      }
      if (local_28 == 0) {
        InterlockedExchange((LONG *)&DAT_00482b14,0);
      }
      if ((_s__00482b24 != NULL) &&
         (BVar3 = __IsNonwritableInCurrentImage((PBYTE)s__00482b24), BVar3 != 0)) {
        (*_s__00482b24)(0,2,0);
      }
      pbVar5 = *(byte **)_acmdln_exref;
      while ((bVar1 = *pbVar5, local_24 = pbVar5, 0x20 < bVar1 || ((bVar1 != 0 && (local_20 != 0))))
            ) {
        if (bVar1 == 0x22) {
          local_20 = (uint)(local_20 == 0);
        }
        iVar4 = _ismbblead((uint)bVar1);
        if (iVar4 != 0) {
          pbVar5 = pbVar5 + 1;
        }
        pbVar5 = pbVar5 + 1;
      }
      for (; (*local_24 != 0 && (*local_24 < 0x21)); local_24 = local_24 + 1) {
      }
      if (((byte)local_70.dwFlags & 1) == 0) {
        _Code = 10;
      }
      else {
        _Code = (uint)local_70.wShowWindow;
      }
      FUN_00439c10((HINSTANCE)&IMAGE_DOS_HEADER_00400000,0,(char *)local_24,_Code);
      _WORD_0047adc8 = _Code;
      if (DAT_0047adbc != 0) {
        if (DAT_0047adcc == 0) {
          _cexit();
        }
        return _WORD_0047adc8;
      }
                    // WARNING: Subroutine does not return
      exit(_Code);
    }
    if (pvVar2 == Exchange) {
      local_28 = 1;
      goto LAB_0045d84a;
    }
    Sleep(1000);
  } while( true );
}



void entry(void)

{
  ___security_init_cookie();
  ___tmainCRTStartup();
  return;
}



int * __cdecl _errno(void)

{
  int *piVar1;
  
                    // WARNING: Could not recover jumptable at 0x0045da7c. Too many branches
                    // WARNING: Treating indirect jump as call
  piVar1 = _errno();
  return piVar1;
}



void * __cdecl malloc(size_t _Size)

{
  void *pvVar1;
  
                    // WARNING: Could not recover jumptable at 0x0045da82. Too many branches
                    // WARNING: Treating indirect jump as call
  pvVar1 = malloc(_Size);
  return pvVar1;
}



void * __cdecl realloc(void *_Memory,size_t _NewSize)

{
  void *pvVar1;
  
                    // WARNING: Could not recover jumptable at 0x0045da88. Too many branches
                    // WARNING: Treating indirect jump as call
  pvVar1 = realloc(_Memory,_NewSize);
  return pvVar1;
}



// Library Function - Single Match
//  __alldiv
// 
// Library: Visual Studio

undefined8 __alldiv(uint param_1,uint param_2,uint param_3,uint param_4)

{
  ulonglong uVar1;
  longlong lVar2;
  uint uVar3;
  int iVar4;
  uint uVar5;
  uint uVar6;
  uint uVar7;
  uint uVar8;
  bool bVar10;
  char cVar11;
  uint uVar9;
  
  cVar11 = (int)param_2 < 0;
  if ((bool)cVar11) {
    bVar10 = param_1 != 0;
    param_1 = -param_1;
    param_2 = -(uint)bVar10 - param_2;
  }
  if ((int)param_4 < 0) {
    cVar11 += '\x01';
    bVar10 = param_3 != 0;
    param_3 = -param_3;
    param_4 = -(uint)bVar10 - param_4;
  }
  uVar3 = param_1;
  uVar5 = param_3;
  uVar6 = param_2;
  uVar9 = param_4;
  if (param_4 == 0) {
    uVar3 = param_2 / param_3;
    iVar4 = (int)(((ulonglong)param_2 % (ulonglong)param_3 << 0x20 | (ulonglong)param_1) /
                 (ulonglong)param_3);
  }
  else {
    do {
      uVar8 = uVar9 >> 1;
      uVar5 = uVar5 >> 1 | (uint)((uVar9 & 1) != 0) << 0x1f;
      uVar7 = uVar6 >> 1;
      uVar3 = uVar3 >> 1 | (uint)((uVar6 & 1) != 0) << 0x1f;
      uVar6 = uVar7;
      uVar9 = uVar8;
    } while (uVar8 != 0);
    uVar1 = CONCAT44(uVar7,uVar3) / (ulonglong)uVar5;
    iVar4 = (int)uVar1;
    lVar2 = (ulonglong)param_3 * (uVar1 & 0xffffffff);
    uVar3 = (uint)((ulonglong)lVar2 >> 0x20);
    uVar5 = uVar3 + iVar4 * param_4;
    if (((CARRY4(uVar3,iVar4 * param_4)) || (param_2 < uVar5)) ||
       ((param_2 <= uVar5 && (param_1 < (uint)lVar2)))) {
      iVar4 += -1;
    }
    uVar3 = 0;
  }
  if (cVar11 == '\x01') {
    bVar10 = iVar4 != 0;
    iVar4 = -iVar4;
    uVar3 = -(uint)bVar10 - uVar3;
  }
  return CONCAT44(uVar3,iVar4);
}



void * __cdecl memset(void *_Dst,int _Val,size_t _Size)

{
  void *pvVar1;
  
                    // WARNING: Could not recover jumptable at 0x0045db40. Too many branches
                    // WARNING: Treating indirect jump as call
  pvVar1 = memset(_Dst,_Val,_Size);
  return pvVar1;
}



ulonglong __fastcall FUN_0045db50(undefined4 param_1,undefined4 param_2)

{
  ulonglong uVar1;
  uint uVar2;
  float fVar3;
  float10 in_ST0;
  uint uStack_20;
  float fStack_1c;
  
  if (DAT_00482b0c == 0) {
    uVar1 = (ulonglong)ROUND(in_ST0);
    uStack_20 = (uint)uVar1;
    fStack_1c = (float)(uVar1 >> 0x20);
    fVar3 = (float)in_ST0;
    if ((uStack_20 != 0) || (fVar3 = fStack_1c, (uVar1 & 0x7fffffff00000000) != 0)) {
      if ((int)fVar3 < 0) {
        uVar1 += 0x80000000 < (uint)-(float)(in_ST0 - (float10)(longlong)uVar1);
      }
      else {
        uVar2 = (uint)(0x80000000 < (uint)(float)(in_ST0 - (float10)(longlong)uVar1));
        uVar1 = CONCAT44((int)fStack_1c - (uint)(uStack_20 < uVar2),uStack_20 - uVar2);
      }
    }
    return uVar1;
  }
  return CONCAT44(param_2,(int)in_ST0);
}



ulonglong FUN_0045db86(void)

{
  ulonglong uVar1;
  uint uVar2;
  float fVar3;
  float10 in_ST0;
  undefined4 local_20;
  undefined4 uStack_1c;
  
  uVar1 = (ulonglong)ROUND(in_ST0);
  local_20 = (uint)uVar1;
  uStack_1c = (float)(uVar1 >> 0x20);
  fVar3 = (float)in_ST0;
  if ((local_20 != 0) || (fVar3 = uStack_1c, (uVar1 & 0x7fffffff00000000) != 0)) {
    if ((int)fVar3 < 0) {
      uVar1 += 0x80000000 < (uint)-(float)(in_ST0 - (float10)(longlong)uVar1);
    }
    else {
      uVar2 = (uint)(0x80000000 < (uint)(float)(in_ST0 - (float10)(longlong)uVar1));
      uVar1 = CONCAT44((int)uStack_1c - (uint)(local_20 < uVar2),local_20 - uVar2);
    }
  }
  return uVar1;
}



// Library Function - Single Match
//  __allmul
// 
// Library: Visual Studio

longlong __allmul(uint param_1,int param_2,uint param_3,int param_4)

{
  if (param_4 == 0 && param_2 == 0) {
    return (ulonglong)param_1 * (ulonglong)param_3;
  }
  return CONCAT44((int)((ulonglong)param_1 * (ulonglong)param_3 >> 0x20) +
                  param_2 * param_3 + param_1 * param_4,
                  (int)((ulonglong)param_1 * (ulonglong)param_3));
}



void * __cdecl memcpy(void *_Dst,void *_Src,size_t _Size)

{
  void *pvVar1;
  
                    // WARNING: Could not recover jumptable at 0x0045dc34. Too many branches
                    // WARNING: Treating indirect jump as call
  pvVar1 = memcpy(_Dst,_Src,_Size);
  return pvVar1;
}



// WARNING: This is an inlined function
// WARNING: Function: __alloca_probe replaced with injection: alloca_probe
// Library Function - Single Match
//  __alloca_probe_16
// 
// Library: Visual Studio

uint __alloca_probe_16(undefined1 param_1)

{
  uint in_EAX;
  uint uVar1;
  
  uVar1 = 4 - in_EAX & 0xf;
  return in_EAX + uVar1 | -(uint)CARRY4(in_EAX,uVar1);
}



// WARNING: This is an inlined function
// WARNING: Function: __alloca_probe replaced with injection: alloca_probe
// Library Function - Single Match
//  __alloca_probe_8
// 
// Library: Visual Studio

uint __alloca_probe_8(undefined1 param_1)

{
  uint in_EAX;
  uint uVar1;
  
  uVar1 = 4 - in_EAX & 7;
  return in_EAX + uVar1 | -(uint)CARRY4(in_EAX,uVar1);
}



FILE * __cdecl fopen(char *_Filename,char *_Mode)

{
  FILE *pFVar1;
  
                    // WARNING: Could not recover jumptable at 0x0045dc6c. Too many branches
                    // WARNING: Treating indirect jump as call
  pFVar1 = fopen(_Filename,_Mode);
  return pFVar1;
}



double __cdecl floor(double _X)

{
  double dVar1;
  
                    // WARNING: Could not recover jumptable at 0x0045dc72. Too many branches
                    // WARNING: Treating indirect jump as call
  dVar1 = floor(_X);
  return dVar1;
}



void * __cdecl memmove(void *_Dst,void *_Src,size_t _Size)

{
  void *pvVar1;
  
                    // WARNING: Could not recover jumptable at 0x0045dc78. Too many branches
                    // WARNING: Treating indirect jump as call
  pvVar1 = memmove(_Dst,_Src,_Size);
  return pvVar1;
}



// Library Function - Single Match
//  __allshr
// 
// Library: Visual Studio

undefined8 __fastcall __allshr(byte param_1,int param_2)

{
  uint in_EAX;
  int iVar1;
  
  iVar1 = param_2 >> 0x1f;
  if (0x3f < param_1) {
    return CONCAT44(iVar1,iVar1);
  }
  if (param_1 < 0x20) {
    return CONCAT44(param_2 >> (param_1 & 0x1f),
                    in_EAX >> (param_1 & 0x1f) | param_2 << 0x20 - (param_1 & 0x1f));
  }
  return CONCAT44(iVar1,param_2 >> (param_1 & 0x1f));
}



void * __cdecl memchr(void *_Buf,int _Val,size_t _MaxCount)

{
  void *pvVar1;
  
                    // WARNING: Could not recover jumptable at 0x0045dca2. Too many branches
                    // WARNING: Treating indirect jump as call
  pvVar1 = memchr(_Buf,_Val,_MaxCount);
  return pvVar1;
}



void _CIatan(void)

{
                    // WARNING: Could not recover jumptable at 0x0045dca8. Too many branches
                    // WARNING: Treating indirect jump as call
  _CIatan();
  return;
}



double __cdecl ceil(double _X)

{
  double dVar1;
  
                    // WARNING: Could not recover jumptable at 0x0045dcae. Too many branches
                    // WARNING: Treating indirect jump as call
  dVar1 = ceil(_X);
  return dVar1;
}



// WARNING: This is an inlined function
// Library Function - Single Match
//  __chkstk
// 
// Library: Visual Studio

void __alloca_probe(void)

{
  undefined1 *in_EAX;
  undefined4 *puVar1;
  undefined4 *puVar2;
  undefined4 unaff_retaddr;
  undefined1 auStack_4 [4];
  
  puVar2 = (undefined4 *)((int)&stack0x00000000 - (int)in_EAX & ~-(uint)(&stack0x00000000 < in_EAX))
  ;
  for (puVar1 = (undefined4 *)((uint)auStack_4 & 0xfffff000); puVar2 < puVar1;
      puVar1 = puVar1 + -0x400) {
  }
  *puVar2 = unaff_retaddr;
  return;
}



void _CIlog(void)

{
                    // WARNING: Could not recover jumptable at 0x0045dcec. Too many branches
                    // WARNING: Treating indirect jump as call
  _CIlog();
  return;
}



void _CIexp(void)

{
                    // WARNING: Could not recover jumptable at 0x0045dcf2. Too many branches
                    // WARNING: Treating indirect jump as call
  _CIexp();
  return;
}



void _CIsqrt(void)

{
                    // WARNING: Could not recover jumptable at 0x0045dcf8. Too many branches
                    // WARNING: Treating indirect jump as call
  _CIsqrt();
  return;
}



void __cdecl
qsort(void *_Base,size_t _NumOfElements,size_t _SizeOfElements,_PtFuncCompare *_PtFuncCompare)

{
                    // WARNING: Could not recover jumptable at 0x0045dcfe. Too many branches
                    // WARNING: Treating indirect jump as call
  qsort(_Base,_NumOfElements,_SizeOfElements,_PtFuncCompare);
  return;
}



double __cdecl ldexp(double _X,int _Y)

{
  double dVar1;
  
                    // WARNING: Could not recover jumptable at 0x0045dd04. Too many branches
                    // WARNING: Treating indirect jump as call
  dVar1 = ldexp(_X,_Y);
  return dVar1;
}



void _CIpow(void)

{
                    // WARNING: Could not recover jumptable at 0x0045dd0a. Too many branches
                    // WARNING: Treating indirect jump as call
  _CIpow();
  return;
}



void _CIsin(void)

{
                    // WARNING: Could not recover jumptable at 0x0045dd10. Too many branches
                    // WARNING: Treating indirect jump as call
  _CIsin();
  return;
}



void _CIcos(void)

{
                    // WARNING: Could not recover jumptable at 0x0045dd16. Too many branches
                    // WARNING: Treating indirect jump as call
  _CIcos();
  return;
}



void __cdecl exit(int _Code)

{
                    // WARNING: Could not recover jumptable at 0x0045dd1c. Too many branches
                    // WARNING: Subroutine does not return
                    // WARNING: Treating indirect jump as call
  exit(_Code);
  return;
}



double __cdecl frexp(double _X,int *_Y)

{
  double dVar1;
  
                    // WARNING: Could not recover jumptable at 0x0045dd22. Too many branches
                    // WARNING: Treating indirect jump as call
  dVar1 = frexp(_X,_Y);
  return dVar1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address
// Library Function - Single Match
//  ___report_gsfailure
// 
// Libraries: Visual Studio 2005 Release, Visual Studio 2008 Release, Visual Studio 2010 Release

void __cdecl ___report_gsfailure(void)

{
  undefined4 in_EAX;
  HANDLE hProcess;
  undefined4 in_ECX;
  undefined4 in_EDX;
  undefined4 unaff_EBX;
  undefined4 unaff_EBP;
  undefined4 unaff_ESI;
  undefined4 unaff_EDI;
  undefined2 in_ES;
  undefined2 in_CS;
  undefined2 in_SS;
  undefined2 in_DS;
  undefined2 in_FS;
  undefined2 in_GS;
  byte in_AF;
  byte in_TF;
  byte in_IF;
  byte in_NT;
  byte in_AC;
  byte in_VIF;
  byte in_VIP;
  byte in_ID;
  undefined4 unaff_retaddr;
  UINT uExitCode;
  undefined *local_32c;
  undefined4 local_328;
  
  _DAT_0047aee8 =
       (uint)(in_NT & 1) * 0x4000 | (uint)SBORROW4((int)&stack0xfffffffc,0x328) * 0x800 |
       (uint)(in_IF & 1) * 0x200 | (uint)(in_TF & 1) * 0x100 | (uint)((int)&local_32c < 0) * 0x80 |
       (uint)(&stack0x00000000 == (undefined1 *)0x32c) * 0x40 | (uint)(in_AF & 1) * 0x10 |
       (uint)((POPCOUNT((uint)&local_32c & 0xff) & 1U) == 0) * 4 |
       (uint)(&stack0xfffffffc < (undefined1 *)0x328) | (uint)(in_ID & 1) * 0x200000 |
       (uint)(in_VIP & 1) * 0x100000 | (uint)(in_VIF & 1) * 0x80000 | (uint)(in_AC & 1) * 0x40000;
  _DAT_0047aeec = &stack0x00000004;
  _DAT_0047ae28 = 0x10001;
  _DAT_0047add0 = 0xc0000409;
  _DAT_0047add4 = 1;
  local_32c = PTR_DAT_0047a940;
  local_328 = DAT_0047a944;
  _DAT_0047addc = unaff_retaddr;
  _DAT_0047aeb4 = in_GS;
  _DAT_0047aeb8 = in_FS;
  _DAT_0047aebc = in_ES;
  _DAT_0047aec0 = in_DS;
  _DAT_0047aec4 = unaff_EDI;
  _DAT_0047aec8 = unaff_ESI;
  _DAT_0047aecc = unaff_EBX;
  _DAT_0047aed0 = in_EDX;
  _DAT_0047aed4 = in_ECX;
  _DAT_0047aed8 = in_EAX;
  _DAT_0047aedc = unaff_EBP;
  DAT_0047aee0 = unaff_retaddr;
  _DAT_0047aee4 = in_CS;
  _DAT_0047aef0 = in_SS;
  _BOOL_0047ae20 = IsDebuggerPresent();
  _crt_debugger_hook(1);
  SetUnhandledExceptionFilter(NULL);
  UnhandledExceptionFilter((_EXCEPTION_POINTERS *)ExceptionInfo_0045f9cc);
  if (_BOOL_0047ae20 == 0) {
    _crt_debugger_hook(1);
  }
  uExitCode = 0xc0000409;
  hProcess = GetCurrentProcess();
  TerminateProcess(hProcess,uExitCode);
  return;
}



// Library Function - Single Match
//  long __stdcall __CxxUnhandledExceptionFilter(struct _EXCEPTION_POINTERS *)
// 
// Libraries: Visual Studio 2008 Release, Visual Studio 2010 Release

long __CxxUnhandledExceptionFilter(_EXCEPTION_POINTERS *param_1)

{
  PEXCEPTION_RECORD pEVar1;
  ULONG_PTR UVar2;
  
  pEVar1 = param_1->ExceptionRecord;
  if (((pEVar1->ExceptionCode == 0xe06d7363) && (pEVar1->NumberParameters == 3)) &&
     ((UVar2 = pEVar1->ExceptionInformation[0], UVar2 == 0x19930520 ||
      (((UVar2 == 0x19930521 || (UVar2 == 0x19930522)) || (UVar2 == 0x1994000)))))) {
                    // WARNING: Subroutine does not return
    terminate();
  }
  return 0;
}



void __cdecl _amsg_exit(int param_1)

{
                    // WARNING: Could not recover jumptable at 0x0045de7e. Too many branches
                    // WARNING: Treating indirect jump as call
  _amsg_exit(param_1);
  return;
}



// WARNING: Function: __SEH_prolog4 replaced with injection: SEH_prolog4
// WARNING: Function: __SEH_epilog4 replaced with injection: EH_epilog3
// Library Function - Single Match
//  __onexit
// 
// Library: Visual Studio 2010 Release

_onexit_t __cdecl __onexit(_onexit_t param_1)

{
  _onexit_t p_Var1;
  PVOID pvVar2;
  PVOID *ppvVar3;
  PVOID *ppvVar4;
  PVOID local_24;
  PVOID local_20 [5];
  undefined4 uStack_c;
  undefined *local_8;
  
  local_8 = &DAT_0046b038;
  uStack_c = 0x45de90;
  local_20[0] = DecodePointer(Ptr_00482b1c);
  if (local_20[0] == (PVOID)0xffffffff) {
    p_Var1 = _onexit(param_1);
  }
  else {
    _lock(8);
    local_8 = NULL;
    local_20[0] = DecodePointer(Ptr_00482b1c);
    local_24 = DecodePointer(Ptr_00482b18);
    ppvVar4 = &local_24;
    ppvVar3 = local_20;
    pvVar2 = EncodePointer(param_1);
    p_Var1 = (_onexit_t)__dllonexit(pvVar2,ppvVar3,ppvVar4);
    Ptr_00482b1c = EncodePointer(local_20[0]);
    Ptr_00482b18 = EncodePointer(local_24);
    local_8 = (undefined *)0xfffffffe;
    FUN_0045df1c();
  }
  return p_Var1;
}



void FUN_0045df1c(void)

{
  _unlock(8);
  return;
}



// Library Function - Single Match
//  _atexit
// 
// Library: Visual Studio 2010 Release

int __cdecl _atexit(_func_4879 *param_1)

{
  _onexit_t p_Var1;
  
  p_Var1 = __onexit((_onexit_t)param_1);
  return (p_Var1 != NULL) - 1;
}



void FUN_0045df3c(void)

{
  undefined4 *puVar1;
  
  puVar1 = &DAT_0046b008;
  if (false) {
    do {
      if ((code *)*puVar1 != NULL) {
        (*(code *)*puVar1)();
      }
      puVar1 = puVar1 + 1;
    } while (puVar1 < &DAT_0046b008);
  }
  return;
}



void __cdecl FUN_0045df62(void)

{
  undefined4 *puVar1;
  
  puVar1 = &DAT_0046b010;
  if (false) {
    do {
      if ((code *)*puVar1 != NULL) {
        (*(code *)*puVar1)();
      }
      puVar1 = puVar1 + 1;
    } while (puVar1 < &DAT_0046b010);
  }
  return;
}



// Library Function - Single Match
//  __ValidateImageBase
// 
// Libraries: Visual Studio 2008 Release, Visual Studio 2010 Release

BOOL __cdecl __ValidateImageBase(PBYTE pImageBase)

{
  if ((*(short *)pImageBase == 0x5a4d) &&
     (*(int *)(pImageBase + *(int *)(pImageBase + 0x3c)) == 0x4550)) {
    return (uint)((short)*(int *)((int)(pImageBase + *(int *)(pImageBase + 0x3c)) + 0x18) == 0x10b);
  }
  return 0;
}



// Library Function - Single Match
//  __FindPESection
// 
// Library: Visual Studio 2010 Release

PIMAGE_SECTION_HEADER __cdecl __FindPESection(PBYTE pImageBase,DWORD_PTR rva)

{
  int iVar1;
  PIMAGE_SECTION_HEADER p_Var2;
  uint uVar3;
  
  iVar1 = *(int *)(pImageBase + 0x3c);
  uVar3 = 0;
  p_Var2 = (PIMAGE_SECTION_HEADER)
           (pImageBase + *(ushort *)(pImageBase + iVar1 + 0x14) + 0x18 + iVar1);
  if (*(ushort *)(pImageBase + iVar1 + 6) != 0) {
    do {
      if ((p_Var2->VirtualAddress <= rva) &&
         (rva < (p_Var2->Misc).PhysicalAddress + p_Var2->VirtualAddress)) {
        return p_Var2;
      }
      uVar3 += 1;
      p_Var2 = p_Var2 + 1;
    } while (uVar3 < *(ushort *)(pImageBase + iVar1 + 6));
  }
  return NULL;
}



// Library Function - Single Match
//  __IsNonwritableInCurrentImage
// 
// Library: Visual Studio 2010 Release

BOOL __cdecl __IsNonwritableInCurrentImage(PBYTE pTarget)

{
  BOOL BVar1;
  PIMAGE_SECTION_HEADER p_Var2;
  void *local_14;
  code *pcStack_10;
  uint local_c;
  undefined4 local_8;
  
  pcStack_10 = FUN_0045e149;
  local_14 = ExceptionList;
  local_c = (uint)PTR_DAT_0047a940 ^ 0x46b058;
  ExceptionList = &local_14;
  local_8 = 0;
  BVar1 = __ValidateImageBase((PBYTE)&IMAGE_DOS_HEADER_00400000);
  if (BVar1 != 0) {
    p_Var2 = __FindPESection((PBYTE)&IMAGE_DOS_HEADER_00400000,(DWORD_PTR)(pTarget + -0x400000));
    if (p_Var2 != NULL) {
      ExceptionList = local_14;
      return ~(p_Var2->Characteristics >> 0x1f) & 1;
    }
  }
  ExceptionList = local_14;
  return 0;
}



void __cdecl initterm(void)

{
                    // WARNING: Could not recover jumptable at 0x0045e0dc. Too many branches
                    // WARNING: Treating indirect jump as call
  initterm();
  return;
}



void __cdecl initterm_e(void)

{
                    // WARNING: Could not recover jumptable at 0x0045e0e2. Too many branches
                    // WARNING: Treating indirect jump as call
  initterm_e();
  return;
}



// WARNING: This is an inlined function
// WARNING: Unable to track spacebase fully for stack
// WARNING: Variable defined which should be unmapped: param_2
// Library Function - Single Match
//  __SEH_prolog4
// 
// Library: Visual Studio

void __cdecl __SEH_prolog4(undefined4 param_1,int param_2)

{
  int iVar1;
  undefined4 unaff_EBX;
  undefined4 unaff_ESI;
  undefined4 unaff_EDI;
  undefined4 unaff_retaddr;
  uint auStack_1c [5];
  undefined1 local_8 [8];
  
  iVar1 = -param_2;
  *(undefined4 *)((int)auStack_1c + iVar1 + 0x10) = unaff_EBX;
  *(undefined4 *)((int)auStack_1c + iVar1 + 0xc) = unaff_ESI;
  *(undefined4 *)((int)auStack_1c + iVar1 + 8) = unaff_EDI;
  *(uint *)((int)auStack_1c + iVar1 + 4) = (uint)PTR_DAT_0047a940 ^ (uint)&param_2;
  *(undefined4 *)((int)auStack_1c + iVar1) = unaff_retaddr;
  ExceptionList = local_8;
  return;
}



// WARNING: This is an inlined function
// Library Function - Single Match
//  __SEH_epilog4
// 
// Library: Visual Studio

void __SEH_epilog4(void)

{
  undefined4 *unaff_EBP;
  undefined4 unaff_retaddr;
  
  ExceptionList = (void *)unaff_EBP[-4];
  *unaff_EBP = unaff_retaddr;
  return;
}



void __cdecl
FUN_0045e149(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  except_handler4_common(&PTR_DAT_0047a940,__security_check_cookie,param_1,param_2,param_3,param_4);
  return;
}



// Library Function - Single Match
//  __setdefaultprecision
// 
// Library: Visual Studio 2010 Release

void __setdefaultprecision(void)

{
  errno_t eVar1;
  
  eVar1 = _controlfp_s(NULL,0x10000,0x30000);
  if (eVar1 != 0) {
                    // WARNING: Subroutine does not return
    _invoke_watson(NULL,NULL,NULL,0,0);
  }
  return;
}



undefined4 FUN_0045e196(void)

{
  return 0;
}



// Library Function - Single Match
//  ___security_init_cookie
// 
// Library: Visual Studio 2010 Release

void __cdecl ___security_init_cookie(void)

{
  DWORD DVar1;
  DWORD DVar2;
  DWORD DVar3;
  uint uVar4;
  LARGE_INTEGER local_14;
  _FILETIME local_c;
  
  local_c.dwLowDateTime = 0;
  local_c.dwHighDateTime = 0;
  if ((PTR_DAT_0047a940 == &DAT_bb40e64e) || (((uint)PTR_DAT_0047a940 & 0xffff0000) == 0)) {
    GetSystemTimeAsFileTime(&local_c);
    uVar4 = local_c.dwHighDateTime ^ local_c.dwLowDateTime;
    DVar1 = GetCurrentProcessId();
    DVar2 = GetCurrentThreadId();
    DVar3 = GetTickCount();
    QueryPerformanceCounter(&local_14);
    PTR_DAT_0047a940 =
         (undefined *)(uVar4 ^ DVar1 ^ DVar2 ^ DVar3 ^ local_14.s.HighPart ^ local_14.s.LowPart);
    if (PTR_DAT_0047a940 == &DAT_bb40e64e) {
      PTR_DAT_0047a940 = (undefined1 *)0xbb40e64f;
    }
    else if (((uint)PTR_DAT_0047a940 & 0xffff0000) == 0) {
      PTR_DAT_0047a940 =
           (undefined *)((uint)PTR_DAT_0047a940 | ((uint)PTR_DAT_0047a940 | 0x4711) << 0x10);
    }
    DAT_0047a944 = ~(uint)PTR_DAT_0047a940;
  }
  else {
    DAT_0047a944 = ~(uint)PTR_DAT_0047a940;
  }
  return;
}



void __cdecl _crt_debugger_hook(int param_1)

{
                    // WARNING: Could not recover jumptable at 0x0045e244. Too many branches
                    // WARNING: Treating indirect jump as call
  _crt_debugger_hook(param_1);
  return;
}



void __cdecl terminate(void)

{
                    // WARNING: Could not recover jumptable at 0x0045e24a. Too many branches
                    // WARNING: Subroutine does not return
                    // WARNING: Treating indirect jump as call
  terminate();
  return;
}



void __cdecl _unlock(int _File)

{
                    // WARNING: Could not recover jumptable at 0x0045e250. Too many branches
                    // WARNING: Treating indirect jump as call
  _unlock(_File);
  return;
}



void __dllonexit(void)

{
                    // WARNING: Could not recover jumptable at 0x0045e256. Too many branches
                    // WARNING: Treating indirect jump as call
  __dllonexit();
  return;
}



void __cdecl _lock(int _File)

{
                    // WARNING: Could not recover jumptable at 0x0045e25c. Too many branches
                    // WARNING: Treating indirect jump as call
  _lock(_File);
  return;
}



void __cdecl except_handler4_common(void)

{
                    // WARNING: Could not recover jumptable at 0x0045e262. Too many branches
                    // WARNING: Treating indirect jump as call
  except_handler4_common();
  return;
}



void __cdecl
_invoke_watson(wchar_t *param_1,wchar_t *param_2,wchar_t *param_3,uint param_4,uintptr_t param_5)

{
                    // WARNING: Could not recover jumptable at 0x0045e268. Too many branches
                    // WARNING: Subroutine does not return
                    // WARNING: Treating indirect jump as call
  _invoke_watson(param_1,param_2,param_3,param_4,param_5);
  return;
}



errno_t __cdecl _controlfp_s(uint *_CurrentState,uint _NewValue,uint _Mask)

{
  errno_t eVar1;
  
                    // WARNING: Could not recover jumptable at 0x0045e26e. Too many branches
                    // WARNING: Treating indirect jump as call
  eVar1 = _controlfp_s(_CurrentState,_NewValue,_Mask);
  return eVar1;
}



void __cdecl setjmp3(void)

{
                    // WARNING: Could not recover jumptable at 0x0045e274. Too many branches
                    // WARNING: Treating indirect jump as call
  setjmp3();
  return;
}


